import{n as jt,o as yt,s as Me,q as ye,_ as se,t as Qe,v as bt,w as vt,r as _,x as Ct,y as wt,j as e,z as _t,A as St,c as kt,D as Bt,E as Mt,G as Dt,H as Tt,J as $t,P as te,K as Et,M as Pt,N as Ft,T as w,B as L,O as Rt,i as D,Q as Y,U as ke,a as O,V as G,L as Oe,W as nt,d as q,l as n,k,X as Nt,h as z,Y as T,I as It,Z as rt,$ as Ve,a0 as qt,a1 as Q,a2 as V,a3 as Re,a4 as at,a5 as F,a6 as U,a7 as ee,R as At,p as zt,a8 as R,a9 as N,aa as P,C as Ne,ab as $e,ac as Ee,ad as Pe,ae as ce,F as Fe,af as it,ag as st,S as Wt,ah as Je,ai as Xe,aj as Ke}from"./index-b9aeea20.js";import{u as Lt}from"./use-page-view-647fbbff.js";import{E as De,P as Ce,M as we}from"./ModalDelete-e666945f.js";import{C as K,b as ae,c as he,a as $,u as me,d as de,e as be,f as ot}from"./formik.esm-799b94e8.js";import{C as Be}from"./CardHeader-84f4722f.js";import{T as ge,a as fe,b as H,c as b,d as je,u as oe,e as Ie,f as Ue,S as Z,h as ue,B as ne,E as qe,A as Ot,g as ie,G as A,i as lt}from"./moment-8bb476e3.js";import{S as Vt}from"./SwitchBase-3bfb2aa6.js";import{T as Ae,C as le}from"./TableRowsLoader-c4300d5c.js";import{A as Ye}from"./AlertError-9fdceddd.js";import{D as ze}from"./DeleteOutlineOutlined-7644538f.js";import{C as Ze}from"./Container-7ef0f39f.js";import{M as pe}from"./ModalConfirm-37aae7aa.js";import{D as xe}from"./DatePicker-05f47eec.js";import{D as ct}from"./Delete-49f664fd.js";import{C as dt}from"./Check-7a91f535.js";import{T as Ut,a as Yt}from"./Tabs-029752cf.js";function Zt(s){return yt("MuiSwitch",s)}const Gt=jt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),X=Gt,Ht=["className","color","edge","size","sx"],Qt=s=>{const{classes:t,edge:h,size:a,color:g,checked:p,disabled:y}=s,c={root:["root",h&&`edge${ye(h)}`,`size${ye(a)}`],switchBase:["switchBase",`color${ye(g)}`,p&&"checked",y&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=St(c,Zt,t);return se({},t,l)},Jt=Me("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:h}=s;return[t.root,h.edge&&t[`edge${ye(h.edge)}`],t[`size${ye(h.size)}`]]}})(({ownerState:s})=>se({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},s.edge==="start"&&{marginLeft:-8},s.edge==="end"&&{marginRight:-8},s.size==="small"&&{width:40,height:24,padding:7,[`& .${X.thumb}`]:{width:16,height:16},[`& .${X.switchBase}`]:{padding:4,[`&.${X.checked}`]:{transform:"translateX(16px)"}}})),Xt=Me(Vt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(s,t)=>{const{ownerState:h}=s;return[t.switchBase,{[`& .${X.input}`]:t.input},h.color!=="default"&&t[`color${ye(h.color)}`]]}})(({theme:s})=>({position:"absolute",top:0,left:0,zIndex:1,color:s.vars?s.vars.palette.Switch.defaultColor:`${s.palette.mode==="light"?s.palette.common.white:s.palette.grey[300]}`,transition:s.transitions.create(["left","transform"],{duration:s.transitions.duration.shortest}),[`&.${X.checked}`]:{transform:"translateX(20px)"},[`&.${X.disabled}`]:{color:s.vars?s.vars.palette.Switch.defaultDisabledColor:`${s.palette.mode==="light"?s.palette.grey[100]:s.palette.grey[600]}`},[`&.${X.checked} + .${X.track}`]:{opacity:.5},[`&.${X.disabled} + .${X.track}`]:{opacity:s.vars?s.vars.opacity.switchTrackDisabled:`${s.palette.mode==="light"?.12:.2}`},[`& .${X.input}`]:{left:"-100%",width:"300%"}}),({theme:s,ownerState:t})=>se({"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette.action.activeChannel} / ${s.vars.palette.action.hoverOpacity})`:Qe(s.palette.action.active,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${X.checked}`]:{color:(s.vars||s).palette[t.color].main,"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette[t.color].mainChannel} / ${s.vars.palette.action.hoverOpacity})`:Qe(s.palette[t.color].main,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${X.disabled}`]:{color:s.vars?s.vars.palette.Switch[`${t.color}DisabledColor`]:`${s.palette.mode==="light"?bt(s.palette[t.color].main,.62):vt(s.palette[t.color].main,.55)}`}},[`&.${X.checked} + .${X.track}`]:{backgroundColor:(s.vars||s).palette[t.color].main}})),Kt=Me("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(s,t)=>t.track})(({theme:s})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:s.transitions.create(["opacity","background-color"],{duration:s.transitions.duration.shortest}),backgroundColor:s.vars?s.vars.palette.common.onBackground:`${s.palette.mode==="light"?s.palette.common.black:s.palette.common.white}`,opacity:s.vars?s.vars.opacity.switchTrack:`${s.palette.mode==="light"?.38:.3}`})),en=Me("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(s,t)=>t.thumb})(({theme:s})=>({boxShadow:(s.vars||s).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),tn=_.forwardRef(function(t,h){const a=Ct({props:t,name:"MuiSwitch"}),{className:g,color:p="primary",edge:y=!1,size:c="medium",sx:l}=a,r=wt(a,Ht),i=se({},a,{color:p,edge:y,size:c}),u=Qt(i),d=e.jsx(en,{className:u.thumb,ownerState:i});return e.jsxs(Jt,{className:_t(u.root,g),sx:l,ownerState:i,children:[e.jsx(Xt,se({type:"checkbox",icon:d,checkedIcon:d,ref:h,ownerState:i},r,{classes:se({},u,{root:u.switchBase})})),e.jsx(Kt,{className:u.track,ownerState:i})]})}),ve=tn,ut=kt(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");function Le(s,t){Bt(2,arguments);var h=Dt(t);return Mt(s,-h)}var ht={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(s){(function(t,h){s.exports?s.exports=h():t.numeral=h()})(Tt,function(){var t,h,a="2.0.6",g={},p={},y={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:y.currentLocale,zeroFormat:y.zeroFormat,nullFormat:y.nullFormat,defaultFormat:y.defaultFormat,scalePercentBy100:y.scalePercentBy100};function l(r,i){this._input=r,this._value=i}return t=function(r){var i,u,d,o;if(t.isNumeral(r))i=r.value();else if(r===0||typeof r>"u")i=0;else if(r===null||h.isNaN(r))i=null;else if(typeof r=="string")if(c.zeroFormat&&r===c.zeroFormat)i=0;else if(c.nullFormat&&r===c.nullFormat||!r.replace(/[^0-9]+/g,"").length)i=null;else{for(u in g)if(o=typeof g[u].regexps.unformat=="function"?g[u].regexps.unformat():g[u].regexps.unformat,o&&r.match(o)){d=g[u].unformat;break}d=d||t._.stringToNumber,i=d(r)}else i=Number(r)||null;return new l(r,i)},t.version=a,t.isNumeral=function(r){return r instanceof l},t._=h={numberToFormat:function(r,i,u){var d=p[t.options.currentLocale],o=!1,m=!1,x=0,v="",M=1e12,B=1e9,I=1e6,W=1e3,f="",C=!1,j,S,E,J,We,Ge,re;if(r=r||0,S=Math.abs(r),t._.includes(i,"(")?(o=!0,i=i.replace(/[\(|\)]/g,"")):(t._.includes(i,"+")||t._.includes(i,"-"))&&(We=t._.includes(i,"+")?i.indexOf("+"):r<0?i.indexOf("-"):-1,i=i.replace(/[\+|\-]/g,"")),t._.includes(i,"a")&&(j=i.match(/a(k|m|b|t)?/),j=j?j[1]:!1,t._.includes(i," a")&&(v=" "),i=i.replace(new RegExp(v+"a[kmbt]?"),""),S>=M&&!j||j==="t"?(v+=d.abbreviations.trillion,r=r/M):S<M&&S>=B&&!j||j==="b"?(v+=d.abbreviations.billion,r=r/B):S<B&&S>=I&&!j||j==="m"?(v+=d.abbreviations.million,r=r/I):(S<I&&S>=W&&!j||j==="k")&&(v+=d.abbreviations.thousand,r=r/W)),t._.includes(i,"[.]")&&(m=!0,i=i.replace("[.]",".")),E=r.toString().split(".")[0],J=i.split(".")[1],Ge=i.indexOf(","),x=(i.split(".")[0].split(",")[0].match(/0/g)||[]).length,J?(t._.includes(J,"[")?(J=J.replace("]",""),J=J.split("["),f=t._.toFixed(r,J[0].length+J[1].length,u,J[1].length)):f=t._.toFixed(r,J.length,u),E=f.split(".")[0],t._.includes(f,".")?f=d.delimiters.decimal+f.split(".")[1]:f="",m&&Number(f.slice(1))===0&&(f="")):E=t._.toFixed(r,0,u),v&&!j&&Number(E)>=1e3&&v!==d.abbreviations.trillion)switch(E=String(Number(E)/1e3),v){case d.abbreviations.thousand:v=d.abbreviations.million;break;case d.abbreviations.million:v=d.abbreviations.billion;break;case d.abbreviations.billion:v=d.abbreviations.trillion;break}if(t._.includes(E,"-")&&(E=E.slice(1),C=!0),E.length<x)for(var He=x-E.length;He>0;He--)E="0"+E;return Ge>-1&&(E=E.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d.delimiters.thousands)),i.indexOf(".")===0&&(E=""),re=E+f+(v||""),o?re=(o&&C?"(":"")+re+(o&&C?")":""):We>=0?re=We===0?(C?"-":"+")+re:re+(C?"-":"+"):C&&(re="-"+re),re},stringToNumber:function(r){var i=p[c.currentLocale],u=r,d={thousand:3,million:6,billion:9,trillion:12},o,m,x;if(c.zeroFormat&&r===c.zeroFormat)m=0;else if(c.nullFormat&&r===c.nullFormat||!r.replace(/[^0-9]+/g,"").length)m=null;else{m=1,i.delimiters.decimal!=="."&&(r=r.replace(/\./g,"").replace(i.delimiters.decimal,"."));for(o in d)if(x=new RegExp("[^a-zA-Z]"+i.abbreviations[o]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),u.match(x)){m*=Math.pow(10,d[o]);break}m*=(r.split("-").length+Math.min(r.split("(").length-1,r.split(")").length-1))%2?1:-1,r=r.replace(/[^0-9\.]+/g,""),m*=Number(r)}return m},isNaN:function(r){return typeof r=="number"&&isNaN(r)},includes:function(r,i){return r.indexOf(i)!==-1},insert:function(r,i,u){return r.slice(0,u)+i+r.slice(u)},reduce:function(r,i){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof i!="function")throw new TypeError(i+" is not a function");var u=Object(r),d=u.length>>>0,o=0,m;if(arguments.length===3)m=arguments[2];else{for(;o<d&&!(o in u);)o++;if(o>=d)throw new TypeError("Reduce of empty array with no initial value");m=u[o++]}for(;o<d;o++)o in u&&(m=i(m,u[o],o,u));return m},multiplier:function(r){var i=r.toString().split(".");return i.length<2?1:Math.pow(10,i[1].length)},correctionFactor:function(){var r=Array.prototype.slice.call(arguments);return r.reduce(function(i,u){var d=h.multiplier(u);return i>d?i:d},1)},toFixed:function(r,i,u,d){var o=r.toString().split("."),m=i-(d||0),x,v,M,B;return o.length===2?x=Math.min(Math.max(o[1].length,m),i):x=m,M=Math.pow(10,x),B=(u(r+"e+"+x)/M).toFixed(x),d>i-x&&(v=new RegExp("\\.?0{1,"+(d-(i-x))+"}$"),B=B.replace(v,"")),B}},t.options=c,t.formats=g,t.locales=p,t.locale=function(r){return r&&(c.currentLocale=r.toLowerCase()),c.currentLocale},t.localeData=function(r){if(!r)return p[c.currentLocale];if(r=r.toLowerCase(),!p[r])throw new Error("Unknown locale : "+r);return p[r]},t.reset=function(){for(var r in y)c[r]=y[r]},t.zeroFormat=function(r){c.zeroFormat=typeof r=="string"?r:null},t.nullFormat=function(r){c.nullFormat=typeof r=="string"?r:null},t.defaultFormat=function(r){c.defaultFormat=typeof r=="string"?r:"0.0"},t.register=function(r,i,u){if(i=i.toLowerCase(),this[r+"s"][i])throw new TypeError(i+" "+r+" already registered.");return this[r+"s"][i]=u,u},t.validate=function(r,i){var u,d,o,m,x,v,M,B;if(typeof r!="string"&&(r+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",r)),r=r.trim(),r.match(/^\d+$/))return!0;if(r==="")return!1;try{M=t.localeData(i)}catch{M=t.localeData(t.locale())}return o=M.currency.symbol,x=M.abbreviations,u=M.delimiters.decimal,M.delimiters.thousands==="."?d="\\.":d=M.delimiters.thousands,B=r.match(/^[^\d]+/),B!==null&&(r=r.substr(1),B[0]!==o)||(B=r.match(/[^\d]+$/),B!==null&&(r=r.slice(0,-1),B[0]!==x.thousand&&B[0]!==x.million&&B[0]!==x.billion&&B[0]!==x.trillion))?!1:(v=new RegExp(d+"{2}"),r.match(/[^\d.,]/g)?!1:(m=r.split(u),m.length>2?!1:m.length<2?!!m[0].match(/^\d+.*\d$/)&&!m[0].match(v):m[0].length===1?!!m[0].match(/^\d+$/)&&!m[0].match(v)&&!!m[1].match(/^\d+$/):!!m[0].match(/^\d+.*\d$/)&&!m[0].match(v)&&!!m[1].match(/^\d+$/)))},t.fn=l.prototype={clone:function(){return t(this)},format:function(r,i){var u=this._value,d=r||c.defaultFormat,o,m,x;if(i=i||Math.round,u===0&&c.zeroFormat!==null)m=c.zeroFormat;else if(u===null&&c.nullFormat!==null)m=c.nullFormat;else{for(o in g)if(d.match(g[o].regexps.format)){x=g[o].format;break}x=x||t._.numberToFormat,m=x(u,d,i)}return m},value:function(){return this._value},input:function(){return this._input},set:function(r){return this._value=Number(r),this},add:function(r){var i=h.correctionFactor.call(null,this._value,r);function u(d,o,m,x){return d+Math.round(i*o)}return this._value=h.reduce([this._value,r],u,0)/i,this},subtract:function(r){var i=h.correctionFactor.call(null,this._value,r);function u(d,o,m,x){return d-Math.round(i*o)}return this._value=h.reduce([r],u,Math.round(this._value*i))/i,this},multiply:function(r){function i(u,d,o,m){var x=h.correctionFactor(u,d);return Math.round(u*x)*Math.round(d*x)/Math.round(x*x)}return this._value=h.reduce([this._value,r],i,1),this},divide:function(r){function i(u,d,o,m){var x=h.correctionFactor(u,d);return Math.round(u*x)/Math.round(d*x)}return this._value=h.reduce([this._value,r],i),this},difference:function(r){return Math.abs(t(this._value).subtract(r).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(r){var i=r%10;return~~(r%100/10)===1?"th":i===1?"st":i===2?"nd":i===3?"rd":"th"},currency:{symbol:"$"}}),function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(r,i,u){var d=t._.includes(i," BPS")?" ":"",o;return r=r*1e4,i=i.replace(/\s?BPS/,""),o=t._.numberToFormat(r,i,u),t._.includes(o,")")?(o=o.split(""),o.splice(-1,0,d+"BPS"),o=o.join("")):o=o+d+"BPS",o},unformat:function(r){return+(t._.stringToNumber(r)*1e-4).toFixed(15)}})}(),function(){var r={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},i={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},u=r.suffixes.concat(i.suffixes.filter(function(o){return r.suffixes.indexOf(o)<0})),d=u.join("|");d="("+d.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(d)},format:function(o,m,x){var v,M=t._.includes(m,"ib")?i:r,B=t._.includes(m," b")||t._.includes(m," ib")?" ":"",I,W,f;for(m=m.replace(/\s?i?b/,""),I=0;I<=M.suffixes.length;I++)if(W=Math.pow(M.base,I),f=Math.pow(M.base,I+1),o===null||o===0||o>=W&&o<f){B+=M.suffixes[I],W>0&&(o=o/W);break}return v=t._.numberToFormat(o,m,x),v+B},unformat:function(o){var m=t._.stringToNumber(o),x,v;if(m){for(x=r.suffixes.length-1;x>=0;x--){if(t._.includes(o,r.suffixes[x])){v=Math.pow(r.base,x);break}if(t._.includes(o,i.suffixes[x])){v=Math.pow(i.base,x);break}}m*=v||1}return m}})}(),function(){t.register("format","currency",{regexps:{format:/(\$)/},format:function(r,i,u){var d=t.locales[t.options.currentLocale],o={before:i.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:i.match(/([\+|\-|\)|\s|\$]*)$/)[0]},m,x,v;for(i=i.replace(/\s?\$\s?/,""),m=t._.numberToFormat(r,i,u),r>=0?(o.before=o.before.replace(/[\-\(]/,""),o.after=o.after.replace(/[\-\)]/,"")):r<0&&!t._.includes(o.before,"-")&&!t._.includes(o.before,"(")&&(o.before="-"+o.before),v=0;v<o.before.length;v++)switch(x=o.before[v],x){case"$":m=t._.insert(m,d.currency.symbol,v);break;case" ":m=t._.insert(m," ",v+d.currency.symbol.length-1);break}for(v=o.after.length-1;v>=0;v--)switch(x=o.after[v],x){case"$":m=v===o.after.length-1?m+d.currency.symbol:t._.insert(m,d.currency.symbol,-(o.after.length-(1+v)));break;case" ":m=v===o.after.length-1?m+" ":t._.insert(m," ",-(o.after.length-(1+v)+d.currency.symbol.length-1));break}return m}})}(),function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(r,i,u){var d,o=typeof r=="number"&&!t._.isNaN(r)?r.toExponential():"0e+0",m=o.split("e");return i=i.replace(/e[\+|\-]{1}0/,""),d=t._.numberToFormat(Number(m[0]),i,u),d+"e"+m[1]},unformat:function(r){var i=t._.includes(r,"e+")?r.split("e+"):r.split("e-"),u=Number(i[0]),d=Number(i[1]);d=t._.includes(r,"e-")?d*=-1:d;function o(m,x,v,M){var B=t._.correctionFactor(m,x),I=m*B*(x*B)/(B*B);return I}return t._.reduce([u,Math.pow(10,d)],o,1)}})}(),function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:function(r,i,u){var d=t.locales[t.options.currentLocale],o,m=t._.includes(i," o")?" ":"";return i=i.replace(/\s?o/,""),m+=d.ordinal(r),o=t._.numberToFormat(r,i,u),o+m}})}(),function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(r,i,u){var d=t._.includes(i," %")?" ":"",o;return t.options.scalePercentBy100&&(r=r*100),i=i.replace(/\s?\%/,""),o=t._.numberToFormat(r,i,u),t._.includes(o,")")?(o=o.split(""),o.splice(-1,0,d+"%"),o=o.join("")):o=o+d+"%",o},unformat:function(r){var i=t._.stringToNumber(r);return t.options.scalePercentBy100?i*.01:i}})}(),function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(r,i,u){var d=Math.floor(r/60/60),o=Math.floor((r-d*60*60)/60),m=Math.round(r-d*60*60-o*60);return d+":"+(o<10?"0"+o:o)+":"+(m<10?"0"+m:m)},unformat:function(r){var i=r.split(":"),u=0;return i.length===3?(u=u+Number(i[0])*60*60,u=u+Number(i[1])*60,u=u+Number(i[2])):i.length===2&&(u=u+Number(i[0])*60,u=u+Number(i[1])),Number(u)}})}(),t})})(ht);var nn=ht.exports;const et=$t(nn),mt=s=>{const{children:t}=s;return e.jsx(Et,{disablePadding:!0,children:t})};mt.propTypes={children:te.node};const Se=s=>{const{align:t="vertical",children:h,disableGutters:a,value:g,label:p,...y}=s;return e.jsx(Pt,{sx:{px:a?0:3,py:1.5},...y,children:e.jsx(Ft,{disableTypography:!0,primary:e.jsx(w,{sx:{minWidth:t==="vertical"?"inherit":180},variant:"subtitle2",children:p}),secondary:e.jsx(L,{sx:{flex:1,mt:t==="vertical"?.5:0},children:h||e.jsx(w,{color:"text.secondary",variant:"body2",children:g})}),sx:{display:"flex",flexDirection:t==="vertical"?"column":"row",my:0}})})};Se.propTypes={align:te.oneOf(["horizontal","vertical"]),children:te.node,disableGutters:te.bool,label:te.string.isRequired,value:te.string};const Te=s=>{const{name:t}=s,a=Rt().palette.primary.main;switch(t){case"startup":return e.jsx("svg",{fill:"none",height:"33",viewBox:"0 0 24 33",width:"24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M13.7898 0.492981L23.0191 5.55771C23.2324 5.67468 23.4097 5.84498 23.5332 6.05102C23.6567 6.25713 23.7218 6.49154 23.7218 6.73031C23.7218 6.96907 23.6567 7.20348 23.5332 7.4096C23.4097 7.61564 23.2324 7.78594 23.0191 7.9029L13.7899 12.9679C13.2008 13.2911 12.5366 13.4609 11.861 13.4609C11.1852 13.4609 10.521 13.2911 9.93202 12.9679L0.702682 7.9029C0.489532 7.78594 0.312084 7.61564 0.188587 7.4096C0.0650921 7.20348 -9.53674e-06 6.96907 -9.53674e-06 6.73031C-9.53674e-06 6.49154 0.0650921 6.25713 0.188587 6.05102C0.312084 5.84498 0.489532 5.67468 0.702682 5.55771L9.93202 0.492981C10.521 0.169739 11.1852 -5.72205e-06 11.861 -5.72205e-06C12.5366 -5.72205e-06 13.2008 0.169739 13.7898 0.492981Z",fill:a})});case"standard":return e.jsxs("svg",{fill:"none",height:"33",viewBox:"0 0 33 33",width:"33",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M18.4946 0.492981L27.7239 5.55771C27.9372 5.67468 28.1145 5.84498 28.238 6.05102C28.3615 6.25713 28.4266 6.49154 28.4266 6.73031C28.4266 6.96907 28.3615 7.20348 28.238 7.4096C28.1145 7.61564 27.9372 7.78594 27.7239 7.9029L18.4947 12.9679C17.9056 13.2911 17.2414 13.4609 16.5658 13.4609C15.89 13.4609 15.2258 13.2911 14.6368 12.9679L5.40749 7.9029C5.19434 7.78594 5.01689 7.61564 4.89339 7.4096C4.7699 7.20348 4.70479 6.96907 4.70479 6.73031C4.70479 6.49154 4.7699 6.25713 4.89339 6.05102C5.01689 5.84498 5.19434 5.67468 5.40749 5.55771L14.6368 0.492981C15.2258 0.169739 15.89 -5.72205e-06 16.5658 -5.72205e-06C17.2414 -5.72205e-06 17.9056 0.169739 18.4946 0.492981Z",fill:a}),e.jsx("path",{d:"M18.4448 5.2478L31.6626 12.5013C31.8758 12.6183 32.0532 12.7886 32.1767 12.9946C32.3002 13.2007 32.3653 13.4351 32.3653 13.6739C32.3653 13.9127 32.3002 14.1471 32.1767 14.3532C32.0532 14.5593 31.8758 14.7295 31.6626 14.8466L18.4448 22.1C17.8558 22.4231 17.1916 22.593 16.516 22.593C15.8403 22.593 15.1761 22.4231 14.5871 22.1L1.3693 14.8466C1.15615 14.7295 0.978699 14.5593 0.855202 14.3532C0.731705 14.1471 0.666607 13.9127 0.666607 13.6739C0.666607 13.4351 0.731705 13.2007 0.855202 12.9946C0.978699 12.7886 1.15615 12.6183 1.3693 12.5013L14.5871 5.2478C15.1761 4.92464 15.8403 4.75489 16.516 4.75489C17.1916 4.75489 17.8558 4.92464 18.4448 5.2478Z",fill:a,opacity:"0.7"})]});case"business":return e.jsxs("svg",{fill:"none",height:"33",viewBox:"0 0 43 33",width:"43",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M23.0075 0.49292L32.2369 5.55765C32.4501 5.67462 32.6275 5.84492 32.751 6.05096C32.8745 6.25707 32.9396 6.49148 32.9396 6.73025C32.9396 6.96901 32.8745 7.20342 32.751 7.40954C32.6275 7.61558 32.4501 7.78587 32.2369 7.90284L23.0076 12.9678C22.4186 13.2911 21.7543 13.4609 21.0787 13.4609C20.403 13.4609 19.7387 13.2911 19.1498 12.9678L9.92043 7.90284C9.70728 7.78587 9.52983 7.61558 9.40633 7.40954C9.28284 7.20342 9.21773 6.96901 9.21773 6.73025C9.21773 6.49148 9.28284 6.25707 9.40633 6.05096C9.52983 5.84492 9.70728 5.67462 9.92043 5.55765L19.1498 0.49292C19.7387 0.169678 20.403 -6.67572e-05 21.0787 -6.67572e-05C21.7543 -6.67572e-05 22.4186 0.169678 23.0075 0.49292Z",fill:a}),e.jsx("path",{d:"M22.9577 5.24774L36.1755 12.5012C36.3886 12.6182 36.5661 12.7885 36.6896 12.9945C36.8131 13.2007 36.8782 13.4351 36.8782 13.6738C36.8782 13.9126 36.8131 14.1471 36.6896 14.3531C36.5661 14.5592 36.3886 14.7295 36.1755 14.8465L22.9577 22.0999C22.3687 22.4231 21.7045 22.5929 21.0288 22.5929C20.3532 22.5929 19.6889 22.4231 19.1 22.0999L5.88218 14.8465C5.66903 14.7295 5.49158 14.5592 5.36808 14.3531C5.24458 14.1471 5.17949 13.9126 5.17949 13.6738C5.17949 13.4351 5.24458 13.2007 5.36808 12.9945C5.49158 12.7885 5.66903 12.6182 5.88218 12.5012L19.1 5.24774C19.6889 4.92458 20.3532 4.75483 21.0288 4.75483C21.7045 4.75483 22.3687 4.92458 22.9577 5.24774Z",fill:a,opacity:"0.7"}),e.jsx("path",{d:"M23.259 10.0018L41.6317 20.0843C41.8445 20.2012 42.0217 20.3711 42.145 20.5769C42.2683 20.7826 42.3333 21.0167 42.3333 21.2551C42.3333 21.4935 42.2683 21.7275 42.145 21.9333C42.0217 22.139 41.8445 22.309 41.6317 22.4258L23.2589 32.5081C22.6709 32.8307 22.0078 33.0002 21.3332 33.0002C20.6587 33.0002 19.9955 32.8307 19.4075 32.5081L1.03479 22.4258C0.821995 22.309 0.644833 22.139 0.521538 21.9333C0.398247 21.7275 0.333252 21.4935 0.333252 21.2551C0.333252 21.0167 0.398247 20.7826 0.521538 20.5769C0.644833 20.3711 0.821995 20.2012 1.03479 20.0843L19.4075 10.0018C19.9955 9.67921 20.6587 9.50966 21.3332 9.50966C22.0078 9.50966 22.6709 9.67921 23.259 10.0018Z",fill:a,opacity:"0.4"})]});default:return null}};Te.propTypes={name:te.oneOf(["startup","standard","business"]).isRequired};const rn=[{id:"startup",icon:e.jsx(Te,{name:"startup"}),name:"Startup",price:0},{id:"standard",icon:e.jsx(Te,{name:"standard"}),name:"Standard",price:4.99},{id:"business",icon:e.jsx(Te,{name:"business"}),name:"Business",price:29.99}],pt=s=>{const{plan:t="standard",invoices:h=[]}=s,[a,g]=_.useState(t);return e.jsxs(D,{spacing:4,...s,children:[e.jsxs(K,{children:[e.jsx(Be,{title:"Change Plan",subheader:"You can upgrade and downgrade whenever you want"}),e.jsxs(ae,{sx:{pt:0},children:[e.jsx("div",{children:e.jsx(Y,{container:!0,spacing:3,children:rn.map(p=>{const y=p.id===a,c=p.id===t,l=et(p.price).format("$0,0.00");return e.jsx(Y,{xs:12,sm:4,children:e.jsx(K,{onClick:()=>g(p.id),sx:{cursor:"pointer",...y&&{borderColor:"primary.main",borderWidth:2,m:"-1px"}},variant:"outlined",children:e.jsxs(ae,{children:[e.jsx(L,{sx:{height:52,width:52,"& img":{height:"auto",width:"100%"}},children:p.icon}),e.jsxs(L,{sx:{display:"flex",mb:1,mt:1},children:[e.jsx(w,{variant:"h5",children:l}),e.jsx(w,{color:"text.secondary",sx:{mt:"auto",ml:"4px"},variant:"body2",children:"/mo"})]}),e.jsxs(D,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsx(w,{variant:"overline",children:p.name}),c&&e.jsx(w,{color:"primary.main",variant:"caption",children:"Using now"})]})]})})},p.id)})})}),e.jsx(ke,{sx:{my:3}}),e.jsxs(L,{sx:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[e.jsx(w,{variant:"h6",children:"Billing details"}),e.jsx(O,{color:"inherit",startIcon:e.jsx(G,{children:e.jsx(De,{})}),children:"Edit"})]}),e.jsx(L,{sx:{border:1,borderColor:"divider",borderRadius:1,mt:3},children:e.jsxs(mt,{children:[e.jsx(Se,{align:"horizontal",divider:!0,label:"Billing name",value:"John Doe"}),e.jsx(Se,{align:"horizontal",divider:!0,label:"Card number",value:"**** 1111"}),e.jsx(Se,{align:"horizontal",divider:!0,label:"Country",value:"Germany"}),e.jsx(Se,{align:"horizontal",label:"Zip / Postal code",value:"667123"})]})}),e.jsxs(w,{color:"text.secondary",variant:"body2",sx:{mt:3},children:["We cannot refund once you purchased a subscription, but you can always",e.jsx(Oe,{href:"#",sx:{ml:"4px"},underline:"none",variant:"body2",children:"Cancel"})]}),e.jsx(L,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(O,{variant:"contained",children:"Upgrade Plan"})})]})]}),e.jsxs(K,{children:[e.jsx(Be,{title:"Invoice history",subheader:"You can view and download all your previous invoices here. If you’ve just made a payment, it may take a few hours for it to appear in the table below."}),e.jsxs(ge,{children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(b,{children:"Date"}),e.jsx(b,{children:"Total (incl. tax)"}),e.jsx(b,{})]})}),e.jsx(je,{children:h.map(p=>{const y=nt(p.createdAt,"dd MMM yyyy"),c=et(p.amount).format("$0,0.00");return e.jsxs(H,{children:[e.jsx(b,{children:y}),e.jsx(b,{children:c}),e.jsx(b,{align:"right",children:e.jsx(Oe,{color:"inherit",underline:"always",href:"#",children:"View Invoice"})})]},p.id)})})]})]})]})};pt.propTypes={plan:te.string,invoices:te.array};const an=async()=>{try{const{data:s}=await z.get("/class/list/active/");return s.map(t=>({...t,value:t.custom_name}))}catch(s){throw new Error(s)}},sn=()=>{const{t:s,i18n:t}=q(),h=oe("eggTypes",an),[a,g]=_.useState({}),p=(c,l)=>{c.target.value!==""&&z.put("/customclass/update/",{id:l,custom_name:c.target.value}).then(r=>{T.success(s(n.global.toastEggSuccess))})},y=(c,l)=>{z.put("/customclass/activation/",{id:l})};return e.jsx(D,{spacing:4,children:e.jsxs(K,{children:[e.jsx(Be,{title:s(n.global.eggTypeUpdateTitle)}),e.jsxs(ae,{children:[e.jsx(w,{variant:"h6"}),e.jsx(Y,{container:!0,spacing:3,children:h.isLoading?e.jsx(Nt,{}):h==null?void 0:h.data.map(c=>e.jsx(Y,{item:!0,spacing:2,xs:4,children:e.jsxs(D,{spacing:1,children:[e.jsx(w,{variant:"subtitle1",children:c.egg_class_name}),e.jsxs(D,{direction:"row",children:[e.jsx(w,{color:"text.secondary",variant:"body2",children:e.jsx(k,{label:c.value,value:a[c.id],onChange:l=>g(r=>({...r,[c.id]:l.target.value})),onBlur:l=>p(l,c.id),size:"small"})}),e.jsx(ve,{defaultChecked:c.is_active,onChange:l=>y(l,c.id)})]})]})}))})]})]})})},on=()=>e.jsx(K,{children:e.jsxs(ae,{children:[e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsx(w,{variant:"h6",children:"Email"})}),e.jsx(Y,{xs:12,sm:12,md:8,children:e.jsxs(D,{divider:e.jsx(ke,{}),spacing:3,children:[e.jsxs(D,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(D,{spacing:1,children:[e.jsx(w,{variant:"subtitle1",children:"Product updates"}),e.jsx(w,{color:"text.secondary",variant:"body2",children:"News, announcements, and product updates."})]}),e.jsx(ve,{defaultChecked:!0})]}),e.jsxs(D,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(D,{spacing:1,children:[e.jsx(w,{variant:"subtitle1",children:"Security updates"}),e.jsx(w,{variant:"body2",color:"text.secondary",children:"Important notifications about your account security."})]}),e.jsx(ve,{defaultChecked:!0})]})]})})]}),e.jsx(ke,{sx:{my:3}}),e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsx(w,{variant:"h6",children:"Phone notifications"})}),e.jsx(Y,{xs:12,sm:12,md:8,children:e.jsx(D,{divider:e.jsx(ke,{}),spacing:3,children:e.jsxs(D,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(D,{spacing:1,children:[e.jsx(w,{variant:"subtitle1",children:"Security updates"}),e.jsx(w,{color:"text.secondary",variant:"body2",children:"Important notifications about your account security."})]}),e.jsx(ve,{})]})})})]})]})});var ln=function(t){return e.jsxs("svg",se({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"})]}))},cn=function(t){return e.jsxs("svg",se({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M3 8.32c0-1.5121 0-2.2682.2943-2.8458a2.7 2.7 0 0 1 1.18-1.18C5.0517 4 5.8078 4 7.32 4h9.36c1.5121 0 2.2682 0 2.8458.2943.508.2588.9211.6719 1.1799 1.18C21 6.0517 21 6.8078 21 8.32v5.76c0 1.5121 0 2.2682-.2943 2.8458a2.6996 2.6996 0 0 1-1.1799 1.1799c-.5776.2943-1.3337.2943-2.8458.2943H7.32c-1.5121 0-2.2682 0-2.8458-.2943a2.6998 2.6998 0 0 1-1.18-1.1799C3 16.3482 3 15.5921 3 14.08V8.32Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m3 6.7 7.3484 5.1439c.5951.4165.8926.6248 1.2162.7055.2859.0712.5849.0712.8708 0 .3236-.0807.6211-.289 1.2162-.7055L21 6.7M7.32 18.4h9.36c1.5121 0 2.2682 0 2.8458-.2943a2.6996 2.6996 0 0 0 1.1799-1.1799C21 16.3482 21 15.5921 21 14.08V8.32c0-1.5121 0-2.2682-.2943-2.8458a2.6998 2.6998 0 0 0-1.1799-1.18C18.9482 4 18.1921 4 16.68 4H7.32c-1.5121 0-2.2682 0-2.8458.2943a2.7 2.7 0 0 0-1.18 1.18C3 6.0517 3 6.8078 3 8.32v5.76c0 1.5121 0 2.2682.2943 2.8458.2588.508.6719.9211 1.18 1.1799.5775.2943 1.3336.2943 2.8457.2943Z"})]}))};const dn=Me("span")(({theme:s,ownerState:t})=>{const h=s.palette[t.color].alpha12,a=s.palette.mode==="dark"?s.palette[t.color].main:s.palette[t.color].dark;return{alignItems:"center",backgroundColor:h,borderRadius:12,color:a,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:s.typography.fontFamily,fontSize:s.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:s.spacing(1),paddingRight:s.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}}),xt=s=>{const{color:t="primary",children:h,...a}=s,g={color:t};return e.jsx(dn,{ownerState:g,...a,children:h})};xt.propTypes={children:te.node,color:te.oneOf(["primary","secondary","error","info","warning","success"])};const gt=s=>{const{members:t}=s;return e.jsxs(K,{children:[e.jsx(ae,{children:e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsxs(D,{spacing:1,children:[e.jsx(w,{variant:"h6",children:"Invite members"}),e.jsx(w,{color:"text.secondary",variant:"body2",children:"You currently pay for 2 Editor Seats."})]})}),e.jsx(Y,{xs:12,md:8,children:e.jsxs(D,{alignItems:"center",direction:"row",spacing:3,children:[e.jsx(k,{InputProps:{startAdornment:e.jsx(It,{position:"start",children:e.jsx(G,{children:e.jsx(cn,{})})})},label:"Email address",name:"email",sx:{flexGrow:1},type:"email"}),e.jsx(O,{variant:"contained",children:"Send Invite"})]})})]})}),e.jsx(rt,{children:e.jsxs(ge,{sx:{minWidth:400},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(b,{children:"Member"}),e.jsx(b,{children:"Role"}),e.jsx(b,{})]})}),e.jsx(je,{children:t.map((h,a)=>e.jsxs(H,{children:[e.jsx(b,{children:e.jsxs(D,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(Ve,{src:h.avatar,sx:{height:40,width:40},children:e.jsx(G,{children:e.jsx(qt,{})})}),e.jsxs("div",{children:[e.jsx(w,{variant:"subtitle2",children:h.name}),e.jsx(w,{color:"text.secondary",variant:"body2",children:h.email})]})]})}),e.jsx(b,{children:h.role==="Owner"?e.jsx(xt,{children:h.role}):h.role}),e.jsx(b,{align:"right",children:e.jsx(Q,{children:e.jsx(G,{children:e.jsx(ln,{})})})})]},a))})]})})]})};gt.propTypes={members:te.array.isRequired};var tt=function(t){return e.jsxs("svg",se({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"m12 5 7 7-7 7"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m0 0-7-7m7 7-7 7"})]}))};const ft=s=>{const{loginEvents:t}=s,[h,a]=_.useState(!1),g=_.useCallback(()=>{a(p=>!p)},[]);return e.jsxs(D,{spacing:4,children:[e.jsx(K,{children:e.jsx(ae,{children:e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsx(w,{variant:"h6",children:"Change password"})}),e.jsx(Y,{xs:12,sm:12,md:8,children:e.jsxs(D,{alignItems:"center",direction:"row",spacing:3,children:[e.jsx(k,{disabled:!h,label:"Password",type:"password",defaultValue:"Thebestpasswordever123#",sx:{flexGrow:1,...!h&&{"& .MuiOutlinedInput-notchedOutline":{borderStyle:"dotted"}}}}),e.jsx(O,{onClick:g,children:h?"Save":"Edit"})]})})]})})}),e.jsxs(K,{children:[e.jsx(Be,{title:"Multi Factor Authentication"}),e.jsx(ae,{sx:{pt:0},children:e.jsxs(Y,{container:!0,spacing:4,children:[e.jsx(Y,{xs:12,sm:6,children:e.jsx(K,{sx:{height:"100%"},variant:"outlined",children:e.jsxs(ae,{children:[e.jsx(L,{sx:{display:"block",position:"relative"},children:e.jsx(L,{sx:{"&::before":{backgroundColor:"error.main",borderRadius:"50%",content:'""',display:"block",height:8,left:4,position:"absolute",top:7,width:8,zIndex:1}},children:e.jsx(w,{color:"error",sx:{pl:3},variant:"body2",children:"Off"})})}),e.jsx(w,{sx:{mt:1},variant:"subtitle2",children:"Authenticator App"}),e.jsx(w,{color:"text.secondary",sx:{mt:1},variant:"body2",children:"Use an authenticator app to generate one time security codes."}),e.jsx(L,{sx:{mt:4},children:e.jsx(O,{endIcon:e.jsx(G,{children:e.jsx(tt,{})}),variant:"outlined",children:"Set Up"})})]})})}),e.jsx(Y,{sm:6,xs:12,children:e.jsx(K,{sx:{height:"100%"},variant:"outlined",children:e.jsxs(ae,{children:[e.jsx(L,{sx:{position:"relative"},children:e.jsx(L,{sx:{"&::before":{backgroundColor:"error.main",borderRadius:"50%",content:'""',display:"block",height:8,left:4,position:"absolute",top:7,width:8,zIndex:1}},children:e.jsx(w,{color:"error",sx:{pl:3},variant:"body2",children:"Off"})})}),e.jsx(w,{sx:{mt:1},variant:"subtitle2",children:"Text Message"}),e.jsx(w,{color:"text.secondary",sx:{mt:1},variant:"body2",children:"Use your mobile phone to receive security codes via SMS."}),e.jsx(L,{sx:{mt:4},children:e.jsx(O,{endIcon:e.jsx(G,{children:e.jsx(tt,{})}),variant:"outlined",children:"Set Up"})})]})})})]})})]}),e.jsxs(K,{children:[e.jsx(Be,{title:"Login history",subheader:"Your recent login activity"}),e.jsx(rt,{children:e.jsxs(ge,{sx:{minWidth:500},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(b,{children:"Login type"}),e.jsx(b,{children:"IP Address"}),e.jsx(b,{children:"Client"})]})}),e.jsx(je,{children:t.map(p=>{const y=nt(p.createdAt,"HH:mm a MM/dd/yyyy");return e.jsxs(H,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsxs(b,{children:[e.jsx(w,{variant:"subtitle2",children:p.type}),e.jsxs(w,{variant:"body2",color:"body2",children:["on ",y]})]}),e.jsx(b,{children:p.ip}),e.jsx(b,{children:p.userAgent})]},p.id)})})]})})]})]})};ft.propTypes={loginEvents:te.array.isRequired};const un=_.memo(s=>{const t=V();let{count:h=0,items:a=[],onDeselectAll:g,onDeselectOne:p,onSelectAll:y,onSelectOne:c,selected:l=[],isLoading:r,isError:i}=s;const[u,d]=_.useState(0),[o,m]=_.useState(25),{t:x,i18n:v}=q(),M=(C,j)=>{let S=a.filter(E=>E.id==C)[0];t(F.actions.setCurrentData(S)),t(j?F.actions.openCloseModalUpdate():F.actions.openCloseModalDelete())},B=(C,j)=>{d(j)},I=C=>{m(parseInt(C.target.value,10)),d(0)},W=a==null?void 0:a.slice(u*o,u*o+o),f=C=>{const j=C.target.value;z.put("/client/activation/",{id:j}).then(S=>{t(F.actions.activateClient({id:j}))})};return e.jsxs(L,{sx:{position:"relative"},children:[e.jsx(Ie,{component:Re,children:e.jsxs(ge,{sx:{minWidth:700},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(b,{children:x(n.client.Nom)}),e.jsx(b,{children:x(n.client.Telephone)}),e.jsx(b,{children:x(n.client.Ville)}),e.jsx(b,{})]})}),r?e.jsx(Ae,{rowsNum:10}):e.jsx(je,{children:W.length>0?W.map(C=>e.jsxs(H,{hover:!0,children:[e.jsx(b,{children:e.jsxs(D,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(at,{variant:"dot",color:C.is_active?"success":"error",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",badgeContent:" ",sx:{"& .MuiBadge-badge":{minWidth:"14px",height:"14px",fontSize:"0.75rem",borderRadius:"100%",border:"2px solid #fff"}},children:e.jsx(Ve,{sx:{bgcolor:C.is_active?"rgb(19, 194, 194)":"",color:"white",width:45,height:45},children:C.first_name[0]+" "+C.last_name[0]})}),e.jsxs("div",{children:[C.first_name+" "+C.last_name,e.jsx(w,{color:"text.secondary",variant:"body2",children:C.email})]})]})}),e.jsx(b,{children:C.tel_num}),e.jsx(b,{children:C.city}),e.jsxs(b,{children:[e.jsx(Q,{color:"warning",onClick:()=>M(C.id,!0),children:e.jsx(G,{children:e.jsx(De,{})})}),C.is_deletable&&e.jsx(Q,{color:"error",onClick:()=>M(C.id,!1),children:e.jsx(G,{children:e.jsx(ze,{})})}),e.jsx(ve,{color:"primary",defaultChecked:C.is_active,value:C.id,onChange:j=>f(j)})]})]},C.id)):e.jsx(H,{children:e.jsx(b,{colSpan:5,sx:{textAlign:"center"},children:x(n.client.nothingToDisplay)})})})]})}),e.jsx(Ue,{component:"div",count:h,onPageChange:B,onRowsPerPageChange:I,page:u,rowsPerPage:o,rowsPerPageOptions:[5,10,25],labelRowsPerPage:x(n.client.Lignes),labelDisplayedRows:({from:C,to:j,count:S})=>`${C}–${j} ${x(n.client.sur)} ${S}`}),i&&e.jsx(Ye,{})]})});function hn(){const s=V(),{t,i18n:h}=q(),{client:a}=U(p=>p.client),g=oe("clients",ue.getClient);return _.useEffect(()=>{g.status=="success"&&s(F.actions.fetchClient(g.data))},[g.status]),e.jsx(Ze,{maxWidth:"xl",children:e.jsxs(Z,{spacing:4,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(Z,{spacing:1,children:e.jsx(w,{variant:"h4",children:t(n.client.title)})}),e.jsx(Z,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(G,{children:e.jsx(Ce,{})}),variant:"contained",onClick:()=>s(F.actions.openCloseModalAdd()),children:t(n.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(un,{items:a,count:a.length,rowsPerPage:25,isLoading:g.isLoading,isError:g.isError})})]})})}const mn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function pn(){const s=V(),{t,i18n:h}=q(),{client:a,isModalUpdate:g,currentData:p,isConfirm:y}=U(u=>u.client),c=he({first_name:$().required(t(n.client.firstNameRequired)),last_name:$().required(t(n.client.lastNameRequired)),tel_num:$().required(t(n.client.telRequired)).matches(/^[0-9]{10}$/,t(n.client.telMatch)),email:$().email(t(n.login.emailValid)).required(t(n.login.emailRequired)),city:$().required(t(n.client.cityRequired))}),l=me({initialValues:p,validationSchema:c,onSubmit:async(u,{resetForm:d})=>{z.put("/client/update/",u).then(o=>{s(F.actions.editClient(o.data)),s(F.actions.openCloseModalUpdate()),s(F.actions.openCloseConfirm()),T.success(t(n.client.toastUpdateSuccess)),d()}).catch(o=>{s(F.actions.openCloseConfirm()),T.error(t(n.client.toastError))})}});_.useEffect(()=>{l.setValues(p)},[p]);const r=async u=>{u.preventDefault();const d=await l.validateForm();Object.keys(d).length===0?s(F.actions.openCloseConfirm()):await l.submitForm()},i=()=>{l.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(F.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:mn,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(n.client.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(F.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:u=>r(u),children:[e.jsx(k,{id:"outlined-basic",label:t(n.client.Nom),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:l.handleChange,value:l.values.first_name,error:!!(l.touched.first_name&&l.errors.first_name),helperText:l.touched.first_name&&l.errors.first_name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.client.Prenom),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:l.handleChange,value:l.values.last_name,error:!!(l.touched.last_name&&l.errors.last_name),helperText:l.touched.last_name&&l.errors.last_name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.client.Telephone),variant:"outlined",value:l.values.tel_num,onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:l.handleChange,error:!!(l.touched.tel_num&&l.errors.tel_num),helperText:l.touched.tel_num&&l.errors.tel_num,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.client.Email),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:l.handleChange,value:l.values.email,error:!!(l.touched.email&&l.errors.email),helperText:l.touched.email&&l.errors.email,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.client.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:l.handleBlur,onChange:l.handleChange,value:l.values.city,error:!!(l.touched.city&&l.errors.city),helperText:l.touched.city&&l.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(n.global.modifier)})]})]})}),e.jsx(pe,{confirmed:i,cancel:()=>s(F.actions.openCloseConfirm()),isConfirm:y})]})}const xn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function gn(){const s=V(),{t,i18n:h}=q(),{client:a,isModalAdd:g,isConfirm:p}=U(i=>i.client),y=he({first_name:$().required(t(n.client.firstNameRequired)),last_name:$().required(t(n.client.lastNameRequired)),tel_num:$().required(t(n.client.telRequired)).matches(/^[0-9]{10}$/,t(n.client.telMatch)),email:$().email(t(n.login.emailValid)).required(t(n.login.emailRequired)),city:$().required(t(n.client.cityRequired))}),c=me({initialValues:{first_name:"",last_name:"",tel_num:"",email:"",city:""},validationSchema:y,onSubmit:async(i,{resetForm:u,setErrors:d})=>{z.post("/client/add/",i).then(o=>{s(F.actions.addClient(o.data)),s(F.actions.openCloseModalAdd()),s(F.actions.openCloseConfirm()),T.success(t(n.client.toastAddSuccess)),u()}).catch(o=>{s(F.actions.openCloseConfirm()),T.error(t(n.client.toastError))})}}),l=async i=>{i.preventDefault();const u=await c.validateForm();Object.keys(u).length===0?s(F.actions.openCloseConfirm()):await c.submitForm()},r=()=>{c.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(F.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:xn,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(n.client.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(F.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:i=>l(i),children:[e.jsx(k,{id:"outlined-basic",label:t(n.client.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:c.handleChange,value:c.values.first_name,error:!!(c.touched.first_name&&c.errors.first_name),helperText:c.touched.first_name&&c.errors.first_name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.client.Prenom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:c.handleChange,value:c.values.last_name,error:!!(c.touched.last_name&&c.errors.last_name),helperText:c.touched.last_name&&c.errors.last_name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.client.Telephone),variant:"outlined",value:c.values.tel_num,onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:c.handleChange,error:!!(c.touched.tel_num&&c.errors.tel_num),helperText:c.touched.tel_num&&c.errors.tel_num,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.client.Email),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:c.handleChange,value:c.values.email,error:!!(c.touched.email&&c.errors.email),helperText:c.touched.email&&c.errors.email,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.client.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:c.handleBlur,onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(n.global.ajouter)})]})]})}),e.jsx(pe,{confirmed:r,cancel:()=>s(F.actions.openCloseConfirm()),isConfirm:p})]})}function fn(){const{currentData:s,isModalDelete:t}=U(y=>y.client),h=V(),{t:a,i18n:g}=q(),p=()=>{console.log("first"),z.delete(`/client/delete/${s.id}`).then(y=>{h(F.actions.deleteClient()),h(F.actions.openCloseModalDelete()),T.success(a(n.client.toastDeleteSuccess))}).catch(y=>{h(F.actions.openCloseModalDelete()),T.error(a(n.client.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(F.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(we,{title:a(n.client.deleteTitle),message:` ${a(n.client.deleteDescription)} ${s.first_name} ${s.last_name}
          ${a(n.client.poncuation)}`,deleteFn:p,cancel:()=>h(F.actions.openCloseModalDelete())})})}function jn(){const{isModalAdd:s,isModalUpdate:t}=U(h=>h.client);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(qe,{children:e.jsx(hn,{})}),s&&e.jsx(gn,{}),t&&e.jsx(pn,{}),e.jsx(fn,{})]})}const yn=_.memo(s=>{const t=V();let{count:h=0,items:a=[],onDeselectAll:g,onDeselectOne:p,onSelectAll:y,onSelectOne:c,selected:l=[],isLoading:r,isError:i}=s;const[u,d]=_.useState(0),[o,m]=_.useState(25),{t:x,i18n:v}=q(),M=(f,C)=>{const j=a.filter(S=>S.id==f)[0];t(R.actions.setCurrentData(j)),t(C?R.actions.openCloseModalUpdate():R.actions.openCloseModalDelete())},B=(f,C)=>{d(C)},I=f=>{m(parseInt(f.target.value,10)),d(0)},W=a==null?void 0:a.slice(u*o,u*o+o);return e.jsxs(L,{sx:{position:"relative"},children:[e.jsx(Ie,{component:Re,children:e.jsxs(ge,{sx:{minWidth:700},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(b,{children:x(n.magazin.Nom)}),e.jsx(b,{children:x(n.magazin.Ville)}),e.jsx(b,{children:x(n.magazin.Capacity)}),e.jsx(b,{})]})}),r?e.jsx(Ae,{rowsNum:10}):e.jsx(je,{children:W.length>0?W.map(f=>e.jsxs(H,{hover:!0,children:[e.jsx(b,{children:e.jsx(D,{alignItems:"center",direction:"row",spacing:1,children:e.jsx("div",{children:e.jsx(Oe,{color:"inherit",component:At,href:zt.dashboard.customers.details,variant:"subtitle2",children:f.name})})})}),e.jsx(b,{children:f.city}),e.jsx(b,{sx:{direction:"initial",whiteSpace:"nowrap"},children:f.capacity.toLocaleString("en-US").replaceAll(","," ")}),e.jsxs(b,{children:[e.jsx(Q,{color:"warning",onClick:()=>M(f.id,!0),children:e.jsx(G,{children:e.jsx(De,{})})}),f.is_deletable&&e.jsx(Q,{color:"error",onClick:()=>M(f.id,!1),children:e.jsx(G,{children:e.jsx(ze,{})})})]})]},f.id)):e.jsx(H,{children:e.jsx(b,{colSpan:5,sx:{textAlign:"center"},children:x(n.magazin.nothingToDisplay)})})})]})}),e.jsx(Ue,{component:"div",count:h,onPageChange:B,onRowsPerPageChange:I,page:u,rowsPerPage:o,rowsPerPageOptions:[5,10,25],labelRowsPerPage:x(n.magazin.Lignes),labelDisplayedRows:({from:f,to:C,count:j})=>`${f}–${C} ${x(n.magazin.sur)} ${j}`}),i&&e.jsx(Ye,{})]})});function bn(){const s=V(),{t,i18n:h}=q(),{magazin:a}=U(p=>p.magazin),g=oe("magazins",ue.getWarehouse);return _.useEffect(()=>{console.log(g),g.status=="success"&&s(R.actions.fetchMagazin(g.data))},[g.status]),e.jsx(Ze,{maxWidth:"xl",children:e.jsxs(Z,{spacing:4,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(Z,{spacing:1,children:e.jsx(w,{variant:"h4",children:t(n.magazin.title)})}),e.jsx(Z,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(G,{children:e.jsx(Ce,{})}),variant:"contained",onClick:()=>s(R.actions.openCloseModalAdd()),children:t(n.global.ajouter)})})]}),e.jsxs(K,{children:[e.jsx(yn,{items:a,isLoading:g.isLoading,count:a.length,rowsPerPage:25,isError:g.isError}),g.isError&&e.jsx(Ot,{severity:"error",variant:"filled",children:"Test"})]})]})})}const vn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Cn(){const s=V(),{t,i18n:h}=q(),{currentData:a,isModalUpdate:g,isConfirm:p}=U(i=>i.magazin),y=he({name:$().required(t(n.magazin.firstNameRequired)),city:$().required(t(n.magazin.firstNameRequired)),capacity:de().required(t(n.magazin.capacityRequired)).min(0,t(n.magazin.capacityMin))}),c=me({initialValues:{name:"",city:"",capacity:""},validationSchema:y,onSubmit:async(i,{resetForm:u,setErrors:d})=>{z.put("/warehouse/update/",i).then(o=>{s(R.actions.editMagazin(o.data)),s(R.actions.openCloseModalUpdate()),s(R.actions.openCloseConfirm()),T.success(t(n.magazin.toastUpdateSuccess)),u()}).catch(o=>{s(R.actions.openCloseConfirm()),T.error(t(n.magazin.toastError))})}}),l=async i=>{i.preventDefault();const u=await c.validateForm();Object.keys(u).length===0?s(R.actions.openCloseConfirm()):await c.submitForm()},r=()=>{c.handleSubmit()};return _.useEffect(()=>{console.log(a),c.setValues(a)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(R.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:vn,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(n.magazin.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(R.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:i=>l(i),children:[e.jsx(k,{id:"outlined-basic",label:t(n.magazin.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:c.handleChange,value:c.values.name,error:!!(c.touched.name&&c.errors.name),helperText:c.touched.name&&c.errors.name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.magazin.Ville),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"city",onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.magazin.Capacity),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"number",name:"capacity",onChange:c.handleChange,value:c.values.capacity,error:!!(c.touched.capacity&&c.errors.capacity),helperText:c.touched.capacity&&c.errors.capacity,style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(n.global.modifier)})]})]})}),e.jsx(pe,{confirmed:r,cancel:()=>s(R.actions.openCloseConfirm()),isConfirm:p})]})}const wn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function _n(){const s=V(),{t,i18n:h}=q(),{magazin:a,isModalAdd:g,isConfirm:p}=U(i=>i.magazin),y=he({name:$().required(t(n.magazin.firstNameRequired)),city:$().required(t(n.magazin.firstNameRequired)),capacity:de().required(t(n.magazin.capacityRequired)).min(0,t(n.magazin.capacityMin))}),c=me({initialValues:{name:"",city:"",capacity:""},validationSchema:y,onSubmit:async(i,{resetForm:u,setErrors:d})=>{z.post("/warehouse/add/",i).then(o=>{s(R.actions.addMagazin(o.data)),s(R.actions.openCloseModalAdd()),s(R.actions.openCloseConfirm()),T.success(t(n.magazin.toastAddSuccess)),u()}).catch(o=>{s(R.actions.openCloseConfirm()),T.error(t(n.magazin.toastError))})}}),l=async i=>{i.preventDefault();const u=await c.validateForm();Object.keys(u).length===0?s(R.actions.openCloseConfirm()):await c.submitForm()},r=()=>{c.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(R.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:wn,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(n.magazin.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(R.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:i=>l(i),children:[e.jsx(k,{id:"outlined-basic",label:t(n.magazin.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:c.handleChange,value:c.values.name,error:!!(c.touched.name&&c.errors.name),helperText:c.touched.name&&c.errors.name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.magazin.Ville),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"city",onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.magazin.Capacity),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"number",name:"capacity",onChange:c.handleChange,value:c.values.capacity,error:!!(c.touched.capacity&&c.errors.capacity),helperText:c.touched.capacity&&c.errors.capacity,style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(n.global.ajouter)})]})]})}),e.jsx(pe,{confirmed:r,cancel:()=>s(R.actions.openCloseConfirm()),isConfirm:p})]})}function Sn(){const{currentData:s,isModalDelete:t}=U(y=>y.magazin),h=V(),{t:a,i18n:g}=q(),p=()=>{z.delete(`/warehouse/delete/${s.id}`).then(y=>{h(R.actions.deleteMagazin()),h(R.actions.openCloseModalDelete()),T.success(a(n.magazin.toastDeleteSuccess))}).catch(y=>{h(R.actions.openCloseModalDelete()),T.error(a(n.magazin.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(R.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(we,{title:a(n.magazin.deleteTitle),message:`${a(n.magazin.deleteDescription)} ${s.name} ${a(n.magazin.poncuation)}`,deleteFn:p,cancel:()=>h(R.actions.openCloseModalDelete())})})}function kn(){const{isModalAdd:s,isModalUpdate:t}=U(h=>h.magazin);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(qe,{children:e.jsx(bn,{})}),s&&e.jsx(_n,{}),t&&e.jsx(Cn,{}),e.jsx(Sn,{})]})}const Bn=_.memo(s=>{const t=JSON.parse(sessionStorage.getItem("user")),h=V();let{count:a=0,items:g=[],onDeselectAll:p,onDeselectOne:y,onSelectAll:c,onSelectOne:l,selected:r=[],isError:i}=s;const[u,d]=_.useState(0),[o,m]=_.useState(25),{t:x,i18n:v}=q(),M=(f,C)=>{const j=g.filter(S=>S.id==f)[0];h(N.actions.setCurrentData(j)),h(C?N.actions.openCloseModalUpdate():N.actions.openCloseModalDelete())},B=(f,C)=>{d(C)},I=f=>{m(parseInt(f.target.value,10)),d(0)},W=g==null?void 0:g.slice(u*o,u*o+o);return e.jsxs(L,{sx:{position:"relative"},children:[e.jsx(Ie,{component:Re,children:e.jsxs(ge,{sx:{minWidth:700},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(b,{children:t!=null&&t.is_eleveur?x(n.batiment.Nom):x(n.fournisseur.Nom)}),!(t!=null&&t.is_eleveur)&&e.jsx(b,{children:x(n.batiment.Telephone)}),e.jsx(b,{children:x(n.batiment.Ville)}),e.jsx(b,{})]})}),s.isLoading?e.jsx(Ae,{rowsNum:10}):e.jsx(je,{children:W.length>0?W.map(f=>e.jsxs(H,{hover:!0,children:[e.jsx(b,{children:e.jsx(D,{alignItems:"center",direction:"row",spacing:1,children:e.jsxs("div",{children:[f.name," ",f.last_name,e.jsx(w,{color:"text.secondary",variant:"body2",children:f==null?void 0:f.email})]})})}),!(t!=null&&t.is_eleveur)&&e.jsx(b,{children:f.tel_num}),e.jsx(b,{children:f.city}),e.jsxs(b,{children:[e.jsx(Q,{color:"warning",onClick:()=>M(f.id,!0),children:e.jsx(G,{children:e.jsx(De,{})})}),f.is_deletable&&e.jsx(Q,{color:"error",onClick:()=>M(f.id,!1),children:e.jsx(G,{children:e.jsx(ze,{})})})]})]},f.id)):e.jsx(H,{children:e.jsx(b,{colSpan:5,sx:{textAlign:"center"},children:x(n.batiment.nothingToDisplay)})})})]})}),e.jsx(Ue,{component:"div",count:a,onPageChange:B,onRowsPerPageChange:I,page:u,rowsPerPage:o,rowsPerPageOptions:[5,10,25],labelRowsPerPage:x(n.batiment.Lignes),labelDisplayedRows:({from:f,to:C,count:j})=>`${f}–${C} ${x(n.batiment.sur)} ${j}`}),i&&e.jsx(Ye,{})]})});function Mn(){const s=JSON.parse(sessionStorage.getItem("user")),t=V(),{t:h,i18n:a}=q(),{batiment:g}=U(y=>y.batiment),p=oe("batiment",ue.getBatiment);return _.useEffect(()=>{p.status=="success"&&t(N.actions.fetchBatiment(p.data))},[p.status]),e.jsx(Ze,{maxWidth:"xl",children:e.jsxs(Z,{spacing:4,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(Z,{spacing:1,children:e.jsxs(w,{variant:"h4",children:[" ",s!=null&&s.is_eleveur?h(n.batiment.title):h(n.fournisseur.title)]})}),e.jsx(Z,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(G,{children:e.jsx(Ce,{})}),variant:"contained",onClick:()=>t(N.actions.openCloseModalAdd()),children:h(n.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(Bn,{isLoading:p.isLoading,items:g,count:g.length,rowsPerPage:25,isError:p.isError})})]})})}const Dn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Tn(){const s=V(),{t,i18n:h}=q(),a=JSON.parse(sessionStorage.getItem("user")),{currentData:g,isModalUpdate:p,isConfirm:y}=U(o=>o.batiment),[c,l]=_.useState({name:$().required(a!=null&&a.is_eleveur?t(n.batiment.nameRequired):t(n.fournisseur.nameRequired)),last_name:$().required(t(n.fournisseur.lastNameRequired)),tel_num:$().required(t(n.client.telRequired)).matches(/^[0-9]{10}$/,t(n.client.telMatch)),email:$().email(t(n.login.emailValid)).required(t(n.login.emailRequired)),city:$().required(t(n.client.cityRequired))}),r=he(c),i=me({initialValues:{name:"",tel_num:"",email:a!=null&&a.is_eleveur?null:"",city:a!=null&&a.is_eleveur?null:""},validationSchema:r,onSubmit:async(o,{resetForm:m,setErrors:x})=>{console.log(o),z.put("/eggsource/update/",o).then(v=>{s(N.actions.editBatiment(v.data)),s(N.actions.openCloseModalUpdate()),s(N.actions.openCloseConfirm()),T.success(a!=null&&a.is_eleveur?t(n.batiment.toastUpdateSuccess):t(n.fournisseur.toastUpdateSuccess)),m()}).catch(v=>{s(N.actions.openCloseConfirm()),T.error(t(n.global.toastError))})}});_.useEffect(()=>{i.setValues(g);let o=c;a!=null&&a.is_eleveur&&(delete o.tel_num,delete o.email,delete o.last_name,l(o))},[g]);const u=async o=>{o.preventDefault();const m=await i.validateForm();Object.keys(m).length===0?s(N.actions.openCloseConfirm()):await i.submitForm()},d=()=>{i.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:p,onClose:()=>s(N.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Dn,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:a!=null&&a.is_eleveur?t(n.batiment.update):t(n.fournisseur.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(N.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:o=>u(o),children:[e.jsx(k,{id:"outlined-basic",label:a!=null&&a.is_eleveur?t(n.batiment.Nom):t(n.fournisseur.Nom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:i.handleChange,value:i.values.name,error:!!(i.touched.name&&i.errors.name),helperText:i.touched.name&&i.errors.name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(n.fournisseur.Prenom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:i.handleChange,value:i.values.last_name,error:!!(i.touched.last_name&&i.errors.last_name),helperText:i.touched.last_name&&i.errors.last_name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(n.batiment.Telephone),variant:"outlined",value:i.values.tel_num,onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:i.handleChange,error:!!(i.touched.tel_num&&i.errors.tel_num),helperText:i.touched.tel_num&&i.errors.tel_num,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(n.batiment.Email),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:i.handleChange,value:i.values.email,error:!!(i.touched.email&&i.errors.email),helperText:i.touched.email&&i.errors.email,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.batiment.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.city,error:!!(i.touched.city&&i.errors.city),helperText:i.touched.city&&i.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(n.global.modifier)})]})]})}),e.jsx(pe,{confirmed:d,cancel:()=>s(N.actions.openCloseConfirm()),isConfirm:y})]})}const $n={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function En(){const s=V(),{t,i18n:h}=q(),a=JSON.parse(sessionStorage.getItem("user")),{batiment:g,isModalAdd:p,isConfirm:y}=U(o=>o.batiment),[c,l]=_.useState({name:$().required(a!=null&&a.is_eleveur?t(n.batiment.nameRequired):t(n.fournisseur.firstNameRequired)),last_name:$().required(t(n.fournisseur.lastNameRequired)),tel_num:$().required(t(n.client.telRequired)).matches(/^[0-9]{10}$/,t(n.client.telMatch)),email:$().email(t(n.login.emailValid)).required(t(n.login.emailRequired)),city:$().required(t(n.client.cityRequired))}),r=he(c),i=me({initialValues:{name:"",tel_num:a!=null&&a.is_eleveur?null:"",email:a!=null&&a.is_eleveur?null:"",city:""},validationSchema:r,onSubmit:async(o,{resetForm:m,setErrors:x})=>{z.post("/eggsource/add/",o).then(v=>{s(N.actions.addBatiment(v.data)),s(N.actions.openCloseModalAdd()),s(N.actions.openCloseConfirm()),T.success(a!=null&&a.is_eleveur?t(n.batiment.toastAddSuccess):t(n.fournisseur.toastAddSuccess)),m()}).catch(v=>{s(N.actions.openCloseConfirm()),T.error(t(n.global.toastError))})}}),u=async o=>{o.preventDefault();const m=await i.validateForm();Object.keys(m).length===0?s(N.actions.openCloseConfirm()):await i.submitForm()},d=()=>{i.handleSubmit()};return _.useEffect(()=>{if(a!=null&&a.is_eleveur){let o=c;delete o.email,delete o.tel_num,delete o.last_name,l(o)}},[]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:p,onClose:()=>s(N.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:$n,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:a!=null&&a.is_eleveur?t(n.batiment.add):t(n.fournisseur.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(N.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:o=>u(o),children:[e.jsx(k,{id:"outlined-basic",label:a!=null&&a.is_eleveur?t(n.batiment.Nom):t(n.client.Nom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:i.handleChange,value:i.values.name,error:!!(i.touched.name&&i.errors.name),helperText:i.touched.name&&i.errors.name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(n.client.Prenom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:i.handleChange,value:i.values.last_name,error:!!(i.touched.last_name&&i.errors.last_name),helperText:i.touched.last_name&&i.errors.last_name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(n.batiment.Telephone),variant:"outlined",value:i.values.tel_num,onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:i.handleChange,error:!!(i.touched.tel_num&&i.errors.tel_num),helperText:i.touched.tel_num&&i.errors.tel_num,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(n.batiment.Email),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:i.handleChange,value:i.values.email,error:!!(i.touched.email&&i.errors.email),helperText:i.touched.email&&i.errors.email,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(n.batiment.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.city,error:!!(i.touched.city&&i.errors.city),helperText:i.touched.city&&i.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(n.global.ajouter)})]})]})}),e.jsx(pe,{confirmed:d,cancel:()=>s(N.actions.openCloseConfirm()),isConfirm:y})]})}function Pn(){const{currentData:s,isModalDelete:t}=U(c=>c.batiment),h=V(),{t:a,i18n:g}=q(),p=JSON.parse(sessionStorage.getItem("user")),y=()=>{z.delete(`/eggsource/delete/${s.id}`).then(c=>{h(N.actions.deleteBatiment()),h(N.actions.openCloseModalDelete()),T.success(p!=null&&p.is_eleveur?a(n.batiment.toastDeleteSuccess):a(n.fournisseur.toastDeleteSuccess))}).catch(c=>{h(N.actions.openCloseModalDelete()),T.error(a(n.global.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(N.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(we,{title:p!=null&&p.is_eleveur?a(n.batiment.deleteTitle):a(n.fournisseur.deleteTitle),message:p!=null&&p.is_elever?a(n.batiment.deleteDescription):a(n.fournisseur.deleteDescription),deleteFn:y,cancel:()=>h(N.actions.openCloseModalDelete())})})}function Fn(){const{isModalAdd:s,isModalUpdate:t}=U(h=>h.batiment);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(qe,{children:e.jsx(Mn,{})}),s&&e.jsx(En,{}),t&&e.jsx(Tn,{}),e.jsx(Pn,{})]})}function Rn({isOpen:s,id:t,close:h}){q();const[a,g]=_.useState(new Date),p=V(),y=()=>{z.put("/employee/activation/",{id:t,end_work:ie(a).format("YYYY-MM-DD")}).then(c=>{p(P.actions.activateOeuvre({id:t})),p(P.actions.editOeuvre(c.data)),h()})};return e.jsx(ee,{open:s,children:e.jsxs(L,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",width:350,border:"1px solid #000",boxShadow:24,p:3},children:[e.jsxs(D,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Ajouter date du dimmession"}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h(),children:e.jsx(le,{})})]}),e.jsxs("form",{children:[e.jsx(xe,{label:"Date du dimmession",value:a,onChange:c=>g(c),sx:{width:"100%"}}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(O,{variant:"contained",sx:{mt:1,mr:.5},onClick:y,children:"Envoyer"}),e.jsx(O,{variant:"contained",sx:{mt:1},color:"error",onClick:h,children:"Annuler"})]})]})]})})}function Nn(s){const{isLoading:t,items:h,count:a,rowsPerPage:g,isError:p}=s,[y,c]=_.useState(0),{t:l,i18n:r}=q(),i=V(),[u,d]=_.useState(!1),[o,m]=_.useState();let[x,v]=_.useState(0);const M=(f,C)=>{const j=h.filter(S=>S.id==f)[0];i(P.actions.setCurrentData(j)),C=="update"?i(P.actions.openCloseModalUpdate()):i(P.actions.openCloseModalDelete())},B=h==null?void 0:h.slice(y*g,y*g+g),I=f=>{m(f.target.value),f.target.checked?z.put("/employee/activation/",{id:f.target.value}).then(C=>{i(P.actions.activateOeuvre({id:o})),i(P.actions.editOeuvre(C.data))}):(f.target.checked=!f.target.checked,d(!0))},W=()=>{v(x+1),d(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{sx:{position:"relative"},children:e.jsx(Ie,{component:Re,children:e.jsxs(ge,{sx:{minWidth:700,overflowX:"auto"},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(b,{}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:l(n.employee.CIN)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:l(n.client.Telephone)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:l(n.employee.Adresse)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:l(n.employee.StartDate)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:l(n.employee.EndDate)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:l(n.employee.ContractType)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:l(n.employee.Registration)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:l(n.employee.BirthDate)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:l(n.employee.PaymentDeadline)}),e.jsx(b,{})]})}),t?e.jsx(Ae,{rowsNum:10,cellNum:11}):e.jsx(je,{children:h.length>0?B.map(f=>{const C=new Date(f.start_work),j=new Date(f.end_work),S=new Date(f.b_day);return e.jsxs(H,{children:[e.jsx(b,{sx:{whiteSpace:"nowrap"},children:e.jsxs(D,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(at,{variant:"dot",color:f.is_active?"success":"error",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",badgeContent:" ",sx:{"& .MuiBadge-badge":{minWidth:"14px",height:"14px",fontSize:"0.75rem",borderRadius:"100%",border:"2px solid #fff"}},children:e.jsx(Ve,{sx:{bgcolor:f.is_active?"rgb(19, 194, 194)":"",color:"white",width:45,height:45},children:f.first_name[0]+" "+f.last_name[0]})}),e.jsx("div",{children:f.first_name+" "+f.last_name})]})}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.cin}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.tel_num}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.addr}),e.jsxs(b,{sx:{whiteSpace:"nowrap"},children:[" ",`${C.getDate()}`.padStart(2,0),"/",`${C.getMonth()+1}`.padStart(2,0),"/",C.getFullYear()]}),e.jsxs(b,{sx:{whiteSpace:"nowrap"},children:[" ",j.getFullYear()!="1970"?`${`${j.getDate()}`.padStart(2,0)}/${`${j.getMonth()+1}`.padStart(2,0)}/${j.getFullYear()}`:""]}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.contract_type}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.registration}),e.jsxs(b,{sx:{whiteSpace:"nowrap"},children:[`${S.getDate()}`.padStart(2,0),"/",`${S.getMonth()+1}`.padStart(2,0),"/",S.getFullYear()]}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.payment_rate}),e.jsxs(b,{sx:{whiteSpace:"nowrap"},children:[e.jsx(Q,{color:"warning",onClick:()=>M(f.id,"update"),children:e.jsx(G,{children:e.jsx(De,{})})}),e.jsx(Q,{color:"error",onClick:()=>M(f.id,"delete"),children:e.jsx(G,{children:e.jsx(ze,{})})}),e.jsx(ve,{color:"secondary",defaultChecked:f.is_active,value:f.id,onChange:E=>I(E)})]})]},f.id)}):e.jsx(H,{children:e.jsx(b,{colSpan:7,sx:{textAlign:"center"},children:l(n.magazin.nothingToDisplay)})})})]})},x)}),e.jsx(Rn,{isOpen:u,id:o,close:W})]})}function In(){const s=V(),{t,i18n:h}=q(),a=oe("mainOeuvre",ue.fetchOeuvre),{oeuvre:g}=U(p=>p.mainDoeuvre);return _.useEffect(()=>{a.isLoading||s(P.actions.fetchOeuvre(a.data))},[a.isLoading]),e.jsx(Ne,{maxWidth:"xl",children:e.jsxs(D,{spacing:4,children:[e.jsxs(D,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(D,{spacing:1,children:e.jsx(w,{variant:"h4",children:t(n.employee.title)})}),e.jsx(D,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(G,{children:e.jsx(Ce,{})}),variant:"contained",onClick:()=>s(P.actions.openCloseModalAdd()),children:t(n.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(Nn,{isLoading:a.isLoading,items:g,count:g.length,rowsPerPage:25,isError:a.isError})})]})})}const qn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function An({paimentDelai:s,contracts:t}){ie.locale("fr");const h=V(),{t:a,i18n:g}=q(),p=[{key:"cin",message:a(n.employee.cinDuplicated)},{key:"registration",message:a(n.employee.registerDuplicated)},{key:"tel_num",message:a(n.employee.telNumDuplicated)}],{isModalAdd:y,isConfirm:c}=U(u=>u.mainDoeuvre),l=me({initialValues:{first_name:"",last_name:"",cin:"",registration:null,b_day:null,start_work:null,end_work:null,tel_num:"",addr:"",type:null,rate:null},validationSchema:he({first_name:$().required(a(n.employee.firstNameRequired)).min(2,a(n.employee.firstNameMin)).max(50,a(n.employee.firstNameMax)),last_name:$().required(a(n.employee.lastNameRequired)).min(2,a(n.employee.lastNameMin)).max(50,a(n.employee.lastNameMax)),cin:$().required(a(n.employee.cinRequired)).matches(/^[A-Za-z0-9]+$/,a(n.employee.cinAlphanumeric)).max(20,a(n.employee.cinMax)),registration:de().required(a(n.employee.registrationRequired)).typeError(a(n.employee.registrationTypeError)).positive(a(n.employee.registrationPositive)),b_day:be().required(a(n.employee.birthDateRequired)).typeError(a(n.employee.birthDateTypeError)),start_work:be().required(a(n.employee.startWorkRequired)).typeError(a(n.employee.startWorkTypeError)),end_work:be().nullable().typeError(a(n.employee.endWorkTypeError)).min(ot("start_work"),a(n.employee.endWorkMin)),tel_num:$().required(a(n.employee.telNumRequired)).matches(/^[0-9]{10}$/,a(n.employee.telNumValid)),addr:$().required(a(n.employee.addrRequired)).max(100,a(n.employee.addrMax)),type:de().required(a(n.employee.rateTypeRequired)).typeError(a(n.employee.typeTypeError)).integer(a(n.employee.typeInteger)),rate:de().required(a(n.employee.rateTypeRequired)).typeError(a(n.employee.rateTypeError))}),onSubmit:async(u,{setErrors:d,setFieldError:o})=>{let m={...u};m.b_day=ie(m.b_day).format("YYYY-MM-DD"),m.start_work=ie(m.start_work).format("YYYY-MM-DD"),m.end_work=m.end_work!==null?ie(m.end_work).format("YYYY-MM-DD"):"",z.post("/employee/add/",m).then(x=>{h(P.actions.addOeuvre(x.data)),h(P.actions.openCloseModalAdd()),h(P.actions.openCloseConfirm()),T.success(a(n.employee.toastAddSuccess))}).catch(x=>{h(P.actions.openCloseConfirm()),x.response.data.length>0?x.response.data.map(v=>{o(p[v-1].key,p[v-1].message)}):T.error(a(n.global.toastError))})}}),r=async u=>{u.preventDefault();const d=await l.validateForm();console.log(d),Object.keys(d).length===0?h(P.actions.openCloseConfirm()):await l.submitForm()},i=()=>{l.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:y,onClose:()=>h(P.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:qn,children:[e.jsxs(D,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:a(n.employee.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h(P.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:u=>r(u),children:[e.jsxs(A,{container:!0,spacing:2,children:[e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.client.Nom),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:l.handleChange,value:l.values.first_name,error:!!(l.touched.first_name&&l.errors.first_name),helperText:l.touched.first_name&&l.errors.first_name,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.client.Prenom),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:l.handleChange,value:l.values.last_name,error:!!(l.touched.last_name&&l.errors.last_name),helperText:l.touched.last_name&&l.errors.last_name,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.employee.Adresse),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"addr",onChange:l.handleChange,value:l.values.addr,error:!!(l.touched.addr&&l.errors.addr),helperText:l.touched.addr&&l.errors.addr,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.client.Telephone),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:l.handleChange,value:l.values.tel_num,error:!!(l.touched.tel_num&&l.errors.tel_num),helperText:l.touched.tel_num&&l.errors.tel_num,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.employee.CIN),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"cin",onChange:l.handleChange,value:l.values.cin,error:!!(l.touched.cin&&l.errors.cin),helperText:l.touched.cin&&l.errors.cin,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(xe,{label:a(n.employee.BirthDate),variant:"outlined",fullWidth:!0,name:"b_day",value:l.values.b_day,onChange:u=>l.setFieldValue("b_day",u),slotProps:{textField:{variant:"outlined",error:!!(l.touched.b_day&&l.errors.b_day),helperText:l.touched.b_day&&l.errors.b_day}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.employee.Registration),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"registration",onChange:l.handleChange,value:l.values.registration,error:!!(l.touched.registration&&l.errors.registration),helperText:l.touched.registration&&l.errors.registration,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(xe,{label:a(n.employee.StartDate),variant:"outlined",fullWidth:!0,name:"start_work",value:l.values.start_work,onChange:u=>l.setFieldValue("start_work",u),slotProps:{textField:{variant:"outlined",error:!!(l.touched.start_work&&l.errors.start_work),helperText:l.touched.start_work&&l.errors.start_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(xe,{label:a(n.employee.EndDate),variant:"outlined",fullWidth:!0,name:"end_work",value:l.values.end_work,onChange:u=>l.setFieldValue("end_work",u),slotProps:{textField:{variant:"outlined",error:!!(l.touched.end_work&&l.errors.end_work),helperText:l.touched.end_work&&l.errors.end_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsxs($e,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(l.touched.type&&l.errors.type),children:[e.jsx(Ee,{id:"batiment-id",children:a(n.employee.ContractType)}),e.jsx(Pe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:l.handleBlur,fullWidth:!0,name:"type",onChange:l.handleChange,value:l.values.type,label:a(n.employee.ContractType),children:t.length>0?t.map(u=>e.jsx(ce,{value:u.id,children:u.value},u.id)):e.jsx(ce,{children:a(n.batiment.nothingToDisplay)})}),l.touched.type&&l.errors.type&&e.jsx(Fe,{children:l.errors.type})]})}),e.jsx(A,{item:!0,xs:12,children:e.jsxs($e,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(l.touched.rate&&l.errors.rate),children:[e.jsx(Ee,{id:"batiment-id",children:a(n.employee.PaymentDeadline)}),e.jsx(Pe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:l.handleBlur,fullWidth:!0,name:"rate",onChange:l.handleChange,value:l.values.rate,label:a(n.employee.PaymentDeadline),children:s.length>0?s.map(u=>e.jsx(ce,{value:u.id,children:u.value},u.id)):e.jsx(ce,{children:a(n.batiment.nothingToDisplay)})}),l.touched.rate&&l.errors.rate&&e.jsx(Fe,{children:l.errors.rate})]})})]}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:a(n.global.ajouter)})]})]})}),e.jsx(pe,{confirmed:i,cancel:()=>h(P.actions.openCloseConfirm()),isConfirm:c})]})}function zn(){const{currentData:s,isModalDelete:t}=U(y=>y.mainDoeuvre),h=V(),{t:a,i18n:g}=q(),p=()=>{z.delete(`/employee/delete/${s.id}`).then(y=>{h(P.actions.deleteOeuvre()),h(P.actions.openCloseModalDelete()),T.success(a(n.employee.toastDeleteSuccess))}).catch(y=>{h(P.actions.openCloseModalDelete()),T.error(a(n.global.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(P.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(we,{title:a(n.employee.deleteConfirmTitle),message:a(n.employee.deleteConfirmMessage),deleteFn:p,cancel:()=>h(P.actions.openCloseModalDelete())})})}const Wn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Ln({paimentDelai:s,contracts:t}){ie.locale("fr");const h=V(),{t:a,i18n:g}=q(),{currentData:p,isModalUpdate:y,isConfirm:c}=U(d=>d.mainDoeuvre),l=[{key:"cin",message:a(n.employee.cinDuplicated)},{key:"registration",message:a(n.employee.registerDuplicated)},{key:"tel_num",message:a(n.employee.telNumDuplicated)}],r=me({initialValues:{first_name:"",last_name:"",cin:"",registration:null,b_day:null,start_work:null,end_work:null,tel_num:"",addr:"",type:null,rate:null},validationSchema:he({first_name:$().required(a(n.employee.firstNameRequired)).min(2,a(n.employee.firstNameMin)).max(50,a(n.employee.firstNameMax)),last_name:$().required(a(n.employee.lastNameRequired)).min(2,a(n.employee.lastNameMin)).max(50,a(n.employee.lastNameMax)),cin:$().required(a(n.employee.cinRequired)).matches(/^[A-Za-z0-9]+$/,a(n.employee.cinAlphanumeric)).max(20,a(n.employee.cinMax)),registration:de().required(a(n.employee.registrationRequired)).typeError(a(n.employee.registrationTypeError)).positive(a(n.employee.registrationPositive)),b_day:be().required(a(n.employee.birthDateRequiredbirthDateRequired)).typeError(a(n.employee.birthDateTypeError)),start_work:be().required(a(n.employee.startWorkRequired)).typeError(a(n.employee.startWorkTypeError)),end_work:be().nullable().typeError(a(n.employee.endWorkTypeError)).min(ot("start_work"),a(n.employee.endWorkMin)),tel_num:$().required(a(n.employee.telNumRequired)).matches(/^[0-9]{10}$/,a(n.employee.telNumValid)),addr:$().required(a(n.employee.addrRequired)).max(100,a(n.employee.addrMax)),type:de().required(a(n.employee.rateTypeRequired)).typeError(a(n.employee.typeTypeError)).integer(a(n.employee.typeInteger)),rate:de().required(a(n.employee.rateTypeRequired)).typeError(a(n.employee.rateTypeError))}),onSubmit:async(d,{setFieldError:o})=>{let m={...d};m.b_day=ie(m.b_day).format("YYYY-MM-DD"),m.start_work=ie(m.start_work).format("YYYY-MM-DD"),m.end_work=m.end_work!==null?ie(m.end_work).format("YYYY-MM-DD"):"",z.put("/employee/update/",m).then(x=>{h(P.actions.editOeuvre(x.data)),h(P.actions.openCloseModalUpdate()),h(P.actions.openCloseConfirm()),T.success(a(n.employee.toastEditSuccess))}).catch(x=>{h(P.actions.openCloseConfirm()),x.response.data.length>0?x.response.data.map(v=>{o(l[v-1].key,l[v-1].message)}):T.error(a(n.global.toastError))})}}),i=async d=>{d.preventDefault();const o=await r.validateForm();Object.keys(o).length===0?h(P.actions.openCloseConfirm()):await r.submitForm()},u=()=>{r.handleSubmit()};return _.useEffect(()=>{let d={...p};console.log(d),d.b_day=new Date(d.b_day),d.start_work=new Date(d.start_work),d.end_work=d.end_work!==null?new Date(d.end_work):null,r.setValues(d)},[p]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:y,onClose:()=>h(P.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Wn,children:[e.jsxs(D,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:a(n.employee.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h(P.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:d=>i(d),children:[e.jsxs(A,{container:!0,spacing:2,children:[e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.client.Nom),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:r.handleChange,value:r.values.first_name,error:!!(r.touched.first_name&&r.errors.first_name),helperText:r.touched.first_name&&r.errors.first_name,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.client.Prenom),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:r.handleChange,value:r.values.last_name,error:!!(r.touched.last_name&&r.errors.last_name),helperText:r.touched.last_name&&r.errors.last_name,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.employee.Adresse),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"addr",onChange:r.handleChange,value:r.values.addr,error:!!(r.touched.addr&&r.errors.addr),helperText:r.touched.addr&&r.errors.addr,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.client.Telephone),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:r.handleChange,value:r.values.tel_num,error:!!(r.touched.tel_num&&r.errors.tel_num),helperText:r.touched.tel_num&&r.errors.tel_num,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.employee.CIN),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"cin",onChange:r.handleChange,value:r.values.cin,error:!!(r.touched.cin&&r.errors.cin),helperText:r.touched.cin&&r.errors.cin,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(xe,{label:a(n.employee.BirthDate),variant:"outlined",fullWidth:!0,name:"b_day",value:r.values.b_day,onChange:d=>r.setFieldValue("b_day",d),slotProps:{textField:{variant:"outlined",error:!!(r.touched.b_day&&r.errors.b_day),helperText:r.touched.b_day&&r.errors.b_day}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:a(n.employee.Registration),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"registration",onChange:r.handleChange,value:r.values.registration,error:!!(r.touched.registration&&r.errors.registration),helperText:r.touched.registration&&r.errors.registration,style:{marginBottom:"15px"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(xe,{label:a(n.employee.StartDate),variant:"outlined",fullWidth:!0,name:"start_work",value:r.values.start_work,onChange:d=>r.setFieldValue("start_work",d),slotProps:{textField:{variant:"outlined",error:!!(r.touched.start_work&&r.errors.start_work),helperText:r.touched.start_work&&r.errors.start_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsx(xe,{label:a(n.employee.EndDate),variant:"outlined",fullWidth:!0,name:"end_work",value:r.values.end_work,onChange:d=>r.setFieldValue("end_work",d),slotProps:{textField:{variant:"outlined",error:!!(r.touched.end_work&&r.errors.end_work),helperText:r.touched.end_work&&r.errors.end_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(A,{item:!0,xs:6,children:e.jsxs($e,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(r.touched.type&&r.errors.type),children:[e.jsx(Ee,{id:"batiment-id",children:a(n.employee.ContractType)}),e.jsx(Pe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:r.handleBlur,fullWidth:!0,name:"type",onChange:r.handleChange,value:r.values.type,label:a(n.employee.ContractType),children:t.length>0?t.map(d=>e.jsx(ce,{value:d.id,children:d.value},d.id)):e.jsx(ce,{children:a(n.batiment.nothingToDisplay)})}),r.touched.type&&r.errors.type&&e.jsx(Fe,{children:r.errors.type})]})}),e.jsx(A,{item:!0,xs:12,children:e.jsxs($e,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(r.touched.rate&&r.errors.rate),children:[e.jsx(Ee,{id:"batiment-id",children:a(n.employee.PaymentDeadline)}),e.jsx(Pe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:r.handleBlur,fullWidth:!0,name:"rate",onChange:r.handleChange,value:r.values.rate,label:a(n.employee.PaymentDeadline),children:s.length>0?s.map(d=>e.jsx(ce,{value:d.id,children:d.value},d.id)):e.jsx(ce,{children:a(n.batiment.nothingToDisplay)})}),r.touched.rate&&r.errors.rate&&e.jsx(Fe,{children:r.errors.rate})]})})]}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:a(n.global.modifier)})]})]})}),e.jsx(pe,{confirmed:u,cancel:()=>h(P.actions.openCloseConfirm()),isConfirm:c})]})}function On(){const s=oe("paimentDelai",ue.fetchPaymentRate),t=oe("contracts",ue.fetchContract),{isModalAdd:h,isModalUpdate:a}=U(g=>g.mainDoeuvre);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(qe,{children:e.jsx(In,{})}),a&&e.jsx(Ln,{paimentDelai:s.data,contracts:t.data}),h&&e.jsx(An,{paimentDelai:s.data,contracts:t.data}),e.jsx(zn,{})]})}function Vn(){const s=oe("expense",ue.fetchExpenseType,{}),[t,h]=_.useState(""),[a,g]=_.useState([]),[p,y]=_.useState(""),[c,l]=_.useState(!1),[r,i]=_.useState(),[u,d]=_.useState(),{t:o,i18n:m}=q(),x=it(),v=j=>{h(j.target.value)},M=j=>{y(j.target.value)},B=j=>{j.preventDefault(),z.post("/expensestype/add/",{name:t}).then(S=>{g(E=>[...E,S.data]),h(""),T.success(o(n.depense.addsuccess)),x.invalidateQueries("expense")})},I=j=>{i(j),l(!0)},W=()=>{z.delete("/expensestype/delete/"+r).then(j=>{g(S=>S.filter(E=>E.id!=r)),l(!1),x.invalidateQueries("expense"),T.success(o(n.depense.deletesuccess))})},f=j=>{d(j)},C=()=>{z.put("/expensestype/update/",{id:u,name:p}).then(j=>{const S=a,E=S.findIndex(J=>J.id==u);S[E]=j.data,g(S),d(null),y(""),x.invalidateQueries("expense"),T.success(o(n.depense.editsuccess))})};return _.useEffect(()=>{s.isLoading||g(s.data),console.log(s)},[s.isLoading]),e.jsxs(e.Fragment,{children:[e.jsxs(Ne,{children:[e.jsx(w,{variant:"h5",mb:2,children:o(n.depense.titleType)}),e.jsx("form",{onSubmit:B,children:e.jsxs(D,{direction:"row",spacing:2,children:[e.jsx(k,{label:o(n.depense.addlabel),fullWidth:!0,value:t,onChange:v}),e.jsx(O,{type:"submit",variant:"contained",endIcon:e.jsx(Ce,{}),disabled:t=="",children:o(n.depense.addbutton)})]})}),s.isLoading?[...Array(5)].map(()=>e.jsx(lt,{variant:"rectangular",width:"100%",height:"40px",sx:{mt:2}})):a.length>0?a.map(j=>e.jsx(L,{sx:{mt:2,backgroundColor:S=>S.palette.mode==="dark"?"neutral.800":S.palette.primary.light,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"5px",p:.4},children:e.jsx(D,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:u!==j.id?e.jsxs(e.Fragment,{children:[e.jsx(w,{children:j.name}),e.jsxs(L,{children:[e.jsx(Q,{onClick:()=>f(j.id),children:e.jsx(ut,{})}),e.jsx(Q,{onClick:()=>I(j.id),children:e.jsx(ct,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{fullWidth:!0,value:p,autoFocus:!0,variant:"filled",onChange:M,size:"medium"}),e.jsx(Q,{onClick:C,disabled:p=="",children:e.jsx(dt,{color:"success"})}),e.jsx(Q,{onClick:()=>d(null),children:e.jsx(st,{color:"error"})})]})})})):e.jsx(w,{variant:"subtitle2",textAlign:"center",mt:2,children:o(n.client.nothingToDisplay)})]}),e.jsx(ee,{open:c,children:e.jsx(we,{title:o(n.depense.deletetitle),message:o(n.depense.deletemessage),cancel:()=>l(!1),deleteFn:W})})]})}function Un(){const s=oe("expenseDivers",ue.fetchDiversType,{}),t=it(),[h,a]=_.useState(""),[g,p]=_.useState([]),[y,c]=_.useState(""),[l,r]=_.useState(!1),[i,u]=_.useState(),[d,o]=_.useState(),{t:m,i18n:x}=q(),v=j=>{a(j.target.value)},M=j=>{c(j.target.value)},B=j=>{j.preventDefault(),z.post("/otherexpensestype/add/",{type:h}).then(S=>{p(E=>[...E,S.data]),a(""),t.invalidateQueries("expenseDivers"),T.success(m(n.depense.addsuccess))}).catch(S=>{T.error(m(n.global.toastError))})},I=j=>{u(j),r(!0)},W=()=>{z.delete("/otherexpensestype/delete/"+i).then(j=>{p(S=>S.filter(E=>E.id!=i)),r(!1),t.invalidateQueries("expenseDivers"),T.success(m(n.depense.deletesuccess))}).catch(j=>{T.error(m(n.global.toastError)),r(!1)})},f=j=>{o(j)},C=()=>{z.put("/otherexpensestype/update/",{id:d,type:y}).then(j=>{const S=g,E=S.findIndex(J=>J.id==d);S[E]=j.data,p(S),o(null),c(""),t.invalidateQueries("expenseDivers"),T.success(m(n.depense.editsuccess))}).catch(j=>{o(null),T.error(m(n.global.toastError))})};return _.useEffect(()=>{s.isLoading||p(s.data)},[s.isLoading]),e.jsxs(e.Fragment,{children:[e.jsxs(Ne,{children:[e.jsx(w,{variant:"h5",mb:2,children:m(n.divers.titleType)}),e.jsxs("form",{onSubmit:B,children:[e.jsxs(D,{direction:"row",spacing:2,children:[e.jsx(k,{label:m(n.depense.addlabel),fullWidth:!0,value:h,onChange:v}),e.jsx(O,{type:"submit",variant:"contained",endIcon:e.jsx(Ce,{}),disabled:h=="",children:m(n.depense.addbutton)})]}),console.log(s.length)]}),s.isLoading?[...Array(5)].map(()=>e.jsx(lt,{variant:"rectangular",width:"100%",height:"40px",sx:{mt:2}})):s.data.length>0?g.map(j=>e.jsx(L,{sx:{mt:2,backgroundColor:S=>S.palette.mode==="dark"?"neutral.800":S.palette.primary.light,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"5px",p:.4},children:e.jsx(D,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:d!==j.id?e.jsxs(e.Fragment,{children:[e.jsx(w,{children:j.type}),e.jsxs(L,{children:[e.jsx(Q,{onClick:()=>f(j.id),children:e.jsx(ut,{})}),e.jsx(Q,{onClick:()=>I(j.id),children:e.jsx(ct,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{fullWidth:!0,autoFocus:!0,value:y,variant:"filled",onChange:M,size:"medium"}),e.jsx(Q,{onClick:C,disabled:y=="",children:e.jsx(dt,{color:"success"})}),e.jsx(Q,{onClick:()=>o(null),children:e.jsx(st,{color:"error"})})]})})})):e.jsx(w,{variant:"subtitle2",textAlign:"center",mt:2,children:m(n.client.nothingToDisplay)})]}),e.jsx(ee,{open:l,children:e.jsx(we,{title:m(n.depense.deletetitle),message:m(n.depense.deletemessage),cancel:()=>r(!1),deleteFn:W})})]})}const _e=new Date,lr=()=>{const s=JSON.parse(sessionStorage.getItem("user")),{t,i18n:h}=q(),[a,g]=_.useState("client"),[p,y]=_.useState([{label:t(n.nav.client),value:"client"},!(s!=null&&s.is_eleveur)&&{label:t(n.employee.title),value:"mainDoeuvre"},{label:t(n.nav.waerhouse),value:"magasin"},{label:s!=null&&s.is_eleveur?t(n.batiment.title):t(n.fournisseur.title),value:"batiment"},{label:t(n.nav.eggTypeChange),value:"Modifier type d'oeuf"},!(s!=null&&s.is_eleveur)&&{label:t(n.nav.depenseMensuel),value:"depenseMensuel"},!(s!=null&&s.is_eleveur)&&{label:t(n.nav.depenseDivers),value:"depenseDivers"}].filter(l=>l!==!1));Lt();const c=_.useCallback((l,r)=>{g(r)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(Wt,{title:`ESM | ${t(n.global.setting)}`}),e.jsx(L,{component:"main",sx:{flexGrow:1,py:8},children:e.jsxs(Ne,{maxWidth:"xl",children:[e.jsxs(D,{spacing:3,sx:{mb:3},children:[e.jsx(w,{variant:"h4",children:t(n.global.setting)}),e.jsxs("div",{children:[e.jsx(Ut,{indicatorColor:"primary",onChange:c,scrollButtons:"auto",textColor:"primary",value:a,variant:"scrollable",children:p.map(l=>e.jsx(Yt,{label:l.label,value:l.value},l.value))}),e.jsx(ke,{})]})]}),a==="Modifier type d'oeuf"&&e.jsx(sn,{}),a==="billing"&&e.jsx(pt,{plan:"standard",invoices:[{id:"5547409069c59755261f5546",amount:4.99,createdAt:Le(_e,1).getTime()},{id:"a3e17f4b551ff8766903f31f",amount:4.99,createdAt:Le(_e,2).getTime()},{id:"28ca7c66fc360d8203644256",amount:4.99,createdAt:Le(_e,3).getTime()}]}),a==="team"&&e.jsx(gt,{members:[{avatar:"/assets/avatars/avatar-cao-yu.png",email:"cao.yu@devias.io",name:"Cao Yu",role:"Owner"},{avatar:"/assets/avatars/avatar-siegbert-gottfried.png",email:"siegbert.gottfried@devias.io",name:"Siegbert Gottfried",role:"Standard"}]}),a==="notifications"&&e.jsx(on,{}),a==="security"&&e.jsx(ft,{loginEvents:[{id:"1bd6d44321cb78fd915462fa",createdAt:Je(Xe(Ke(_e,5),7),1).getTime(),ip:"95.130.17.84",type:"Credential login",userAgent:"Chrome, Mac OS 10.15.7"},{id:"bde169c2fe9adea5d4598ea9",createdAt:Je(Xe(Ke(_e,25),9),1).getTime(),ip:"95.130.17.84",type:"Credential login",userAgent:"Chrome, Mac OS 10.15.7"}]}),a==="client"&&e.jsx(jn,{}),a==="mainDoeuvre"&&e.jsx(On,{}),a==="magasin"&&e.jsx(kn,{}),a==="batiment"&&e.jsx(Fn,{}),a==="depenseMensuel"&&e.jsx(Vn,{}),a==="depenseDivers"&&e.jsx(Un,{})]})})]})};export{lr as default};
