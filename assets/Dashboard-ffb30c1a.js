import{c as Mi,j as q,aO as nh,aP as cn,aQ as oa,aR as ah,aS as oh,aT as ht,af as lh,r as xe,au as we,aB as Sr,aD as $r,av as te,ax as We,aw as li,aC as Tt,az as es,aK as ci,aA as kr,ay as He,aH as Vt,aU as hh,aI as ch,aE as Ge,aF as uh,aG as On,aV as dh,aJ as fh,aL as Ee,aM as yo,aN as bo,aW as ph,aX as gh,aY as Us,aZ as ss,s as In,d as $t,an as Rn,a1 as Dt,V as mh,T as Ze,l as Xe,m as vh,h as Zt,H as la,a2 as Or,X as xo,i as vi,$ as Bn,B as tr,a_ as ns,as as yh,a$ as ha,O as Fs,b0 as bh,k as xh,I as wh,Y as ca,P as Sh,a6 as Ds,a as wo,ak as So,ae as Cr,b1 as Ns,b2 as as,b3 as Ch,S as Ah,C as kh}from"./index-0909516e.js";import{Q as Th,D as Lh,e as Fn,T as Dn,d as Nn,b as Tr,c as ni,P as Co,G as pt,g as ua,S as Ao,u as Bi,E as gr,h as Ph}from"./moment-648dda2f.js";import{u as Eh}from"./use-page-view-68698d82.js";import{C as zn,T as _n}from"./TableRowsLoader-022b84e6.js";import{E as Vn}from"./Eye-39b28278.js";import{ao as ko,a as Mh,R as Ue,ac as os,ad as ls,as as Pt,S as Qt,at as Fi,au as da,av as ws,c as Fe,Q as wi,b as Ce,aw as di,ax as hs,ay as Hr,az as qs,Y as Qi,_ as ki,h as $e,z as Ut,r as Et,aA as To,m as _t,aB as fa,aC as Lo,a6 as un,P as Lr,aD as Oh,B as ts,a5 as Po,F as Ih,aE as Rh,A as Eo,f as Xt,aF as Bh,aG as ii,D as Fh,s as pa,aH as vr,aI as Dh,ag as Mo,aJ as Pr,V as ir,aK as dn,aL as Nh,E as zh,C as Wr,aM as _h,aN as Oo,aj as fn,ak as Zr,aO as Io,aP as Ro,aQ as Vh,aR as Hh,p as Ss,aS as Wh,aT as Cs,aU as pn,o as ga,T as jh,U as ma,g as Xh,X as $s,Z as Zs,W as va,aV as cs,N as Yh,u as ya,v as Gh,M as Uh,I as qh,J as $h,K as Zh,aW as Kh,aX as Jh,aY as Qh,aZ as ec,x as tc,y as ic,G as ba,t as rc,q as sc,n as nc,O as Bo,a_ as xa,a$ as ac,b0 as oc,b1 as lc,b2 as hc,a2 as cc,a1 as uc,a4 as dc,a0 as fc,b3 as pc,b4 as Ti,b5 as jr,b6 as Fo,b7 as gc,b8 as Do,b9 as hr,k as No,ba as zo,bb as mc,bc as Li,bd as vc,be as Gi,bf as yc,am as wa,bg as bc,bh as _o,bi as Ks,an as xc,bj as wc,ae as Sa,a9 as Sc,bk as Rr,bl as Cc,ah as Ac,af as kc,ai as Tc,bm as us,al as Lc,L as Br,bn as Ca,bo as Aa,bp as ka,bq as Ta,$ as Pc,a7 as cr,a8 as Ec,br as ds,bs as La,ap as Vo,aq as Ho,ar as Wo}from"./tooltip-177ece24.js";import{M as Mc}from"./ModalDetails-5fe21926.js";import{C as Wi,b as Hn}from"./formik.esm-f6e343f0.js";import{C as Ir}from"./CardHeader-e6d1f857.js";import{C as Wn}from"./CardActions-2e3d1a8d.js";import{M as Oc}from"./ModalConfirm-9cd4ab44.js";import{C as Pa}from"./Check-9370a5e1.js";import{T as Ic,M as Rc}from"./ModalDetails-7e251b02.js";import{A as jo,T as Xo}from"./KeyboardArrowUp-70496bb3.js";import"./fr-897bdd02.js";import"./ExpandMore-09db540a.js";import"./DatePicker-ffa02013.js";import"./FilePreview-3f822ebe.js";import"./Tabs-cf92d6cb.js";const Yo=Mi(q.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),Bc=Mi(q.jsx("path",{d:"m14 7-5 5 5 5V7z"}),"ArrowLeft"),Fc=Mi(q.jsx("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight"),Go=Mi(q.jsx("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart"),Uo=Mi([q.jsx("path",{d:"M5 5h2v3h10V5h2v5h2V5c0-1.1-.9-2-2-2h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v-2H5V5zm7-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"},"0"),q.jsx("path",{d:"M20.3 18.9c.4-.7.7-1.5.7-2.4 0-2.5-2-4.5-4.5-4.5S12 14 12 16.5s2 4.5 4.5 4.5c.9 0 1.7-.3 2.4-.7l2.7 2.7 1.4-1.4-2.7-2.7zm-3.8.1c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"},"1")],"ContentPasteSearch"),Dc=Mi(q.jsx("path",{d:"M12 3C8.5 3 5 9.33 5 14c0 3.87 3.13 7 7 7s7-3.13 7-7c0-4.67-3.5-11-7-11zm1 15c-3 0-5-1.99-5-5 0-.55.45-1 1-1s1 .45 1 1c0 2.92 2.42 3 3 3 .55 0 1 .45 1 1s-.45 1-1 1z"}),"Egg"),qo=Mi(q.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen"),Nc=Mi(q.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print"),$o=Mi(q.jsx("path",{d:"M21 5.47 12 12 7.62 7.62 3 11V8.52L7.83 5l4.38 4.38L21 3v2.47zM21 15h-4.7l-4.17 3.34L6 12.41l-3 2.13V17l2.8-2 6.2 6 5-4h4v-2z"}),"SsidChart");var zc=function(n){nh(e,n);function e(i,r){var o;return o=n.call(this)||this,o.client=i,o.queries=[],o.result=[],o.observers=[],o.observersMap={},r&&o.setQueries(r),o}var t=e.prototype;return t.onSubscribe=function(){var r=this;this.listeners.length===1&&this.observers.forEach(function(o){o.subscribe(function(h){r.onUpdate(o,h)})})},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.destroy=function(){this.listeners=[],this.observers.forEach(function(r){r.destroy()})},t.setQueries=function(r,o){this.queries=r,this.updateObservers(o)},t.getCurrentResult=function(){return this.result},t.getOptimisticResult=function(r){return this.findMatchingObservers(r).map(function(o){return o.observer.getOptimisticResult(o.defaultedQueryOptions)})},t.findMatchingObservers=function(r){var o=this,h=this.observers,u=r.map(function(R){return o.client.defaultQueryObserverOptions(R)}),g=u.flatMap(function(R){var I=h.find(function(j){return j.options.queryHash===R.queryHash});return I!=null?[{defaultedQueryOptions:R,observer:I}]:[]}),y=g.map(function(R){return R.defaultedQueryOptions.queryHash}),x=u.filter(function(R){return!y.includes(R.queryHash)}),S=h.filter(function(R){return!g.some(function(I){return I.observer===R})}),T=x.map(function(R,I){if(R.keepPreviousData){var j=S[I];if(j!==void 0)return{defaultedQueryOptions:R,observer:j}}return{defaultedQueryOptions:R,observer:o.getObserver(R)}}),M=function(I,j){return u.indexOf(I.defaultedQueryOptions)-u.indexOf(j.defaultedQueryOptions)};return g.concat(T).sort(M)},t.getObserver=function(r){var o=this.client.defaultQueryObserverOptions(r),h=this.observersMap[o.queryHash];return h??new Th(this.client,o)},t.updateObservers=function(r){var o=this;cn.batch(function(){var h=o.observers,u=o.findMatchingObservers(o.queries);u.forEach(function(T){return T.observer.setOptions(T.defaultedQueryOptions,r)});var g=u.map(function(T){return T.observer}),y=Object.fromEntries(g.map(function(T){return[T.options.queryHash,T]})),x=g.map(function(T){return T.getCurrentResult()}),S=g.some(function(T,M){return T!==h[M]});h.length===g.length&&!S||(o.observers=g,o.observersMap=y,o.result=x,o.hasListeners()&&(oa(h,g).forEach(function(T){T.destroy()}),oa(g,h).forEach(function(T){T.subscribe(function(M){o.onUpdate(T,M)})}),o.notify()))})},t.onUpdate=function(r,o){var h=this.observers.indexOf(r);h!==-1&&(this.result=ah(this.result,h,o),this.notify())},t.notify=function(){var r=this;cn.batch(function(){r.listeners.forEach(function(o){o(r.result)})})},e}(oh);function _c(n){var e=ht.useRef(!1),t=ht.useState(0),i=t[1],r=lh(),o=xe.useMemo(function(){return n.map(function(y){var x=r.defaultQueryObserverOptions(y);return x.optimisticResults=!0,x})},[n,r]),h=ht.useState(function(){return new zc(r,o)}),u=h[0],g=u.getOptimisticResult(o);return ht.useEffect(function(){e.current=!0;var y=u.subscribe(cn.batchCalls(function(){e.current&&i(function(x){return x+1})}));return function(){e.current=!1,y()}},[u]),ht.useEffect(function(){u.setQueries(o,{listeners:!1})},[o,u]),g}var Zo=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),As=function(n){Zo(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.moduleName="series",e.complexTemplate={"dataLabel.template":"dataLabel.template"},e}(ko),Ko=function(n){Zo(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.propertyName="series",e.moduleName="seriesCollection",e}(ko),Ea=10,Vc=function(){function n(e){this.chart=e,this.padding=5}return n.prototype.measureAxis=function(e){var t=this.chart,i=t.chartArea.width?Mh(t.chartArea.width,t.availableSize.width):null;this.crossAt(t),this.seriesClipRect=new Ue(e.x,e.y,e.width,e.height),this.initialClipRect=e,this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.initialClipRect=os(this.initialClipRect,new ls(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.initialClipRect=os(this.initialClipRect,new ls(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||this.calculateAxisSize(this.initialClipRect),this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.seriesClipRect=os(this.seriesClipRect,new ls(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.seriesClipRect=os(this.seriesClipRect,new ls(0,0,this.topSize,this.bottomSize)),i&&this.calculateFixedChartArea(t,i),this.chart.delayRedraw||(t.refreshAxis(),this.calculateAxisSize(this.seriesClipRect))},n.prototype.calculateFixedChartArea=function(e,t){this.seriesClipRect.width=t,this.seriesClipRect.x=e.availableSize.width-e.margin.right-t-(e.legendSettings.position==="Right"?e.legendModule.legendBounds.width:0);for(var i=0,r=e.rows;i<r.length;i++){var o=r[i];this.seriesClipRect.x-=Pt(o.farSizes)}},n.prototype.measureRowAxis=function(e,t){var i;this.calculateRowSize(t);for(var r=0,o=e.rows;r<o.length;r++){var h=o[r];i=h,i.nearSizes=[],i.farSizes=[],i.insideNearSizes=[],i.insideFarSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new Qt(e.availableSize.width,i.computedHeight)),this.leftSize<Pt(i.nearSizes)&&(this.leftSize=Pt(i.nearSizes)),this.rightSize<Pt(i.farSizes)&&(this.rightSize=Pt(i.farSizes))}},n.prototype.measureColumnAxis=function(e,t){var i;this.calculateColumnSize(t);for(var r=0,o=e.columns;r<o.length;r++){var h=o[r];i=h,i.farSizes=[],i.nearSizes=[],i.insideNearSizes=[],i.insideFarSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new Qt(i.computedWidth,e.availableSize.height)),this.bottomSize<Pt(i.nearSizes)&&(this.bottomSize=Pt(i.nearSizes)),this.topSize<Pt(i.farSizes)&&(this.topSize=Pt(i.farSizes))}},n.prototype.measureDefinition=function(e,t,i){for(var r,o=0,h=e.axes;o<h.length;o++){var u=h[o];r=u.scrollbarSettings.height,u.scrollBarHeight=t.scrollBarModule&&t.zoomModule&&t.zoomSettings.enableScrollbar&&u.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(u.zoomFactor<1||u.zoomPosition>0)?r:0,u.scrollBarHeight=t.scrollBarModule&&(t.zoomModule&&t.zoomSettings.enableScrollbar&&u.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(u.zoomFactor<1||u.zoomPosition>0)||u.scrollbarSettings.enable)?r:0,u.getModule(t),u.baseModule.calculateRangeAndInterval(i,u),e.computeSize(u,u.scrollBarHeight,e,t)}e.farSizes.length>0&&(e.farSizes[e.farSizes.length-1]-=Ea),e.nearSizes.length>0&&(e.nearSizes[e.nearSizes.length-1]-=Ea)},n.prototype.calculateAxisSize=function(e){var t=this.chart,i,r,o,h,u=0,g=0,y=0,x,S,T;this.calculateRowSize(e);for(var M=0,R=t.rows.length;M<R;M++){i=t.rows[M],u=0,g=0;for(var I=0,j=i.axes.length;I<j;I++){if(h=i.axes[I],T=h.plotOffset,h.rect.height===0){h.rect.height=i.computedHeight,y=0;for(var W=M+1,N=M+h.span;W<N;W++)o=t.rows[W],y+=o.computedHeight;h.rect.y=i.computedTop-y+(h.plotOffsetTop?h.plotOffsetTop:T),h.rect.height=h.rect.height+y-this.getAxisOffsetValue(h.plotOffsetTop,h.plotOffsetBottom,h.plotOffset),h.rect.width=0}h.isAxisOpposedPosition?(h.labelPosition==="Inside"&&h.orientation==="Vertical"?x=e.x+e.width-Pt(Fi(i.insideFarSizes,g)):x=e.x+e.width+Pt(Fi(i.farSizes,g)),h.rect.x=h.rect.x>=x?h.rect.x:x,g++):(h.labelPosition==="Inside"&&h.orientation==="Vertical"?x=e.x+Pt(Fi(i.insideNearSizes,u)):x=e.x-Pt(Fi(i.nearSizes,u)),h.rect.x=h.rect.x<=x?h.rect.x:x,u++)}}this.calculateColumnSize(e);for(var M=0,R=t.columns.length;M<R;M++){r=t.columns[M],u=0,g=0;for(var I=0,G=r.axes.length;I<G;I++){if(h=r.axes[I],T=h.plotOffset,h.rect.width===0){for(var W=M,K=M+h.span;W<K;W++)o=t.columns[W],h.rect.width+=o.computedWidth;h.rect.x=r.computedLeft+(h.plotOffsetLeft?h.plotOffsetLeft:T),h.rect.width-=this.getAxisOffsetValue(h.plotOffsetLeft,h.plotOffsetRight,h.plotOffset),h.rect.height=0}h.isAxisOpposedPosition?(h.labelPosition==="Inside"&&h.orientation==="Horizontal"?S=e.y+Pt(Fi(r.insideFarSizes,g)):S=e.y-Pt(Fi(r.farSizes,g)),h.rect.y=h.rect.y<=S?h.rect.y:S,g++):(h.labelPosition==="Inside"&&h.orientation==="Horizontal"?S=e.y+e.height-Pt(Fi(r.insideNearSizes,u)):S=e.y+e.height+Pt(Fi(r.nearSizes,u)),h.rect.y=h.rect.y>=S?h.rect.y:S,u++)}}},n.prototype.measure=function(){for(var e=this.chart,t,i,r,o,h,u=0,g=e.axisCollections;u<g.length;u++){var y=g[u];if(y.orientation==="Vertical"){e.verticalAxes.push(y),o=this.getActualRow(y),t=e.rows[o],this.pushAxis(t,y),h=o+y.span>e.rows.length?e.rows.length:o+y.span;for(var x=o+1;x<h;x++)r=e.rows[x],r.axes[t.axes.length-1]=y,e.rows[x]=r;e.rows[o]=t}else{e.horizontalAxes.push(y),o=this.getActualColumn(y),i=e.columns[o],this.pushAxis(i,y),h=o+y.span>e.columns.length?e.columns.length:o+y.span;for(var x=o+1;x<h;x++)r=e.columns[x],r.axes[i.axes.length-1]=y,e.columns[x]=r;e.columns[o]=i}y.isRTLEnabled=e.enableRtl,y.setIsInversedAndOpposedPosition()}},n.prototype.getAxisOffsetValue=function(e,t,i){var r=e?e+(t||i):t?t+i:2*i;return r},n.prototype.crossAt=function(e){for(var t=0,i=e.axisCollections;t<i.length;t++){var r=i[t];if(r.crossesAt!==null)if(r.crossesInAxis){for(var o=2,h=e.axisCollections.length;o<h;o++)if(r.crossesInAxis===e.axisCollections[o].name){r.crossInAxis=e.axisCollections[o],r.crossAt=this.updateCrossAt(r.crossInAxis,r.crossesAt);continue}}else{e.requireInvertedAxis?r.crossInAxis=r.orientation==="Horizontal"?e.primaryXAxis:e.primaryYAxis:r.crossInAxis=r.orientation==="Horizontal"?e.primaryYAxis:e.primaryXAxis,r.crossAt=this.updateCrossAt(r.crossInAxis,r.crossesAt);continue}}},n.prototype.updateCrossAt=function(e,t){switch(e.valueType){case"DateTime":{var i={skeleton:"full",type:"dateTime"},r=this.chart.intl.getDateParser(i),o=this.chart.intl.getDateFormat(i);return Date.parse(r(o(new Date(ws.parse.parseJson({val:t}).val))))}case"Category":return parseFloat(t)?parseFloat(t):e.labels.indexOf(t);case"Logarithmic":return da(t,e.logBase);default:return t}},n.prototype.pushAxis=function(e,t){for(var i=0,r=e.axes.length;i<=r;i++)if(!e.axes[i]){e.axes[i]=t;break}},n.prototype.arrangeAxis=function(e){for(var t=[],i=0,r=e.axes.length;i<=r;i++)e.axes[i]&&t.push(e.axes[i]);e.axes=t},n.prototype.getActualColumn=function(e){var t=this.chart.columns.length,i=e.columnIndex,r=i>=t?t-1:i<0?0:i;return r},n.prototype.getActualRow=function(e){var t=this.chart.rows.length,i=e.rowIndex,r=i>=t?t-1:i<0?0:i;return r},n.prototype.calculateRowSize=function(e){for(var t=this.chart,i,r=e.y+e.height,o=0,h=Math.max(0,e.height),u=0,g=t.rows.length;u<g;u++)i=t.rows[u],i.height.indexOf("%")!==-1?o=Math.min(h,e.height*parseInt(i.height,10)/100):o=Math.min(h,parseInt(i.height,10)),o=u!==g-1?o:h,i.computedHeight=o,r-=o,i.computedTop=r,h-=o},n.prototype.calculateColumnSize=function(e){for(var t=this.chart,i,r=e.x,o=0,h=Math.max(0,e.width),u=0,g=t.columns.length;u<g;u++)i=t.columns[u],i.width.indexOf("%")!==-1?o=Math.min(h,e.width*parseInt(i.width,10)/100):o=Math.min(h,parseInt(i.width,10)),o=u!==g-1?o:h,i.computedWidth=o,i.computedLeft=r,r+=o,h-=o},n.prototype.renderAxes=function(){var e=this.chart,t,i=e.renderer.createGroup({id:e.element.id+"AxisInsideCollection"}),r=e.renderer.createGroup({id:e.element.id+"AxisOutsideCollection"});r&&r.setAttribute("aria-hidden","true");for(var o,h,u=0,g=e.axisCollections.length;u<g;u++){var y=!0;t=e.axisCollections[u],this.element=e.renderer.createGroup({id:e.element.id+"AxisGroup"+u+"Inside"}),this.element&&this.element.setAttribute("aria-hidden","true"),o=e.renderer.createGroup({id:e.element.id+"AxisGroup"+u+"Outside"}),o&&o.setAttribute("aria-hidden","true");for(var x=0,S=t.series;x<S.length;x++){var T=S[x];if(t.name===T.yAxisName||t.name===T.xAxisName){if(y=T.visible,T.category==="Pareto"&&!T.paretoOptions.showAxis&&T.type==="Line"&&(y=!1),y)break;continue}}y&&(h=this.findAxisPosition(t),this.drawAxis(t,u,h,o,i,r))}return this.drawPaneLines(e,i),Fe(e.enableCanvas,e.svgObject,i,e.redraw),r},n.prototype.renderScrollbar=function(e,t){var i=we(e.zoomModule)?!1:e.zoomModule.isZoomed;t.zoomingScrollBar||e.scrollBarModule.injectTo(t,e),(i&&(t.zoomFactor<1||t.zoomPosition>0)||t.scrollbarSettings.enable&&(t.zoomFactor<=1||t.zoomPosition>=0))&&!t.zoomingScrollBar.isScrollUI?(e.scrollElement||(e.scrollElement=wi(e.redraw,e.element.id+"_scrollElement")||Sr("div",{id:e.element.id+"_scrollElement"})),Fe(!1,e.scrollElement,t.zoomingScrollBar.render(!0),!0)):t.zoomFactor===1&&t.zoomPosition===0&&t.zoomingScrollBar.svgObject&&!t.scrollbarSettings.enable?t.zoomingScrollBar.destroy():t.zoomingScrollBar.svgObject&&(t.zoomingScrollBar.svgObject.style.top=(t.isAxisOpposedPosition&&t.orientation==="Horizontal"?-16:0)+t.rect.y+Math.max(.5,t.lineStyle.width/2)+"px",t.zoomingScrollBar.svgObject.style.left=(t.isAxisOpposedPosition&&t.orientation!=="Horizontal"?16:0)+t.rect.x-(t.orientation==="Vertical"?t.scrollbarSettings.height:0)+"px"),t.zoomingScrollBar.isScrollUI&&(t.zoomingScrollBar.isScrollUI=!1)},n.prototype.drawPaneLines=function(e,t){this.element=e.renderer.createGroup({id:e.element.id+"DefinitionLine"});for(var i=0,r=e.rows.length;i<r;i++){var o=e.rows[i];o.border.color&&this.drawBottomLine(o,i,!0)}for(var i=0,r=e.columns.length;i<r;i++){var h=e.columns[i];h.border.color&&this.drawBottomLine(h,i,!1)}t=t||Ce(e.element.id+"AxisInsideCollection"),this.chart.enableCanvas||t.appendChild(this.element)},n.prototype.drawAxis=function(e,t,i,r,o,h){e.updateCrossValue();var u="";e.orientation==="Horizontal"?(e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,t,e.plotOffset,0,0,0,e.plotOffsetLeft,e.plotOffsetRight,i?r:this.element,e.updatedRect),u="X"):(e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,t,0,e.plotOffset,e.plotOffsetBottom,e.plotOffsetTop,0,0,i?r:this.element,e.updatedRect),u="Y"),(e.majorGridLines.width>0||e.majorTickLines.width>0||e.minorTickLines.width>0||e.minorGridLines.width>0)&&this["draw"+u+"AxisGridLine"](e,t,i||e.tickPosition==="Inside"?r:this.element,e.updatedRect),e.visible&&e.internalVisibility&&(this["draw"+u+"AxisLabels"](e,t,i||e.labelPosition==="Inside"?r:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this["draw"+u+"AxisBorder"](e,t,i||e.labelPosition==="Inside"?r:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this["draw"+u+"AxisTitle"](e,t,i?r:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect)),this.chart.enableCanvas||(o.appendChild(this.element),r&&r.childNodes.length>0&&h.appendChild(r)),this.chart.scrollBarModule&&(this.chart.zoomSettings.enableScrollbar&&e.enableScrollbarOnZooming||e.scrollbarSettings.enable)?this.renderScrollbar(this.chart,e):e.zoomingScrollBar&&e.zoomingScrollBar.destroy()},n.prototype.findAxisPosition=function(e){return e.crossAt!==null&&e.isInside(e.crossInAxis.visibleRange)},n.prototype.drawBottomLine=function(e,t,i){var r=this.chart,o={},h,u,g,y,x;i?(e=e,g=y=e.computedTop+e.computedHeight,h=this.seriesClipRect.x,u=h+this.seriesClipRect.width,x="Row"):(e=e,h=u=e.computedLeft,g=this.seriesClipRect.y,y=g+this.seriesClipRect.height,x="Column"),o={id:r.element.id+"_AxisBottom_"+x+t,x1:h,y1:g,x2:u,y2:y,"stroke-width":e.border.width,stroke:e.border.color},this.htmlObject=r.renderer.drawLine(o),Fe(r.enableCanvas,this.element,this.htmlObject)},n.prototype.drawAxisLine=function(e,t,i,r,o,h,u,g,y,x){var S=this.chart,T={},M=Ce(S.element.id+"AxisLine_"+t),R=M?M.getAttribute("d"):"";M=null,T={id:S.element.id+"AxisLine_"+t,d:"M "+(x.x-i-u)+" "+(x.y-r-h)+" L "+(x.x+x.width+i+g)+" "+(x.y+x.height+r+o),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||S.themeStyle.axisLine},this.htmlObject=S.renderer.drawPath(T),Fe(S.enableCanvas,y,this.htmlObject,S.redraw,!0,"x","y",null,R,null,null,null,S.duration)},n.prototype.drawYAxisGridLine=function(e,t,i,r){var o=e.valueType==="Logarithmic",h=e.valueType.indexOf("Category")>-1,u,g=0,y="",x="",S,T=e.isAxisOpposedPosition,M=T?e.majorTickLines.height:-e.majorTickLines.height,R=T?e.lineStyle.width*.5:-e.lineStyle.width*.5,I=e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?.5:0,j=we(e.crossesAt)?T?e.scrollBarHeight:-e.scrollBarHeight:0,W=e.tickPosition==="Inside",N=W?r.x-M-R:r.x+M+R+j,G=e.visibleLabels.length,K=this.chart.themeStyle,_=1;e.valueType.indexOf("Category")>-1&&e.labelPlacement==="BetweenTicks"&&G>0&&!this.chart.stockChart&&(G+=1);for(var Q=e.minorGridLines,ie=e.minorTickLines,re=0;re<G;re++)u=e.visibleLabels[re]?e.visibleLabels[re].value-I:e.visibleLabels[re-1].value+e.visibleRange.interval-I,g=di(u,e)*r.height,g=g*-1+(r.y+r.height),g>=r.y&&r.y+r.height>=g&&(this.chart.redraw&&!this.chart.enableCanvas&&this.chart.zoomRedraw&&e.visible&&e.majorGridLines.width&&re!==0&&!Ce(this.chart.element.id+"_MajorGridLine_"+t+"_"+re)&&(y="M "+this.seriesClipRect.x+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(re||1)*_:-(this.seriesClipRect.height/(re||1)*_)))+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(re||1)*_:-(this.seriesClipRect.height/(re||1)*_))),this.updateAxisElement(e,t,y,re,"_MajorGridLine_",this.element,!1),Ce(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1])),(hs(u,e.visibleRange)||this.isBorder(e,re,g))&&(y="M "+this.seriesClipRect.x+" "+g+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+g,this.renderGridLine(e,t,y,e.majorGridLines,"_MajorGridLine_",re,this.element,K.majorGridLine,e.majorGridLines.dashArray)),this.chart.redraw&&this.chart.zoomRedraw&&e.majorTickLines.width&&re!==0&&!Ce(this.chart.element.id+"_MajorTickLine_"+t+"_"+re)&&!this.chart.enableCanvas&&e.visible&&(x="M "+this.seriesClipRect.x+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(re||1)*_:-(this.seriesClipRect.height/(re||1)*_)))+" L "+N+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(re||1)*_:-(this.seriesClipRect.height/(re||1)*_))),this.updateAxisElement(e,t,x,re,"_MajorTickLine_",i,!1),Ce(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1]),_+=1),x="M "+(r.x+R+(W?j:0))+" "+g+" L "+N+" "+g,this.renderGridLine(e,t,x,e.majorTickLines,"_MajorTickLine_",re,i,K.majorTickLine),(Q.width>0||ie.width>0)&&e.minorTicksPerInterval>0&&(re===0&&Hr(e)&&!o&&!h&&this.renderMinorGridOnZooming(e,u,r,re,t,K,i),S=this.drawAxisMinorLine(e,u,r,re),this.renderGridLine(e,t,S[0],Q,"_MinorGridLine_",re,this.element,K.minorGridLine,Q.dashArray),this.renderGridLine(e,t,S[1],ie,"_MinorTickLine_",re,i,K.minorTickLine),re===G-1&&Hr(e)&&o&&!h&&this.renderMinorGridOnZooming(e,u+e.visibleRange.interval,r,re,t,K,i)));if(G&&this.previousYLabel>G&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&this.chart.redraw)for(var re=G;re<this.previousYLabel;re++){var fe=this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height/G*(re-G+1)+this.seriesClipRect.height:-(this.seriesClipRect.height/G*(re-G+1)));e.majorGridLines.width&&(y="M "+this.seriesClipRect.x+" "+ +fe+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+fe,this.updateAxisElement(e,t,y,re,"_MajorGridLine_",this.element,!0)),e.majorTickLines.width&&(x="M "+this.seriesClipRect.x+" "+fe+" L "+N+" "+fe,this.updateAxisElement(e,t,x,re,"_MajorTickLine_",i,!0))}},n.prototype.isBorder=function(e,t,i){var r=this.chart.chartArea.border,o=this.seriesClipRect,h=e.orientation,u=h==="Horizontal"?o.x:o.y,g=h==="Horizontal"?o.width:o.height,y=h==="Horizontal"?0:e.visibleLabels.length-1,x=h==="Horizontal"?e.visibleLabels.length-1:0;return e.plotOffset>0||(i===u||i===u+g)&&(r.width<=0||r.color==="transparent")?!0:i!==u&&t===y||i!==u+g&&t===x},n.prototype.drawYAxisLabels=function(e,t,i,r){var o=this.chart,h,u=0,g=0,y,x=e.labelPadding,S,T,M=e.labelPosition==="Inside",R=e.isAxisOpposedPosition,I,j=e.labelPosition===e.tickPosition?e.majorTickLines.height:0,W=j+x+e.lineStyle.width*.5,N=e.angle%360,G=N===-90||N===90||N===270||N===-270;W+=G?M?5:-5:0,W=R?W:-W;var K=o.renderer.createGroup({id:o.element.id+"AxisLabels"+t}),_=we(e.crossesAt)?e.scrollBarHeight*(R?1:-1):0,Q,ie,re,fe=10,ne=e.isAxisInverse,ve=1,ye=ne?r.y:r.y+r.height,le,pe,Te,Ie,et=!R&&!M||R&&M;M?le=et?W:-W:le=et?W+(o.enableRtl?-_:_):-W+(o.enableRtl?-_:_);var nt=[],Me=[];e.visibleLabels.map(function(Ct){nt.push(Ct.size.width),Me.push(Ct.breakLabelSize.width)});var qe=Math.max.apply(Math,nt),Ve=Math.max.apply(Math,Me);I=qe,N>=-45&&N<=45&&N!==0&&(I=qe*Math.cos(N*Math.PI/180),I<0&&(I=-I));for(var Se=0,st=e.visibleLabels.length;Se<st;Se++){switch(h=e.visibleLabels[Se],T=qs(e.visibleLabels[Se].originalText),y=T?e.visibleLabels[Se].breakLabelSize:e.visibleLabels[Se].size,g=di(e.visibleLabels[Se].value,e)*r.height+(o.stockChart?7:0),g=Math.floor(g*-1+(r.y+r.height)),Q=y.height/8*e.visibleLabels[Se].text.length/2,ie=o.requireInvertedAxis&&e.labelPosition==="Inside"?0:y.height/4*3+3,pe=r.height/e.visibleLabels.length,Te=(e.labelIntersectAction==="Trim"||e.labelIntersectAction==="Wrap")&&N!==0&&y.width>pe?pe:y.width,g=T?e.labelPosition==="Inside"?g-y.height/2-Q+ie:g-Q:e.labelPosition==="Inside"?g+ie:g,e.labelPosition==="Inside"&&(Se===0&&!e.isInversed||Se===st-1&&e.isInversed)&&(o.stockChart?g-=ie:g-=ie-(o.requireInvertedAxis&&e.labelPosition==="Inside"?0:e.opposedPosition?-W:W)),e.majorGridLines.width>e.majorTickLines.width?re=e.majorGridLines.width:re=e.majorTickLines.width,e.labelStyle.textAlignment==="Far"?g=g-re-fe:e.labelStyle.textAlignment==="Near"&&(g=g+re+fe),M?Ie=le+(N===0?y.width:T?Ve:qe)/2:Ie=le-(N===0?y.width:T?Ve:I)/2,u=R?e.scrollBarHeight!==0?r.x+e.scrollBarHeight+W-Ie:r.x-Ie:r.x+Ie,G&&(u+=R?5:-5),Ie=le,S=new Qi(o.element.id+t+"_AxisLabel_"+Se,u,g,"middle",h.text,"","middle",N),e.edgeLabelPlacement){case"None":break;case"Hide":((Se===0||ne&&Se===st-1)&&S.y>r.y||(Se===st-1||ne&&Se===0)&&S.y-y.height*.5<r.y)&&(S.text="");break;case"Shift":(Se===0||ne&&Se===st-1)&&S.y>r.y+r.height?S.y=g=r.y+r.height:(Se===st-1||ne&&Se===0)&&(S.y<r.y||S.y-y.height*.5<=0)&&(S.y=g=r.y+y.height*.5);break}var ut=S.y,Ae=S.y-Te;if(T&&(ut=S.y-Te/2,Ae=S.y+Te/2),!((N===90||N===270)&&e.labelIntersectAction==="Hide"&&Se!==0&&(ne?Ae<=ye:ut>=ye))){if(ye=ne?ut:Ae,S.transform="rotate("+N+","+u+","+g+")",this.chart.redraw&&this.chart.zoomRedraw&&!Ce(S.id)&&!this.chart.enableCanvas&&e.visible){var Ke=S.y;S.y=this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(Se||1)*ve:-(this.seriesClipRect.height/(Se||1)*ve)),this.updateAxisElement(e,t,"",Se,"_AxisLabel_",K,!1,S,h),S.y=Ke,ve+=1}ki(o.renderer,S,h.labelStyle,h.labelStyle.color||o.themeStyle.axisLabelFont.color,K,!1,o.redraw,!0,!0,o.duration,null,null,null,o.enableCanvas,null,o.themeStyle.axisLabelFont,new $e(u,g))}}if(this.previousYLabel&&e.visibleLabels.length&&this.previousYLabel>e.visibleLabels.length&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&o.redraw&&S.text)for(var Se=e.visibleLabels.length;Se<this.previousYLabel;Se++)S.y=this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/e.visibleLabels.length*(Se-e.visibleLabels.length+1):-(this.seriesClipRect.height/e.visibleLabels.length*(Se-e.visibleLabels.length+1))),S.id=o.element.id+t+"_AxisLabel_"+Se,this.updateAxisElement(e,t,"",Se,"_AxisLabel_",K,!0,S,h);else this.previousYLabel=e.visibleLabels.length;this.chart.enableCanvas||(o.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,K,e,t,r):Fe(o.enableCanvas,i,K,o.redraw))},n.prototype.rangeAnimate=function(e,t,i,r,o,h,u){var g=this;t&&new $r({}).animate(t,{duration:i,progress:function(){var y=Ce(t.id);if(y.style.animation="",r)Ut(parseFloat(y.getAttribute("x")),parseFloat(y.getAttribute("y")),o)?y.style.visibility="visible":y.style.visibility="hidden";else{var x=y.getAttribute("d").split(" ");Ut(parseFloat(x[1]),parseFloat(x[2]),o)?y.style.visibility="visible":y.style.visibility="hidden"}},end:function(){var y=Ce(t.id);y.style.visibility="",h&&u>=e.visibleLabels.length&&(Et(y),r&&(e.orientation==="Vertical"?g.previousYLabel=e.visibleLabels.length:g.previousXLabel=e.visibleLabels.length))}})},n.prototype.getAxisLabelXvalue=function(e,t,i){var r=t.lineBreakAlignment,o=t.labelPosition==="Inside",h=t.isAxisOpposedPosition;return h&&o||!h&&!o?r==="Right"?e:r==="Center"?e-i/2:e-i:r==="Left"?e:r==="Center"?e+i/2:e+i},n.prototype.drawYAxisBorder=function(e,t,i,r){if(e.border.width>0){var o=void 0,h=void 0,u=e.labelPosition==="Outside"?e.scrollBarHeight:0,g=e.isAxisOpposedPosition;u=(g?1:-1)*u;for(var y=r.height/e.visibleRange.delta*(e.valueType==="DateTime"?e.dateTimeInterval:e.visibleRange.interval),x=void 0,S=e.maxLabelSize.width+10+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),T="",M=e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?-.5:0,R=g&&e.labelPosition==="Inside"||!g&&e.labelPosition==="Outside"?r.x-S+u:r.x+S+u,I=0,j=e.visibleLabels.length;I<j;I++)switch(h=di(e.visibleLabels[I].value+M,e),h=(e.isAxisInverse?1-h:h)*r.height,e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?(o=h*-1+(r.y+r.height),x=h*-1-y+(r.y+r.height)):(o=h*-1+y/2+(r.y+r.height),x=h*-1-y/2+(r.y+r.height)),e.border.type){case"Rectangle":case"WithoutTopBorder":o>r.y+r.height?T+="M "+R+" "+(r.y+r.height)+" L "+R+" "+x+" ":Math.floor(r.y)>x?T+="M "+(r.x+u)+" "+o+" L "+R+" "+o+" L "+R+" "+r.y+" ":(T+="M "+(r.x+u)+" "+o+" L "+R+" "+o+" L "+R+" "+x+" ",I===e.visibleLabels.length-1&&(T+="M "+(r.x+u)+" "+x+" L "+R+" "+x+" "));break;case"WithoutTopandBottomBorder":!(o>r.y+r.height)&&!(x<Math.floor(r.y))&&(T+="M "+(r.x+u)+" "+o+" L "+R+" "+o+" M "+R+" "+x+" L "+(r.x+u)+" "+x);break}T+=e.border.type==="Rectangle"?"M "+(r.x+u)+" "+r.y+" L "+(r.x+u)+" "+(r.y+r.height)+" ":"",T!==""&&this.createAxisBorderElement(e,t,T,i)}for(var I=0;I<this.chart.visibleSeries.length;I++)if(e.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule&&this.chart.visibleSeries[I].visible){this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(e,t,i,r);break}},n.prototype.drawYAxisTitle=function(e,t,i,r){if(e.title){var o=this.chart,h=!1,u=e.isAxisOpposedPosition,g=(e.titleRotation==null?u?90:-90:e.titleRotation)%360,y=(e.tickPosition==="Inside"?0:e.majorTickLines.height+e.titlePadding)+(e.labelPosition==="Inside"?0:e.maxLabelSize.width+e.multiLevelLabelHeight+this.padding);y=u?y+e.scrollBarHeight:-y-e.scrollBarHeight,(g!==-90&&!u||g!==90&&u)&&(y+=e.isAxisOpposedPosition?e.titleSize.width/2+e.labelPadding:-e.titleSize.width/2-e.labelPadding,h=!0);var x=r.x+y,S=void 0,T=void 0;e.titleStyle.textAlignment==="Center"?(T="middle",S=r.y+r.height*.5):e.titleStyle.textAlignment==="Near"?(T=e.opposedPosition?"end":"start",S=r.height+r.y):(T=e.opposedPosition?"start":"end",S=r.y);var M=e.titleSize.height*(e.titleCollection.length-1),R=new Qi(o.element.id+"_AxisTitle_"+t,x,S+(h?-M:-e.labelPadding-M),T,e.titleCollection,"rotate("+g+","+x+","+S+")",null,g),I=ki(o.renderer,R,e.titleStyle,e.titleStyle.color||o.themeStyle.axisTitleFont.color,i,null,null,null,null,null,null,null,null,o.enableCanvas,null,o.themeStyle.axisTitleFont,new $e(x,S));I.setAttribute("aria-hidden","true")}},n.prototype.drawXAxisGridLine=function(e,t,i,r){var o=e.valueType==="Logarithmic",h=e.valueType.indexOf("Category")>-1,u,g=0,y="",x="",S,T=1,M=e.isAxisOpposedPosition,R=M?-e.majorTickLines.height:e.majorTickLines.height,I=M?-e.lineStyle.width*.5:e.lineStyle.width*.5,j=we(e.crossesAt)?M?-e.scrollBarHeight:e.scrollBarHeight:0,W=e.valueType.indexOf("Category")>-1&&e.labelPlacement==="BetweenTicks"&&!this.chart.stockChart?.5:0,N=e.visibleLabels.length,G=e.tickPosition==="Inside",K=G?r.y-R-I:r.y+R+I+j,_=this.chart.themeStyle;e.valueType.indexOf("Category")>-1&&N>0&&e.labelPlacement==="BetweenTicks"&&!this.chart.stockChart&&(N+=1);for(var Q=this.calculateGridLineId(i,N),ie=0;ie<N;ie++)if(e.valueType!=="DateTimeCategory"?u=e.visibleLabels[ie]?e.visibleLabels[ie].value-W:e.visibleLabels[ie-1].value+e.visibleRange.interval-W:u=e.visibleLabels[ie]?e.visibleLabels[ie].value-W:e.visibleRange.max,g=di(u,e)*r.width+r.x,g>=r.x&&r.x+r.width>=g){if(hs(u,e.visibleRange)||this.isBorder(e,ie,g)){if(this.chart.redraw&&(this.chart.pointsAdded&&!this.chart.pointsRemoved||this.chart.zoomRedraw)&&e.majorGridLines.width&&ie!==0&&e.visible&&!Ce(this.chart.element.id+"_MajorGridLine_"+t+"_"+ie)&&!this.chart.enableCanvas){var re=this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/N*T):this.seriesClipRect.width+this.seriesClipRect.width/(ie||1)*T);y="M "+re+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+re+" "+this.seriesClipRect.y,this.renderGridLine(e,t,y,e.majorGridLines,"_MajorGridLine_",ie,this.element,_.majorGridLine,e.majorGridLines.dashArray,Q.MajorGridLine&&Q.MajorGridLine.ids?Q.MajorGridLine.ids[ie]:null,Q.MajorGridLine?Q.MajorGridLine.isPointRemoved:!1),this.rangeAnimate(e,this.element.childNodes[this.element.childNodes.length-1],this.chart.duration,!1,new Ue(this.seriesClipRect.x,e.rect.y,this.seriesClipRect.x+this.seriesClipRect.width,this.chart.availableSize.height),!1,ie),Ce(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1])}y="M "+g+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+g+" "+this.seriesClipRect.y,this.renderGridLine(e,t,y,e.majorGridLines,"_MajorGridLine_",ie,this.element,_.majorGridLine,e.majorGridLines.dashArray,Q.MajorGridLine&&Q.MajorGridLine.ids?Q.MajorGridLine.ids[ie]:null,Q.MajorGridLine?Q.MajorGridLine.isPointRemoved:!1)}this.chart.redraw&&this.chart.zoomRedraw&&e.majorTickLines.width&&!Ce(this.chart.element.id+"_MajorTickLine_"+t+"_"+ie)&&!this.chart.enableCanvas&&e.visible&&(x="M "+(this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/N*T):this.seriesClipRect.width+this.seriesClipRect.width/(ie||1)*T))+" "+(r.y+I+(G?j:0))+" L "+(this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/N*T):this.seriesClipRect.width+this.seriesClipRect.width/(ie||1)*T))+" "+K,this.updateAxisElement(e,t,x,ie,"_MajorTickLine_",i,!1),Ce(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1]),T+=1),x="M "+g+" "+(r.y+I+(G?j:0))+" L "+g+" "+K,this.renderGridLine(e,t,x,e.majorTickLines,"_MajorTickLine_",ie,i,_.majorTickLine,null,Q.MajorTickLine&&Q.MajorTickLine.ids?Q.MajorTickLine.ids[ie]:null,Q.MajorTickLine?Q.MajorTickLine.isPointRemoved:!1),e.minorTicksPerInterval>0&&(e.minorGridLines.width>0||e.minorTickLines.width>0)&&(ie===0&&Hr(e)&&!o&&!h&&this.renderMinorGridOnZooming(e,u,r,ie,t,_,i),S=this.drawAxisMinorLine(e,u,r,ie),this.renderGridLine(e,t,S[0],e.minorGridLines,"_MinorGridLine_",ie,this.element,_.minorGridLine,e.minorGridLines.dashArray,Q.MinorGridLine&&Q.MinorGridLine.ids?Q.MinorGridLine.ids[ie]:null,Q.MinorGridLine?Q.MinorGridLine.isPointRemoved:!1),this.renderGridLine(e,t,S[1],e.minorTickLines,"_MinorTickLine_",ie,i,_.minorTickLine,null,Q.MinorTickLine&&Q.MinorTickLine.ids?Q.MinorTickLine.ids[ie]:null,Q.MinorTickLine?Q.MinorTickLine.isPointRemoved:!1),ie===N-1&&Hr(e)&&o&&!h&&this.renderMinorGridOnZooming(e,u+e.visibleRange.interval,r,ie,t,_,i))}if(N&&this.previousXLabel>N&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&this.chart.redraw)for(var ie=N;ie<this.previousXLabel;ie++){var re=this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/N*(ie-N+1)):this.seriesClipRect.width+this.seriesClipRect.width/N*(ie-N+1));e.majorGridLines.width&&(y="M "+re+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+re+" "+this.seriesClipRect.y,this.updateAxisElement(e,t,y,ie,"_MajorGridLine_",this.element,!0)),e.majorTickLines.width&&(x="M "+re+" "+(r.y+I+(G?j:0))+" L "+re+" "+K,this.updateAxisElement(e,t,x,ie,"_MajorTickLine_",i,!0))}},n.prototype.calculateGridLineId=function(e,t){var i=this,r={};if(this.chart.pointsRemoved){var o=["MajorGridLine","MajorTickLine","MinorGridLine","MinorTickLine"];o.forEach(function(h){for(var u=Ce(e.id),g=u.querySelectorAll('[id*="_'+h+'_"]'),y=[],x=0;x<g.length;x++)y.push(g[x]);var S=h==="MajorGridLine"&&i.chart.chartArea.border.width?t-2:t;if(S=h==="MinorGridLine"||h==="MinorTickLine"?t-1:S,y.length>0&&y.length>S){for(var T=y.length,M=0;M<T-S;M++)y[M]&&u.removeChild(y[M]),y.shift();var R=y.map(function(I){var j=I.id.split("_");return parseInt(j[j.length-1],10)});r[h]={ids:R,isPointRemoved:!0}}})}return r},n.prototype.renderMinorGridOnZooming=function(e,t,i,r,o,h,u){var g=this.drawAxisMinorLine(e,t,i,r,!0);this.renderGridLine(e,o,g[0],e.minorGridLines,"_MinorGridLine_",-1,this.element,h.minorGridLine,e.minorGridLines.dashArray),this.renderGridLine(e,o,g[1],e.minorTickLines,"_MinorTickLine_",-1,u,h.minorTickLine)},n.prototype.drawAxisMinorLine=function(e,t,i,r,o){var h=t,u=0,g=0,y=e.visibleRange,x=e.tickPosition==="Inside",S=[],T=e.isAxisOpposedPosition?-e.minorTickLines.height:e.minorTickLines.height,M,R,I=1,j=1,W=x?i.y-T:i.y+T,N=x?i.x+T:i.x-T,G="",K="",_=e.isAxisInverse;if(e.valueType==="Logarithmic"&&(M=Math.pow(e.logBase,h-y.interval),R=Math.pow(e.logBase,h),I=(R-M)/(e.minorTicksPerInterval+1),j=M+I),e.orientation==="Horizontal")for(var Q=0;Q<e.minorTicksPerInterval;Q++)h=this.findLogNumeric(e,j,h,r,o),j+=I,hs(h,y)&&(g=(h-y.min)/(y.max-y.min),g=Math.ceil((_?1-g:g)*i.width),u=Math.floor(g+i.x),G=G.concat("M "+u+" "+this.seriesClipRect.y+"L "+u+" "+(this.seriesClipRect.y+this.seriesClipRect.height)),u=Math.floor(g+i.x),K=K.concat("M "+u+" "+i.y+"L "+u+" "+(W+e.scrollBarHeight)));else for(var Q=0;Q<e.minorTicksPerInterval;Q++)h=this.findLogNumeric(e,j,h,r,o),hs(h,y)&&(g=(h-y.min)/(y.max-y.min),g=Math.ceil((_?1-g:g)*i.height)*-1,u=Math.floor(g+i.y+i.height),G=G.concat("M "+this.seriesClipRect.x+" "+u+"L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+u+" "),u=Math.floor(g+i.y+i.height),K=K.concat("M "+i.x+" "+u+"L "+(N-e.scrollBarHeight)+" "+u+" ")),j+=I;return S.push(G),S.push(K),S},n.prototype.findLogNumeric=function(e,t,i,r,o){var h=e.visibleRange,u;if(e.valueType==="Logarithmic")i=da(t,e.logBase);else if(e.valueType==="DateTime")u=e.dateTimeInterval/(e.minorTicksPerInterval+1),i=o?i-u:i+u;else if(e.valueType==="DateTimeCategory"){var g=e.labelPlacement==="BetweenTicks"?.5:0;i+=((e.visibleLabels[r+1]?e.visibleLabels[r+1].value-g:e.visibleRange.max)-(e.visibleLabels[r]?e.visibleLabels[r].value-g:e.visibleRange.min))/(e.minorTicksPerInterval+1)}else u=h.interval/(e.minorTicksPerInterval+1),i=o?i-u:i+u;return i},n.prototype.drawXAxisLabels=function(e,t,i,r){var o=this.chart,h=0,u=0,g=e.labelPadding,y,x,S,T,M=10,R=o.renderer.createGroup({id:o.element.id+"AxisLabels"+t}),I=e.labelPosition==="Inside",j=e.isAxisOpposedPosition,W=e.labelPosition===e.tickPosition?e.majorTickLines.height:0,N=W+g+e.lineStyle.width*.5,G=e.angle%360,K=G===0||G===-180||G===180,_,Q,ie=e.isAxisInverse,re,fe=1,ne=ie?r.x+r.width:r.x,ve=0,ye=e.visibleLabels.length,le,pe,Te,Ie=e.scrollbarSettings.enable||!I&&we(e.crossesAt)&&(e.zoomFactor<1||e.zoomPosition>0)?e.scrollBarHeight:0,et=[],nt=!1,Me=[],qe=new Qt(0,0);N+=G===90||G===270||G===-90||G===-270?I?5:-5:0;for(var Ve=!j&&!I||j&&I,Se=Ce(o.element.id+"AxisLabels"+t),st=this.removeAxisLabelElements(e,Se),ut=Ve?360>=G&&G>=180||-1>=G&&G>=-180:1<=G&&G<=180||-181>=G&&G>=-360,Ae=0,Ke=ye;Ae<Ke;Ae++){pe=e.visibleLabels[Ae],Te=qs(pe.originalText)||e.labelIntersectAction==="Wrap"&&pe.text.length>1,h=di(pe.value,e)*r.width+r.x,x=pe.size,le=r.width/ye,Q=Te?pe.breakLabelSize.width:x.width,ve=(e.labelIntersectAction==="Trim"||e.labelIntersectAction==="Wrap")&&G===0&&Q>le?le:Q,y=x.height/4,h-=Te||G!==0?0:ve/2,G!==0&&(Te?h-=e.lineBreakAlignment==="Left"?pe.breakLabelSize.width/2:e.lineBreakAlignment==="Right"?-(pe.breakLabelSize.width/2):0:h-=G===-90||G===270?-y:G===90||G===-270?y:0),e.labelStyle.textAlignment==="Far"?h=h+ve-M:e.labelStyle.textAlignment==="Near"&&(h=h-ve+M),Te&&e.lineBreakAlignment!=="Center"&&G===0&&(h+=e.lineBreakAlignment==="Left"?-(ve/2):ve/2);var Ct=Te?K?e.opposedPosition||I?0:x.height:pe.breakLabelSize.width/2:0;if(N=Te?W+g+e.lineStyle.width*.5:N,I&&G?Te?u=j?r.y+N+Ct:r.y-N-Ct:u=j?r.y+N+y:r.y-N-y:(Te?S=Ve?N+Ie+(G?Ct:3*y):-(N+Ie+Ct):S=Ve?N+Ie+(G?1:3)*y:-(N+Ie+(G?y:pe.index>1?2*y:0)),u=r.y+S*pe.index),Te?T=this.getAnchor(e):T=o.enableRtl?ut?"":"end":o.isRtlEnabled||ut?"end":"",_=new Qi(o.element.id+t+"_AxisLabel_"+Ae,h,u,T),_.id=st&&Se&&Se.children[Ae]?Se.children[Ae].id:_.id,G!==0&&(qe=To(pe.labelStyle,pe.originalText,G,o,o.themeStyle.axisLabelFont),re=G<0&&G>-90||G<-180&&G>-270||G>90&&G<180||G>270&&G<360),e.edgeLabelPlacement)switch(e.edgeLabelPlacement){case"None":break;case"Hide":if((Ae===0||ie&&Ae===Ke-1)&&_.x<r.x||(Ae===Ke-1||ie&&Ae===0)&&_.x+(G===0?ve:qe.width)>r.x+r.width)continue;break;case"Shift":if((Ae===0||ie&&Ae===Ke-1)&&(_.x<r.x||G!==0&&re&&_.x-qe.width<=r.x||e.lineBreakAlignment==="Center"&&_.x-pe.size.width/pe.text.length/2<r.x&&G===0))if(le-=r.x-_.x,T===""&&!ie&&G===0)_.x<=0?h=_.x=0:h=_.x,le=r.width/ye;else if(re&&G!==0)le=r.width/ye,r.x+le>_.x+qe.width?_.x=h=r.x+N:_.x=h=r.x+le-N;else if(Te&&e.lineBreakAlignment==="Center"&&e.labelPlacement==="OnTicks"&&G===0){for(var Nt=0,ti=0;ti<pe.text.length;ti++){var Mt=_t(pe.text[ti],e.labelStyle,o.themeStyle.axisLabelFont).width;Mt>Nt&&(Nt=Mt)}_.x=h=r.x+Nt/2}else T==="start"&&_.x>0||(_.x=h=K?r.x:r.x+N);else(Ae===Ke-1||ie&&Ae===0)&&(_.x+ve>r.x+r.width&&T!=="end"&&G===0||G!==0&&!re&&_.x+qe.width>r.x+r.width||T==="end"&&_.x>r.x+r.width)&&(x.width>le&&e.labelIntersectAction==="Trim"&&G===0?le-=_.x+ve-(r.x+r.width):G!==0?qe.width<le&&(le=qe.width):le=ve,G!==0?_.x=h=r.x+r.width-le+N:_.x=h=K?r.x+r.width-le:r.x+r.width-le/2);break}_.text=this.getLabelText(pe,e,le),_.labelRotation=G;var Ot=void 0,mt=void 0;if(Te&&G===0?e.lineBreakAlignment==="Right"?(Ot=_.x-ve,mt=_.x):e.lineBreakAlignment==="Center"?(Ot=_.x-ve/2,mt=_.x+ve/2):(Ot=_.x,mt=_.x+ve):(Ot=_.x,mt=_.x+ve),!(G===0&&e.labelIntersectAction==="Hide"&&Ae!==0&&(ie?mt>=ne:Ot<=ne))){if(Te?e.lineBreakAlignment==="Right"?ne=ie?_.x-ve:_.x:e.lineBreakAlignment==="Center"?ne=ie?_.x-ve/2:_.x+ve/2:ne=ie?_.x:_.x+ve:ne=ie?_.x:_.x+ve,G!==0){var It=void 0,Rt=void 0;if(Te){var ai=0,At=0;It=pe.breakLabelSize.height,At=pe.breakLabelSize.height-4,e.lineBreakAlignment==="Center"?ai=-(pe.breakLabelSize.width/2):e.lineBreakAlignment==="Right"&&(ai=-pe.breakLabelSize.width),Ve&&(At=pe.breakLabelSize.height/(_.text.length+1)),Rt=new Ue(_.x+ai,_.y-At,pe.breakLabelSize.width,It)}else It=u-(_.y-pe.size.height/2),Rt=new Ue(_.x,_.y-(pe.size.height/2-5),pe.size.width,It);var Lt=this.getRectanglePoints(Rt),$=Te?Rt.x+Rt.width/2:h,B=Te?Rt.y+Rt.height/2:u-It/2;if(Te?_.transform="rotate("+G+","+$+","+B+")":_.transform="rotate("+G+","+h+","+u+")",et.push(fa(Lt,$,B,G)),nt=!1,e.labelIntersectAction!=="None"){for(var F=Ae;F>0;F--)if(et[Ae]&&et[F-1]&&Lo(et[Ae],et[F-1])){nt=!0,et[Ae]=null;break}}var Z=G>0&&G<90||G>180&&G<270||G<-90&&G>-180||G<-270&&G>-360,se=new Ue(_.x,_.y-(x.height/2+N/2),pe.size.width,It),de=this.getRectanglePoints(se),me=[];me.push(new $e(Z?this.chart.availableSize.width:this.padding,e.rect.y)),me.push(new $e(Z?this.chart.availableSize.width:this.padding,e.rect.y+e.maxLabelSize.height)),Me.push(fa(de,$,B,G));for(var De=new Ue(0,e.rect.y,this.chart.availableSize.width,e.maxLabelSize.height*2),_e=0;_e<Me[Ae].length;_e++)if(!e.opposedPosition&&!Ut(Me[Ae][_e].x,Me[Ae][_e].y,De)&&typeof _.text=="string"){var Je=this.calculateIntersection(Me[Ae][0],Me[Ae][1],me[0],me[1]),ft=Z?this.chart.availableSize.width-h:h,Qe=Je.y-e.rect.y,Ii=Math.sqrt(ft*ft+Qe*Qe);_.text=un(Ii,pe.text,pe.labelStyle,o.enableRtl,o.themeStyle.axisLabelFont)}}if(this.chart.redraw&&(o.pointsAdded&&!o.pointsRemoved||this.chart.zoomRedraw)&&!Ce(_.id)&&Ae!==0&&!this.chart.enableCanvas&&e.visible){var ji=_.x;_.x=this.seriesClipRect.x+(o.enableRtl!==e.isInversed?-(this.seriesClipRect.width/(Ae||1)*fe):this.seriesClipRect.width+this.seriesClipRect.width/(Ae||1)*fe);var or=_.transform;_.transform=G?"rotate("+G+","+_.x+","+parseFloat(_.transform.split(",")[2])+")":"";var is=ki(o.renderer,_,pe.labelStyle,pe.labelStyle.color||o.themeStyle.axisLabelFont.color,R,e.isAxisOpposedPosition!==(e.labelPosition==="Inside"),o.redraw,!0,null,o.duration,null,pe.size,nt,o.enableCanvas,null,o.themeStyle.axisLabelFont);this.rangeAnimate(e,is,this.chart.duration,!0,new Ue(this.seriesClipRect.x,e.rect.y,this.seriesClipRect.x+this.seriesClipRect.width,this.chart.availableSize.height),!1,Ae),_.x=ji,_.transform=or,fe+=1}var Hs=ki(o.renderer,_,pe.labelStyle,pe.labelStyle.color||o.themeStyle.axisLabelFont.color,R,e.isAxisOpposedPosition!==(e.labelPosition==="Inside"),o.redraw,!0,null,o.duration,null,pe.size,nt,o.enableCanvas,null,o.themeStyle.axisLabelFont,new $e(parseFloat(_.transform.split(",")[1]),parseFloat(_.transform.split(",")[2])));st&&(Hs.id=o.element.id+t+"_AxisLabel_"+Ae)}}if(this.previousXLabel&&ye&&this.previousXLabel>ye&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&this.chart.redraw&&_.text)for(var Ae=ye;Ae<this.previousXLabel;Ae++)_.x=this.seriesClipRect.x+(o.enableRtl!==e.isInversed?-(this.seriesClipRect.width/ye*(Ae-ye+1)):this.seriesClipRect.width+this.seriesClipRect.width/ye*(Ae-ye+1)),_.id=o.element.id+t+"_AxisLabel_"+Ae,_.transform=G?"rotate("+G+","+_.x+","+parseFloat(_.transform.split(",")[2])+")":"",this.updateAxisElement(e,t,"",Ae,"_AxisLabel_",R,!0,_,pe);else this.previousXLabel=ye;this.chart.enableCanvas||(o.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,R,e,t,r):i.appendChild(R))},n.prototype.updateAxisElement=function(e,t,i,r,o,h,u,g,y){var x,S=o.indexOf("Grid")>-1,T=o.indexOf("Label")>-1;T?x=ki(this.chart.renderer,g,y.labelStyle,y.labelStyle.color||this.chart.themeStyle.axisLabelFont.color,h,e.isAxisOpposedPosition!==(e.labelPosition==="Inside"),this.chart.redraw,!0,null,this.chart.duration,null,null,null,this.chart.enableCanvas,null,this.chart.themeStyle.axisLabelFont):(this.renderGridLine(e,t,i,S?e.majorGridLines:e.majorTickLines,o,r,this.element,S?this.chart.themeStyle.majorGridLine:this.chart.themeStyle.majorTickLine,S?e.majorGridLines.dashArray:null),this.element&&h.childNodes&&(x=this.element.childNodes[h.childNodes.length-1])),this.rangeAnimate(e,x,this.chart.duration,T,new Ue(e.orientation==="Vertical"?0:this.seriesClipRect.x,e.orientation==="Vertical"?this.seriesClipRect.y:e.rect.y,this.seriesClipRect.width,this.seriesClipRect.height),u,r)},n.prototype.removeAxisLabelElements=function(e,t){if(this.chart.pointsRemoved&&t&&t.childNodes.length){var i=!1;if(e.valueType.indexOf("Category")>-1){var r=[];e.visibleLabels.map(function(g){typeof g.text!="string"?r.push(g.text.join("")):r.push(g.text)});for(var o=t.childNodes.length-1;o>=0;o--){var h=t.childNodes[o];r.indexOf(h.textContent.trim())===-1&&(t.removeChild(h),i=!0)}}else if(t.childNodes.length>e.visibleLabels.length)for(var u=0;u<t.childNodes.length-e.visibleLabels.length;u++)t.removeChild(t.childNodes[u]),i=!0;return i}return!1},n.prototype.calculateIntersection=function(e,t,i,r){var o=i.x-r.x,h=e.x-t.x,u=i.y-r.y,g=e.y-t.y,y=h*u-g*o,x=e.x*t.y-e.y*t.x,S=i.x*r.y-i.y*r.x,T=(x*o-h*S)/y,M=(x*u-g*S)/y,R={x:T,y:M};return R},n.prototype.getAnchor=function(e){return e.lineBreakAlignment==="Center"?"middle":this.chart.enableRtl?e.lineBreakAlignment==="Left"?"end":"start":e.lineBreakAlignment==="Left"?"start":"end"},n.prototype.getRectanglePoints=function(e){var t=new $e(e.x,e.y),i=new $e(e.x+e.width,e.y),r=new $e(e.x+e.width,e.y+e.height),o=new $e(e.x,e.y+e.height);return[t,i,r,o]},n.prototype.getLabelText=function(e,t,i){if(qs(e.originalText)){for(var r=[],o=void 0,h=0;h<e.text.length;h++)o=this.findAxisLabel(t,e.text[h],i),r.push(o);return r}else return this.findAxisLabel(t,e.text,i)},n.prototype.drawXAxisBorder=function(e,t,i,r){if(e.border.width>0){for(var o=e.labelPosition==="Outside"?e.scrollBarHeight:0,h=e.isAxisOpposedPosition,u=void 0,g=r.y+(h?-1:1)*o,y=10,x=void 0,S=r.width/e.visibleRange.delta*(e.valueType==="DateTime"?e.dateTimeInterval:e.visibleRange.interval),T=void 0,M=e.maxLabelSize.height+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),R="",I=e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?-.5:0,j=h&&e.labelPosition==="Inside"||!h&&e.labelPosition==="Outside"?r.y+M+y+o:r.y-M-y-o,W=0,N=e.visibleLabels.length;W<N;W++)switch(x=di(e.visibleLabels[W].value+I,e),x=(e.isAxisInverse?1-x:x)*r.width,e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?(u=x+r.x,T=x+S+r.x):(u=x-S*.5+r.x,T=x+S*.5+r.x),e.border.type){case"Rectangle":case"WithoutTopBorder":u<r.x&&e.labelPlacement!=="OnTicks"?R+="M "+r.x+" "+j+" L "+T+" "+j+" ":Math.floor(T)>r.width+r.x&&e.visibleLabels.length!==1&&W!==e.visibleLabels.length-1?R+="M "+u+" "+g+" L "+u+" "+j+" L "+(r.width+r.x)+" "+j+" ":(u=W===0&&e.labelPlacement==="OnTicks"?r.x:u,T=W===e.visibleLabels.length-1&&e.labelPlacement==="OnTicks"?T-S*.5:T,R+="M "+u+" "+g+" L "+u+" "+j+" L "+T+" "+j+" ",W===0&&(R+="M "+u+" "+g+" L "+u+" "+j+" M "+u+" "+j+" L "+r.x+" "+j),W===e.visibleLabels.length-1&&(R+="M "+T+" "+g+" L "+T+" "+j+" M "+T+" "+j+" L "+(r.width+r.x)+" "+j));break;case"WithoutTopandBottomBorder":!(u<r.x)&&!(Math.floor(T)>r.width+r.x)&&(R+="M "+u+" "+g+" L "+u+" "+j+" M "+T+" "+g+" L "+T+" "+j);break}R+=e.border.type==="Rectangle"?"M  "+r.x+" "+g+"L "+(r.x+r.width)+" "+g:"",R!==""&&this.createAxisBorderElement(e,t,R,i)}for(var W=0;W<this.chart.visibleSeries.length;W++)if(this.chart.multiLevelLabelModule&&e.multiLevelLabels.length>0&&this.chart.visibleSeries[W].visible){this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(e,t,i,r);break}},n.prototype.createAxisBorderElement=function(e,t,i,r){var o=Ce(this.chart.element.id+"_BorderLine_"+t),h=o?o.getAttribute("d"):"",u=this.chart.renderer.drawPath(new Lr(this.chart.element.id+"_BorderLine_"+t,"transparent",e.border.width,e.border.color||this.chart.themeStyle.axisLine,1,"",i));u.style.pointerEvents="none",Fe(this.chart.enableCanvas,r,u,this.chart.redraw,!1,"x","y",null,h,!0,null,null,this.chart.duration)},n.prototype.findAxisLabel=function(e,t,i){return e.labelIntersectAction==="Trim"&&e.angle%360===0&&!e.enableTrim?un(i,t,e.labelStyle,this.chart.enableRtl,this.chart.themeStyle.axisLabelFont):t},n.prototype.drawXAxisTitle=function(e,t,i,r){if(e.title){var o=this.chart,h=_t(e.title,e.titleStyle,this.chart.themeStyle.axisTitleFont),u=we(e.crossesAt)?e.scrollBarHeight:0,g=(e.tickPosition==="Inside"?0:e.majorTickLines.height+e.titlePadding)+(e.labelPosition==="Inside"?0:e.maxLabelSize.height+e.multiLevelLabelHeight+e.labelPadding),y=e.titleSize.height*(e.titleCollection.length-1);g=e.isAxisOpposedPosition?-(g+h.height/4+u+y):g+3*h.height/4+u;var x=e.titleRotation?e.titleRotation:0,S=void 0,T=r.y+g,M=void 0;e.titleStyle.textAlignment==="Center"?(M="middle",S=r.x+r.width*.5):e.titleStyle.textAlignment==="Near"?(M="start",S=r.x):(M="end",S=r.x+r.width),x!==0&&(T+=e.opposedPosition?-(e.titleSize.height/2+h.height/4):e.titleSize.height/2-h.height/4);var R=new Qi(o.element.id+"_AxisTitle_"+t,S,T,M,e.titleCollection,"rotate("+x+","+S+","+T+")",null,x),I=ki(o.renderer,R,e.titleStyle,e.titleStyle.color||o.themeStyle.axisTitleFont.color,i,null,o.redraw,o.redraw,null,null,null,null,null,o.enableCanvas,null,o.themeStyle.axisTitleFont,new $e(S,T));I.setAttribute("aria-hidden","true")}},n.prototype.renderGridLine=function(e,t,i,r,o,h,u,g,y,x,S){y===void 0&&(y=null),x===void 0&&(x=null),S===void 0&&(S=!1);var T=this.chart,M,R;r.width>0&&e.visible&&e.internalVisibility&&i&&(R=Ce(T.element.id+o+t+"_"+(S?x:h)),M=R?R.getAttribute("d"):null,R=null,this.htmlObject=T.renderer.drawPath(new Lr(T.element.id+o+t+"_"+(S?x:h),"transparent",r.width,r.color||g,null,y,i)),Fe(T.enableCanvas,u,this.htmlObject,T.redraw,!0,"x","y",null,M,!0,null,null,T.duration),S&&(this.htmlObject.id=T.element.id+o+t+"_"+h))},n.prototype.findParentNode=function(e,t,i){return document.getElementById(e+"AxisGroup"+i+"Inside").contains(document.getElementById(t.id))?document.getElementById(e+"AxisGroup"+i+"Inside"):document.getElementById(e+"AxisGroup"+i+"Outside")},n.prototype.createZoomingLabel=function(e,t,i,r,o){var h=this.findParentNode(e.element.id,t,r);t.setAttribute("opacity","0.3");var u=e.renderer.createGroup({id:e.element.id+"AxisLabels_Zoom"+r});u=Oh(e,i,u,r,i.orientation==="Vertical",o),h.replaceChild(t,document.getElementById(t.id)),Ce(e.element.id+"AxisLabels_Zoom"+r)?h.replaceChild(u,document.getElementById(u.id)):h.appendChild(u)},n}(),Oi=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),oe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var u=n.length-1;u>=0;u--)(h=n[u])&&(o=(r<3?h(o):r>3?h(e,t,o):h(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Hc=function(n){Oi(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return oe([te(!1)],e.prototype,"visible",void 0),oe([te(!0)],e.prototype,"showZero",void 0),oe([te(null)],e.prototype,"name",void 0),oe([te("transparent")],e.prototype,"fill",void 0),oe([te(null)],e.prototype,"format",void 0),oe([te(1)],e.prototype,"opacity",void 0),oe([te(0)],e.prototype,"angle",void 0),oe([te(!1)],e.prototype,"enableRotation",void 0),oe([te("Auto")],e.prototype,"position",void 0),oe([te(5)],e.prototype,"rx",void 0),oe([te(5)],e.prototype,"ry",void 0),oe([te("Center")],e.prototype,"alignment",void 0),oe([We({width:null,color:null},ts)],e.prototype,"border",void 0),oe([We({left:5,right:5,top:5,bottom:5},Po)],e.prototype,"margin",void 0),oe([We({size:null,color:null,fontStyle:null,fontWeight:null,fontFamily:null},Ih)],e.prototype,"font",void 0),oe([te(null)],e.prototype,"template",void 0),oe([te("Hide")],e.prototype,"labelIntersectAction",void 0),e}(li),jn=function(n){Oi(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return oe([te(!1)],e.prototype,"visible",void 0),oe([te(null)],e.prototype,"shape",void 0),oe([te("")],e.prototype,"imageUrl",void 0),oe([te(5)],e.prototype,"height",void 0),oe([te(!1)],e.prototype,"isFilled",void 0),oe([te(5)],e.prototype,"width",void 0),oe([We({width:2,color:null},ts)],e.prototype,"border",void 0),oe([We({x:0,y:0},Rh)],e.prototype,"offset",void 0),oe([te(null)],e.prototype,"fill",void 0),oe([te(!0)],e.prototype,"allowHighlight",void 0),oe([te(1)],e.prototype,"opacity",void 0),oe([We({},Hc)],e.prototype,"dataLabel",void 0),e}(li),Wc=function(n){Oi(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return oe([te(null)],e.prototype,"fill",void 0),oe([te(1)],e.prototype,"width",void 0),oe([te("0")],e.prototype,"dashArray",void 0),oe([We(null,jn)],e.prototype,"marker",void 0),oe([te(!0)],e.prototype,"showAxis",void 0),e}(li),gn=function(){function n(){this.symbolLocations=null,this.regions=null,this.percentage=null,this.regionData=null,this.isSelect=!1,this.marker={visible:!1},this.isPointInRange=!0,this.verticalError=null,this.verticalNegativeError=null,this.horizontalError=null,this.horizontalNegativeError=null,this.verticalPositiveError=null,this.horizontalPositiveError=null}return n}(),jc=function(n){Oi(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.clipRect=new Ue(0,0,0,0),t}return e.prototype.setDataSource=function(t,i){t&&(this.points=t.points),i.trendLineModule.initDataSource(this),i.visibleSeriesCount++},oe([te("")],e.prototype,"name",void 0),oe([te("")],e.prototype,"dashArray",void 0),oe([te(!0)],e.prototype,"visible",void 0),oe([te("Linear")],e.prototype,"type",void 0),oe([te(2)],e.prototype,"period",void 0),oe([te(2)],e.prototype,"polynomialOrder",void 0),oe([te(0)],e.prototype,"backwardForecast",void 0),oe([te(0)],e.prototype,"forwardForecast",void 0),oe([We({},Eo)],e.prototype,"animation",void 0),oe([We({},jn)],e.prototype,"marker",void 0),oe([te(!0)],e.prototype,"enableTooltip",void 0),oe([te(null)],e.prototype,"intercept",void 0),oe([te("")],e.prototype,"fill",void 0),oe([te(1)],e.prototype,"width",void 0),oe([te("SeriesType")],e.prototype,"legendShape",void 0),e}(li),Xc=function(n){Oi(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return oe([te(1)],e.prototype,"width",void 0),oe([te(10)],e.prototype,"length",void 0),oe([te(null)],e.prototype,"color",void 0),oe([te(1)],e.prototype,"opacity",void 0),e}(li),Yc=function(n){Oi(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return oe([te(null)],e.prototype,"value",void 0),oe([te(null)],e.prototype,"color",void 0),oe([te("0")],e.prototype,"dashArray",void 0),e}(li),Gc=function(n){Oi(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return oe([te(!1)],e.prototype,"visible",void 0),oe([te("Fixed")],e.prototype,"type",void 0),oe([te("Both")],e.prototype,"direction",void 0),oe([te("Vertical")],e.prototype,"mode",void 0),oe([te(null)],e.prototype,"color",void 0),oe([te(1)],e.prototype,"verticalError",void 0),oe([te(1)],e.prototype,"width",void 0),oe([te(1)],e.prototype,"horizontalError",void 0),oe([te(3)],e.prototype,"verticalPositiveError",void 0),oe([te(3)],e.prototype,"verticalNegativeError",void 0),oe([te(1)],e.prototype,"horizontalPositiveError",void 0),oe([te(1)],e.prototype,"horizontalNegativeError",void 0),oe([We(null,Xc)],e.prototype,"errorBarCap",void 0),oe([te("")],e.prototype,"errorBarColorMapping",void 0),e}(li),Jo=function(n){Oi(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.rangeColorPoints=[],t.isAdvancedColor=void 0,t.currentViewData=[],t.clipRect=new Ue(0,0,0,0),t.seriesType="XY",t.isRectTypeSeries=!1,t.removedPointIndex=null,t.isLegendClicked=!1,t}return e.prototype.processJsonData=function(){var t=0,i=new gn,r=this instanceof wt&&this.type==="Histogram"?"x":this.xName,o=this instanceof wt&&this.marker.dataLabel.name?this.marker.dataLabel.name:"";this instanceof wt&&((this.type==="Waterfall"||this.type==="Histogram")&&(this.currentViewData=this.chart[Xt(this.type)+"SeriesModule"].processInternalData(Tt([],this.currentViewData,null,!0),this)),this.category==="Pareto"&&(this.currentViewData=Tt([],this.currentViewData,null,!0),this.type==="Line"&&(this.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.currentViewData,this))),this.isRectTypeSeries=this.type.indexOf("Column")>-1||this.type.indexOf("Bar")>-1||this.type.indexOf("Histogram")>-1);var h=(this.currentViewData||[]).length;if(this.points=[],this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0,this.sizeMax=-1/0,this.getSeriesType(),this.xAxis.valueType==="Category")for(;t<h;)this.pushCategoryPoint(i,t,o,r),t++;else if(this.xAxis.valueType.indexOf("DateTime")>-1)for(var u={skeleton:"full",type:"dateTime"},g=this.chart.intl.getDateParser(u),y=this.chart.intl.getDateFormat(u);t<h;)this.pushDateTimePoint(i,t,o,r,g,y),t++;else for(;t<h;)this.pushDoublePoint(i,t,o,r),t++;this.updateSplineValue()},e.prototype.pushCategoryPoint=function(t,i,r,o){t=this.dataPoint(i,r,o),this.pushCategoryData(t,i,t.x),this.pushData(t,i),this.setEmptyPoint(t,i),this.rangeColorsInterior(t)},e.prototype.pushDoublePoint=function(t,i,r,o){t=this.dataPoint(i,r,o),t.xValue=t.x,this.pushData(t,i),this.setEmptyPoint(t,i)},e.prototype.pushDateTimePoint=function(t,i,r,o,h,u){t=this.dataPoint(i,r,o),!we(t.x)&&t.x!==""?(t.x=new Date(ws.parse.parseJson({val:t.x}).val),this.xAxis.valueType==="DateTime"?t.xValue=Date.parse(t.x.toString()):this.chart.isBlazor?this.pushCategoryData(t,i,Date.parse(t.x.toString()).toString()):this.pushCategoryData(t,i,Date.parse(h(u(t.x))).toString()),this.pushData(t,i),this.setEmptyPoint(t,i)):t.visible=!1},e.prototype.updateSplineValue=function(){if(this instanceof wt&&!(this.chart.stockChart&&this.xAxis.valueType==="DateTimeCategory")){if(this.type.indexOf("Spline")>-1||this.drawType.indexOf("Spline")>-1&&this.chart.chartAreaType==="PolarRadar"){var t=this.type.indexOf("Area")>-1||this.drawType.indexOf("Area")>-1,i=this.type.indexOf("Range")>-1;this.chart["spline"+(t?i?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(this)}else this.type.indexOf("Histogram")>-1&&(this.xAxis.maximum||this.xAxis.minimum)&&this.chart.histogramSeriesModule.calculateBinValues(this);this.type.indexOf("Histogram")>-1&&this.points.length===1&&(this.xMin=this.xMin-this.histogramValues.binWidth,this.xMax=this.xMax+this.histogramValues.binWidth)}},e.prototype.rangeColorsInterior=function(t){this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0&&this.chart.visibleSeries.length===1&&(this.chart.series[0].type==="Column"||this.chart.series[0].type==="Bar"||this.chart.series[0].type==="Scatter"||this.chart.series[0].type==="Bubble")&&(this.rangeColorPoints[t.interior]?this.rangeColorPoints[t.interior]!==void 0&&this.rangeColorPoints[t.interior].push(t):this.rangeColorPoints[t.interior]=[])},e.prototype.pushData=function(t,i){t.index=i,t.yValue=t.y,t.series=this,this.xMin=Math.min(this.xMin,t.xValue),this.xMax=Math.max(this.xMax,t.xValue),this.xData.push(t.xValue)},e.prototype.dataPoint=function(t,i,r){this.points[t]=new gn;var o=this.points[t],h=this.currentViewData[t],u=this.enableComplexProperty?es:this.getObjectValue;return o.x=u(r,h),o.high=u(this.high,h),o.low=u(this.low,h),o.open=u(this.open,h),o.close=u(this.close,h),o.volume=u(this.volume,h),o.interior=u(this.pointColorMapping,h),this instanceof wt&&(this.errorBar.visible&&(o.errorBarColor=u(this.errorBar.errorBarColorMapping,h),o.verticalError=typeof this.errorBar.verticalError=="string"?u(this.errorBar.verticalError,h):this.errorBar.verticalError,o.horizontalError=typeof this.errorBar.horizontalError=="string"?u(this.errorBar.horizontalError,h):this.errorBar.horizontalError,o.verticalNegativeError=typeof this.errorBar.verticalNegativeError=="string"?u(this.errorBar.verticalNegativeError,h):this.errorBar.verticalNegativeError,o.verticalPositiveError=typeof this.errorBar.verticalPositiveError=="string"?u(this.errorBar.verticalPositiveError,h):this.errorBar.verticalPositiveError,o.horizontalNegativeError=typeof this.errorBar.horizontalNegativeError=="string"?u(this.errorBar.horizontalNegativeError,h):this.errorBar.horizontalNegativeError,o.horizontalPositiveError=typeof this.errorBar.horizontalPositiveError=="string"?u(this.errorBar.horizontalPositiveError,h):this.errorBar.horizontalPositiveError),o.y=u(this.yName,h),o.size=u(this.size,h),o.text=u(i,h),o.tooltip=u(this.tooltipMappingName,h),this.isAdvancedColorSupported()&&(this.rangeColorName=this.colorName.length>0?this.colorName:this.yName,o.colorValue=u(this.rangeColorName,h),o.interior=this.getPointFillColor(o.interior,o.colorValue))),o},e.prototype.isAdvancedColorSupported=function(){return we(this.isAdvancedColor)&&(this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0&&(this.chart.series[0].type==="Column"||this.chart.series[0].type==="Bar"||this.chart.series[0].type==="Scatter"||this.chart.series[0].type==="Bubble")?this.isAdvancedColor=!0:this.isAdvancedColor=!1),this.isAdvancedColor},e.prototype.getPointFillColor=function(t,i){var r=t;if(i&&this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0)for(var o=0,h=this.chart.rangeColorSettings;o<h.length;o++){var u=h[o];i>=u.start&&i<=u.end&&(u.colors.length>1?r=Bh(u,i):r=u.colors[0])}return r},e.prototype.getObjectValue=function(t,i){return i[t]},e.prototype.setEmptyPoint=function(t,i){if(!this.findVisibility(t))return t.visible=!0,null;t.isEmpty=!0;var r=this instanceof wt&&t.isPointInRange?this.emptyPointSettings.mode:"Drop";switch(r){case"Zero":t.visible=!0,this instanceof wt&&this.seriesType.indexOf("HighLow")>-1?(t.high=t.low=0,this.seriesType.indexOf("HighLowOpenClose")>-1&&(t.open=t.close=0)):t.y=t.yValue=this.yData[i]=0;break;case"Average":this instanceof wt&&(this.seriesType.indexOf("HighLow")>-1?(t.high=we(t.high)||isNaN(+t.high)?this.getAverage(this.high,i):t.high,t.low=we(t.low)||isNaN(+t.low)?this.getAverage(this.low,i):t.low,this.seriesType.indexOf("HighLowOpenClose")>-1&&(t.open=we(t.open)||isNaN(+t.open)?this.getAverage(this.open,i):t.open,t.close=we(t.close)||isNaN(+t.close)?this.getAverage(this.close,i):t.close)):t.y=t.yValue=this.yData[i]=this.getAverage(this.yName,i)),t.visible=!0;break;case"Drop":case"Gap":this.yData[i]=null,t.visible=!1;break}},e.prototype.findVisibility=function(t){var i=this instanceof wt?this.seriesType:"HighLowOpenClose",r,o=this.yAxis.minimum,h=this.yAxis.maximum;switch(i){case"XY":return this.chart.chartAreaType==="PolarRadar"&&(!we(o)&&t.yValue<o||!we(h)&&t.yValue>h)?(t.isPointInRange=!1,!0):(this.setXYMinMax(t.yValue),this.yData.push(t.yValue),this instanceof wt&&this.type==="Bubble"&&(this.sizeMax=Math.max(this.sizeMax,we(t.size)||isNaN(+t.size)?this.sizeMax:t.size)),we(t.x)||we(t.y)||isNaN(+t.y));case"HighLow":return this.setHiloMinMax(t.high,t.low),we(t.x)||we(t.low)||isNaN(+t.low)||we(t.high)||isNaN(+t.high);case"HighLowOpenClose":return this.setHiloMinMax(t.high,t.low),we(t.x)||we(t.low)||isNaN(+t.low)||we(t.open)||isNaN(+t.open)||we(t.close)||isNaN(+t.close)||we(t.high)||isNaN(+t.high);case"BoxPlot":return r=(t.y||[null]).filter(function(u){return!we(u)&&!isNaN(u)}).sort(function(u,g){return u-g}),t.y=r,this.yMin=Math.min(this.yMin,Math.min.apply(Math,r)),this.yMax=Math.max(this.yMax,Math.max.apply(Math,r)),!r.length}},e.prototype.setXYMinMax=function(t){var i=this.yAxis.valueType==="Logarithmic"||this.xAxis.valueType==="Logarithmic",r=t<0||this.yAxis.rangePadding==="None",o;this.isRectTypeSeries&&!ii(this.yAxis)?o=i||r?t:0:o=t,this.yMin=i?Math.min(this.yMin,we(o)||isNaN(o)||o===0||o.toString()==="0"||o.toString()===""?this.yMin:o):Math.min(this.yMin,we(o)||isNaN(o)?this.yMin:o),this.yMax=Math.max(this.yMax,we(t)||isNaN(t)?this.yMax:t)},e.prototype.setHiloMinMax=function(t,i){this.yMin=Math.min(this.yMin,Math.min(we(i)||isNaN(i)?this.yMin:i,we(t)||isNaN(t)?this.yMin:t)),this.yMax=Math.max(this.yMax,Math.max(we(i)||isNaN(i)?this.yMax:i,we(t)||isNaN(t)?this.yMax:t))},e.prototype.getSeriesType=function(){var t;if(this instanceof wt){var i=this.chart.chartAreaType==="PolarRadar"?this.drawType:this.type;if(i)switch(i){case"RangeColumn":case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"Hilo":t="HighLow";break;case"HiloOpenClose":case"Candle":t="HighLowOpenClose";break;case"BoxAndWhisker":t="BoxPlot";break;default:t="XY"}}this.seriesType=t},e.prototype.pushCategoryData=function(t,i,r){if(!this.chart.tooltip.shared&&!this.visible)return null;this.xAxis.isIndexed?(this.xAxis.labels[i]?this.xAxis.labels[i]+=", "+r:this.xAxis.labels.push(r),t.xValue=i):(this.xAxis.indexLabels[r]===void 0&&(this.xAxis.indexLabels[r]=this.xAxis.labels.length,this.xAxis.labels.push(r)),t.xValue=this.xAxis.indexLabels[r])},e.prototype.getAverage=function(t,i,r){r===void 0&&(r=this.currentViewData);var o=r[i-1]&&r[i-1][t]||0,h=r[i+1]&&r[i+1][t]||0;return(o+h)/2},e.prototype.refreshDataManager=function(t){var i=this;this.chart=t;var r,o="isAngular";if(t[o]?r=Object.keys(this.dataSource).length?this.dataSource:t.dataSource:r=this.dataSource||t.dataSource,!(r instanceof Fh)&&we(this.query)){this.dataManagerSuccess({result:r,count:r.length},!1);return}var h=this.dataModule.getData(this.dataModule.generateQuery().requiresCount());h.then(function(u){return i.dataManagerSuccess(u)})},e.prototype.dataManagerSuccess=function(t,i){if(i===void 0&&(i=!0),this.currentViewData=t.count?t.result:[],this.chart.allowServerDataBinding=!1,this instanceof wt){this.chart.stockChart&&(this.chart.stockChart.series[this.index].localData=this.currentViewData);var r={name:pa,series:this,data:this.currentViewData,fill:this.interior};this.chart.trigger(pa,r),this.interior=r.fill,this.currentViewData=r.data}this.chart.stockChart&&!(this instanceof wt)&&(this.currentViewData=this.chart.stockChart.findCurrentData(this.chart.stockChart.series[0].localData,this.chart.stockChart.series[0].xName)),this.processJsonData(),this.recordsCount=t.count,this.refreshChart(i),this.currentViewData=null},e.prototype.refreshChart=function(t){var i=this.chart;if(this instanceof wt&&(i.visibleSeriesCount+=t?1:0),i.refreshTechnicalIndicator(this),this instanceof wt&&this.category!=="TrendLine")for(var r=0,o=this.trendlines;r<o.length;r++){var h=o[r];h.setDataSource(this,i)}i.visibleSeries.length===i.visibleSeriesCount&&(i.refreshBound(),i.trigger("loaded",{chart:i.isBlazor?{}:i}),this.chart.stockChart&&this.chart.stockChart.initialRender&&(this.chart.stockChart.initialRender=!1,this.chart.stockChart.stockChartDataManagerSuccess())),this instanceof wt&&(i.visibleSeriesCount+=t?0:1)},oe([te("")],e.prototype,"xName",void 0),oe([te("")],e.prototype,"colorName",void 0),oe([te("")],e.prototype,"high",void 0),oe([te("")],e.prototype,"low",void 0),oe([te("")],e.prototype,"open",void 0),oe([te("")],e.prototype,"close",void 0),oe([te("")],e.prototype,"volume",void 0),oe([te("")],e.prototype,"pointColorMapping",void 0),oe([te(!0)],e.prototype,"visible",void 0),oe([te(null)],e.prototype,"xAxisName",void 0),oe([te(null)],e.prototype,"yAxisName",void 0),oe([We(null,Eo)],e.prototype,"animation",void 0),oe([te(null)],e.prototype,"fill",void 0),oe([te(1)],e.prototype,"width",void 0),oe([te("")],e.prototype,"dashArray",void 0),oe([te("")],e.prototype,"dataSource",void 0),oe([te()],e.prototype,"query",void 0),oe([ci([],Yc)],e.prototype,"segments",void 0),oe([te("X")],e.prototype,"segmentAxis",void 0),oe([te(!1)],e.prototype,"enableComplexProperty",void 0),e}(li),wt=function(n){Oi(e,n);function e(t,i,r,o){var h=n.call(this,t,i,r,o)||this;return h.visibleSeriesCount=0,h.category="Series",h.isRectSeries=!1,h.drawPoints=[],h.lowDrawPoints=[],h.delayedAnimation=!1,h.rangeColorName=h.colorName.length>0?h.colorName:h.yName,h.currentData=[],h}return e.prototype.refreshAxisLabel=function(){if(this.xAxis.valueType.indexOf("Category")===-1)return null;this.xAxis.labels=[],this.xAxis.indexLabels={};for(var t={skeleton:"full",type:"dateTime"},i=this.chart.intl.getDateParser(t),r=this.chart.intl.getDateFormat(t),o=0,h=this.xAxis.series;o<h.length;o++){var u=h[o];if(u.visible&&u.category!=="TrendLine"){u.xMin=1/0,u.xMax=-1/0;for(var g=0,y=u.points;g<y.length;g++){var x=y[g];u.pushCategoryData(x,x.index,this.xAxis.valueType==="DateTimeCategory"?Date.parse(i(r(x.x))).toString():x.x),u.xMin=Math.min(u.xMin,x.xValue),u.xMax=Math.max(u.xMax,x.xValue)}}}},e.prototype.findSeriesCollection=function(t,i,r){for(var o=[],h=0,u=i.axes;h<u.length;h++)for(var g=u[h],y=0,x=g.series;y<x.length;y++)for(var S=x[y],T=0,M=t.axes;T<M.length;T++)for(var R=M[T],I=0,j=R.series;I<j.length;I++){var W=j[I];W===S&&W.visible&&this.rectSeriesInChart(W,r)&&o.push(W)}return o},e.prototype.rectSeriesInChart=function(t,i){var r=t.type.toLowerCase();return r.indexOf("column")!==-1||r.indexOf("bar")!==-1||r.indexOf("histogram")!==-1||r.indexOf("hiloopenclose")!==-1||r.indexOf("candle")!==-1||r.indexOf("pareto")!==-1||r.indexOf("hilo")!==-1||t.drawType.indexOf("Column")!==-1||r.indexOf("waterfall")!==-1||r.indexOf("boxandwhisker")!==-1||i},e.prototype.calculateStackedValue=function(t,i){for(var r=0,o=i.columns;r<o.length;r++)for(var h=o[r],u=0,g=i.rows;u<g.length;u++){var y=g[u];this.calculateStackingValues(this.findSeriesCollection(h,y,!0),t)}},e.prototype.calculateStackingValues=function(t,i){var r,o,h=[],u=[],g=[],y,x,S,T=[];i&&(T=this.findFrequencies(t));for(var M=[],R=[],I=0;I<t.length;I++){var j=t[I];M[j.stackingGroup]?M[j.stackingGroup]!==void 0&&M[j.stackingGroup].push(j):(M[j.stackingGroup]=[],M[j.stackingGroup].push(j))}for(var W=Object.keys(M),N=0;N<W.length;N++){for(var G=[],K=[],_=M[W[N]],Q=0,ie=_;Q<ie.length;Q++){var j=ie[Q];if(j.type.indexOf("Stacking")!==-1||j.drawType.indexOf("Stacking")!==-1&&j.chart.chartAreaType==="PolarRadar"){y=j.type.indexOf("StackingArea")!==-1?"StackingArea100":j.type.indexOf("StackingLine")!==-1?"StackingLine100":j.stackingGroup,u[y]||(u[y]=[],g[y]=[]),h=j.yData,r=[],o=[],G.push(j),R=vr(j);for(var re=0,fe=R.length;re<fe;re++)x=0,S=+h[re],u[y][R[re].xValue]===void 0&&(u[y][R[re].xValue]=0),g[y][R[re].xValue]===void 0&&(g[y][R[re].xValue]=0),i?(S=S/T[y][R[re].xValue]*100,S=isNaN(S)?0:S,R[re].percentage=+S.toFixed(2)):K[re]=K[re]?K[re]+Math.abs(S):Math.abs(S),S>=0?(x=u[y][R[re].xValue],u[y][R[re].xValue]+=S):(x=g[y][R[re].xValue],g[y][R[re].xValue]+=S),r.push(x),o.push(S+x),i&&o[re]>100&&(o[re]=100);j.stackedValues=new Dh(r,o);var ne=j.yAxis.valueType==="Logarithmic",ve=j.type.indexOf("Column")!==-1||j.type.indexOf("Bar")!==-1;j.yMin=ne&&ve&&j.yMin<1?j.yMin:j.yAxis.startFromZero&&j.yAxis.rangePadding==="Auto"&&j.yMin>=0?0:parseFloat(Math.min.apply(0,i?r:o).toFixed(10)),j.yMax=Math.max.apply(0,o),j.yMin>Math.min.apply(0,o)&&(j.yMin=i?-100:ne&&ve&&j.yMin<1?j.yMin:Math.min.apply(0,o)),j.yMax<Math.max.apply(0,r)&&(j.yMax=0)}}this.findPercentageOfStacking(G,K,i)}},e.prototype.findPercentageOfStacking=function(t,i,r){for(var o=0,h=t;o<h.length;o++){var u=h[o];if(r)return null;for(var g=0,y=vr(u);g<y.length;g++){var x=y[g];x.percentage=Math.abs(+(x.y/i[x.index]*100).toFixed(2))}}},e.prototype.findFrequencies=function(t){for(var i=[],r,o=[],h=0,u=t;h<u.length;h++){var g=u[h];if(g.yAxis.isStack100=g.type.indexOf("100")!==-1,o=vr(g),g.type.indexOf("Stacking")!==-1){r=g.type.indexOf("StackingArea")!==-1?"StackingArea100":g.type.indexOf("StackingLine")!==-1?"StackingLine100":g.stackingGroup,i[r]||(i[r]=[]);for(var y=0,x=o.length;y<x;y++)i[r][o[y].xValue]===void 0&&(i[r][o[y].xValue]=0),g.yData[y]>0?i[r][o[y].xValue]+=g.yData[y]:i[r][o[y].xValue]-=g.yData[y]}}return i},e.prototype.renderSeries=function(t){if(this.chart.stockChart&&this.xAxis.valueType==="DateTimeCategory"){for(var i=0;i<this.points.length;i++){var r=this.xAxis.labels.indexOf(Date.parse(this.points[i].x.toString()).toString());this.points[i].xValue=r,t.series.length>1&&(this.xData[i]=r,this.xMin=this.xMin>r?r:this.xMin,this.xMax=this.xMax<r?r:this.xMax)}if(this instanceof e&&this.type.indexOf("Spline")>-1){var o=this.type.indexOf("Area")>-1,h=this.type.indexOf("Range")>-1;this.chart["spline"+(o?h?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(this)}}var u=Xt(this.type);u=u.replace("100",""),t[u+"SeriesModule"]&&(this.category!=="Indicator"&&this.category!=="TrendLine"&&this.createSeriesElements(t),this.visiblePoints=vr(this),this.chart.enableCanvas?(this.chart.canvasRender.ctx.save(),this.chart.canvasRender.ctx.beginPath(),t.requireInvertedAxis?this.chart.canvasRender.ctx.rect(this.yAxis.rect.x,this.xAxis.rect.y,this.yAxis.rect.width,this.xAxis.rect.height):this.chart.canvasRender.ctx.rect(this.xAxis.rect.x,this.yAxis.rect.y,this.xAxis.rect.width,this.yAxis.rect.height),this.chart.canvasRender.ctx.clip(),t[u+"SeriesModule"].render(this,this.xAxis,this.yAxis,t.requireInvertedAxis),this.chart.canvasRender.ctx.restore()):t[u+"SeriesModule"].render(this,this.xAxis,this.yAxis,t.requireInvertedAxis),this.category!=="Indicator"&&(this.errorBar.visible&&this.chart.errorBarModule.render(this),this.marker.dataLabel.visible&&(this.chart.enableCanvas?(this.chart.canvasRender.ctx.save(),this.chart.canvasRender.ctx.beginPath(),t.requireInvertedAxis?this.chart.canvasRender.ctx.rect(this.yAxis.rect.x,this.xAxis.rect.y,this.yAxis.rect.width,this.xAxis.rect.height):this.chart.canvasRender.ctx.rect(this.xAxis.rect.x,this.yAxis.rect.y,this.xAxis.rect.width,this.yAxis.rect.height),this.chart.canvasRender.ctx.clip(),t.dataLabelModule.render(this,this.chart,this.marker.dataLabel),this.chart.canvasRender.ctx.restore()):t.dataLabelModule.render(this,this.chart,this.marker.dataLabel)),this.appendSeriesElement(t.seriesElements,t)),this.chart.enableCanvas||this.performAnimation(t,u,this.errorBar,this.marker,this.marker.dataLabel))},e.prototype.createSeriesElements=function(t){if(this.category!=="Indicator"){var i=t.element.id,r=this.marker.border.width+8+5,o=this.type==="Bubble"||!this.marker.visible&&t.tooltip.shared&&t.enableCanvas?t.svgRenderer:t.renderer,h=this.index===void 0?this.category:this.index,u=void 0,g=void 0,y=void 0;if(this.type==="Scatter"||this.drawType==="Scatter"?(u=(this.marker.height+r)/2,g=(this.marker.width+r)/2):(u=0,g=0),t.chartAreaType==="PolarRadar"){var x=this.drawType==="Scatter"?Math.max(this.marker.width,this.marker.height):0;y=new Mo(i+"_ChartSeriesClipRect_"+h,"transparent",{width:1,color:"Gray"},1,this.clipRect.width/2+this.clipRect.x,this.clipRect.height/2+this.clipRect.y,t.radius+x),this.clipRectElement=Pr(t.redraw,y,o,"drawCircularClipPath")}else y=new ir(i+"_ChartSeriesClipRect_"+h,"transparent",{width:1,color:"Gray"},1,{x:this.xAxis.columnIndex===0?-g:0,y:this.yAxis.rowIndex===t.rows.length-1?-u:0,width:this.clipRect.width+(this.xAxis.columnIndex===t.columns.length-1?g*2:g),height:this.clipRect.height+(this.yAxis.rowIndex===0?u*2:u)}),this.clipRectElement=Pr(t.redraw,y,o);var S=t.chartAreaType==="Cartesian"?"translate("+this.clipRect.x+","+this.clipRect.y+")":"";this.symbolElement=null,this.seriesElement=o.createGroup({id:i+"SeriesGroup"+h,transform:S,"clip-path":"url(#"+i+"_ChartSeriesClipRect_"+h+")"}),this.seriesElement&&(this.seriesElement.setAttribute("role","region"),this.seriesElement.setAttribute("aria-label",this.name+","+this.type+" series with "+this.points.length+" data points"),this.seriesElement.setAttribute("aria-hidden","false")),(!this.chart.enableCanvas||this.type==="Bubble")&&(this.seriesElement.setAttribute("tabindex",h===0?"0":this.checkTabindex(t.visibleSeries,h)?"":"0"),this.seriesElement.setAttribute("style","outline: none"),this.seriesElement.appendChild(this.clipRectElement))}},e.prototype.checkTabindex=function(t,i){for(var r=0;r<i;r++)if(t[r].visible)return!0;return!1},e.prototype.appendSeriesElement=function(t,i){var r=this.marker,o=r.dataLabel,h=i.redraw;if(this.category!=="TrendLine"){Fe(i.enableCanvas,i.seriesElements,this.seriesElement,h);var u=this.errorBar;u.visible&&(i.chartAreaType==="PolarRadar"?Fe(i.enableCanvas,i.seriesElements,this.seriesElement,h):Fe(i.enableCanvas,i.seriesElements,this.errorBarElement,h))}r.visible&&(i.chartAreaType==="Cartesian"||this.drawType!=="Scatter"&&i.chartAreaType==="PolarRadar")&&this.type!=="Scatter"&&this.type!=="Bubble"&&this.type!=="Candle"&&this.type!=="Hilo"&&this.type!=="HiloOpenClose"&&this.symbolElement&&Fe(i.enableCanvas,i.seriesElements,this.symbolElement,h),o.visible&&this.textElement&&(Fe(i.enableCanvas,i.dataLabelElements,this.shapeElement,h),Fe(i.enableCanvas,i.dataLabelElements,this.textElement,h)),!i.enableCanvas&&i.dataLabelElements.hasChildNodes()&&i.seriesElements.appendChild(i.dataLabelElements)},e.prototype.performAnimation=function(t,i,r,o,h){(this.animation.enable&&kr!=="Disable"||kr==="Enable")&&t.animateSeries&&(!t.stockChart||!t.stockChart.isStockChartRendered)&&(t[i+"SeriesModule"].doAnimation(this),r.visible&&t.errorBarModule.doErrorBarAnimation(this),o.visible&&(this.isRectSeries||this.type==="Line"||this.type==="Polar"||this.type==="Radar")&&t.markerRender.doMarkerAnimation(this),h.visible&&He.info.name!=="edge"&&!He.isIE&&t.dataLabelModule.doDataLabelAnimation(this))},e.prototype.setPointColor=function(t,i){return i=t.interior||i,t.isEmpty&&this.emptyPointSettings.fill||i},e.prototype.setBorderColor=function(t,i){return i.width=t.isEmpty&&this.emptyPointSettings.border.width||i.width,i.color=t.isEmpty&&this.emptyPointSettings.border.color||i.color,i},e.prototype.addPoint=function(t,i){var r=this.yMin,o=this.yMax;if(this.removeTrackballElements(),this.dataSource.push(t),this.type==="Radar"||this.type==="Polar")return this.chart.refresh();if(this.type==="Histogram"){this.currentViewData=this.chart[Xt(this.type)+"SeriesModule"].processInternalData(Tt([],this.dataSource,null,!0),this);for(var h=0;h<this.currentViewData.length;h++)this.updatePoint(h)}else{this.currentViewData=this.dataSource;var u=this.points.length===0?0:this.points[this.points.length-1].index+1;this.updatePoint(u)}if(this.category==="Pareto"){var g=Tt([],this.dataSource,null,!0),y=this.chart.visibleSeries[this.index+this.chart.series.length];y.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(g,this);for(var h=0;h<y.currentViewData.length;h++)y.points[h]||y.updatePoint(h),y.points[h].y=y.points[h].yValue=y.currentViewData[h][y.yName]}this.updateSplineValue(),this.chart.calculateStackValues(),this.chart.redraw=this.chart.enableAnimation;var x=this.chart.duration;if(this.chart.duration=we(i)?500:i,this.chart.animateSeries=!1,this.chart.pointsAdded=!0,this.chart.enableAnimation&&!(this.isRectSeries||this.type==="Bubble"||this.type==="Scatter")&&this.type.indexOf("step")===-1&&this.marker&&this.marker.visible&&this.visible){for(var h=this.points.length-2;h>=0;h--)if(this.points[h]&&this.points[h].symbolLocations[0]!==void 0){this.chart.markerRender.renderMarker(this,this.points[this.points.length-2],this.points[h].symbolLocations[0],null,!0);break}}this.yMin>=r&&this.yMax<=o&&(ii(this.xAxis)||(this.xAxis.baseModule.calculateRangeAndInterval(new Qt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis()),this.chart.pointsAdded=!1,this.updateSeries(!0,!1)),(this.yMin<r||this.yMax>o)&&(this.updateChartAxis(),this.chart.pointsAdded=!1,this.updateSeries(!0,!0)),this.chart.redraw=!1,this.chart.duration=x},e.prototype.removePoint=function(t,i){var r=Tt([],this.dataSource,null,!0),o=this.chart.duration;if(r.length>0&&t>=0&&t<r.length){if(r.splice(t,1),this.dataSource.splice(t,1),this.removeTrackballElements(t),this.type==="Radar"||this.type==="Polar")return this.chart.refresh();if(this.chart.redraw=this.chart.enableAnimation,this.chart.animateSeries=!1,this.chart.pointsAdded=!0,this.chart.duration=we(i)?500:i,this.type==="Histogram"){var h=this.points.length;this.points=[],this.visiblePoints=[],this.currentViewData=this.chart[Xt(this.type)+"SeriesModule"].processInternalData(Tt([],this.dataSource,null,!0),this);for(var u=0;u<this.currentViewData.length;u++)this.updatePoint(u);h>this.points.length&&(this.removedPointIndex=t)}else this.removedPointIndex=t,this.points.splice(t,1),this.visiblePoints.splice(t,1);this.yData=[],this.xData=[];var g=this.yMin,y=this.yMax;this.yMin=1/0,this.xMin=1/0,this.yMax=-1/0,this.xMax=-1/0,this.xAxis.valueType.indexOf("Category")>-1&&this.chart.series.length===1&&(this.xAxis.labels=[],this.xAxis.indexLabels={}),t===0&&(this.chart.pointsRemoved=this.chart.enableAnimation);for(var u=0;u<this.points.length;u++)this.updatePointsAfterRemoval(u);if(this.category==="Pareto"){var x=this.chart.visibleSeries[this.index+this.chart.series.length];x.yMin=1/0,x.xMin=1/0,x.yMax=-1/0,x.xMax=-1/0,x.points.splice(t,1),x.visiblePoints.splice(t,1),x.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.dataSource,this);for(var u=0;u<x.currentViewData.length;u++)x.points[u].y=x.points[u].yValue=x.currentViewData[u][x.yName],x.updatePointsAfterRemoval(u)}this.updateSplineValue(),this.chart.calculateStackValues(),!ii(this.xAxis)&&y===this.yMax&&g===this.yMin?(this.xAxis.baseModule.calculateRangeAndInterval(new Qt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis(),this.createSeriesElements(this.chart),this.chart.pointsAdded=!1,this.updateSeries(!0,!1)):(y<this.yMax||g>this.yMin||y>this.yMax||g<this.yMin)&&(this.updateChartAxis(),this.createSeriesElements(this.chart),this.chart.pointsAdded=!1,this.updateSeries(!0,!0))}Fe(this.chart.enableCanvas,this.chart.seriesElements,this.seriesElement,!0),this.chart.redraw=!1,this.chart.duration=o,this.chart.pointsRemoved=!1,this.removedPointIndex=null},e.prototype.updatePointsAfterRemoval=function(t){var i=this.points[t],r={skeleton:"full",type:"dateTime"},o=this.chart.intl.getDateParser(r),h=this.chart.intl.getDateFormat(r);this.xAxis.valueType==="Category"&&this.chart.series.length===1?this.pushCategoryData(i,t,i.x):this.xAxis.valueType==="DateTimeCategory"&&this.chart.series.length===1&&this.pushCategoryData(i,t,Date.parse(o(h(i.x))).toString()),this.pushData(i,t),this.setEmptyPoint(this.points[t],t)},e.prototype.removeTrackballElements=function(t){if(this.marker.visible)if(t!==void 0){var i=this.chart.element.id+"_Series_"+this.index+"_Point_"+t+"_Trackball_",r=Ce(i+"0");r&&r.remove();var o=Ce(i+"1");o&&o.remove();var h=Ce(this.chart.element.id+"_Series_"+this.index+"_Point_"+t+"_Symbol");h&&h.setAttribute("visibility","visible")}else{var u=this.chart.element.id+"_EJ2-Trackball_Series_"+this.index+"_Point_",g=document.querySelectorAll('[class*="'+u+'"]');if(g[0]){var y=g[0].id.match(/_Point_(\d+)_/),x=y?parseInt(y[1],10):null;g[0].remove();var h=Ce(this.chart.element.id+"_Series_"+this.index+"_Point_"+x+"_Symbol");h&&h.setAttribute("visibility","visible")}g[1]&&g[1].remove()}if(this.chart.tooltip.enable){this.chart.tooltipModule.previousPoints=[];var S=Ce(this.chart.element.id+"_tooltip");S&&S.remove()}},e.prototype.setData=function(t,i){var r=this;if(!t)return null;var o=[];if(this.dataSource.length===t.length){for(var h=0;h<t.length;h++)if(t[h][this.xName]instanceof Date?o.push(t[h][this.xName].getTime()):o.push(t[h][this.xName]),this.currentData.length<this.dataSource.length){var u=Tt([],this.dataSource,null,!0);u[h][this.xName]instanceof Date?this.currentData.push(u[h][this.xName].getTime()):this.currentData.push(u[h][this.xName])}}var g=o.every(function(re){return r.currentData.indexOf(re)!==-1});this.currentViewData&&(g=!0);var y=!1,x=this.yMin,S=this.yMax;this.yMin=1/0,this.yMax=-1/0;var T=[];this.chart.dataLabelCollections=[],this.chart.rotatedDataLabelCollections=[];var M=!1,R=null;if(this.dataSource.length===t.length&&!(this.type==="Radar"||this.type==="Polar")&&g)if(M=!0,this.yData=[],this.type==="Histogram"&&this.dataSource.length===t.length){var I=this.chart[Xt(this.type)+"SeriesModule"].processInternalData(Tt([],t,null,!0),this);this.currentViewData=I;for(var j=0;j<I.length;j++)this.updatePoint(j)}else for(var h=0;h<t.length;h++){var W=t[h][this.xName];this.dataSource[h][this.xName],t[h][this.xName]instanceof Date&&(W=t[h][this.xName].getTime(),this.dataSource[h][this.xName].getTime()),this.currentData[h]!==W&&(y=!0);var N=this.points[h],G=this.enableComplexProperty?es:this.getObjectValue,K=this.dataSource[h],_=t[h];this.seriesType==="XY"||this.seriesType==="BoxPlot"?(N.y=G(this.yName,_),this.type==="Bubble"&&K[this.size]!==_[this.size]&&(N.size=G(this.size,_)),T.push(h)):(K[this.high]!==_[this.high]||K[this.low]!==_[this.low]||K[this.open]!==_[this.open]||K[this.close]!==_[this.close]||K[this.volume]!==_[this.volume])&&(N.high=G(this.high,_),N.low=G(this.low,_),N.open=G(this.open,_),N.close=G(this.close,_),N.volume=G(this.volume,_),T.push(h)),N.yValue=N.y,N.x=G(this.xName,_),this.currentViewData||(N.index=this.xAxis.valueType==="DateTime"&&typeof N.x!="number"?this.currentData.indexOf(N.x.getTime()):this.currentData.indexOf(N.x)),(this.xAxis.valueType==="Category"||this.xAxis.valueType==="DateTimeCategory")&&h<this.xAxis.visibleLabels.length&&(this.xAxis.visibleLabels[h].value=o.indexOf(this.currentData[h*this.xAxis.visibleRange.interval]),this.xAxis.labels[h]=String(o[h])),this.setEmptyPoint(N,h),this.dataSource[h]=t[h]}if(!M)this.dataSource=t;else{this.chart.redraw=this.chart.enableAnimation,this.chart.animateSeries=!1,this.chart.pointsAdded=!0;var Q=this.chart.duration;if(this.chart.duration=we(i)?500:i,this.type.indexOf("Stacking")!==-1&&this.chart.calculateStackValues(),this.updateSplineValue(),S===this.yMax&&x===this.yMin&&this.visible)this.chart.pointsAdded=!1,this.chart[Xt(this.category==="Pareto"?"Column":this.type.replace("100",""))+"SeriesModule"].updateDirection(this,T,this.chart.requireInvertedAxis),this.chart.annotationModule&&this.chart.annotationModule.renderAnnotations(Ce(this.chart.element.id+"_Secondary_Element")),!ii(this.xAxis)&&y&&this.xAxis.updateAxis();else if((S<this.yMax||x>this.yMin||S>this.yMax||x<this.yMin)&&this.visible){var ie=this.yAxis.maxLabelSize.width;this.yAxis.baseModule.calculateRangeAndInterval(new Qt(this.chart.availableSize.width,this.yAxis.rect.height),this.yAxis),ie<this.yAxis.maxLabelSize.width?(this.chart.calculateBounds(),this.chart.axisCollections.forEach(function(re){ii(re)||re.updateAxis()}),this.chart.chartAxisLayoutPanel.drawPaneLines(this.chart),this.chart.renderAreaBorder()):(ii(this.yAxis)||this.yAxis.updateAxis(),!ii(this.xAxis)&&y&&this.xAxis.updateAxis(),this.type==="Histogram"&&!ii(this.xAxis)&&(this.xAxis.baseModule.calculateRangeAndInterval(new Qt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis())),this.chart.pointsAdded=!1,y&&(this.chart[Xt(this.category==="Pareto"?"Column":this.type.replace("100",""))+"SeriesModule"].updateDirection(this,T,this.chart.requireInvertedAxis),R=this.index),this.updateSeries(!1,!0,R),this.chart.stripLineModule&&this.chart.stripLineModule.renderStripLine(this.chart,"Behind",this.chart.axisCollections)}this.chart.redraw=!1,this.chart.pointsRemoved=!1,this.chart.duration=Q}},e.prototype.updateChartAxis=function(){var t=this.yAxis.maxLabelSize.width;this.yAxis.baseModule.calculateRangeAndInterval(new Qt(this.chart.availableSize.width,this.yAxis.rect.height),this.yAxis),t<this.yAxis.maxLabelSize.width?(this.chart.calculateBounds(),this.chart.axisCollections.forEach(function(i){ii(i)||i.updateAxis()}),this.chart.chartAxisLayoutPanel.drawPaneLines(this.chart),this.chart.renderAreaBorder()):(ii(this.xAxis)||(this.xAxis.baseModule.calculateRangeAndInterval(new Qt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis()),ii(this.yAxis)||this.yAxis.updateAxis()),this.chart.stripLineModule&&this.chart.stripLineModule.renderStripLine(this.chart,"Behind",this.chart.axisCollections)},e.prototype.updateSeries=function(t,i,r){var o=[];if(t&&i){var h=new Set(this.xAxis.series.concat(this.yAxis.series));h.forEach(function(S){o.push(S)})}else o=t?this.xAxis.series.slice():this.yAxis.series.slice();for(var u=0,g=o;u<g.length;u++){var y=g[u];if(y.visible&&y.index!==r){dn(y,this.chart.enableCanvas);var x="translate("+this.clipRect.x+","+this.clipRect.y+")";y.seriesElement.setAttribute("transform",x),y.chart[Xt(y.type.replace("100",""))+"SeriesModule"].render(y,y.xAxis,y.yAxis,y.chart.requireInvertedAxis,y.chart.enableAnimation),y.marker.visible&&y.chart.chartAreaType==="Cartesian"&&y.type!=="Scatter"&&y.type!=="Bubble"&&y.type!=="Candle"&&y.type!=="Hilo"&&y.type!=="HiloOpenClose"&&y.symbolElement&&(y.symbolElement.setAttribute("transform",x),Fe(y.chart.enableCanvas,y.chart.seriesElements,y.symbolElement,!0)),y.marker.dataLabel.visible&&y.chart.dataLabelModule&&(y.chart.dataLabelCollections=[],y.chart.dataLabelModule.render(y,y.chart,y.marker.dataLabel),y.textElement&&(y.shapeElement&&y.shapeElement.setAttribute("transform",x),Fe(y.chart.enableCanvas,y.chart.dataLabelElements,y.shapeElement,!0),y.textElement.setAttribute("transform",x),Fe(y.chart.enableCanvas,y.chart.dataLabelElements,y.textElement,!0))),y.chart.annotationModule&&y.chart.annotationModule.renderAnnotations(Ce(y.chart.element.id+"_Secondary_Element"))}}},e.prototype.updatePoint=function(t){var i=new gn,r=this instanceof e&&this.marker.dataLabel.name?this.marker.dataLabel.name:"",o=this instanceof e&&this.type==="Histogram"?"x":this.xName;if(this.xAxis.valueType==="Category")this.pushCategoryPoint(i,t,r,o);else if(this.xAxis.valueType.indexOf("DateTime")>-1){var h=this.points[t],u={skeleton:"full",type:"dateTime"},g=this.chart.intl.getDateParser(u),y=this.chart.intl.getDateFormat(u);this.pushDateTimePoint(h,t,r,o,g,y)}else this.pushDoublePoint(i,t,r,o)},oe([te("")],e.prototype,"name",void 0),oe([te("")],e.prototype,"yName",void 0),oe([te("Line")],e.prototype,"drawType",void 0),oe([te(!0)],e.prototype,"isClosed",void 0),oe([te(null)],e.prototype,"bearFillColor",void 0),oe([te(null)],e.prototype,"bullFillColor",void 0),oe([te(!1)],e.prototype,"enableSolidCandles",void 0),oe([te("")],e.prototype,"size",void 0),oe([te(null)],e.prototype,"binInterval",void 0),oe([te(!1)],e.prototype,"showNormalDistribution",void 0),oe([te("")],e.prototype,"stackingGroup",void 0),oe([We({color:null,width:0},ts)],e.prototype,"border",void 0),oe([te(1)],e.prototype,"opacity",void 0),oe([te(0)],e.prototype,"zOrder",void 0),oe([te("")],e.prototype,"groupName",void 0),oe([te("Line")],e.prototype,"type",void 0),oe([We(null,Gc)],e.prototype,"errorBar",void 0),oe([We(null,jn)],e.prototype,"marker",void 0),oe([We(null,Wc)],e.prototype,"paretoOptions",void 0),oe([We({},Nh)],e.prototype,"dragSettings",void 0),oe([ci([],jc)],e.prototype,"trendlines",void 0),oe([te(!0)],e.prototype,"enableTooltip",void 0),oe([te("")],e.prototype,"tooltipFormat",void 0),oe([te("")],e.prototype,"tooltipMappingName",void 0),oe([te("SeriesType")],e.prototype,"legendShape",void 0),oe([te("")],e.prototype,"legendImageUrl",void 0),oe([te(null)],e.prototype,"selectionStyle",void 0),oe([te(null)],e.prototype,"unSelectedStyle",void 0),oe([te(null)],e.prototype,"nonHighlightStyle",void 0),oe([te(1)],e.prototype,"minRadius",void 0),oe([te(3)],e.prototype,"maxRadius",void 0),oe([te("Natural")],e.prototype,"splineType",void 0),oe([te(.5)],e.prototype,"cardinalSplineTension",void 0),oe([We(null,zh)],e.prototype,"emptyPointSettings",void 0),oe([te(!0)],e.prototype,"showMean",void 0),oe([te("Normal")],e.prototype,"boxPlotMode",void 0),oe([te(null)],e.prototype,"columnWidth",void 0),oe([te(null)],e.prototype,"columnWidthInPixel",void 0),oe([te("Rectangle")],e.prototype,"columnFacet",void 0),oe([te(0)],e.prototype,"columnSpacing",void 0),oe([te("#C64E4A")],e.prototype,"negativeFillColor",void 0),oe([te("#4E81BC")],e.prototype,"summaryFillColor",void 0),oe([te()],e.prototype,"intermediateSumIndexes",void 0),oe([te()],e.prototype,"sumIndexes",void 0),oe([te("Left")],e.prototype,"step",void 0),oe([te(!1)],e.prototype,"noRisers",void 0),oe([We({color:"black",width:2},Wr)],e.prototype,"connector",void 0),oe([We(null,_h)],e.prototype,"cornerRadius",void 0),e}(Jo),Uc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),qc=function(n){Uc(e,n);function e(t){var i=n.call(this,t)||this;return i.elementId=t.element.id,i.commonXvalues=[],i}return e.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(He.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(He.touchEndEvent,this.mouseUpHandler,this))},e.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(He.touchMoveEvent,this.mouseMoveHandler),this.chart.off(He.touchEndEvent,this.mouseUpHandler))},e.prototype.mouseUpHandler=function(){var t=this.chart;t.isTouch&&!t.crosshair.enable&&!this.isSelected(t)&&!(this.chart.zoomModule&&Ce(this.elementId+"_ZoomArea"))&&this.markerMove(!0)},e.prototype.mouseMoveHandler=function(){var t=this.chart;(t.highlightMode!=="None"||t.tooltip.enable)&&(!t.isTouch||t.startMove)&&!this.isSelected(t)&&!(this.chart.zoomModule&&Ce(this.elementId+"_ZoomArea"))&&this.markerMove(!1)},e.prototype.markerMove=function(t){var i=this,r=this.chart;this.currentPoints=[];var o,h,u,g;if(!r.tooltip.shared||!r.tooltip.enable)o=this.getData(),g=o.series,h=this.previousPoints[0],u=g&&(g.type==="Bubble"||g.drawType==="Scatter"||g.type==="Scatter"||g.type!=="Candle"&&g.type!=="Hilo"&&g.type!=="HiloOpenClose"&&g.marker.visible&&g.marker.width!==0&&g.marker.height!==0),o.lierIndex=this.lierIndex,o.point&&u&&(!h||h.point!==o.point||h&&h.lierIndex>3&&h.lierIndex!==this.lierIndex)&&this.currentPoints.push(o),o.point&&u&&r.isPointMouseDown&&this.currentPoints.push(o);else{if(!Ut(r.mouseX,r.mouseY,r.chartAxisLayoutPanel.seriesClipRect))return null;if(r.tooltip.enable){var y=r.chartAreaType==="PolarRadar"?this.getData():null;if(!this.chart.tooltip.showNearestPoint)this.currentPoints=this.chart.tooltipModule.currentPoints;else for(var x=0,S=r.visibleSeries;x<S.length;x++){var T=S[x];!T.enableTooltip||T.category==="Indicator"||(r.chartAreaType==="Cartesian"&&T.visible?o=this.getClosestX(r,T,this.commonXValue(this.chart.visibleSeries)):r.chartAreaType==="PolarRadar"&&T.visible&&y.point!==null&&(o=new Oo(T.points[y.point.index],T)),o&&(this.currentPoints.push(o),o=null))}}}var M=this.previousPoints.length;if((this.currentPoints.length>0||M>0&&r.tooltip.shared)&&(M===0||r.isPointMouseDown||M>0&&(this.currentPoints.length===0||this.previousPoints[0].point!==this.currentPoints[0].point))){if(M>0)for(var R=0,I=this.previousPoints;R<I.length;R++){var j=I[R];we(j)||this.removeHighlightedMarker(j.series,j.point)}for(var W=function(Q){(Q&&Q.point||g.type!=="Candle"&&g.type!=="Hilo"&&g.type!=="HiloOpenClose")&&(Vh(N.markerExplode),N.isRemove=!0,Q.point.symbolLocations.map(function(ie,re){Q.series.marker.allowHighlight&&(!Q.series.isRectSeries||Q.point.marker.visible)&&i.drawTrackBall(Q.series,Q.point,ie,re)}))},N=this,G=0,K=this.currentPoints;G<K.length;G++){var _=K[G];W(_)}this.previousPoints=Tt([],this.currentPoints,null,!0)}!r.tooltip.enable&&(this.currentPoints.length===0&&this.isRemove||t&&this.isRemove||!Ut(r.mouseX,r.mouseY,r.chartAxisLayoutPanel.seriesClipRect))&&(this.isRemove=!1,we(this.previousPoints[0])||(this.markerExplode=+setTimeout(function(){i.previousPoints[0]&&i.removeHighlightedMarker(i.previousPoints[0].series,i.previousPoints[0].point)},2e3))),this.currentPoints=[]},e.prototype.animationDuration=function(){var t=200;return this.chart.maxPointCount>100?t=10:this.chart.maxPointCount>50&&(t=100),t},e.prototype.drawTrackBall=function(t,i,r,o){var h=i.marker,u=t.marker,g=h.shape||u.shape||"Circle",y;if(g==="None"||g==="Image")return null;var x=t.symbolElement||t.seriesElement,S;this.chart.highlightModule&&this.chart.highlightMode!=="None"&&(S=this.chart.highlightModule.generateStyle(t)),this.chart.selectionModule&&this.chart.selectionMode!=="None"&&(S=this.chart.selectionModule.generateStyle(t));var T=this.elementId+"_Series_"+t.index+"_Point_"+i.index+"_Trackball"+(o||""),M=new Qt((h.width||u.width)+3,(h.height||u.height)+3),R=h.border||t.border,I=t.type==="BoxAndWhisker"||t.type==="Bubble"||t.type==="Scatter",j=R.color&&R.color!=="transparent"?R.color:h.fill||i.interior||(I?i.color:t.interior),W=fn(Zr(j)),N=h.border?h.border.width:u.border.width,G=t.chart.themeStyle.markerShadow||"rgba("+W.r+","+W.g+","+W.b+",0.2)",K=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+i.index+"_Symbol");if(we(K)||K.setAttribute("visibility","hidden"),this.chart.enableCanvas){var _=document.getElementById(this.chart.element.id+"_Secondary_Element");y=this.chart.svgRenderer.createSvg({id:this.chart.element.id+"_trackball_svg",width:this.chart.availableSize.width,height:this.chart.availableSize.height}),y.style.cssText="position: absolute; display:block; pointer-events: none",_.appendChild(y)}for(var Q=0;Q<2;Q++){var ie=new Lr(T+"_"+Q,Q?h.fill||i.color||(I?t.interior:"#ffffff"):"transparent",N+(Q?0:8),Q?j:G,h.opacity||u.opacity,t.marker.border.dashArray,""),re=Io(r,g,M,h.imageUrl,ie,"",this.chart.svgRenderer,t.clipRect);re.setAttribute("class",this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index);var fe=x.id.indexOf("Symbol")!==-1?"_Symbol":"",ne=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+i.index+fe);S!==""&&!we(S)&&!we(ne)&&ne.hasAttribute("class")&&S===ne.getAttribute("class")&&re.classList.add(S),re.setAttribute("clip-path",x.getAttribute("clip-path")),re.setAttribute("transform",x.getAttribute("transform")),this.chart.enableCanvas?y.appendChild(re):this.chart.svgObject.appendChild(re)}this.doAnimation(t,i,!1)},e.prototype.doAnimation=function(t,i,r){r===void 0&&(r=!1);for(var o=this.animationDuration(),h=0,u=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index),g=0,y=u.length;g<y;g++)this.trackballAnimate(u[g],h,o,t,i.index,i.symbolLocations[0],!1,r)},e.prototype.trackballAnimate=function(t,i,r,o,h,u,g,y){var x=u.x,S=u.y,T=o.type!=="Polar"&&o.type!=="Radar"?o.clipRect.x:0,M=o.type!=="Polar"&&o.type!=="Radar"?o.clipRect.y:0,R=t.getAttribute("transform");new $r({}).animate(t,{duration:r,delay:i,progress:function(I){I.timeStamp>I.delay&&(I.element.style.visibility="visible",t.setAttribute("transform","translate("+(x+T)+" "+(S+M)+") scale(1) translate("+-x+" "+-S+")"))},end:function(){t.style.visibility="",t.setAttribute("transform",R),!g&&h===o.points.length-1&&o.chart.trigger("animationComplete",{series:o.chart.isBlazor?{}:o}),y&&Vt(t)}})},e.prototype.removeHighlightedMarker=function(t,i,r){if(t===void 0&&(t=null),i===void 0&&(i=null),r===void 0&&(r=!1),!we(t)&&!we(i)){var o=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+i.index+"_Symbol"),h=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index);if(h.length===0){var u=document.querySelectorAll('[class*="'+(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index)+'"]');u[1]&&u[1].remove(),u[0]&&u[0].remove()}for(var g=0,y=h.length;g<y;g++)Vt(h[0]);we(o)||o.setAttribute("visibility","visible")}else for(var x=0,S=t.points;x<S.length;x++)for(var T=S[x],u=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+T.index),o=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+T.index+"_Symbol"),g=0,y=u.length;g<y;g++)we(o)||o.setAttribute("visibility","visible"),Vt(u[0]);r&&(this.previousPoints=[])},e}(Ro),$c=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Qo=["Circle","Triangle","Diamond","Rectangle","Pentagon","InvertedTriangle","VerticalLine","Cross","Plus","HorizontalLine","Star"],Zc=function(n){$c(e,n);function e(t){var i=n.call(this,t)||this;return i.addEventListener(),i}return e.prototype.render=function(t){var i=this,r=t.chart.redraw;this.createElement(t,r);for(var o=function(y){y.visible&&y.symbolLocations&&y.symbolLocations.length&&y.symbolLocations.map(function(x,S){t.marker.shape!=="None"&&i.renderMarker(t,y,x,S,r)})},h=0,u=t.points;h<u.length;h++){var g=u[h];o(g)}},e.prototype.renderMarker=function(t,i,r,o,h){var u=t.index===void 0?t.category:t.index,g=t.marker;t.marker.shape=t.marker.shape?t.marker.shape:Qo[u%10];var y={color:g.border.color,width:g.border.width},x=g.border.color,S,T,M,R;r.x=r.x+g.offset.x,r.y=r.y-g.offset.y;var I=t.type==="BoxAndWhisker",j=g.fill||(I||t.marker.isFilled?i.interior||t.interior:"#ffffff"),W,N=I&&!this.chart.enableCanvas?Hh(t.seriesElement.childNodes,"Series_"+t.index+"_Point_"+i.index):t.symbolElement;y.color=x||t.setPointColor(i,t.interior);var G=this.elementId+"_Series_"+u+"_Point_"+(t.removedPointIndex!==null&&t.removedPointIndex<=i.index||this.chart.pointsAdded?i.index+1:i.index)+"_Symbol"+(o||""),K={cancel:!1,name:Ss,series:t,point:i,fill:i.isEmpty&&t.emptyPointSettings.fill||j,border:{color:t.type==="BoxAndWhisker"?!we(x)&&x!=="transparent"?x:Wh(j,-.6):y.color,width:y.width},height:g.height,width:g.width,shape:g.shape};if(K.border=t.setBorderColor(i,{width:K.border.width,color:K.border.color}),(!t.isRectSeries||t.type==="BoxAndWhisker")&&(this.chart.trigger(Ss,K),i.color=K.fill),i.color=K.fill,K.cancel)r=null,i.marker={visible:!1};else{var _=void 0;t.type==="RangeArea"||t.type==="RangeColumn"||t.drawType==="RangeColumn"||t.type==="SplineRangeArea"||t.type==="RangeStepArea"?_=o?i.low:i.high:I?_=i.outliers[o]:_=i.y;var Q=K.point.marker.fill||K.fill,ie=void 0;we(K.point.marker.border)?ie={color:K.border.color,width:K.border.width}:ie={color:K.point.marker.border.color||K.border.color,width:K.point.marker.border.width||K.border.width};var re=K.point.marker.width||K.width,fe=K.point.marker.height||K.height,ne=K.point.marker.opacity||g.opacity,ve=K.point.marker.shape||K.shape,ye=K.point.marker.imageUrl||g.imageUrl;R=new Lr(G,Q,ie.width,ie.color,ne,t.marker.border.dashArray),(N!=null||this.chart.enableCanvas)&&(h&&Ce(R.id)&&(W=Ce(R.id),M=ve==="Circle"?"c":"",S={x:+W.getAttribute(M+"x"),y:+W.getAttribute(M+"y")},T=W.getAttribute("d")),W=Io(r,ve,new Qt(re,fe),ye,R,i.x.toString()+":"+_.toString(),this.chart.renderer,t.clipRect),W&&(W.setAttribute("role","img"),W.setAttribute("aria-label",i.x+": "+i.y+", "+t.name)),Fe(this.chart.enableCanvas,N,W,h,!0,M+"x",M+"y",S,T,!1,!1,null,t.chart.duration),t.removedPointIndex!==null&&t.removedPointIndex<=i.index&&(N.lastChild.id=this.elementId+"_Series_"+u+"_Point_"+i.index+"_Symbol"+(o||""))),i.marker={border:ie,fill:Q,height:fe,visible:!0,shape:ve,width:re,imageUrl:ye}}},e.prototype.createElement=function(t,i){var r,o=t.marker,h=o.border.width+8+5,u=t.chart.svgRenderer,g=t.index===void 0?t.category:t.index,y,x=t.chart.chartAreaType==="Cartesian"?"translate("+t.clipRect.x+","+t.clipRect.y+")":"";if(o.visible){var S=(o.height+h)/2,T=(o.width+h)/2;if(t.chart.chartAreaType==="Cartesian"?(y=new ir(this.elementId+"_ChartMarkerClipRect_"+g,"transparent",{width:1,color:"Gray"},1,{x:-T,y:-S,width:t.clipRect.width+T*2,height:t.clipRect.height+S*2},0,0,"",t.marker.border.dashArray),r=Pr(i,y,u)):(y=new Mo(this.elementId+"_ChartMarkerClipRect_"+g,"transparent",{width:1,color:"Gray"},1,t.clipRect.width/2+t.clipRect.x,t.clipRect.height/2+t.clipRect.y,t.chart.radius+Math.max(S,T)),r=Pr(i,y,u,"drawCircularClipPath")),y={id:this.elementId+"SymbolGroup"+g,transform:x,"clip-path":"url(#"+this.elementId+"_ChartMarkerClipRect_"+g+")"},t.symbolElement=u.createGroup(y),t.symbolElement.appendChild(r),this.chart.enableCanvas){var M=document.getElementById(this.chart.element.id+"_tooltip_svg");M.appendChild(t.symbolElement)}}},e.prototype.getRangeLowPoint=function(t,i){var r=t.x,o=t.y;return i.chart.requireInvertedAxis?(o+=t.height/2,r+=i.yAxis.isAxisInverse?t.width:0):(o+=i.yAxis.isAxisInverse?0:t.height,r+=t.width/2),{x:r,y:o}},e.prototype.calculateDistance=function(t,i){var r=i.x-t.x,o=i.y-t.y;return Math.sqrt(r*r+o*o)},e.prototype.doMarkerAnimation=function(t){if(!(t.type==="Scatter"||t.type==="Bubble"||t.type==="Candle"||t.type==="Hilo"||t.type==="HiloOpenClose"||t.chart.chartAreaType==="PolarRadar"&&t.drawType==="Scatter")){for(var i=t.symbolElement.childNodes,r=t.animation.delay+(t.animation.duration===0&&kr==="Enable"?1e3:t.animation.duration),o=t.chart.animated?t.chart.duration:200,h=r,u=t.pathElement?t.pathElement.getTotalLength():0,g=[],y=1;t.type==="Line"&&y<t.points.length;y++)if(t.points[y-1].symbolLocations[0]&&t.points[y].symbolLocations[0]){var x=this.calculateDistance(t.points[y-1].symbolLocations[0],t.points[y].symbolLocations[0]);g.push(x)}for(var S=1,T=t.type==="RangeArea"||t.type==="RangeColumn"||t.type==="SplineRangeArea"||t.type==="RangeStepArea"?2:1,y=0;y<t.points.length;y++)if(t.points[y].symbolLocations){if(!t.points[y].symbolLocations.length||!i[S])continue;if(t.type==="Line"&&(y===0&&(h=0),y>0&&(h+=g[y-1]/u*r,o=0)),Cs(i[S],h,o,t,y,t.points[y].symbolLocations[0],!1),T===2){var M=this.getRangeLowPoint(t.points[y].regions[0],t);Cs(i[S+1],h,o,t,y,M,!1)}S+=T}}},e}(qc),Kc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var u=n.length-1;u>=0;u--)(h=n[u])&&(o=(r<3?h(o):r>3?h(e,t,o):h(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ma=function(n){Kc(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.clipRect=new Ue(0,0,0,0),t}return e.prototype.setDataSource=function(t,i){t&&(this.xData=t.xData,this.yData=t.yData,this.points=t.points);var r=Xt(this.type);this.visible&&i[r+"IndicatorModule"].initDataSource(this,i),i.visibleSeriesCount+=this.targetSeries.length},xt([te("Sma")],e.prototype,"type",void 0),xt([te(14)],e.prototype,"period",void 0),xt([te(14)],e.prototype,"kPeriod",void 0),xt([te(3)],e.prototype,"dPeriod",void 0),xt([te(80)],e.prototype,"overBought",void 0),xt([te(20)],e.prototype,"overSold",void 0),xt([te(2)],e.prototype,"standardDeviation",void 0),xt([te("Close")],e.prototype,"field",void 0),xt([te(12)],e.prototype,"slowPeriod",void 0),xt([te(26)],e.prototype,"fastPeriod",void 0),xt([te(!0)],e.prototype,"showZones",void 0),xt([We({color:"#ff9933",width:2},Wr)],e.prototype,"macdLine",void 0),xt([te("Both")],e.prototype,"macdType",void 0),xt([te("#2ecd71")],e.prototype,"macdPositiveColor",void 0),xt([te("#e74c3d")],e.prototype,"macdNegativeColor",void 0),xt([te("rgba(211,211,211,0.25)")],e.prototype,"bandColor",void 0),xt([We({color:"#ffb735",width:1},Wr)],e.prototype,"upperLine",void 0),xt([We({color:"#f2ec2f",width:1},Wr)],e.prototype,"lowerLine",void 0),xt([We({color:"#f2ec2f",width:1},Wr)],e.prototype,"periodLine",void 0),xt([te("")],e.prototype,"seriesName",void 0),e}(Jo),zs=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ge=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var u=n.length-1;u>=0;u--)(h=n[u])&&(o=(r<3?h(o):r>3?h(e,t,o):h(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jc=function(n){zs(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return ge([te()],e.prototype,"start",void 0),ge([te()],e.prototype,"end",void 0),ge([te([])],e.prototype,"colors",void 0),ge([te("")],e.prototype,"label",void 0),e}(li),Qc=function(n){zs(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return ge([te(!1)],e.prototype,"enable",void 0),ge([te("")],e.prototype,"dashArray",void 0),ge([We({color:null,width:1},ts)],e.prototype,"line",void 0),ge([te("Both")],e.prototype,"lineType",void 0),ge([te("")],e.prototype,"verticalLineColor",void 0),ge([te("")],e.prototype,"horizontalLineColor",void 0),ge([te(1)],e.prototype,"opacity",void 0),e}(li),eu=function(n){zs(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return ge([te(!1)],e.prototype,"enableSelectionZooming",void 0),ge([te(!1)],e.prototype,"enablePinchZooming",void 0),ge([te(!1)],e.prototype,"showToolbar",void 0),ge([te(!1)],e.prototype,"enableMouseWheelZooming",void 0),ge([te(!0)],e.prototype,"enableDeferredZooming",void 0),ge([te("XY")],e.prototype,"mode",void 0),ge([te(["Zoom","ZoomIn","ZoomOut","Pan","Reset"])],e.prototype,"toolbarItems",void 0),ge([te(!1)],e.prototype,"enablePan",void 0),ge([te(!1)],e.prototype,"enableScrollbar",void 0),ge([te(!1)],e.prototype,"enableAnimation",void 0),e}(li),tu=function(n){zs(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.rotatedDataLabelCollections=[],r.animated=!1,r.isPointMouseDown=!1,r.isScrolling=!1,r.checkResize=0,r.visible=0,r.clickCount=0,r.maxPointCount=0,r.singleClickTimer=0,r.chartAreaType="Cartesian",r.isRtlEnabled=!1,r.isCrosshair=!0,r.chartid=57723,r.isLegendClicked=!1,r.isZoomed=!1,r.previousTargetId="",r.currentPointIndex=0,r.currentSeriesIndex=0,r.currentLegendIndex=0,r.previousPageX=null,r.previousPageY=null,r.allowPan=!1,r.pointsRemoved=!1,r.pointsAdded=!1,r.zoomRedraw=!1,hh("mergePersistData",r.mergePersistChartData,r),r}return e.prototype.mergePersistChartData=function(){var t=window.localStorage.getItem(this.getModuleName()+this.element.id);if(!(we(t)||t==="")){var i=JSON.parse(t),r=Object.keys(i);this.isProtectedOnChange=!0;for(var o=0,h=r;o<h.length;o++){var u=h[o];typeof this[u]=="object"&&!we(this[u])?Tt(this[u],i[u]):this[u]=i[u]}this.isProtectedOnChange=!1}},e.prototype.isIdHasSpecialCharacter=function(t){var i=/^[A-Za-z ]+$/,r=/^[0-9 ]+$/,o="";if(i.test(t))return t;var h=0;r.test(t[0])&&(o+="\\3"+t[0],h=1);for(var u=h;u<t.length;u++)!i.test(t[u])&&t.indexOf("-")===-1&&t.indexOf("_")===-1&&t.indexOf("\\")===-1&&!r.test(t[u])?o+="\\"+t[u]:o+=t[u];return o},e.prototype.preRender=function(){this.element.id=this.isIdHasSpecialCharacter(this.element.id);var t="Blazor";this.isBlazor=window[t],this.allowServerDataBinding=!1,this.markerIndex=0,this.unWireEvents(),this.initPrivateVariable(),this.setCulture(),this.wireEvents(),this.stockChart&&(this.stockChart.tooltip.header===null&&(this.tooltip.header="<b>${point.x}</b>"),this.stockChart.tooltip.format===null&&(this.tooltip.format="High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>")),this.element.setAttribute("dir",this.enableRtl?"rtl":"ltr")},e.prototype.initPrivateVariable=function(){if(this.animateSeries=!0,this.delayRedraw=!1,this.dragY=null,this.horizontalAxes=[],this.verticalAxes=[],this.refreshAxis(),this.refreshDefinition(this.rows),this.refreshDefinition(this.columns),this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.element.setAttribute("role","region"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-label",this.description||this.title+". Syncfusion interactive chart."),this.element.classList.contains("e-chart-focused")||this.element.setAttribute("class",this.element.getAttribute("class")+" e-chart-focused"),this.element.id===""){for(var t=document.getElementsByClassName("e-chart").length,i="chart_"+this.chartid+"_"+t;document.getElementById(i);)t++,i="chart_"+this.chartid+"_"+t;this.element.id="chart_"+this.chartid+"_"+t}this.svgId=this.stockChart?this.stockChart.element.id+"_stockChart_chart":this.element.id+(this.enableCanvas?"_canvas":"_svg")},e.prototype.render=function(){var t=this;this.svgRenderer=new pn(this.element.id);var i={chart:this.isBlazor?{}:this,theme:this.theme,name:ga,cancel:!1};this.stockChart?(this.isRtlEnabled=window.getComputedStyle(document.querySelector("body")).direction==="rtl",this.cartesianChartRendering(i)):this.trigger(ga,i,function(){i.cancel||t.cartesianChartRendering(i)}),this.applyZoomkit()},e.prototype.cartesianChartRendering=function(t){this.theme=this.isBlazor?t.theme:this.theme,this.setTheme(),this.createChartSvg(),this.markerRender=new Zc(this),this.calculateAreaType(),this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.calculateVisibleAxis(),this.processData(),this.renderComplete(),this.mouseMoveEvent(),this.allowServerDataBinding=!0},e.prototype.getLocalizedLabel=function(t){return this.localeObject.getConstant(t)},e.prototype.animate=function(t){if(this.redraw=!0,this.animated=!0,this.duration=t||1e3,this.tooltipModule)this.tooltipModule.removeHighlightedMarker(this.tooltipModule.previousPoints,!0);else if(this.markerRender.previousPoints)for(var i=0;i<this.markerRender.previousPoints.length;i++)this.markerRender.removeHighlightedMarker(this.markerRender.previousPoints[i].series,this.markerRender.previousPoints[i].point)},e.prototype.refreshBound=function(){if(this.rotatedDataLabelCollections=[],this.legendModule&&this.legendSettings.visible&&this.legendModule.getLegendOptions(this.visibleSeries,this),this.tooltip.enable&&this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.calculateStackValues(),this.calculateBounds(),this.stockChart&&!this.stockChart.rangeFound&&(this.stockChart.enablePeriodSelector||this.stockChart.enableSelector))return null;this.renderElements(),Et("chartmeasuretext"),this.removeSelection(),this.markerRender&&this.markerRender.mergeXvalues(this.visibleSeries)},e.prototype.calculateStackValues=function(){for(var t,i=!1,r=0,o=this.visibleSeries.length;r<o;r++)t=this.visibleSeries[r],t.visible&&(t.position=t.rectCount=void 0),(t.type.indexOf("Stacking")!==-1||t.drawType.indexOf("Stacking")!==-1&&this.chartAreaType==="PolarRadar")&&!i&&(t.calculateStackedValue(t.type.indexOf("100")>-1,this),i=!0)},e.prototype.removeSelection=function(){for(var t=0,i=this.visibleSeries;t<i.length;t++){var r=i[t];if(r.visible)for(var o=0,h=r.points;o<h.length;o++){var u=h[o];u.isSelect=!1}}Ce(this.element.id+"_ej2_drag_multi_group")?(this.selectionMode.indexOf("Drag")>-1&&(this.selectionModule.filterArray=[]),Et(this.element.id+"_ej2_drag_multi_group"),this.selectionModule.calculateDragSelectedElements(this,new Ue(0,0,0,0),!0)):Ce(this.element.id+"_ej2_drag_group")&&(this.selectionMode!=="Lasso"&&(this.selectionModule.filterArray=[]),Et(this.element.id+"_ej2_drag_group"),this.selectionModule.calculateDragSelectedElements(this,new Ue(0,0,0,0),!0))},e.prototype.renderElements=function(){this.renderBorder(),this.renderTitle(),this.renderAreaBorder(),this.renderSeriesElements(this.renderAxes()),this.renderLegend(),this.applyZoomkit(),this.performSelection(),this.setSecondaryElementPosition();for(var t=0,i=this.visibleSeries;t<i.length;t++){var r=i[t];ch(this.element.id+"_DataLabel","Template",r.marker.dataLabel)}this.renderAnnotation()},e.prototype.renderAxes=function(){this.yAxisElements=this.renderer.createGroup({id:this.element.id+"yAxisCollection"});var t;return this.rows.length>0&&this.columns.length>0&&(t=this.chartAxisLayoutPanel.renderAxes()),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Behind",this.axisCollections),t},e.prototype.renderLegend=function(){if(this.legendModule&&this.legendModule.legendCollections.length&&this.legendSettings.visible){this.legendModule.calTotalPage=!0;var t=this.legendSettings.border.width,i=this.legendModule.legendBounds,r=new Ue(i.x,i.y,i.width,i.height);this.enableCanvas&&(this.canvasRender.ctx.beginPath(),r=new Ue(r.x-t/2,r.y-t/2,r.width+t,r.height+t),this.renderer.canvasClip(r)),this.legendModule.renderLegend(this,this.legendSettings,i),this.enableCanvas&&this.renderer.canvasRestore()}this.redraw||(this.stockChart?Ce(this.stockChart.chartObject.id)||this.stockChart.mainObject.appendChild(this.svgObject):this.element.appendChild(this.svgObject))},e.prototype.setSecondaryElementPosition=function(){var t=Ce(this.element.id+"_Secondary_Element");if(t){var i=this.element.getBoundingClientRect(),r=Ce(this.svgId).getBoundingClientRect();t.style.left=Math.max((r.left-i.left)/this.scaleX,0)+"px",t.style.top=Math.max((r.top-i.top)/this.scaleY,0)+"px"}},e.prototype.initializeModuleElements=function(){this.dataLabelCollections=[];var t=this.element.id;this.series.length&&(this.seriesElements=this.svgRenderer.createGroup({id:t+"SeriesCollection"})),this.indicators.length&&(this.indicatorElements=this.renderer.createGroup({id:t+"IndicatorCollection"})),this.hasTrendlines()&&(this.trendLineElements=this.renderer.createGroup({id:t+"TrendLineCollection"})),this.dataLabelElements=this.renderer.createGroup({id:t+"DataLabelCollection"})},e.prototype.hasTrendlines=function(){for(var t,i=0,r=this.series;i<r.length;i++){var o=r[i];if(t=!!o.trendlines.length,t)break}return t},e.prototype.renderSeriesElements=function(t){this.initializeModuleElements();var i=this.element.id;if(this.element.tagName!=="g"){var r=wi(this.redraw,i+"_Secondary_Element")||this.createElement("div");r.id=i+"_Secondary_Element",r.style.cssText="position: relative",Fe(!1,this.element,r,this.redraw)}if(this.enableCanvas){var o=document.getElementById(i+"_Secondary_Element");o=o||this.createElement("div",{id:i+"_Secondary_Element",attrs:{style:"position: relative; left:0px; top:0px"}});var h=this.svgRenderer.createSvg({id:i+"_tooltip_svg",width:this.availableSize.width,height:this.availableSize.height});h.style.cssText="position: absolute; pointer-events: none",o.appendChild(h)}this.tooltip.enable&&!this.stockChart&&Fe(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:i+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.rows.length>0&&this.columns.length>0&&(this.initializeIndicator(),this.initializeTrendLine(),this.renderSeries(),this.trendLineElements&&Fe(this.enableCanvas,this.svgObject,this.trendLineElements,this.redraw),this.appendElementsAfterSeries(t))},e.prototype.renderSeries=function(){var t;this.enableCanvas&&this.renderer.canvasClip(this.chartAxisLayoutPanel.seriesClipRect);for(var i=0,r=this.visibleSeries;i<r.length;i++){var o=r[i];o.category==="TrendLine"?t=this.series[o.sourceIndex].trendlines[o.index].visible:t=o.visible,t?(this.visible++,dn(o,this.enableCanvas),this.enableCanvas&&this.renderCanvasSeries(),o.renderSeries(this)):o.isLegendClicked&&(o.type.indexOf("StackingArea")>-1||o.type.indexOf("StackingBar")>-1||o.type.indexOf("StackingColumn")>-1)&&(dn(o,this.enableCanvas),o.renderSeries(this))}this.enableCanvas&&this.renderer.canvasRestore(),this.visible=0;var h={id:this.element.id+"_ChartAreaClipRect_",x:this.chartAxisLayoutPanel.seriesClipRect.x,y:this.chartAxisLayoutPanel.seriesClipRect.y,width:this.chartAxisLayoutPanel.seriesClipRect.width,height:this.chartAxisLayoutPanel.seriesClipRect.height,fill:"transparent","stroke-width":1,stroke:"Gray"};if(!(!this.seriesElements||h.height<0||h.width<0)){var u;this.chartAreaType==="PolarRadar"?u=Pr(this.redraw,h,this.renderer,"drawCircularClipPath"):u=Pr(this.redraw,h,this.renderer),this.enableCanvas||this.seriesElements.appendChild(u);var g=document.getElementById(this.element.id+"_series_svg");g?Fe(!1,g,this.seriesElements,this.redraw):Fe(this.enableCanvas,this.svgObject,this.seriesElements,this.redraw)}},e.prototype.renderCanvasSeries=function(){this.enableCanvas||this.svgObject},e.prototype.initializeIndicator=function(){for(var t=0,i=this.indicators;t<i.length;t++){var r=i[t];this[Xt(r.type)+"IndicatorModule"]&&this[Xt(r.type)+"IndicatorModule"].createIndicatorElements(this,r,r.index)}this.indicatorElements&&Fe(this.enableCanvas,this.svgObject,this.indicatorElements,this.redraw)},e.prototype.initializeTrendLine=function(){for(var t=0,i=this.visibleSeries;t<i.length;t++){var r=i[t];r.trendlines.length&&this.trendLineModule.getTrendLineElements(r,this)}},e.prototype.appendElementsAfterSeries=function(t){this.chartAreaType==="PolarRadar"&&Fe(this.enableCanvas,this.svgObject,this.yAxisElements,this.redraw),Fe(this.enableCanvas,this.svgObject,t,this.redraw),(this.zoomModule&&this.zoomSettings.enableScrollbar&&this.scrollElement.childElementCount||this.scrollElement&&this.scrollElement.childElementCount)&&Fe(!1,Ce(this.element.id+"_Secondary_Element"),this.scrollElement,this.redraw),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Over",this.axisCollections),(!this.tooltip.enable||this.stockChart)&&Fe(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:this.element.id+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.stockChart&&this.stockChart.calculateStockEvents()},e.prototype.applyZoomkit=function(){this.chartAreaType!=="PolarRadar"&&(!this.redraw||this.zoomRedraw)&&this.zoomModule&&(!this.zoomSettings.enablePan||this.zoomModule.performedUI||this.zoomSettings.showToolbar)&&this.zoomModule.applyZoomToolkit(this,this.axisCollections)},e.prototype.renderAnnotation=function(){this.annotationModule&&this.annotationModule.renderAnnotations(Ce((this.stockChart?this.stockChart.element.id:this.element.id)+"_Secondary_Element"))},e.prototype.performSelection=function(){var t=[];this.selectionModule&&(t=Tt([],this.selectionModule.selectedDataIndexes,null,!0),this.selectionModule.invokeSelection(this)),this.highlightModule&&this.highlightModule.invokeHighlight(this),t.length>0&&(this.selectionModule.selectedDataIndexes=t,this.selectionModule.redrawSelection(this,this.selectionMode))},e.prototype.processData=function(t){t===void 0&&(t=!0),this.visibleSeriesCount=0;for(var i=!0,r=0,o=0,h=this.visibleSeries;o<h.length;o++){var u=h[o];if(!u.visible&&!this.legendSettings.visible){this.visibleSeriesCount++;continue}u.category!=="Indicator"&&u.category!=="TrendLine"&&this.initializeDataModule(u)}for(var g=0,y=this.indicators;g<y.length;g++){var x=y[g];if(x.dataSource){var S=x;this.initializeDataModule(S),i=!1}}if(t&&(!this.visibleSeries.length||this.visibleSeriesCount===this.visibleSeries.length&&i)&&(this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),!this.stockChart&&this.visibleSeries.length>0)for(var T=0,M=this.visibleSeries;T<M.length;T++){var u=M[T];we(u.points)||(this.maxPointCount=Math.max(r,u.points.length),r=u.points.length)}},e.prototype.initializeDataModule=function(t){t.xData=[],t.yData=[];var i,r="isAngular";this[r]?i=Object.keys(t.dataSource).length?t.dataSource:this.dataSource:i=t.dataSource||this.dataSource,t.dataModule=new jh(i,t.query),t.points=[],t.refreshDataManager(this)},e.prototype.calculateBounds=function(){var t=this.margin,i=0,r=0,o=this.titleStyle.position==="Top"||this.titleStyle.position==="Bottom"&&!this.legendSettings.visible?15:5,h=t.left+this.border.width,u=this.availableSize.width-h-t.right-this.border.width,g=0;this.titleCollection=[],this.subTitleCollection=[],this.title?(this.titleCollection=ma(this.title,this.titleStyle,u,this.enableRtl,this.themeStyle.chartTitleFont),i=_t(this.title,this.titleStyle,this.themeStyle.chartTitleFont).height*this.titleCollection.length+o,this.subTitle&&(this.subTitleCollection=ma(this.subTitle,this.subTitleStyle,u,this.enableRtl,this.themeStyle.chartSubTitleFont),r=_t(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont).height*this.subTitleCollection.length+o)):this.legendSettings.position!=="Top"&&this.border.width&&(g=10);var y=t.top+g+this.border.width+this.chartArea.border.width*.5,x=this.availableSize.height-y-this.border.width-t.bottom,S=r+i+this.titleStyle.border.width+this.subTitleStyle.border.width;switch(this.titleStyle.position){case"Top":y+=S,x-=S;break;case"Bottom":x-=S;break;case"Left":h+=S,u-=S;break;case"Right":h-=this.titleStyle.border.width+this.subTitleStyle.border.width,u-=S;break}this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&(this.stockChart.legendSettings.position==="Top"?y+=this.stockChart.stockLegendModule.legendBounds.height:this.stockChart.legendSettings.position==="Left"&&(h+=this.stockChart.stockLegendModule.legendBounds.width)),this.initialClipRect=new Ue(h,y,u,x),this.legendModule&&this.legendSettings.visible&&this.legendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null),this.chartAxisLayoutPanel.measureAxis(this.initialClipRect)},e.prototype.print=function(t){var i=new fc(this),r=this.width;this.getModuleName()==="chart"&&parseInt(this.width,10)>=80&&this.width.indexOf("%")>-1&&(this.width="80%",this.dataBind()),i.print(t),this.getModuleName()==="chart"&&parseInt(this.width,10)>=80&&this.width.indexOf("%")>-1&&(this.width=r,this.dataBind())},e.prototype.initTrendLines=function(){this.isProtectedOnChange=!0;for(var t=0,i=this.visibleSeries;t<i.length;t++)for(var r=i[t],o=0,h=0,u=r.trendlines;h<u.length;h++){var g=u[h],y=g;this.trendLineModule&&(y.index=o,y.sourceIndex=r.index,this.trendLineModule.initSeriesCollection(y,this),y.targetSeries&&(y.targetSeries.xAxisName=r.xAxisName,y.targetSeries.yAxisName=r.yAxisName,this.visibleSeries.push(y.targetSeries))),o++}this.isProtectedOnChange=!1},e.prototype.calculateAreaType=function(){var t=this.series[0];this.chartArea.border.width=this.stockChart?0:this.chartArea.border.width,t&&(this.requireInvertedAxis=t.type.indexOf("Bar")!==-1&&!this.isTransposed||t.type.indexOf("Bar")===-1&&this.isTransposed&&this.chartAreaType!=="PolarRadar"),this.chartAxisLayoutPanel=this.chartAreaType==="PolarRadar"?this.polarSeriesModule||this.radarSeriesModule:new Vc(this)},e.prototype.calculateVisibleAxis=function(){var t,i=[this.primaryXAxis,this.primaryYAxis];i=this.chartAreaType==="Cartesian"?i.concat(this.axes):i,this.paretoSeriesModule&&this.series[0].type==="Pareto"&&(i=i.concat(this.paretoSeriesModule.paretoAxes)),this.axisCollections=[],this.zoomModule&&(this.zoomModule.isPanning=this.zoomModule.isAxisZoomed(i)&&this.zoomSettings.enablePan,this.svgObject.setAttribute("cursor",this.zoomModule.isPanning?"pointer":"auto"),this.scrollBarModule&&(this.scrollBarModule.axes=i)),this.scrollSettingEnabled&&this.scrollBarModule&&(this.scrollBarModule.axes=i);for(var r=0,o=i.length;r<o;r++){t=i[r],t.series=[],t.labels=[],t.indexLabels={},t.orientation=r===0?this.requireInvertedAxis?"Vertical":"Horizontal":r===1?this.requireInvertedAxis?"Horizontal":"Vertical":t.orientation;for(var h=0,u=this.visibleSeries;h<u.length;h++){var g=u[h];this.initAxis(g,t,!0),g.category==="Pareto"&&g.type==="Line"&&g.yAxis&&(g.yAxis.internalVisibility=g.paretoOptions.showAxis)}for(var y=0,x=this.indicators;y<x.length;y++){var S=x[y];this.initAxis(S,t,!1)}this.scrollBarModule&&!t.zoomingScrollBar&&this.scrollBarModule.injectTo(t,this),t.orientation!=null&&this.axisCollections.push(t)}this.rows.length>0&&this.columns.length>0&&this.chartAxisLayoutPanel.measure()},e.prototype.initAxis=function(t,i,r){t.xAxisName===i.name||t.xAxisName==null&&i.name==="primaryXAxis"?(i.orientation=this.requireInvertedAxis?"Vertical":"Horizontal",t.xAxis=i,r&&i.series.push(t)):(t.yAxisName===i.name||t.yAxisName==null&&i.name==="primaryYAxis")&&(i.orientation=this.requireInvertedAxis?"Horizontal":"Vertical",t.yAxis=i,r&&i.series.push(t))},e.prototype.initTechnicalIndicators=function(){for(var t=0,i=0,r=this.indicators;i<r.length;i++){var o=r[i],h=o,u=Xt(h.type);if(this[u+"IndicatorModule"]){h.index=t,this[u+"IndicatorModule"].initSeriesCollection(h,this);for(var g=0,y=h.targetSeries;g<y.length;g++){var x=y[g];(o.seriesName||o.dataSource)&&this.visibleSeries.push(x)}}t++}},e.prototype.refreshTechnicalIndicator=function(t){if(this.indicators.length){var i=null;if(t instanceof wt&&t.category!=="Indicator")for(var r=0,o=this.indicators;r<o.length;r++){var h=o[r];h.seriesName===t.name&&!h.dataSource&&(i=h,i.setDataSource(t,this))}else t instanceof Ma&&(i=t,i.setDataSource(t instanceof wt?t:null,this))}},e.prototype.calculateVisibleSeries=function(){var t;this.visibleSeries=[];for(var i=this.palettes.length?this.palettes:Xh(this.theme),r=i.length,o=this.series.sort(function(g,y){return g.zOrder-y.zOrder}),h=0,u=o.length;h<u;h++){switch(t=o[h],t.category=o[0].type==="Pareto"?"Pareto":"Series",t.index=h,t.interior=t.fill||i[h%r],!t.marker.shape&&(t.marker.visible||t.type==="Scatter"||t.drawType==="Scatter")&&(t.marker.shape=Qo[this.markerIndex%10],this.markerIndex++),this.isSecondaryAxis(t.xAxis)&&(t.xAxis.internalVisibility=t.xAxis.series.some(function(g){return g.visible})),this.isSecondaryAxis(t.yAxis)&&(t.yAxis.internalVisibility=t.yAxis.series.some(function(g){return g.visible})),t.type){case"Bar":case"StackingBar":case"StackingBar100":if(o[0].type.indexOf("Bar")===-1)continue;break;case"Polar":case"Radar":if(this.chartAreaType!=="PolarRadar"||this.chartAreaType==="PolarRadar"&&(t.xAxisName!==null&&this.primaryXAxis.name!==t.xAxisName||t.yAxisName!==null&&this.primaryYAxis.name!==t.yAxisName))continue;break;case"Pareto":this.visibleSeries.push(t),this.paretoSeriesModule.initSeries(t,this);continue;default:if(this.chartAreaType==="PolarRadar"||o[0].type.indexOf("Bar")>-1)continue;break}this.visibleSeries.push(t),o[h]=t}},e.prototype.isSecondaryAxis=function(t){return this.axes.indexOf(t)>-1},e.prototype.renderTitle=function(){var t,i=this.margin,r=5;if(this.title){var o=$s(this.titleStyle.textAlignment,this.enableRtl),h=_t(this.title,this.titleStyle,this.themeStyle.chartTitleFont);t=new Ue(i.left,0,this.availableSize.width-i.left-i.right,0);var u=this.titleStyle.border.width,g=this.margin.top+h.height*3/4,y=Zs(t,this.titleStyle||this.themeStyle.chartTitleFont)+u,x=void 0,S=this.titleStyle.textAlignment,T=_t(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont);switch(this.titleStyle.position){case"Top":g+=u*.5,y+=o==="start"?u*.5+this.border.width:o==="end"?-u*2-this.border.width:0;break;case"Bottom":y+=o==="start"?u*.5+this.border.width:o==="end"?-u*2-this.border.width:0,g=this.availableSize.height-this.margin.bottom-T.height-h.height/2-u*.5-this.subTitleStyle.border.width*.5;break;case"Left":y=this.margin.left+h.height*3/4+u*.5,g=S==="Near"?i.bottom+u*.5+this.border.width:S==="Far"?this.availableSize.height-i.bottom-u*.5-this.border.width:this.availableSize.height/2,o=S==="Near"?"end":S==="Far"?"start":"middle",o=this.enableRtl?o==="end"?"start":o==="start"?"end":o:o,x="rotate(-90,"+y+","+g+")";break;case"Right":y=this.availableSize.width-this.margin.right-h.height*3/4-u*.5,g=S==="Near"?i.bottom+u*.5+this.border.width:S==="Far"?this.availableSize.height-i.bottom-u*.5-this.border.width:this.availableSize.height/2,o=S==="Near"?"start":S==="Far"?"end":"middle",o=this.enableRtl?o==="end"?"start":o==="start"?"end":o:o,x="rotate(90,"+y+","+g+")";break;case"Custom":y=this.titleStyle.x,g=this.titleStyle.y,o="middle";break}var M={id:this.element.id+"_ChartTitleBorder",x:y-(o==="middle"?h.width/2+r:o==="end"?h.width+r:r),y:g-h.height+h.height/4,rx:this.titleStyle.border.cornerRadius,ry:this.titleStyle.border.cornerRadius,width:h.width+r*2,height:h.height*this.titleCollection.length,fill:this.titleStyle.background,"stroke-width":u,stroke:this.titleStyle.border.color,transform:x||"",d:""},R=wi(this.redraw,this.element.id+"_ChartTitleBorder",M,this.renderer)||this.renderer.drawRectangle(M);Fe(this.enableCanvas,this.svgObject,R,this.redraw);var I=new Qi(this.element.id+"_ChartTitle",y,g,o,this.titleCollection,x,"auto"),j=wi(this.redraw,this.element.id+"_ChartTitle",I,this.renderer)||ki(this.renderer,I,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitleFont.color,this.svgObject,null,null,null,null,null,null,null,null,this.enableCanvas,null,this.themeStyle.chartTitleFont);j&&(j.setAttribute("tabindex","0"),j.setAttribute("class","e-chart-focused")),this.subTitle&&this.renderSubTitle(I)}},e.prototype.renderSubTitle=function(t){for(var i=0,r=0,o=10,h=this.titleStyle.textAlignment,u=0,g=this.titleCollection;u<g.length;u++){var y=g[u];r=_t(y,this.titleStyle,this.themeStyle.chartTitleFont).width,i=r>i?r:i}var x=_t(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont).width;i=Math.max(r,x);var S=_t(this.subTitleCollection.reduce(function(G,K){return G.length>K.length?G:K}),this.subTitleStyle,this.themeStyle.chartSubTitleFont),T=$s(this.subTitleStyle.textAlignment,this.enableRtl),M=new Ue(h==="Center"?t.x-i*.5:h==="Far"?t.x-i:t.x,0,i,0);this.titleStyle.position==="Left"&&(M.x=h==="Center"?t.x-i*.5:h==="Far"?this.margin.left+S.height*3/4:t.x-i);var R=_t(this.title,this.titleStyle,this.themeStyle.chartTitleFont),I=t.y*t.text.length+S.height+o/2+this.titleStyle.border.width+this.subTitleStyle.border.width*.5;this.titleStyle.position==="Bottom"&&(I=t.y*t.text.length+o/2+R.height/2+S.height/2);var j={id:this.element.id+"_ChartSubTitleBorder",x:Zs(M,this.subTitleStyle)-(T==="middle"?S.width/2+o/2:T==="end"?S.width+o/2:o/2),y:I-S.height+S.height/4,rx:this.subTitleStyle.border.cornerRadius,ry:this.subTitleStyle.border.cornerRadius,width:S.width+o,height:S.height*this.subTitleCollection.length,fill:this.subTitleStyle.background,"stroke-width":this.subTitleStyle.border.width,stroke:this.subTitleStyle.border.color,transform:t.transform,d:""},W=wi(this.redraw,this.element.id+"_ChartSubTitleBorder",j,this.renderer)||this.renderer.drawRectangle(j);Fe(this.enableCanvas,this.svgObject,W,this.redraw);var N=new Qi(this.element.id+"_ChartSubTitle",Zs(M,this.subTitleStyle),I,$s(this.subTitleStyle.textAlignment,this.enableRtl),this.subTitleCollection,t.transform,"auto");wi(this.redraw,this.element.id+"_ChartSubTitle",N,this.renderer)||ki(this.renderer,N,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartSubTitleFont.color,this.svgObject,null,null,null,null,null,null,null,null,this.enableCanvas,null,this.themeStyle.chartSubTitleFont)},e.prototype.renderBorder=function(){var t=0,i=0,r=this.border.width,o=this.backgroundImage,h=o?"transparent":this.background||this.themeStyle.background;this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&(this.stockChart.legendSettings.position==="Top"?i+=this.stockChart.stockLegendModule.legendBounds.height:this.stockChart.legendSettings.position==="Left"&&(t+=this.stockChart.stockLegendModule.legendBounds.width));var u=new ir(this.element.id+"_ChartBorder",h,this.border,1,new Ue(r*.5+t,r*.5+i,this.availableSize.width-r,this.availableSize.height-r),0,0,"",this.border.dashArray);if(this.htmlObject=wi(this.redraw,this.element.id+"_ChartBorder",u,this.renderer)||this.renderer.drawRectangle(u),this.htmlObject.setAttribute("aria-hidden","true"),Fe(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw),o){var g=new va(this.availableSize.height-r,this.availableSize.width-r,o,0,0,this.element.id+"_ChartBackground","visible","none");this.htmlObject=wi(this.redraw,this.element.id+"_ChartBackground",g,this.renderer)||this.renderer.drawImage(g),Fe(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw)}},e.prototype.renderAreaBorder=function(){if(this.chartAreaType==="PolarRadar")return null;var t=Ce(this.element.id+"_ChartAreaBorder"),i=t?new Ue(+t.getAttribute("x"),+t.getAttribute("y"),+t.getAttribute("width"),+t.getAttribute("height")):null,r=new ir(this.element.id+"_ChartAreaBorder",this.chartArea.background,{width:this.chartArea.border.width,color:this.chartArea.border.color||this.themeStyle.areaBorder},this.chartArea.opacity,this.chartAxisLayoutPanel.seriesClipRect,0,0,"",this.chartArea.border.dashArray);if(r.height<0||r.width<0)return null;this.htmlObject=this.renderer.drawRectangle(r),this.htmlObject.setAttribute("aria-hidden","true"),Fe(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0,i),this.htmlObject=null;var o=this.chartArea.backgroundImage;if(o){var h=this.chartArea.border.width,u=new va(this.initialClipRect.height-h,this.initialClipRect.width-h,o,this.initialClipRect.x,this.initialClipRect.y,this.element.id+"_ChartAreaBackground","visible","none");this.htmlObject=this.renderer.drawImage(u),Fe(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0)}},e.prototype.addSeries=function(t){for(var i=window.pageYOffset||document.documentElement.scrollTop,r=0,o=t;r<o.length;r++){var h=o[r];h=new wt(this,"series",h),this.series.push(h)}this.refresh(),window.scrollTo(0,i)},e.prototype.removeSeries=function(t){this.redraw=!1;var i=window.pageYOffset||document.documentElement.scrollTop;this.visibleSeries[t]&&(this.visibleSeries[t].xAxis.orientation=null,this.visibleSeries[t].yAxis.orientation=null);for(var r=0;r<this.axes.length;r++)this.axes[r].orientation===null&&this.axes.splice(r,1);this.series.splice(t,1),this.refresh(),window.scrollTo(0,i)},e.prototype.clearSeries=function(){this.series=[];var t=window.pageYOffset||document.documentElement.scrollTop;this.refresh(),window.scrollTo(0,t)},e.prototype.addAxes=function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];o=new cs(this,"axes",o),this.isBlazor&&(o.interval=isNaN(o.interval)?null:o.interval,o.desiredIntervals=isNaN(o.desiredIntervals)?null:o.desiredIntervals),this.axes.push(o)}this.refresh()},e.prototype.removeAxis=function(t){this.redraw=!1,this.axes.splice(t,1),this.refresh()},e.prototype.destroy=function(){this.scrollBarModule&&this.scrollBarModule.destroy(),this.markerRender&&(this.markerRender.removeEventListener(),this.markerRender=null),this.horizontalAxes=[],this.verticalAxes=[],this.visibleSeries=[],this.axisCollections=[],this.rotatedDataLabelCollections=[],this.seriesElements=null,this.chartAxisLayoutPanel=null,this.dataLabelCollections=null,this.dataLabelElements=null,this.yAxisElements=null;var t=document.getElementById(this.element.id+"Keyboard_chart_focus");t&&t.remove();var i=document.getElementById(this.element.id+"_ej2_chart_highlight");i&&i.remove(),Et("chartmeasuretext"),this.element&&(this.unWireEvents(),this.isReact&&this.clearTemplate(),n.prototype.destroy.call(this),this.enableCanvas||(this.removeSvg(),this.svgObject=null))},e.prototype.getModuleName=function(){return"chart"},e.prototype.getPersistData=function(){var t=["loaded","animationComplete","primaryXAxis","primaryYAxis"];return this.addOnPersist(t)},e.prototype.createChartSvg=function(){this.removeSvg(),Yh(this)},e.prototype.unWireEvents=function(){var t=He.touchStartEvent,i=He.touchMoveEvent,r=He.touchEndEvent,o=He.isPointer?"pointerleave":"mouseleave";Ge.remove(this.element,t,this.chartOnMouseDown),Ge.remove(this.element,i,this.mouseMove),Ge.remove(this.element,r,this.mouseEnd),Ge.remove(this.element,"click",this.chartOnMouseClick),Ge.remove(this.element,"dblclick",this.chartOnDoubleClick),Ge.remove(this.element,"contextmenu",this.chartRightClick),Ge.remove(this.element,o,this.mouseLeave),Ge.remove(this.element,"keydown",this.chartKeyDown),Ge.remove(document.body,"keydown",this.documentKeyHandler),Ge.remove(this.element,"keyup",this.chartKeyUp),window.removeEventListener(He.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.touchObject&&(this.touchObject.destroy(),this.touchObject=null)},e.prototype.wireEvents=function(){if(this.element){var t=He.isPointer?"pointerleave":"mouseleave";Ge.add(this.element,He.touchStartEvent,this.chartOnMouseDown,this),Ge.add(this.element,He.touchMoveEvent,this.mouseMove,this),Ge.add(this.element,He.touchEndEvent,this.mouseEnd,this),Ge.add(this.element,"click",this.chartOnMouseClick,this),Ge.add(this.element,"dblclick",this.chartOnDoubleClick,this),Ge.add(this.element,"contextmenu",this.chartRightClick,this),Ge.add(this.element,t,this.mouseLeave,this),Ge.add(this.element,"keydown",this.chartKeyDown,this),Ge.add(document.body,"keydown",this.documentKeyHandler,this),Ge.add(this.element,"keyup",this.chartKeyUp,this),this.resizeBound=this.chartResize.bind(this),window.addEventListener(He.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.longPressBound=this.longPress.bind(this),this.touchObject=new uh(this.element,{tapHold:this.longPressBound,tapHoldThreshold:500}),this.setStyle(this.element)}},e.prototype.chartRightClick=function(t){return this.crosshair.enable&&this.crosshairModule&&(t.buttons===2||t.which===0||t.pointerType==="touch")?(t.preventDefault(),t.stopPropagation(),!1):!0},e.prototype.setStyle=function(t){var i=this.zoomSettings,r=i.enableSelectionZooming||i.enablePinchZooming||this.selectionMode!=="None"||this.highlightMode!=="None";t.style.touchAction=r?"none":"element",t.style.msTouchAction=r?"none":"element",t.style.msContentZooming="none",t.style.msUserSelect="none",t.style.webkitUserSelect="none",t.style.position="relative",t.style.display="block",t.style.overflow="hidden",t.style.height=t.style.height||this.height&&this.height.indexOf("%")===-1?t.style.height:"inherit"},e.prototype.isOrientation=function(){return"orientation"in window&&"onorientationchange"in window},e.prototype.longPress=function(t){return this.mouseX=t&&t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].clientX:0,this.mouseY=t&&t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].clientY:0,this.startMove=!0,this.allowPan=this.stockChart?!1:this.allowPan,this.setMouseXY(this.mouseX,this.mouseY),this.notify("tapHold",t),!1},e.prototype.setMouseXY=function(t,i){if(Ce(this.svgId)){var r=Ce(this.svgId).getBoundingClientRect(),o=this.element.getBoundingClientRect();this.scaleX=r.width/this.availableSize.width,this.scaleY=r.height/this.availableSize.height,this.mouseY=(i-o.top-Math.max(r.top-o.top,0))/this.scaleY,this.mouseX=(t-o.left-Math.max(r.left-o.left,0))/this.scaleX,this.stockChart&&(this.mouseX+=this.stockChart.legendSettings.position==="Left"?this.stockChart.stockLegendModule.legendBounds.width:0,this.mouseY+=this.stockChart.legendSettings.position==="Top"?this.stockChart.stockLegendModule.legendBounds.height:0)}},e.prototype.export=function(t,i){this.exportModule&&(this.exportModule.export(t,i),this.afterExport&&this.exportModule.getDataUrl(this))},e.prototype.chartResize=function(){var t=this;this.animateSeries=!1;var i={chart:this,name:ya,currentSize:new Qt(0,0),previousSize:new Qt(this.availableSize.width,this.availableSize.height)},r={name:"beforeResize",cancelResizedEvent:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(Gh,r),r.cancelResizedEvent||(this.resizeTo=+setTimeout(function(){if(t.isDestroyed||t.stockChart){clearTimeout(t.resizeTo);return}t.createChartSvg(),i.currentSize=t.availableSize,t.trigger(ya,i),t.refreshAxis(),t.refreshBound(),t.trigger("loaded",{chart:t.isBlazor?{}:t})},500)),!1},e.prototype.mouseMove=function(t){var i,r,o;return this.allowPan||(t.type==="touchmove"?(this.isTouch=!0,o=t,i=o.changedTouches[0].clientX,r=o.changedTouches[0].clientY):(this.isTouch=t.pointerType==="touch"||t.pointerType==="2"||this.isTouch,i=t.clientX,r=t.clientY),this.previousPageX=i,this.previousPageY=r,Ce(this.svgId)&&(this.setMouseXY(i,r),this.chartOnMouseMove(t))),!1},e.prototype.mouseLeave=function(t){var i,r,o;return this.stockChart&&this.stockChart.onPanning||(t.type==="touchleave"?(this.isTouch=!0,o=t,i=o.changedTouches[0].clientX,r=o.changedTouches[0].clientY):(this.isTouch=t.pointerType==="touch"||t.pointerType==="2",i=t.clientX,r=t.clientY),this.previousPageX=null,this.previousPageY=null,this.setMouseXY(i,r),this.chartOnMouseLeave(t)),!1},e.prototype.chartOnMouseLeave=function(t){var i=t.target,r=He.isPointer?"pointerleave":"mouseleave";return this.trigger(Uh,{target:i.id,x:this.mouseX,y:this.mouseY}),Et(this.element.id+"_EJ2_AxisLabel_Tooltip"),this.isChartDrag=this.isPointMouseDown=!1,this.notify(r,t),!1},e.prototype.chartOnDoubleClick=function(t){var i=t.target;return this.trigger(qh,{target:i.id,x:this.mouseX,y:this.mouseY}),!1},e.prototype.chartKeyDown=function(t){var i="";return(this.isZoomed&&t.code==="Tab"||t.code==="Space")&&t.preventDefault(),this.tooltip.enable&&(t.code==="Tab"&&this.previousTargetId.indexOf("Series")>-1||t.code==="Escape")&&(i="ESC"),this.highlightMode!=="None"&&t.code==="Tab"&&this.previousTargetId.indexOf("_chart_legend_")>-1&&this.highlightModule&&this.highlightModule.removeLegendHighlightStyles(),t.ctrlKey&&(t.key==="+"||t.code==="Equal"||t.key==="-"||t.code==="Minus")?(t.preventDefault(),this.isZoomed=this.zoomModule&&(this.zoomSettings.enableDeferredZooming||this.zoomSettings.enableSelectionZooming||this.zoomSettings.enablePinchZooming||this.zoomSettings.enableMouseWheelZooming),i=this.isZoomed?t.code:""):t.keyCode===82&&this.isZoomed?(t.preventDefault(),this.isZoomed=!1,i="R"):t.code.indexOf("Arrow")>-1&&(t.preventDefault(),i=this.isZoomed?t.code:""),t.ctrlKey&&t.key==="p"&&(t.preventDefault(),i="CtrlP"),i!==""&&this.chartKeyboardNavigations(t,t.target.id,i),!1},e.prototype.chartKeyUp=function(t){var i="",r=t.target.id,o,h,u=t.target,g=Ce(this.element.id+"_ChartTitle"),y=Ce(this.element.id+"SeriesCollection"),x=Ce(this.element.id+"_chart_legend_translate_g"),S=Ce(this.element.id+"_chart_legend_pageup");if(g&&g.setAttribute("class","e-chart-focused"),y&&y.firstElementChild&&y.firstElementChild.children[1]){var T=y.firstElementChild.children[1],M=T.getAttribute("class");M&&M.indexOf("e-chart-focused")===-1?M=M+" e-chart-focused":M||(M="e-chart-focused"),T.setAttribute("class",M)}if(x){var T=x.firstElementChild,M=T.getAttribute("class");M&&M.indexOf("e-chart-focused")===-1?M=M+" e-chart-focused":M||(M="e-chart-focused"),T.setAttribute("class",M)}if(S&&S.setAttribute("class","e-chart-focused"),t.code==="Tab"){if(this.previousTargetId!=="")if(this.previousTargetId.indexOf("_Series_")>-1&&r.indexOf("_Series_")===-1){o=Ce(this.element.id+"SeriesCollection");var R=this.previousTargetId.indexOf("_Symbol")>-1?Ce(this.element.id+"SymbolGroup"+this.currentSeriesIndex).children[this.currentPointIndex+1]:this.previousTargetId.indexOf("_Point_")>-1?o.children[this.currentSeriesIndex].children[this.currentPointIndex+1]:o.children[this.currentSeriesIndex];this.setTabIndex(R,o.firstElementChild),this.currentPointIndex=0,this.currentSeriesIndex=0}else this.previousTargetId.indexOf("_chart_legend_page")>-1&&r.indexOf("_chart_legend_page")===-1&&r.indexOf("_chart_legend_g_")===-1?this.setTabIndex(t.target,Ce(this.element.id+"_chart_legend_pageup")):this.previousTargetId.indexOf("_chart_legend_g_")>-1&&r.indexOf("_chart_legend_g_")===-1&&(o=Ce(this.element.id+"_chart_legend_translate_g"),this.setTabIndex(o.children[this.currentLegendIndex],o.firstElementChild));this.previousTargetId=r,r.indexOf("SeriesGroup")>-1&&(this.currentSeriesIndex=+r.split("SeriesGroup")[1],u.removeAttribute("tabindex"),u.blur(),u.children[1].id.indexOf("_Point_")===-1&&(h=Ce(this.element.id+"SymbolGroup"+r.split("SeriesGroup")[1])),r=this.focusChild(h!=null?h.children[1]:u.children[1])),i=this.highlightMode!=="None"||this.tooltip.enable?"Tab":""}else if(t.code.indexOf("Arrow")>-1){if(t.preventDefault(),this.previousTargetId=r,r.indexOf("_chart_legend_page")>-1)t.code==="ArrowLeft"?(Ce(this.element.id+"_chart_legend_pagedown").removeAttribute("tabindex"),this.focusChild(Ce(this.element.id+"_chart_legend_pageup"))):t.code==="ArrowRight"&&(Ce(this.element.id+"_chart_legend_pageup").removeAttribute("tabindex"),this.focusChild(Ce(this.element.id+"_chart_legend_pagedown")));else if(r.indexOf("_chart_legend_")>-1){var I=u.parentElement.children;I[this.currentLegendIndex].removeAttribute("tabindex"),this.currentLegendIndex+=t.code==="ArrowUp"||t.code==="ArrowRight"?1:-1,this.currentLegendIndex=this.getActualIndex(this.currentLegendIndex,I.length);var j=I[this.currentLegendIndex];this.focusChild(j),r=j.children[1].id,i=this.highlightMode!=="None"?"ArrowMove":""}else if(r.indexOf("_Series_")>-1){o=u.parentElement.parentElement;var W=t.target;if(u.removeAttribute("tabindex"),u.blur(),t.code==="ArrowRight"||t.code==="ArrowLeft"){for(var N=[],G=0;G<o.children.length;G++)o.children[G].id.indexOf("SeriesGroup")>-1&&N.push(+o.children[G].id.split("SeriesGroup")[1]);this.currentSeriesIndex=N.indexOf(this.currentSeriesIndex)+(t.code==="ArrowRight"?1:-1),this.currentSeriesIndex=N[this.getActualIndex(this.currentSeriesIndex,N.length)]}else this.currentPointIndex+=t.code==="ArrowUp"?1:-1;r.indexOf("_Symbol")>-1?(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,Ce(this.element.id+"SymbolGroup"+this.currentSeriesIndex).childElementCount-1),W=Ce(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex+"_Symbol")):r.indexOf("_Point_")>-1&&(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,Ce(this.element.id+"SeriesGroup"+this.currentSeriesIndex).childElementCount-1),W=Ce(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex)),r=this.focusChild(W),i=this.tooltip.enable||this.highlightMode!=="None"?"ArrowMove":""}}else(t.code==="Enter"||t.code==="Space")&&(r.indexOf("_chart_legend_")>-1||r.indexOf("_Point_")>-1)&&(r=r.indexOf("_chart_legend_page")>-1?r:r.indexOf("_chart_legend_")>-1?u.children[1].id:r,i="Enter");return i!==""&&this.chartKeyboardNavigations(t,r,i),!1},e.prototype.setTabIndex=function(t,i){t&&t.removeAttribute("tabindex"),i&&i.setAttribute("tabindex","0")},e.prototype.getActualIndex=function(t,i){return t>i-1?0:t<0?i-1:t},e.prototype.focusChild=function(t){t.setAttribute("tabindex","0");var i=t.getAttribute("class");return t.setAttribute("tabindex","0"),i&&i.indexOf("e-chart-focused")===-1?i="e-chart-focused "+i:i||(i="e-chart-focused"),t.setAttribute("class",i),t.focus(),t.id},e.prototype.documentKeyHandler=function(t){t.altKey&&t.keyCode===74&&!we(this.element)&&this.element.focus()},e.prototype.chartKeyboardNavigations=function(t,i,r){switch(this.isLegendClicked=!1,r){case"Tab":case"ArrowMove":if(this.highlightModule&&this.highlightModule.removeLegendHighlightStyles(),i.indexOf("_Point_")>-1){var o=+i.split("_Series_")[1].split("_Point_")[0],h=+i.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],u=this.visibleSeries[o].points[h].symbolLocations[0];this.mouseX=u.x+this.initialClipRect.x,this.mouseY=u.y+this.initialClipRect.y,this.highlightModule&&(this.highlightModule.highlightChart(document.getElementById(i),"mousemove"),this.highlightModule.completeSelection(document.getElementById(i),"mousemove")),this.tooltipModule&&this.tooltipModule.tooltip()}if(this.highlightModule&&this.highlightMode!=="None"){i=i.indexOf("_chart_legend_g_")>-1?document.getElementById(i).firstChild.id:i;for(var g=this.element.id+"_chart_legend",y=[g+"_text_",g+"_shape_marker_",g+"_shape_"],x=0;x<y.length;x++){var S=y[x];if(i.indexOf(S)>-1){document.getElementById(i).setAttribute("class",""),this.highlightModule.legendSelection(this,parseInt(i.split(S)[1],10),document.getElementById(i),"mousemove");break}}}break;case"Enter":case"Space":i.indexOf("_chart_legend_")>-1?(this.isLegendClicked=!0,this.legendModule.click(t),this.focusChild(document.getElementById(i).parentElement)):this.selectionModule.calculateSelectedElements(document.getElementById(i),"click");break;case"CtrlP":this.print();break;case"ESC":this.tooltipModule.removeTooltip(1);break;case"Equal":case"Minus":this.zoomModule.isZoomed=this.zoomModule.performedUI=!0,this.zoomModule.isPanning=this.isChartDrag=!1,r==="Equal"?this.zoomModule.toolkit.zoomInOutCalculation(1,this,this.axisCollections,this.zoomSettings.mode):this.zoomModule.toolkit.zoomInOutCalculation(-1,this,this.axisCollections,this.zoomSettings.mode),this.zoomModule.performZoomRedraw(this),this.element.focus();break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{var T=r==="ArrowUp"?10:r==="ArrowDown"?-10:0,M=r==="ArrowLeft"?-10:r==="ArrowRight"?10:0;this.zoomModule.isPanning=this.isChartDrag=!0,this.zoomModule.doPan(this,this.axisCollections,M,T),this.zoomModule.performZoomRedraw(this),this.element.focus();break}case"R":this.zoomModule.toolkit.reset(t);break}},e.prototype.chartOnMouseClick=function(t){var i=this,r=t.target,o=this;this.clickCount++;var h=this.FindXYPointValue(o.mouseX,o.mouseY),u=400;this.clickCount===1?this.singleClickTimer=+setTimeout(function(){o.clickCount=0,o.trigger($h,{target:r.id,x:o.mouseX,y:o.mouseY,axisData:h})},u):this.clickCount===2&&!this.pointDoubleClick&&(clearTimeout(this.singleClickTimer),this.clickCount=0);var g="isAngular";if(this[g]){var y="observers";u=this.pointDoubleClick[y].length>0?400:0}else u=this.pointDoubleClick?400:0;return this.clickCount===1&&this.pointClick?this.singleClickTimer=+setTimeout(function(){i.clickCount=0,i.triggerPointEvent(Zh,t)},u):this.clickCount===2&&this.pointDoubleClick&&(clearTimeout(this.singleClickTimer),this.clickCount=0,this.triggerPointEvent(Kh,t)),this.axisLabelClick&&this.triggerAxisLabelClickEvent(Jh,t),this.notify("click",t),!1},e.prototype.FindXYPointValue=function(t,i){if(Ut(t,i,this.chartAxisLayoutPanel.seriesClipRect)&&this.series.some(function(x){return x.visible})){for(var r=void 0,o=void 0,h=void 0,u={},g=0,y=this.axisCollections.length;g<y;g++)r=this.axisCollections[g],r.orientation==="Horizontal"?(o=Qh(Math.abs(t-r.rect.x),r.rect.width,r),u[this.axisCollections[g].name]=o):(h=ec(Math.abs(i-r.rect.y),r.rect.height,r),u[this.axisCollections[g].name]=h);return u}return null},e.prototype.triggerPointEvent=function(t,i){var r=i,o=new Ro(this),h=o.getData();h.series&&h.point&&this.trigger(t,{series:this.isBlazor?{}:h.series,point:h.point,seriesIndex:h.series.index,pointIndex:h.point.index,x:this.mouseX,y:this.mouseY,pageX:r.pageX,pageY:r.pageY})},e.prototype.triggerAxisLabelClickEvent=function(t,i){var r=i.target,o=i;if(r.id.indexOf("_AxisLabel_")!==-1){var h=r.id.split("_AxisLabel_"),u=+h[0].slice(-1),g=+h[1],y=this.axisCollections[u];y.visible&&(u===0||u===1)&&this.trigger(t,{chart:this,axis:y,text:y.visibleLabels[g].text,labelID:r.id,index:g,location:new $e(o.pageX,o.pageY),value:y.visibleLabels[g].value})}},e.prototype.chartOnMouseMove=function(t){var i=t.target,r=this.FindXYPointValue(this.mouseX,this.mouseY);return this.trigger(tc,{target:i.id,x:this.mouseX,y:this.mouseY,axisData:r}),this.pointMove&&this.triggerPointEvent(ic,t),this.isTouch||(this.titleTooltip(t,this.mouseX,this.mouseY),this.axisTooltip(t,this.mouseX,this.mouseY)),this.dataEditingModule&&this.dataEditingModule.pointMouseMove(t),this.crosshair.enable&&this.startMove&&t.preventDefault(),this.notify(He.touchMoveEvent,t),this.isTouch=!1,!1},e.prototype.titleTooltip=function(t,i,r,o){var h=t.target.id,u=h===this.element.id+"_ChartTitle"||h===this.element.id+"_ChartSubTitle"||h.indexOf("_AxisTitle")>-1||h.indexOf("_legend_title")>-1,g=0;if(h.indexOf("_AxisTitle")>-1&&(g=parseInt(h.replace(this.element.id,"").replace("AxisLabel_","").split("_")[2],10)),u&&t.target.textContent.indexOf("...")>-1){var y=h===this.element.id+"_ChartTitle"?this.title:h.indexOf("_AxisTitle")>-1?this.axisCollections[g].title:h.indexOf("_ChartSubTitle")>-1?this.subTitle:this.legendSettings.title;ba(y,i,r,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",Ce(this.element.id+"_Secondary_Element"),o)}else Et(this.element.id+"_EJ2_Title_Tooltip")},e.prototype.axisTooltip=function(t,i,r,o){var h=t.target.id;if((h.indexOf("AxisLabel")>-1||h.indexOf("Axis_MultiLevelLabel")>-1)&&t.target.textContent.indexOf("...")>-1){var u=this.legendSettings.visible||this.primaryXAxis.title==="";ba(this.findAxisLabel(h),i,r,this.element.offsetWidth,this.element.id+"_EJ2_AxisLabel_Tooltip",Ce(this.element.id+"_Secondary_Element"),o,u)}else Et(this.element.id+"_EJ2_AxisLabel_Tooltip")},e.prototype.findAxisLabel=function(t){var i;return t.indexOf("AxisLabel")>-1?(i=t.replace(this.element.id,"").replace("AxisLabel_","").split("_"),this.axisCollections[parseInt(i[0],10)].visibleLabels[parseInt(i[1],10)].originalText):(i=t.replace(this.element.id,"").replace("Axis_MultiLevelLabel_Level_","").replace("Text_","").split("_"),this.axisCollections[parseInt(i[0],10)].multiLevelLabels[parseInt(i[1],10)].categories[parseInt(i[2],10)].text)},e.prototype.chartOnMouseDown=function(t){var i,r,o,h,u=this.FindXYPointValue(this.mouseX,this.mouseY),g=He.isDevice?20:30,y=this.element.getBoundingClientRect(),x=t.target;this.stockChart&&this.stockChart.zoomSettings.enablePan&&(this.allowPan=!0),this.trigger(rc,{target:x.id,x:this.mouseX,y:this.mouseY,axisData:u}),t.type==="touchstart"?(this.isTouch=!0,h=t,i=h.changedTouches[0].clientX,r=h.changedTouches[0].clientY,o=h.target):(this.isTouch=t.pointerType==="touch",i=t.clientX,r=t.clientY,o=t.target);var S=Ce(this.svgId).getBoundingClientRect();return this.mouseDownX=this.previousMouseMoveX=i-y.left-Math.max(S.left-y.left,0),this.mouseDownY=this.previousMouseMoveY=r-y.top-Math.max(S.top-y.top,0),this.isTouch&&(this.isDoubleTap=new Date().getTime()<this.threshold&&o.id.indexOf(this.element.id+"_Zooming_")===-1&&(this.mouseDownX-g>=this.mouseX||this.mouseDownX+g>=this.mouseX)&&(this.mouseDownY-g>=this.mouseY||this.mouseDownY+g>=this.mouseY)&&(this.mouseX-g>=this.mouseDownX||this.mouseX+g>=this.mouseDownX)&&(this.mouseY-g>=this.mouseDownY||this.mouseY+g>=this.mouseDownY)),this.dataEditingModule&&this.dataEditingModule.pointMouseDown(),this.notify(He.touchStartEvent,t),!1},e.prototype.mouseEnd=function(t){var i,r,o;return t.type==="touchend"?(o=t,r=o.changedTouches[0].clientX,this.isTouch=!0,i=o.changedTouches[0].clientY):(i=t.clientY,r=t.clientX,this.isTouch=t.pointerType==="touch"||t.pointerType==="2"),this.setMouseXY(r,i),this.chartOnMouseUp(t),!1},e.prototype.chartOnMouseUp=function(t){var i=t.target,r=this.FindXYPointValue(this.mouseX,this.mouseY);return this.trigger(sc,{target:i.id,x:this.mouseX,y:this.mouseY,axisData:r}),this.isChartDrag=!1,this.allowPan=!1,this.isTouch&&(this.titleTooltip(t,this.mouseX,this.mouseY,this.isTouch),this.axisTooltip(t,this.mouseX,this.mouseY,this.isTouch),this.threshold=new Date().getTime()+300),this.dataEditingModule&&this.dataEditingModule.pointMouseUp(),!this.enableCanvas&&this.seriesElements&&this.seriesElements.removeAttribute("clip-path"),this.notify(He.touchEndEvent,t),!1},e.prototype.setCulture=function(){this.intl=new On,this.setLocaleConstants(),this.localeObject=new dh(this.getModuleName(),this.defaultLocalConstants,this.locale)},e.prototype.setAnnotationValue=function(t,i){var r=Ce(this.element.id+"_Annotation_Collections"),o=this.annotations[t],h;i!==null&&(o.content=i,r?(Et(this.element.id+"_Annotation_"+t),h=this.createElement("div"),this.annotationModule.processAnnotation(o,t,h),r.appendChild(h.children[0])):this.annotationModule.renderAnnotations(Ce(this.element.id+"_Secondary_Element")))},e.prototype.setLocaleConstants=function(){this.defaultLocalConstants={ZoomIn:"Zoom in",Zoom:"Zoom",ZoomOut:"Zoom out",Pan:"Pan",Reset:"Reset",ResetZoom:"Reset Zoom"}},e.prototype.setTheme=function(){if(this.themeStyle=nc(this.theme,this.enableCanvas,this),!document.getElementById(this.element.id+"Keyboard_chart_focus")){var t=document.createElement("style");t.setAttribute("id",this.element.id+"Keyboard_chart_focus"),t.innerText=".e-chart-focused:focus, path[class*=_ej2_chart_selection_series]:focus,path[id*=_Point_]:focus, text[id*=_ChartTitle]:focus {outline: none } .e-chart-focused:focus-visible, path[class*=_ej2_chart_selection_series]:focus-visible,path[id*=_Point_]:focus-visible, text[id*=_ChartTitle]:focus-visible {outline: 1.5px "+this.themeStyle.tabColor+" solid}",document.body.appendChild(t)}},e.prototype.requiredModules=function(){var t=this,i=[],r=this.series,o=!1,h,u=!1,g=!1,y=!1,x=this.zoomSettings;return this.chartAreaType=r.length>0&&(r[0].type==="Polar"||r[0].type==="Radar")?"PolarRadar":"Cartesian",this.tooltip.enable&&i.push({member:"Tooltip",args:[this]}),r.map(function(S){t.isLegend=t.legendSettings.visible&&(S.name!==""||!!t.isLegend),h=S.type.indexOf("100")!==-1?S.type.replace("100","")+"Series":S.type+"Series",u=S.errorBar.visible||u,y=S.marker.dataLabel.visible||y||S.type==="Pareto"&&S.paretoOptions.marker.dataLabel.visible,g=S.dragSettings.enable||g,i.some(function(T){return T.member===h})||i.push({member:h,args:[t,r]}),t.chartAreaType==="PolarRadar"&&i.push({member:S.drawType+"Series",args:[t,r]}),S.type==="Pareto"&&(i.push({member:"ColumnSeries",args:[t,r]}),i.push({member:"LineSeries",args:[t,r]}))}),this.findIndicatorModules(i),this.findTrendLineModules(i),i=this.findAxisModule(i),o=this.annotations.some(function(S){return S.content!==null}),u&&i.push({member:"ErrorBar",args:[this,r]}),this.isLegend&&i.push({member:"Legend",args:[this]}),(this.enableExport||this.allowExport)&&i.push({member:"Export",args:[this]}),this.chartAreaType!=="PolarRadar"&&this.crosshair.enable&&i.push({member:"Crosshair",args:[this]}),this.chartAreaType!=="PolarRadar"&&!this.scrollSettingEnabled&&(x.enableSelectionZooming||x.enableMouseWheelZooming||x.enablePinchZooming||x.enablePan||x.enableScrollbar||x.showToolbar)&&(i.push({member:"Zoom",args:[this,this.zoomSettings]}),x.enableScrollbar&&i.push({member:"ScrollBar",args:[this]})),this.selectionMode!=="None"&&!(this.chartAreaType==="PolarRadar"&&this.selectionMode.indexOf("Drag")>-1)&&i.push({member:"Selection",args:[this]}),(this.highlightMode!=="None"||this.legendSettings.enableHighlight)&&i.push({member:"Highlight",args:[this]}),y&&i.push({member:"DataLabel",args:[this,r]}),g&&i.push({member:"DataEditing",args:[this]}),o&&i.push({member:"Annotation",args:[this]}),i},e.prototype.findAxisModule=function(t){var i=[];i.push(this.primaryXAxis),i.push(this.primaryYAxis),i=i.concat(this.axes);for(var r=!1,o=!1,h=!1,u=!1,g=!1,y=!1,x=0,S=i;x<S.length;x++){var T=S[x];r=T.valueType==="DateTime"||r,o=T.valueType==="Category"||o,h=T.valueType==="Logarithmic"||h,g=T.valueType==="DateTimeCategory"||g,u=this.findStriplineVisibility(T.stripLines)||u,y=T.multiLevelLabels.length>0||y,this.scrollSettingEnabled=T.scrollbarSettings.enable?!0:this.scrollSettingEnabled}return r&&t.push({member:"DateTime",args:[this]}),o&&t.push({member:"Category",args:[this]}),h&&t.push({member:"Logarithmic",args:[this]}),u&&t.push({member:"StripLine",args:[this]}),y&&t.push({member:"MultiLevelLabel",args:[this]}),g&&t.push({member:"DateTimeCategory",args:[this]}),this.scrollSettingEnabled&&t.push({member:"ScrollBar",args:[this]}),t},e.prototype.findIndicatorModules=function(t){var i,r,o=this.indicators;if(this.indicators.length){t.push({member:"LineSeries",args:[this]}),o.map(function(y){i=i||y.type==="Macd",r=r||y.type==="BollingerBands"}),i&&t.push({member:"ColumnSeries",args:[this]}),r&&t.push({member:"RangeAreaSeries",args:[this]}),r&&t.push({member:"SplineRangeAreaSeries",args:[this]});for(var h=0,u=this.indicators;h<u.length;h++){var g=u[h];t.push({member:g.type+"Indicator",args:[this]})}}},e.prototype.findTrendLineModules=function(t){for(var i,r,o=function(x){var S;x.trendlines.map(function(T){S=S||T.marker.visible,i=!!(i||T.type==="Linear"||T.type==="MovingAverage"),r=!!(r||!i||T.type==="Exponential"||T.type==="Logarithmic"||T.type==="Power"||T.type==="Polynomial")}),S&&t.push({member:"Marker",args:[h,x]})},h=this,u=0,g=this.series;u<g.length;u++){var y=g[u];o(y)}(i||r)&&t.push({member:"TrendLine",args:[this]}),i&&t.push({member:"LineSeries",args:[this]}),r&&t.push({member:"SplineSeries",args:[this]})},e.prototype.findStriplineVisibility=function(t){for(var i=!1,r=0,o=t;r<o.length;r++){var h=o[r];if(h.visible){i=!0;break}}return i},e.prototype.removeSvg=function(){if(this.redraw)return null;if(Bo(this),this.enableCanvas&&this.svgObject&&this.svgObject.tagName==="CANVAS")return this.renderer.clearRect(new Ue(0,0,this.availableSize.width,this.availableSize.height)),this.svgObject.parentNode&&Vt(this.svgObject),null;Et(this.element.id+"_Secondary_Element"),this.isReact&&this.clearTemplate();var t=0;if(this.zoomModule&&this.zoomModule.pinchTarget&&(this.zoomModule.pinchTarget.id="",this.zoomModule.pinchTarget.setAttribute("opacity","0"),this.svgObject.appendChild(this.zoomModule.pinchTarget),t=1),!we(this.resizeTo)){if(this.resizeTo!==this.checkResize&&this.isBlazor&&this.element.childElementCount)for(var i=document.querySelectorAll(".e-chart"),r=0;r<i.length;r++)for(var o=i[r];o.firstChild;)Vt(o.firstChild);this.checkResize=this.resizeTo}if(this.svgObject){for(;this.svgObject.childNodes.length>t;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&!this.stockChart&&Vt(this.svgObject)}},e.prototype.refreshDefinition=function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];o.axes=[]}},e.prototype.refreshAxis=function(){var t=this.primaryXAxis;t.rect=new Ue(void 0,void 0,0,0),t=this.primaryYAxis,t.isStack100=!1,t.rect=new Ue(void 0,void 0,0,0);for(var i=0,r=this.axes;i<r.length;i++){var o=r[i];t=o,t.rect=new Ue(void 0,void 0,0,0),t.isStack100=!1}if(this.paretoSeriesModule&&this.series[0].type==="Pareto")for(var h=0,u=this.paretoSeriesModule.paretoAxes;h<u.length;h++){var o=u[h];t=o,t.rect=new Ue(void 0,void 0,0,0),t.isStack100=!1}},e.prototype.axisChange=function(t){return!t.name&&!t.valueType?!1:(this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(),!0)},e.prototype.getVisibleSeries=function(t,i){for(var r=0,o=t;r<o.length;r++){var h=o[r];if(i===h.index)return h}return null},e.prototype.refreshLiveData=function(){this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),this.isBlazor||(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))},e.prototype.removeStyles=function(){Et(this.element.id+"_ej2_chart_selection"),Et(this.element.id+"_ej2_chart_highlight")},e.prototype.mouseMoveEvent=function(){if(this.tooltip.enable&&this.previousPageX!==null&&this.previousPageY!==null){var t=document.createEvent("MouseEvent");t.initMouseEvent("mousemove",!0,!1,window,1,100,100,this.previousPageX,this.previousPageY,!1,!1,!1,!1,0,null),this.element.dispatchEvent(t)}},e.prototype.showTooltip=function(t,i,r){if(r===void 0&&(r=!1),r)for(var o=0,h=this.visibleSeries;o<h.length;o++)for(var u=h[o],g=0,y=u.points;g<y.length;g++){var x=y[g],S=u.xAxis.valueType==="DateTime"?x.xValue:x.x,T=t;if(u.xAxis.valueType==="DateTime"&&(T=new Date(T).getTime()),t===S&&i===x.yValue){this.mouseX=x.regions[0].x+this.chartAxisLayoutPanel.seriesClipRect.x,this.mouseY=x.regions[0].y+this.chartAxisLayoutPanel.seriesClipRect.y,this.tooltipModule.tooltip(),this.markerRender.mouseMoveHandler();break}}else this.isTouch&&(this.startMove=!0),this.mouseX=t,this.mouseY=i,this.tooltipModule.mouseMoveHandler(),this.markerRender.mouseMoveHandler()},e.prototype.hideTooltip=function(){this.tooltipModule.removeTooltip(He.isDevice?2e3:1e3)},e.prototype.showCrosshair=function(t,i){this.mouseX=t,this.mouseY=i,this.isCrosshair=!1,Ut(this.mouseX,this.mouseY,this.chartAxisLayoutPanel.seriesClipRect)?this.crosshairModule.crosshair():this.hideCrosshair(),this.isCrosshair=!0},e.prototype.hideCrosshair=function(){this.crosshairModule.removeCrosshair(He.isDevice?2e3:1e3)},e.prototype.sanitize=function(t){return this.enableHtmlSanitizer?fh.sanitize(t):t},e.prototype.onPropertyChanged=function(t,i){var r=!1,o=!1;this.animateSeries=!1;var h;if(!this.delayRedraw&&!this.zoomRedraw){for(var u=0,g=Object.keys(t);u<g.length;u++){var y=g[u];switch(y){case"primaryXAxis":h=t.primaryXAxis,o=this.axisChange(h),t.primaryXAxis.edgeLabelPlacement&&(r=!0),t.primaryXAxis.crosshairTooltip||(o=!0),t.primaryXAxis.scrollbarSettings&&(o=!0),(!we(h.isInversed)||!we(h.opposedPosition))&&this.primaryXAxis.setIsInversedAndOpposedPosition();break;case"primaryYAxis":h=t.primaryYAxis,o=this.axisChange(h),t.primaryYAxis.edgeLabelPlacement&&(r=!0),t.primaryYAxis.crosshairTooltip||(o=!0),t.primaryYAxis.scrollbarSettings&&(o=!0),(!we(h.isInversed)||!we(h.opposedPosition))&&this.primaryYAxis.setIsInversedAndOpposedPosition();break;case"axes":for(var x=0,S=Object.keys(t.axes);x<S.length;x++){var T=S[x];h=t.axes[T],o=o||this.axisChange(h),h.crosshairTooltip||(o=!0),h.scrollbarSettings&&(o=!0),(!we(h.isInversed)||!we(h.opposedPosition))&&this.axes[T].setIsInversedAndOpposedPosition()}break;case"height":case"width":this.createChartSvg(),o=!0;break;case"subTitle":case"title":o=!0;break;case"titleStyle":t.titleStyle&&(t.titleStyle.size||t.titleStyle.textOverflow)?o=!0:r=!0;break;case"subTitleStyle":t.subTitleStyle&&(t.subTitleStyle.size||t.subTitleStyle.textOverflow)?o=!0:r=!0;break;case"border":r=!0;break;case"dataSource":this.processData(!1),o=!0;break;case"enableCanvas":this.refresh();break;case"series":{for(var M=this.series.length,R=!1,I=void 0,j=void 0,W=0;W<M;W++)I=t.series[W],this.isBlazor&&I&&(I.visible!==i.series[W].visible||I.isClosed||I.marker||I.emptyPointSettings||I.type||I.boxPlotMode||I.showMean)&&(j=!0),!we(I)&&(I.dataSource||I.query||I.errorBar||I.xName||I.yName||I.size||I.high||I.low||I.open||I.close||I.trendlines||I.fill||I.name||I.marker||I.width||I.binInterval||I.type||I.visible!==i.series[W].visible||j)&&(Tt(this.getVisibleSeries(this.visibleSeries,W),I,null,!0),R=!0);R&&(this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),o=!0);break}case"indicators":o=!0;break;case"zoomSettings":(t.zoomSettings.enableScrollbar||i.zoomSettings.enableScrollbar)&&(o=!0),r=!0;break;case"background":r=!0;break;case"chartArea":t.chartArea.border&&t.chartArea.border.width&&(o=!0),r=!0;break;case"legendSettings":(!t.legendSettings.background||!t.legendSettings.opacity)&&(o=!0),r=!0;break;case"palettes":this.calculateVisibleSeries(),r=!0;break;case"selectedDataIndexes":this.selectionModule?(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.selectedDataIndexes=this.selectedDataIndexes,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode,!0)):this.highlightModule&&(this.highlightModule.currentMode=this.highlightMode,this.highlightModule.highlightDataIndexes=this.selectedDataIndexes,this.highlightModule.styleId=this.element.id+"_ej2_chart_highlight",this.highlightModule.redrawSelection(this,i.selectionMode,!0));break;case"selectionMode":this.selectionModule&&t.selectionMode&&t.selectionMode.indexOf("Drag")===-1&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode,!0));break;case"isMultiSelect":this.selectionModule&&!t.isMultiSelect&&this.selectionModule.selectedDataIndexes.length>1&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode));break;case"highlightMode":case"selectionPattern":case"highlightPattern":this.removeStyles(),r=!0;break;case"theme":this.animateSeries=!0;break;case"enableRtl":case"locale":case"currencyCode":this.isBlazor?(this.setCulture(),r=!0):this.refresh();break;case"tooltip":this.tooltipModule&&(this.tooltipModule.previousPoints=[],this.tooltip.template&&(this.tooltipModule.template=this.tooltip.template));break}}!o&&r&&(this.rotatedDataLabelCollections=[],this.removeSvg(),this.renderElements(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),o&&(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.isReact&&this.clearTemplate(),this.dragY=null,this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}),this.redraw=!1,this.animated=!1)}this.zoomRedraw=!1},ge([te(null)],e.prototype,"width",void 0),ge([te(null)],e.prototype,"height",void 0),ge([te("")],e.prototype,"title",void 0),ge([te("")],e.prototype,"dataSource",void 0),ge([We({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},xa)],e.prototype,"titleStyle",void 0),ge([te("")],e.prototype,"subTitle",void 0),ge([We({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},xa)],e.prototype,"subTitleStyle",void 0),ge([We({},Po)],e.prototype,"margin",void 0),ge([We({color:"#DDDDDD",width:0},ts)],e.prototype,"border",void 0),ge([te(null)],e.prototype,"background",void 0),ge([We({border:{color:null,width:.5},background:"transparent"},ac)],e.prototype,"chartArea",void 0),ge([te(!1)],e.prototype,"enableHtmlSanitizer",void 0),ge([We({name:"primaryXAxis"},cs)],e.prototype,"primaryXAxis",void 0),ge([We({name:"primaryYAxis"},cs)],e.prototype,"primaryYAxis",void 0),ge([ci([{}],oc)],e.prototype,"rows",void 0),ge([ci([{}],lc)],e.prototype,"columns",void 0),ge([ci([{}],cs)],e.prototype,"axes",void 0),ge([ci([{}],wt)],e.prototype,"series",void 0),ge([ci([{}],hc)],e.prototype,"annotations",void 0),ge([te([])],e.prototype,"palettes",void 0),ge([te("Material")],e.prototype,"theme",void 0),ge([We({},cc)],e.prototype,"tooltip",void 0),ge([We({},Qc)],e.prototype,"crosshair",void 0),ge([We({},uc)],e.prototype,"legendSettings",void 0),ge([ci([{}],Jc)],e.prototype,"rangeColorSettings",void 0),ge([We({},eu)],e.prototype,"zoomSettings",void 0),ge([te("")],e.prototype,"highlightColor",void 0),ge([te("None")],e.prototype,"selectionMode",void 0),ge([te("None")],e.prototype,"highlightMode",void 0),ge([te("None")],e.prototype,"selectionPattern",void 0),ge([te("None")],e.prototype,"highlightPattern",void 0),ge([te(!1)],e.prototype,"isMultiSelect",void 0),ge([te(!1)],e.prototype,"allowMultiSelection",void 0),ge([te(!0)],e.prototype,"enableExport",void 0),ge([te(!1)],e.prototype,"allowExport",void 0),ge([ci([],dc)],e.prototype,"selectedDataIndexes",void 0),ge([te(!1)],e.prototype,"useGroupingSeparator",void 0),ge([te(!1)],e.prototype,"enableAutoIntervalOnBothAxis",void 0),ge([te(!1)],e.prototype,"isTransposed",void 0),ge([te(!1)],e.prototype,"enableCanvas",void 0),ge([te(null)],e.prototype,"backgroundImage",void 0),ge([ci([],Ma)],e.prototype,"indicators",void 0),ge([te(!0)],e.prototype,"enableAnimation",void 0),ge([te(null)],e.prototype,"description",void 0),ge([te(1)],e.prototype,"tabIndex",void 0),ge([te(!0)],e.prototype,"enableSideBySidePlacement",void 0),ge([Ee()],e.prototype,"resized",void 0),ge([Ee()],e.prototype,"beforeResize",void 0),ge([Ee()],e.prototype,"annotationRender",void 0),ge([Ee()],e.prototype,"beforePrint",void 0),ge([Ee()],e.prototype,"loaded",void 0),ge([Ee()],e.prototype,"beforeExport",void 0),ge([Ee()],e.prototype,"afterExport",void 0),ge([Ee()],e.prototype,"load",void 0),ge([Ee()],e.prototype,"animationComplete",void 0),ge([Ee()],e.prototype,"legendRender",void 0),ge([Ee()],e.prototype,"textRender",void 0),ge([Ee()],e.prototype,"pointRender",void 0),ge([Ee()],e.prototype,"seriesRender",void 0),ge([Ee()],e.prototype,"axisLabelRender",void 0),ge([Ee()],e.prototype,"axisLabelClick",void 0),ge([Ee()],e.prototype,"axisRangeCalculated",void 0),ge([Ee()],e.prototype,"axisMultiLabelRender",void 0),ge([Ee()],e.prototype,"legendClick",void 0),ge([Ee()],e.prototype,"multiLevelLabelClick",void 0),ge([Ee()],e.prototype,"tooltipRender",void 0),ge([Ee()],e.prototype,"sharedTooltipRender",void 0),ge([Ee()],e.prototype,"chartMouseMove",void 0),ge([Ee()],e.prototype,"chartMouseClick",void 0),ge([Ee()],e.prototype,"chartDoubleClick",void 0),ge([Ee()],e.prototype,"pointClick",void 0),ge([Ee()],e.prototype,"pointDoubleClick",void 0),ge([Ee()],e.prototype,"pointMove",void 0),ge([Ee()],e.prototype,"chartMouseLeave",void 0),ge([Ee()],e.prototype,"chartMouseDown",void 0),ge([Ee()],e.prototype,"chartMouseUp",void 0),ge([Ee()],e.prototype,"dragComplete",void 0),ge([Ee()],e.prototype,"selectionComplete",void 0),ge([Ee()],e.prototype,"zoomComplete",void 0),ge([Ee()],e.prototype,"onZooming",void 0),ge([Ee()],e.prototype,"scrollStart",void 0),ge([Ee()],e.prototype,"scrollEnd",void 0),ge([Ee()],e.prototype,"scrollChanged",void 0),ge([Ee()],e.prototype,"dragStart",void 0),ge([Ee()],e.prototype,"drag",void 0),ge([Ee()],e.prototype,"dragEnd",void 0),ge([te("USD")],e.prototype,"currencyCode",void 0),e=ge([yo],e),e}(bo),iu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),el=function(n){iu(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.calculateDateTimeNiceInterval=function(t,i,r,o,h){h===void 0&&(h=!0);var u=24*60*60*1e3,g=new Date(r),y=new Date(o),x=Math.abs((g.getTime()-y.getTime())/u),S;t.actualIntervalType=t.intervalType;var T=t.intervalType;switch(T){case"Years":S=this.calculateNumericNiceInterval(t,x/365,i);break;case"Quarter":S=this.calculateNumericNiceInterval(t,x/365*4,i);break;case"Months":S=this.calculateNumericNiceInterval(t,x/30,i);break;case"Weeks":S=this.calculateNumericNiceInterval(t,x/7,i);break;case"Days":S=this.calculateNumericNiceInterval(t,x,i);break;case"Hours":S=this.calculateNumericNiceInterval(t,x*24,i);break;case"Minutes":S=this.calculateNumericNiceInterval(t,x*24*60,i);break;case"Seconds":S=this.calculateNumericNiceInterval(t,x*24*60*60,i);break;case"Auto":return S=this.calculateNumericNiceInterval(t,x/365,i),S>=1?(t.actualIntervalType="Years",S):(S=this.calculateNumericNiceInterval(t,x/30,i),S>=1?(t.actualIntervalType="Months",S):(S=this.calculateNumericNiceInterval(t,x/7,i),S>=1&&!h?(t.actualIntervalType="Weeks",S):(S=this.calculateNumericNiceInterval(t,x,i),S>=1?(t.actualIntervalType="Days",S):(S=this.calculateNumericNiceInterval(t,x*24,i),S>=1?(t.actualIntervalType="Hours",S):(S=this.calculateNumericNiceInterval(t,x*24*60,i),S>=1?(t.actualIntervalType="Minutes",S):(S=this.calculateNumericNiceInterval(t,x*24*60*60,i),t.actualIntervalType="Seconds",S))))))}return S},e.prototype.getSkeleton=function(t,i,r,o){var h,u=t.actualIntervalType;return t.skeleton?t.skeleton:(u==="Years"?o?h=(t.isChart&&t.valueType==="DateTime","y"):h=t.isChart?t.valueType==="DateTime"&&t.isIntervalInDecimal?"y":"yMMM":"y":u==="Quarter"?h=o?"y":"yMMM":u==="Months"?o?h=(t.isChart,"m"):h=t.isChart?"MMMd":"MMM":u==="Weeks"?h=o?"m":"MEd":u==="Days"?o?h="d":h=t.isChart?t.valueType==="DateTime"?"MMMd":"yMd":"MMMd":u==="Hours"?o?h="t":h=t.isChart?t.valueType==="DateTime"?"Hm":"EHm":"h":u==="Minutes"?o?h="T":h=t.isChart?"Hms":"hm":o?h="T":h=t.isChart?"Hms":"hms",h)},e.prototype.findCustomFormats=function(t){var i=t.labelFormat?t.labelFormat:"";return t.isChart&&!t.skeleton&&t.actualIntervalType==="Months"&&!i&&(i=t.valueType==="DateTime"?"MMM yyyy":"yMMM"),i},e}(pc),ru=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),tl=function(n){ru(e,n);function e(t){return n.call(this,t)||this}return e.prototype.calculateRangeAndInterval=function(t,i){this.calculateRange(i),this.getActualRange(i,t),this.applyRangePadding(i,t),this.calculateVisibleLabels(i,this.chart)},e.prototype.getActualRange=function(t,i){var r={skeleton:"full",type:"dateTime"},o=this.chart.intl.getDateParser(r),h=this.chart.intl.getDateFormat(r);t.minimum!==null?this.min=this.chart.isBlazor?Date.parse(t.minimum.toString()):Date.parse(o(h(new Date(ws.parse.parseJson({val:t.minimum}).val)))):(this.min===null||this.min===Number.POSITIVE_INFINITY)&&(this.min=Date.parse(o(h(new Date(1970,1,1))))),t.maximum!==null?this.max=this.chart.isBlazor?Date.parse(t.maximum.toString()):Date.parse(o(h(new Date(ws.parse.parseJson({val:t.maximum}).val)))):(this.max===null||this.max===Number.NEGATIVE_INFINITY)&&(this.max=Date.parse(o(h(new Date(1970,5,1))))),this.min===this.max&&(this.max=this.max+2592e6,this.min=this.min-2592e6),t.actualRange={},t.doubleRange=new Ti(this.min,this.max);var u=this.calculateDateTimeNiceInterval(t,i,t.doubleRange.start,t.doubleRange.end);t.interval?t.actualRange.interval=t.interval:t.actualRange.interval=u,t.actualRange.min=t.doubleRange.start,t.actualRange.max=t.doubleRange.end},e.prototype.applyRangePadding=function(t,i){this.min=t.actualRange.min,this.max=t.actualRange.max;var r,o,h=t.actualRange.interval;if(!ii(t)){var u=t.getRangePadding(this.chart);r=new Date(this.min),o=new Date(this.max);var g=t.actualIntervalType;if(u==="None")this.min=r.getTime(),this.max=o.getTime();else if(u==="Additional"||u==="Round")switch(g){case"Years":this.getYear(r,o,u,h);break;case"Months":this.getMonth(r,o,u,h);break;case"Days":this.getDay(r,o,u,h);break;case"Hours":this.getHour(r,o,u,h);break;case"Minutes":{var y=r.getMinutes()/h*h,x=o.getMinutes()+(r.getMinutes()-y);u==="Round"?(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),y,0).getTime(),this.max=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),x,59).getTime()):(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),y+-h,0).getTime(),this.max=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),x+h,0).getTime());break}case"Seconds":{var S=r.getSeconds()/h*h,T=o.getSeconds()+(r.getSeconds()-S);u==="Round"?(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),S,0).getTime(),this.max=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),T,0).getTime()):(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),S+-h,0).getTime(),this.max=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),T+h,0).getTime());break}}}t.actualRange.min=t.minimum!=null?this.min:this.min,t.actualRange.max=t.maximum!=null?this.max:this.max,t.actualRange.delta=t.actualRange.max-t.actualRange.min,t.doubleRange=new Ti(t.actualRange.min,t.actualRange.max),this.calculateVisibleRange(i,t)},e.prototype.getYear=function(t,i,r,o){var h=t.getFullYear(),u=i.getFullYear();r==="Additional"?(this.min=new Date(h-o,1,1,0,0,0).getTime(),this.max=new Date(u+o,1,1,0,0,0).getTime()):(this.min=new Date(h,0,0,0,0,0).getTime(),this.max=new Date(u,11,30,23,59,59).getTime())},e.prototype.getMonth=function(t,i,r,o){var h=t.getMonth(),u=i.getMonth();r==="Round"?(this.min=new Date(t.getFullYear(),h,0,0,0,0).getTime(),this.max=new Date(i.getFullYear(),u,new Date(i.getFullYear(),i.getMonth(),0).getDate(),23,59,59).getTime()):(this.min=new Date(t.getFullYear(),h+-o,1,0,0,0).getTime(),this.max=new Date(i.getFullYear(),u+o,u===2?28:30,0,0,0).getTime())},e.prototype.getDay=function(t,i,r,o){var h=t.getDate(),u=i.getDate();r==="Round"?(this.min=new Date(t.getFullYear(),t.getMonth(),h,0,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),u,23,59,59).getTime()):(this.min=new Date(t.getFullYear(),t.getMonth(),h+-o,0,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),u+o,0,0,0).getTime())},e.prototype.getHour=function(t,i,r,o){var h=t.getHours()/o*o,u=i.getHours()+(t.getHours()-h);r==="Round"?(this.min=new Date(t.getFullYear(),t.getMonth(),t.getDate(),h,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),i.getDate(),u,59,59).getTime()):(this.min=new Date(t.getFullYear(),t.getMonth(),t.getDate(),h+-o,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),i.getDate(),u+o,0,0).getTime())},e.prototype.calculateVisibleRange=function(t,i){i.visibleRange={min:i.actualRange.min,max:i.actualRange.max,interval:i.actualRange.interval,delta:i.actualRange.delta};var r=we(i.zoomingScrollBar)?!1:i.zoomingScrollBar.isLazyLoad;Hr(i)&&!r&&(i.calculateVisibleRangeOnZooming(),i.visibleRange.interval=i.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(i,t,i.visibleRange.min,i.visibleRange.max):i.visibleRange.interval),i.dateTimeInterval=this.increaseDateTimeInterval(i,i.visibleRange.min,i.visibleRange.interval).getTime()-i.visibleRange.min,i.triggerRangeRender(this.chart,i.visibleRange.min,i.visibleRange.max,i.visibleRange.interval)},e.prototype.calculateVisibleLabels=function(t,i){t.visibleLabels=[];var r=t.visibleRange.min,o,h,u=i.getModuleName()==="chart"?i.isBlazor:!1,g=t.visibleLabels;for(t.minimum===null&&(r=this.alignRangeStart(t,r,t.visibleRange.interval).getTime()),this.startValue&&this.startValue<r&&i.zoomModule&&i.zoomModule.isPanning?r=this.startValue:this.startValue=r;r<=t.visibleRange.max;){if(o=Tt({},es("properties",t.labelStyle),null,!0),h=g.length?t.visibleLabels[g.length-1].value:r,t.format=i.intl.getDateFormat({format:this.findCustomFormats(t)||this.blazorCustomFormat(t),type:Xt(t.skeletonType),skeleton:this.getSkeleton(t,r,h,u)}),t.startLabel=t.format(new Date(t.visibleRange.min)),t.endLabel=t.format(new Date(t.visibleRange.max)),jr(r,t.visibleRange)){var y=this.increaseDateTimeInterval(t,r,t.visibleRange.interval).getTime();y>t.visibleRange.max&&(t.endLabel=t.format(new Date(r))),Fo(i,r,t.format(new Date(r)),o,t)}var x=r;if(r=this.increaseDateTimeInterval(t,r,t.visibleRange.interval).getTime(),x===r)break}(t.actualIntervalType==="Months"||t.actualIntervalType==="Days")&&t.isChart&&(t.format=i.intl.getDateFormat({format:t.labelFormat||(t.actualIntervalType==="Months"&&!t.skeleton?"y MMM":""),type:Xt(t.skeletonType),skeleton:t.skeleton||(t.actualIntervalType==="Days"?"MMMd":"")})),t.getMaxLabelWidth&&t.getMaxLabelWidth(this.chart)},e.prototype.blazorCustomFormat=function(t){return this.chart.isBlazor?t.actualIntervalType==="Years"?t.isIntervalInDecimal?"yyyy":"MMM y":t.actualIntervalType==="Days"&&!t.isIntervalInDecimal?"ddd HH tt":"":""},e.prototype.increaseDateTimeInterval=function(t,i,r){var o=new Date(i);t.interval?(t.isIntervalInDecimal=r%1===0,t.visibleRange.interval=r):(r=Math.ceil(r),t.visibleRange.interval=r);var h=t.actualIntervalType;if(t.isIntervalInDecimal)switch(h){case"Years":return o.setFullYear(o.getFullYear()+r),o;case"Quarter":return o.setMonth(o.getMonth()+3*r),o;case"Months":return o.setMonth(o.getMonth()+r),o;case"Weeks":return o.setDate(o.getDate()+r*7),o;case"Days":return o.setDate(o.getDate()+r),o;case"Hours":return o.setHours(o.getHours()+r),o;case"Minutes":return o.setMinutes(o.getMinutes()+r),o;case"Seconds":return o.setSeconds(o.getSeconds()+r),o}else o=this.getDecimalInterval(o,r,h);return o},e.prototype.alignRangeStart=function(t,i,r){var o=new Date(i);switch(t.actualIntervalType){case"Years":{var h=Math.floor(Math.floor(o.getFullYear()/r)*r);return o=new Date(h,o.getMonth(),o.getDate(),0,0,0),o}case"Months":{var u=Math.floor(Math.floor(o.getMonth()/r)*r);return o=new Date(o.getFullYear(),u,o.getDate(),0,0,0),o}case"Days":{var g=Math.floor(Math.floor(o.getDate()/r)*r);return o=new Date(o.getFullYear(),o.getMonth(),g,0,0,0),o}case"Hours":{var y=Math.floor(Math.floor(o.getHours()/r)*r);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),y,0,0),o}case"Minutes":{var x=Math.floor(Math.floor(o.getMinutes()/r)*r);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),x,0,0),o}case"Seconds":{var S=Math.floor(Math.floor(o.getSeconds()/r)*r);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),S,0),o}}return o},e.prototype.getDecimalInterval=function(t,i,r){var o=Math.floor(i),h=i-o;switch(r){case"Years":{var u=Math.round(12*h);return t.setFullYear(t.getFullYear()+o),t.setMonth(t.getMonth()+u),t}case"Quarter":return t.setMonth(t.getMonth()+3*i),t;case"Months":{var g=Math.round(30*h);return t.setMonth(t.getMonth()+o),t.setDate(t.getDate()+g),t}case"Weeks":return t.setDate(t.getDate()+i*7),t;case"Days":{var y=Math.round(24*h);return t.setDate(t.getDate()+o),t.setHours(t.getHours()+y),t}case"Hours":{var x=Math.round(60*h);return t.setHours(t.getHours()+o),t.setMinutes(t.getMinutes()+x),t}case"Minutes":{var S=Math.round(60*h);return t.setMinutes(t.getMinutes()+o),t.setSeconds(t.getSeconds()+S),t}case"Seconds":{var T=Math.round(1e3*h);return t.setSeconds(t.getSeconds()+o),t.setMilliseconds(t.getMilliseconds()+T),t}}return t},e.prototype.getModuleName=function(){return"DateTime"},e.prototype.destroy=function(){},e}(el),su=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),il=function(n){su(e,n);function e(t){return n.call(this,t)||this}return e.prototype.calculateRangeAndInterval=function(t,i){this.calculateRange(i),this.getActualRange(i,t),this.applyRangePadding(i,t),this.calculateVisibleLabels(i)},e.prototype.getActualRange=function(t,i){this.initializeDoubleRange(t),t.actualRange={},t.interval?t.actualRange.interval=Math.ceil(t.interval):t.actualRange.interval=Math.max(1,Math.floor(t.doubleRange.delta/gc(i,t))),t.actualRange.min=t.doubleRange.start,t.actualRange.max=t.doubleRange.end,t.actualRange.delta=t.doubleRange.delta},e.prototype.applyRangePadding=function(t,i){var r;t.series.forEach(function(h){r||(r=(h.type.indexOf("Column")>-1||h.type.indexOf("Bar")>-1)&&!(t.zoomFactor<1||t.zoomPosition>0)&&we(t.minimum)&&we(t.maximum))});var o=(t.labelPlacement==="BetweenTicks"||r)&&!this.chart.stockChart&&this.chart.chartAreaType!=="PolarRadar"?.5:0;o>0?(t.actualRange.min-=o,t.actualRange.max+=o):t.actualRange.max+=t.actualRange.max?0:.5,t.doubleRange=new Ti(t.actualRange.min,t.actualRange.max),t.actualRange.delta=t.doubleRange.delta,this.calculateVisibleRange(i,t)},e.prototype.calculateVisibleLabels=function(t){t.visibleLabels=[],t.visibleRange.interval=t.visibleRange.interval<1?1:t.visibleRange.interval;var i=Math.ceil(t.visibleRange.min),r;(t.zoomFactor<1||t.zoomPosition>0)&&(i=t.visibleRange.min-t.visibleRange.min%t.visibleRange.interval);var o;for(t.startLabel=t.labels[Math.round(t.visibleRange.min)],t.endLabel=t.labels[Math.floor(t.visibleRange.max)];i<=t.visibleRange.max;i+=t.visibleRange.interval)r=Tt({},es("properties",t.labelStyle),null,!0),jr(i,t.visibleRange)&&t.labels.length>0&&(o=Math.round(i),Fo(this.chart,o,t.labels[o]?t.labels[o].toString():"",r,t));t.getMaxLabelWidth&&t.getMaxLabelWidth(this.chart)},e.prototype.getModuleName=function(){return"Category"},e.prototype.destroy=function(){},e}(el),nu=function(){function n(e){this.chart=e}return n.prototype.enableComplexProperty=function(e){var t=[],i=[],r=e.xAxis.visibleRange,o=e.yAxis.visibleRange,h=e.points,u=e.clipRect,g=this.chart&&this.chart.zoomRedraw&&this.chart.redraw?this.previousX:Math.abs(r.delta/u.width),y=this.chart&&this.chart.zoomRedraw&&this.chart.redraw?this.previousY:Math.abs(o.delta/u.height),x=h[0]&&h[0].xValue>g?0:g,S=h[0]&&h[0].y>y?0:y;this.previousX=g,this.previousY=y;for(var T=0,M=0,R=0,I=h;R<I.length;R++){var j=I[R];j.symbolLocations=[],T=we(j.xValue)?r.min:j.xValue,M=we(j.yValue)?o.min:j.yValue,(Math.abs(x-T)>=g||Math.abs(S-M)>=y)&&(t.push(j),x=T,S=M)}for(var W,N=0;N<t.length;N++)W=t[N],!(we(W.x)||e.category==="Indicator"&&(isNaN(W.xValue)||isNaN(W.yValue)))&&i.push(W);return i},n.prototype.getLineDirection=function(e,t,i,r,o,h){var u="";if(e!=null){var g=o(e.xValue,e.yValue,i.xAxis,i.yAxis,r,i),y=o(t.xValue,t.yValue,i.xAxis,i.yAxis,r,i);u=h+" "+g.x+" "+g.y+" L "+y.x+" "+y.y+" "}return u},n.prototype.appendLinePath=function(e,t,i){var r=this.appendPathElement(e,t,i);Do(r.element,e.d,t.chart.redraw,r.previousDirection,r.chart.duration)},n.prototype.appendPathElement=function(e,t,i){var r=Ce(e.id),o=t.chart,h=r?r.getAttribute("d"):null,u=t.chart.renderer.drawPath(e,new Int32Array([t.clipRect.x,t.clipRect.y]));return u&&u.setAttribute("clip-path",i),t.pathElement=u,t.chart.enableCanvas||t.seriesElement.appendChild(u),t.isRectSeries=!1,{element:r,previousDirection:h,chart:o}},n.prototype.addPath=function(e,t,i){var r=this.appendPathElement(e,t,i);if(r.previousDirection!==""&&e.d!==""){var o=r.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),h=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),u=Math.max(o.length,h.length),g=Math.min(o.length,h.length);if(o.length<h.length){for(var y=g;y<u;y++)h.length!==o.length&&o.push(o[o.length-1].replace("M","L"));hr(r.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>h.length){for(var y=g;y<u;y++)h.length!==o.length&&(t.removedPointIndex===t.points.length?h.push(h[h.length-1].replace("M","L")):h.splice(1,0,h[0].replace("M","L")));hr(r.element,h.join(""),t.chart.redraw,r.previousDirection,this.chart.duration,e.d)}else hr(r.element,e.d,t.chart.redraw,r.previousDirection,this.chart.duration)}},n.prototype.addAreaPath=function(e,t,i){var r=this.appendPathElement(e,t,i);if(r.previousDirection!==""&&e.d!==""){var o=r.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),h=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),u=Math.max(o.length,h.length),g=Math.min(o.length,h.length);if(g<h.length){for(var y=g;y<u;y++)h.length!==o.length&&h.length!==o.length&&(o.length===1?o.push(o[o.length-(e.id.indexOf("border")!==-1?1:2)].replace("M","L")):o.splice(o.length-1,0,o[o.length-(e.id.indexOf("border")!==-1?1:2)]));hr(r.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>h.length){for(var y=g;y<u;y++)h.length!==o.length&&(t.removedPointIndex===t.points.length?h.length===1?h.push(h[h.length-(e.id.indexOf("border")!==-1?1:2)].replace("M","L")):h.splice(h.length-1,0,h[h.length-(e.id.indexOf("border")!==-1?1:2)]):h.splice(1,0,h[1]?h[1]:h[0]));hr(r.element,h.join(""),t.chart.redraw,r.previousDirection,this.chart.duration,e.d)}else hr(r.element,e.d,t.chart.redraw,r.previousDirection,this.chart.duration)}},n.prototype.renderMarker=function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)},n.prototype.doProgressiveAnimation=function(e,t){var i=new $r({}),r=e.pathElement,o=r.getAttribute("stroke-dasharray"),h=e.pathElement.getTotalLength(),u;r.style.visibility="hidden",i.animate(r,{duration:t.duration===0&&kr==="Enable"?1e3:t.duration,delay:t.delay,progress:function(g){r.style.visibility="visible",u=Math.abs(Math.round(g.timeStamp*h/g.duration)),r.setAttribute("stroke-dasharray",u+","+h)},end:function(){var g=Ce(e.chart.element.id+"_Annotation_Collections");g&&(g.style.visibility="visible"),r.setAttribute("stroke-dasharray",o),r.style.visibility="",e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})},n.prototype.storePointLocation=function(e,t,i,r){var o=t.marker&&t.marker.width?t.marker.width:0,h=t.marker&&t.marker.height?t.marker.height:0;e.symbolLocations.push(r(e.xValue,e.yValue,t.xAxis,t.yAxis,i,t)),e.regions.push(new Ue(e.symbolLocations[0].x-o,e.symbolLocations[0].y-h,2*o,2*h))},n.prototype.withinYRange=function(e,t){return e.yValue>=t.visibleRange.min&&e.yValue<=t.visibleRange.max},n.prototype.GetStepLineDirection=function(e,t,i,r,o,h){r===void 0&&(r="L");var u=o.noRisers&&h?" M ":" L ";if(i==="Right")return r=o.noRisers&&h?"M":"L",r+" "+t.x+" "+e.y+" L "+e.x+" "+e.y+" ";if(i==="Center"){var g=t.x+(e.x-t.x)/2;return r+" "+g+" "+t.y+u+g+" "+e.y+" L "+e.x+" "+e.y+" "}else return r+" "+e.x+" "+t.y+u+e.x+" "+e.y+" "},n.prototype.getFirstLastVisiblePoint=function(e){for(var t=null,i=null,r=0,o=e;r<o.length;r++){var h=o[r];t===null&&h.visible&&(t=i=h),i=h.visible?h:i}return{first:t||e[0],last:i||e[e.length-1]}},n.prototype.getBorderDirection=function(e){var t=e.split(" ");return t.length>3&&!this.chart.stackingAreaSeriesModule&&!this.chart.stackingStepAreaSeriesModule?t.splice(t.length-4,3):(this.chart.stackingAreaSeriesModule||this.chart.stackingStepAreaSeriesModule)&&(t.splice(t.length/2+1,t.length/2+1),(t[t.length-1]==="L"||t[t.length-1]==="M")&&t.splice(t.length-1,1)),t.join(" ")},n.prototype.removeEmptyPointsBorder=function(e){var t=0,i=e.split(" "),r;if(i.length===4)return i.join(" ");do r=i.indexOf("M",t),r>-1&&(i.splice(r+1,3),t=r+1,r-6>0&&(i.splice(r-6,6),t-=6));while(r!==-1);return i.join(" ")},n.prototype.doLinearAnimation=function(e,t){var i=e.clipRectElement.childNodes[0].childNodes[0],r=e.chart.animated?e.chart.duration:t.duration,o=No("Linear"),h=+i.getAttribute("height"),u=+i.getAttribute("width"),g=+i.getAttribute("x"),y=e.chart.requireInvertedAxis?+i.getAttribute("height")+ +i.getAttribute("y"):+i.getAttribute("y"),x;if(i.style.visibility="hidden",this.animateRect(e,t,i,r,o,h,u,g,y,x),e.marker&&e.marker.visible&&e.symbolElement){var S=e.symbolElement.childNodes[0].childNodes[0];S.style.visibility="hidden",this.animateRect(e,t,S,r,o,h,u,g,y,x)}},n.prototype.animateRect=function(e,t,i,r,o,h,u,g,y,x){new $r({}).animate(i,{duration:r===0&&kr==="Enable"?1e3:r,delay:t.delay,progress:function(S){i.style.visibility="visible",e.chart.requireInvertedAxis?(x=o(S.timeStamp,0,h,S.duration),i.setAttribute("transform","translate("+g+" "+y+") scale(1,"+x/h+") translate("+-g+" "+-y+")")):(x=o(S.timeStamp,0,u,S.duration),i.setAttribute("transform","translate("+g+" "+y+") scale("+x/u+", 1) translate("+-g+" "+-y+")"))},end:function(){var S=Ce(e.chart.element.id+"_Annotation_Collections");S&&(S.style.visibility="visible"),i.setAttribute("transform","translate(0,0)"),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})},n}(),au=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),rl=function(n){au(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,i,r,o,h,u){for(var g,y,x="",S=null,T="M",M=t.chart&&t.chart.chartAreaType==="PolarRadar",R=t.emptyPointSettings&&t.emptyPointSettings.mode==="Drop",I=M?mc:Li,j=t.category==="TrendLine"?t.points:this.enableComplexProperty(t),W=0,N=j;W<N.length;W++){var G=N[W];G.regions=[],G.symbolLocations=[],G.visible&&zo(j[G.index-1],G,j[G.index+1],t)?(x+=this.getLineDirection(S,G,t,o,I,T),T=S?"L":T,S=G,this.storePointLocation(G,t,o,I),x===""&&j.length===1&&(x="M "+G.symbolLocations[0].x+" "+G.symbolLocations[0].y)):(S=R?S:null,T=R?T:"M")}if(M&&t.isClosed){var K=this.getFirstLastVisiblePoint(j);y=I(K.last.xValue,K.last.yValue,i,r,o,t),g=I(K.first.xValue,K.first.yValue,i,r,o,t),x=x.concat(T+" "+y.x+" "+y.y+" L "+g.x+" "+g.y)}var _=t.category==="Indicator"?t.chart.element.id+"_Indicator_"+t.index+"_"+t.name:t.category==="TrendLine"?t.chart.element.id+"_Series_"+t.sourceIndex+"_TrendLine_"+t.index:t.chart.element.id+"_Series_"+(t.index===void 0?t.category:t.index),Q=new Lr(_,"none",t.width,t.interior,t.opacity,t.dashArray,x);this[h?"addPath":"appendLinePath"](Q,t,""),u||this.renderMarker(t)},e.prototype.updateDirection=function(t,i){this.render(t,t.xAxis,t.yAxis,t.chart.requireInvertedAxis,!1,!0);for(var r=0;r<i.length;r++)t.marker&&t.marker.visible&&t.chart.markerRender.renderMarker(t,t.points[i[r]],t.points[i[r]].symbolLocations[0],null,!0),t.marker.dataLabel.visible&&t.chart.dataLabelModule&&(t.chart.dataLabelModule.commonId=t.chart.element.id+"_Series_"+t.index+"_Point_",t.chart.dataLabelModule.renderDataLabel(t,t.points[i[r]],null,t.marker.dataLabel))},e.prototype.doAnimation=function(t){var i=t.animation;this.doProgressiveAnimation(t,i)},e.prototype.getModuleName=function(){return"LineSeries"},e.prototype.destroy=function(){},e}(nu),ou=function(){function n(){}return n.prototype.getSideBySideInfo=function(e){if(e.chart.enableSideBySidePlacement&&!e.position&&this.getSideBySidePositions(e),e.columnWidthInPixel)return new Ti(0,0);var t=e.type==="Histogram"||!e.chart.enableSideBySidePlacement?0:e.position,i=e.type==="Histogram"||!e.chart.enableSideBySidePlacement?1:e.rectCount;e.isRectSeries=!0;var r=e.chart.visibleSeries,o=e.chart.enableSideBySidePlacement?e.columnSpacing:0,h=e.columnWidth===null||isNaN(+e.columnWidth)?e.type==="Histogram"?1:.7:Math.min(e.columnWidth,1),u=vc(e.xAxis,r),g=u*h,y,x=t/i-.5,S=new Ti(x,x+1/i);if(!(isNaN(S.start)||isNaN(S.end))){if(e.groupName&&e.type.indexOf("Stacking")===-1){var T=.7;e.chart.series.filter(function(j){j.columnWidth>T&&(T=j.columnWidth)});var M=u*T,R=new Ti(S.start*M,S.end*M),I=(R.delta-(S.end*g-S.start*g))/2;S=new Ti(R.start+I,R.end-I)}else S=new Ti(S.start*g,S.end*g);y=o*S.delta,S=new Ti(S.start+y/2,S.end-y/2)}return S},n.prototype.getRectangle=function(e,t,i,r,o){var h=Li(e,t,o.xAxis,o.yAxis,o.chart.requireInvertedAxis),u=Li(i,r,o.xAxis,o.yAxis,o.chart.requireInvertedAxis);return new Ue(Math.min(h.x,u.x),Math.min(h.y,u.y),Math.abs(u.x-h.x),Math.abs(u.y-h.y))},n.prototype.drawCylinder=function(e,t,i,r,o){var h=r.width,u=r.height;if(o.chart.enableCanvas){var g=o.chart.canvasRender.ctx,y=g;g.save();var x=Zr(e.fill),S=r.x+o.clipRect.x,T=r.y+o.clipRect.y,M=2*Math.PI+.1,R=void 0,I=void 0,j=void 0,W=void 0,N=void 0,G=void 0,K=void 0,_=void 0,Q=void 0,ie=void 0,re=void 0,fe=void 0,ne=void 0,ve=void 0,ye=void 0,le=void 0,pe=void 0,Te=void 0,Ie=void 0,et=0,nt=0,Me=0,qe=0,Ve=0;g.fillStyle=Gi(x,.9),g.lineWidth=0,g.strokeStyle=Gi(x,.9),g.globalAlpha=e.opacity,i.isColumn?(et=S,nt=h+S,R=h/2,I=R/4,W=j=S+R,ie=N=T-I,_=S,K=S+h,G=Q=T+u-I,pe=Math.PI,Te=-R,Ie=I,i.stacking&&(i.isLastSeries||(ie=N=T+I))):(qe=u+T,Me=T,I=u/2,R=I/4,_=j=S+R,K=W=S+h+R,Q=T+u,ie=T,G=N=T+I,Ve=Math.PI/2,pe=Math.PI*1.5,i.stacking&&(i.isLastSeries||(K=W=S+h-R)),I=-I,R=-R,Te=R,Ie=-I);var Se=Gi(x,.7),st=g.createLinearGradient(et,Me,nt,qe);st.addColorStop(0,x),st.addColorStop(.3,Se),st.addColorStop(.7,Se),st.addColorStop(1,x);for(var ut=1;ut<=4;ut++){var Ae=0;for(ut<4&&g.beginPath(),ut%2===0?(re=W,fe=G,ne=_,ve=ie):(re=j,fe=N,ne=K,ve=Q),ut===4&&(R=Te,I=Ie,g.fillStyle=st),ut>2&&(Ae=Ve,M=pe);Ae<=M;Ae+=.1)ye=re-R*Math.cos(Ae),le=fe+I*Math.sin(Ae),Ae===0?g.moveTo(ye,le):g.lineTo(ye,le);ut>2&&g.lineTo(ne,ve),ut!==3&&(g.stroke(),g.fill())}e.id.indexOf("Series")>=0&&(g.clip(),g.restore(),g=y)}else{var Ke=o.chart,S=r.x,T=r.y,Ct=e.id,x=e.fill,Nt=x,ti=yc(x);ti||(x=Zr(x));var Mt=0,Ot=0,mt=0,It=0,Rt=0,ai=0,At=void 0,Lt=void 0,$=void 0,B=void 0,F=void 0,Z=void 0,R=void 0,I=void 0,Ae=2;for(i.isColumn?(R=h/2,I=R/4,At=$=S,Lt=I<T?T-I:i.stacking?T+I:T-I,B=Lt,Mt=2*R,It=I<T||u<2*I?u:i.stacking?u-2*I:u,F=At,Z=I<T?Lt+u:u<Lt?u+Lt:i.stacking?u+(T-I):u+Lt,Rt=100,i.stacking&&(i.isLastSeries||(Lt=B=T+I,It=u<R/2?u:u-R/2))):(I=u/2,R=I/4,Lt=B=T,At=$=Math.abs(S-R),Ot=2*I,mt=h,F=At+h,Z=Lt,ai=100,i.stacking&&(i.isLastSeries||(F=At+h-R*2,mt=h-R*2))),Vt(this.element);Ae--;)e.d="M"+At.toString()+","+Lt.toString()+"a"+R.toString()+","+I.toString()+" 0 1,0 "+Mt.toString()+","+Ot.toString()+"a"+R.toString()+","+I.toString()+" 0 1,0 "+(-1*Mt).toString()+","+(-1*Ot).toString(),e.id=Ct+"_Region_"+Ae,e.fill=Gi(x,.9),Ae%2===0&&o.type!=="StackingBar100"&&o.type!=="StackingBar"&&o.type!=="Bar"&&(e.fill=e.fill+"10"),this.element=Ke.renderer.drawPath(this.options,new Int32Array([o.clipRect.x,o.clipRect.y])),Fe(o.chart.enableCanvas,o.seriesElement,this.element,Ke.redraw),At=F,Lt=Z;e.d="M"+$.toString()+","+B.toString()+"a"+R.toString()+","+I.toString()+" 0 1,0 "+Mt.toString()+","+Ot.toString()+"l"+mt.toString()+" "+It.toString()+"a"+R.toString()+","+I.toString()+" 0 1,1 "+(-1*Mt).toString()+","+(-1*Ot).toString()+" z",e.id=Ct+"_Region_2",e.fill=Gi(x,.7);var se=void 0;if(Nt.indexOf("url")===-1){if(!document.getElementById(Ct)){se={id:Ct,x1:"0%",y1:"0%",x2:Rt.toString()+"%",y2:ai.toString()+"%"};var de=[{colorStop:"0%",color:x},{colorStop:"30%",color:Gi(x,.7)},{colorStop:"70%",color:Gi(x,.7)},{colorStop:"100%",color:x}];this.drawGradient(se,de,o)}e.fill="url(#"+se.id+")"}this.element=Ke.renderer.drawPath(this.options,new Int32Array([o.clipRect.x,o.clipRect.y])),Fe(o.chart.enableCanvas,o.seriesElement,this.element,Ke.redraw)}},n.prototype.drawGradient=function(e,t,i){var r=i.chart,o=r.renderer.createDefs(),h="http://www.w3.org/2000/svg",u=document.createElementNS(h,"linearGradient");u.setAttribute("id",e.id),u.setAttribute("x1",e.x1),u.setAttribute("y1",e.y1),u.setAttribute("x2",e.x2),u.setAttribute("y2",e.y2);for(var g=0;g<t.length;g++){var y=document.createElementNS(h,"stop");y.setAttribute("offset",t[g].colorStop),y.setAttribute("stop-color",t[g].color),y.setAttribute("stop-opacity","1"),u.appendChild(y)}i.seriesElement.appendChild(o),o.appendChild(u)},n.prototype.getSideBySidePositions=function(e){for(var t=e.chart,i=0,r=t.columns;i<r.length;i++)for(var o=r[i],h=0,u=t.rows;h<u.length;h++){var g=u[h];this.findRectPosition(e.findSeriesCollection(o,g,!1))}},n.prototype.findRectPosition=function(e){for(var t=[],i={rectCount:0,position:null},r=0;r<e.length;r++){var o=e[r];if(o.type.indexOf("Stacking")!==-1||o.groupName!==""){var h=o.type.indexOf("Stacking")!==-1?o.stackingGroup:o.type+o.groupName;h?t[h]===void 0?(o.position=i.rectCount,t[h]=i.rectCount++):o.position=t[h]:i.position===null?(o.position=i.rectCount,i.position=i.rectCount++):o.position=i.position}else o.position=i.rectCount++}for(var r=0;r<e.length;r++){var o=e[r];o.rectCount=i.rectCount}},n.prototype.updateSymbolLocation=function(e,t,i){i.chart.requireInvertedAxis?this.updateYRegion(e,t,i):this.updateXRegion(e,t,i),i.type==="Histogram"&&(e.minimum=+e.x-i.histogramValues.binWidth/2,e.maximum=+e.x+i.histogramValues.binWidth/2)},n.prototype.updateXRegion=function(e,t,i){e.symbolLocations.push({x:t.x+t.width/2,y:i.seriesType==="BoxPlot"||i.seriesType.indexOf("HighLow")!==-1||e.yValue>=0==!i.yAxis.isAxisInverse?t.y:t.y+t.height}),this.getRegion(e,t,i),i.type==="RangeColumn"&&e.symbolLocations.push({x:t.x+t.width/2,y:t.y+t.height})},n.prototype.updateYRegion=function(e,t,i){e.symbolLocations.push({x:i.seriesType==="BoxPlot"||i.seriesType.indexOf("HighLow")!==-1||e.yValue>=0==!i.yAxis.isAxisInverse?t.x+t.width:t.x,y:t.y+t.height/2}),this.getRegion(e,t,i),i.type==="RangeColumn"&&e.symbolLocations.push({x:t.x,y:t.y+t.height/2})},n.prototype.renderMarker=function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)},n.prototype.getRegion=function(e,t,i){if(e.y===0){var r=i.marker&&i.marker.width?i.marker.width:0,o=i.marker&&i.marker.height?i.marker.height:0;e.regions.push(new Ue(e.symbolLocations[0].x-r,e.symbolLocations[0].y-o,2*r,2*o))}else e.regions.push(t)},n.prototype.triggerEvent=function(e,t,i,r){var o={cancel:!1,name:Ss,series:e,point:t,fill:e.setPointColor(t,i),border:e.setBorderColor(t,r)};return e.chart.trigger(Ss,o),t.color=o.fill,o},n.prototype.drawRectangle=function(e,t,i,r){var o=e.chart,h=o.requireInvertedAxis?i.height:i.width;if(h<=0)return null;var u;t.y===0?u=this.calculateRoundedRectPath(i,0,0,0,0):u=this.calculateRoundedRectPath(i,e.cornerRadius.topLeft,e.cornerRadius.topRight,e.cornerRadius.bottomLeft,e.cornerRadius.bottomRight,o.requireInvertedAxis);var g=e.category==="Indicator"?o.element.id+"_Indicator_"+e.index+"_"+e.name+"_Point_"+t.index:o.element.id+"_Series_"+e.index+"_Point_"+(e.removedPointIndex!==null&&e.removedPointIndex<=t.index?t.index+1:t.index),y=wi(o.redraw,g),x=y?y.getAttribute("d"):"";switch(this.options=new Lr(g,r.fill,r.border.width,r.border.color,e.opacity,e.border.dashArray,e.columnFacet==="Cylinder"?"":u),this.element=o.renderer.drawPath(this.options,new Int32Array([e.clipRect.x,e.clipRect.y])),e.removedPointIndex!==null&&e.removedPointIndex<=t.index&&(this.element.id=o.element.id+"_Series_"+e.index+"_Point_"+t.index),e.seriesType){case"XY":this.element.setAttribute("role","img"),this.element.setAttribute("aria-label",t.x+":"+t.yValue+", "+e.name);break;case"HighLow":this.element.setAttribute("role","img"),this.element.setAttribute("aria-label",t.x+":"+t.high+", "+t.low+", "+e.name);break}e.columnFacet==="Cylinder"&&(o.redraw||!o.enableAnimation)&&e.seriesElement.querySelector("#"+this.element.id)||Fe(e.chart.enableCanvas,e.seriesElement,this.element,o.redraw),e.chart.enableCanvas||Do(this.element,e.columnFacet==="Cylinder"?"":u,o.redraw,x,o.duration)},n.prototype.animate=function(e){for(var t=e.seriesElement.childNodes,i=e.category==="Indicator"?0:1,r=vr(e),o=0,h=r;o<h.length;o++){var u=h[o];if(!(!u.symbolLocations.length&&!(e.type==="BoxAndWhisker"&&u.regions.length)))if((e.type==="Column"||e.type==="Bar"||e.type==="StackingColumn"||e.type==="StackingColumn100"||e.type==="StackingBar"||e.type==="StackingBar100")&&e.columnFacet==="Cylinder")for(var g=0;g<t.length;g++)this.animateRect(t[g],e,u);else this.animateRect(t[i],e,u),i++}},n.prototype.animateRect=function(e,t,i){var r=t.animation,o=t.chart.animated?t.chart.duration:r.duration,h=No("Linear"),u=i.yValue<0,g,y,x=+i.regions[0].height,S=+i.regions[0].width,T,M;t.chart.requireInvertedAxis?(y=+i.regions[0].y,t.type.indexOf("Stacking")>-1?(g=di(0,t.yAxis)*t.yAxis.rect.width,T=g,M=y):(g=+i.regions[0].x,M=u?y:y+x,T=t.seriesType.indexOf("HighLow")!==-1||t.type.indexOf("Waterfall")!==-1?g+S/2:u!==t.yAxis.isAxisInverse?g+S:g)):(g=+i.regions[0].x,t.type.indexOf("Stacking")>-1?(y=(1-di(0,t.yAxis))*t.yAxis.rect.height,T=g,M=y):(y=+i.regions[0].y,M=t.seriesType.indexOf("HighLow")!==-1||t.type.indexOf("Waterfall")!==-1?y+x/2:u!==t.yAxis.isAxisInverse?y:y+x,T=u?g:g+S));var R;we(e)||(e.style.visibility="hidden",new $r({}).animate(e,{duration:o===0&&kr==="Enable"?1e3:o,delay:r.delay,progress:function(I){I.timeStamp>=I.delay&&(e.style.visibility="visible",t.chart.requireInvertedAxis?(S=S||1,R=h(I.timeStamp-I.delay,0,S,I.duration),e.setAttribute("transform","translate("+T+" "+M+") scale("+R/S+", 1) translate("+-T+" "+-M+")")):(x=x||1,R=h(I.timeStamp-I.delay,0,x,I.duration),e.setAttribute("transform","translate("+T+" "+M+") scale(1,"+R/x+") translate("+-T+" "+-M+")")))},end:function(){var I=document.getElementById(t.chart.element.id+"_Annotation_Collections");I&&(I.style.visibility="visible"),e.setAttribute("transform","translate(0,0)");var j=t.seriesElement;if((e===j.lastElementChild||i.index===t.points.length-1||t.type==="Waterfall"&&e===j.children[j.childElementCount-2])&&(t.chart.trigger("animationComplete",{series:t.chart.isBlazor?{}:t}),t.type==="Waterfall"))for(var W=j.childNodes,N=0;N<W.length;N++)W[N].id.indexOf("Connector")!==-1&&(W[N].style.visibility="visible",W[N].setAttribute("transform","translate(0,0)"))}}))},n.prototype.calculateRoundedRectPath=function(e,t,i,r,o,h){h===void 0&&(h=!1);var u=h?e.width/2:e.height/2;return t=Math.min(t,u),i=Math.min(i,u),r=Math.min(r,u),o=Math.min(o,u),"M "+e.x+" "+(t+e.y)+" Q "+e.x+" "+e.y+" "+(e.x+t)+" "+e.y+" L "+(e.x+e.width-i)+" "+e.y+" Q "+(e.x+e.width)+" "+e.y+" "+(e.x+e.width)+" "+(e.y+i)+" L "+(e.x+e.width)+" "+(e.y+e.height-o)+" Q "+(e.x+e.width)+" "+(e.y+e.height)+" "+(e.x+e.width-o)+" "+(e.y+e.height)+" L "+(e.x+r)+" "+(e.y+e.height)+" Q "+e.x+" "+(e.y+e.height)+" "+e.x+" "+(e.y+e.height-r)+" L "+e.x+" "+(t+e.y)+" Z"},n}(),lu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),sl=function(n){lu(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.sideBySideInfo=[],t}return e.prototype.render=function(t){this.sideBySideInfo[t.index]=this.getSideBySideInfo(t);for(var i=Math.max(t.yAxis.visibleRange.min,0),r=0,o=t.points;r<o.length;r++){var h=o[r];this.renderPoint(t,h,this.sideBySideInfo[t.index],i)}this.renderMarker(t)},e.prototype.renderPoint=function(t,i,r,o){if(i.symbolLocations=[],i.regions=[],i.visible&&zo(t.points[i.index-1],i,t.points[i.index+1],t)){this.rect=this.getRectangle(i.xValue+r.start,i.yValue,i.xValue+r.end,o,t),this.rect.width=t.columnWidthInPixel?t.columnWidthInPixel-(t.chart.enableSideBySidePlacement?t.columnWidthInPixel*t.columnSpacing:0):this.rect.width,this.rect.x=t.columnWidthInPixel?this.rect.x-(t.columnWidthInPixel/2*t.rectCount-t.columnWidthInPixel*t.index):this.rect.x;var h=t.category==="Indicator"?i.color:t.interior,u=this.triggerEvent(t,i,h,{width:t.border.width,color:t.border.color});if(!u.cancel&&(this.updateSymbolLocation(i,this.rect,t),this.drawRectangle(t,i,this.rect,u),t.columnFacet==="Cylinder")){var g={isColumn:!0,stacking:!1,isLastSeries:!0};this.drawCylinder(this.options,this.element,g,this.rect,t)}}},e.prototype.updateDirection=function(t,i){for(var r=Math.max(t.yAxis.visibleRange.min,0),o=0;o<i.length;o++)this.renderPoint(t,t.points[i[o]],this.sideBySideInfo[t.index],r),t.marker&&t.marker.visible&&t.chart.markerRender.renderMarker(t,t.points[i[o]],t.points[i[o]].symbolLocations[0],null,!0),t.marker.dataLabel.visible&&t.chart.dataLabelModule&&(t.chart.dataLabelModule.commonId=t.chart.element.id+"_Series_"+t.index+"_Point_",t.chart.dataLabelModule.renderDataLabel(t,t.points[i[o]],null,t.marker.dataLabel))},e.prototype.doAnimation=function(t){this.animate(t)},e.prototype.getModuleName=function(){return"ColumnSeries"},e.prototype.destroy=function(){},e}(ou),hu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),nl=function(n){hu(e,n);function e(t){var i=n.call(this,t)||this;return i.commonXvalues=[],i.addEventListener(),i}return e.prototype.addEventListener=function(){if(!this.chart.isDestroyed){var t=He.isPointer?"pointerleave":"mouseleave";this.chart.on(t,this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this),this.chart.on(He.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(He.touchEndEvent,this.mouseUpHandler,this)}},e.prototype.mouseUpHandler=function(){var t=this.control,i=this.getData();i.lierIndex=this.lierIndex,t.isTouch&&!this.isSelected(t)&&(Ut(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)&&t.tooltip.shared||!t.tooltip.shared)?t.crosshair.enable?t.startMove&&t.tooltip.fadeOutMode==="Move"&&this.removeTooltip(2e3):(this.tooltip(),t.tooltip.fadeOutMode==="Move"&&this.removeTooltip(t.tooltip.fadeOutDuration)):!this.findData(i,this.previousPoints[0])&&t.tooltip.fadeOutMode==="Click"&&this.removeTooltip(0)},e.prototype.mouseLeaveHandler=function(){this.removeTooltip(this.chart.tooltip.fadeOutDuration)},e.prototype.mouseMoveHandler=function(){var t=this.chart;t.stockChart&&t.stockChart.onPanning&&(t.mouseY<t.chartAxisLayoutPanel.seriesClipRect.y?t.mouseY=t.chartAxisLayoutPanel.seriesClipRect.y:t.mouseY>t.chartAxisLayoutPanel.seriesClipRect.y+t.chartAxisLayoutPanel.seriesClipRect.height&&(t.mouseY=t.chartAxisLayoutPanel.seriesClipRect.y+t.chartAxisLayoutPanel.seriesClipRect.height)),!t.disableTrackTooltip&&!this.isSelected(t)&&(!t.tooltip.shared&&(!t.isTouch||t.startMove)&&this.tooltip(),Ut(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?t.tooltip.shared&&(!t.isTouch||t.startMove)&&this.tooltip():t.tooltip.shared&&t.tooltip.fadeOutMode==="Move"&&this.removeTooltip(this.chart.tooltip.fadeOutDuration))},e.prototype.longPress=function(){var t=this.chart;return t.crosshair.enable&&Ut(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)&&(this.tooltip(),t.markerRender.markerMove(!1)),!1},e.prototype.tooltip=function(){var t=this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg",i=this.getElement(t),r=this.chart.stockChart&&i&&i.firstChild.childNodes.length>1,o=i&&parseInt(i.getAttribute("opacity"),10)>0&&!r,h=this.getTooltipElement(o);this.chart.enableCanvas&&h&&(document.getElementById(this.chart.element.id+"_Secondary_Element").appendChild(h),h.appendChild(document.getElementById(this.chart.element.id+"_tooltip_svg"))),this.chart.tooltip.shared?this.renderGroupedTooltip(this.chart,!o,h):this.renderSeriesTooltip(this.chart,!o,h)},e.prototype.findHeader=function(t){return this.header===""?"":(this.header=this.parseTemplate(t.point,t.series,this.header,t.series.xAxis,t.series.yAxis),this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()!==""?this.header:"")},e.prototype.findShapes=function(){if(!this.chart.tooltip.enableMarker)return[];for(var t=[],i=0,r=this.currentPoints;i<r.length;i++){var o=r[i];t.push(o.point.marker.shape||o.series.marker.shape||"Circle")}return t},e.prototype.renderSeriesTooltip=function(t,i,r){var o=this.getData();if(o.lierIndex=this.lierIndex,this.currentPoints=[],this.findData(o,this.previousPoints[0])){if(!(t.dataEditingModule&&t.dataEditingModule.isPointDragging)&&this.previousPoints[0]&&o.point.index===this.previousPoints[0].point.index&&o.series.index===this.previousPoints[0].series.index)return null;this.pushData(o,i,r,!0)&&this.triggerTooltipRender(o,i,this.getTooltipText(o),this.findHeader(o))}else if(!o.point&&this.isRemove&&t.tooltip.fadeOutMode==="Move")this.removeTooltip(this.chart.tooltip.fadeOutDuration),this.isRemove=!1;else for(var h=this.mergeXvalues(this.chart.visibleSeries),u=0,g=t.visibleSeries;u<g.length;u++){var y=g[u];y.visible&&y.category!=="TrendLine"&&(o=this.getClosestX(t,y,h)||o)}o&&o.point&&this.findMouseValue(o,t)},e.prototype.triggerTooltipRender=function(t,i,r,o){var h=this,u,g={cancel:!1,name:wa,text:r,headerText:o,template:u,series:this.chart.isBlazor?{}:t.series,textStyle:this.textStyle,point:t.point,data:{pointX:t.point.x,pointY:t.point.y,seriesIndex:t.series.index,seriesName:t.series.name,pointIndex:t.point.index,pointText:t.point.text}},y=this.chart.border.width,x=3,S=this.chart.tooltip,T=function(M){if(M.cancel)h.removeHighlight(),Vt(h.getElement(h.element.id+"_tooltip"));else{t.series.type==="BoxAndWhisker"&&(h.removeText(),i=!0),h.headerText=M.headerText,h.formattedText=h.formattedText.concat(M.text),h.text=h.formattedText;var R=h.getSymbolLocation(t);R=R||new $e(null,null),R.x=S.location.x!==null?S.location.x:R.x,R.y=S.location.y!==null?S.location.y:R.y,R=R.x===null&&R.y===null?null:R,h.createTooltip(h.chart,i,R,t.series.clipRect,t.point,h.findShapes(),h.findMarkerHeight(h.currentPoints[0]),new Ue(y,y,h.chart.availableSize.width-x-y*2,h.chart.availableSize.height-x-y*2),h.chart.crosshair.enable,null,h.getTemplateText(t),h.template?M.template:"")}h.isRemove=!0};T.bind(this,t),this.chart.trigger(wa,g,T)},e.prototype.findMarkerHeight=function(t){var i=0,r=t.series;return i=(r.marker.visible||this.chart.tooltip.shared&&(!r.isRectSeries||r.marker.visible)||r.type==="Scatter"||r.drawType==="Scatter")&&!(r.type==="Candle"||r.type==="Hilo"||r.type==="HiloOpenClose")?(r.marker.height+2)/2+2*r.marker.border.width:0,i},e.prototype.findData=function(t,i){return t.point&&(!i||i.point!==t.point||i&&i.lierIndex>3&&i.lierIndex!==this.lierIndex||i.point===t.point)},e.prototype.getSymbolLocation=function(t){var i;if(t.series.type!=="BoxAndWhisker"){if(!t.point.symbolLocations[0])return null;i=new $e(t.point.symbolLocations[0].x,t.point.symbolLocations[0].y)}switch(t.series.type){case"BoxAndWhisker":return this.getBoxLocation(t);case"Waterfall":return this.getWaterfallRegion(t,i);case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"RangeColumn":return this.getRangeArea(t,i);default:return i}},e.prototype.getRangeArea=function(t,i){return t.point.regions[0]&&(this.inverted?i.x=t.point.regions[0].x+t.point.regions[0].width/2:i.y=t.point.regions[0].y+t.point.regions[0].height/2,t.series.type==="RangeStepArea"&&(i.y=t.point.regions[0].y+t.point.regions[0].height/2+t.point.regions[0].width)),i},e.prototype.getWaterfallRegion=function(t,i){return this.inverted?i.x=t.point.y<0?i.x+(this.chart.enableRtl?-t.point.regions[0].width:t.point.regions[0].width):i.x:i.y=t.point.y<0?i.y-t.point.regions[0].height:i.y,i},e.prototype.getTooltipText=function(t){var i=t.series;return this.parseTemplate(t.point,i,this.getFormat(this.chart,i),i.xAxis,i.yAxis)},e.prototype.getTemplateText=function(t){if(this.template=this.chart.enableHtmlSanitizer?this.chart.sanitize(this.template):this.template,this.template&&this.chart.tooltip.shared){for(var i=[],r=0;r<t.length;r++)i[r]=Tt({},t[r].point),i[r].x=this.formatPointValue(t[r].point,t[r].series.xAxis,"x",!0,!1),t[r].series.seriesType==="XY"?i[r].y=this.formatPointValue(t[r].point,t[r].series.yAxis,"y",!1,!0):(i[r].low=this.formatPointValue(t[r].point,t[r].series.yAxis,"low",!1,!0),i[r].high=this.formatPointValue(t[r].point,t[r].series.yAxis,"high",!1,!0));return i}else if(this.template){var i=Tt({},t.point);return i.x=this.formatPointValue(t.point,t.series.xAxis,"x",!0,!1),t.series.seriesType==="XY"?i.y=this.formatPointValue(t.point,t.series.yAxis,"y",!1,!0):(i.low=this.formatPointValue(t.point,t.series.yAxis,"low",!1,!0),i.high=this.formatPointValue(t.point,t.series.yAxis,"high",!1,!0)),i}else return t.point},e.prototype.findMouseValue=function(t,i){i.requireInvertedAxis?(this.valueY=(1-di(t.point.xValue,t.series.xAxis))*t.series.xAxis.rect.height+t.series.xAxis.rect.y,this.valueX=i.mouseX):(i.chartAreaType==="PolarRadar"?this.valueX=bc(t.point.xValue,t.series.xAxis)*t.series.xAxis.rect.width+t.series.xAxis.rect.x:this.valueX=t.series.category==="TrendLine"&&i.tooltip.shared?this.valueX:di(t.point.xValue,t.series.xAxis)*t.series.xAxis.rect.width+t.series.xAxis.rect.x,this.valueY=i.mouseY)},e.prototype.renderGroupedTooltip=function(t,i,r){var o,h=[],u,g=t.chartAreaType==="PolarRadar"?this.getData():null;this.stopAnimation(),this.removeHighlight(),this.currentPoints=[];var y=[],x=Number.MAX_VALUE,S=Number.MAX_VALUE,T,M,R;i&&(t.stockChart?r&&!_o(r.id)&&document.getElementById(t.stockChart.element.id+"_Secondary_Element").appendChild(r):r&&document.getElementById(this.element.id+"_Secondary_Element").appendChild(r)),this.removeText();for(var I={text:[],cancel:!1,name:Ks,data:[],point:[],series:[],headerText:"",textStyle:this.textStyle,template:[]},j=0,W=0,N=t.visibleSeries;W<N.length;W++){var G=N[W];!G.enableTooltip||!G.visible||(t.chartAreaType==="Cartesian"&&G.visible?o=this.getClosestX(t,G,this.commonXValue(this.chart.visibleSeries)):t.chartAreaType==="PolarRadar"&&G.visible&&g.point!==null&&(o=new Oo(G.points[g.point.index],G)),t.tooltip.showNearestPoint&&!o&&(o=this.getClosestX(t,G,this.commonXValue([G]))),o&&(I.data.push({pointX:o.point.x,pointY:o.point.y,seriesIndex:o.series.index,seriesName:o.series.name,pointIndex:o.point.index,pointText:o.point.text}),I.series[j]=o.series,I.point[j]=o.point,I.headerText=this.findHeader(o),this.currentPoints.push(o),this.template!=null&&I.template.push(t.enableHtmlSanitizer?t.sanitize(this.template.toString()):this.template.toString()),I.text.push(this.getTooltipText(o)),T=t.requireInvertedAxis?t.mouseY-o.series.clipRect.y:t.mouseX-o.series.clipRect.x,M=t.mouseY-o.series.clipRect.y,o.point.symbolLocations&&o.point.symbolLocations.length&&Math.abs(T-o.point.symbolLocations[0].x)<=x&&Math.abs(o.point.symbolLocations[0].y-M)<Math.abs(S-M)&&(x=Math.abs(T-o.point.symbolLocations[0].x),S=o.point.symbolLocations[0].y,R=o),u=o.series.category==="TrendLine"&&t.tooltip.shared?u:R||o,h.push(o)),j++)}if(!t.tooltip.showNearestPoint){var K=[];this.currentPoints=[],I.point=[],I.series=[],I.data=[],I.text=[];for(var _=0,Q=h;_<Q.length;_++){var ie=Q[_];(ie.point.symbolLocations[0].x===u.point.symbolLocations[0].x||(ie.series.type.indexOf("Column")!==-1||u.series.type.indexOf("Column")!==-1)&&ie.point.xValue===u.point.xValue)&&(I.point.push(ie.point),I.series.push(ie.series),I.text.push(this.getTooltipText(ie)),I.headerText=this.findHeader(ie),K.push(ie),I.data.push({pointX:ie.point.x,pointY:ie.point.y,seriesIndex:ie.series.index,seriesName:ie.series.name,pointIndex:ie.point.index,pointText:ie.point.text}))}h=K,this.currentPoints=K}h.length>0&&this.currentPoints.length>0?this.triggerSharedTooltip(I,u,y,t,i,h):this.getElement(this.element.id+"_tooltip_path")&&this.getElement(this.element.id+"_tooltip_path").setAttribute("d","")},e.prototype.triggerSharedTooltip=function(t,i,r,o,h,u){var g=this,y=t.template,x={cancel:!1,name:Ks,text:t.text,headerText:t.headerText,textStyle:t.textStyle,template:y,point:t.point,series:t.series,data:t.data},S=this.chart.border.width,T=3,M,R,I=[];o.stockChart&&(M=o.stockChart.enablePeriodSelector?o.stockChart.toolbarHeight:0,R=_t(this.chart.stockChart.title,this.chart.stockChart.titleStyle,this.chart.themeStyle.tooltipLabelFont).height+10);var j=function(W){if(W.cancel)Et(g.element.id+"_tooltip"),r.push(i);else{i.series.type==="BoxAndWhisker"&&(g.removeText(),h=!0);for(var N=0;N<W.text.length;N++)W.text[N]&&I.push(g.currentPoints[N]);g.currentPoints=I,g.formattedText=g.formattedText.concat(W.text),g.text=W.text,g.headerText=W.headerText,typeof W.template!="object"?(W.template=W.template.split(","),W.template.length>I.length&&(W.template=W.template.splice(W.template.length-1))):W.template.length>I.length&&W.template.splice(W.template.length-1);var G=g.chart.tooltip;g.findMouseValue(i,g.chart);var K=g.findSharedLocation();K=K||new $e(null,null),K.x=G.location.x!==null?G.location.x:K.x,K.y=G.location.y!==null?G.location.y:K.y,K=K.x===null&&K.y===null?null:K,g.createTooltip(o,h,K,g.currentPoints.length===1?g.currentPoints[0].series.clipRect:null,u.length===1?u[0].point:null,g.findShapes(),g.findMarkerHeight(g.currentPoints[0]),new Ue(S,o.stockChart?M+R+S:S,g.chart.availableSize.width-T-S*2,g.chart.availableSize.height-T-S*2),g.chart.crosshair.enable,r,g.template?g.getTemplateText(u):null,g.template?W.template.join(""):""),i=null}};j.bind(this,i,r),this.chart.trigger(Ks,x,j)},e.prototype.findSharedLocation=function(){var t=this.chart.stockChart;if(t){this.text.length===1&&this.text.push("");var i=t.enablePeriodSelector?t.toolbarHeight:0,r=document.getElementById(t.element.id+"_ChartTitle"),o=t.title!==""?r.getBoundingClientRect().height+10:0;return t.tooltip.position==="Nearest"?new $e(this.valueX,this.valueY+i+o):new $e(this.chart.chartAxisLayoutPanel.seriesClipRect.x+5,this.chart.chartAxisLayoutPanel.seriesClipRect.y+i+5+o)}else return this.currentPoints.length>1?new $e(this.valueX,this.valueY):this.getSymbolLocation(this.currentPoints[0])},e.prototype.getBoxLocation=function(t){var i=this.lierIndex>3?t.point.outliers.length>0?t.point.symbolLocations[this.lierIndex-4]:null:{x:t.point.regions[0].x+t.point.regions[0].width/2,y:t.point.regions[0].y+t.point.regions[0].height/2};return i},e.prototype.parseTemplate=function(t,i,r,o,h){for(var u,g,y=RegExp,x=0,S=Object.keys(t);x<S.length;x++){var T=S[x];u=new y("${point."+T+"}","gm"),r=r.replace(u.source,this.formatPointValue(t,u.source==="${point.x}"?o:h,T,u.source==="${point.x}",u.source==="${point.high}"||u.source==="${point.open}"||u.source==="${point.close}"||u.source==="${point.low}"||u.source==="${point.y}"||u.source==="${point.minimum}"||u.source==="${point.maximum}"||u.source==="${point.outliers}"||u.source==="${point.upperQuartile}"||u.source==="${point.lowerQuartile}"||u.source==="${point.median}"))}for(var M=0,R=Object.keys(Object.getPrototypeOf(i));M<R.length;M++){var T=R[M];u=new y("${series."+T+"}","gm"),g=i[T],r=r.replace(u.source,g)}return r},e.prototype.formatPointValue=function(t,i,r,o,h){var u,g,y;if(i.valueType!=="Category"&&o){g=i.labelFormat&&i.labelFormat.match("{value}")!==null;var x=i.valueType==="Double"?+t[r]:t[r];u=g?i.labelFormat.replace("{value}",i.format(x)):i.format(x)}else if(h&&!we(t[r]))g=i.labelFormat&&i.labelFormat.match("{value}")!==null,y=r==="outliers"?i.format(t[r][this.lierIndex-4]):i.format(+t[r]),u=g?i.labelFormat.replace("{value}",y):y;else if(r==="size"){var S=this.chart.intl.getNumberFormat({format:"",useGrouping:this.chart.useGroupingSeparator});u=typeof t[r]=="number"?S(t[r]):t[r]}else u=t[r];return u},e.prototype.getFormat=function(t,i){if(i.tooltipFormat)return i.seriesType==="XY"&&i.category==="Indicator"?this.getIndicatorTooltipFormat(i,t,t.tooltip.format):i.tooltipFormat;if(!i.tooltipFormat&&t.tooltip.format)return i.seriesType==="XY"&&i.category==="Indicator"?this.getIndicatorTooltipFormat(i,t,t.tooltip.format):t.tooltip.format;var r=i.type==="Histogram"?"${point.minimum}-${point.maximum}":"${point.x}",o=t.tooltip.shared?"${series.name}":r;switch(i.seriesType){case"XY":return i.category==="Indicator"&&this.getIndicatorTooltipFormat(i,t,t.tooltip.format),o+" : "+(i.type==="Bubble"?"<b>${point.y}</b>  Size : <b>${point.size}</b>":"<b>${point.y}</b>");case"HighLow":return o+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>";case"HighLowOpenClose":return o+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>";case"BoxPlot":return o+"<br/>"+(this.lierIndex>3?"Outliers : <b>${point.outliers}</b>":"Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>")}},e.prototype.getIndicatorTooltipFormat=function(t,i,r){var o;return t.seriesType==="XY"?o=t.name+" : <b>${point.y}</b>":o=r,o},e.prototype.removeHighlightedMarker=function(t,i){for(var r=0,o=t;r<o.length;r++){var h=o[r];Et(this.element.id+"_Series_"+h.series.index+"_Point_"+h.point.index+"_Trackball"),this.chart.markerRender&&this.chart.markerRender.removeHighlightedMarker(h.series,h.point,i)}this.previousPoints=[]},e.prototype.getModuleName=function(){return"Tooltip"},e.prototype.destroy=function(){},e}(xc),al=function(){function n(e){this.errorHeight=0,this.chart=e}return n.prototype.initPrivateVariables=function(e,t){var i="",r="",o=e.chart.renderer,h=e.index===void 0?e.category:e.index;e.chart.chartAreaType==="Cartesian"&&(i="translate("+e.clipRect.x+","+e.clipRect.y+")",r="url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+h+")"),t.dataLabel.visible&&!this.chart.enableCanvas&&(e.shapeElement=o.createGroup({id:this.chart.element.id+"ShapeGroup"+h,transform:i,"clip-path":"url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+h+")"}),e.textElement=o.createGroup({id:this.chart.element.id+"TextGroup"+h,transform:i,"clip-path":r}),e.textElement.setAttribute("aria-hidden","true")),this.markerHeight=e.type==="Scatter"||t.visible?t.height/2:0,this.commonId=this.chart.element.id+"_Series_"+h+"_Point_",this.calculateErrorHeight(e,e.marker.dataLabel.position),this.chartBackground=this.chart.chartArea.background==="transparent"?this.chart.background||this.chart.themeStyle.background:this.chart.chartArea.background},n.prototype.calculateErrorHeight=function(e,t){if(e.errorBar.visible)if(e.errorBar.visible&&this.chart.chartAreaType!=="PolarRadar"){var i=e.errorBar.direction,r=this.chart.errorBarModule.positiveHeight,o=this.chart.errorBarModule.negativeHeight;this.isRectSeries(e)?((t==="Top"||t==="Auto")&&(i==="Both"||i==="Minus"?this.errorHeight=o:this.errorHeight=0),(t==="Outer"||t==="Auto")&&(i==="Both"||i==="Plus"?this.errorHeight=r:this.errorHeight=0)):((t==="Top"||t==="Outer"||t==="Auto")&&((i==="Both"||i==="Plus")&&!e.chart.isTransposed?this.errorHeight=r:this.errorHeight=0),(t==="Bottom"||t==="Auto")&&(i==="Both"||i==="Minus"?this.errorHeight=o:this.errorHeight=0))}else this.errorHeight=0;else return null},n.prototype.isRectSeries=function(e){return e.isRectSeries||e.type==="RangeArea"||e.type==="SplineRangeArea"||e.type==="RangeStepArea"},n.prototype.render=function(e,t,i){this.initPrivateVariables(e,e.marker),this.inverted=t.requireInvertedAxis,this.yAxisInversed=e.yAxis.isAxisInverse;var r=t.element.id+"_Series_"+(e.index===void 0?e.category:e.index)+"_DataLabelCollections",o=Sr("div",{id:r}),h=vr(e);if(e.visible)for(var u=0;u<h.length;u++)this.renderDataLabel(e,h[u],o,i);o.childElementCount&&(t.enableCanvas?Ce(t.element.id+"_Secondary_Element").appendChild(o):Fe(t.enableCanvas,Ce(t.element.id+"_Secondary_Element"),o,t.redraw,!1,"x","y",null,"",!1,!1,null,t.duration))},n.prototype.renderDataLabel=function(e,t,i,r){if(!r.showZero&&(t.y===0||t.y===0&&e.emptyPointSettings.mode==="Zero"))return null;this.margin=r.margin;var o=[],h,u,g,y,x,S,T=!0,M,R,I={x:0,y:0},j,W=e.clipRect,N,G=!1,K=[];r.angle=r.labelIntersectAction==="Rotate90"?90:r.angle,r.enableRotation=r.labelIntersectAction==="Rotate90"?!0:r.enableRotation;var _=S=r.angle,Q={width:r.border.width,color:r.border.color},ie=Tt({},es("properties",r.font),null,!0);if(t.symbolLocations.length&&t.symbolLocations[0]||e.type==="BoxAndWhisker"&&t.regions.length){o=t.text!==null?wc(t,e,this.chart):[],h=o.length;for(var re=0;re<h;re++){var fe={cancel:!1,name:Sa,series:e,point:t,text:o[re],border:Q,color:r.fill,template:r.template,font:ie,location:I,textSize:_t(o[re],r.font,this.chart.themeStyle.datalabelFont)};if(this.chart.trigger(Sa,fe),!fe.cancel)if(this.fontBackground=fe.color,this.isDataLabelShape(fe),this.markerHeight=e.type==="Bubble"?t.regions[0].height/2:this.markerHeight,fe.template!==null)this.createDataLabelTemplate(i,e,r,t,fe,re,this.chart.redraw);else{r.enableRotation?j=To(r.font,fe.text,r.angle,this.chart,this.chart.themeStyle.datalabelFont):j=_t(fe.text,r.font,this.chart.themeStyle.datalabelFont);var ne=this.calculateTextPosition(t,e,j,r,re);if(this.chart.chartAreaType==="PolarRadar")for(var ve=0,ye=this.chart.chartAxisLayoutPanel.visibleAxisLabelRect;ve<ye.length;ve++){var le=ye[ve];if(Sc(new Ue(ne.x,ne.y,ne.width,ne.height),le)){T=!1;break}}var pe=new Ue(ne.x+W.x,ne.y+W.y,ne.width,ne.height);if(r.enableRotation){var Te=this.getRectanglePoints(ne);if(M=ne.x+ne.width/2,R=ne.y+ne.height/2,G=r.labelIntersectAction==="Rotate90"||_===-90?!1:this.isDataLabelOverlapWithChartBound(Te,this.chart,W),!G){this.chart.rotatedDataLabelCollections.push(Te);for(var Ie=this.chart.rotatedDataLabelCollections.length-1,et=Ie;et>=0;et--)if(this.chart.rotatedDataLabelCollections[Ie]&&this.chart.rotatedDataLabelCollections[et-1]&&Lo(this.chart.rotatedDataLabelCollections[Ie],this.chart.rotatedDataLabelCollections[et-1])){G=!0,this.chart.rotatedDataLabelCollections[Ie]=null;break}}}else G=Rr(ne,this.chart.dataLabelCollections,W);if((!G||r.labelIntersectAction==="None")&&T){this.chart.dataLabelCollections.push(pe),this.isShape&&(N=this.chart.renderer.drawRectangle(new ir(this.commonId+t.index+"_TextShape_"+re,fe.color,fe.border,r.opacity,ne,r.rx,r.ry,"",r.border.dashArray),new Int32Array([W.x,W.y])),e.shapeElement&&e.shapeElement.appendChild(N));var nt=this.fontBackground==="transparent"?this.chart.theme.indexOf("Dark")>-1||this.chart.theme.indexOf("HighContrast")>-1?"black":"white":this.fontBackground,Me=fn(Zr(nt)),qe=Math.round((Me.r*299+Me.g*587+Me.b*114)/1e3);u=ne.x+this.margin.left+j.width/2+I.x,g=r.enableRotation&&this.chart.chartAreaType!=="PolarRadar"?ne.y+this.margin.top+j.height/2+j.width/4+(r.position==="Auto"?t.regions[0].width/10:0)+I.y:ne.y+this.margin.top+j.height*3/4+I.y,I={x:0,y:0},_!==0&&r.enableRotation?(y=M,x=R,S=_>360?_-360:_<-360?_+360:_):(S=0,y=ne.x,x=ne.y,u-=this.chart.chartAreaType==="Cartesian"&&u+j.width/2>W.width?!this.chart.requireInvertedAxis&&u>W.width?0:u+j.width/2-W.width:0,g-=g+j.height>W.y+W.height&&!(e.type.indexOf("Bar")>-1)?g+j.height-(W.y+W.height):0);var Ve=r.labelIntersectAction==="Rotate90"?r.position==="Top"?"start":r.position==="Middle"?"middle":"end":_===-90&&r.enableRotation?r.position==="Top"?"end":r.position==="Middle"?"middle":"start":"middle",Se=void 0;this.chart.redraw&&document.getElementById(this.commonId+t.index+"_Text_"+re)&&(Se=document.getElementById(this.commonId+t.index+"_Text_"+re).textContent),K.push(ki(this.chart.renderer,new Qi(this.commonId+(e.removedPointIndex!==null&&e.removedPointIndex<=t.index?t.index+1:t.index)+"_Text_"+re,u,g,Ve,fe.text,"rotate("+S+","+y+","+x+")","auto",S),fe.font,fe.font.color||(this.chart.theme==="Bootstrap5"?"#212529":this.chart.theme==="Bootstrap5Dark"?"#DEE2E6":qe>=128||e.type==="Hilo"||e.type==="HiloOpenClose"?"black":"white"),e.textElement,!1,this.chart.redraw,!0,!1,e.chart.duration,e.clipRect,null,null,this.chart.enableCanvas,null,this.chart.themeStyle.datalabelFont,new $e(y,x))),e.removedPointIndex!==null&&e.removedPointIndex<=t.index&&(e.textElement.lastChild.id=this.commonId+t.index+"_Text_"+re),this.chart.redraw&&Se!==fe.text&&Cc(e.textElement.querySelector("#"+this.commonId+t.index+"_Text_"+re),this.chart.duration,parseFloat(Se),parseFloat(fe.text),e.marker.dataLabel.format||e.yAxis.labelFormat)}else Ce(this.commonId+t.index+"_Text_0")&&e.chart.redraw&&e.currentData&&Ce(this.commonId+t.index+"_Text_0").remove()}}}return K},n.prototype.getRectanglePoints=function(e){var t=new $e(e.x,e.y),i=new $e(e.x+e.width,e.y),r=new $e(e.x+e.width,e.y+e.height),o=new $e(e.x,e.y+e.height);return[t,i,r,o]},n.prototype.isDataLabelOverlapWithChartBound=function(e,t,i){for(var r=0;r<e.length;r++)if(!Ut(e[r].x+i.x,e[r].y+i.y,t.initialClipRect))return!0;return!1},n.prototype.createDataLabelTemplate=function(e,t,i,r,o,h,u){this.margin={left:0,right:0,bottom:0,top:0};var g=t.clipRect,y=Ac(Sr("div",{id:this.chart.element.id+"_Series_"+(t.index===void 0?t.category:t.index)+"_DataLabel_"+r.index+(h?"_"+h:""),styles:"position: absolute;background-color:"+o.color+";"+kc(i.font,this.chart.themeStyle.datalabelFont)+";border:"+o.border.width+"px solid "+o.border.color+";"}),r.index,this.chart.enableHtmlSanitizer?this.chart.sanitize(o.template):o.template,this.chart,r,t,this.chart.element.id+"_DataLabel",h);this.calculateTemplateLabelSize(e,y,r,t,i,h,g,u)},n.prototype.calculateTemplateLabelSize=function(e,t,i,r,o,h,u,g,y){var x=Tc(t,g,y),S=this.calculateTextPosition(i,r,{width:x.width,height:x.height},o,h),T=0,M=0,R=!1;y&&(R=x.width===0||x.height===0),t.style.left=(this.chart.chartAreaType==="PolarRadar"?0:r.clipRect.x)+S.x-T+"px",t.style.top=(this.chart.chartAreaType==="PolarRadar"?0:r.clipRect.y)+S.y+M+"px";var I=this.fontBackground==="transparent"?this.chart.theme.indexOf("Dark")>-1?"black":"white":this.fontBackground,j=fn(Zr(I)),W=r.chart.requireInvertedAxis?r.xAxis:r.yAxis,N=r.chart.requireInvertedAxis?r.yAxis:r.xAxis;t.style.color=o.font.color||(this.chart.theme==="Bootstrap5"?"#212529":this.chart.theme==="Bootstrap5Dark"?"#DEE2E6":Math.round((j.r*299+j.g*587+j.b*114)/1e3)>=128?"black":"white"),t.childElementCount&&!R&&(!Rr(S,this.chart.dataLabelCollections,u)||o.labelIntersectAction==="None")&&(r.seriesType!=="XY"||i.yValue===void 0||jr(i.yValue,r.yAxis.visibleRange)||r.type.indexOf("Stacking")>-1||r.type.indexOf("100")>-1&&jr(r.stackedValues.endValues[i.index],r.yAxis.visibleRange))&&jr(i.xValue,r.xAxis.visibleRange)&&parseFloat(t.style.top)>=W.rect.y&&parseFloat(t.style.left)>=N.rect.x&&parseFloat(t.style.top)<=W.rect.y+W.rect.height&&parseFloat(t.style.left)<=N.rect.x+N.rect.width&&(this.chart.dataLabelCollections.push(new Ue(S.x+u.x,S.y+u.y,S.width,S.height)),Fe(this.chart.enableCanvas,e,t,g,!0,"left","top"),r.animation.enable&&this.chart.animateSeries&&!this.chart.enableCanvas?this.doDataLabelAnimation(r,t):this.chart.enableCanvas&&e.appendChild(t))},n.prototype.calculateTextPosition=function(e,t,i,r,o){var h=o>1&&t.type==="Candle"?e.regions[1]:e.regions[0];o>1&&t.type==="HiloOpenClose"&&(h=o===2?e.regions[1]:e.regions[2]);var u;u=this.getLabelLocation(e,t,i,o);var g=5,y=t.clipRect;if(!this.chart.requireInvertedAxis||!this.isRectSeries(t)||t.type==="BoxAndWhisker"){this.locationX=u.x;var x=i.height+this.borderWidth*2+this.markerHeight+this.margin.bottom+this.margin.top+g;u.x=r.position==="Auto"?u.x:this.calculateAlignment(x,u.x,r.alignment,this.isRectSeries(t)?e.yValue<0:!1),u.y=!this.isRectSeries(t)||t.type==="BoxAndWhisker"?this.calculatePathPosition(u.y,r.position,t,e,i,o):this.calculateRectPosition(u.y,h,e.yValue<0!==this.yAxisInversed,r.position,t,i,o,e),this.isRectSeries(t)&&this.chart.chartAreaType==="PolarRadar"&&(u=this.calculatePolarRectPosition(u,r.position,t,e,i,o,r.alignment,x))}else{this.locationY=u.y;var x=i.width+this.borderWidth+this.margin.left+this.margin.right-g;u.x=r.position==="Auto"?u.x:this.calculateAlignment(x,u.x,r.alignment,e.yValue<0),u.x=this.calculateRectPosition(u.x,h,e.yValue<0!==this.yAxisInversed,r.position,t,i,o,e)}var S=us(u,i,this.margin);!(r.enableRotation===!0&&r.angle!==0)&&!(S.y>y.y+y.height||S.x>y.x+y.width||S.x+S.width<0||S.y+S.height<0)&&(S.x=S.x<0?g:S.x,S.y=S.y<0&&r.labelIntersectAction!=="None"?g:S.y,S.x-=S.x+S.width>y.x+y.width?S.x+S.width-(y.x+y.width)+g:0,S.y-=S.y+S.height>y.y+y.height?S.y+S.height-(y.y+y.height)+g:0,this.fontBackground=this.fontBackground==="transparent"?this.chartBackground:this.fontBackground);var T;return this.inverted&&t.isRectSeries&&S.x+S.width>h.x+h.width&&(T=!0),this.fontBackground=T?this.chartBackground:this.fontBackground,S},n.prototype.calculatePolarRectPosition=function(e,t,i,r,o,h,u,g){var y=5,x,S=this.chart.availableSize.width,T=u==="Center"?0:u==="Far"?1:-1,M=r.regionData.startAngle-.5*Math.PI+(r.regionData.endAngle-r.regionData.startAngle)/2;return h===0?x=r.regionData.radius<r.regionData.innerRadius?r.regionData.innerRadius:r.regionData.radius:x=r.regionData.radius>r.regionData.innerRadius?r.regionData.innerRadius:r.regionData.radius,this.fontBackground=this.fontBackground==="transparent"?this.chartBackground:this.fontBackground,i.drawType.indexOf("Stacking")>-1?t=t==="Outer"?"Top":t:i.drawType.indexOf("Range")>-1&&(t=t==="Outer"||t==="Top"?t:"Auto"),t==="Outer"?x=h===0?x+2*y+this.markerHeight:x-2*y-this.markerHeight:t==="Middle"?(x=x/2+y,i.drawType==="StackingColumn"&&(x=r.regionData.innerRadius+(r.regionData.radius-r.regionData.innerRadius)/2+y-o.height/2)):t==="Top"?x=h===0?x-2*y-this.markerHeight:x+2*y+this.markerHeight:t==="Bottom"?(x=2*y,x+=i.drawType==="StackingColumn"?r.regionData.innerRadius+this.markerHeight:0):h===0?x=x>=i.chart.radius?x-y:i.drawType==="StackingColumn"?x-2*y:x+2*y:x=x>=i.chart.radius?x+y:x-2*y,x+=g*T,e.x=i.clipRect.width/2+i.clipRect.x+x*Math.cos(M),i.drawType==="StackingColumn"?e.x=e.x<S/2?e.x+o.width/2:e.x>S/2?e.x-o.width/2:e.x:i.drawType==="Column"&&(e.x=e.x<S/2?e.x-o.width/2:e.x>S/2?e.x+o.width/2:e.x),e.y=i.clipRect.height/2+i.clipRect.y+x*Math.sin(M),e},n.prototype.getLabelLocation=function(e,t,i,r){var o=new $e(0,0),h=t.type==="Candle"&&r>1?e.regions[1]:e.regions[0];t.type==="HiloOpenClose"&&(h=r===2?e.regions[1]:e.regions[2]);var u=t.xAxis,g=t.yAxis,y=t.chart.requireInvertedAxis;if(t.type==="BoxAndWhisker"){switch(this.markerHeight=0,r){case 0:o=Li(e.xValue,e.median,u,g,y);break;case 1:o=Li(e.xValue,e.maximum,u,g,y);break;case 2:o=Li(e.xValue,e.minimum,u,g,y);break;case 3:o=Li(e.xValue,e.upperQuartile,u,g,y);break;case 4:o=Li(e.xValue,e.lowerQuartile,u,g,y);break;default:{o=Li(e.xValue,e.outliers[r-5],u,g,y),this.markerHeight=t.marker.height/2;break}}y?o.y=e.regions[0].y+e.regions[0].height/2:o.x=e.regions[0].x+e.regions[0].width/2}else r===0||r===1?o=new $e(e.symbolLocations[0].x,e.symbolLocations[0].y):(r===2||r===3)&&t.type==="Candle"?o=new $e(e.symbolLocations[1].x,e.symbolLocations[1].y):y?o={x:h.x+h.width/2,y:h.y}:o={x:h.x+h.width,y:h.y+h.height/2};if(r>1&&t.type==="HiloOpenClose")if(t.chart.requireInvertedAxis){var x=h.height;o.y=h.y+x/2+2*(r===2?1:-1)}else{var S=h.width;o.x=h.x+S/2+2*(r===2?1:-1)}return o},n.prototype.calculateRectPosition=function(e,t,i,r,o,h,u,g){if(o.chart.chartAreaType==="PolarRadar")return null;var y=5,x=this.margin,S=o.marker.dataLabel.enableRotation||this.inverted?h.width:h.height;switch(this.extraSpace=this.borderWidth+S/2+(r!=="Outer"&&o.type.indexOf("Column")>-1&&Math.abs(t.height-h.height)<y?0:y),o.type==="StackingColumn100"||o.type==="StackingBar100"?r=r==="Outer"?"Top":r:o.type.indexOf("Range")>-1?r=r==="Outer"||r==="Top"?r:"Auto":o.type==="Waterfall"&&(r=r==="Auto"?"Middle":r),r){case"Bottom":e=this.inverted?i?e+(o.type==="Waterfall"?+this.extraSpace+x.left+this.markerHeight:+t.width-this.extraSpace-x.left):e-t.width+this.extraSpace+x.right:i?e+(o.type==="Waterfall"?-this.extraSpace-x.top-this.markerHeight:-t.height+this.extraSpace+x.top):e+t.height-this.extraSpace-x.bottom;break;case"Middle":e=e=this.inverted?i?e+t.width/2:e-t.width/2:i?e-t.height/2:e+t.height/2;break;case"Auto":e=this.calculateRectActualPosition(e,t,i,o,h,u,g);break;default:this.extraSpace+=this.errorHeight,e=this.calculateTopAndOuterPosition(e,t,r,o,u,this.extraSpace,i,g);break}var T=this.inverted?e<t.x||e>t.x+t.width:e<t.y||e>t.y+t.height;this.fontBackground=T?this.fontBackground==="transparent"?this.chartBackground:this.fontBackground:this.fontBackground==="transparent"?g.color||o.interior:this.fontBackground;var M=o.chart.series.length;if(r==="Outer"&&o.type.indexOf("Stacking")>-1&&M-1>o.index){for(var R=void 0,I=void 0,j=o.index+1;j<M;j++)if(R=o.chart.series[j],I=R.points[g.index],R.type.indexOf("Stacking")>-1&&R.type.indexOf("100")===-1){this.fontBackground=I&&(I.yValue<0&&g.yValue<0||I.yValue>0&&g.yValue>0)?I?I.color:R.interior:this.fontBackground;break}}return e},n.prototype.calculatePathPosition=function(e,t,i,r,o,h){var u=5;switch(i.type.indexOf("Area")>-1&&i.type!=="RangeArea"&&i.type!=="SplineRangeArea"&&i.type!=="RangeStepArea"&&this.yAxisInversed&&i.marker.dataLabel.position!=="Auto"&&(t=t==="Top"?"Bottom":t==="Bottom"?"Top":t),this.fontBackground=this.fontBackground==="transparent"?this.chartBackground:this.fontBackground,t){case"Top":case"Outer":e=e-this.markerHeight-this.borderWidth-o.height/2-this.margin.bottom-u-this.errorHeight;break;case"Bottom":e=e+this.markerHeight+this.borderWidth+o.height/2+this.margin.top+u+this.errorHeight;break;case"Auto":e=this.calculatePathActualPosition(e,this.markerHeight,i,r,o,h);break}return e},n.prototype.isDataLabelShape=function(e){this.isShape=e.color!=="transparent"||e.border.width>0,this.borderWidth=e.border.width,this.isShape||(this.margin={left:0,right:0,bottom:0,top:0})},n.prototype.calculateRectActualPosition=function(e,t,i,r,o,h,u){for(var g,y,x=!0,S=0,T=this.chart.dataLabelCollections,M=r.type.indexOf("Range")!==-1||r.type==="Hilo"?2:4;x&&S<M;){var R=this.getPosition(S);this.fontBackground=r.marker.dataLabel.fill,r.type.indexOf("Stacking")>-1&&R==="Outer"&&(R="Top",S++),g=this.calculateRectPosition(e,t,i,R,r,o,h,u),this.inverted?(y=us(new $e(g,this.locationY),o,this.margin),x=y.x<0||Rr(y,T,r.clipRect)||y.x+y.width>r.clipRect.width):(r.marker.dataLabel.enableRotation&&(o.width=o.width-u.regions[0].width/10),y=us(new $e(this.locationX,g),o,this.margin),x=y.y<0||Rr(y,T,r.clipRect)||y.y>r.clipRect.height,r.marker.dataLabel.template===null&&x!==!0&&(x=y.y/2+o.height+(R==="Outer"?u.regions[0].height+this.extraSpace:u.regions[0].height-2*this.extraSpace)>r.clipRect.height)),S++}return g},n.prototype.calculateAlignment=function(e,t,i,r){switch(i){case"Far":t=this.inverted?r?t-e:t+e:r?t+e:t-e;break;case"Near":t=this.inverted?r?t+e:t-e:r?t-e:t+e;break}return t},n.prototype.calculateTopAndOuterPosition=function(e,t,i,r,o,h,u,g){var y=this.margin,x;switch(r.type){case"RangeColumn":case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"Hilo":x=o===0&&!this.yAxisInversed||o===1&&this.yAxisInversed,e=this.updateLabelLocation(i,e,h,y,t,x);break;case"Candle":x=(o===0||o===2)&&!this.yAxisInversed||(o===1||o===3)&&this.yAxisInversed,e=this.updateLabelLocation(i,e,h,y,t,x,o>1);break;case"HiloOpenClose":o<=1?(x=o===0&&!this.yAxisInversed||o===1&&this.yAxisInversed,e=this.updateLabelLocation(i,e,h,y,t,x)):this.yAxisInversed?e=this.inverted?e-h-y.right:e+h+y.top:e=this.inverted?e+h+y.left:e-h-y.bottom;break;default:u&&i==="Top"||!u&&i==="Outer"||i==="Top"&&r.visiblePoints[g.index].yValue===0?e=this.inverted?e+(u&&r.type==="Waterfall"?+t.width-h-y.left:+h+y.left+this.markerHeight):e+(u&&r.type==="Waterfall"?-t.height+h+y.bottom:-h-y.bottom-this.markerHeight):e=this.inverted?e+(u&&r.type==="Waterfall"?+t.width+h+y.top:-h-y.right-this.markerHeight):e+(u&&r.type==="Waterfall"?-t.height-h-y.top:+h+y.top+this.markerHeight);break}return e},n.prototype.updateLabelLocation=function(e,t,i,r,o,h,u){return u===void 0&&(u=!1),this.inverted?h?t=e==="Outer"&&!u?t+i+r.left+this.markerHeight:t-i-r.right-this.markerHeight:t=e==="Outer"&&!u?t-o.width-i-r.right-this.markerHeight:t-o.width+i+r.left+this.markerHeight:h?t=e==="Outer"&&!u?t-i-r.bottom-this.markerHeight:t+i+r.top+this.markerHeight:t=e==="Outer"&&!u?t+o.height+i+r.top+this.markerHeight:t+o.height-i-r.bottom-this.markerHeight,t},n.prototype.calculatePathActualPosition=function(e,t,i,r,o,h){var u=i.points,g=r.index,y=u[g].yValue,x,S=u.length-1>g?u[g+1]:null,T=g>0?u[g-1]:null,M,R=!0,I,j,W,N=this.chart.dataLabelCollections;if(i.type==="Bubble")x="Top";else if(i.type.indexOf("Step")>-1)x="Top",g&&(x=!T||!T.visible||y>T.yValue!==this.yAxisInversed||y===T.yValue?"Top":"Bottom");else if(i.type==="BoxAndWhisker")h===1||h===3||h>4?x=i.yAxis.isAxisInverse?"Bottom":"Top":h===2||h===4?x=i.yAxis.isAxisInverse?"Top":"Bottom":(R=!1,x="Middle",M=this.calculatePathPosition(e,x,i,r,o,h));else if(g===0)x=!S||!S.visible||y>S.yValue||y<S.yValue&&this.yAxisInversed?"Top":"Bottom";else if(g===u.length-1)x=!T||!T.visible||y>T.yValue||y<T.yValue&&this.yAxisInversed?"Top":"Bottom";else if(!S.visible&&!(T&&T.visible))x="Top";else if(!S.visible||!T)x=S.yValue>y||T&&T.yValue>y?"Bottom":"Top";else{var G=(S.yValue-T.yValue)/2,K=G*g+(S.yValue-G*(g+1));x=this.yAxisInversed?K<y?"Bottom":"Top":K<y?"Top":"Bottom"}for(j=x==="Bottom",W=["Outer","Top","Bottom","Middle","Auto"].indexOf(x);R&&W<4;)M=this.calculatePathPosition(e,this.getPosition(W),i,r,o,h),I=us(new $e(this.locationX,M),o,this.margin),R=I.y<0||Rr(I,N,i.clipRect)||I.y+I.height>i.clipRect.height,W=j?W-1:W+1,j=!1;return M},n.prototype.doDataLabelAnimation=function(e,t){for(var i=e.shapeElement.childNodes,r=e.textElement.childNodes,o=e.animation.delay+e.animation.duration,h=e.chart.animated?e.chart.duration:200,u,g=t?1:r.length,y,x=0;x<g;x++)y=r[x],t?(t.style.visibility="hidden",Lc(t,o,h,"ZoomIn")):(u=new $e(+y.getAttribute("x")+ +y.getAttribute("width")/2,+y.getAttribute("y")+ +y.getAttribute("height")/2),Cs(y,o,h,e,null,u,!0),i[x]&&(y=i[x],u=new $e(+y.getAttribute("x")+ +y.getAttribute("width")/2,+y.getAttribute("y")+ +y.getAttribute("height")/2),Cs(y,o,h,e,null,u,!0)))},n.prototype.getPosition=function(e){return["Outer","Top","Bottom","Middle","Auto"][e]},n.prototype.getModuleName=function(){return"DataLabel"},n.prototype.destroy=function(){},n}(),cu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ol=function(n){cu(e,n);function e(t){var i=n.call(this,t)||this;return i.library=i,i.addEventListener(),i}return e.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(He.touchMoveEvent,this.mouseMove,this),this.chart.on("click",this.click,this),this.chart.on(He.touchEndEvent,this.mouseEnd,this))},e.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(He.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(He.touchEndEvent,this.mouseEnd))},e.prototype.mouseMove=function(t){if(this.chart.legendSettings.visible&&!this.chart.isTouch&&(this.move(t),this.chart.highlightModule&&(this.chart.highlightMode!=="None"||this.chart.legendSettings.enableHighlight)))for(var i=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_",this.legendID+"_g_"],r=t.target.id,o=void 0,h=0,u=i;h<u.length;h++){var g=u[h];if(r.indexOf(g)>-1){o=parseInt(r.split(g)[1],10),this.chart.highlightModule.legendSelection(this.chart,o,t.target,t.type);break}}},e.prototype.mouseEnd=function(t){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(t)},e.prototype.getLegendOptions=function(t,i){this.legendCollections=[];var r,o,h,u=[];this.isRtlEnable=i.enableRtl,this.isReverse=!this.isRtlEnable&&i.legendSettings.reverse,t.length>1&&(this.legend.mode="Series");for(var g=0,y=t;g<y.length;g++){var x=y[g];if(this.legend.mode==="Series")x.category!=="Indicator"&&(r=i.chartAreaType==="PolarRadar"?x.drawType:x.type,h=!x.marker.visible&&r.indexOf("Line")>-1&&r.indexOf("Area")===-1?x.dashArray:"",o=x.pointColorMapping&&x.points.length>0&&x.points[0].interior?x.points[0].interior:x.interior,this.legendCollections.push(new Br(x.name,o,x.legendShape,x.category==="TrendLine"?this.chart.series[x.sourceIndex].trendlines[x.index].visible:x.visible,r,x.legendImageUrl?x.legendImageUrl:x.type==="Scatter"&&x.marker.shape==="Image"?x.marker.imageUrl:"",x.marker.shape,x.marker.visible,null,null,h)));else if(this.legend.mode==="Point")for(var S=0,T=x.points;S<T.length;S++){var M=T[S];r=i.chartAreaType==="PolarRadar"?x.drawType:x.type,o=M.interior?M.interior:x.interior,this.legendCollections.push(new Br(M.x.toString(),o,x.legendShape,x.category==="TrendLine"?this.chart.series[x.sourceIndex].trendlines[x.index].visible:M.visible,r,x.type==="Scatter"&&x.marker.shape==="Image"?x.marker.imageUrl:"",x.marker.shape,x.marker.visible))}else if(this.legend.mode==="Range")for(var R=0,I=x.points;R<I.length;R++){var M=I[R];r=i.chartAreaType==="PolarRadar"?x.drawType:x.type,o=M.interior?M.interior:x.interior;var j="Others";if(u.indexOf(o)<0&&(u.push(o),i.rangeColorSettings.length>=1&&i.rangeColorSettings[0].colors.length===1)){for(var W=0,N=i.rangeColorSettings;W<N.length;W++){var G=N[W];G.colors[0]===o&&(j=G.label)}this.legendCollections.push(new Br(j,o,x.legendShape,x.category==="TrendLine"?this.chart.series[x.sourceIndex].trendlines[x.index].visible:M.visible,r,x.type==="Scatter"&&x.marker.shape==="Image"?x.marker.imageUrl:"",x.marker.shape,x.marker.visible))}}else if(this.legendCollections.length===0&&i.rangeColorSettings.length>0){var K=i.rangeColorSettings[0].start.toString(),_=i.rangeColorSettings[i.rangeColorSettings.length-1].end.toString();this.legendCollections.push(new Br(K,x.interior,"Rectangle",!0,r,"",x.marker.shape,x.marker.visible)),this.legendCollections.push(new Br(_,x.interior,"Rectangle",!0,r,"",x.marker.shape,x.marker.visible))}}this.isReverse&&i.legendSettings.mode!=="Gradient"&&this.legendCollections.reverse()},e.prototype.getLegendBounds=function(t,i,r){this.calculateLegendTitle(r,i),this.isTitle=!!r.title,this.chartRowCount=1,this.rowHeights=[],this.columnHeights=[],this.pageHeights=[];var o=r.padding,h=r.titlePosition,u=0,g,y=0,x=this.arrowWidth,S=this.arrowHeight,T=this.isVertical&&!r.enablePages?S:0,M=this.isTitle&&h==="Top"?this.legendTitleSize.height+this.fivePixel:0;M=this.isTitle&&this.isVertical&&h!=="Top"?this.legendTitleSize.height+this.fivePixel:M,this.isVertical?y=r.width?0:t.width/100*5:u=r.height?0:t.height/100*5,i.height+=u,i.width+=y;var R=r.shapeWidth,I=r.shapePadding,j=0,W=0,N=0,G=0,K=0,_=0,Q=0,ie,re=!1;this.maxItemHeight=Math.max(_t("MeasureText",r.textStyle,this.chart.themeStyle.legendLabelFont).height,r.shapeHeight);for(var fe=0;fe<this.legendCollections.length;fe++)if(g=this.legendCollections[fe],Ca.test(g.text)&&(g.text=Aa(g.text,Ca)),ka.test(g.text)&&(g.text=Aa(g.text,ka)),ie={fill:g.fill,text:g.text,shape:g.shape,markerShape:g.markerShape,name:Ta,cancel:!1},this.chart.trigger(Ta,ie),g.render=!ie.cancel,g.text=ie.text,g.fill=ie.fill,g.shape=ie.shape,g.markerShape=ie.markerShape,g.textSize=_t(g.text,r.textStyle,this.chart.themeStyle.legendLabelFont),R=g.text?r.shapeWidth:0,I=g.text?r.shapePadding:0,g.render&&g.text){re=!0,N=R+I+(r.maximumLabelWidth?r.maximumLabelWidth:g.textSize.width)+(this.isVertical||fe===0?o:this.itemPadding),W=W+N,!r.enablePages&&!this.isVertical&&(Q=this.isTitle&&h!=="Top"?this.legendTitleSize.width+this.fivePixel:0,Q+=x),this.getLegendHeight(g,r,i,W,this.maxItemHeight,o),(i.width<o+W+Q||this.isVertical)&&(j=Math.max(j,W+o+Q-(this.isVertical?0:N)),_===0&&N!==W&&(_=1),W=this.isVertical?0:N,_++,K=0,G=T);var ne=_>0?_-1:0;this.rowHeights[ne]=Math.max(this.rowHeights[ne]?this.rowHeights[ne]:0,g.textSize.height),this.columnHeights[K]=(this.columnHeights[K]?this.columnHeights[K]:0)+g.textSize.height+(this.isVertical?fe===0?o:this.itemPadding:o),K++}G=Math.max.apply(null,this.columnHeights)+o+M,G=Math.max(G,this.maxItemHeight+o+o+M),this.isPaging=i.height<G,this.isPaging&&!r.enablePages&&(this.isVertical||(G=this.maxItemHeight+o+o+(h==="Top"?M:0))),this.totalPages=_,!this.isPaging&&!this.isVertical&&(W+=this.isTitle&&h!=="Top"?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0),re?this.setBounds(Math.max(W+o,j),G,r,i):this.setBounds(0,0,r,i)},e.prototype.getLegendHeight=function(t,i,r,o,h,u){var g=t.textSize.width,y=i.shapePadding+u*2+i.shapeWidth;switch(i.textWrap){case"Wrap":case"AnyWhere":g>i.maximumLabelWidth||g+o>r.width?t.textCollection=Pc(t.text,i.maximumLabelWidth?Math.min(i.maximumLabelWidth,r.width-y):r.width-y,i.textStyle,this.chart.enableRtl,null,null,this.chart.themeStyle.legendLabelFont):t.textCollection.push(t.text),t.textSize.height=h*t.textCollection.length;break}},e.prototype.getRenderPoint=function(t,i,r,o,h,u,g){var y=this.legend.padding,x=r+(this.legend.maximumLabelWidth?this.legend.maximumLabelWidth:o.textSize.width),S=o.location.x+(this.isRtlEnable?-x:x);this.isWithinBounds(S,(this.legend.maximumLabelWidth?this.legend.maximumLabelWidth:t.textSize.width)+r-this.itemPadding,h)||this.isVertical?(t.location.x=i.x,u!==g&&this.chartRowCount++,t.location.y=u===g?o.location.y:o.location.y+(this.isVertical?o.textSize.height:this.rowHeights[this.chartRowCount-2])+(this.isVertical?this.itemPadding:y)):(t.location.x=u===g?o.location.x:S,t.location.y=o.location.y);var T=this.isRtlEnable?t.location.x-r+this.itemPadding+this.legend.shapeWidth/2-this.legendBounds.x:this.legendBounds.x+this.legendBounds.width-(t.location.x+r-this.itemPadding-this.legend.shapeWidth/2);!this.isVertical&&this.isPaging&&!this.legend.enablePages&&(T=this.legendBounds.width-t.location.x-this.fivePixel),T=this.legend.maximumLabelWidth?Math.min(this.legend.maximumLabelWidth,T):T,this.legend.textOverflow==="Ellipsis"&&this.legend.textWrap==="Normal"&&(t.text=un(+T.toFixed(4),t.text,this.legend.textStyle,this.chart.enableRtl,this.chart.themeStyle.legendLabelFont))},e.prototype.isWithinBounds=function(t,i,r){return this.isRtlEnable?t-i<r.x-this.legend.shapeWidth/2:t+i>r.x+r.width+this.legend.shapeWidth/2},e.prototype.LegendClick=function(t,i){var r=this.chart,o=r.legendSettings.mode==="Series"?t:0,h=this.isReverse?this.legendCollections.length-1-t:t,u=r.visibleSeries[o],g=this.legendCollections[h],y="isProtectedOnChange";if(r.legendSettings.mode==="Series"){var x={legendText:g.text,legendShape:g.shape,chart:r.isBlazor?{}:r,series:u,points:u.points,name:cr,cancel:!1};this.chart.trigger(cr,x),u.legendShape=x.legendShape,x.cancel||(u.fill!==null&&(r.visibleSeries[t].interior=u.fill),r.legendSettings.toggleVisibility?(u.chart[y]=!0,u.category==="TrendLine"?!r.series[u.sourceIndex].trendlines[u.index].visible&&r.series[u.sourceIndex].visible?r.series[u.sourceIndex].trendlines[u.index].visible=!0:r.series[u.sourceIndex].trendlines[u.index].visible=!1:this.changeSeriesVisiblity(u,u.visible),g.visible=u.category==="TrendLine"?r.series[u.sourceIndex].trendlines[u.index].visible:u.visible,this.refreshLegendToggle(r,u),r.highlightModule&&r.legendSettings.enableHighlight&&r.highlightModule.legendSelection(r,t,i.target,"mousemove")):r.highlightModule?r.highlightModule.legendSelection(r,t,i.target,i.type):r.selectionModule&&r.selectionModule.legendSelection(r,t,i.target,i.type),u.chart[y]=!1)}else if(r.legendSettings.mode==="Point"){var S=u.points[t],x={legendText:g.text,legendShape:g.shape,chart:r.isBlazor?{}:r,series:u,points:[S],name:cr,cancel:!1};if(this.chart.trigger(cr,x),r.legendSettings.toggleVisibility&&!x.cancel){S.visible=!S.visible;var T=this.legendCollections[t];T.visible=S.visible,this.refreshLegendToggle(r,u)}}else if(r.legendSettings.mode==="Range"){for(var M=[],T=this.legendCollections[t],R=0,I=u.points;R<I.length;R++){var S=I[R];T.fill===(S.interior||u.interior)&&M.push(S)}var x={legendText:g.text,legendShape:g.shape,chart:r.isBlazor?{}:r,series:u,points:M,name:cr,cancel:!1};if(this.chart.trigger(cr,x),r.legendSettings.toggleVisibility&&!x.cancel){T.visible=!T.visible;for(var j=0,W=M;j<W.length;j++){var S=W[j];S.visible=!S.visible}this.refreshLegendToggle(r,u)}}},e.prototype.refreshLegendToggle=function(t,i){var r=[];if(t.selectionModule&&(r=Tt([],t.selectionModule.selectedDataIndexes,null,!0)),t.svgObject.childNodes.length>0&&!t.enableAnimation&&!t.enableCanvas){for(;t.svgObject.lastChild;)t.svgObject.removeChild(t.svgObject.lastChild);Vt(t.svgObject)}t.animateSeries=!1,t.redraw=t.enableAnimation,i.isLegendClicked=!0,t.rotatedDataLabelCollections=[],Et(_o(t.element.id+"_Secondary_Element").querySelectorAll(".ejSVGTooltip")[0]),Bo(t),this.redrawSeriesElements(i,t),t.removeSvg(),t.refreshAxis(),i.refreshAxisLabel(),this.refreshSeries(t.visibleSeries);for(var o=0,h=t.visibleSeries;o<h.length;o++){var u=h[o];we(u)||t.markerRender.removeHighlightedMarker(u,null,!0)}t.refreshBound(),t.trigger("loaded",{chart:t}),r.length>0&&(t.selectionModule.selectedDataIndexes=r,t.selectionModule.redrawSelection(t,t.selectionMode)),!t.enableCanvas&&t.highlightModule&&(t.highlightMode!=="None"||t.legendSettings.enableHighlight)&&t.highlightModule.redrawSelection(t,t.highlightMode),t.redraw=!1,i.isLegendClicked=!1},e.prototype.changeSeriesVisiblity=function(t,i){t.visible=!i,this.isSecondaryAxis(t.xAxis)&&(t.xAxis.internalVisibility=t.xAxis.series.some(function(r){return r.visible})),(this.isSecondaryAxis(t.yAxis)||t.category==="Pareto"&&t.type==="Line")&&(t.yAxis.internalVisibility=t.yAxis.series.some(function(r){return r.visible})),t.trendlines.length&&t.visible&&t.trendlines.forEach(function(r){r.visible=!0})},e.prototype.isSecondaryAxis=function(t){return this.chart.axes.indexOf(t)>-1},e.prototype.redrawSeriesElements=function(t,i){if(!i.redraw)return null;Et(i.element.id+"_Series_"+(t.index===void 0?t.category:t.index)+"_DataLabelCollections")},e.prototype.refreshSeries=function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.type.indexOf("Spline")>-1){var h=o.type.indexOf("Area")>-1||o.drawType.indexOf("Area")>-1,u=o.type.indexOf("Range")>-1;this.chart["spline"+(h?u?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(o)}o.visible&&(o.position=void 0)}},e.prototype.click=function(t){var i=this;if(this.chart.legendSettings.visible){for(var r=this.chart.mouseX,o=this.chart.mouseY,h=[],u=t.target.id.indexOf("_chart_legend_g_")>-1?t.target.firstChild.id:t.target.id,g=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"],y,x=0,S=g;x<S.length;x++){var T=S[x];if(u.indexOf(T)>-1){y=parseInt(u.split(T)[1],10),this.LegendClick(y,t);break}}u.indexOf(this.legendID+"_pageup")>-1?this.changePage(t,!0):u.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(t,!1),this.chart.enableCanvas&&this.pagingRegions.length&&this.checkWithinBounds(r,o),h=this.legendRegions.filter(function(M){return Ut(r,o+(i.isPaging?(i.currentPageNumber-1)*i.translatePage(i.chart.enableCanvas,null,1,2):0),M.rect)}),h.length&&this.chart.enableCanvas&&this.LegendClick(h[0].index,t)}},e.prototype.checkWithinBounds=function(t,i){var r=this.chart.renderer,o=this.legendBounds,h=this.chart.legendSettings.border.width,u=new Ue(o.x,o.y,o.width,o.height);if(u.x=u.x-h/2,u.y=u.y-h/2,u.width=u.width+h,u.height=u.height+h,Ut(t,i,this.pagingRegions[0]))return this.isRtlEnable?this.canvasPageUp(r,u,o):this.canvasPageDown(r,u,o),null;if(Ut(t,i,this.pagingRegions[1]))return this.isRtlEnable?this.canvasPageDown(r,u,o):this.canvasPageUp(r,u,o),null},e.prototype.canvasPageDown=function(t,i,r){--this.currentPageNumber>0?(this.legendRegions=[],t.clearRect(i),t.canvasClip(new ir("legendClipPath","transparent",{width:0,color:""},null,i)),this.renderLegend(this.chart,this.legend,r),t.canvasRestore()):++this.currentPageNumber},e.prototype.canvasPageUp=function(t,i,r){++this.currentPageNumber>0&&this.currentPageNumber<=this.totalNoOfPages?(this.legendRegions=[],t.clearRect(i),t.canvasClip(new ir("legendClipPath","transpaent",{width:0,color:""},null,i)),this.renderLegend(this.chart,this.legend,r),t.canvasRestore()):--this.currentPageNumber},e.prototype.getModuleName=function(){return"Legend"},e.prototype.destroy=function(){this.removeEventListener()},e}(Ec);function uu(n){return Object.prototype.toString.call(n)==="[object String]"?"$s"+n:"$o"+n.toString()}var at=function(){function n(e){this.table={},this.nElements=0,this.toStr=e||uu}return n.prototype.getValue=function(e){var t=this.table["$"+this.toStr(e)];if(!(typeof t>"u"))return t.value},n.prototype.setValue=function(e,t){var i,r="$"+this.toStr(e);return this.table[r],this.nElements++,i=void 0,this.table[r]={key:e,value:t},i},n.prototype.remove=function(e){var t="$"+this.toStr(e),i=this.table[t];return delete this.table[t],this.nElements--,i.value},n.prototype.keys=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var r=this.table[t[i]];e.push(r.key)}return e},n.prototype.values=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var r=this.table[t[i]];e.push(r.value)}return e},n.prototype.containsKey=function(e){var t=!0;return typeof this.getValue(e)>"u"?t=!0:t=!1,!t},n.prototype.clear=function(){this.table={},this.nElements=0},n.prototype.size=function(){return this.nElements},n}(),Oe=function(){function n(e){this.stringStartMark="/",this.internalValue="",this.isSaving6=!1,this.position6=-1,this.internalValue=this.normalizeValue(e)}return Object.defineProperty(n.prototype,"status",{get:function(){return this.status6},set:function(e){this.status6=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving6},set:function(e){this.isSaving6=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index6},set:function(e){this.index6=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position6},set:function(e){this.position6=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.internalValue},set:function(e){var t=e;e!==null&&e.length>0?(t=e,this.internalValue=this.normalizeValue(t)):this.internalValue=t},enumerable:!0,configurable:!0}),n.prototype.save=function(e){e.write(this.toString())},n.prototype.toString=function(){return this.stringStartMark+this.escapeString(this.value)},n.prototype.clone=function(e){var t=new n;return t.value=this.internalValue,t},n.prototype.escapeString=function(e){for(var t="",i=0,r=e.length;i<r;i++){var o=e[i];n.delimiters.indexOf(o),t=t+o}return t},n.prototype.normalizeValue=function(e,t){return e},n.delimiters="()<>[]{}/%}",n.replacements=[" ","	",`
`,"\r"],n}(),he=function(){function n(){this.forTest="test",this.forTest=n.obj}return n.obj="obj",n.endObj="endobj",n.r="R",n.whiteSpace=" ",n.slash="/",n.newLine=`\r
`,n.stream="stream",n.endStream="endstream",n.xref="xref",n.f="f",n.n="n",n.trailer="trailer",n.startxref="startxref",n.eof="%%EOF",n.header="%PDF-1.5",n.beginText="BT",n.endText="ET",n.beginPath="m",n.appendLineSegment="l",n.stroke="S",n.fill="f",n.fillEvenOdd="f*",n.fillStroke="B",n.fillStrokeEvenOdd="B*",n.appendbeziercurve="c",n.appendRectangle="re",n.saveState="q",n.restoreState="Q",n.paintXObject="Do",n.modifyCtm="cm",n.modifyTM="Tm",n.setLineWidth="w",n.setLineCapStyle="J",n.setLineJoinStyle="j",n.setDashPattern="d",n.setFlatnessTolerance="i",n.closePath="h",n.closeStrokePath="s",n.closeFillStrokePath="b",n.setCharacterSpace="Tc",n.setWordSpace="Tw",n.setHorizontalScaling="Tz",n.setTextLeading="TL",n.setFont="Tf",n.setRenderingMode="Tr",n.setTextRise="Ts",n.setTextScaling="Tz",n.setCoords="Td",n.goToNextLine="T*",n.setText="Tj",n.setTextWithFormatting="TJ",n.setTextOnNewLine="'",n.selectcolorspaceforstroking="CS",n.selectcolorspacefornonstroking="cs",n.setrbgcolorforstroking="RG",n.setrbgcolorfornonstroking="rg",n.setcmykcolorforstroking="K",n.setcmykcolorfornonstroking="k",n.setgraycolorforstroking="G",n.setgraycolorfornonstroking="g",n.clipPath="W",n.clipPathEvenOdd="W*",n.endPath="n",n.setGraphicsState="gs",n.comment="%",n.evenOdd="*",n.setMiterLimit="M",n.setColorAndPattern="scn",n.setColorAndPatternStroking="SCN",n}(),bt=function(){function n(){this.pages="Pages",this.kids="Kids",this.count="Count",this.resources="Resources",this.type="Type",this.size="Size",this.mediaBox="MediaBox",this.parent="Parent",this.root="Root",this.decodeParms="DecodeParms",this.filter="Filter",this.font="Font",this.type1="Type1",this.baseFont="BaseFont",this.encoding="Encoding",this.subtype="Subtype",this.contents="Contents",this.procset="ProcSet",this.colorSpace="ColorSpace",this.extGState="ExtGState",this.pattern="Pattern",this.xObject="XObject",this.length="Length",this.width="Width",this.height="Height",this.bitsPerComponent="BitsPerComponent",this.image="Image",this.dctdecode="DCTDecode",this.columns="Columns",this.blackIs1="BlackIs1",this.k="K",this.s="S",this.predictor="Predictor",this.deviceRgb="DeviceRGB",this.next="Next",this.action="Action",this.link="Link",this.a="A",this.annot="Annot",this.p="P",this.c="C",this.rect="Rect",this.uri="URI",this.annots="Annots",this.ca="ca",this.CA="CA",this.xyz="XYZ",this.fit="Fit",this.dest="Dest",this.BM="BM",this.flatedecode="FlateDecode",this.rotate="Rotate",this.bBox="BBox",this.form="Form",this.w="W",this.cIDFontType2="CIDFontType2",this.cIDToGIDMap="CIDToGIDMap",this.identity="Identity",this.dw="DW",this.fontDescriptor="FontDescriptor",this.cIDSystemInfo="CIDSystemInfo",this.fontName="FontName",this.flags="Flags",this.fontBBox="FontBBox",this.missingWidth="MissingWidth",this.stemV="StemV",this.italicAngle="ItalicAngle",this.capHeight="CapHeight",this.ascent="Ascent",this.descent="Descent",this.leading="Leading",this.avgWidth="AvgWidth",this.fontFile2="FontFile2",this.maxWidth="MaxWidth",this.xHeight="XHeight",this.stemH="StemH",this.registry="Registry",this.ordering="Ordering",this.supplement="Supplement",this.type0="Type0",this.identityH="Identity-H",this.toUnicode="ToUnicode",this.descendantFonts="DescendantFonts",this.background="Background",this.shading="Shading",this.matrix="Matrix",this.antiAlias="AntiAlias",this.function="Function",this.extend="Extend",this.shadingType="ShadingType",this.coords="Coords",this.domain="Domain",this.range="Range",this.functionType="FunctionType",this.bitsPerSample="BitsPerSample",this.patternType="PatternType",this.paintType="PaintType",this.tilingType="TilingType",this.xStep="XStep",this.yStep="YStep",this.viewerPreferences="ViewerPreferences",this.centerWindow="CenterWindow",this.displayTitle="DisplayTitle",this.fitWindow="FitWindow",this.hideMenuBar="HideMenubar",this.hideToolBar="HideToolbar",this.hideWindowUI="HideWindowUI",this.pageMode="PageMode",this.pageLayout="PageLayout",this.duplex="Duplex",this.printScaling="PrintScaling"}return n}(),it=function(){function n(e){if(this.position7=-1,this.primitiveItems=new at,this.prefix="<<",this.suffix=">>",this.resources=[],this.object=null,this.archive=!0,this.isResource=!1,typeof e>"u")this.primitiveItems=new at,this.encrypt=!0,this.dictionaryProperties=new bt;else{this.primitiveItems=new at;for(var t=e.items.keys(),i=e.items.values(),r=0;r<e.items.size();r++)this.primitiveItems.setValue(t[r],i[r]);this.status=e.status,this.freezeChanges(this),this.encrypt=!0,this.dictionaryProperties=new bt}}return Object.defineProperty(n.prototype,"items",{get:function(){return this.primitiveItems},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.status7},set:function(e){this.status7=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving7},set:function(e){this.isSaving7=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index7},set:function(e){this.index7=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position7},set:function(e){this.position7=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Count",{get:function(){return this.primitiveItems.size()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Dictionary",{get:function(){return this},enumerable:!0,configurable:!0}),n.prototype.getArchive=function(){return this.archive},n.prototype.setArchive=function(e){this.archive=e},n.prototype.setEncrypt=function(e){this.encrypt=e,this.modify()},n.prototype.getEncrypt=function(){return this.encrypt},n.prototype.freezeChanges=function(e){this.bChanged=!1},n.prototype.clone=function(e){var t=new n;return t},n.prototype.modify=function(){this.bChanged=!0},n.prototype.remove=function(e){typeof e!="string"?(this.primitiveItems.remove(e.value),this.modify()):this.remove(new Oe(e))},n.prototype.containsKey=function(e){var t=!1;return t=this.primitiveItems.containsKey(e.toString()),t},n.prototype.onBeginSave=function(){this.beginSave.sender.beginSave()},n.prototype.onFontDictionaryBeginSave=function(){this.fontDictionaryBeginSave.sender.fontDictionaryBeginSave()},n.prototype.onDescendantFontBeginSave=function(){this.descendantFontBeginSave.sender.descendantFontBeginSave()},n.prototype.onTemplateBeginSave=function(){this.pageBeginDrawTemplate.sender.pageBeginSave()},n.prototype.onBeginAnnotationSave=function(){this.annotationBeginSave.sender.beginSave()},n.prototype.onSectionBeginSave=function(e){var t=this.sectionBeginSave;t.sender.beginSave(t.state,e)},n.prototype.save=function(e,t){typeof t>"u"?this.save(e,!0):(e.write(this.prefix),typeof this.beginSave<"u"&&this.onBeginSave(),typeof this.descendantFontBeginSave<"u"&&this.onDescendantFontBeginSave(),typeof this.fontDictionaryBeginSave<"u"&&this.onFontDictionaryBeginSave(),typeof this.annotationBeginSave<"u"&&this.onBeginAnnotationSave(),typeof this.sectionBeginSave<"u"&&this.onSectionBeginSave(e),typeof this.pageBeginDrawTemplate<"u"&&this.onTemplateBeginSave(),this.Count>0&&this.saveItems(e),e.write(this.suffix),e.write(he.newLine))},n.prototype.saveItems=function(e){e.write(he.newLine);for(var t=this.primitiveItems.keys(),i=this.primitiveItems.values(),r=0;r<t.length;r++){var o=t[r],h=new Oe(o);h.save(e),e.write(he.whiteSpace);var u=i[r];u.save(e),e.write(he.newLine)}},n}(),du=function(){function n(e){this.sender=e}return n}(),fu=function(){function n(e){this.sender=e}return n}(),pu=function(){function n(e){this.sender=e}return n}(),gu=function(){function n(e,t){this.sender=e,this.state=t}return n}(),mu=function(){function n(e){this.sender=e}return n}(),Pe=function(){function n(e){this.position5=-1,this.value=e}return Object.defineProperty(n.prototype,"intValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInteger",{get:function(){return this.integer},set:function(e){this.integer=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.status5},set:function(e){this.status5=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving5},set:function(e){this.isSaving5=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index5},set:function(e){this.index5=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position5},set:function(e){this.position5=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){var e=null;return e},enumerable:!0,configurable:!0}),n.prototype.save=function(e){e.write(this.intValue.toString())},n.prototype.clone=function(e){var t=new n(this.value);return t},n.floatToString=function(e){var t=e.toFixed(2);return t==="0.00"&&(t=".00"),t},n.min=function(e,t,i){var r=Math.min(e,t);return Math.min(i,r)},n}(),gt=function(){function n(e){if(this.startMark="[",this.endMark="]",this.position9=-1,this.clonedObject9=null,this.isFont=!1,typeof e>"u")this.internalElements=[];else if(typeof e<"u"&&!(e instanceof n))for(var t=e,i=0;i<t.length;i++){var r=new Pe(t[i]);this.add(r)}else{var o=e;this.internalElements=[];for(var i=0;i<o.elements.length;i++)this.internalElements.push(o.elements[i])}}return n.prototype.items=function(e){return this.internalElements[e]},Object.defineProperty(n.prototype,"count",{get:function(){return this.internalElements.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.status9},set:function(e){this.status9=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving9},set:function(e){this.isSaving9=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){return this.clonedObject9},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position9},set:function(e){this.position9=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index9},set:function(e){this.index9=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CrossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"elements",{get:function(){return this.internalElements},enumerable:!0,configurable:!0}),n.prototype.add=function(e){typeof this.internalElements>"u"&&(this.internalElements=[]),this.internalElements.push(e),this.markedChange()},n.prototype.markedChange=function(){this.bChanged=!0},n.prototype.contains=function(e){for(var t=!1,i=0;i<this.internalElements.length;i++){var r=this.internalElements[i],o=e;if(r!=null&&typeof r<"u"&&o!=null&&typeof o<"u"&&r.value===o.value)return!0}return t},n.prototype.getItems=function(e){return this.internalElements[e]},n.prototype.save=function(e){e.write(this.startMark);for(var t=0,i=this.count;t<i;t++)this.getItems(t).save(e),t+1!==i&&e.write(he.whiteSpace);e.write(this.endMark)},n.prototype.clone=function(e){this.clonedObject9=null;for(var t=new n,i=0;i<this.internalElements.length;i++){var r=this.internalElements[i];t.add(r.clone(e))}return t.pdfCrossTable=e,this.clonedObject9=t,t},n.fromRectangle=function(e){var t=[e.x,e.y,e.width,e.height],i=new n(t);return i},n.prototype.insert=function(e,t){if(e<this.internalElements.length&&e>0){for(var i=[],r=0;r<e;r++)i.push(this.internalElements[r]);i.push(t);for(var r=e;r<this.internalElements.length;r++)i.push(this.internalElements[r]);this.internalElements=i}else this.internalElements.push(t);this.markChanged()},n.prototype.indexOf=function(e){return this.internalElements.indexOf(e)},n.prototype.remove=function(e){var t=this.internalElements.indexOf(e);this.internalElements[t]=null,this.markChanged()},n.prototype.removeAt=function(e){if(this.internalElements.length>e){for(var t=[],i=0;i<e;i++)t.push(this.internalElements[i]);for(var i=e+1;i<this.internalElements.length;i++)t.push(this.internalElements[i]);this.internalElements=t}this.markChanged()},n.prototype.clear=function(){this.internalElements=[],this.markChanged()},n.prototype.markChanged=function(){this.bChanged=!0},n}(),ks=function(){function n(){}return n.save=function(e,t){if(e==null||e==="")throw new Error("ArgumentException: fileName cannot be undefined, null or empty");var i=e.substring(e.lastIndexOf(".")+1,e.length),r=this.getMimeType(i);if(r!==""&&(t=new Blob([t],{type:r})),this.isMicrosoftBrowser)navigator.msSaveBlob(t,e);else{var o=document.createElementNS("http://www.w3.org/1999/xhtml","a");this.saveInternal(e,i,t,o,"download"in o)}},n.saveInternal=function(e,t,i,r,o){if(o){r.download=e;var h=window.URL.createObjectURL(i);r.href=h;var u=document.createEvent("MouseEvent");u.initEvent("click",!0,!0),r.dispatchEvent(u),setTimeout(function(){window.URL.revokeObjectURL(h),h=void 0})}else if(t!=="docx"&&t!=="xlsx"){var g=window.URL.createObjectURL(i),y=window.open(g,"_blank");y||(window.location.href=g)}else{var x=new FileReader;x.onloadend=function(){var S=window.open(x.result,"_blank");S||(window.location.href=x.result)},x.readAsDataURL(i)}},n.getMimeType=function(e){var t="";switch(e){case"html":t="text/html";break;case"pdf":t="application/pdf";break;case"docx":t="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"txt":t="text/plain";break}return t},n}(),Er=function(){function n(e){this.emitBOM=!0,this.encodingType="Ansi",this.initBOM(e)}return Object.defineProperty(n.prototype,"includeBom",{get:function(){return this.emitBOM},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this.encodingType},set:function(e){this.encodingType=e},enumerable:!0,configurable:!0}),n.prototype.initBOM=function(e){e==null?this.emitBOM=!0:this.emitBOM=e},n.prototype.getByteCount=function(e){if(Si(e,"string"),e===""){var t=this.utf8Len(e.charCodeAt(0));return t}return(this.type===null||this.type===void 0)&&(this.type="Ansi"),this.getByteCountInternal(e,0,e.length)},n.prototype.utf8Len=function(e){var t=e<=127?1:e<=2047?2:e<=65535?3:e<=2097151?4:0;return t},n.prototype.isHighSurrogate=function(e){return e>=55296&&e<=56319},n.prototype.toCodepoint=function(e,t){e=(1023&e)<<10;var i=e|1023&t;return i+65536},n.prototype.getByteCountInternal=function(e,t,i){var r=0;if(this.encodingType==="Utf8"||this.encodingType==="Unicode"){for(var o=this.encodingType==="Utf8",h=0;h<i;h++){var u=e.charCodeAt(o?t:t++);if(this.isHighSurrogate(u))if(o){var g=u,y=e.charCodeAt(++t);r+=this.utf8Len(this.toCodepoint(g,y))}else r+=4,++h;else o?r+=this.utf8Len(u):r+=2;o&&t++}return r}else return r=i,r},n.prototype.getBytes=function(e,t,i){if(Si(e,"string"),Si(t,"charIndex"),Si(i,"charCount"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: charIndex or charCount is less than zero");if(e.length-t<i)throw new RangeError("Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string");var r;if(e==="")return r=new ArrayBuffer(0),r;(this.type===null||this.type===void 0)&&(this.type="Ansi");var o=this.getByteCountInternal(e,t,i);switch(this.type){case"Utf8":return r=this.getBytesOfUtf8Encoding(o,e,t,i),r;case"Unicode":return r=this.getBytesOfUnicodeEncoding(o,e,t,i),r;default:return r=this.getBytesOfAnsiEncoding(o,e,t,i),r}},n.prototype.getString=function(e,t,i){if(Si(e,"bytes"),Si(t,"index"),Si(i,"count"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: index or count is less than zero");if(e.byteLength-t<i)throw new RangeError("Argument Out Of Range Exception: index and count do not denote a valid range in bytes");if(e.byteLength===0||i===0)return"";(this.type===null||this.type===void 0)&&(this.type="Ansi");var r="",o=new Uint8Array(e);switch(this.type){case"Utf8":var h=this.getStringOfUtf8Encoding(o,t,i);return h;case"Unicode":var u=new Uint16Array(e);return r=this.getStringofUnicodeEncoding(u,t,i),r;default:for(var g=t,y=0;y<i;y++){var x=o[g];r+=String.fromCharCode(x),g++}return r}},n.prototype.getBytesOfAnsiEncoding=function(e,t,i,r){for(var o=new ArrayBuffer(e),h=new Uint8Array(o),u=0,g=0;g<r;g++){var y=t.charCodeAt(i++);y<2048?h[u]=y:h[u]=63,u++}return o},n.prototype.getBytesOfUtf8Encoding=function(e,t,i,r){for(var o=new ArrayBuffer(e),h=new Uint8Array(o),u=i,g=0,y=0;y<r;y++){var x=t.charCodeAt(u);x<=127?h[g]=x:x<2048?(h[g]=192|x>>6,h[++g]=128|x&63):x<55296||x>=57344?(h[g]=224|x>>12,h[++g]=128|x>>6&63,h[++g]=128|x&63):(h[g]=239,h[++g]=191,h[++g]=189),++g,++u}return o},n.prototype.getBytesOfUnicodeEncoding=function(e,t,i,r){for(var o=new ArrayBuffer(e),h=new Uint16Array(o),u=0;u<r;u++){var g=t.charCodeAt(u);h[u]=g}return o},n.prototype.getStringOfUtf8Encoding=function(e,t,i){var r=0,o=t,h="";for(r;r<i;r++){for(var u=e[o++];o>e.length;)return h;u>127&&(u>191&&u<224&&o<i?u=(u&31)<<6|e[o]&63:u>223&&u<240&&o<e.byteLength?u=(u&15)<<12|(e[o]&63)<<6|e[++o]&63:u>239&&u<248&&o<e.byteLength&&(u=(u&7)<<18|(e[o]&63)<<12|(e[++o]&63)<<6|e[++o]&63),++o),h+=String.fromCharCode(u)}return h},n.prototype.getStringofUnicodeEncoding=function(e,t,i){if(i>e.length)throw new RangeError("ArgumentOutOfRange_Count");for(var r=new Uint16Array(i),o="",h=0;h<i&&h<e.length;h++)r[h]=e[t++];return o=String.fromCharCode.apply(null,r),o},n.prototype.destroy=function(){this.emitBOM=void 0,this.encodingType=void 0},n}();function Si(n,e){if(n==null)throw new Error("ArgumentException: "+e+" cannot be null or undefined")}var Oa=function(){function n(e){this.bufferBlob=new Blob([""]),this.bufferText="",this.init(e),ks.isMicrosoftBrowser=!!navigator.msSaveBlob}return Object.defineProperty(n.prototype,"buffer",{get:function(){return this.flush(),this.bufferBlob},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"encoding",{get:function(){return this.enc},enumerable:!0,configurable:!0}),n.prototype.init=function(e){e==null?(this.enc=new Er(!1),this.enc.type="Utf8"):(this.enc=e,this.setBomByte())},n.prototype.setBomByte=function(){if(this.encoding.includeBom)switch(this.encoding.type){case"Unicode":var e=new ArrayBuffer(2),t=new Uint8Array(e);t[0]=255,t[1]=254,this.bufferBlob=new Blob([e]);break;case"Utf8":var i=new ArrayBuffer(3),r=new Uint8Array(i);r[0]=239,r[1]=187,r[2]=191,this.bufferBlob=new Blob([i]);break;default:this.bufferBlob=new Blob([""]);break}},n.prototype.save=function(e){this.bufferText!==""&&this.flush(),ks.save(e,this.buffer)},n.prototype.write=function(e){if(this.encoding===void 0)throw new Error("Object Disposed Exception: current writer is disposed");Si(e,"string"),this.bufferText+=e,this.bufferText.length>=10240&&this.flush()},n.prototype.flush=function(){if(!(this.bufferText===void 0||this.bufferText===null||this.bufferText.length===0)){var e=this.encoding.getBytes(this.bufferText,0,this.bufferText.length);this.bufferText="",this.bufferBlob=new Blob([this.bufferBlob,e])}},n.prototype.writeLine=function(e){if(this.encoding===void 0)throw new Error("Object Disposed Exception: current writer is disposed");Si(e,"string"),this.bufferText=this.bufferText+e+`\r
`,this.bufferText.length>=10240&&this.flush()},n.prototype.destroy=function(){this.bufferBlob=void 0,this.bufferText=void 0,this.enc instanceof Er&&this.enc.destroy(),this.enc=void 0},n}(),yt=function(){function n(){}return n.bitReverse=function(e){return n.reverseBits[e&15]<<12|n.reverseBits[e>>4&15]<<8|n.reverseBits[e>>8&15]<<4|n.reverseBits[e>>12]},n.bitConverterToInt32=function(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24},n.bitConverterToInt16=function(e,t){return e[t]|e[t+1]<<8},n.bitConverterToUInt32=function(e){var t=new Uint32Array(1);return t[0]=e,t[0]},n.bitConverterToUInt16=function(e,t){var i=new Uint16Array(1);return i[0]=e[t]|e[t+1]<<8,i[0]},n.bitConverterUintToInt32=function(e){var t=new Int32Array(1);return t[0]=e,t[0]},n.bitConverterInt32ToUint=function(e){var t=new Uint32Array(1);return t[0]=e,t[0]},n.bitConverterInt32ToInt16=function(e){var t=new Int16Array(1);return t[0]=e,t[0]},n.byteToString=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},n.byteIntToString=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},n.arrayCopy=function(e,t,i,r,o){var h=new Uint8Array(e.buffer,t),u=h.subarray(0,o);i.set(u,r)},n.mergeArray=function(e,t){var i=new Uint8Array(e.length+t.length);return i.set(e),i.set(t,e.length),i},n.encodedString=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,r,o,h,u,g,y,x=0,S=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var T=e.length*3/4;if(e.charAt(e.length-1)===t.charAt(64)&&T--,e.charAt(e.length-2)===t.charAt(64)&&T--,T%1!==0)throw new Error("Invalid base64 input, bad content length.");for(var M=new Uint8Array(T|0);x<e.length;)h=t.indexOf(e.charAt(x++)),u=t.indexOf(e.charAt(x++)),g=t.indexOf(e.charAt(x++)),y=t.indexOf(e.charAt(x++)),i=h<<2|u>>4,r=(u&15)<<4|g>>2,o=(g&3)<<6|y,M[S++]=i,g!==64&&(M[S++]=r),y!==64&&(M[S++]=o);return M},n.reverseBits=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],n.huffCodeLengthOrders=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n}(),fs=[],Fr=4,ur=2,vu=101010256,yu=12,bu=33639248,ps=4096,Ft=function(){function n(){fs.length===0&&n.initCrc32Table(),this.files=[],this.level="Normal",ks.isMicrosoftBrowser=!!navigator.msSaveBlob}return Object.defineProperty(n.prototype,"items",{get:function(){return this.files},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"compressionLevel",{get:function(){return this.level},set:function(e){this.level=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this.files===void 0?0:this.files.length},enumerable:!0,configurable:!0}),n.prototype.addItem=function(e){if(e==null)throw new Error("ArgumentException: item cannot be null or undefined");for(var t=0;t<this.files.length;t++){var i=this.files[t];if(i instanceof yr&&i.name===e.name)throw new Error("item with same name already exist")}this.files.push(e)},n.prototype.addDirectory=function(e){if(e==null)throw new Error("ArgumentException: string cannot be null or undefined");if(e.length===0)throw new Error("ArgumentException: string cannot be empty");if(e.slice(-1)!=="/"&&(e+="/"),this.files.indexOf(e)!==-1)throw new Error("item with same name already exist");this.files.push(e)},n.prototype.getItem=function(e){if(e>=0&&e<this.files.length)return this.files[e]},n.prototype.contains=function(e){return this.files.indexOf(e)!==-1},n.prototype.open=function(e){var t=yt.encodedString(e);if(t.length==0)throw new DOMException("stream");var i=new Ts(t),r=n.findValueFromEnd(i,vu,65557);if(r<0)throw new DOMException("Can't locate end of central directory record. Possible wrong file format or archive is corrupt.");i.position=r+yu;var o=n.ReadInt32(i),h=r-o;i.position=h,this.readCentralDirectoryDataAndExtractItems(i)},n.prototype.readCentralDirectoryDataAndExtractItems=function(e){if(e==null)throw new DOMException("stream");for(var t;n.ReadInt32(e)==bu;)t=new xu,t.readCentralDirectoryData(e);t.readData(e,t.checkCrc),t.decompressData(),this.files.push(new yr(t.unCompressedStream.buffer,t.name))},n.prototype.save=function(e){if(e==null||e.length===0)throw new Error("ArgumentException: fileName cannot be null or undefined");if(this.files.length===0)throw new Error("InvalidOperation");var t=this;return new Promise(function(i,r){t.saveInternal(e,!1).then(function(){i(t)})})},n.prototype.saveAsBlob=function(){var e=this;return new Promise(function(t,i){e.saveInternal("",!0).then(function(r){t(r)})})},n.prototype.saveInternal=function(e,t){var i=this,r=this;return new Promise(function(o,h){for(var u=[],g=0,y=0;y<r.files.length;y++){var x=i.getCompressedData(i.files[y]);x.then(function(S){if(g=r.constructZippedObject(u,S,g,S.isDirectory),u.length===r.files.length){var T=r.writeZippedContent(e,u,g,t);o(T)}})}})},n.prototype.destroy=function(){if(this.files!==void 0&&this.files.length>0){for(var e=0;e<this.files.length;e++){var t=this.files[e];t instanceof yr&&t.destroy(),t=void 0}this.files=[]}this.files=void 0,this.level=void 0},n.prototype.getCompressedData=function(e){var t=this,i=new Promise(function(r,o){if(e instanceof yr){var h=new FileReader;h.onload=function(){var g=new Uint8Array(h.result),y={fileName:e.name,crc32Value:0,compressedData:[],compressedSize:void 0,uncompressedDataSize:g.length,compressionType:void 0,isDirectory:!1};if(t.level==="Normal"){t.compressData(g,y,fs);for(var x=0,S=0;S<y.compressedData.length;S++)x+=y.compressedData[S].length;y.compressedSize=x,y.compressionType="\b\0"}else y.compressedSize=g.length,y.crc32Value=t.calculateCrc32Value(0,g,fs),y.compressionType="\0\0",y.compressedData.push(g);r(y)},h.readAsArrayBuffer(e.data)}else{var u={fileName:e,crc32Value:0,compressedData:"",compressedSize:0,uncompressedDataSize:0,compressionType:"\0\0",isDirectory:!0};r(u)}});return i},n.prototype.compressData=function(e,t,i){var r=new ll(!0),o=0,h=0;do{if(o>=e.length){r.close();break}h=Math.min(e.length,o+16384);var u=e.subarray(o,h);t.crc32Value=this.calculateCrc32Value(t.crc32Value,u,i),r.write(u,0,h-o),o=h}while(o<=e.length);t.compressedData=r.compressedData,r.destroy()},n.prototype.constructZippedObject=function(e,t,i,r){var o=0,h=new Date;r&&(o=o|16),o=o|0;var u=this.writeHeader(t,h),g="PK"+u+t.fileName,y=this.writeCentralDirectory(t,u,i,o);return e.push({localHeader:g,centralDir:y,compressedData:t}),i+g.length+t.compressedSize},n.prototype.writeHeader=function(e,t){var i="";return i+=`
\0\0\0`,i+=e.compressionType,i+=this.getBytes(this.getModifiedTime(t),2),i+=this.getBytes(this.getModifiedDate(t),2),i+=this.getBytes(e.crc32Value,4),i+=this.getBytes(e.compressedSize,4),i+=this.getBytes(e.uncompressedDataSize,4),i+=this.getBytes(e.fileName.length,2),i+=this.getBytes(0,2),i},n.prototype.writeZippedContent=function(e,t,i,r){for(var o=0,h=[],u=0;u<t.length;u++){var g=t[u];for(o+=g.centralDir.length,h.push(this.getArrayBuffer(g.localHeader));g.compressedData.compressedData.length;)h.push(g.compressedData.compressedData.shift().buffer)}for(var u=0;u<t.length;u++)h.push(this.getArrayBuffer(t[u].centralDir));h.push(this.getArrayBuffer(this.writeFooter(t,o,i)));var y=new Blob(h,{type:"application/zip"});return r||ks.save(e,y),y},n.prototype.writeCentralDirectory=function(e,t,i,r){var o="PK"+this.getBytes(20,2)+t+this.getBytes(0,2)+"\0\0\0\0"+this.getBytes(r,4)+this.getBytes(i,4)+e.fileName;return o},n.prototype.writeFooter=function(e,t,i){var r="PK\0\0\0\0"+this.getBytes(e.length,2)+this.getBytes(e.length,2)+this.getBytes(t,4)+this.getBytes(i,4)+this.getBytes(0,2);return r},n.prototype.getArrayBuffer=function(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;++i)t[i]=e.charCodeAt(i)&255;return t.buffer},n.prototype.getBytes=function(e,t){for(var i="",r=0;r<t;r++)i+=String.fromCharCode(e&255),e=e>>>8;return i},n.prototype.getModifiedTime=function(e){var t=e.getHours();return t=t<<6,t=t|e.getMinutes(),t=t<<5,t=t|e.getSeconds()/2},n.prototype.getModifiedDate=function(e){var t=e.getFullYear()-1980;return t=t<<4,t=t|e.getMonth()+1,t=t<<5,t=t|e.getDate()},n.prototype.calculateCrc32Value=function(e,t,i){e^=-1;for(var r=0;r<t.length;r++)e=e>>>8^i[(e^t[r])&255];return e^-1},n.initCrc32Table=function(){for(var e,t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;fs[t]=e}},n.findValueFromEnd=function(e,t,i){if(e==null)throw new DOMException("stream");var r=e.inputStream.buffer.byteLength;if(r<4)return-1;var o=new Uint8Array(4),h=Math.max(0,r-i),u=r-1-Fr;e.position=u,e.read(o,0,Fr);var g=o[0],y=g==t;if(!y){for(;u>h;)if(g<<=8,u--,e.position=u,g+=e.readByte(),g==t){y=!0;break}}return y?u:-1},n.ReadInt32=function(e){var t=new Uint8Array(Fr);if(e.read(t,0,Fr)!=Fr)throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return yt.bitConverterToInt32(t,0)},n.ReadInt16=function(e){var t=new Uint8Array(ur);if(e.read(t,0,ur)!=ur)throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return yt.bitConverterToInt16(t,0)},n.ReadUInt16=function(e){{var t=new Uint8Array(ur);if(e.read(t,0,ur)!=ur)throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return yt.bitConverterToInt16(t,0)}},n}(),xu=function(){function n(){this.headerSignature=67324752,this.checkCrc=!0,this.crc32=0}return n.prototype.readCentralDirectoryData=function(e){e.position+=4,this.options=Ft.ReadInt16(e),this.compressionMethod=Ft.ReadInt16(e),this.checkCrc=this.compressionMethod!=99,Ft.ReadInt32(e),this.crc32=yt.bitConverterToUInt32(Ft.ReadInt32(e)),this.compressedSize=Ft.ReadInt32(e),this.originalSize=Ft.ReadInt32(e);var t=Ft.ReadInt16(e),i=Ft.ReadInt16(e),r=Ft.ReadInt16(e);e.position+=4,this.externalAttributes=Ft.ReadInt32(e),this.localHeaderOffset=Ft.ReadInt32(e);var o=new Uint8Array(t);e.read(o,0,t);var h=yt.byteToString(o);h=h.replace("\\","/"),this.name=h,e.position+=i+r,this.options!=0&&(this.options=0)},n.prototype.readData=function(e,t){if(e.length==0)throw new DOMException("stream");e.position=this.localHeaderOffset,this.checkCrc=t,this.readLocalHeader(e),this.readCompressedData(e)},n.prototype.decompressData=function(){this.compressionMethod==8&&this.originalSize>0&&this.decompressDataOld()},n.prototype.decompressDataOld=function(){var e=new Cu(this.compressedStream,!0),t;this.originalSize>0&&(t=new Ts(new Uint8Array(this.originalSize)));for(var i=new Uint8Array(ps),r;(r=e.read(i,0,ps))>0;)t.write(i.subarray(0,r),0,r);this.unCompressedStream=t.toByteArray(),this.checkCrc},n.prototype.readLocalHeader=function(e){if(e.length==0)throw new DOMException("stream");if(Ft.ReadInt32(e)!=this.headerSignature)throw new DOMException("Can't find local header signature - wrong file format or file is corrupt.");e.position+=22;var t=Ft.ReadInt16(e),i=Ft.ReadUInt16(e);if(this.compressionMethod!=99)if(i>2){e.position+=t;var r=Ft.ReadInt16(e);if(r==23)throw new DOMException("UnSupported");e.position+=i-2}else e.position+=t+i},n.prototype.readCompressedData=function(e){var t;if(this.compressedSize>0){var i=this.compressedSize;t=new Ts(new Uint8Array(i));for(var r=new Uint8Array(ps);i>0;){var o=Math.min(i,ps);if(e.read(r,0,o)!=o)throw new DOMException("End of file reached - wrong file format or file is corrupt.");t.write(r.subarray(0,o),0,o),i-=o}this.compressedStream=new Uint8Array(t.inputStream)}else this.compressedSize<0||this.compressedSize==0},n}(),yr=function(){function n(e,t){if(e==null)throw new Error("ArgumentException: data cannot be null or undefined");if(t==null)throw new Error("ArgumentException: string cannot be null or undefined");if(t.length===0)throw new Error("string cannot be empty");this.data=e,this.name=t}return Object.defineProperty(n.prototype,"dataStream",{get:function(){return this.decompressedStream},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.fileName},set:function(e){this.fileName=e},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){this.fileName=void 0,this.data=void 0},n}(),Dr=new Int16Array(286),dr=new Uint8Array(286),Ia=new Int16Array(30),Js=new Uint8Array(30),ll=function(){function n(e){this.pendingBuffer=new Uint8Array(65536),this.pendingBufLength=0,this.pendingBufCache=0,this.pendingBufBitsInCache=0,this.bufferPosition=0,this.extraBits=0,this.currentHash=0,this.matchStart=0,this.matchLength=0,this.matchPrevAvail=!1,this.blockStart=0,this.stringStart=0,this.lookAhead=0,this.totalBytesIn=0,this.inputOffset=0,this.inputEnd=0,this.windowSize=32768,this.windowMask=this.windowSize-1,this.hashSize=32768,this.hashMask=this.hashSize-1,this.hashShift=Math.floor((15+3-1)/3),this.maxDist=this.windowSize-262,this.checkSum=1,this.noWrap=!1,n.isHuffmanTreeInitiated||(n.initHuffmanTree(),n.isHuffmanTreeInitiated=!0),this.treeLiteral=new hi(this,286,257,15),this.treeDistances=new hi(this,30,1,15),this.treeCodeLengths=new hi(this,19,4,7),this.arrDistances=new Uint16Array(16384),this.arrLiterals=new Uint8Array(16384),this.stream=[],this.dataWindow=new Uint8Array(2*this.windowSize),this.hashHead=new Int16Array(this.hashSize),this.hashPrevious=new Int16Array(this.windowSize),this.blockStart=this.stringStart=1,this.noWrap=e,e||this.writeZLibHeader()}return Object.defineProperty(n.prototype,"compressedData",{get:function(){return this.stream},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getCompressedString",{get:function(){var e="";if(this.stream!==void 0)for(var t=0;t<this.stream.length;t++)e+=String.fromCharCode.apply(null,this.stream[t]);return e},enumerable:!0,configurable:!0}),n.prototype.write=function(e,t,i){if(e==null)throw new Error("ArgumentException: data cannot null or undefined");var r=t+i;if(0>t||t>r||r>e.length)throw new Error("ArgumentOutOfRangeException: Offset or length is incorrect");if(typeof e=="string"){var o=new Er(!1);o.type="Utf8",e=new Uint8Array(o.getBytes(e,0,e.length)),r=t+e.length}for(this.inputBuffer=e,this.inputOffset=t,this.inputEnd=r,this.noWrap||(this.checkSum=wu.checksumUpdate(this.checkSum,this.inputBuffer,this.inputOffset,r));this.inputEnd!==this.inputOffset||this.pendingBufLength!==0;)this.pendingBufferFlush(),this.compressData(!1)},n.prototype.writeZLibHeader=function(){var e=30720;e|=64,e+=31-e%31,this.pendingBufferWriteShortBytes(e)},n.prototype.pendingBufferWriteShortBytes=function(e){this.pendingBuffer[this.pendingBufLength++]=e>>8,this.pendingBuffer[this.pendingBufLength++]=e},n.prototype.compressData=function(e){var t;do{this.fillWindow();var i=e&&this.inputEnd===this.inputOffset;t=this.compressSlow(i,e)}while(this.pendingBufLength===0&&t);return t},n.prototype.compressSlow=function(e,t){if(this.lookAhead<262&&!e)return!1;for(;this.lookAhead>=262||e;){if(this.lookAhead===0)return this.lookAheadCompleted(t);this.stringStart>=2*this.windowSize-262&&this.slideWindow();var i=this.matchStart,r=this.matchLength;if(this.lookAhead>=3&&this.discardMatch(),r>=3&&this.matchLength<=r?r=this.matchPreviousBest(i,r):this.matchPreviousAvailable(),this.bufferPosition>=16384)return this.huffmanIsFull(t)}return!0},n.prototype.discardMatch=function(){var e=this.insertString();e!==0&&this.stringStart-e<=this.maxDist&&this.findLongestMatch(e)&&this.matchLength<=5&&this.matchLength===3&&this.stringStart-this.matchStart>4096&&(this.matchLength=3-1)},n.prototype.matchPreviousAvailable=function(){this.matchPrevAvail&&this.huffmanTallyLit(this.dataWindow[this.stringStart-1]&255),this.matchPrevAvail=!0,this.stringStart++,this.lookAhead--},n.prototype.matchPreviousBest=function(e,t){this.huffmanTallyDist(this.stringStart-1-e,t),t-=2;do this.stringStart++,this.lookAhead--,this.lookAhead>=3&&this.insertString();while(--t>0);return this.stringStart++,this.lookAhead--,this.matchPrevAvail=!1,this.matchLength=3-1,t},n.prototype.lookAheadCompleted=function(e){return this.matchPrevAvail&&this.huffmanTallyLit(this.dataWindow[this.stringStart-1]&255),this.matchPrevAvail=!1,this.huffmanFlushBlock(this.dataWindow,this.blockStart,this.stringStart-this.blockStart,e),this.blockStart=this.stringStart,!1},n.prototype.huffmanIsFull=function(e){var t=this.stringStart-this.blockStart;this.matchPrevAvail&&t--;var i=e&&this.lookAhead===0&&!this.matchPrevAvail;return this.huffmanFlushBlock(this.dataWindow,this.blockStart,t,i),this.blockStart+=t,!i},n.prototype.fillWindow=function(){for(this.stringStart>=this.windowSize+this.maxDist&&this.slideWindow();this.lookAhead<262&&this.inputOffset<this.inputEnd;){var e=2*this.windowSize-this.lookAhead-this.stringStart;e>this.inputEnd-this.inputOffset&&(e=this.inputEnd-this.inputOffset),this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset,this.inputOffset+e),this.stringStart+this.lookAhead),this.inputOffset+=e,this.totalBytesIn+=e,this.lookAhead+=e}this.lookAhead>=3&&this.updateHash()},n.prototype.slideWindow=function(){this.dataWindow.set(this.dataWindow.subarray(this.windowSize,this.windowSize+this.windowSize),0),this.matchStart-=this.windowSize,this.stringStart-=this.windowSize,this.blockStart-=this.windowSize;for(var e=0;e<this.hashSize;++e){var t=this.hashHead[e]&65535;this.hashHead[e]=t>=this.windowSize?t-this.windowSize:0}for(var e=0;e<this.windowSize;e++){var t=this.hashPrevious[e]&65535;this.hashPrevious[e]=t>=this.windowSize?t-this.windowSize:0}},n.prototype.insertString=function(){var e,t=(this.currentHash<<this.hashShift^this.dataWindow[this.stringStart+2])&this.hashMask;return this.hashPrevious[this.stringStart&this.windowMask]=e=this.hashHead[t],this.hashHead[t]=this.stringStart,this.currentHash=t,e&65535},n.prototype.findLongestMatch=function(e){var t=4096,i=258,r=this.stringStart,o,h=this.stringStart+this.matchLength,u=Math.max(this.matchLength,3-1),g=Math.max(this.stringStart-this.maxDist,0),y=this.stringStart+258-1,x=this.dataWindow[h-1],S=this.dataWindow[h],T=this.dataWindow;u>=32&&(t>>=2),i>this.lookAhead&&(i=this.lookAhead);do if(!(T[e+u]!==S||T[e+u-1]!==x||T[e]!==T[r]||T[e+1]!==T[r+1])){for(o=e+2,r+=2;T[++r]===T[++o]&&T[++r]===T[++o]&&T[++r]===T[++o]&&T[++r]===T[++o]&&T[++r]===T[++o]&&T[++r]===T[++o]&&T[++r]===T[++o]&&T[++r]===T[++o]&&r<y;);if(r>h){if(this.matchStart=e,h=r,u=r-this.stringStart,u>=i)break;x=T[h-1],S=T[h]}r=this.stringStart}while((e=this.hashPrevious[e&this.windowMask]&65535)>g&&--t!==0);return this.matchLength=Math.min(u,this.lookAhead),this.matchLength>=3},n.prototype.updateHash=function(){this.currentHash=this.dataWindow[this.stringStart]<<this.hashShift^this.dataWindow[this.stringStart+1]},n.prototype.huffmanTallyLit=function(e){return this.arrDistances[this.bufferPosition]=0,this.arrLiterals[this.bufferPosition++]=e,this.treeLiteral.codeFrequencies[e]++,this.bufferPosition>=16384},n.prototype.huffmanTallyDist=function(e,t){this.arrDistances[this.bufferPosition]=e,this.arrLiterals[this.bufferPosition++]=t-3;var i=this.huffmanLengthCode(t-3);this.treeLiteral.codeFrequencies[i]++,i>=265&&i<285&&(this.extraBits+=Math.floor((i-261)/4));var r=this.huffmanDistanceCode(e-1);return this.treeDistances.codeFrequencies[r]++,r>=4&&(this.extraBits+=Math.floor(r/2-1)),this.bufferPosition>=16384},n.prototype.huffmanFlushBlock=function(e,t,i,r){this.treeLiteral.codeFrequencies[256]++,this.treeLiteral.buildTree(),this.treeDistances.buildTree(),this.treeLiteral.calculateBLFreq(this.treeCodeLengths),this.treeDistances.calculateBLFreq(this.treeCodeLengths),this.treeCodeLengths.buildTree();for(var o=4,h=18;h>o;h--)this.treeCodeLengths.codeLengths[hi.huffCodeLengthOrders[h]]>0&&(o=h+1);for(var u=14+o*3+this.treeCodeLengths.getEncodedLength()+this.treeLiteral.getEncodedLength()+this.treeDistances.getEncodedLength()+this.extraBits,g=this.extraBits,h=0;h<286;h++)g+=this.treeLiteral.codeFrequencies[h]*dr[h];for(var h=0;h<30;h++)g+=this.treeDistances.codeFrequencies[h]*Js[h];u>=g&&(u=g),t>=0&&i+4<u>>3?this.huffmanFlushStoredBlock(e,t,i,r):u==g?(this.pendingBufferWriteBits(2+(r?1:0),3),this.treeLiteral.setStaticCodes(Dr,dr),this.treeDistances.setStaticCodes(Ia,Js),this.huffmanCompressBlock(),this.huffmanReset()):(this.pendingBufferWriteBits(4+(r?1:0),3),this.huffmanSendAllTrees(o),this.huffmanCompressBlock(),this.huffmanReset())},n.prototype.huffmanFlushStoredBlock=function(e,t,i,r){this.pendingBufferWriteBits(0+(r?1:0),3),this.pendingBufferAlignToByte(),this.pendingBufferWriteShort(i),this.pendingBufferWriteShort(~i),this.pendingBufferWriteByteBlock(e,t,i),this.huffmanReset()},n.prototype.huffmanLengthCode=function(e){if(e===255)return 285;for(var t=257;e>=8;)t+=4,e>>=1;return t+e},n.prototype.huffmanDistanceCode=function(e){for(var t=0;e>=4;)t+=2,e>>=1;return t+e},n.prototype.huffmanSendAllTrees=function(e){this.treeCodeLengths.buildCodes(),this.treeLiteral.buildCodes(),this.treeDistances.buildCodes(),this.pendingBufferWriteBits(this.treeLiteral.treeLength-257,5),this.pendingBufferWriteBits(this.treeDistances.treeLength-1,5),this.pendingBufferWriteBits(e-4,4);for(var t=0;t<e;t++)this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[hi.huffCodeLengthOrders[t]],3);this.treeLiteral.writeTree(this.treeCodeLengths),this.treeDistances.writeTree(this.treeCodeLengths)},n.prototype.huffmanReset=function(){this.bufferPosition=0,this.extraBits=0,this.treeLiteral.reset(),this.treeDistances.reset(),this.treeCodeLengths.reset()},n.prototype.huffmanCompressBlock=function(){for(var e=0;e<this.bufferPosition;e++){var t=this.arrLiterals[e]&255,i=this.arrDistances[e];if(i--!==0){var r=this.huffmanLengthCode(t);this.treeLiteral.writeCodeToStream(r);var o=Math.floor((r-261)/4);o>0&&o<=5&&this.pendingBufferWriteBits(t&(1<<o)-1,o);var h=this.huffmanDistanceCode(i);this.treeDistances.writeCodeToStream(h),o=Math.floor(h/2-1),o>0&&this.pendingBufferWriteBits(i&(1<<o)-1,o)}else this.treeLiteral.writeCodeToStream(t)}this.treeLiteral.writeCodeToStream(256)},n.prototype.pendingBufferWriteBits=function(e,t){var i=new Uint32Array(1);i[0]=this.pendingBufCache|e<<this.pendingBufBitsInCache,this.pendingBufCache=i[0],this.pendingBufBitsInCache+=t,this.pendingBufferFlushBits()},n.prototype.pendingBufferFlush=function(e){if(this.pendingBufferFlushBits(),this.pendingBufLength>0){var t=new Uint8Array(this.pendingBufLength);t.set(this.pendingBuffer.subarray(0,this.pendingBufLength),0),this.stream.push(t)}this.pendingBufLength=0},n.prototype.pendingBufferFlushBits=function(){for(var e=0;this.pendingBufBitsInCache>=8&&this.pendingBufLength<65536;)this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache,this.pendingBufCache>>=8,this.pendingBufBitsInCache-=8,e++;return e},n.prototype.pendingBufferWriteByteBlock=function(e,t,i){var r=e.subarray(t,t+i);this.pendingBuffer.set(r,this.pendingBufLength),this.pendingBufLength+=i},n.prototype.pendingBufferWriteShort=function(e){this.pendingBuffer[this.pendingBufLength++]=e,this.pendingBuffer[this.pendingBufLength++]=e>>8},n.prototype.pendingBufferAlignToByte=function(){this.pendingBufBitsInCache>0&&(this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache),this.pendingBufCache=0,this.pendingBufBitsInCache=0},n.initHuffmanTree=function(){for(var e=0;e<144;)Dr[e]=hi.bitReverse(48+e<<8),dr[e++]=8;for(;e<256;)Dr[e]=hi.bitReverse(400-144+e<<7),dr[e++]=9;for(;e<280;)Dr[e]=hi.bitReverse(0-256+e<<9),dr[e++]=7;for(;e<286;)Dr[e]=hi.bitReverse(192-280+e<<8),dr[e++]=8;for(e=0;e<30;e++)Ia[e]=hi.bitReverse(e<<11),Js[e]=5},n.prototype.close=function(){do this.pendingBufferFlush(!0),this.compressData(!0)||(this.pendingBufferFlush(!0),this.pendingBufferAlignToByte(),this.noWrap||(this.pendingBufferWriteShortBytes(this.checkSum>>16),this.pendingBufferWriteShortBytes(this.checkSum&65535)),this.pendingBufferFlush(!0));while(this.inputEnd!==this.inputOffset||this.pendingBufLength!==0)},n.prototype.destroy=function(){this.stream=[],this.stream=void 0,this.pendingBuffer=void 0,this.treeLiteral=void 0,this.treeDistances=void 0,this.treeCodeLengths=void 0,this.arrLiterals=void 0,this.arrDistances=void 0,this.hashHead=void 0,this.hashPrevious=void 0,this.dataWindow=void 0,this.inputBuffer=void 0,this.pendingBufLength=void 0,this.pendingBufCache=void 0,this.pendingBufBitsInCache=void 0,this.bufferPosition=void 0,this.extraBits=void 0,this.currentHash=void 0,this.matchStart=void 0,this.matchLength=void 0,this.matchPrevAvail=void 0,this.blockStart=void 0,this.stringStart=void 0,this.lookAhead=void 0,this.totalBytesIn=void 0,this.inputOffset=void 0,this.inputEnd=void 0,this.windowSize=void 0,this.windowMask=void 0,this.hashSize=void 0,this.hashMask=void 0,this.hashShift=void 0,this.maxDist=void 0,this.checkSum=void 0,this.noWrap=void 0},n.isHuffmanTreeInitiated=!1,n}(),hi=function(){function n(e,t,i,r){this.writer=e,this.codeMinCount=i,this.maxLength=r,this.codeFrequency=new Uint16Array(t),this.lengthCount=new Int32Array(r)}return Object.defineProperty(n.prototype,"treeLength",{get:function(){return this.codeCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"codeLengths",{get:function(){return this.codeLength},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"codeFrequencies",{get:function(){return this.codeFrequency},enumerable:!0,configurable:!0}),n.prototype.setStaticCodes=function(e,t){var i=new Int16Array(e.length);i.set(e,0),this.codes=i;var r=new Uint8Array(t.length);r.set(t,0),this.codeLength=r},n.prototype.reset=function(){for(var e=0;e<this.codeFrequency.length;e++)this.codeFrequency[e]=0;this.codes=void 0,this.codeLength=void 0},n.prototype.writeCodeToStream=function(e){this.writer.pendingBufferWriteBits(this.codes[e]&65535,this.codeLength[e])},n.prototype.buildCodes=function(){var e=new Int32Array(this.maxLength);this.codes=new Int16Array(this.codeCount);for(var t=0,i=0;i<this.maxLength;i++)e[i]=t,t+=this.lengthCount[i]<<15-i;for(var r=0;r<this.codeCount;r++){var o=this.codeLength[r];o>0&&(this.codes[r]=n.bitReverse(e[o-1]),e[o-1]+=1<<16-o)}},n.bitReverse=function(e){return n.reverseBits[e&15]<<12|n.reverseBits[e>>4&15]<<8|n.reverseBits[e>>8&15]<<4|n.reverseBits[e>>12]},n.prototype.getEncodedLength=function(){for(var e=0,t=0;t<this.codeFrequency.length;t++)e+=this.codeFrequency[t]*this.codeLength[t];return e},n.prototype.calculateBLFreq=function(e){for(var t,i,r,o=-1,h=0;h<this.codeCount;){r=1;var u=this.codeLength[h];for(u===0?(t=138,i=3):(t=6,i=3,o!==u&&(e.codeFrequency[u]++,r=0)),o=u,h++;h<this.codeCount&&o===this.codeLength[h]&&(h++,!(++r>=t)););r<i?e.codeFrequency[o]+=r:o!==0?e.codeFrequency[16]++:r<=10?e.codeFrequency[17]++:e.codeFrequency[18]++}},n.prototype.writeTree=function(e){for(var t,i,r,o=-1,h=0;h<this.codeCount;){r=1;var u=this.codeLength[h];for(u===0?(t=138,i=3):(t=6,i=3,o!==u&&(e.writeCodeToStream(u),r=0)),o=u,h++;h<this.codeCount&&o===this.codeLength[h]&&(h++,!(++r>=t)););if(r<i)for(;r-- >0;)e.writeCodeToStream(o);else o!==0?(e.writeCodeToStream(16),this.writer.pendingBufferWriteBits(r-3,2)):r<=10?(e.writeCodeToStream(17),this.writer.pendingBufferWriteBits(r-3,3)):(e.writeCodeToStream(18),this.writer.pendingBufferWriteBits(r-11,7))}},n.prototype.buildTree=function(){for(var e=this.codeFrequency.length,t=new Int32Array(e),i=0,r=0,o=0;o<e;o++){var h=this.codeFrequency[o];if(h!==0){for(var u=i++,g=0;u>0&&this.codeFrequency[t[g=Math.floor((u-1)/2)]]>h;)t[u]=t[g],u=g;t[u]=o,r=o}}for(;i<2;)t[i++]=r<2?++r:0;this.codeCount=Math.max(r+1,this.codeMinCount);for(var y=i,x=y,S=new Int32Array(4*i-2),T=new Int32Array(2*i-1),M=0;M<i;M++){var R=t[M],I=2*M;S[I]=R,S[I+1]=-1,T[M]=this.codeFrequency[R]<<8,t[M]=M}this.constructHuffmanTree(t,i,T,x,S),this.buildLength(S)},n.prototype.constructHuffmanTree=function(e,t,i,r,o){do{for(var h=e[0],u=e[--t],g=i[u],y=0,x=1;x<t;)x+1<t&&i[e[x]]>i[e[x+1]]&&x++,e[y]=e[x],y=x,x=y*2+1;for(;(x=y)>0&&i[e[y=Math.floor((x-1)/2)]]>g;)e[x]=e[y];e[x]=u;var S=e[0];u=r++,o[2*u]=h,o[2*u+1]=S;var T=Math.min(i[h]&255,i[S]&255);for(i[u]=g=i[h]+i[S]-T+1,y=0,x=1;x<t;)x+1<t&&i[e[x]]>i[e[x+1]]&&x++,e[y]=e[x],y=x,x=y*2+1;for(;(x=y)>0&&i[e[y=Math.floor((x-1)/2)]]>g;)e[x]=e[y];e[x]=u}while(t>1)},n.prototype.buildLength=function(e){this.codeLength=new Uint8Array(this.codeFrequency.length);for(var t=Math.floor(e.length/2),i=Math.floor((t+1)/2),r=0,o=0;o<this.maxLength;o++)this.lengthCount[o]=0;if(r=this.calculateOptimalCodeLength(e,r,t),r!==0){var h=this.maxLength-1;do{for(;this.lengthCount[--h]===0;);do this.lengthCount[h]--,this.lengthCount[++h]++,r-=1<<this.maxLength-1-h;while(r>0&&h<this.maxLength-1)}while(r>0);this.recreateTree(e,r,i)}},n.prototype.recreateTree=function(e,t,i){this.lengthCount[this.maxLength-1]+=t,this.lengthCount[this.maxLength-2]-=t;for(var r=2*i,o=this.maxLength;o!==0;o--)for(var h=this.lengthCount[o-1];h>0;){var u=2*e[r++];e[u+1]===-1&&(this.codeLength[e[u]]=o,h--)}},n.prototype.calculateOptimalCodeLength=function(e,t,i){var r=new Int32Array(i);r[i-1]=0;for(var o=i-1;o>=0;o--){var h=2*o+1;if(e[h]!==-1){var u=r[o]+1;u>this.maxLength&&(u=this.maxLength,t++),r[e[h-1]]=r[e[h]]=u}else{var u=r[o];this.lengthCount[u-1]++,this.codeLength[e[h-1]]=r[o]}}return t},n.reverseBits=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],n.huffCodeLengthOrders=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n}(),wu=function(){function n(){}return n.checksumUpdate=function(e,t,i,r){var o=new Uint32Array(1);o[0]=e;for(var h=o[0],u=o[0]=h&65535,g=o[0]=h>>n.checkSumBitOffset;r>0;){var y=Math.min(r,n.checksumIterationCount);for(r-=y;--y>=0;)u=u+(o[0]=t[i++]&255),g=g+u;u%=n.checksumBase,g%=n.checksumBase}return h=g<<n.checkSumBitOffset|u,h},n.checkSumBitOffset=16,n.checksumBase=65521,n.checksumIterationCount=3800,n}(),fr=function(){function n(e){this.buildTree(e)}return n.init=function(){var e,t;for(e=new Uint8Array(288),t=0;t<144;)e[t++]=8;for(;t<256;)e[t++]=9;for(;t<280;)e[t++]=7;for(;t<288;)e[t++]=8;for(n.m_LengthTree=new n(e),e=new Uint8Array(32),t=0;t<32;)e[t++]=5;n.m_DistanceTree=new n(e)},n.prototype.prepareData=function(e,t,i){for(var r=0,o=512,h=0;h<i.length;h++){var u=i[h];u>0&&e[u]++}for(var g=1;g<=n.MAX_BITLEN;g++)if(t[g]=r,r+=e[g]<<16-g,g>=10){var y=t[g]&130944,x=r&130944;o+=x-y>>16-g}return{code:r,treeSize:o}},n.prototype.treeFromData=function(e,t,i,r,o){for(var h=new Int16Array(o),u=512,g=128,y=n.MAX_BITLEN;y>=10;y--){var x=r&130944;r-=e[y]<<16-y;for(var S=r&130944,T=S;T<x;T+=g)h[yt.bitReverse(T)]=yt.bitConverterInt32ToInt16(-u<<4|y),u+=1<<y-9}for(var T=0;T<i.length;T++){var y=i[T];if(y!=0){r=t[y];var M=yt.bitReverse(r);if(y<=9)do h[M]=yt.bitConverterInt32ToInt16(T<<4|y),M+=1<<y;while(M<512);else{var R=h[M&511],I=1<<(R&15);R=-(R>>4);do h[R|M>>9]=yt.bitConverterInt32ToInt16(T<<4|y),M+=1<<y;while(M<I)}t[y]=r+(1<<16-y)}}return h},n.prototype.buildTree=function(e){var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=this.prepareData(t,i,e);this.m_Tree=this.treeFromData(t,i,e,r.code,r.treeSize)},n.prototype.unpackSymbol=function(e){var t,i;if((t=e.peekBits(9))>=0){if((i=this.m_Tree[t])>=0)return e.skipBits(i&15),i>>4;var r=-(i>>4),o=i&15;if((t=e.peekBits(o))>=0)return i=this.m_Tree[r|t>>9],e.skipBits(i&15),i>>4;var h=e.availableBits;return t=e.peekBits(h),i=this.m_Tree[r|t>>9],(i&15)<=h?(e.skipBits(i&15),i>>4):-1}else{var h=e.availableBits;return t=e.peekBits(h),i=this.m_Tree[t],i>=0&&(i&15)<=h?(e.skipBits(i&15),i>>4):-1}},Object.defineProperty(n,"lengthTree",{get:function(){return this.m_LengthTree},enumerable:!0,configurable:!0}),Object.defineProperty(n,"distanceTree",{get:function(){return this.m_DistanceTree},enumerable:!0,configurable:!0}),n.MAX_BITLEN=15,n}(),Su=function(){function n(){}return n.ChecksumUpdate=function(e,t,i,r){for(var o=e,h=o&65535,u=o>>this.DEF_CHECKSUM_BIT_OFFSET;r>0;){var g=Math.min(r,this.DEF_CHECKSUM_ITERATIONSCOUNT);for(r-=g;--g>=0;)h=h+(t[i++]&255),u=u+h;h%=this.DEF_CHECKSUM_BASE,u%=this.DEF_CHECKSUM_BASE}o=u<<this.DEF_CHECKSUM_BIT_OFFSET|h,e=o},n.ChecksumGenerate=function(e,t,i){var r=1;return n.ChecksumUpdate(r,e,t,i),r},n.DEF_CHECKSUM_BIT_OFFSET=16,n.DEF_CHECKSUM_BASE=65521,n.DEF_CHECKSUM_ITERATIONSCOUNT=3800,n}(),Cu=function(){function n(e,t){if(this.defaultHuffmanDynamicTree=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],this.DEF_HEADER_METHOD_MASK=3840,this.DEF_HEADER_INFO_MASK=61440,this.DEF_HEADER_FLAGS_FCHECK=31,this.DEF_HEADER_FLAGS_FDICT=32,this.DEF_HEADER_FLAGS_FLEVEL=192,this.DEF_MAX_WINDOW_SIZE=65535,this.DEF_HUFFMAN_REPEATE_MAX=258,this.DEF_HUFFMAN_END_BLOCK=256,this.DEF_HUFFMAN_LENGTH_MINIMUMCODE=257,this.DEF_HUFFMAN_LENGTH_MAXIMUMCODE=285,this.DEF_HUFFMAN_DISTANCE_MAXIMUMCODE=29,this.mCheckSum=1,this.tBuffer=0,this.mBufferedBits=0,this.mTempBuffer=new Uint8Array(4),this.mBlockBuffer=new Uint8Array(this.DEF_MAX_WINDOW_SIZE),this.mbNoWrap=!1,this.mWindowSize=0,this.mCurrentPosition=0,this.mDataLength=0,this.mbCanReadNextBlock=!0,this.mbCanReadMoreData=!0,this.mbCheckSumRead=!1,e==null)throw new DOMException("stream");if(e.length===0)throw new DOMException("stream - string can not be empty");fr.init(),this.mInputStream=new Ts(e),this.mbNoWrap=t,this.mbNoWrap||this.readZLibHeader(),this.decodeBlockHeader()}return Object.defineProperty(n.prototype,"mBuffer",{get:function(){return this.tBuffer},set:function(e){this.tBuffer=e},enumerable:!0,configurable:!0}),n.prototype.peekBits=function(e){if(e<0)throw new DOMException("count","Bits count can not be less than zero.");if(e>32)throw new DOMException("count","Count of bits is too large.");if(this.mBufferedBits<e&&this.fillBuffer(),this.mBufferedBits<e)return-1;var t=~(4294967295<<e),i=yt.bitConverterUintToInt32(this.mBuffer&t);return i},n.prototype.fillBuffer=function(){var e=4-(this.mBufferedBits>>3)-(this.mBufferedBits&7?1:0);if(e!==0)for(var t=this.mInputStream.read(this.mTempBuffer,0,e),i=0;i<t;i++)this.mBuffer=yt.bitConverterInt32ToUint(this.mBuffer|yt.bitConverterInt32ToUint(this.mTempBuffer[i]<<this.mBufferedBits)),this.mBufferedBits+=8},n.prototype.skipBits=function(e){if(e<0)throw new DOMException("count","Bits count can not be less than zero.");e!==0&&(e>=this.mBufferedBits?(e-=this.mBufferedBits,this.mBufferedBits=0,this.mBuffer=0,e>0&&(this.mInputStream.position+=e>>3,e&=7,e>0&&(this.fillBuffer(),this.mBufferedBits-=e,this.mBuffer=yt.bitConverterInt32ToUint(this.mBuffer>>>e)))):(this.mBufferedBits-=e,this.mBuffer=yt.bitConverterInt32ToUint(this.mBuffer>>>e)))},Object.defineProperty(n.prototype,"availableBits",{get:function(){return this.mBufferedBits},enumerable:!0,configurable:!0}),n.prototype.readZLibHeader=function(){var e=this.readInt16();if(e===-1)throw new DOMException("Header of the stream can not be read.");if(e%31!==0)throw new DOMException("Header checksum illegal");if((e&this.DEF_HEADER_METHOD_MASK)!==2048)throw new DOMException("Unsupported compression method.");if(this.mWindowSize=Math.pow(2,((e&this.DEF_HEADER_INFO_MASK)>>12)+8),this.mWindowSize>65535)throw new DOMException("Unsupported window size for deflate compression method.");if((e&this.DEF_HEADER_FLAGS_FDICT)>>5===1)throw new DOMException("Custom dictionary is not supported at the moment.")},n.prototype.readInt16=function(){var e=this.readBits(8)<<8;return e|=this.readBits(8),e},n.prototype.readBits=function(e){var t=this.peekBits(e);return t===-1?-1:(this.mBufferedBits-=e,this.mBuffer=yt.bitConverterInt32ToUint(this.mBuffer>>>e),t)},n.prototype.decodeBlockHeader=function(){if(!this.mbCanReadNextBlock)return!1;var e=this.readBits(1);if(e===-1)return!1;var t=this.readBits(2);if(t===-1)return!1;switch(this.mbCanReadNextBlock=e===0,t){case 0:this.mbReadingUncompressed=!0,this.skipToBoundary();var i=this.readInt16Inverted(),r=this.readInt16Inverted();if(i!==(r^65535))throw new DOMException("Wrong block length.");if(i>65535)throw new DOMException("Uncompressed block length can not be more than 65535.");this.mUncompressedDataLength=i,this.mCurrentLengthTree=null,this.mCurrentDistanceTree=null;break;case 1:this.mbReadingUncompressed=!1,this.mUncompressedDataLength=-1,this.mCurrentLengthTree=fr.lengthTree,this.mCurrentDistanceTree=fr.distanceTree;break;case 2:this.mbReadingUncompressed=!1,this.mUncompressedDataLength=-1;var o=this.decodeDynamicHeader(this.mCurrentLengthTree,this.mCurrentDistanceTree);this.mCurrentLengthTree=o.lengthTree,this.mCurrentDistanceTree=o.distanceTree;break;default:throw new DOMException("Wrong block type.")}return!0},n.prototype.skipToBoundary=function(){this.mBuffer=yt.bitConverterInt32ToUint(this.mBuffer>>>(this.mBufferedBits&7)),this.mBufferedBits&=-8},n.prototype.readInt16Inverted=function(){var e=this.readBits(8);return e|=this.readBits(8)<<8,e},n.prototype.decodeDynamicHeader=function(e,t){var i=0,r=this.readBits(5),o=this.readBits(5),h=this.readBits(4);if(r<0||o<0||h<0)throw new DOMException("Wrong dynamic huffman codes.");r+=257,o+=1;var u=r+o,g=new Uint8Array(u),y=new Uint8Array(19);h+=4;for(var x=0;x<h;){var S=this.readBits(3);if(S<0)throw new DOMException("Wrong dynamic huffman codes.");y[this.defaultHuffmanDynamicTree[x++]]=S}var T=new fr(y);for(x=0;;){var M=void 0,R=!1;for(M=T.unpackSymbol(this);!(M&-16);){if(g[x++]=i=M,x===u){R=!0;break}M=T.unpackSymbol(this)}if(R)break;if(M<0)throw new DOMException("Wrong dynamic huffman codes.");if(M>=17)i=0;else if(x===0)throw new DOMException("Wrong dynamic huffman codes.");var I=M-16,j=n.DEF_HUFFMAN_DYNTREE_REPEAT_BITS[I],W=this.readBits(j);if(W<0)throw new DOMException("Wrong dynamic huffman codes.");if(W+=n.DEF_HUFFMAN_DYNTREE_REPEAT_MINIMUMS[I],x+W>u)throw new DOMException("Wrong dynamic huffman codes.");for(;W-- >0;)g[x++]=i;if(x===u)break}var N=new Uint8Array(r);return N.set(g.subarray(0,r),0),e=new fr(N),N=g.slice(r,r+o),t=new fr(N),{lengthTree:e,distanceTree:t}},n.prototype.readHuffman=function(){for(var e=this.DEF_MAX_WINDOW_SIZE-(this.mDataLength-this.mCurrentPosition),t=!1,i={};e>=this.DEF_HUFFMAN_REPEATE_MAX;){var r=void 0;for(r=this.mCurrentLengthTree.unpackSymbol(this);!(r&-256);){if(i[(this.mDataLength+1)%this.DEF_MAX_WINDOW_SIZE]=r,this.mBlockBuffer[this.mDataLength++%this.DEF_MAX_WINDOW_SIZE]=r,t=!0,--e<this.DEF_HUFFMAN_REPEATE_MAX)return!0;r=this.mCurrentLengthTree.unpackSymbol(this)}if(r<this.DEF_HUFFMAN_LENGTH_MINIMUMCODE){if(r<this.DEF_HUFFMAN_END_BLOCK)throw new DOMException("Illegal code.");var o=t?1:0;this.mbCanReadMoreData=this.decodeBlockHeader();var h=this.mbCanReadMoreData?1:0;return!!(o|h)}if(r>this.DEF_HUFFMAN_LENGTH_MAXIMUMCODE)throw new DOMException("Illegal repeat code length.");var u=n.DEF_HUFFMAN_REPEAT_LENGTH_BASE[r-this.DEF_HUFFMAN_LENGTH_MINIMUMCODE],g=n.DEF_HUFFMAN_REPEAT_LENGTH_EXTENSION[r-this.DEF_HUFFMAN_LENGTH_MINIMUMCODE];if(g>0){var y=this.readBits(g);if(y<0)throw new DOMException("Wrong data.");u+=y}if(r=this.mCurrentDistanceTree.unpackSymbol(this),r<0||r>n.DEF_HUFFMAN_REPEAT_DISTANCE_BASE.length)throw new DOMException("Wrong distance code.");var x=n.DEF_HUFFMAN_REPEAT_DISTANCE_BASE[r];if(g=n.DEF_HUFFMAN_REPEAT_DISTANCE_EXTENSION[r],g>0){var y=this.readBits(g);if(y<0)throw new DOMException("Wrong data.");x+=y}for(var S=0;S<u;S++)this.mBlockBuffer[this.mDataLength%this.DEF_MAX_WINDOW_SIZE]=this.mBlockBuffer[(this.mDataLength-x)%this.DEF_MAX_WINDOW_SIZE],this.mDataLength++,e--;t=!0}return t},n.prototype.read=function(e,t,i){if(e==null)throw new DOMException("buffer");if(t<0||t>e.length-1)throw new DOMException("offset","Offset does not belong to specified buffer.");if(i<0||i>e.length-t)throw new DOMException("length","Length is illegal.");for(var r=i;i>0;)if(this.mCurrentPosition<this.mDataLength){var o=this.mCurrentPosition%this.DEF_MAX_WINDOW_SIZE,h=Math.min(this.DEF_MAX_WINDOW_SIZE-o,this.mDataLength-this.mCurrentPosition);h=Math.min(h,i),yt.arrayCopy(this.mBlockBuffer,o,e,t,h),this.mCurrentPosition+=h,t+=h,i-=h}else{if(!this.mbCanReadMoreData)break;var u=this.mDataLength;if(this.mbReadingUncompressed)if(this.mUncompressedDataLength===0){if(this.mbCanReadMoreData=this.decodeBlockHeader(),!this.mbCanReadMoreData)break}else{var o=this.mDataLength%this.DEF_MAX_WINDOW_SIZE,g=Math.min(this.mUncompressedDataLength,this.DEF_MAX_WINDOW_SIZE-o),y=this.readPackedBytes(this.mBlockBuffer,o,g);if(g!==y)throw new DOMException("Not enough data in stream.");this.mUncompressedDataLength-=y,this.mDataLength+=y}else if(!this.readHuffman())break;if(u<this.mDataLength){var x=u%this.DEF_MAX_WINDOW_SIZE,S=this.mDataLength%this.DEF_MAX_WINDOW_SIZE;x<S?this.checksumUpdate(this.mBlockBuffer,x,S-x):(this.checksumUpdate(this.mBlockBuffer,x,this.DEF_MAX_WINDOW_SIZE-x),S>0&&this.checksumUpdate(this.mBlockBuffer,0,S))}}if(!this.mbCanReadMoreData&&!this.mbCheckSumRead&&!this.mbNoWrap){this.skipToBoundary();var T=this.readInt32();if(T!==this.mCheckSum)throw new DOMException("Checksum check failed.");this.mbCheckSumRead=!0}return r-i},n.prototype.readPackedBytes=function(e,t,i){if(e==null)throw new DOMException("buffer");if(t<0||t>e.length-1)throw new DOMException('offset", "Offset can not be less than zero or greater than buffer length - 1.');if(i<0)throw new DOMException('length", "Length can not be less than zero.');if(i>e.length-t)throw new DOMException('length", "Length is too large.');if(this.mBufferedBits&7)throw new DOMException("Reading of unalligned data is not supported.");if(i===0)return 0;for(var r=0;this.mBufferedBits>0&&i>0;)e[t++]=this.mBuffer,this.mBufferedBits-=8,this.mBuffer=yt.bitConverterInt32ToUint(this.mBuffer>>>8),i--,r++;return i>0&&(r+=this.mInputStream.read(e,t,i)),r},n.prototype.readInt32=function(){var e=this.readBits(8)<<24;return e|=this.readBits(8)<<16,e|=this.readBits(8)<<8,e|=this.readBits(8),e},n.prototype.checksumUpdate=function(e,t,i){Su.ChecksumUpdate(this.mCheckSum,e,t,i)},n.DEF_REVERSE_BITS=new Uint8Array([0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]),n.DEF_HUFFMAN_DYNTREE_REPEAT_MINIMUMS=[3,3,11],n.DEF_HUFFMAN_DYNTREE_REPEAT_BITS=[2,3,7],n.DEF_HUFFMAN_REPEAT_LENGTH_BASE=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],n.DEF_HUFFMAN_REPEAT_LENGTH_EXTENSION=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],n.DEF_HUFFMAN_REPEAT_DISTANCE_BASE=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],n.DEF_HUFFMAN_REPEAT_DISTANCE_EXTENSION=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],n}(),Ts=function(){function n(e){this.position=0,this.inputStream=new Uint8Array(e.buffer)}return Object.defineProperty(n.prototype,"length",{get:function(){return this.inputStream.buffer.byteLength},enumerable:!0,configurable:!0}),n.prototype.read=function(e,t,i){var r=new Uint8Array(this.inputStream.buffer,this.position+t),o=r.subarray(0,i);return e.set(o,0),this.position+=o.byteLength,o.byteLength},n.prototype.readByte=function(){return this.inputStream[this.position++]},n.prototype.write=function(e,t,i){yt.arrayCopy(e,0,this.inputStream,this.position+t,i),this.position+=i},n.prototype.toByteArray=function(){return new Uint8Array(this.inputStream.buffer)},n}(),Au=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),qt=function(n){Au(e,n);function e(t,i){var r=n.call(this,t)||this;return r.dicPrefix="stream",r.dicSuffix="endstream",r.clonedObject2=null,r.bCompress=!0,typeof t<"u"||typeof i<"u"?(r.dataStream2=[],r.dataStream2=i,r.bCompress2=!1):(r.dataStream2=[],r.bCompress2=!0),r}return Object.defineProperty(e.prototype,"internalStream",{get:function(){return this.dataStream2},set:function(t){this.dataStream2=[],this.dataStream2=t,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compress",{get:function(){return this.bCompress},set:function(t){this.bCompress=t,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.dataStream2},set:function(t){this.dataStream2=[],this.dataStream2=t,this.modify()},enumerable:!0,configurable:!0}),e.prototype.clearStream=function(){this.internalStream=[],this.items.containsKey(this.dictionaryProperties.filter)&&this.remove(this.dictionaryProperties.filter),this.bCompress=!0,this.modify()},e.prototype.write=function(t){if(t==null)throw new Error("ArgumentNullException:text");if(t.length<=0)throw new Error("ArgumentException: Can not write an empty string, text");this.dataStream2.push(t),this.modify()},e.prototype.writeBytes=function(t){if(t===null)throw new Error("ArgumentNullException:data");if(t.length<=0)throw new Error("ArgumentException: Can not write an empty bytes, data");for(var i="",r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);this.dataStream2.push(i),this.modify()},e.prototype.onCmapBeginSave=function(){this.cmapBeginSave.sender.cmapBeginSave()},e.prototype.onFontProgramBeginSave=function(){this.fontProgramBeginSave.sender.fontProgramBeginSave()},e.prototype.compressContent=function(t,i){if(this.bCompress){for(var r=[],o=0;o<t.length;o++)r.push(t.charCodeAt(o));var h=new Uint8Array(r),u=new ll;u.write(h,0,h.length),u.close(),t=u.getCompressedString,this.addFilter(this.dictionaryProperties.flatedecode)}return t},e.prototype.addFilter=function(t){var i=this.items.getValue(this.dictionaryProperties.filter);if(i instanceof rt){var r=i;i=r.object}var o=i,h=i;h!=null&&(o=new gt,o.insert(0,h),this.items.setValue(this.dictionaryProperties.filter,o)),h=new Oe(t),o==null?this.items.setValue(this.dictionaryProperties.filter,h):o.insert(0,h)},e.prototype.save=function(t){typeof this.cmapBeginSave<"u"&&this.onCmapBeginSave(),typeof this.fontProgramBeginSave<"u"&&this.onFontProgramBeginSave();for(var i="",r=0;r<this.data.length;r++)i=i+this.data[r];i.length>1&&!this.isResource&&(i=`q\r
`+i+`Q\r
`),i=this.compressContent(i,t);var o=i.length;this.items.setValue(this.dictionaryProperties.length,new Pe(o)),n.prototype.save.call(this,t,!1),t.write(this.dicPrefix),t.write(he.newLine),i.length>0&&t.write(i),t.write(he.newLine),t.write(this.dicSuffix),t.write(he.newLine)},e.bytesToString=function(t){for(var i="",r=0;r<t.length;r++)i=i+String.fromCharCode(t[r]);return i},e}(it),ku=function(){function n(e){this.sender=e}return n}(),Tu=function(){function n(e){this.sender=e}return n}(),Kr;(function(n){(function(t){t[t.None=0]="None",t[t.Ascii=1]="Ascii",t[t.Unicode=2]="Unicode"})(n.ForceEncoding||(n.ForceEncoding={}));var e;(function(t){t[t.StringValue=0]="StringValue",t[t.ByteBuffer=1]="ByteBuffer"})(e||(e={}))})(Kr||(Kr={}));var Ht=function(){function n(e){if(this.bHex=!1,this.position1=-1,this.clonedObject1=null,this.bDecrypted=!1,this.isParentDecrypted=!1,this.isPacked=!1,this.isFormField=!1,this.isColorSpace=!1,this.isHexString=!0,typeof e>"u")this.bHex=!1;else if(!(e.length>0&&e[0]==="0xfeff")){this.stringValue=e,this.data=[];for(var t=0;t<e.length;++t)this.data.push(e.charCodeAt(t))}}return Object.defineProperty(n.prototype,"hex",{get:function(){return this.bHex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.stringValue},set:function(e){this.stringValue=e,this.data=null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.status1},set:function(e){this.status1=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving1},set:function(e){this.isSaving1=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index1},set:function(e){this.index1=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){return this.clonedObject1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position1},set:function(e){this.position1=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CrossTable",{get:function(){return this.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"converted",{get:function(){return this.bConverted},set:function(e){this.bConverted=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"encode",{get:function(){return this.bForceEncoding},set:function(e){this.bForceEncoding=e},enumerable:!0,configurable:!0}),n.bytesToHex=function(e){if(e==null)return"";var t="";return t},n.prototype.save=function(e){if(e===null)throw new Error("ArgumentNullException : writer");this.encode!==void 0&&this.encode===Kr.ForceEncoding.Ascii?e.write(this.pdfEncode()):e.write(n.stringMark[0]+this.value+n.stringMark[1])},n.prototype.pdfEncode=function(){var e="";if(this.encode!==void 0&&this.encode===Kr.ForceEncoding.Ascii){for(var t=this.escapeSymbols(this.value),i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);e=n.stringMark[0]+e+n.stringMark[1]}else e=this.value;return e},n.prototype.escapeSymbols=function(e){for(var t=[],i=0;i<e.length;i++){var r=e.charCodeAt(i);switch(r){case 40:case 41:t.push(92),t.push(r);break;case 13:t.push(92),t.push(114);break;case 92:t.push(92),t.push(r);break;default:t.push(r);break}}return t},n.prototype.clone=function(e){if(this.clonedObject1!==null&&this.clonedObject1.CrossTable===e)return this.clonedObject1;this.clonedObject1=null;var t=new n(this.stringValue);return t.bHex=this.bHex,t.crossTable=e,t.isColorSpace=this.isColorSpace,this.clonedObject1=t,t},n.toUnicodeArray=function(e,t){if(e==null)throw new Error("Argument Null Exception : value");for(var i=[],r=0;r<e.length;r++){var o=e.charCodeAt(r);i.push(o/256>>>0),i.push(o&255)}return i},n.byteToString=function(e){if(e==null)throw new Error("Argument Null Exception : stream");for(var t="",i=0;i<e.length;++i)t+=String.fromCharCode(e[i]);return t},n.stringMark="()",n.hexStringMark="<>",n.hexFormatPattern="{0:X2}",n}(),mn=function(){function n(e,t){this.index3=-1,this.position3=-1,this.objNumber=0,this.genNumber=0,typeof e=="number"&&typeof t=="number"?(this.objNumber=e,this.genNumber=t):(this.objNumber=Number(e),this.genNumber=Number(t))}return Object.defineProperty(n.prototype,"status",{get:function(){return this.status3},set:function(e){this.status3=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving3},set:function(e){this.isSaving3=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index3},set:function(e){this.index3=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position3},set:function(e){this.position3=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){var e=null;return e},enumerable:!0,configurable:!0}),n.prototype.save=function(e){e.write(this.toString())},n.prototype.toString=function(){return this.objNumber.toString()+" "+this.genNumber.toString()+" R"},n.prototype.clone=function(e){return null},n}(),rt=function(){function n(e,t){this.index4=-1,this.position4=-1,this.objectIndex=-1,this.dictionaryProperties=new bt,this.initialize(e)}return Object.defineProperty(n.prototype,"status",{get:function(){return this.status4},set:function(e){this.status4=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving4},set:function(e){this.isSaving4=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index4},set:function(e){this.index4=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position4},set:function(e){this.position4=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"object",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this.objectIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),n.prototype.initialize=function(e){if(e instanceof gt||e instanceof it||e instanceof Oe||e instanceof Pe||e instanceof qt||e instanceof mn||e instanceof Ht)this.primitiveObject=e;else{var t=e;this.initialize(t.element)}},n.prototype.save=function(e){e.position;var t=e.document.crossTable;this.object.isSaving=!0;var i=null;i=t.getReference(this.object),i.save(e)},n.prototype.clone=function(e){return null},n}(),Ra;(function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right"})(Ra||(Ra={}));var Ni;(function(n){n[n.Top=0]="Top",n[n.Middle=1]="Middle",n[n.Bottom=2]="Bottom"})(Ni||(Ni={}));var oi;(function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right",n[n.Justify=3]="Justify"})(oi||(oi={}));var Pi;(function(n){n[n.Fill=0]="Fill",n[n.Stroke=1]="Stroke",n[n.FillStroke=2]="FillStroke",n[n.None=3]="None",n[n.ClipFlag=4]="ClipFlag",n[n.ClipFill=4]="ClipFill",n[n.ClipStroke=5]="ClipStroke",n[n.ClipFillStroke=6]="ClipFillStroke",n[n.Clip=7]="Clip"})(Pi||(Pi={}));var Ba;(function(n){n[n.Miter=0]="Miter",n[n.Round=1]="Round",n[n.Bevel=2]="Bevel"})(Ba||(Ba={}));var Fa;(function(n){n[n.Flat=0]="Flat",n[n.Round=1]="Round",n[n.Square=2]="Square"})(Fa||(Fa={}));var ui;(function(n){n[n.Solid=0]="Solid",n[n.Dash=1]="Dash",n[n.Dot=2]="Dot",n[n.DashDot=3]="DashDot",n[n.DashDotDot=4]="DashDotDot",n[n.Custom=5]="Custom"})(ui||(ui={}));var Ui;(function(n){n[n.Winding=0]="Winding",n[n.Alternate=1]="Alternate"})(Ui||(Ui={}));var ct;(function(n){n[n.Rgb=0]="Rgb",n[n.Cmyk=1]="Cmyk",n[n.GrayScale=2]="GrayScale",n[n.Indexed=3]="Indexed"})(ct||(ct={}));var Ls;(function(n){n[n.Normal=0]="Normal",n[n.Multiply=1]="Multiply",n[n.Screen=2]="Screen",n[n.Overlay=3]="Overlay",n[n.Darken=4]="Darken",n[n.Lighten=5]="Lighten",n[n.ColorDodge=6]="ColorDodge",n[n.ColorBurn=7]="ColorBurn",n[n.HardLight=8]="HardLight",n[n.SoftLight=9]="SoftLight",n[n.Difference=10]="Difference",n[n.Exclusion=11]="Exclusion",n[n.Hue=12]="Hue",n[n.Saturation=13]="Saturation",n[n.Color=14]="Color",n[n.Luminosity=15]="Luminosity"})(Ls||(Ls={}));var br;(function(n){n[n.Centimeter=0]="Centimeter",n[n.Pica=1]="Pica",n[n.Pixel=2]="Pixel",n[n.Point=3]="Point",n[n.Inch=4]="Inch",n[n.Document=5]="Document",n[n.Millimeter=6]="Millimeter"})(br||(br={}));var Da;(function(n){n[n.Fit=0]="Fit",n[n.Center=1]="Center",n[n.Stretch=2]="Stretch",n[n.Tile=3]="Tile"})(Da||(Da={}));var fi;(function(n){n[n.None=0]="None",n[n.LeftToRight=1]="LeftToRight",n[n.RightToLeft=2]="RightToLeft"})(fi||(fi={}));var rr=function(){function n(e,t,i,r){typeof e>"u"?typeof t<"u"&&typeof i<"u"&&typeof r<"u"?this.assignRGB(t,i,r):this.filled=!1:e instanceof n?(this.redColor=e.r,this.greenColor=e.g,this.blueColor=e.b,this.grayColor=e.gray,this.alpha=e.alpha,this.filled=this.alpha!==0):typeof e=="number"&&typeof t>"u"&&typeof i>"u"&&typeof r>"u"?(e<0&&(e=0),e>1&&(e=1),this.redColor=e*n.maxColourChannelValue,this.greenColor=e*n.maxColourChannelValue,this.blueColor=e*n.maxColourChannelValue,this.cyanColor=e,this.magentaColor=e,this.yellowColor=e,this.blackColor=e,this.grayColor=e,this.alpha=n.maxColourChannelValue,this.filled=!0):typeof r>"u"?this.assignRGB(e,t,i):this.assignRGB(t,i,r,e)}return n.prototype.assignRGB=function(e,t,i,r){typeof e>"u"||typeof t>"u"||typeof i>"u"?this.filled=!1:(this.cyanColor=0,this.magentaColor=0,this.yellowColor=0,this.blackColor=0,this.grayColor=0,this.redColor=e,this.greenColor=t,this.blueColor=i,typeof r>"u"?this.alpha=n.maxColourChannelValue:this.alpha=r,this.filled=!0,this.assignCMYK(e,t,i))},n.prototype.assignCMYK=function(e,t,i){var r=e/n.maxColourChannelValue,o=t/n.maxColourChannelValue,h=i/n.maxColourChannelValue,u=Pe.min(1-r,1-o,1-h),g=u===1?0:(1-r-u)/(1-u),y=u===1?0:(1-o-u)/(1-u),x=u===1?0:(1-h-u)/(1-u);this.blackColor=u,this.cyanColor=g,this.magentaColor=y,this.yellowColor=x},Object.defineProperty(n.prototype,"r",{get:function(){return this.redColor},set:function(e){this.redColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"red",{get:function(){return this.r/n.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"b",{get:function(){return this.blueColor},set:function(e){this.blueColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"blue",{get:function(){return this.b/n.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"c",{get:function(){return this.cyanColor},set:function(e){e<0?this.cyanColor=0:e>1?this.cyanColor=1:this.cyanColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"k",{get:function(){return this.blackColor},set:function(e){e<0?this.blackColor=0:e>1?this.blackColor=1:this.blackColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"m",{get:function(){return this.magentaColor},set:function(e){e<0?this.magentaColor=0:e>1?this.magentaColor=1:this.magentaColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this.yellowColor},set:function(e){e<0?this.yellowColor=0:e>1?this.yellowColor=1:this.yellowColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"g",{get:function(){return this.greenColor},set:function(e){this.greenColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"green",{get:function(){return this.g/n.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gray",{get:function(){return(this.redColor+this.greenColor+this.blueColor)/(n.maxColourChannelValue*3)},set:function(e){e<0?this.grayColor=0:e>1?this.grayColor=1:this.grayColor=e,this.r=this.grayColor*n.maxColourChannelValue,this.g=this.grayColor*n.maxColourChannelValue,this.b=this.grayColor*n.maxColourChannelValue,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return!this.filled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"a",{get:function(){return this.alpha},set:function(e){e<0?this.alpha=0:this.alpha=e,this.filled=!0},enumerable:!0,configurable:!0}),n.prototype.toString=function(e,t){if(this.isEmpty)return"";var i="";switch(e){case ct.Rgb:i=this.rgbToString(t);break;case ct.GrayScale:i=this.grayScaleToString(t);break;case ct.Cmyk:i=this.cmykToString(t);break}return i},n.prototype.grayScaleToString=function(e){var t=this.gray,i="",r=null;return r=e?n.grayStringsSroke.containsKey(t)?n.grayStringsSroke.getValue(t):null:n.grayStringsFill.containsKey(t)?n.grayStringsFill.getValue(t):null,r==null?e&&(i=t.toString()+" G",n.grayStringsSroke.setValue(t,i)):i=r.toString(),i+he.newLine},n.prototype.rgbToString=function(e){var t=this.r,i=this.g,r=this.b,o=(t<<16)+(i<<8)+r;e&&(o+=1<<24);var h="",u=null;if(n.rgbStrings.containsKey(o)&&(u=n.rgbStrings.getValue(o)),u==null){var g=t/n.maxColourChannelValue,y=i/n.maxColourChannelValue,x=r/n.maxColourChannelValue;e?h=g.toString()+" "+y.toString()+" "+x.toString()+" RG":h=g.toString()+" "+y.toString()+" "+x.toString()+" rg",n.rgbStrings.setValue(o,h)}else h=u.toString();return h+he.newLine},n.prototype.cmykToString=function(e){var t=this.c,i=this.m,r=this.y,o=this.b,h="";return h=t.toString()+" "+i.toString()+" "+r.toString()+" "+o.toString()+" K",h+he.newLine},n.prototype.toArray=function(e){var t=new gt;switch(e){case ct.Rgb:t.add(new Pe(this.red)),t.add(new Pe(this.green)),t.add(new Pe(this.blue));break}return t},n.rgbStrings=new at,n.grayStringsSroke=new at,n.grayStringsFill=new at,n.maxColourChannelValue=255,n}(),je=function(){function n(e,t){typeof e>"u"?(this.x=0,this.y=0):(e!==null?this.x=e:this.x=0,t!==null?this.y=t:this.y=0)}return n}(),ke=function(){function n(e,t){typeof t>"u"?(this.height=0,this.width=0):(t!==null?this.height=t:this.height=0,e!==null?this.width=e:this.width=0)}return n}(),tt=function(){function n(e,t,i,r){if(typeof e==typeof e&&typeof e>"u")this.x=0,this.y=0,this.height=0,this.width=0;else if(e instanceof je&&t instanceof ke&&typeof i>"u"){var o=e;this.x=o.x,this.y=o.y;var h=t;this.height=h.height,this.width=h.width}else{var u=e,g=t,y=i,x=r;this.x=u,this.y=g,this.height=x,this.width=y}}return n}(),vn=function(){function n(e,t,i,r){this.left=e,this.top=t,this.right=i,this.bottom=r}return Object.defineProperty(n.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topLeft",{get:function(){return new je(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return new ke(this.width,this.height)},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this.topLeft+"x"+this.size},n}(),sr=function(){function n(){}return n.prototype.clone=function(){return this},n}(),Lu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Mr=function(n){Lu(e,n);function e(t){var i=n.call(this)||this;return i.pdfColor=t,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this.pdfColor},set:function(t){this.pdfColor=t},enumerable:!0,configurable:!0}),e.prototype.monitorChanges=function(t,i,r,o,h){if(i==null)throw new Error("ArgumentNullException:streamWriter");var u=!1;return t==null?(u=!0,i.setColorAndSpace(this.pdfColor,h,!1),u):(u=!0,i.setColorAndSpace(this.pdfColor,h,!1),u)},e.prototype.resetChanges=function(t){t.setColorAndSpace(new rr(0,0,0),ct.Rgb,!1)},e}(sr),lt;(function(n){n[n.Regular=0]="Regular",n[n.Bold=1]="Bold",n[n.Italic=2]="Italic",n[n.Underline=4]="Underline",n[n.Strikeout=8]="Strikeout"})(lt||(lt={}));var Yt;(function(n){n[n.Helvetica=0]="Helvetica",n[n.Courier=1]="Courier",n[n.TimesRoman=2]="TimesRoman",n[n.Symbol=3]="Symbol",n[n.ZapfDingbats=4]="ZapfDingbats"})(Yt||(Yt={}));var Na;(function(n){n[n.Standard=0]="Standard",n[n.TrueType=1]="TrueType",n[n.TrueTypeEmbedded=2]="TrueTypeEmbedded"})(Na||(Na={}));var pi;(function(n){n[n.None=0]="None",n[n.Word=1]="Word",n[n.WordOnly=2]="WordOnly",n[n.Character=3]="Character"})(pi||(pi={}));var _i;(function(n){n[n.None=0]="None",n[n.SuperScript=1]="SuperScript",n[n.SubScript=2]="SubScript"})(_i||(_i={}));var yn;(function(n){n[n.Unknown=0]="Unknown",n[n.StandardEncoding=1]="StandardEncoding",n[n.MacRomanEncoding=2]="MacRomanEncoding",n[n.MacExpertEncoding=3]="MacExpertEncoding",n[n.WinAnsiEncoding=4]="WinAnsiEncoding",n[n.PdfDocEncoding=5]="PdfDocEncoding",n[n.IdentityH=6]="IdentityH"})(yn||(yn={}));var Xr;(function(n){n[n.Apple=0]="Apple",n[n.Microsoft=4]="Microsoft",n[n.Trimmed=6]="Trimmed"})(Xr||(Xr={}));var jt;(function(n){n[n.Unknown=0]="Unknown",n[n.Symbol=1]="Symbol",n[n.Unicode=2]="Unicode",n[n.Macintosh=3]="Macintosh"})(jt||(jt={}));var qi;(function(n){n[n.AppleUnicode=0]="AppleUnicode",n[n.Macintosh=1]="Macintosh",n[n.Iso=2]="Iso",n[n.Microsoft=3]="Microsoft"})(qi||(qi={}));var Ps;(function(n){n[n.Undefined=0]="Undefined",n[n.Unicode=1]="Unicode"})(Ps||(Ps={}));var bn;(function(n){n[n.Roman=0]="Roman",n[n.Japanese=1]="Japanese",n[n.Chinese=2]="Chinese"})(bn||(bn={}));var $i;(function(n){n[n.FixedPitch=1]="FixedPitch",n[n.Serif=2]="Serif",n[n.Symbolic=4]="Symbolic",n[n.Script=8]="Script",n[n.Nonsymbolic=32]="Nonsymbolic",n[n.Italic=64]="Italic",n[n.ForceBold=262144]="ForceBold"})($i||($i={}));var Zi;(function(n){n[n.Arg1And2AreWords=1]="Arg1And2AreWords",n[n.ArgsAreXyValues=2]="ArgsAreXyValues",n[n.RoundXyToGrid=4]="RoundXyToGrid",n[n.WeHaveScale=8]="WeHaveScale",n[n.Reserved=16]="Reserved",n[n.MoreComponents=32]="MoreComponents",n[n.WeHaveAnXyScale=64]="WeHaveAnXyScale",n[n.WeHaveTwoByTwo=128]="WeHaveTwoByTwo",n[n.WeHaveInstructions=256]="WeHaveInstructions",n[n.UseMyMetrics=512]="UseMyMetrics"})(Zi||(Zi={}));var bs=function(){function n(e,t){this.scalingFactor=100,this.wordWrapType=pi.Word,this.internalLineLimit=!0,this.wordWrapType=pi.Word,typeof e<"u"&&typeof e!="string"&&(this.textAlignment=e),typeof t<"u"&&(this.verticalAlignment=t)}return Object.defineProperty(n.prototype,"alignment",{get:function(){return this.textAlignment},set:function(e){this.textAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textDirection",{get:function(){return this.direction},set:function(e){this.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineAlignment",{get:function(){return typeof this.verticalAlignment>"u"||this.verticalAlignment==null?Ni.Top:this.verticalAlignment},set:function(e){this.verticalAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightToLeft",{get:function(){return typeof this.isRightToLeft>"u"||this.isRightToLeft==null?!1:this.isRightToLeft},set:function(e){this.isRightToLeft=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"characterSpacing",{get:function(){return typeof this.internalCharacterSpacing>"u"||this.internalCharacterSpacing==null?0:this.internalCharacterSpacing},set:function(e){this.internalCharacterSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wordSpacing",{get:function(){return typeof this.internalWordSpacing>"u"||this.internalWordSpacing==null?0:this.internalWordSpacing},set:function(e){this.internalWordSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineSpacing",{get:function(){return typeof this.leading>"u"||this.leading==null?0:this.leading},set:function(e){this.leading=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clipPath",{get:function(){return typeof this.clip>"u"||this.clip==null?!1:this.clip},set:function(e){this.clip=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subSuperScript",{get:function(){return typeof this.pdfSubSuperScript>"u"||this.pdfSubSuperScript==null?_i.None:this.pdfSubSuperScript},set:function(e){this.pdfSubSuperScript=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paragraphIndent",{get:function(){return typeof this.internalParagraphIndent>"u"||this.internalParagraphIndent==null?0:this.internalParagraphIndent},set:function(e){this.internalParagraphIndent=e,this.firstLineIndent=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineLimit",{get:function(){return this.internalLineLimit},set:function(e){this.internalLineLimit=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"measureTrailingSpaces",{get:function(){return typeof this.trailingSpaces>"u"||this.trailingSpaces==null?!1:this.trailingSpaces},set:function(e){this.trailingSpaces=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"noClip",{get:function(){return typeof this.isNoClip>"u"||this.isNoClip==null?!1:this.isNoClip},set:function(e){this.isNoClip=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this.wordWrapType},set:function(e){this.wordWrapType=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalScalingFactor",{get:function(){return this.scalingFactor},set:function(e){if(e<=0)throw new Error("ArgumentOutOfRangeException:The scaling factor cant be less of equal to zero, ScalingFactor");this.scalingFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstLineIndent",{get:function(){return typeof this.initialLineIndent>"u"||this.initialLineIndent==null?0:this.initialLineIndent},set:function(e){this.initialLineIndent=e},enumerable:!0,configurable:!0}),n.prototype.clone=function(){var e=this;return e},n}(),Gt=function(){function n(e){if(this.currentPosition=0,e==null)throw new Error("ArgumentNullException:text");this.text=e}return Object.defineProperty(n.prototype,"length",{get:function(){return this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"end",{get:function(){return this.currentPosition===this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.currentPosition},set:function(e){this.currentPosition=e},enumerable:!0,configurable:!0}),n.getCharsCount=function(e,t){if(typeof t=="string"){if(e==null)throw new Error("ArgumentNullException:wholeText");for(var i=0,r=0;r=e.indexOf(t,r),r!==-1;)i++,r++;return i}else{if(e==null)throw new Error("ArgumentNullException:text");if(t==null)throw new Error("ArgumentNullException:symbols");for(var o=0,h=0,u=e.length;h<u;h++){var g=e[h];this.contains(t,g)&&o++}return o}},n.prototype.readLine=function(){for(var e=this.currentPosition;e<this.length;){var t=this.text[e];switch(t){case"\r":case`
`:{var i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,t==="\r"&&this.currentPosition<this.length&&this.text[this.currentPosition]===`
`&&this.currentPosition++,i}}e++}if(e>this.currentPosition){var r=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,r}return null},n.prototype.peekLine=function(){var e=this.currentPosition,t=this.readLine();return this.currentPosition=e,t},n.prototype.readWord=function(){for(var e=this.currentPosition;e<this.length;){var t=this.text[e];switch(t){case"\r":case`
`:var i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,t==="\r"&&this.currentPosition<this.length&&this.text[this.currentPosition]===`
`&&this.currentPosition++,i;case" ":case"	":{e===this.currentPosition&&e++;var r=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,r}}e++}if(e>this.currentPosition){var o=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,o}return null},n.prototype.peekWord=function(){var e=this.currentPosition,t=this.readWord();return this.currentPosition=e,t},n.prototype.read=function(e){if(typeof e>"u"){var t="0";return this.end||(t=this.text[this.currentPosition],this.currentPosition++),t}else{for(var i=0,r="";!this.end&&i<e;){var t=this.read();r=r+t,i++}return r}},n.prototype.peek=function(){var e="0";return this.end||(e=this.text[this.currentPosition]),e},n.prototype.close=function(){this.text=null},n.prototype.readToEnd=function(){var e;return this.currentPosition===0?e=this.text:e=this.text.substr(this.currentPosition,this.length-this.currentPosition),this.currentPosition=this.length,e},n.contains=function(e,t){for(var i=!1,r=0;r<e.length;r++)if(e[r]===t){i=!0;break}return i},n.whiteSpace=" ",n.tab="	",n.spaces=[n.whiteSpace,n.tab],n.whiteSpacePattern="^[ 	]+$",n}(),Xn=function(){function n(){this.isOverloadWithPosition=!1}return n.prototype.layout=function(e,t,i,r,o,h,u){if(r instanceof tt){this.initialize(e,t,i,r,o),this.isOverloadWithPosition=h,this.clientSize=u;var g=this.doLayout();return this.clear(),g}else{this.initialize(e,t,i,r),this.isOverloadWithPosition=o,this.clientSize=h;var g=this.doLayout();return this.clear(),g}},n.prototype.initialize=function(e,t,i,r,o){if(typeof o=="number"){if(e==null)throw new Error("ArgumentNullException:text");if(t==null)throw new Error("ArgumentNullException:font");this.text=e,this.font=t,this.format=i,this.size=new ke(r.width,r.height),this.rectangle=r,this.pageHeight=o,this.reader=new Gt(e)}else this.initialize(e,t,i,new tt(new je(0,0),r),0)},n.prototype.clear=function(){this.font=null,this.format=null,this.reader.close(),this.reader=null,this.text=null},n.prototype.doLayout=function(){for(var e=new Qs,t=new Qs,i=[],r=this.reader.peekLine(),o=this.getLineIndent(!0);r!=null;){if(t=this.layoutLine(r,o),t!==null||typeof t<"u"){var h=0,u=this.copyToResult(e,t,i,h),g=u.success;if(h=u.numInserted,!g){this.reader.read(h);break}}this.reader.readLine(),r=this.reader.peekLine(),o=this.getLineIndent(!1)}return this.finalizeResult(e,i),e},n.prototype.getLineIndent=function(e){var t=0;return this.format!=null&&(t=e?this.format.firstLineIndent:this.format.paragraphIndent,t=this.size.width>0?Math.min(this.size.width,t):t),t},n.prototype.getLineHeight=function(){var e=this.font.height;return this.format!=null&&this.format.lineSpacing!==0&&(e=this.format.lineSpacing+this.font.height),e},n.prototype.getLineWidth=function(e){var t=this.font.getLineWidth(e,this.format);return t},n.prototype.layoutLine=function(e,t){var i=new Qs;i.layoutLineHeight=this.getLineHeight();var r=[],o=this.size.width,h=this.getLineWidth(e)+t,u=si.FirstParagraphLine,g=!0;if(o<=0||Math.round(h)<=Math.round(o))this.addToLineResult(i,r,e,h,si.NewLineBreak|u);else{var y="",x="";h=t;var S=t,T=new Gt(e),M=T.peekWord();for(M.length!==T.length&&M===" "&&(x=x+M,y=y+M,T.position+=1,M=T.peekWord());M!=null;){x=x+M;var R=this.getLineWidth(x.toString())+S;if(x.toString()===" "&&(x="",R=0),R>o){if(this.getWrapType()===pi.None)break;if(x.length===M.length)if(this.getWrapType()===pi.WordOnly){i.textRemainder=e.substring(T.position);break}else if(x.length===1){y=y+M;break}else{g=!1,x="",M=T.peek().toString();continue}else{if(this.getLineWidth(M.toString())>o?this.format.wordWrap=pi.Character:typeof this.format<"u"&&this.format!==null&&(this.format.wordWrap=pi.Word),this.getWrapType()!==pi.Character||!g){var I=y.toString();I!==" "&&this.addToLineResult(i,r,I,h,si.LayoutBreak|u),this.isOverloadWithPosition&&(o=this.clientSize.width),x="",y="",h=0,S=0,R=0,u=si.None,M=g?M:T.peekWord(),g=!0}else g=!1,x="",x=x+y.toString(),M=T.peek().toString();continue}}y=y+M,h=R,g?(T.readWord(),M=T.peekWord()):(T.read(),M=T.peek().toString())}if(y.length>0){var I=y.toString();this.addToLineResult(i,r,I,h,si.NewLineBreak|si.LastParagraphLine)}T.close()}i.layoutLines=[];for(var j=0;j<r.length;j++)i.layoutLines.push(r[j]);return r=[],i},n.prototype.addToLineResult=function(e,t,i,r,o){var h=new Pu;h.text=i,h.width=r,h.lineType=o,t.push(h);var u=e.actualSize;u.height+=this.getLineHeight(),u.width=Math.max(u.width,r),e.size=u},n.prototype.copyToResult=function(e,t,i,r){var o=!0,h=this.format!=null&&!this.format.lineLimit,u=e.actualSize.height,g=this.size.height;if(this.pageHeight>0&&g+this.rectangle.y>this.pageHeight&&(g=this.rectangle.y-this.pageHeight,g=Math.max(g,-g)),r=0,t.lines!=null)for(var y=0,x=t.lines.length;y<x;y++){var S=u+t.lineHeight;if(S<=g||g<=0||h){var T=t.lines[y];r+=T.text.length,T=this.trimLine(T,i.length===0),i.push(T);var M=e.actualSize;M.width=Math.max(M.width,T.width),e.size=M,u=S}else{o=!1;break}}if(u!=e.size.height){var R=e.actualSize;R.height=u,e.size=R}return{success:o,numInserted:r}},n.prototype.finalizeResult=function(e,t){e.layoutLines=[];for(var i=0;i<t.length;i++)e.layoutLines.push(t[i]);e.layoutLineHeight=this.getLineHeight(),this.reader.end||(e.textRemainder=this.reader.readToEnd()),t=[]},n.prototype.trimLine=function(e,t){var i=e.text,r=e.width;e.lineType&si.FirstParagraphLine;var o=this.format==null||!this.format.rightToLeft;return i=i.trim(),i.length!==e.text.length&&(r=this.getLineWidth(i),(e.lineType&si.FirstParagraphLine)>0&&(r+=this.getLineIndent(t))),e.text=i,e.width=r,e},n.prototype.getWrapType=function(){var e=this.format!=null?this.format.wordWrap:pi.Word;return e},n}(),Qs=function(){function n(){}return Object.defineProperty(n.prototype,"remainder",{get:function(){return this.textRemainder},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualSize",{get:function(){return typeof this.size>"u"&&(this.size=new ke(0,0)),this.size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lines",{get:function(){return this.layoutLines},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this.layoutLineHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return this.layoutLines==null||this.layoutLines.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineCount",{get:function(){var e=this.empty?0:this.layoutLines.length;return e},enumerable:!0,configurable:!0}),n}(),Pu=function(){function n(){}return Object.defineProperty(n.prototype,"lineType",{get:function(){return this.type},set:function(e){this.type=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this.content},set:function(e){this.content=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.lineWidth},set:function(e){this.lineWidth=e},enumerable:!0,configurable:!0}),n}(),si;(function(n){n[n.None=0]="None",n[n.NewLineBreak=1]="NewLineBreak",n[n.LayoutBreak=2]="LayoutBreak",n[n.FirstParagraphLine=4]="FirstParagraphLine",n[n.LastParagraphLine=8]="LastParagraphLine"})(si||(si={}));var Vi=function(){function n(e,t){this.fontStyle=lt.Regular,typeof e=="number"&&typeof t>"u"?this.fontSize=e:(this.fontSize=e,this.setStyle(t))}return Object.defineProperty(n.prototype,"name",{get:function(){return this.metrics.name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.metrics.getHeight(null)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this.fontStyle},set:function(e){this.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return(this.style&lt.Bold)>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return(this.style&lt.Italic)>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strikeout",{get:function(){return(this.style&lt.Strikeout)>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"underline",{get:function(){return(this.style&lt.Underline)>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"metrics",{get:function(){return this.fontMetrics},set:function(e){this.fontMetrics=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.pdfFontInternals},enumerable:!0,configurable:!0}),n.prototype.measureString=function(e,t,i,r,o){if(typeof e=="string"&&typeof t>"u")return this.measureString(e,null);if(typeof e=="string"&&(t instanceof bs||t==null)&&typeof i>"u"&&typeof r>"u"){var h=t,u=0,g=0;return this.measureString(e,h,u,g)}else if(typeof e=="string"&&(t instanceof bs||t==null)&&typeof i=="number"&&typeof r=="number"){var h=t;return this.measureString(e,0,h,i,r)}else if(typeof e=="string"&&typeof t=="number"&&(i instanceof bs||i==null)&&typeof r=="number"&&typeof o=="number"){var y=new ke(t,0),x=i;return this.measureString(e,y,x,r,o)}else{if(e==null)throw Error('ArgumentNullException("text")');var h=t,x=i,S=new Xn,T=S.layout(e,this,x,h,!1,new ke(0,0));return r=e.length,o=T.empty?0:T.lines.length,T.actualSize}},n.prototype.equalsTo=function(e){var t=this.equalsToFont(e);return t},n.prototype.getInternals=function(){return this.pdfFontInternals},n.prototype.setInternals=function(e){if(e==null)throw new Error("ArgumentNullException:internals");this.pdfFontInternals=e},n.prototype.setStyle=function(e){this.fontStyle=e},n.prototype.applyFormatSettings=function(e,t,i){var r=i;if(t!=null&&i>0&&(t.characterSpacing!==0&&(r+=(e.length-1)*t.characterSpacing),t.wordSpacing!==0)){var o=Gt.spaces,h=Gt.getCharsCount(e,o);r+=h*t.wordSpacing}return r},n.charSizeMultiplier=.001,n.syncObject=new Object,n}(),za=function(){function n(e){this.streamWriter=e}return Object.defineProperty(n.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stream",{get:function(){return this.streamWriter},enumerable:!0,configurable:!0}),n.prototype.write=function(e){var t=e;this.streamWriter.write(t)},n}(),Eu=function(){function n(){this.buffer=new Mu}return n.prototype.write=function(e){this.buffer.write(e)},n.prototype.destroy=function(){this.buffer&&(this.buffer.destroy(),this.buffer=void 0)},n}(),Mu=function(){function n(){this.buffer=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0}),n.prototype.write=function(e){for(var t=0;t<e.length;t++)this.buffer.push(e.charCodeAt(t)&255)},n.prototype.destroy=function(){this.buffer&&(this.buffer=[],this.buffer=void 0)},n}(),Jr;(function(n){n[n.None=0]="None",n[n.Registered=1]="Registered"})(Jr||(Jr={}));var Ou=function(){function n(){this.objectCollections=[],this.mainObjectCollection=new at,this.primitiveObjectCollection=new at}return Object.defineProperty(n.prototype,"count",{get:function(){return this.objectCollections.length},enumerable:!0,configurable:!0}),n.prototype.items=function(e){return this.objectCollections[e]},Object.defineProperty(n.prototype,"outIsNew",{get:function(){return this.isNew},enumerable:!0,configurable:!0}),n.prototype.add=function(e){var t=new Iu(e);this.objectCollections.push(t),this.primitiveObjectCollection.containsKey(e)||this.primitiveObjectCollection.setValue(e,this.objectCollections.length-1),e.position=this.index=this.objectCollections.length-1,e.status=Jr.Registered},n.prototype.lookFor=function(e){var t=-1;if(e.position!==-1)return e.position;if(this.primitiveObjectCollection.containsKey(e)&&this.count===this.primitiveObjectCollection.size())t=this.primitiveObjectCollection.getValue(e);else for(var i=this.count-1;i>=0;i--){var r=this.objectCollections[i];if(r.object===e){t=i;break}}return t},n.prototype.getReference=function(e,t){this.index=this.lookFor(e);var i;this.isNew=!1;var r=this.objectCollections[this.index];i=r.reference;var o={reference:i,wasNew:t};return o},n.prototype.trySetReference=function(e,t,i){var r=!0;this.index=this.lookFor(e);var o=this.objectCollections[this.index];return o.setReference(t),r},n.prototype.destroy=function(){for(var e=0,t=this.objectCollections;e<t.length;e++){var i=t[e];i!==void 0&&(i.pdfObject.position=-1,i.pdfObject.isSaving=void 0,i.pdfObject.objectCollectionIndex=void 0,i.pdfObject.position=void 0)}this.objectCollections=[],this.mainObjectCollection=new at,this.primitiveObjectCollection=new at},n}(),Iu=function(){function n(e,t){this.pdfObject=e,this.pdfReference=t}return Object.defineProperty(n.prototype,"object",{get:function(){return this.pdfObject},set:function(e){this.pdfObject=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),n.prototype.setReference=function(e){this.pdfReference=e},n}(),Ru=function(){function n(e){this.isStreamCopied=!1,e instanceof _s&&(this.document=e)}return Object.defineProperty(n.prototype,"pdfObjects",{get:function(){return this.objects},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"crossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentSavingObj",{get:function(){return this.currentSavingObject},set:function(e){this.currentSavingObject=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catalog",{get:function(){return this.pdfCatalog},set:function(e){this.pdfCatalog=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewerPreferences",{get:function(){return this.pdfCatalog.viewerPreferences},enumerable:!0,configurable:!0}),n.prototype.setMainObjectCollection=function(e){this.objects=e},n.prototype.setCrossTable=function(e){this.pdfCrossTable=e},n.prototype.setCatalog=function(e){this.pdfCatalog=e},n.prototype.save=function(e){var t=this,i=new Er(!0),r=new Oa(i);if(typeof e>"u"){var o=new Er(!0),h=new Oa(o);return new Promise(function(u,g){var y={};y.blobData=new Blob([t.document.docSave(h,!0)],{type:"application/pdf"}),u(y)})}else this.document.docSave(r,e,!0)},n.prototype.clone=function(){return this.document},n.prototype._save=function(){return this.document._docSave()},n}(),Qr;(function(n){n[n.Free=0]="Free",n[n.Normal=1]="Normal",n[n.Packed=2]="Packed"})(Qr||(Qr={}));var Ei=function(){function n(e){this.currentPosition=-1,this.value=e}return Object.defineProperty(n.prototype,"status",{get:function(){return this.objectStatus},set:function(e){this.objectStatus=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.saving},set:function(e){this.saving=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.currentPosition},set:function(e){this.currentPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){var e=null;return e},enumerable:!0,configurable:!0}),n.prototype.save=function(e){e.write(this.boolToStr(this.value))},n.prototype.clone=function(e){var t=new n(this.value);return t},n.prototype.boolToStr=function(e){return e?"true":"false"},n}(),Bu=function(){function n(e){this._dictionaryProperties=new bt,this._centerWindow=!1,this._fitWindow=!1,this._displayTitle=!1,this._splitWindow=!1,this._hideMenuBar=!1,this._hideToolBar=!1,this._hideWindowUI=!1,this._pageMode=Ci.UseNone,this._pageLayout=Ai.SinglePage,this._dictionary=new it,this._duplex=Ki.None,this._catalog=e}return Object.defineProperty(n.prototype,"centerWindow",{get:function(){return this._centerWindow},set:function(e){this._centerWindow=e,this._dictionary.items.setValue(this._dictionaryProperties.centerWindow,new Ei(this._centerWindow))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayTitle",{get:function(){return this._displayTitle},set:function(e){this._displayTitle=e,this._dictionary.items.setValue(this._dictionaryProperties.displayTitle,new Ei(this._displayTitle))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fitWindow",{get:function(){return this._fitWindow},set:function(e){this._fitWindow=e,this._dictionary.items.setValue(this._dictionaryProperties.fitWindow,new Ei(this._fitWindow))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideMenuBar",{get:function(){return this._hideMenuBar},set:function(e){this._hideMenuBar=e,this._dictionary.items.setValue(this._dictionaryProperties.hideMenuBar,new Ei(this._hideMenuBar))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideToolBar",{get:function(){return this._hideToolBar},set:function(e){this._hideToolBar=e,this._dictionary.items.setValue(this._dictionaryProperties.hideToolBar,new Ei(this._hideToolBar))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideWindowUI",{get:function(){return this._hideWindowUI},set:function(e){this._hideWindowUI=e,this._dictionary.items.setValue(this._dictionaryProperties.hideWindowUI,new Ei(this._hideWindowUI))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageMode",{get:function(){return this._pageMode},set:function(e){this._pageMode=e,this._catalog.items.setValue(this._dictionaryProperties.pageMode,new Oe(this._mapPageMode(this._pageMode)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"duplex",{get:function(){return this._duplex},set:function(e){this._duplex=e,this._catalog.items.setValue(this._dictionaryProperties.duplex,new Oe(this._mapDuplexMode(this._duplex)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageLayout",{get:function(){return this._pageLayout},set:function(e){this._pageLayout=e,this._catalog.items.setValue(this._dictionaryProperties.pageLayout,new Oe(this._mapPageLayout(this._pageLayout)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageScaling",{get:function(){return this._pageScaling},set:function(e){this._pageScaling=e,this._pageScaling===Es.AppDefault&&this._dictionary.items.containsKey(this._dictionaryProperties.printScaling)?this._dictionary.items.remove(this._dictionaryProperties.printScaling):this._pageScaling===Es.None&&this._dictionary.items.setValue(this._dictionaryProperties.printScaling,new Oe("None"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this._dictionary},enumerable:!0,configurable:!0}),n.prototype._mapDuplexMode=function(e){switch(e){case Ki.Simplex:return"Simplex";case Ki.DuplexFlipShortEdge:return"DuplexFlipShortEdge";case Ki.DuplexFlipLongEdge:return"DuplexFlipLongEdge";case Ki.None:return"None"}},n.prototype._mapPageMode=function(e){switch(e){case Ci.UseNone:return"UseNone";case Ci.UseOutlines:return"UseOutlines";case Ci.UseThumbs:return"UseThumbs";case Ci.FullScreen:return"FullScreen";case Ci.UseOC:return"UseOC";case Ci.UseAttachments:return"UseAttachments"}},n.prototype._mapPageLayout=function(e){switch(e){case Ai.SinglePage:return"SinglePage";case Ai.OneColumn:return"OneColumn";case Ai.TwoColumnLeft:return"TwoColumnLeft";case Ai.TwoColumnRight:return"TwoColumnRight";case Ai.TwoPageLeft:return"TwoPageLeft";case Ai.TwoPageRight:return"TwoPageRight"}},n}(),Ci;(function(n){n[n.UseNone=0]="UseNone",n[n.UseOutlines=1]="UseOutlines",n[n.UseThumbs=2]="UseThumbs",n[n.FullScreen=3]="FullScreen",n[n.UseOC=4]="UseOC",n[n.UseAttachments=5]="UseAttachments"})(Ci||(Ci={}));var Ai;(function(n){n[n.SinglePage=0]="SinglePage",n[n.OneColumn=1]="OneColumn",n[n.TwoColumnLeft=2]="TwoColumnLeft",n[n.TwoColumnRight=3]="TwoColumnRight",n[n.TwoPageLeft=4]="TwoPageLeft",n[n.TwoPageRight=5]="TwoPageRight"})(Ai||(Ai={}));var Ki;(function(n){n[n.Simplex=0]="Simplex",n[n.DuplexFlipShortEdge=1]="DuplexFlipShortEdge",n[n.DuplexFlipLongEdge=2]="DuplexFlipLongEdge",n[n.None=3]="None"})(Ki||(Ki={}));var Es;(function(n){n[n.AppDefault=0]="AppDefault",n[n.None=1]="None"})(Es||(Es={}));var Fu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hl=function(n){Fu(e,n);function e(){var t=n.call(this)||this;return t.sections=null,t.tempDictionaryProperties=new bt,t.items.setValue(new bt().type,new Oe("Catalog")),t}return Object.defineProperty(e.prototype,"pages",{get:function(){return this.sections},set:function(t){t.element,this.sections=t,this.items.setValue(this.tempDictionaryProperties.pages,new rt(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewerPreferences",{get:function(){return(this._viewerPreferences===null||typeof this._viewerPreferences>"u")&&(this._viewerPreferences=new Bu(this),this.items.setValue(this.tempDictionaryProperties.viewerPreferences,new rt(this._viewerPreferences.element))),this._viewerPreferences},enumerable:!0,configurable:!0}),e}(it),cl=function(){function n(){this.objects=new at,this.maxGenNumIndex=0,this.objectCount=0,this.dictionaryProperties=new bt}return Object.defineProperty(n.prototype,"isMerging",{get:function(){return this.merging},set:function(e){this.merging=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"trailer",{get:function(){return this.internalTrailer==null&&(this.internalTrailer=new qt),this.internalTrailer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e,this.items=this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pdfObjects",{get:function(){return this.items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollection",{get:function(){return this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this.objectCount},set:function(e){this.objectCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nextObjNumber",{get:function(){return this.count=this.count+1,this.count},enumerable:!0,configurable:!0}),n.prototype.save=function(e,t){if(this._saveProcess(e),typeof t>"u")return e.stream.buffer;e.stream.save(t)},n.prototype._saveProcess=function(e){this.saveHead(e),this.mappedReferences=null,this.objects.clear(),this.markTrailerReferences(),this.saveObjects(e);var t=this.count,i=e.position;this.registerObject(0,new mn(0,-1),!0);var r=0;e.write(he.xref),e.write(he.newLine),this.saveSections(e),this.saveTrailer(e,this.count,r),this.saveTheEndess(e,i),this.count=t;for(var o=0;o<this.objectCollection.count;++o){var h=this.objectCollection.items(o);h.object.isSaving=!1}},n.prototype._save=function(e){return this._saveProcess(e),new Uint8Array(e.stream.buffer.buffer)},n.prototype.saveTheEndess=function(e,t){e.write(he.newLine+he.startxref+he.newLine),e.write(t.toString()+he.newLine),e.write(he.eof+he.newLine)},n.prototype.saveTrailer=function(e,t,i){e.write(he.trailer+he.newLine);var r=this.trailer;r.items.setValue(this.dictionaryProperties.size,new Pe(this.objectCount+1)),r=new it(r),r.setEncrypt(!1),r.save(e)},n.prototype.saveSections=function(e){var t=0,i=0;do i=this.prepareSubsection(t),this.saveSubsection(e,t,i),t+=i;while(i!==0)},n.prototype.saveSubsection=function(e,t,i){if(!(i<=0||t>=this.count)){e.write(t+" "+(i+1)+he.newLine);for(var r=t;r<=t+i;++r){var o=this.objects.getValue(r),h="";o.type===Qr.Free?h=this.getItem(o.offset,65535,!0):h=this.getItem(o.offset,o.generation,!1),e.write(h)}}},n.prototype.getItem=function(e,t,i){var r="",o=10-e.toString().length;t<=0&&(t=0);for(var h=5-t.toString().length<=0?0:5-t.toString().length,u=0;u<o;u++)r=r+"0";r=r+e.toString()+" ";for(var u=0;u<h;u++)r=r+"0";return r=r+t.toString()+" ",r=r+(i?he.f:he.n)+he.newLine,r},n.prototype.prepareSubsection=function(e){for(var t=0,i,r=this.count,o=0;o<this.document.pdfObjects.count;o++){var h=this.document.pdfObjects.items(o).reference,u=h.toString();u.split(" ")}if(e>=r)return t;for(i=e;i<r;++i)break;for(e=i;i<r;++i)++t;return t},n.prototype.markTrailerReferences=function(){this.trailer.items.keys(),this.trailer.items.values()},n.prototype.saveHead=function(e){var t=this.generateFileVersion(e.document);e.write("%PDF-"+t),e.write(he.newLine)},n.prototype.generateFileVersion=function(e){var t=4,i="1."+t.toString();return i},n.prototype.getReference=function(e,t){if(typeof t>"u"){var i=!1;return this.getReference(e,i)}else return this.getSubReference(e,t)},n.prototype.getSubReference=function(e,t){var i=!1,r,o=null;if(this.items.count>0&&e.objectCollectionIndex>0&&this.items.count>e.objectCollectionIndex-1){var h=this.document.pdfObjects.getReference(e,r);o=h.reference,r=h.wasNew}if(o==null?e.status===Jr.Registered?r=!1:r=!0:r=!1,o==null){var u=this.nextObjNumber;o=new mn(u,0);var g=void 0;if(r){this.document.pdfObjects.add(e),this.document.pdfObjects.trySetReference(e,o,g);var y=this.document.pdfObjects.count-1,x=this.document.pdfObjects.objectCollections[y].reference.objNumber,S=this.document.pdfObjects.objectCollections[this.document.pdfObjects.count-1];this.document.pdfObjects.mainObjectCollection.setValue(x,S),e.position=-1}else this.document.pdfObjects.trySetReference(e,o,g);e.objectCollectionIndex=o.objNumber,e.status=Jr.None,i=!0}return i||this.bForceNew,o},n.prototype.saveObjects=function(e){for(var t=this.objectCollection,i=0;i<t.count;++i){var r=t.items(i),o=r.object;o.isSaving=!0,this.saveIndirectObject(o,e)}},n.prototype.saveIndirectObject=function(e,t){var i=this.getReference(e);e instanceof hl&&this.trailer.items.setValue(this.dictionaryProperties.root,i),this.pdfDocument.currentSavingObj=i,e.getArchive(),this.registerObject(t.position,i),this.doSaveObject(e,i,t)},n.prototype.doSaveObject=function(e,t,i){i.write(t.objNumber.toString()),i.write(he.whiteSpace),i.write(t.genNumber.toString()),i.write(he.whiteSpace),i.write(he.obj),i.write(he.newLine),e.save(i),i.write(he.endObj),i.write(he.newLine)},n.prototype.registerObject=function(e,t,i){typeof i=="boolean"?(this.objects.setValue(t.objNumber,new _a(e,t,i)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber)):typeof i>"u"&&(this.objects.setValue(t.objNumber,new _a(e,t)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber))},n.dereference=function(e){var t=e;return t!=null&&(e=t.object),e},n}(),_a=function(){function n(e,t,i){var r=e;this.offsetNumber=r;var o=t;this.generation=o.genNumber,this.object=o.objNumber,typeof i>"u"?this.type=Qr.Normal:this.type=Qr.Free}return Object.defineProperty(n.prototype,"objectNumber",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offset",{get:function(){var e;return e=this.offsetNumber,e},enumerable:!0,configurable:!0}),n}(),Du=function(){function n(){}return n.letter=new ke(612,792),n.note=new ke(540,720),n.legal=new ke(612,1008),n.a0=new ke(2380,3368),n.a1=new ke(1684,2380),n.a2=new ke(1190,1684),n.a3=new ke(842,1190),n.a4=new ke(595,842),n.a5=new ke(421,595),n.a6=new ke(297,421),n.a7=new ke(210,297),n.a8=new ke(148,210),n.a9=new ke(105,148),n.a10=new ke(74,105),n.b0=new ke(2836,4008),n.b1=new ke(2004,2836),n.b2=new ke(1418,2004),n.b3=new ke(1002,1418),n.b4=new ke(709,1002),n.b5=new ke(501,709),n.archE=new ke(2592,3456),n.archD=new ke(1728,2592),n.archC=new ke(1296,1728),n.archB=new ke(864,1296),n.archA=new ke(648,864),n.flsa=new ke(612,936),n.halfLetter=new ke(396,612),n.letter11x17=new ke(792,1224),n.ledger=new ke(1224,792),n}(),er;(function(n){n[n.Portrait=0]="Portrait",n[n.Landscape=1]="Landscape"})(er||(er={}));var xn;(function(n){n[n.RotateAngle0=0]="RotateAngle0",n[n.RotateAngle90=1]="RotateAngle90",n[n.RotateAngle180=2]="RotateAngle180",n[n.RotateAngle270=3]="RotateAngle270"})(xn||(xn={}));var Va;(function(n){n[n.None=0]="None",n[n.Numeric=1]="Numeric",n[n.LowerLatin=2]="LowerLatin",n[n.LowerRoman=3]="LowerRoman",n[n.UpperLatin=4]="UpperLatin",n[n.UpperRoman=5]="UpperRoman"})(Va||(Va={}));var dt;(function(n){n[n.None=0]="None",n[n.Bottom=1]="Bottom",n[n.Top=2]="Top",n[n.Left=3]="Left",n[n.Right=4]="Right",n[n.Fill=5]="Fill"})(dt||(dt={}));var Be;(function(n){n[n.None=0]="None",n[n.TopLeft=1]="TopLeft",n[n.TopCenter=2]="TopCenter",n[n.TopRight=3]="TopRight",n[n.MiddleLeft=4]="MiddleLeft",n[n.MiddleCenter=5]="MiddleCenter",n[n.MiddleRight=6]="MiddleRight",n[n.BottomLeft=7]="BottomLeft",n[n.BottomCenter=8]="BottomCenter",n[n.BottomRight=9]="BottomRight"})(Be||(Be={}));var ze;(function(n){n[n.None=0]="None",n[n.Top=1]="Top",n[n.Bottom=2]="Bottom",n[n.Left=3]="Left",n[n.Right=4]="Right"})(ze||(ze={}));var Nu=function(){function n(){this.pdfMargin=40,this.setMargins(this.pdfMargin)}return Object.defineProperty(n.prototype,"left",{get:function(){return this.leftMargin},set:function(e){this.leftMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.topMargin},set:function(e){this.topMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.rightMargin},set:function(e){this.rightMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.bottomMargin},set:function(e){this.bottomMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"all",{set:function(e){this.setMargins(e)},enumerable:!0,configurable:!0}),n.prototype.setMargins=function(e,t,i,r){typeof t>"u"?this.leftMargin=this.topMargin=this.rightMargin=this.bottomMargin=e:typeof i>"u"?(this.leftMargin=this.rightMargin=e,this.bottomMargin=this.topMargin=t):(this.leftMargin=e,this.topMargin=t,this.rightMargin=i,this.bottomMargin=r)},n.prototype.clone=function(){return this},n}(),zu=function(){function n(e){this.pageMargins=new Nu,this.pageSize=Du.a4,this.rotateAngle=xn.RotateAngle0,this.pageOrientation=er.Portrait,this.pageOrigin=new je(0,0),this.isRotation=!1,typeof e=="number"&&this.pageMargins.setMargins(e)}return Object.defineProperty(n.prototype,"size",{get:function(){return this.pageSize},set:function(e){this.setSize(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(e){this.pageOrientation!==e&&(this.pageOrientation=e,this.updateSize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"margins",{get:function(){return this.pageMargins},set:function(e){this.pageMargins=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.pageSize.width},set:function(e){this.pageSize.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.pageSize.height},set:function(e){this.pageSize.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"origin",{get:function(){return this.pageOrigin},set:function(e){this.pageOrigin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotate",{get:function(){return this.rotateAngle},set:function(e){this.rotateAngle=e,this.isRotation=!0},enumerable:!0,configurable:!0}),n.prototype.updateSize=function(e){var t=Math.min(this.pageSize.width,this.pageSize.height),i=Math.max(this.pageSize.width,this.pageSize.height);switch(e){case er.Portrait:this.pageSize=new ke(t,i);break;case er.Landscape:this.pageSize=new ke(i,t);break}},n.prototype.clone=function(){var e=this;return e.pageMargins=this.pageMargins.clone(),e},n.prototype.getActualSize=function(){var e=this.width-(this.margins.left+this.margins.right),t=this.height-(this.margins.top+this.margins.bottom),i=new ke(e,t);return i},n.prototype.setSize=function(e){var t=Math.min(e.width,e.height),i=Math.max(e.width,e.height);this.orientation===er.Portrait?this.pageSize=new ke(t,i):this.pageSize=new ke(i,t)},n}(),Ha=function(){function n(e){if(e==null)throw new Error("ArgumentNullException:stream");this.stream=e}return n.prototype.clear=function(){this.stream.clearStream()},n.prototype.setGraphicsState=function(e){e instanceof Oe?(this.stream.write(e.toString()),this.stream.write(he.whiteSpace),this.writeOperator(he.setGraphicsState)):(this.stream.write(he.slash),this.stream.write(e),this.stream.write(he.whiteSpace),this.writeOperator(he.setGraphicsState))},n.prototype.executeObject=function(e){this.stream.write(e.toString()),this.stream.write(he.whiteSpace),this.writeOperator(he.paintXObject),this.stream.write(he.newLine)},n.prototype.closePath=function(){this.writeOperator(he.closePath)},n.prototype.clipPath=function(e){this.stream.write(he.clipPath),e&&this.stream.write(he.evenOdd),this.stream.write(he.whiteSpace),this.stream.write(he.endPath),this.stream.write(he.newLine)},n.prototype.closeFillStrokePath=function(e){this.stream.write(he.closeFillStrokePath),e?(this.stream.write(he.evenOdd),this.stream.write(he.newLine)):this.stream.write(he.newLine)},n.prototype.fillStrokePath=function(e){this.stream.write(he.fillStroke),e?(this.stream.write(he.evenOdd),this.stream.write(he.newLine)):this.stream.write(he.newLine)},n.prototype.fillPath=function(e){this.stream.write(he.fill),e?(this.stream.write(he.evenOdd),this.stream.write(he.newLine)):this.stream.write(he.newLine)},n.prototype.endPath=function(){this.writeOperator(he.n)},n.prototype.closeFillPath=function(e){this.writeOperator(he.closePath),this.stream.write(he.fill),e?(this.stream.write(he.evenOdd),this.stream.write(he.newLine)):this.stream.write(he.newLine)},n.prototype.closeStrokePath=function(){this.writeOperator(he.closeStrokePath)},n.prototype.setTextScaling=function(e){this.stream.write(Pe.floatToString(e)),this.stream.write(he.whiteSpace),this.writeOperator(he.setTextScaling)},n.prototype.strokePath=function(){this.writeOperator(he.stroke)},n.prototype.restoreGraphicsState=function(){this.writeOperator(he.restoreState)},n.prototype.saveGraphicsState=function(){this.writeOperator(he.saveState)},n.prototype.startNextLine=function(e,t){typeof e>"u"?this.writeOperator(he.goToNextLine):e instanceof je?(this.writePoint(e),this.writeOperator(he.setCoords)):(this.writePoint(e,t),this.writeOperator(he.setCoords))},n.prototype.showText=function(e){this.checkTextParam(e),this.writeText(e),this.writeOperator(he.setText)},n.prototype.setLeading=function(e){this.stream.write(Pe.floatToString(e)),this.stream.write(he.whiteSpace),this.writeOperator(he.setTextLeading)},n.prototype.beginPath=function(e,t){this.writePoint(e,t),this.writeOperator(he.beginPath)},n.prototype.beginText=function(){this.writeOperator(he.beginText)},n.prototype.endText=function(){this.writeOperator(he.endText)},n.prototype.appendRectangle=function(e,t,i,r){e instanceof tt?this.appendRectangle(e.x,e.y,e.width,e.height):(this.writePoint(e,t),this.writePoint(i,r),this.writeOperator(he.appendRectangle))},n.prototype.appendLineSegment=function(e,t){e instanceof je?this.appendLineSegment(e.x,e.y):(this.writePoint(e,t),this.writeOperator(he.appendLineSegment))},n.prototype.setTextRenderingMode=function(e){this.stream.write(e.toString()),this.stream.write(he.whiteSpace),this.writeOperator(he.setRenderingMode)},n.prototype.setCharacterSpacing=function(e){this.stream.write(Pe.floatToString(e)),this.stream.write(he.whiteSpace),this.stream.write(he.setCharacterSpace),this.stream.write(he.newLine)},n.prototype.setWordSpacing=function(e){this.stream.write(Pe.floatToString(e)),this.stream.write(he.whiteSpace),this.writeOperator(he.setWordSpace)},n.prototype.showNextLineText=function(e,t){e instanceof Ht?(this.checkTextParam(e),this.writeText(e),this.writeOperator(he.setTextOnNewLine)):(this.checkTextParam(e),this.writeText(e,t),this.writeOperator(he.setTextOnNewLine))},n.prototype.setColorSpace=function(e,t){if(e instanceof Oe&&typeof t=="boolean"){var i=e,r=t,o=r?he.selectcolorspaceforstroking:he.selectcolorspacefornonstroking;this.stream.write(i.toString()),this.stream.write(he.whiteSpace),this.stream.write(o),this.stream.write(he.newLine)}else{var i=e,r=t;this.setColorSpace(new Oe(i),r)}},n.prototype.modifyCtm=function(e){if(e==null)throw new Error("ArgumentNullException:matrix");this.stream.write(e.toString()),this.stream.write(he.whiteSpace),this.writeOperator(he.modifyCtm)},n.prototype.setFont=function(e,t,i){if(typeof t=="string")this.setFont(e,new Oe(t),i);else{if(e==null)throw new Error("ArgumentNullException:font");this.stream.write(t.toString()),this.stream.write(he.whiteSpace),this.stream.write(Pe.floatToString(i)),this.stream.write(he.whiteSpace),this.writeOperator(he.setFont)}},n.prototype.writeOperator=function(e){this.stream.write(e),this.stream.write(he.newLine)},n.prototype.checkTextParam=function(e){if(e==null)throw new Error("ArgumentNullException:text");if(typeof e=="string"&&e==="")throw new Error("ArgumentException:The text can not be an empty string, text")},n.prototype.writeText=function(e,t){if(e instanceof Ht&&typeof t>"u")this.stream.write(e.pdfEncode());else{var i=void 0,r=void 0;t?(i=Ht.hexStringMark[0],r=Ht.hexStringMark[1]):(i=Ht.stringMark[0],r=Ht.stringMark[1]),this.stream.write(i),this.stream.write(e),this.stream.write(r)}},n.prototype.writePoint=function(e,t){if(e instanceof je&&typeof t>"u")this.writePoint(e.x,e.y);else{var i=e;this.stream.write(Pe.floatToString(i)),this.stream.write(he.whiteSpace),t=this.updateY(t),this.stream.write(Pe.floatToString(t)),this.stream.write(he.whiteSpace)}},n.prototype.updateY=function(e){return-e},n.prototype.write=function(e){var t="";t+=e,t+=he.newLine,this.writeOperator(t)},n.prototype.writeComment=function(e){if(e!=null&&e.length>0){var t="";t+=he.comment,t+=he.whiteSpace,t+=e,this.writeOperator(t)}else throw new Error("Invalid comment")},n.prototype.setColorAndSpace=function(e,t,i){e.isEmpty||(this.stream.write(e.toString(t,i)),this.stream.write(he.newLine))},n.prototype.setLineDashPattern=function(e,t){this.setLineDashPatternHelper(e,t)},n.prototype.setLineDashPatternHelper=function(e,t){var i="[";if(e.length>1)for(var r=0;r<e.length;r++)r===e.length-1?i+=e[r].toString():i+=e[r].toString()+" ";i+="] ",i+=t.toString(),i+=" "+he.setDashPattern,this.stream.write(i),this.stream.write(he.newLine)},n.prototype.setMiterLimit=function(e){this.stream.write(Pe.floatToString(e)),this.stream.write(he.whiteSpace),this.writeOperator(he.setMiterLimit)},n.prototype.setLineWidth=function(e){this.stream.write(Pe.floatToString(e)),this.stream.write(he.whiteSpace),this.writeOperator(he.setLineWidth)},n.prototype.setLineCap=function(e){this.stream.write(e.toString()),this.stream.write(he.whiteSpace),this.writeOperator(he.setLineCapStyle)},n.prototype.setLineJoin=function(e){this.stream.write(e.toString()),this.stream.write(he.whiteSpace),this.writeOperator(he.setLineJoinStyle)},Object.defineProperty(n.prototype,"position",{get:function(){return this.stream.position},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){var e=0;if(this.stream.data.length!==0&&this.stream.data.length!==-1)for(var t=0;t<this.stream.data.length;t++)e+=this.stream.data[t].length;return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"document",{get:function(){return null},enumerable:!0,configurable:!0}),n.prototype.appendBezierSegment=function(e,t,i,r,o,h){e instanceof je&&t instanceof je&&i instanceof je?(this.writePoint(e.x,e.y),this.writePoint(t.x,t.y),this.writePoint(i.x,i.y)):(this.writePoint(e,t),this.writePoint(i,r),this.writePoint(o,h)),this.writeOperator(he.appendbeziercurve)},n.prototype.setColourWithPattern=function(e,t,i){if(e!=null){var r=e.length,o=0;for(o=0;o<r;++o)this.stream.write(e[o].toString()),this.stream.write(he.whiteSpace)}t!=null&&(this.stream.write(t.toString()),this.stream.write(he.whiteSpace)),i?this.writeOperator(he.setColorAndPatternStroking):this.writeOperator(he.setColorAndPattern)},n}(),gs=function(){function n(e,t){this.pdfColor=new rr(0,0,0),this.dashOffsetValue=0,this.penDashPattern=[0],this.pdfDashStyle=ui.Solid,this.pdfLineCap=0,this.pdfLineJoin=0,this.penWidth=1,this.internalMiterLimit=0,this.colorSpace=ct.Rgb,e instanceof sr?this.setBrush(e):e instanceof rr&&(this.color=e),typeof t=="number"&&(this.width=t)}return Object.defineProperty(n.prototype,"color",{get:function(){return this.pdfColor},set:function(e){this.pdfColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dashOffset",{get:function(){return typeof this.dashOffsetValue>"u"||this.dashOffsetValue==null?0:this.dashOffsetValue},set:function(e){this.dashOffsetValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dashPattern",{get:function(){return this.penDashPattern},set:function(e){this.penDashPattern=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dashStyle",{get:function(){return this.pdfDashStyle},set:function(e){if(this.pdfDashStyle!==e)switch(this.pdfDashStyle=e,this.pdfDashStyle){case ui.Custom:break;case ui.Dash:this.penDashPattern=[3,1];break;case ui.Dot:this.penDashPattern=[1,1];break;case ui.DashDot:this.penDashPattern=[3,1,1,1];break;case ui.DashDotDot:this.penDashPattern=[3,1,1,1,1,1];break;case ui.Solid:break;default:this.pdfDashStyle=ui.Solid,this.penDashPattern=[0];break}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineCap",{get:function(){return this.pdfLineCap},set:function(e){this.pdfLineCap=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this.pdfLineJoin},set:function(e){this.pdfLineJoin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"miterLimit",{get:function(){return this.internalMiterLimit},set:function(e){this.internalMiterLimit=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.penWidth},set:function(e){this.penWidth=e},enumerable:!0,configurable:!0}),n.prototype.clone=function(){var e=this;return e},n.prototype.setBrush=function(e){var t=e;t!=null&&t instanceof Mr&&(this.color=t.color,this.pdfBrush=t),this.color=t.color,this.pdfBrush=t},n.prototype.monitorChanges=function(e,t,i,r,o,h){var u=!1;r=!0,e==null&&(u=!0),u=this.dashControl(e,r,t),t.setLineWidth(this.width),t.setLineJoin(this.lineJoin),t.setLineCap(this.lineCap);var g=this.miterLimit;return g>0&&(t.setMiterLimit(g),u=!0),this.pdfBrush,t.setColorAndSpace(this.color,o,!0),u=!0,u},n.prototype.dashControl=function(e,t,i){t=!0;var r=this.width,o=this.getPattern();return i.setLineDashPattern(o,this.dashOffset*r),t},n.prototype.getPattern=function(){for(var e=this.dashPattern,t=0;t<e.length;++t)e[t]*=this.width;return e},n}(),bi=function(){function n(e){this.radDegFactor=180/Math.PI,typeof e>"u"?this.transformationMatrix=new wn(1,0,0,1,0,0):this.transformationMatrix=new wn(1,0,0,-1,0,0)}return Object.defineProperty(n.prototype,"matrix",{get:function(){return this.transformationMatrix},set:function(e){this.transformationMatrix=e},enumerable:!0,configurable:!0}),n.prototype.translate=function(e,t){this.transformationMatrix.translate(e,t)},n.prototype.scale=function(e,t){this.transformationMatrix.elements[0]=e,this.transformationMatrix.elements[3]=t},n.prototype.rotate=function(e){e=e*Math.PI/180,this.transformationMatrix.elements[0]=Math.cos(e),this.transformationMatrix.elements[1]=Math.sin(e),this.transformationMatrix.elements[2]=-Math.sin(e),this.transformationMatrix.elements[3]=Math.cos(e)},n.prototype.toString=function(){for(var e="",t=" ",i=0,r=this.transformationMatrix.elements.length;i<r;i++)this.matrix.elements[i],e+=Pe.floatToString(this.transformationMatrix.elements[i]),e+=t;return e},n.prototype.multiply=function(e){this.transformationMatrix.multiply(e.matrix)},n.degreesToRadians=function(e){return this.degRadFactor*e},n.prototype.radiansToDegrees=function(e){return this.radDegFactor*e},n.prototype.clone=function(){return this},n.degRadFactor=Math.PI/180,n}(),wn=function(){function n(e,t,i,r,o,h){typeof e>"u"?this.metrixElements=[]:typeof e=="number"?(this.metrixElements=[],this.metrixElements.push(e),this.metrixElements.push(t),this.metrixElements.push(i),this.metrixElements.push(r),this.metrixElements.push(o),this.metrixElements.push(h)):this.metrixElements=e}return Object.defineProperty(n.prototype,"elements",{get:function(){return this.metrixElements},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offsetX",{get:function(){return this.metrixElements[4]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offsetY",{get:function(){return this.metrixElements[5]},enumerable:!0,configurable:!0}),n.prototype.translate=function(e,t){this.metrixElements[4]=e,this.metrixElements[5]=t},n.prototype.transform=function(e){var t=e.x,i=e.y,r=t*this.elements[0]+i*this.elements[2]+this.offsetX,o=t*this.elements[1]+i*this.elements[3]+this.offsetY;return new je(r,o)},n.prototype.multiply=function(e){var t=[];t.push(this.elements[0]*e.elements[0]+this.elements[1]*e.elements[2]),t[1]=this.elements[0]*e.elements[1]+this.elements[1]*e.elements[3],t[2]=this.elements[2]*e.elements[0]+this.elements[3]*e.elements[2],t[3]=this.elements[2]*e.elements[1]+this.elements[3]*e.elements[3],t[4]=this.offsetX*e.elements[0]+this.offsetY*e.elements[2]+e.offsetX,t[5]=this.offsetX*e.elements[1]+this.offsetY*e.elements[3]+e.offsetY;for(var i=0;i<t.length;i++)this.elements[i]=t[i]},n.prototype.dispose=function(){this.metrixElements=null},n.prototype.clone=function(){var e=new n(this.metrixElements);return e},n}(),_u=function(){function n(){this.pdf="PDF",this.text="Text",this.imageB="ImageB",this.imageC="ImageC",this.imageI="ImageI"}return n}(),ul=function(){function n(){this.mKeys=[],this.mValues=[]}return n.prototype.size=function(){return this.mKeys.length},n.prototype.add=function(e,t){if(e==null||t===void 0||t===null)throw new ReferenceError("Provided key or value is not valid.");var i=this.mKeys.indexOf(e);if(i<0)return this.mKeys.push(e),this.mValues.push(t),1;throw new RangeError("An item with the same key has already been added.")},n.prototype.keys=function(){return this.mKeys},n.prototype.values=function(){return this.mValues},n.prototype.getValue=function(e){if(e==null)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mValues[t]},n.prototype.setValue=function(e,t){if(e==null)throw new ReferenceError("Provided key is not valid.");var i=this.mKeys.indexOf(e);i<0?(this.mKeys.push(e),this.mValues.push(t)):this.mValues[i]=t},n.prototype.remove=function(e){if(e==null)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mKeys.splice(t,1),this.mValues.splice(t,1),!0},n.prototype.containsKey=function(e){if(e==null)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);return!(t<0)},n.prototype.clear=function(){this.mKeys=[],this.mValues=[]},n}(),Sn=function(){function n(e,t,i){this.dictionary=new it,this.dictionaryProperties=new bt,this.dictionary.items.setValue(this.dictionaryProperties.CA,new Pe(e)),this.dictionary.items.setValue(this.dictionaryProperties.ca,new Pe(t)),this.dictionary.items.setValue(this.dictionaryProperties.BM,new Oe(i.toString()))}return Object.defineProperty(n.prototype,"element",{get:function(){return this.dictionary},enumerable:!0,configurable:!0}),n}(),Vu=function(){function n(){this.automaticFieldsInformation=[]}return Object.defineProperty(n.prototype,"automaticFields",{get:function(){return this.automaticFieldsInformation},enumerable:!0,configurable:!0}),n.prototype.add=function(e){return this.automaticFields.push(e)},n}(),Hu=function(){function n(){}return n.prototype.drawHelper=function(e,t,i){var r=t!==0||i!==0,o=null;r&&(o=e.save(),e.translateTransform(t,i)),this.drawInternal(e),r&&e.restore(o)},n}(),Wu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ju=function(n){Wu(e,n);function e(){var t=n.call(this)||this;return t.internalBounds=new tt(0,0,0,0),t.internalTemplateSize=new ke(0,0),t}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.internalBounds},set:function(t){this.internalBounds=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return new ke(this.bounds.width,this.bounds.height)},set:function(t){this.bounds.width=t.width,this.bounds.height=t.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return new je(this.bounds.x,this.bounds.y)},set:function(t){this.bounds.x=t.x,this.bounds.y=t.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.internalFont},set:function(t){this.internalFont=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brush",{get:function(){return this.internalBrush},set:function(t){this.internalBrush=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pen",{get:function(){return this.internalPen},set:function(t){this.internalPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringFormat",{get:function(){return this.internalStringFormat},set:function(t){this.internalStringFormat=t},enumerable:!0,configurable:!0}),e.prototype.performDrawHelper=function(t,i,r,o){if(this.bounds.height===0||this.bounds.width===0){var h=this.getValue(t);this.internalTemplateSize=this.getFont().measureString(h,this.size,this.stringFormat)}},e.prototype.draw=function(t,i,r){if(typeof i>"u"){var o=new je(0,0);this.draw(t,o)}else if(i instanceof je)this.draw(t,i.x,i.y);else{this.drawHelper(t,i,r);var h=new dl(this,new je(i,r));t.automaticFields.add(h)}},e.prototype.getSize=function(){return this.bounds.height===0||this.bounds.width===0?this.internalTemplateSize:this.size},e.prototype.drawInternal=function(t){},e.prototype.getBrush=function(){return typeof this.internalBrush>"u"||this.internalBrush==null?new Mr(new rr(0,0,0)):this.internalBrush},e.prototype.getFont=function(){return typeof this.internalFont>"u"||this.internalFont==null?_s.defaultFont:this.internalFont},e.prototype.getPageFromGraphics=function(t){if(typeof t.page<"u"&&t.page!==null){var i=t.page;return i}else{var i=t.currentPage;return i}},e}(Hu),dl=function(){function n(e,t,i,r){this.pageNumberFieldLocation=new je,this.pageNumberField=null,this.scaleX=1,this.scaleY=1,typeof t>"u"&&e instanceof n?(this.pageNumberField=e.field,this.pageNumberFieldLocation=e.location,this.scaleX=e.scalingX,this.scaleY=e.scalingY):typeof i>"u"&&t instanceof je&&e instanceof ju?(this.pageNumberField=e,this.pageNumberFieldLocation=t):(this.pageNumberField=e,this.pageNumberFieldLocation=t,this.scaleX=i,this.scaleY=r)}return Object.defineProperty(n.prototype,"location",{get:function(){return this.pageNumberFieldLocation},set:function(e){this.pageNumberFieldLocation=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"field",{get:function(){return this.pageNumberField},set:function(e){this.pageNumberField=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingX",{get:function(){return this.scaleX},set:function(e){this.scaleX=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingY",{get:function(){return this.scaleY},set:function(e){this.scaleY=e},enumerable:!0,configurable:!0}),n}(),Yr=function(){function n(e){this.mPosition=0,this.buffer=new Uint8Array(e),this.dataView=new DataView(this.buffer.buffer)}return Object.defineProperty(n.prototype,"position",{get:function(){return this.mPosition},set:function(e){this.mPosition=e},enumerable:!0,configurable:!0}),n.prototype.read=function(e,t,i){for(var r=t;r<i;r++){var o=this.position;e.buffer[r]=this.readByte(o),this.position++}},n.prototype.getBuffer=function(e){return this.buffer[e]},n.prototype.writeFromBase64String=function(e){var t=this.encodedString(e);this.buffer=t},n.prototype.encodedString=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,r,o,h,u,g,y,x=0,S=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var T=e.length*3/4;e.charAt(e.length-1)===t.charAt(64)&&T--;for(var M=new Uint8Array(T|0);x<e.length;)h=t.indexOf(e.charAt(x++)),u=t.indexOf(e.charAt(x++)),g=t.indexOf(e.charAt(x++)),y=t.indexOf(e.charAt(x++)),i=h<<2|u>>4,r=(u&15)<<4|g>>2,o=(g&3)<<6|y,M[S++]=i,M[S++]=r,M[S++]=o;return M},n.prototype.readByte=function(e){return this.buffer[e]},Object.defineProperty(n.prototype,"internalBuffer",{get:function(){return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this.buffer.byteLength},enumerable:!0,configurable:!0}),n.prototype.readNextTwoBytes=function(e){var t=e.readByte(this.position);return this.position++,t<<=8,t|=e.readByte(this.position),this.position++,t},n}(),xr;(function(n){n[n.Unknown=0]="Unknown",n[n.Bmp=1]="Bmp",n[n.Emf=2]="Emf",n[n.Gif=3]="Gif",n[n.Jpeg=4]="Jpeg",n[n.Png=5]="Png",n[n.Wmf=6]="Wmf",n[n.Icon=7]="Icon"})(xr||(xr={}));var Xu=function(){function n(e){this.sof1Marker=193,this.sof2Marker=194,this.sof3Marker=195,this.sof5Marker=197,this.sof6Marker=198,this.sof7Marker=199,this.sof9Marker=201,this.sof10Marker=202,this.sof11Marker=203,this.sof13Marker=205,this.sof14Marker=206,this.sof15Marker=207,this.mFormat=xr.Unknown,this.mbitsPerComponent=8,this.dictionaryProperties=new bt,this.mStream=e,this.initialize()}return Object.defineProperty(n.prototype,"height",{get:function(){return this.mHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.mWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bitsPerComponent",{get:function(){return this.mbitsPerComponent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.mImageData.count},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageData",{get:function(){return this.mImageData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageDataAsNumberArray",{get:function(){return this.mImageData.internalBuffer.buffer},enumerable:!0,configurable:!0}),n.prototype.initialize=function(){if(this.mFormat===xr.Unknown&&this.checkIfJpeg())this.mFormat=xr.Jpeg,this.parseJpegImage();else throw new TypeError("Only the JPEG format is supported");this.reset(),this.mImageData=new Yr(this.mStream.count),this.mStream.read(this.mImageData,0,this.mImageData.count)},n.prototype.reset=function(){this.mStream.position=0},n.prototype.parseJpegImage=function(){this.reset();var e=new Yr(this.mStream.count);this.mStream.read(e,0,e.count);for(var t=4,i=!1,r=e.getBuffer(t)*256+e.getBuffer(t+1);t<e.count;)if(t+=r,t<e.count)if(e.getBuffer(t+1)===192){this.mHeight=e.getBuffer(t+5)*256+e.getBuffer(t+6),this.mWidth=e.getBuffer(t+7)*256+e.getBuffer(t+8);return}else t+=2,r=e.getBuffer(t)*256+e.getBuffer(t+1);else{i=!0;break}i&&(this.mStream.position=0,this.skip(this.mStream,2),this.readExceededJPGImage(this.mStream))},Object.defineProperty(n.prototype,"format",{get:function(){return this.mFormat},enumerable:!0,configurable:!0}),n.prototype.checkIfJpeg=function(){this.reset();for(var e=0;e<n.mJpegHeader.length;e++){if(n.mJpegHeader[e]!==this.mStream.readByte(e))return!1;this.mStream.position++}return!0},n.prototype.getImageDictionary=function(){if(this.mFormat===xr.Jpeg){this.imageData.internalBuffer.length,this.imageStream=new qt,this.imageStream.isResource=!0;for(var e="",t="",i=0;i<this.imageDataAsNumberArray.byteLength;i++)e+=String.fromCharCode(null,this.mStream.readByte(i));for(var i=0;i<e.length;i++)i%2!==0&&(t+=e[i]);return this.imageStream.data=[t],this.imageStream.compress=!1,this.imageStream.items.setValue(this.dictionaryProperties.type,new Oe(this.dictionaryProperties.xObject)),this.imageStream.items.setValue(this.dictionaryProperties.subtype,new Oe(this.dictionaryProperties.image)),this.imageStream.items.setValue(this.dictionaryProperties.width,new Pe(this.width)),this.imageStream.items.setValue(this.dictionaryProperties.height,new Pe(this.height)),this.imageStream.items.setValue(this.dictionaryProperties.bitsPerComponent,new Pe(this.bitsPerComponent)),this.imageStream.items.setValue(this.dictionaryProperties.filter,new Oe(this.dictionaryProperties.dctdecode)),this.imageStream.items.setValue(this.dictionaryProperties.colorSpace,new Oe(this.getColorSpace())),this.imageStream.items.setValue(this.dictionaryProperties.decodeParms,this.getDecodeParams()),this.imageStream}else return this.imageStream},n.prototype.getColorSpace=function(){return this.dictionaryProperties.deviceRgb},n.prototype.getDecodeParams=function(){var e=new it;return e.items.setValue(this.dictionaryProperties.columns,new Pe(this.width)),e.items.setValue(this.dictionaryProperties.blackIs1,new Ei(!0)),e.items.setValue(this.dictionaryProperties.k,new Pe(-1)),e.items.setValue(this.dictionaryProperties.predictor,new Pe(15)),e.items.setValue(this.dictionaryProperties.bitsPerComponent,new Pe(this.bitsPerComponent)),e},n.prototype.readExceededJPGImage=function(e){this.mStream=e;for(var t=!0;t;){var i=this.getMarker(e);switch(i){case this.sof1Marker:case this.sof2Marker:case this.sof3Marker:case this.sof5Marker:case this.sof6Marker:case this.sof7Marker:case this.sof9Marker:case this.sof10Marker:case this.sof11Marker:case this.sof13Marker:case this.sof14Marker:case this.sof15Marker:e.position+=3,this.mHeight=this.mStream.readNextTwoBytes(e),this.mWidth=this.mStream.readNextTwoBytes(e),t=!1;break;default:this.skipStream(e);break}}},n.prototype.skip=function(e,t){this.mStream=e;var i=new Yr(t);this.mStream.read(i,0,i.count)},n.prototype.getMarker=function(e){var t=32;for(t=e.readByte(this.mStream.position),e.position++;t!==255;)t=e.readByte(this.mStream.position),e.position++;do t=e.readByte(this.mStream.position),e.position++;while(t===255);return t},n.prototype.skipStream=function(e){var t=this.mStream.readNextTwoBytes(e)-2;t>0&&(e.position+=t)},n.mPngHeader=[137,80,78,71,13,10,26,10],n.mJpegHeader=[255,216],n.GIF_HEADER="G,I,F,8",n.BMP_HEADER="B,M",n}(),ms=function(){function n(e){this.updateProportionsHelper(e)}return n.prototype.convertUnits=function(e,t,i){return this.convertFromPixels(this.convertToPixels(e,t),i)},n.prototype.convertToPixels=function(e,t){var i=t,r=e*this.proportions[i];return r},n.prototype.convertFromPixels=function(e,t){var i=t,r=e/this.proportions[i];return r},n.prototype.updateProportionsHelper=function(e){this.proportions=[e/2.54,e/6,1,e/72,e,e/300,e/25.4]},n.horizontalResolution=96,n.verticalResolution=96,n}(),fl=function(){function n(){}return Object.defineProperty(n.prototype,"width",{get:function(){return this.imageWidth},set:function(e){this.imageWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.imageHeight},set:function(e){this.imageHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{set:function(e){this.width=e.width,this.height=e.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"physicalDimension",{get:function(){return this.imagePhysicalDimension=this.getPointSize(this.width,this.height,this.horizontalResolution,this.verticalResolution),new ke(this.width,this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.imageStream},enumerable:!0,configurable:!0}),n.prototype.getPointSize=function(e,t,i,r){if(typeof i>"u"){var o=ms.horizontalResolution,h=ms.verticalResolution,u=this.getPointSize(e,t,o,h);return u}else{var g=new ms(i),y=new ms(r),x=g.convertUnits(e,br.Pixel,br.Point),S=y.convertUnits(t,br.Pixel,br.Point),u=new ke(x,S);return u}},n}(),Yu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),pl=function(n){Yu(e,n);function e(t){var i=n.call(this)||this;return i.imageStatus=!0,i.dictionaryProperties=new bt,i.loadImage(t),i}return e.prototype.loadImage=function(t){this.initializeAsync(t)},e.prototype.initializeAsync=function(t){var i=new Yr(t.length);i.writeFromBase64String(t),this.decoder=new Xu(i),this.height=this.decoder.height,this.width=this.decoder.width,this.bitsPerComponent=this.decoder.bitsPerComponent},e.prototype.save=function(){this.imageStatus=!0,this.imageStream=this.decoder.getImageDictionary()},e}(fl),Wa=function(){function n(){}return Object.defineProperty(n.prototype,"empty",{get:function(){var e=this.offset===this.length&&this.length===this.checksum&&this.checksum===0;return e},enumerable:!0,configurable:!0}),n}(),Gu=function(){function n(){}return n}(),Uu=function(){function n(){}return n}(),qu=function(){function n(){}return n}(),ja=function(){function n(){}return Object.defineProperty(n.prototype,"isItalic",{get:function(){return(this.macStyle&2)!==0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isBold",{get:function(){return(this.macStyle&1)!==0},enumerable:!0,configurable:!0}),n}(),$u=function(){function n(){}return n}(),Zu=function(){function n(){}return n}(),Ku=function(){function n(){}return n}(),Ju=function(){function n(){}return n}(),Qu=function(){function n(){}return n}(),ed=function(){function n(){}return n}(),Nr=function(){function n(){}return Object.defineProperty(n.prototype,"empty",{get:function(){var e=this.index===this.width&&this.width===this.charCode&&this.charCode===0;return e},enumerable:!0,configurable:!0}),n.prototype.compareTo=function(e){var t=e;return this.index-t.index},n}(),td=function(){function n(){}return n}(),id=function(){function n(){}return n}(),rd=function(){function n(){}return n}(),sd=function(){function n(){}return n}(),nd=function(){function n(){}return n}(),Xa=function(){function n(e){this.int32Size=4,this.int16Size=2,this.int64Size=8,this.bufferLength=e,this.buffer=[]}return Object.defineProperty(n.prototype,"data",{get:function(){if(this.buffer.length<this.bufferLength)for(var e=this.bufferLength-this.buffer.length,t=0;t<e;t++)this.buffer.push(0);return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return(this.internalPosition===void 0||this.internalPosition===null)&&(this.internalPosition=0),this.internalPosition},enumerable:!0,configurable:!0}),n.prototype.writeShort=function(e){var t=[(e&65280)>>8,e&255];this.flush(t)},n.prototype.writeInt=function(e){var t=[(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255];this.flush(t)},n.prototype.writeUInt=function(e){var t=[(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255];this.flush(t)},n.prototype.writeString=function(e){if(e==null)throw new Error("Argument Null Exception : value");for(var t=[],i=0;i<e.length;i++)t.push(e.charCodeAt(i));this.flush(t)},n.prototype.writeBytes=function(e){this.flush(e)},n.prototype.flush=function(e){if(e===null)throw new Error("Argument Null Exception : buff");for(var t=this.position,i=0;i<e.length;i++)this.buffer[t]=e[i],t++;this.internalPosition+=e.length},n}(),ad=function(){function n(e){this.int32Size=4,this.isTtcFont=!1,this.isMacTtf=!1,this.metricsName="",this.isMacTTF=!1,this.missedGlyphs=0,this.tableNames=["cvt ","fpgm","glyf","head","hhea","hmtx","loca","maxp","prep"],this.entrySelectors=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4],this.fontData=e,this.initialize()}return Object.defineProperty(n.prototype,"macintosh",{get:function(){return(this.macintoshDictionary===null||this.macintoshDictionary===void 0)&&(this.macintoshDictionary=new at),this.macintoshDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"microsoft",{get:function(){return(this.microsoftDictionary===null||this.microsoftDictionary===void 0)&&(this.microsoftDictionary=new at),this.microsoftDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"macintoshGlyphs",{get:function(){return(this.internalMacintoshGlyphs===null||this.internalMacintoshGlyphs===void 0)&&(this.internalMacintoshGlyphs=new at),this.internalMacintoshGlyphs},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"microsoftGlyphs",{get:function(){return(this.internalMicrosoftGlyphs===null||this.internalMicrosoftGlyphs===void 0)&&(this.internalMicrosoftGlyphs=new at),this.internalMicrosoftGlyphs},enumerable:!0,configurable:!0}),n.prototype.initialize=function(){this.metrics===void 0&&(this.metrics=new ja),this.readFontDictionary();var e=this.readNameTable(),t=this.readHeadTable();this.initializeFontName(e),this.metrics.macStyle=t.macStyle},n.prototype.readFontDictionary=function(){this.offset=0,this.checkPreambula();var e=this.readInt16(this.offset);this.readInt16(this.offset),this.readInt16(this.offset),this.readInt16(this.offset),this.tableDirectory===void 0&&(this.tableDirectory=new at);for(var t=0;t<e;++t){var i=new Wa,r=this.readString(this.int32Size);i.checksum=this.readInt32(this.offset),i.offset=this.readInt32(this.offset),i.length=this.readInt32(this.offset),this.tableDirectory.setValue(r,i)}this.lowestPosition=this.offset,this.isTtcFont||this.fixOffsets()},n.prototype.fixOffsets=function(){for(var e=Number.MAX_VALUE,t=this.tableDirectory.keys(),i=0;i<t.length;i++){var r=this.tableDirectory.getValue(t[i]),o=r.offset;if(e>o&&(e=o,e<=this.lowestPosition))break}var h=e-this.lowestPosition;if(h!==0){for(var u=new at,i=0;i<t.length;i++){var r=this.tableDirectory.getValue(t[i]);r.offset-=h,u.setValue(t[i],r)}this.tableDirectory=u}},n.prototype.checkPreambula=function(){var e=this.readInt32(this.offset);if(this.isMacTtf=e===1953658213,e!==65536&&e!==1953658213&&e!==1330926671){this.isTtcFont=!0,this.offset=0;var t=this.readString(4);if(t!=="ttcf")throw new Error("Can not read TTF font data");this.offset+=4;var i=this.readInt32(this.offset);if(i<0)throw new Error("Can not read TTF font data");this.offset=this.readInt32(this.offset),e=this.readInt32(this.offset)}return e},n.prototype.readNameTable=function(){var e=this.getTable("name");this.offset=e.offset;var t=new Gu;t.formatSelector=this.readUInt16(this.offset),t.recordsCount=this.readUInt16(this.offset),t.offset=this.readUInt16(this.offset),t.nameRecords=[];for(var i=12,r=this.offset,o=0;o<t.recordsCount;o++){this.offset=r;var h=new Uu;h.platformID=this.readUInt16(this.offset),h.encodingID=this.readUInt16(this.offset),h.languageID=this.readUInt16(this.offset),h.nameID=this.readUInt16(this.offset),h.length=this.readUInt16(this.offset),h.offset=this.readUInt16(this.offset),this.offset=e.offset+t.offset+h.offset;var u=h.platformID===0||h.platformID===3;h.name=this.readString(h.length,u),t.nameRecords[o]=h,r+=i}return t},n.prototype.readHeadTable=function(){var e=this.getTable("head");this.offset=e.offset;var t=new qu;return t.version=this.readFixed(this.offset),t.fontRevision=this.readFixed(this.offset),t.checkSumAdjustment=this.readUInt32(this.offset),t.magicNumber=this.readUInt32(this.offset),t.flags=this.readUInt16(this.offset),t.unitsPerEm=this.readUInt16(this.offset),t.created=this.readInt64(this.offset),t.modified=this.readInt64(this.offset),t.xMin=this.readInt16(this.offset),t.yMin=this.readInt16(this.offset),t.xMax=this.readInt16(this.offset),t.yMax=this.readInt16(this.offset),t.macStyle=this.readUInt16(this.offset),t.lowestReadableSize=this.readUInt16(this.offset),t.fontDirectionHint=this.readInt16(this.offset),t.indexToLocalFormat=this.readInt16(this.offset),t.glyphDataFormat=this.readInt16(this.offset),t},n.prototype.readHorizontalHeaderTable=function(){var e=this.getTable("hhea");this.offset=e.offset;var t=new $u;return t.version=this.readFixed(this.offset),t.ascender=this.readInt16(this.offset),t.descender=this.readInt16(this.offset),t.lineGap=this.readInt16(this.offset),t.advanceWidthMax=this.readUInt16(this.offset),t.minLeftSideBearing=this.readInt16(this.offset),t.minRightSideBearing=this.readInt16(this.offset),t.xMaxExtent=this.readInt16(this.offset),t.caretSlopeRise=this.readInt16(this.offset),t.caretSlopeRun=this.readInt16(this.offset),this.offset+=10,t.metricDataFormat=this.readInt16(this.offset),t.numberOfHMetrics=this.readUInt16(this.offset),t},n.prototype.readOS2Table=function(){var e=this.getTable("OS/2");this.offset=e.offset;var t=new Zu;return t.version=this.readUInt16(this.offset),t.xAvgCharWidth=this.readInt16(this.offset),t.usWeightClass=this.readUInt16(this.offset),t.usWidthClass=this.readUInt16(this.offset),t.fsType=this.readInt16(this.offset),t.ySubscriptXSize=this.readInt16(this.offset),t.ySubscriptYSize=this.readInt16(this.offset),t.ySubscriptXOffset=this.readInt16(this.offset),t.ySubscriptYOffset=this.readInt16(this.offset),t.ySuperscriptXSize=this.readInt16(this.offset),t.ySuperscriptYSize=this.readInt16(this.offset),t.ySuperscriptXOffset=this.readInt16(this.offset),t.ySuperscriptYOffset=this.readInt16(this.offset),t.yStrikeoutSize=this.readInt16(this.offset),t.yStrikeoutPosition=this.readInt16(this.offset),t.sFamilyClass=this.readInt16(this.offset),t.panose=this.readBytes(10),t.ulUnicodeRange1=this.readUInt32(this.offset),t.ulUnicodeRange2=this.readUInt32(this.offset),t.ulUnicodeRange3=this.readUInt32(this.offset),t.ulUnicodeRange4=this.readUInt32(this.offset),t.vendorIdentifier=this.readBytes(4),t.fsSelection=this.readUInt16(this.offset),t.usFirstCharIndex=this.readUInt16(this.offset),t.usLastCharIndex=this.readUInt16(this.offset),t.sTypoAscender=this.readInt16(this.offset),t.sTypoDescender=this.readInt16(this.offset),t.sTypoLineGap=this.readInt16(this.offset),t.usWinAscent=this.readUInt16(this.offset),t.usWinDescent=this.readUInt16(this.offset),t.ulCodePageRange1=this.readUInt32(this.offset),t.ulCodePageRange2=this.readUInt32(this.offset),t.version>1?(t.sxHeight=this.readInt16(this.offset),t.sCapHeight=this.readInt16(this.offset),t.usDefaultChar=this.readUInt16(this.offset),t.usBreakChar=this.readUInt16(this.offset),t.usMaxContext=this.readUInt16(this.offset)):(t.sxHeight=0,t.sCapHeight=0,t.usDefaultChar=0,t.usBreakChar=0,t.usMaxContext=0),t},n.prototype.readPostTable=function(){var e=this.getTable("post");this.offset=e.offset;var t=new Ku;return t.formatType=this.readFixed(this.offset),t.italicAngle=this.readFixed(this.offset),t.underlinePosition=this.readInt16(this.offset),t.underlineThickness=this.readInt16(this.offset),t.isFixedPitch=this.readUInt32(this.offset),t.minType42=this.readUInt32(this.offset),t.maxType42=this.readUInt32(this.offset),t.minType1=this.readUInt32(this.offset),t.maxType1=this.readUInt32(this.offset),t},n.prototype.readWidthTable=function(e,t){var i=this.getTable("hmtx");this.offset=i.offset;for(var r=[],o=0;o<e;o++){var h=new Ju;h.advanceWidth=this.readUInt16(this.offset),h.lsb=this.readInt16(this.offset);var u=h.advanceWidth*1e3/t;r.push(Math.floor(u))}return r},n.prototype.readCmapTable=function(){var e=this.getTable("cmap");this.offset=e.offset;var t=new ed;t.version=this.readUInt16(this.offset),t.tablesCount=this.readUInt16(this.offset);for(var i=this.offset,r=[],o=0;o<t.tablesCount;o++){this.offset=i;var h=new Qu;h.platformID=this.readUInt16(this.offset),h.encodingID=this.readUInt16(this.offset),h.offset=this.readUInt32(this.offset),i=this.offset,this.readCmapSubTable(h),r[o]=h}return r},n.prototype.readCmapSubTable=function(e){var t=this.getTable("cmap");this.offset=t.offset+e.offset;var i=this.readUInt16(this.offset),r=this.getCmapEncoding(e.platformID,e.encodingID);if(r===jt.Macintosh?qi.Macintosh:qi.Microsoft,r!==jt.Unknown)switch(i){case Xr.Apple:this.readAppleCmapTable(e,r);break;case Xr.Microsoft:this.readMicrosoftCmapTable(e,r);break;case Xr.Trimmed:this.readTrimmedCmapTable(e,r);break}},n.prototype.readAppleCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var r=new id;r.format=this.readUInt16(this.offset),r.length=this.readUInt16(this.offset),r.version=this.readUInt16(this.offset),(this.maxMacIndex===null||this.maxMacIndex===void 0)&&(this.maxMacIndex=0);for(var o=0;o<256;++o){var h=new Nr;h.index=this.readByte(this.offset),h.width=this.getWidth(h.index),h.charCode=o,this.macintosh.setValue(o,h),this.addGlyph(h,t),this.maxMacIndex=Math.max(o,this.maxMacIndex)}},n.prototype.readMicrosoftCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var r=t===jt.Unicode?this.microsoft:this.macintosh,o=new rd;o.format=this.readUInt16(this.offset),o.length=this.readUInt16(this.offset),o.version=this.readUInt16(this.offset),o.segCountX2=this.readUInt16(this.offset),o.searchRange=this.readUInt16(this.offset),o.entrySelector=this.readUInt16(this.offset),o.rangeShift=this.readUInt16(this.offset);var h=o.segCountX2/2;o.endCount=this.readUshortArray(h),o.reservedPad=this.readUInt16(this.offset),o.startCount=this.readUshortArray(h),o.idDelta=this.readUshortArray(h),o.idRangeOffset=this.readUshortArray(h);var u=o.length/2-8-h*4;o.glyphID=this.readUshortArray(u);for(var g=0,y=0,x=0;x<h;x++)for(var S=o.startCount[x];S<=o.endCount[x]&&S!==65535;S++){if(o.idRangeOffset[x]===0)g=S+o.idDelta[x]&65535;else{if(y=x+o.idRangeOffset[x]/2-h+S-o.startCount[x],y>=o.glyphID.length)continue;g=o.glyphID[y]+o.idDelta[x]&65535}var T=new Nr;T.index=g,T.width=this.getWidth(T.index);var M=t===jt.Symbol&&(S&65280)===61440?S&255:S;T.charCode=M,r.setValue(M,T),this.addGlyph(T,t)}},n.prototype.readTrimmedCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var r=new sd;r.format=this.readUInt16(this.offset),r.length=this.readUInt16(this.offset),r.version=this.readUInt16(this.offset),r.firstCode=this.readUInt16(this.offset),r.entryCount=this.readUInt16(this.offset);for(var o=0;o<r.entryCount;++o){var h=new Nr;h.index=this.readUInt16(this.offset),h.width=this.getWidth(h.index),h.charCode=o+r.firstCode,this.macintosh.setValue(o,h),this.addGlyph(h,t),this.maxMacIndex=Math.max(o,this.maxMacIndex)}},n.prototype.initializeFontName=function(e){for(var t=0;t<e.recordsCount;t++){var i=e.nameRecords[t];if(i.nameID===1?this.metrics.fontFamily=i.name:i.nameID===6&&(this.metrics.postScriptName=i.name),this.metrics.fontFamily!==null&&this.metrics.fontFamily!==void 0&&this.metrics.postScriptName!==null&&this.metrics.postScriptName!==void 0)break}},n.prototype.getTable=function(e){var t=new Wa,i;return this.tableDirectory.containsKey(e)&&(i=this.tableDirectory.getValue(e)),i!=null&&(t=i),t},n.prototype.getWidth=function(e){return e=e<this.width.length?e:this.width.length-1,this.width[e]},n.prototype.getCmapEncoding=function(e,t){var i=jt.Unknown;return e==qi.Microsoft&&t==Ps.Undefined?i=jt.Symbol:e==qi.Microsoft&&t==Ps.Unicode?i=jt.Unicode:e==qi.Macintosh&&t==bn.Roman&&(i=jt.Macintosh),i},n.prototype.addGlyph=function(e,t){var i=null;switch(t){case jt.Unicode:i=this.microsoftGlyphs;break;case jt.Macintosh:case jt.Symbol:i=this.macintoshGlyphs;break}i.setValue(e.index,e)},n.prototype.initializeMetrics=function(e,t,i,r,o,h){this.initializeFontName(e);for(var u=!1,g=0;g<h.length;g++){var y=h[g],x=this.getCmapEncoding(y.platformID,y.encodingID);if(x===jt.Symbol){u=!0;break}}this.metrics.isSymbol=u,this.metrics.macStyle=t.macStyle,this.metrics.isFixedPitch=o.isFixedPitch!==0,this.metrics.italicAngle=o.italicAngle;var S=1e3/t.unitsPerEm;this.metrics.winAscent=r.sTypoAscender*S,this.metrics.macAscent=i.ascender*S,this.metrics.capHeight=r.sCapHeight!==0?r.sCapHeight:.7*t.unitsPerEm*S,this.metrics.winDescent=r.sTypoDescender*S,this.metrics.macDescent=i.descender*S,this.metrics.leading=(r.sTypoAscender-r.sTypoDescender+r.sTypoLineGap)*S,this.metrics.lineGap=Math.ceil(i.lineGap*S);var T=t.xMin*S,M=Math.ceil(this.metrics.macAscent+this.metrics.lineGap),R=t.xMax*S,I=this.metrics.macDescent;this.metrics.fontBox=new vn(T,M,R,I),this.metrics.stemV=80,this.metrics.widthTable=this.updateWidth(),this.metrics.contains=this.tableDirectory.containsKey("CFF"),this.metrics.subScriptSizeFactor=t.unitsPerEm/r.ySubscriptYSize,this.metrics.superscriptSizeFactor=t.unitsPerEm/r.ySuperscriptYSize},n.prototype.updateWidth=function(){var e=256,t=[];if(this.metrics.isSymbol)for(var i=0;i<e;i++){var r=this.getGlyph(String.fromCharCode(i));t[i]=r.empty?0:r.width}else for(var o=[],h="?",u=String.fromCharCode(32),i=0;i<e;i++){o[0]=i;var g=this.getString(o,0,o.length),y=g.length>0?g[0]:h,r=this.getGlyph(y);r.empty?(r=this.getGlyph(u),t[i]=r.empty?0:r.width):t[i]=r.width}return t},n.prototype.getDefaultGlyph=function(){var e=this.getGlyph(Gt.whiteSpace);return e},n.prototype.getString=function(e,t,i){for(var r="",o=0;o<i;o++)r+=String.fromCharCode(e[o+t]);return r},n.prototype.readLocaTable=function(e){var t=this.getTable("loca");this.offset=t.offset;var i=new td,r=null;if(e){var o=t.length/2;r=[];for(var h=0;h<o;h++)r[h]=this.readUInt16(this.offset)*2}else{var o=t.length/4;r=[];for(var h=0;h<o;h++)r[h]=this.readUInt32(this.offset)}return i.offsets=r,i},n.prototype.updateGlyphChars=function(e,t){e.containsKey(0)||e.setValue(0,0);for(var i=new at,r=e.keys(),o=0;o<r.length;o++)i.setValue(r[o],e.getValue(r[o]));for(var o=0;o<r.length;o++){var h=r[o];this.processCompositeGlyph(e,h,t)}},n.prototype.processCompositeGlyph=function(e,t,i){if(t<i.offsets.length-1){var r=i.offsets[t];if(r!==i.offsets[t+1]){var o=this.getTable("glyf");this.offset=o.offset+r;var h=new nd;if(h.numberOfContours=this.readInt16(this.offset),h.xMin=this.readInt16(this.offset),h.yMin=this.readInt16(this.offset),h.xMax=this.readInt16(this.offset),h.yMax=this.readInt16(this.offset),h.numberOfContours<0)for(var u=0,g=!0;g;){var y=this.readUInt16(this.offset),x=this.readUInt16(this.offset);if(e.containsKey(x)||e.setValue(x,0),!(y&Zi.MoreComponents))break;u=y&Zi.Arg1And2AreWords?4:2,y&Zi.WeHaveScale?u+=2:y&Zi.WeHaveAnXyScale?u+=4:y&Zi.WeHaveTwoByTwo&&(u+=2*4),this.offset+=u}}}},n.prototype.generateGlyphTable=function(e,t,i,r){i=[];var o=e.keys();o.sort(function(j,W){return j-W});for(var h=0,u=0;u<o.length;u++){var g=o[u];t.offsets.length>0&&(h+=t.offsets[g+1]-t.offsets[g])}var y=this.align(h);r=[];for(var u=0;u<y;u++)r.push(0);for(var x=0,S=0,T=this.getTable("glyf"),u=0;u<t.offsets.length;u++)if(i.push(x),S<o.length&&o[S]===u){++S,i[u]=x;var M=t.offsets[u],R=t.offsets[u+1]-M;if(R>0){this.offset=T.offset+M;var I=this.read(r,x,R);r=I.buffer,x+=R}}return{glyphTableSize:h,newLocaTable:i,newGlyphTable:r}},n.prototype.updateLocaTable=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : newLocaTable");for(var r=t?e.length*2:e.length*4,o=this.align(r),h=new Xa(o),u=0;u<e.length;u++){var g=e[u];t?(g/=2,h.writeShort(g)):h.writeInt(g)}return{newLocaUpdated:h.data,newLocaSize:r}},n.prototype.align=function(e){return e+3&-4},n.prototype.getFontProgram=function(e,t,i,r){if(e===null)throw new Error("Argument Null Exception : newLocaTableOut");if(t===null)throw new Error("Argument Null Exception : newGlyphTable");this.tableNames;var o=this.getFontProgramLength(e,t,0),h=o.fontProgramLength,u=o.numTables,g=new Xa(h);g.writeInt(65536),g.writeShort(u);var y=this.entrySelectors[u];return g.writeShort((1<<(y&31))*16),g.writeShort(y),g.writeShort((u-(1<<(y&31)))*16),this.writeCheckSums(g,u,e,t,i,r),this.writeGlyphs(g,e,t),g.data},n.prototype.getFontProgramLength=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : newLocaTableOut");if(t===null)throw new Error("Argument Null Exception : newGlyphTable");i=2;for(var r=this.tableNames,o=0,h=0;h<r.length;h++){var u=r[h];if(u!=="glyf"&&u!=="loca"){var g=this.getTable(u);g.empty||(++i,o+=this.align(g.length))}}o+=e.length,o+=t.length;var y=i*16+3*4;return o+=y,{fontProgramLength:o,numTables:i}},n.prototype.writeCheckSums=function(e,t,i,r,o,h){if(e===null)throw new Error("Argument Null Exception : writer");if(i===null)throw new Error("Argument Null Exception : newLocaTableOut");if(r===null)throw new Error("Argument Null Exception : newGlyphTable");for(var u=this.tableNames,g=t*16+3*4,y=0,x=0;x<u.length;x++){var S=u[x],T=this.getTable(S);if(!T.empty){if(e.writeString(S),S==="glyf"){var M=this.calculateCheckSum(r);e.writeInt(M),y=o}else if(S==="loca"){var M=this.calculateCheckSum(i);e.writeInt(M),y=h}else e.writeInt(T.checksum),y=T.length;e.writeUInt(g),e.writeUInt(y),g+=this.align(y)}}},n.prototype.calculateCheckSum=function(e){if(e===null)throw new Error("Argument Null Exception : bytes");for(var t=0,i=0,r=0,o=0,h=0,u=0;u<(e.length+1)/4;u++)h+=e[t++]&255,o+=e[t++]&255,r+=e[t++]&255,i+=e[t++]&255;var g=i;return g+=r<<8,g+=o<<16,g+=h<<24,g},n.prototype.writeGlyphs=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : writer");if(t===null)throw new Error("Argument Null Exception : newLocaTableOut");if(i===null)throw new Error("Argument Null Exception : newGlyphTable");for(var r=this.tableNames,o=0;o<r.length;o++){var h=r[o],u=this.getTable(h);if(!u.empty)if(h==="glyf")e.writeBytes(i);else if(h==="loca")e.writeBytes(t);else{for(var g=this.align(u.length),y=[],x=0;x<g;x++)y.push(0);this.offset=u.offset;var S=this.read(y,0,u.length);e.writeBytes(S.buffer)}}},n.prototype.setOffset=function(e){this.offset=e},n.prototype.createInternals=function(){this.metrics=new ja;var e=this.readNameTable(),t=this.readHeadTable();this.bIsLocaShort=t.indexToLocalFormat===0;var i=this.readHorizontalHeaderTable(),r=this.readOS2Table(),o=this.readPostTable();this.width=this.readWidthTable(i.numberOfHMetrics,t.unitsPerEm);var h=this.readCmapTable();this.initializeMetrics(e,t,i,r,o,h)},n.prototype.getGlyph=function(e){if(typeof e=="number"){var t=null;!this.metrics.isSymbol&&this.microsoftGlyphs!=null?this.microsoftGlyphs.containsKey(e)&&(t=this.microsoftGlyphs.getValue(e)):this.metrics.isSymbol&&this.macintoshGlyphs!=null&&this.macintoshGlyphs.containsKey(e)&&(t=this.macintoshGlyphs.getValue(e));var i=t??this.getDefaultGlyph();return i}else{var r=null,o=e.charCodeAt(0);!this.metrics.isSymbol&&this.microsoft!==null?this.microsoft.containsKey(o)?(r=this.microsoft.getValue(o),o!==Gt.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!0)):o!==Gt.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!1):(this.metrics.isSymbol&&this.macintosh!==null||this.isMacTTF)&&(this.maxMacIndex!==0?o%=this.maxMacIndex+1:o=(o&65280)===61440?o&255:o,this.macintosh.containsKey(o)&&(r=this.macintosh.getValue(o),this.isFontPresent=!0)),e===Gt.whiteSpace&&r===null&&(r=new Nr);var i=r!==null?r:this.getDefaultGlyph();return i}},n.prototype.getGlyphChars=function(e){if(e==null)throw new Error("Argument Null Exception : chars");for(var t=new at,i=e.keys(),r=0;r<i.length;r++){var o=i[r],h=this.getGlyph(o);h.empty||t.setValue(h.index,o.charCodeAt(0))}return t},n.prototype.getAllGlyphs=function(){for(var e=[],t=new Nr,i=0,r=0;r<this.width.length;r++){var o=this.width[r];t.index=i,t.width=o,e.push(t),i++}return e},n.prototype.readFontProgram=function(e){var t=this.getGlyphChars(e),i=this.readLocaTable(this.bIsLocaShort);t.size()<e.size()&&(this.missedGlyphs=e.size()-t.size()),this.updateGlyphChars(t,i);var r=this.generateGlyphTable(t,i,null,null),o=r.glyphTableSize,h=r.newLocaTable,u=r.newGlyphTable,g=this.updateLocaTable(h,this.bIsLocaShort,null),y=g.newLocaSize,x=g.newLocaUpdated,S=this.getFontProgram(x,u,o,y);return S},n.prototype.convertString=function(e){if(e===null)throw new Error("Argument Null Exception : text");for(var t="",i=0;i<e.length;i++){var r=e[i],o=this.getGlyph(r);o.empty||(t+=String.fromCharCode(o.index))}return t},n.prototype.getCharWidth=function(e){var t=this.getGlyph(e);t=t.empty?this.getDefaultGlyph():t;var i=t.empty?0:t.width;return i},n.prototype.readString=function(e,t){if(t===void 0)return this.readString(e,!1);var i="";if(t)for(var r=0;r<e;r++)r%2!==0&&(i+=String.fromCharCode(this.fontData[this.offset])),this.offset+=1;else for(var r=0;r<e;r++)i+=String.fromCharCode(this.fontData[this.offset]),this.offset+=1;return i},n.prototype.readFixed=function(e){var t=this.readInt16(e),i=this.readInt16(e+2),r=i/16384;return t+r},n.prototype.readInt32=function(e){var t=this.fontData[e+3],i=this.fontData[e+2],r=this.fontData[e+1],o=this.fontData[e];return this.offset+=4,t+(i<<8)+(r<<16)+(o<<24)},n.prototype.readUInt32=function(e){var t=this.fontData[e+3],i=this.fontData[e+2],r=this.fontData[e+1],o=this.fontData[e];return this.offset+=4,t|i<<8|r<<16|o<<24},n.prototype.readInt16=function(e){var t=(this.fontData[e]<<8)+this.fontData[e+1];return t=t&32768?t-65536:t,this.offset+=2,t},n.prototype.readInt64=function(e){var t=this.readInt32(e+4),i=this.readInt32(e)*4294967296+t;return t<0&&(i+=4294967296),i},n.prototype.readUInt16=function(e){var t=this.fontData[e]<<8|this.fontData[e+1];return this.offset+=2,t},n.prototype.readUshortArray=function(e){for(var t=[],i=0;i<e;i++)t[i]=this.readUInt16(this.offset);return t},n.prototype.readBytes=function(e){for(var t=[],i=0;i<e;i++)t.push(this.fontData[this.offset]),this.offset+=1;return t},n.prototype.readByte=function(e){var t=this.fontData[e];return this.offset+=1,t},n.prototype.read=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : buffer");var r=0,o=0;do{for(var h=0;h<i-r&&this.offset+h<this.fontData.length;h++)e[t+h]=this.fontData[this.offset+h];o=i-r,this.offset+=o,r+=o}while(r<i);return{buffer:e,written:r}},n}(),od=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),mr=function(){function n(){this.lineGap=0}return n.prototype.getAscent=function(e){var t=this.ascent*Vi.charSizeMultiplier*this.getSize(e);return t},n.prototype.getDescent=function(e){var t=this.descent*Vi.charSizeMultiplier*this.getSize(e);return t},n.prototype.getLineGap=function(e){var t=this.lineGap*Vi.charSizeMultiplier*this.getSize(e);return t},n.prototype.getHeight=function(e){var t;return this.getDescent(e)<0?t=this.getAscent(e)-this.getDescent(e)+this.getLineGap(e):t=this.getAscent(e)+this.getDescent(e)+this.getLineGap(e),t},n.prototype.getSize=function(e){var t=this.size;if(e!=null)switch(e.subSuperScript){case _i.SubScript:t/=this.subScriptSizeFactor;break;case _i.SuperScript:t/=this.superscriptSizeFactor;break}return t},n.prototype.clone=function(){var e=this;return e.widthTable=gl.clone(),e},Object.defineProperty(n.prototype,"widthTable",{get:function(){return this.internalWidthTable},set:function(e){this.internalWidthTable=e},enumerable:!0,configurable:!0}),n}(),gl=function(){function n(){}return n.clone=function(){return null},n}(),zt=function(n){od(e,n);function e(t){var i=n.call(this)||this;if(t==null)throw new Error("ArgumentNullException:widths");return i.widths=t,i}return e.prototype.items=function(t){if(t<0||t>=this.widths.length)throw new Error("ArgumentOutOfRangeException:index, The character is not supported by the font.");var i=this.widths[t];return i},Object.defineProperty(e.prototype,"length",{get:function(){return this.widths.length},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=this;return t.widths=this.widths,t},e.prototype.toArray=function(){var t=new gt(this.widths);return t},e}(gl),ld=function(){function n(e,t){if(this.nameString="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.dictionaryProperties=new bt,this.isCompress=!1,this.isEmbedFont=!1,this.cmapPrefix=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap`+he.newLine+`/CIDSystemInfo << /Registry (Adobe)/Ordering (UCS)/Supplement 0>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange`+he.newLine,this.cmapEndCodespaceRange="endcodespacerange"+he.newLine,this.cmapBeginRange="beginbfrange"+he.newLine,this.cmapEndRange="endbfrange"+he.newLine,this.cmapSuffix=`endbfrange
endcmap
CMapName currentdict /CMap defineresource pop
end end`+he.newLine,e==null)throw new Error("ArgumentNullException:base64String");this.fontSize=t,this.fontString=e,this.Initialize()}return n.prototype.getCharWidth=function(e){var t=this.ttfReader.getCharWidth(e);return t},n.prototype.getLineWidth=function(e){for(var t=0,i=0,r=e.length;i<r;i++){var o=e[i],h=this.getCharWidth(o);t+=h}return t},n.prototype.Initialize=function(){var e=new Yr(this.fontString.length);e.writeFromBase64String(this.fontString),this.fontData=e.internalBuffer,this.ttfReader=new ad(this.fontData),this.ttfMetrics=this.ttfReader.metrics},n.prototype.createInternals=function(){this.fontDictionary=new it,this.fontProgram=new qt,this.cmap=new qt,this.descendantFont=new it,this.metrics=new mr,this.ttfReader.createInternals(),this.ttfMetrics=this.ttfReader.metrics,this.initializeMetrics(),this.subsetName=this.getFontName(),this.createDescendantFont(),this.createCmap(),this.createFontDictionary(),this.createFontProgram()},n.prototype.getInternals=function(){return this.fontDictionary},n.prototype.initializeMetrics=function(){var e=this.ttfReader.metrics;this.metrics.ascent=e.macAscent,this.metrics.descent=e.macDescent,this.metrics.height=e.macAscent-e.macDescent+e.lineGap,this.metrics.name=e.fontFamily,this.metrics.postScriptName=e.postScriptName,this.metrics.size=this.fontSize,this.metrics.widthTable=new zt(e.widthTable),this.metrics.lineGap=e.lineGap,this.metrics.subScriptSizeFactor=e.subScriptSizeFactor,this.metrics.superscriptSizeFactor=e.superscriptSizeFactor,this.metrics.isBold=e.isBold},n.prototype.getFontName=function(){for(var e="",t,i=0;i<6;i++){var r=Math.floor(Math.random()*26)+0;e+=this.nameString[r]}return e+="+",e+=this.ttfReader.metrics.postScriptName,t=e.toString(),t=this.formatName(t),t},n.prototype.formatName=function(e){var t=e.replace("(","#28");return t=t.replace(")","#29"),t=t.replace("[","#5B"),t=t.replace("]","#5D"),t=t.replace("<","#3C"),t=t.replace(">","#3E"),t=t.replace("{","#7B"),t=t.replace("}","#7D"),t=t.replace("/","#2F"),t=t.replace("%","#25"),t.replace(" ","#20")},n.prototype.createDescendantFont=function(){this.descendantFont.isResource=!0,this.descendantFont.descendantFontBeginSave=new fu(this),this.descendantFont.items.setValue(this.dictionaryProperties.type,new Oe(this.dictionaryProperties.font)),this.descendantFont.items.setValue(this.dictionaryProperties.subtype,new Oe(this.dictionaryProperties.cIDFontType2)),this.descendantFont.items.setValue(this.dictionaryProperties.baseFont,new Oe(this.subsetName)),this.descendantFont.items.setValue(this.dictionaryProperties.cIDToGIDMap,new Oe(this.dictionaryProperties.identity)),this.descendantFont.items.setValue(this.dictionaryProperties.dw,new Pe(1e3)),this.fontDescriptor=this.createFontDescriptor(),this.descendantFont.items.setValue(this.dictionaryProperties.fontDescriptor,new rt(this.fontDescriptor));var e=this.createSystemInfo();this.descendantFont.items.setValue(this.dictionaryProperties.cIDSystemInfo,e)},n.prototype.createFontDescriptor=function(){var e=new it,t=this.ttfReader.metrics;return e.isResource=!0,e.items.setValue(this.dictionaryProperties.type,new Oe(this.dictionaryProperties.fontDescriptor)),e.items.setValue(this.dictionaryProperties.fontName,new Oe(this.subsetName)),e.items.setValue(this.dictionaryProperties.flags,new Pe(this.getDescriptorFlags())),e.items.setValue(this.dictionaryProperties.fontBBox,gt.fromRectangle(this.getBoundBox())),e.items.setValue(this.dictionaryProperties.missingWidth,new Pe(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.stemV,new Pe(t.stemV)),e.items.setValue(this.dictionaryProperties.italicAngle,new Pe(t.italicAngle)),e.items.setValue(this.dictionaryProperties.capHeight,new Pe(t.capHeight)),e.items.setValue(this.dictionaryProperties.ascent,new Pe(t.winAscent)),e.items.setValue(this.dictionaryProperties.descent,new Pe(t.winDescent)),e.items.setValue(this.dictionaryProperties.leading,new Pe(t.leading)),e.items.setValue(this.dictionaryProperties.avgWidth,new Pe(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.fontFile2,new rt(this.fontProgram)),e.items.setValue(this.dictionaryProperties.maxWidth,new Pe(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.xHeight,new Pe(0)),e.items.setValue(this.dictionaryProperties.stemH,new Pe(0)),e},n.prototype.createCmap=function(){this.cmap.cmapBeginSave=new ku(this)},n.prototype.createFontDictionary=function(){this.fontDictionary.isResource=!0,this.fontDictionary.fontDictionaryBeginSave=new pu(this),this.fontDictionary.items.setValue(this.dictionaryProperties.type,new Oe(this.dictionaryProperties.font)),this.fontDictionary.items.setValue(this.dictionaryProperties.baseFont,new Oe(this.subsetName)),this.fontDictionary.items.setValue(this.dictionaryProperties.subtype,new Oe(this.dictionaryProperties.type0)),this.fontDictionary.items.setValue(this.dictionaryProperties.encoding,new Oe(this.dictionaryProperties.identityH));var e=new gt,t=new rt(this.descendantFont);e.isFont=!0,e.add(t),this.fontDictionary.items.setValue(this.dictionaryProperties.descendantFonts,e)},n.prototype.createFontProgram=function(){this.fontProgram.fontProgramBeginSave=new Tu(this)},n.prototype.createSystemInfo=function(){var e=new it;return e.items.setValue(this.dictionaryProperties.registry,new Ht("Adobe")),e.items.setValue(this.dictionaryProperties.ordering,new Ht(this.dictionaryProperties.identity)),e.items.setValue(this.dictionaryProperties.supplement,new Pe(0)),e},n.prototype.descendantFontBeginSave=function(){if(this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0){var e=this.getDescendantWidth();e!==null&&this.descendantFont.items.setValue(this.dictionaryProperties.w,e)}},n.prototype.cmapBeginSave=function(){this.generateCmap()},n.prototype.fontDictionaryBeginSave=function(){this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0&&!this.fontDictionary.containsKey(this.dictionaryProperties.toUnicode)&&this.fontDictionary.items.setValue(this.dictionaryProperties.toUnicode,new rt(this.cmap))},n.prototype.fontProgramBeginSave=function(){this.isCompress=!0,this.generateFontProgram()},n.prototype.getDescendantWidth=function(){var e=new gt;if(this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0){for(var t=[],i=this.usedChars.keys(),r=0;r<i.length;r++){var o=i[r],h=this.ttfReader.getGlyph(o);h.empty||t.push(h)}t.sort(function(S,T){return S.index-T.index});for(var u=0,g=0,y=!1,x=new gt,r=0;r<t.length;r++){var h=t[r];y||(y=!0,u=h.index,g=h.index-1),(g+1!==h.index||r+1===t.length)&&t.length>1&&(e.add(new Pe(u)),r!==0&&e.add(x),u=h.index,x=new gt),x.add(new Pe(h.width)),r+1===t.length&&(e.add(new Pe(u)),e.add(x)),g=h.index}}return e},n.prototype.generateCmap=function(){if(this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0){var e=this.ttfReader.getGlyphChars(this.usedChars);if(e.size()>0){var t=e.keys().sort(),i=t[0],r=t[t.length-1],o=this.toHexString(i,!1)+this.toHexString(r,!1)+he.newLine,h="";h+=this.cmapPrefix,h+=o,h+=this.cmapEndCodespaceRange;for(var u=0,g=0;g<t.length;g++){u===0&&(g!==0&&(h+=this.cmapEndRange),u=Math.min(100,t.length-g),h+=u,h+=he.whiteSpace,h+=this.cmapBeginRange),u-=1;var y=t[g];h+=this.toHexString(y,!0)+this.toHexString(y,!0)+this.toHexString(e.getValue(y),!0)+`
`}h+=this.cmapSuffix,this.cmap.clearStream(),this.cmap.isResource=!0,this.cmap.write(h)}}},n.prototype.generateFontProgram=function(){var e=null;this.usedChars=this.usedChars===null||this.usedChars===void 0?new at:this.usedChars,this.ttfReader.setOffset(0),e=this.ttfReader.readFontProgram(this.usedChars),this.fontProgram.clearStream(),this.fontProgram.isResource=!0,this.fontProgram.writeBytes(e)},n.prototype.getDescriptorFlags=function(){var e=0,t=this.ttfReader.metrics;return t.isFixedPitch&&(e|=$i.FixedPitch),t.isSymbol?e|=$i.Symbolic:e|=$i.Nonsymbolic,t.isItalic&&(e|=$i.Italic),t.isBold&&(e|=$i.ForceBold),e},n.prototype.getBoundBox=function(){var e=this.ttfReader.metrics.fontBox,t=Math.abs(e.right-e.left),i=Math.abs(e.top-e.bottom),r=new tt(e.left,e.bottom,t,i);return r},n.prototype.toHexString=function(e,t){var i=e.toString(16);return t&&(i=i.toUpperCase()),"<0000".substring(0,5-i.length)+i+">"},n.prototype.setSymbols=function(e){if(e===null)throw new Error("Argument Null Exception : text");(this.usedChars===null||this.usedChars===void 0)&&(this.usedChars=new at);for(var t=0;t<e.length;t++){var i=e[t];this.usedChars.setValue(i,String.fromCharCode(0))}this.isEmbedFont===!1&&this.getDescendantWidth()},n}(),Ya=function(){function n(){this.arabicCharTable=[["ء","ﺀ"],["آ","ﺁ","ﺂ"],["أ","ﺃ","ﺄ"],["ؤ","ﺅ","ﺆ"],["إ","ﺇ","ﺈ"],["ئ","ﺉ","ﺊ","ﺋ","ﺌ"],["ا","ﺍ","ﺎ"],["ب","ﺏ","ﺐ","ﺑ","ﺒ"],["ة","ﺓ","ﺔ"],["ت","ﺕ","ﺖ","ﺗ","ﺘ"],["ث","ﺙ","ﺚ","ﺛ","ﺜ"],["ج","ﺝ","ﺞ","ﺟ","ﺠ"],["ح","ﺡ","ﺢ","ﺣ","ﺤ"],["خ","ﺥ","ﺦ","ﺧ","ﺨ"],["د","ﺩ","ﺪ"],["ذ","ﺫ","ﺬ"],["ر","ﺭ","ﺮ"],["ز","ﺯ","ﺰ"],["س","ﺱ","ﺲ","ﺳ","ﺴ"],["ش","ﺵ","ﺶ","ﺷ","ﺸ"],["ص","ﺹ","ﺺ","ﺻ","ﺼ"],["ض","ﺽ","ﺾ","ﺿ","ﻀ"],["ط","ﻁ","ﻂ","ﻃ","ﻄ"],["ظ","ﻅ","ﻆ","ﻇ","ﻈ"],["ع","ﻉ","ﻊ","ﻋ","ﻌ"],["غ","ﻍ","ﻎ","ﻏ","ﻐ"],["ـ","ـ","ـ","ـ","ـ"],["ف","ﻑ","ﻒ","ﻓ","ﻔ"],["ق","ﻕ","ﻖ","ﻗ","ﻘ"],["ك","ﻙ","ﻚ","ﻛ","ﻜ"],["ل","ﻝ","ﻞ","ﻟ","ﻠ"],["م","ﻡ","ﻢ","ﻣ","ﻤ"],["ن","ﻥ","ﻦ","ﻧ","ﻨ"],["ه","ﻩ","ﻪ","ﻫ","ﻬ"],["و","ﻭ","ﻮ"],["ى","ﻯ","ﻰ","ﯨ","ﯩ"],["ي","ﻱ","ﻲ","ﻳ","ﻴ"],["ٱ","ﭐ","ﭑ"],["ٹ","ﭦ","ﭧ","ﭨ","ﭩ"],["ٺ","ﭞ","ﭟ","ﭠ","ﭡ"],["ٻ","ﭒ","ﭓ","ﭔ","ﭕ"],["پ","ﭖ","ﭗ","ﭘ","ﭙ"],["ٿ","ﭢ","ﭣ","ﭤ","ﭥ"],["ڀ","ﭚ","ﭛ","ﭜ","ﭝ"],["ڃ","ﭶ","ﭷ","ﭸ","ﭹ"],["ڄ","ﭲ","ﭳ","ﭴ","ﭵ"],["چ","ﭺ","ﭻ","ﭼ","ﭽ"],["ڇ","ﭾ","ﭿ","ﮀ","ﮁ"],["ڈ","ﮈ","ﮉ"],["ڌ","ﮄ","ﮅ"],["ڍ","ﮂ","ﮃ"],["ڎ","ﮆ","ﮇ"],["ڑ","ﮌ","ﮍ"],["ژ","ﮊ","ﮋ"],["ڤ","ﭪ","ﭫ","ﭬ","ﭭ"],["ڦ","ﭮ","ﭯ","ﭰ","ﭱ"],["ک","ﮎ","ﮏ","ﮐ","ﮑ"],["ڭ","ﯓ","ﯔ","ﯕ","ﯖ"],["گ","ﮒ","ﮓ","ﮔ","ﮕ"],["ڱ","ﮚ","ﮛ","ﮜ","ﮝ"],["ڳ","ﮖ","ﮗ","ﮘ","ﮙ"],["ں","ﮞ","ﮟ"],["ڻ","ﮠ","ﮡ","ﮢ","ﮣ"],["ھ","ﮪ","ﮫ","ﮬ","ﮭ"],["ۀ","ﮤ","ﮥ"],["ہ","ﮦ","ﮧ","ﮨ","ﮩ"],["ۅ","ﯠ","ﯡ"],["ۆ","ﯙ","ﯚ"],["ۇ","ﯗ","ﯘ"],["ۈ","ﯛ","ﯜ"],["ۉ","ﯢ","ﯣ"],["ۋ","ﯞ","ﯟ"],["ی","ﯼ","ﯽ","ﯾ","ﯿ"],["ې","ﯤ","ﯥ","ﯦ","ﯧ"],["ے","ﮮ","ﮯ"],["ۓ","ﮰ","ﮱ"]],this.alef="ا",this.alefHamza="أ",this.alefHamzaBelow="إ",this.alefMadda="آ",this.lam="ل",this.hamza="ء",this.zeroWidthJoiner="‍",this.hamzaAbove="ٔ",this.hamzaBelow="ٕ",this.wawHamza="ؤ",this.yehHamza="ئ",this.waw="و",this.alefMaksura="ى",this.yeh="ي",this.farsiYeh="ی",this.shadda="ّ",this.madda="ٓ",this.lwa="ﻻ",this.lwawh="ﻷ",this.lwawhb="ﻹ",this.lwawm="ﻵ",this.bwhb="ۓ",this.fathatan="ً",this.superScriptalef="ٰ",this.vowel=1,this.arabicMapTable=new at;for(var e=0;e<this.arabicCharTable.length;e++)this.arabicMapTable.setValue(this.arabicCharTable[e][0],this.arabicCharTable[e])}return n.prototype.getCharacterShape=function(e,t){if(e>=this.hamza&&e<=this.bwhb){var i=[];if(this.arabicMapTable.getValue(e))return i=this.arabicMapTable.getValue(e),i[t+1]}else if(e>=this.lwawm&&e<=this.lwa)return e;return e},n.prototype.shape=function(e,t){for(var i="",r="",o=0;o<e.length;o++){var h=e[o];if(h>="؀"&&h<="ۿ")r=r+h;else{if(r.length>0){var u=this.doShape(r.toString(),0);i=i+u,r=""}i=i+h}}if(r.length>0){var u=this.doShape(r.toString(),0);i=i+u}return i.toString()},n.prototype.doShape=function(e,t){for(var i="",r=0,o=0,h=0,u="",g=new en,y=new en;h<e.length;)if(u=e[h++],r=this.ligature(u,y),r===0){var x=this.getShapeCount(u);o=x===1?0:2,g.Shapes>2&&(o+=1),o=o%y.Shapes,y.Value=this.getCharacterShape(y.Value,o),i=this.append(i,g,t),g=y,y=new en,y.Value=u,y.Shapes=x,y.Ligature++}return o=g.Shapes>2?1:0,o=o%y.Shapes,y.Value=this.getCharacterShape(y.Value,o),i=this.append(i,g,t),i=this.append(i,y,t),i.toString()},n.prototype.append=function(e,t,i){return t.Value!==""&&(e=e+t.Value,t.Ligature-=1,t.Type!==""&&(i&this.vowel||(e=e+t.Type),t.Ligature-=1),t.vowel!==""&&(i&this.vowel||(e=e+t.vowel),t.Ligature-=1)),e},n.prototype.ligature=function(e,t){if(t.Value!==""){var i=0;if(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef){if(i=1,t.vowel!==""&&e!==this.shadda&&(i=2),e===this.shadda)if(t.Type==null)t.Type=this.shadda;else return 0;else e===this.hamzaBelow?t.Value===this.alef?(t.Value=this.alefHamzaBelow,i=2):e===this.lwa?(t.Value=this.lwawhb,i=2):t.Type=this.hamzaBelow:e===this.hamzaAbove?t.Value===this.alef?(t.Value=this.alefHamza,i=2):t.Value===this.lwa?(t.Value=this.lwawh,i=2):t.Value===this.waw?(t.Value=this.wawHamza,i=2):t.Value===this.yeh||t.Value===this.alefMaksura||t.Value===this.farsiYeh?(t.Value=this.yehHamza,i=2):t.Type=this.hamzaAbove:e===this.madda?t.Value===this.alef&&(t.Value=this.alefMadda,i=2):t.vowel=e;return i===1&&t.Ligature++,i}return t.vowel!==""?0:(t.Value===this.lam&&(e===this.alef?(t.Value=this.lwa,t.Shapes=2,i=3):e===this.alefHamza?(t.Value=this.lwawh,t.Shapes=2,i=3):e===this.alefHamzaBelow?(t.Value=this.lwawhb,t.Shapes=2,i=3):e===this.alefMadda&&(t.Value=this.lwawm,t.Shapes=2,i=3)),i)}else return 0},n.prototype.getShapeCount=function(e){if(e>=this.hamza&&e<=this.bwhb&&!(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef)){var t=[];if(this.arabicMapTable.getValue(e))return t=this.arabicMapTable.getValue(e),t.length-1}else if(e===this.zeroWidthJoiner)return 4;return 1},n}(),en=function(){function n(){this.shapeValue="",this.shapeType="",this.shapeVowel="",this.shapeLigature=0,this.shapeShapes=1}return Object.defineProperty(n.prototype,"Value",{get:function(){return this.shapeValue},set:function(e){this.shapeValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Type",{get:function(){return this.shapeType},set:function(e){this.shapeType=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"vowel",{get:function(){return this.shapeVowel},set:function(e){this.shapeVowel=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Ligature",{get:function(){return this.shapeLigature},set:function(e){this.shapeLigature=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Shapes",{get:function(){return this.shapeShapes},set:function(e){this.shapeShapes=e},enumerable:!0,configurable:!0}),n}(),hd=function(){function n(){this.indexes=[],this.indexLevels=[],this.mirroringShapeCharacters=new at,this.update()}return n.prototype.doMirrorShaping=function(e){for(var t=[],i=0;i<e.length;i++)(this.indexLevels[i]&1)===1&&this.mirroringShapeCharacters.containsKey(e[i].charCodeAt(0))?t[i]=String.fromCharCode(this.mirroringShapeCharacters.getValue(e[i].charCodeAt(0))):t[i]=e[i].toString();for(var r="",o=0;o<t.length;o++)r=r+t[o];return r},n.prototype.getLogicalToVisualString=function(e,t){var i=new cd;this.indexLevels=i.getVisualOrder(e,t),this.setDefaultIndexLevel(),this.doOrder(0,this.indexLevels.length-1);for(var r=this.doMirrorShaping(e),o="",h=0;h<this.indexes.length;h++){var u=this.indexes[h];o+=r[u]}return o.toString()},n.prototype.setDefaultIndexLevel=function(){for(var e=0;e<this.indexLevels.length;e++)this.indexes[e]=e},n.prototype.doOrder=function(e,t){for(var i=this.indexLevels[e],r=i,o=i,h=i,u=e+1;u<=t;++u){var g=this.indexLevels[u];g>i?i=g:g<r&&(r=g),o&=g,h|=g}if(h&1){if((o&1)===1){this.reArrange(e,t+1);return}for(r|=1;i>=r;){for(var y=e;;){for(;y<=t&&!(this.indexLevels[y]>=i);)y+=1;if(y>t)break;for(var x=y+1;x<=t&&!(this.indexLevels[x]<i);)x+=1;this.reArrange(y,x),y=x+1}i-=1}}},n.prototype.reArrange=function(e,t){var i=(e+t)/2;for(--t;e<i;++e,--t){var r=this.indexes[e];this.indexes[e]=this.indexes[t],this.indexes[t]=r}},n.prototype.update=function(){this.mirroringShapeCharacters.setValue(40,41),this.mirroringShapeCharacters.setValue(41,40),this.mirroringShapeCharacters.setValue(60,62),this.mirroringShapeCharacters.setValue(62,60),this.mirroringShapeCharacters.setValue(91,93),this.mirroringShapeCharacters.setValue(93,91),this.mirroringShapeCharacters.setValue(123,125),this.mirroringShapeCharacters.setValue(125,123),this.mirroringShapeCharacters.setValue(171,187),this.mirroringShapeCharacters.setValue(187,171),this.mirroringShapeCharacters.setValue(8249,8250),this.mirroringShapeCharacters.setValue(8250,8249),this.mirroringShapeCharacters.setValue(8261,8262),this.mirroringShapeCharacters.setValue(8262,8261),this.mirroringShapeCharacters.setValue(8317,8318),this.mirroringShapeCharacters.setValue(8318,8317),this.mirroringShapeCharacters.setValue(8333,8334),this.mirroringShapeCharacters.setValue(8334,8333),this.mirroringShapeCharacters.setValue(8712,8715),this.mirroringShapeCharacters.setValue(8713,8716),this.mirroringShapeCharacters.setValue(8714,8717),this.mirroringShapeCharacters.setValue(8715,8712),this.mirroringShapeCharacters.setValue(8716,8713),this.mirroringShapeCharacters.setValue(8717,8714),this.mirroringShapeCharacters.setValue(8725,10741),this.mirroringShapeCharacters.setValue(8764,8765),this.mirroringShapeCharacters.setValue(8765,8764),this.mirroringShapeCharacters.setValue(8771,8909),this.mirroringShapeCharacters.setValue(8786,8787),this.mirroringShapeCharacters.setValue(8787,8786),this.mirroringShapeCharacters.setValue(8788,8789),this.mirroringShapeCharacters.setValue(8789,8788),this.mirroringShapeCharacters.setValue(8804,8805),this.mirroringShapeCharacters.setValue(8805,8804),this.mirroringShapeCharacters.setValue(8806,8807),this.mirroringShapeCharacters.setValue(8807,8806),this.mirroringShapeCharacters.setValue(8808,8809),this.mirroringShapeCharacters.setValue(8809,8808),this.mirroringShapeCharacters.setValue(8810,8811),this.mirroringShapeCharacters.setValue(8811,8810),this.mirroringShapeCharacters.setValue(8814,8815),this.mirroringShapeCharacters.setValue(8815,8814),this.mirroringShapeCharacters.setValue(8816,8817),this.mirroringShapeCharacters.setValue(8817,8816),this.mirroringShapeCharacters.setValue(8818,8819),this.mirroringShapeCharacters.setValue(8819,8818),this.mirroringShapeCharacters.setValue(8820,8821),this.mirroringShapeCharacters.setValue(8821,8820),this.mirroringShapeCharacters.setValue(8822,8823),this.mirroringShapeCharacters.setValue(8823,8822),this.mirroringShapeCharacters.setValue(8824,8825),this.mirroringShapeCharacters.setValue(8825,8824),this.mirroringShapeCharacters.setValue(8826,8827),this.mirroringShapeCharacters.setValue(8827,8826),this.mirroringShapeCharacters.setValue(8828,8829),this.mirroringShapeCharacters.setValue(8829,8828),this.mirroringShapeCharacters.setValue(8830,8831),this.mirroringShapeCharacters.setValue(8831,8830),this.mirroringShapeCharacters.setValue(8832,8833),this.mirroringShapeCharacters.setValue(8833,8832),this.mirroringShapeCharacters.setValue(8834,8835),this.mirroringShapeCharacters.setValue(8835,8834),this.mirroringShapeCharacters.setValue(8836,8837),this.mirroringShapeCharacters.setValue(8837,8836),this.mirroringShapeCharacters.setValue(8838,8839),this.mirroringShapeCharacters.setValue(8839,8838),this.mirroringShapeCharacters.setValue(8840,8841),this.mirroringShapeCharacters.setValue(8841,8840),this.mirroringShapeCharacters.setValue(8842,8843),this.mirroringShapeCharacters.setValue(8843,8842),this.mirroringShapeCharacters.setValue(8847,8848),this.mirroringShapeCharacters.setValue(8848,8847),this.mirroringShapeCharacters.setValue(8849,8850),this.mirroringShapeCharacters.setValue(8850,8849),this.mirroringShapeCharacters.setValue(8856,10680),this.mirroringShapeCharacters.setValue(8866,8867),this.mirroringShapeCharacters.setValue(8867,8866),this.mirroringShapeCharacters.setValue(8870,10974),this.mirroringShapeCharacters.setValue(8872,10980),this.mirroringShapeCharacters.setValue(8873,10979),this.mirroringShapeCharacters.setValue(8875,10981),this.mirroringShapeCharacters.setValue(8880,8881),this.mirroringShapeCharacters.setValue(8881,8880),this.mirroringShapeCharacters.setValue(8882,8883),this.mirroringShapeCharacters.setValue(8883,8882),this.mirroringShapeCharacters.setValue(8884,8885),this.mirroringShapeCharacters.setValue(8885,8884),this.mirroringShapeCharacters.setValue(8886,8887),this.mirroringShapeCharacters.setValue(8887,8886),this.mirroringShapeCharacters.setValue(8905,8906),this.mirroringShapeCharacters.setValue(8906,8905),this.mirroringShapeCharacters.setValue(8907,8908),this.mirroringShapeCharacters.setValue(8908,8907),this.mirroringShapeCharacters.setValue(8909,8771),this.mirroringShapeCharacters.setValue(8912,8913),this.mirroringShapeCharacters.setValue(8913,8912),this.mirroringShapeCharacters.setValue(8918,8919),this.mirroringShapeCharacters.setValue(8919,8918),this.mirroringShapeCharacters.setValue(8920,8921),this.mirroringShapeCharacters.setValue(8921,8920),this.mirroringShapeCharacters.setValue(8922,8923),this.mirroringShapeCharacters.setValue(8923,8922),this.mirroringShapeCharacters.setValue(8924,8925),this.mirroringShapeCharacters.setValue(8925,8924),this.mirroringShapeCharacters.setValue(8926,8927),this.mirroringShapeCharacters.setValue(8927,8926),this.mirroringShapeCharacters.setValue(8928,8929),this.mirroringShapeCharacters.setValue(8929,8928),this.mirroringShapeCharacters.setValue(8930,8931),this.mirroringShapeCharacters.setValue(8931,8930),this.mirroringShapeCharacters.setValue(8932,8933),this.mirroringShapeCharacters.setValue(8933,8932),this.mirroringShapeCharacters.setValue(8934,8935),this.mirroringShapeCharacters.setValue(8935,8934),this.mirroringShapeCharacters.setValue(8936,8937),this.mirroringShapeCharacters.setValue(8937,8936),this.mirroringShapeCharacters.setValue(8938,8939),this.mirroringShapeCharacters.setValue(8939,8938),this.mirroringShapeCharacters.setValue(8940,8941),this.mirroringShapeCharacters.setValue(8941,8940),this.mirroringShapeCharacters.setValue(8944,8945),this.mirroringShapeCharacters.setValue(8945,8944),this.mirroringShapeCharacters.setValue(8946,8954),this.mirroringShapeCharacters.setValue(8947,8955),this.mirroringShapeCharacters.setValue(8948,8956),this.mirroringShapeCharacters.setValue(8950,8957),this.mirroringShapeCharacters.setValue(8951,8958),this.mirroringShapeCharacters.setValue(8954,8946),this.mirroringShapeCharacters.setValue(8955,8947),this.mirroringShapeCharacters.setValue(8956,8948),this.mirroringShapeCharacters.setValue(8957,8950),this.mirroringShapeCharacters.setValue(8958,8951),this.mirroringShapeCharacters.setValue(8968,8969),this.mirroringShapeCharacters.setValue(8969,8968),this.mirroringShapeCharacters.setValue(8970,8971),this.mirroringShapeCharacters.setValue(8971,8970),this.mirroringShapeCharacters.setValue(9001,9002),this.mirroringShapeCharacters.setValue(9002,9001),this.mirroringShapeCharacters.setValue(10088,10089),this.mirroringShapeCharacters.setValue(10089,10088),this.mirroringShapeCharacters.setValue(10090,10091),this.mirroringShapeCharacters.setValue(10091,10090),this.mirroringShapeCharacters.setValue(10092,10093),this.mirroringShapeCharacters.setValue(10093,10092),this.mirroringShapeCharacters.setValue(10094,10095),this.mirroringShapeCharacters.setValue(10095,10094),this.mirroringShapeCharacters.setValue(10096,10097),this.mirroringShapeCharacters.setValue(10097,10096),this.mirroringShapeCharacters.setValue(10098,10099),this.mirroringShapeCharacters.setValue(10099,10098),this.mirroringShapeCharacters.setValue(10100,10101),this.mirroringShapeCharacters.setValue(10101,10100),this.mirroringShapeCharacters.setValue(10197,10198),this.mirroringShapeCharacters.setValue(10198,10197),this.mirroringShapeCharacters.setValue(10205,10206),this.mirroringShapeCharacters.setValue(10206,10205),this.mirroringShapeCharacters.setValue(10210,10211),this.mirroringShapeCharacters.setValue(10211,10210),this.mirroringShapeCharacters.setValue(10212,10213),this.mirroringShapeCharacters.setValue(10213,10212),this.mirroringShapeCharacters.setValue(10214,10215),this.mirroringShapeCharacters.setValue(10215,10214),this.mirroringShapeCharacters.setValue(10216,10217),this.mirroringShapeCharacters.setValue(10217,10216),this.mirroringShapeCharacters.setValue(10218,10219),this.mirroringShapeCharacters.setValue(10219,10218),this.mirroringShapeCharacters.setValue(10627,10628),this.mirroringShapeCharacters.setValue(10628,10627),this.mirroringShapeCharacters.setValue(10629,10630),this.mirroringShapeCharacters.setValue(10630,10629),this.mirroringShapeCharacters.setValue(10631,10632),this.mirroringShapeCharacters.setValue(10632,10631),this.mirroringShapeCharacters.setValue(10633,10634),this.mirroringShapeCharacters.setValue(10634,10633),this.mirroringShapeCharacters.setValue(10635,10636),this.mirroringShapeCharacters.setValue(10636,10635),this.mirroringShapeCharacters.setValue(10637,10640),this.mirroringShapeCharacters.setValue(10638,10639),this.mirroringShapeCharacters.setValue(10639,10638),this.mirroringShapeCharacters.setValue(10640,10637),this.mirroringShapeCharacters.setValue(10641,10642),this.mirroringShapeCharacters.setValue(10642,10641),this.mirroringShapeCharacters.setValue(10643,10644),this.mirroringShapeCharacters.setValue(10644,10643),this.mirroringShapeCharacters.setValue(10645,10646),this.mirroringShapeCharacters.setValue(10646,10645),this.mirroringShapeCharacters.setValue(10647,10648),this.mirroringShapeCharacters.setValue(10648,10647),this.mirroringShapeCharacters.setValue(10680,8856),this.mirroringShapeCharacters.setValue(10688,10689),this.mirroringShapeCharacters.setValue(10689,10688),this.mirroringShapeCharacters.setValue(10692,10693),this.mirroringShapeCharacters.setValue(10693,10692),this.mirroringShapeCharacters.setValue(10703,10704),this.mirroringShapeCharacters.setValue(10704,10703),this.mirroringShapeCharacters.setValue(10705,10706),this.mirroringShapeCharacters.setValue(10706,10705),this.mirroringShapeCharacters.setValue(10708,10709),this.mirroringShapeCharacters.setValue(10709,10708),this.mirroringShapeCharacters.setValue(10712,10713),this.mirroringShapeCharacters.setValue(10713,10712),this.mirroringShapeCharacters.setValue(10714,10715),this.mirroringShapeCharacters.setValue(10715,10714),this.mirroringShapeCharacters.setValue(10741,8725),this.mirroringShapeCharacters.setValue(10744,10745),this.mirroringShapeCharacters.setValue(10745,10744),this.mirroringShapeCharacters.setValue(10748,10749),this.mirroringShapeCharacters.setValue(10749,10748),this.mirroringShapeCharacters.setValue(10795,10796),this.mirroringShapeCharacters.setValue(10796,10795),this.mirroringShapeCharacters.setValue(10797,10796),this.mirroringShapeCharacters.setValue(10798,10797),this.mirroringShapeCharacters.setValue(10804,10805),this.mirroringShapeCharacters.setValue(10805,10804),this.mirroringShapeCharacters.setValue(10812,10813),this.mirroringShapeCharacters.setValue(10813,10812),this.mirroringShapeCharacters.setValue(10852,10853),this.mirroringShapeCharacters.setValue(10853,10852),this.mirroringShapeCharacters.setValue(10873,10874),this.mirroringShapeCharacters.setValue(10874,10873),this.mirroringShapeCharacters.setValue(10877,10878),this.mirroringShapeCharacters.setValue(10878,10877),this.mirroringShapeCharacters.setValue(10879,10880),this.mirroringShapeCharacters.setValue(10880,10879),this.mirroringShapeCharacters.setValue(10881,10882),this.mirroringShapeCharacters.setValue(10882,10881),this.mirroringShapeCharacters.setValue(10883,10884),this.mirroringShapeCharacters.setValue(10884,10883),this.mirroringShapeCharacters.setValue(10891,10892),this.mirroringShapeCharacters.setValue(10892,10891),this.mirroringShapeCharacters.setValue(10897,10898),this.mirroringShapeCharacters.setValue(10898,10897),this.mirroringShapeCharacters.setValue(10899,10900),this.mirroringShapeCharacters.setValue(10900,10899),this.mirroringShapeCharacters.setValue(10901,10902),this.mirroringShapeCharacters.setValue(10902,10901),this.mirroringShapeCharacters.setValue(10903,10904),this.mirroringShapeCharacters.setValue(10904,10903),this.mirroringShapeCharacters.setValue(10905,10906),this.mirroringShapeCharacters.setValue(10906,10905),this.mirroringShapeCharacters.setValue(10907,10908),this.mirroringShapeCharacters.setValue(10908,10907),this.mirroringShapeCharacters.setValue(10913,10914),this.mirroringShapeCharacters.setValue(10914,10913),this.mirroringShapeCharacters.setValue(10918,10919),this.mirroringShapeCharacters.setValue(10919,10918),this.mirroringShapeCharacters.setValue(10920,10921),this.mirroringShapeCharacters.setValue(10921,10920),this.mirroringShapeCharacters.setValue(10922,10923),this.mirroringShapeCharacters.setValue(10923,10922),this.mirroringShapeCharacters.setValue(10924,10925),this.mirroringShapeCharacters.setValue(10925,10924),this.mirroringShapeCharacters.setValue(10927,10928),this.mirroringShapeCharacters.setValue(10928,10927),this.mirroringShapeCharacters.setValue(10931,10932),this.mirroringShapeCharacters.setValue(10932,10931),this.mirroringShapeCharacters.setValue(10939,10940),this.mirroringShapeCharacters.setValue(10940,10939),this.mirroringShapeCharacters.setValue(10941,10942),this.mirroringShapeCharacters.setValue(10942,10941),this.mirroringShapeCharacters.setValue(10943,10944),this.mirroringShapeCharacters.setValue(10944,10943),this.mirroringShapeCharacters.setValue(10945,10946),this.mirroringShapeCharacters.setValue(10946,10945),this.mirroringShapeCharacters.setValue(10947,10948),this.mirroringShapeCharacters.setValue(10948,10947),this.mirroringShapeCharacters.setValue(10949,10950),this.mirroringShapeCharacters.setValue(10950,10949),this.mirroringShapeCharacters.setValue(10957,10958),this.mirroringShapeCharacters.setValue(10958,10957),this.mirroringShapeCharacters.setValue(10959,10960),this.mirroringShapeCharacters.setValue(10960,10959),this.mirroringShapeCharacters.setValue(10961,10962),this.mirroringShapeCharacters.setValue(10962,10961),this.mirroringShapeCharacters.setValue(10963,10964),this.mirroringShapeCharacters.setValue(10964,10963),this.mirroringShapeCharacters.setValue(10965,10966),this.mirroringShapeCharacters.setValue(10966,10965),this.mirroringShapeCharacters.setValue(10974,8870),this.mirroringShapeCharacters.setValue(10979,8873),this.mirroringShapeCharacters.setValue(10980,8872),this.mirroringShapeCharacters.setValue(10981,8875),this.mirroringShapeCharacters.setValue(10988,10989),this.mirroringShapeCharacters.setValue(10989,10988),this.mirroringShapeCharacters.setValue(10999,11e3),this.mirroringShapeCharacters.setValue(11e3,10999),this.mirroringShapeCharacters.setValue(11001,11002),this.mirroringShapeCharacters.setValue(11002,11001),this.mirroringShapeCharacters.setValue(12296,12297),this.mirroringShapeCharacters.setValue(12297,12296),this.mirroringShapeCharacters.setValue(12298,12299),this.mirroringShapeCharacters.setValue(12299,12298),this.mirroringShapeCharacters.setValue(12300,12301),this.mirroringShapeCharacters.setValue(12301,12300),this.mirroringShapeCharacters.setValue(12302,12303),this.mirroringShapeCharacters.setValue(12303,12302),this.mirroringShapeCharacters.setValue(12304,12305),this.mirroringShapeCharacters.setValue(12305,12304),this.mirroringShapeCharacters.setValue(12308,12309),this.mirroringShapeCharacters.setValue(12309,12308),this.mirroringShapeCharacters.setValue(12310,12311),this.mirroringShapeCharacters.setValue(12311,12310),this.mirroringShapeCharacters.setValue(12312,12313),this.mirroringShapeCharacters.setValue(12313,12312),this.mirroringShapeCharacters.setValue(12314,12315),this.mirroringShapeCharacters.setValue(12315,12314),this.mirroringShapeCharacters.setValue(65288,65289),this.mirroringShapeCharacters.setValue(65289,65288),this.mirroringShapeCharacters.setValue(65308,65310),this.mirroringShapeCharacters.setValue(65310,65308),this.mirroringShapeCharacters.setValue(65339,65341),this.mirroringShapeCharacters.setValue(65341,65339),this.mirroringShapeCharacters.setValue(65371,65373),this.mirroringShapeCharacters.setValue(65373,65371),this.mirroringShapeCharacters.setValue(65375,65376),this.mirroringShapeCharacters.setValue(65376,65375),this.mirroringShapeCharacters.setValue(65378,65379),this.mirroringShapeCharacters.setValue(65379,65378)},n}(),cd=function(){function n(){this.types=[],this.textOrder=-1,this.rtlCharacterTypes=new Array(65536),this.L=0,this.LRE=1,this.LRO=2,this.R=3,this.AL=4,this.RLE=5,this.RLO=6,this.PDF=7,this.EN=8,this.ES=9,this.ET=10,this.AN=11,this.CS=12,this.NSM=13,this.BN=14,this.B=15,this.S=16,this.WS=17,this.ON=18,this.charTypes=[this.L,this.EN,this.BN,this.ES,this.ES,this.S,this.ET,this.ET,this.B,this.AN,this.AN,this.S,this.CS,this.CS,this.WS,this.NSM,this.NSM,this.B,this.BN,27,this.BN,28,30,this.B,31,31,this.S,32,32,this.WS,33,34,this.ON,35,37,this.ET,38,42,this.ON,43,43,this.ET,44,44,this.CS,45,45,this.ET,46,46,this.CS,47,47,this.CS,48,57,this.EN,58,58,this.CS,59,64,this.ON,65,90,this.L,91,96,this.ON,97,122,this.L,123,126,this.ON,127,132,this.BN,133,133,this.B,134,159,this.BN,160,160,this.CS,161,161,this.ON,162,165,this.ET,166,169,this.ON,170,170,this.L,171,175,this.ON,176,177,this.ET,178,179,this.EN,180,180,this.ON,181,181,this.L,182,184,this.ON,185,185,this.EN,186,186,this.L,187,191,this.ON,192,214,this.L,215,215,this.ON,216,246,this.L,247,247,this.ON,248,696,this.L,697,698,this.ON,699,705,this.L,706,719,this.ON,720,721,this.L,722,735,this.ON,736,740,this.L,741,749,this.ON,750,750,this.L,751,767,this.ON,768,855,this.NSM,856,860,this.L,861,879,this.NSM,880,883,this.L,884,885,this.ON,886,893,this.L,894,894,this.ON,895,899,this.L,900,901,this.ON,902,902,this.L,903,903,this.ON,904,1013,this.L,1014,1014,this.ON,1015,1154,this.L,1155,1158,this.NSM,1159,1159,this.L,1160,1161,this.NSM,1162,1417,this.L,1418,1418,this.ON,1419,1424,this.L,1425,1441,this.NSM,1442,1442,this.L,1443,1465,this.NSM,1466,1466,this.L,1467,1469,this.NSM,1470,1470,this.R,1471,1471,this.NSM,1472,1472,this.R,1473,1474,this.NSM,1475,1475,this.R,1476,1476,this.NSM,1477,1487,this.L,1488,1514,this.R,1515,1519,this.L,1520,1524,this.R,1525,1535,this.L,1536,1539,this.AL,1540,1547,this.L,1548,1548,this.CS,1549,1549,this.AL,1550,1551,this.ON,1552,1557,this.NSM,1558,1562,this.L,1563,1563,this.AL,1564,1566,this.L,1567,1567,this.AL,1568,1568,this.L,1569,1594,this.AL,1595,1599,this.L,1600,1610,this.AL,1611,1624,this.NSM,1625,1631,this.L,1632,1641,this.AN,1642,1642,this.ET,1643,1644,this.AN,1645,1647,this.AL,1648,1648,this.NSM,1649,1749,this.AL,1750,1756,this.NSM,1757,1757,this.AL,1758,1764,this.NSM,1765,1766,this.AL,1767,1768,this.NSM,1769,1769,this.ON,1770,1773,this.NSM,1774,1775,this.AL,1776,1785,this.EN,1786,1805,this.AL,1806,1806,this.L,1807,1807,this.BN,1808,1808,this.AL,1809,1809,this.NSM,1810,1839,this.AL,1840,1866,this.NSM,1867,1868,this.L,1869,1871,this.AL,1872,1919,this.L,1920,1957,this.AL,1958,1968,this.NSM,1969,1969,this.AL,1970,2304,this.L,2305,2306,this.NSM,2307,2363,this.L,2364,2364,this.NSM,2365,2368,this.L,2369,2376,this.NSM,2377,2380,this.L,2381,2381,this.NSM,2382,2384,this.L,2385,2388,this.NSM,2389,2401,this.L,2402,2403,this.NSM,2404,2432,this.L,2433,2433,this.NSM,2434,2491,this.L,2492,2492,this.NSM,2493,2496,this.L,2497,2500,this.NSM,2501,2508,this.L,2509,2509,this.NSM,2510,2529,this.L,2530,2531,this.NSM,2532,2545,this.L,2546,2547,this.ET,2548,2560,this.L,2561,2562,this.NSM,2563,2619,this.L,2620,2620,this.NSM,2621,2624,this.L,2625,2626,this.NSM,2627,2630,this.L,2631,2632,this.NSM,2633,2634,this.L,2635,2637,this.NSM,2638,2671,this.L,2672,2673,this.NSM,2674,2688,this.L,2689,2690,this.NSM,2691,2747,this.L,2748,2748,this.NSM,2749,2752,this.L,2753,2757,this.NSM,2758,2758,this.L,2759,2760,this.NSM,2761,2764,this.L,2765,2765,this.NSM,2766,2785,this.L,2786,2787,this.NSM,2788,2800,this.L,2801,2801,this.ET,2802,2816,this.L,2817,2817,this.NSM,2818,2875,this.L,2876,2876,this.NSM,2877,2878,this.L,2879,2879,this.NSM,2880,2880,this.L,2881,2883,this.NSM,2884,2892,this.L,2893,2893,this.NSM,2894,2901,this.L,2902,2902,this.NSM,2903,2945,this.L,2946,2946,this.NSM,2947,3007,this.L,3008,3008,this.NSM,3009,3020,this.L,3021,3021,this.NSM,3022,3058,this.L,3059,3064,this.ON,3065,3065,this.ET,3066,3066,this.ON,3067,3133,this.L,3134,3136,this.NSM,3137,3141,this.L,3142,3144,this.NSM,3145,3145,this.L,3146,3149,this.NSM,3150,3156,this.L,3157,3158,this.NSM,3159,3259,this.L,3260,3260,this.NSM,3261,3275,this.L,3276,3277,this.NSM,3278,3392,this.L,3393,3395,this.NSM,3396,3404,this.L,3405,3405,this.NSM,3406,3529,this.L,3530,3530,this.NSM,3531,3537,this.L,3538,3540,this.NSM,3541,3541,this.L,3542,3542,this.NSM,3543,3632,this.L,3633,3633,this.NSM,3634,3635,this.L,3636,3642,this.NSM,3643,3646,this.L,3647,3647,this.ET,3648,3654,this.L,3655,3662,this.NSM,3663,3760,this.L,3761,3761,this.NSM,3762,3763,this.L,3764,3769,this.NSM,3770,3770,this.L,3771,3772,this.NSM,3773,3783,this.L,3784,3789,this.NSM,3790,3863,this.L,3864,3865,this.NSM,3866,3892,this.L,3893,3893,this.NSM,3894,3894,this.L,3895,3895,this.NSM,3896,3896,this.L,3897,3897,this.NSM,3898,3901,this.ON,3902,3952,this.L,3953,3966,this.NSM,3967,3967,this.L,3968,3972,this.NSM,3973,3973,this.L,3974,3975,this.NSM,3976,3983,this.L,3984,3991,this.NSM,3992,3992,this.L,3993,4028,this.NSM,4029,4037,this.L,4038,4038,this.NSM,4039,4140,this.L,4141,4144,this.NSM,4145,4145,this.L,4146,4146,this.NSM,4147,4149,this.L,4150,4151,this.NSM,4152,4152,this.L,4153,4153,this.NSM,4154,4183,this.L,4184,4185,this.NSM,4186,5759,this.L,5760,5760,this.WS,5761,5786,this.L,5787,5788,this.ON,5789,5905,this.L,5906,5908,this.NSM,5909,5937,this.L,5938,5940,this.NSM,5941,5969,this.L,5970,5971,this.NSM,5972,6001,this.L,6002,6003,this.NSM,6004,6070,this.L,6071,6077,this.NSM,6078,6085,this.L,6086,6086,this.NSM,6087,6088,this.L,6089,6099,this.NSM,6100,6106,this.L,6107,6107,this.ET,6108,6108,this.L,6109,6109,this.NSM,6110,6127,this.L,6128,6137,this.ON,6138,6143,this.L,6144,6154,this.ON,6155,6157,this.NSM,6158,6158,this.WS,6159,6312,this.L,6313,6313,this.NSM,6314,6431,this.L,6432,6434,this.NSM,6435,6438,this.L,6439,6443,this.NSM,6444,6449,this.L,6450,6450,this.NSM,6451,6456,this.L,6457,6459,this.NSM,6460,6463,this.L,6464,6464,this.ON,6465,6467,this.L,6468,6469,this.ON,6470,6623,this.L,6624,6655,this.ON,6656,8124,this.L,8125,8125,this.ON,8126,8126,this.L,8127,8129,this.ON,8130,8140,this.L,8141,8143,this.ON,8144,8156,this.L,8157,8159,this.ON,8160,8172,this.L,8173,8175,this.ON,8176,8188,this.L,8189,8190,this.ON,8191,8191,this.L,8192,8202,this.WS,8203,8205,this.BN,8206,8206,this.L,8207,8207,this.R,8208,8231,this.ON,8232,8232,this.WS,8233,8233,this.B,8234,8234,this.LRE,8235,8235,this.RLE,8236,8236,this.PDF,8237,8237,this.LRO,8238,8238,this.RLO,8239,8239,this.WS,8240,8244,this.ET,8245,8276,this.ON,8277,8278,this.L,8279,8279,this.ON,8280,8286,this.L,8287,8287,this.WS,8288,8291,this.BN,8292,8297,this.L,8298,8303,this.BN,8304,8304,this.EN,8305,8307,this.L,8308,8313,this.EN,8314,8315,this.ET,8316,8318,this.ON,8319,8319,this.L,8320,8329,this.EN,8330,8331,this.ET,8332,8334,this.ON,8335,8351,this.L,8352,8369,this.ET,8370,8399,this.L,8400,8426,this.NSM,8427,8447,this.L,8448,8449,this.ON,8450,8450,this.L,8451,8454,this.ON,8455,8455,this.L,8456,8457,this.ON,8458,8467,this.L,8468,8468,this.ON,8469,8469,this.L,8470,8472,this.ON,8473,8477,this.L,8478,8483,this.ON,8484,8484,this.L,8485,8485,this.ON,8486,8486,this.L,8487,8487,this.ON,8488,8488,this.L,8489,8489,this.ON,8490,8493,this.L,8494,8494,this.ET,8495,8497,this.L,8498,8498,this.ON,8499,8505,this.L,8506,8507,this.ON,8508,8511,this.L,8512,8516,this.ON,8517,8521,this.L,8522,8523,this.ON,8524,8530,this.L,8531,8543,this.ON,8544,8591,this.L,8592,8721,this.ON,8722,8723,this.ET,8724,9013,this.ON,9014,9082,this.L,9083,9108,this.ON,9109,9109,this.L,9110,9168,this.ON,9169,9215,this.L,9216,9254,this.ON,9255,9279,this.L,9280,9290,this.ON,9291,9311,this.L,9312,9371,this.EN,9372,9449,this.L,9450,9450,this.EN,9451,9751,this.ON,9752,9752,this.L,9753,9853,this.ON,9854,9855,this.L,9856,9873,this.ON,9874,9887,this.L,9888,9889,this.ON,9890,9984,this.L,9985,9988,this.ON,9989,9989,this.L,9990,9993,this.ON,9994,9995,this.L,9996,10023,this.ON,10024,10024,this.L,10025,10059,this.ON,10060,10060,this.L,10061,10061,this.ON,10062,10062,this.L,10063,10066,this.ON,10067,10069,this.L,10070,10070,this.ON,10071,10071,this.L,10072,10078,this.ON,10079,10080,this.L,10081,10132,this.ON,10133,10135,this.L,10136,10159,this.ON,10160,10160,this.L,10161,10174,this.ON,10175,10191,this.L,10192,10219,this.ON,10220,10223,this.L,10224,11021,this.ON,11022,11903,this.L,11904,11929,this.ON,11930,11930,this.L,11931,12019,this.ON,12020,12031,this.L,12032,12245,this.ON,12246,12271,this.L,12272,12283,this.ON,12284,12287,this.L,12288,12288,this.WS,12289,12292,this.ON,12293,12295,this.L,12296,12320,this.ON,12321,12329,this.L,12330,12335,this.NSM,12336,12336,this.ON,12337,12341,this.L,12342,12343,this.ON,12344,12348,this.L,12349,12351,this.ON,12352,12440,this.L,12441,12442,this.NSM,12443,12444,this.ON,12445,12447,this.L,12448,12448,this.ON,12449,12538,this.L,12539,12539,this.ON,12540,12828,this.L,12829,12830,this.ON,12831,12879,this.L,12880,12895,this.ON,12896,12923,this.L,12924,12925,this.ON,12926,12976,this.L,12977,12991,this.ON,12992,13003,this.L,13004,13007,this.ON,13008,13174,this.L,13175,13178,this.ON,13179,13277,this.L,13278,13279,this.ON,13280,13310,this.L,13311,13311,this.ON,13312,19903,this.L,19904,19967,this.ON,19968,42127,this.L,42128,42182,this.ON,42183,64284,this.L,64285,64285,this.R,64286,64286,this.NSM,64287,64296,this.R,64297,64297,this.ET,64298,64310,this.R,64311,64311,this.L,64312,64316,this.R,64317,64317,this.L,64318,64318,this.R,64319,64319,this.L,64320,64321,this.R,64322,64322,this.L,64323,64324,this.R,64325,64325,this.L,64326,64335,this.R,64336,64433,this.AL,64434,64466,this.L,64467,64829,this.AL,64830,64831,this.ON,64832,64847,this.L,64848,64911,this.AL,64912,64913,this.L,64914,64967,this.AL,64968,65007,this.L,65008,65020,this.AL,65021,65021,this.ON,65022,65023,this.L,65024,65039,this.NSM,65040,65055,this.L,65056,65059,this.NSM,65060,65071,this.L,65072,65103,this.ON,65104,65104,this.CS,65105,65105,this.ON,65106,65106,this.CS,65107,65107,this.L,65108,65108,this.ON,65109,65109,this.CS,65110,65118,this.ON,65119,65119,this.ET,65120,65121,this.ON,65122,65123,this.ET,65124,65126,this.ON,65127,65127,this.L,65128,65128,this.ON,65129,65130,this.ET,65131,65131,this.ON,65132,65135,this.L,65136,65140,this.AL,65141,65141,this.L,65142,65276,this.AL,65277,65278,this.L,65279,65279,this.BN,65280,65280,this.L,65281,65282,this.ON,65283,65285,this.ET,65286,65290,this.ON,65291,65291,this.ET,65292,65292,this.CS,65293,65293,this.ET,65294,65294,this.CS,65295,65295,this.ES,65296,65305,this.EN,65306,65306,this.CS,65307,65312,this.ON,65313,65338,this.L,65339,65344,this.ON,65345,65370,this.L,65371,65381,this.ON,65382,65503,this.L,65504,65505,this.ET,65506,65508,this.ON,65509,65510,this.ET,65511,65511,this.L,65512,65518,this.ON,65519,65528,this.L,65529,65531,this.BN,65532,65533,this.ON,65534,65535,this.L];for(var e=0;e<this.charTypes.length;++e)for(var t=this.charTypes[e],i=this.charTypes[++e],r=this.charTypes[++e];t<=i;)this.rtlCharacterTypes[t++]=r}return n.prototype.getVisualOrder=function(e,t){this.types=this.getCharacterCode(e),this.textOrder=t?this.LRE:this.L,this.doVisualOrder();for(var i=[],r=0;r<this.levels.length;r++)i[r]=this.levels[r];return i},n.prototype.getCharacterCode=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=this.rtlCharacterTypes[e[i].charCodeAt(0)];return t},n.prototype.setDefaultLevels=function(){for(var e=0;e<this.length;e++)this.levels[e]=this.textOrder},n.prototype.setLevels=function(){this.setDefaultLevels();for(var e=0;e<this.length;++e){var t=this.levels[e];t&128&&(t&=127,this.result[e]=t&1?this.R:this.L),this.levels[e]=t}},n.prototype.updateLevels=function(e,t,i){if(t&1)for(var r=e;r<i;++r)this.result[r]!==this.R&&(this.levels[r]+=1);else for(var r=e;r<i;++r)this.result[r]===this.R?this.levels[r]+=1:this.result[r]!==this.L&&(this.levels[r]+=2)},n.prototype.doVisualOrder=function(){this.length=this.types.length,this.result=this.types,this.levels=[],this.setLevels(),this.length=this.getEmbeddedCharactersLength();for(var e=this.textOrder,t=0;t<this.length;){for(var i=this.levels[t],r=Math.max(e,i)&1?this.R:this.L,o=t+1;o<this.length&&this.levels[o]===i;)++o;var h=o<this.length?this.levels[o]:this.textOrder,u=Math.max(h,i)&1?this.R:this.L;this.checkNSM(t,o,i,r,u),this.updateLevels(t,i,o),e=i,t=o}this.checkEmbeddedCharacters(this.length)},n.prototype.getEmbeddedCharactersLength=function(){for(var e=0,t=0;t<this.length;++t)this.types[t]===this.LRE||this.types[t]===this.RLE||this.types[t]===this.LRO||this.types[t]===this.RLO||this.types[t]===this.PDF||this.types[t]===this.BN||(this.result[e]=this.result[t],this.levels[e]=this.levels[t],e++);return e},n.prototype.checkEmbeddedCharacters=function(e){for(var t=this.types.length-1;t>=0;--t)this.types[t]===this.LRE||this.types[t]===this.RLE||this.types[t]===this.LRO||this.types[t]===this.RLO||this.types[t]===this.PDF||this.types[t]===this.BN?(this.result[t]=this.types[t],this.levels[t]=-1):(e-=1,this.result[t]=this.result[e],this.levels[t]=this.levels[e]);for(var t=0;t<this.types.length;t++)this.levels[t]===-1&&(t===0?this.levels[t]=this.textOrder:this.levels[t]=this.levels[t-1])},n.prototype.checkNSM=function(e,t,i,r,o){for(var h=r,u=e;u<t;++u)this.result[u]===this.NSM?this.result[u]=h:h=this.result[u];this.checkEuropeanDigits(e,t,i,r,o)},n.prototype.checkEuropeanDigits=function(e,t,i,r,o){for(var h=e;h<t;++h)if(this.result[h]===this.EN){for(var u=h-1;u>=e;--u)if(this.result[u]===this.L||this.result[u]===this.R||this.result[u]===this.AL){this.result[u]===this.AL&&(this.result[h]=this.AN);break}}this.checkArabicCharacters(e,t,i,r,o)},n.prototype.checkArabicCharacters=function(e,t,i,r,o){for(var h=e;h<t;++h)this.result[h]===this.AL&&(this.result[h]=this.R);this.checkEuropeanNumberSeparator(e,t,i,r,o)},n.prototype.checkEuropeanNumberSeparator=function(e,t,i,r,o){for(var h=e+1;h<t-1;++h)if(this.result[h]===this.ES||this.result[h]===this.CS){var u=this.result[h-1],g=this.result[h+1];u===this.EN&&g===this.EN?this.result[h]=this.EN:this.result[h]===this.CS&&u===this.AN&&g===this.AN&&(this.result[h]=this.AN)}this.checkEuropeanNumberTerminator(e,t,i,r,o)},n.prototype.checkEuropeanNumberTerminator=function(e,t,i,r,o){for(var h=e;h<t;++h)if(this.result[h]===this.ET){var u=h,g=[];g.push(this.ET);var y=this.getLength(u,t,g),x=u===e?r:this.result[u-1];if(x!==this.EN&&(x=y===t?o:this.result[y]),x===this.EN)for(var S=u;S<y;++S)this.result[S]=this.EN;h=y}this.checkOtherNeutrals(e,t,i,r,o)},n.prototype.checkOtherNeutrals=function(e,t,i,r,o){for(var h=e;h<t;++h)(this.result[h]===this.ES||this.result[h]===this.ET||this.result[h]===this.CS)&&(this.result[h]=this.ON);this.checkOtherCharacters(e,t,i,r,o)},n.prototype.checkOtherCharacters=function(e,t,i,r,o){for(var h=e;h<t;++h)if(this.result[h]===this.EN){for(var u=r,g=h-1;g>=e;--g)if(this.result[g]===this.L||this.result[g]===this.R){u=this.result[g];break}u===this.L&&(this.result[h]=this.L)}this.checkCommanCharacters(e,t,i,r,o)},n.prototype.getLength=function(e,t,i){for(--e;++e<t;){for(var r=this.result[e],o=0;o<i.length;++o)r===i[o]&&(e=this.getLength(++e,t,i));return e}return t},n.prototype.checkCommanCharacters=function(e,t,i,r,o){for(var h=e;h<t;++h)if(this.result[h]===this.WS||this.result[h]===this.ON||this.result[h]===this.B||this.result[h]===this.S){var u=h,g=[this.B,this.S,this.WS,this.ON],y=this.getLength(u,t,g),x=0,S=0,T=0;u===e?x=r:(x=this.result[u-1],x===this.AN?x=this.R:x===this.EN&&(x=this.R)),y===t?S=o:(S=this.result[y],S===this.AN?S=this.R:S===this.EN&&(S=this.R)),x===S?T=x:T=i&1?this.R:this.L;for(var M=u;M<y;++M)this.result[M]=T;h=y}},n}(),ud=function(){function n(){this.openBracket="(",this.closeBracket=")"}return n.prototype.layout=function(e,t,i,r,o){if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");var h=[];return t.Unicode?h=this.customLayout(e,i,o,t,r):(h=[],h[0]=e),h},n.prototype.splitLayout=function(e,t,i,r,o){if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");var h=[];return h=this.customSplitLayout(e,t,i,r,o),h},n.prototype.getGlyphIndex=function(e,t,i,r,o){var h=!0,u=!1;if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");if(r=null,e.length===0)return{success:u,glyphs:r};var g=new Ya,y=g.shape(e,0),x=t.fontInternal,S=x.ttfReader;r=new Uint16Array(y.length);for(var T=0,M=0,R=y.length;M<R;M++){var I=y[M],j=S.getGlyph(I);j!==null&&typeof j<"u"&&(r[T++]=j.index)}return{success:h,glyphs:r}},n.prototype.customLayout=function(e,t,i,r,o){if(o===null||typeof o>"u"){if(e==null)throw new Error("ArgumentNullException : line");var h=null;if(i!==null&&typeof i<"u"&&i.textDirection!==fi.None){var u=new hd;h=u.getLogicalToVisualString(e,t)}return h}else{if(e==null)throw new Error("ArgumentNullException : line");if(r==null)throw new Error("ArgumentNullException : font");var g=null;if(i!==null&&typeof i<"u"&&i.textDirection!==fi.None){var y=new Ya,x=y.shape(e,0);g=this.customLayout(x,t,i)}var h=[];if(o){for(var S=g.split(""),T=S.length,M=0;M<T;M++)S[M]=this.addChars(r,S[M]);h=S}else h=[],h[0]=this.addChars(r,g);return h}},n.prototype.addChars=function(e,t){var i=t;if(e==null)throw new Error("ArgumentNullException : font");if(i==null)throw new Error("ArgumentNullException : line");var r=i,o=e.fontInternal,h=o.ttfReader;e.setSymbols(r),r=h.convertString(r);var u=Ht.toUnicodeArray(r,!1);return r=Ht.byteToString(u),r},n.prototype.customSplitLayout=function(e,t,i,r,o){if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");var h=this.customLayout(e,i,o),u=h.split("");return u},n}(),Ga;(function(n){n[n.Paginate=0]="Paginate",n[n.OnePage=1]="OnePage"})(Ga||(Ga={}));var Ua;(function(n){n[n.FitPage=0]="FitPage",n[n.FitElement=1]="FitElement",n[n.FitColumnsToPage=2]="FitColumnsToPage"})(Ua||(Ua={}));var Kt;(function(n){n[n.Start=0]="Start",n[n.Line=1]="Line",n[n.Bezier3=3]="Bezier3",n[n.Bezier=3]="Bezier",n[n.PathTypeMask=7]="PathTypeMask",n[n.DashMode=16]="DashMode",n[n.PathMarker=32]="PathMarker",n[n.CloseSubpath=128]="CloseSubpath"})(Kt||(Kt={}));var dd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wr=function(n){dd(e,n);function e(t){var i=n.call(this)||this;return i.mbackground=new rr(255,255,255),i.mbStroking=!1,i.mfunction=null,i.dictionaryProperties=new bt,i.mpatternDictionary=new it,i.mpatternDictionary.items.setValue(i.dictionaryProperties.type,new Oe(i.dictionaryProperties.pattern)),i.mpatternDictionary.items.setValue(i.dictionaryProperties.patternType,new Pe(2)),i.shading=t,i.colorSpace=ct.Rgb,i}return Object.defineProperty(e.prototype,"background",{get:function(){return this.mbackground},set:function(t){this.mbackground=t;var i=this.shading;t.isEmpty?i.remove(this.dictionaryProperties.background):i.items.setValue(this.dictionaryProperties.background,t.toArray(this.colorSpace))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"antiAlias",{get:function(){var t=this.shading,i=t.items.getValue(this.dictionaryProperties.antiAlias);return i.value},set:function(t){var i=this.shading,r=i.items.getValue(this.dictionaryProperties.antiAlias);r==null&&typeof r>"u"?(r=new Ei(t),i.items.setValue(this.dictionaryProperties.antiAlias,r)):r.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"function",{get:function(){return this.mfunction},set:function(t){this.mfunction=t,t!=null&&typeof t<"u"?this.shading.items.setValue(this.dictionaryProperties.function,new rt(this.mfunction)):this.shading.remove(this.dictionaryProperties.function)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bBox",{get:function(){var t=this.shading,i=t.items.getValue(this.dictionaryProperties.bBox);return i},set:function(t){var i=this.shading;t==null&&typeof t>"u"?i.remove(this.dictionaryProperties.bBox):i.items.setValue(this.dictionaryProperties.bBox,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.mcolorSpace},set:function(t){var i=this.shading.items.getValue(this.dictionaryProperties.colorSpace);if(t!==this.mcolorSpace||i==null){this.mcolorSpace=t;var r=this.colorSpaceToDeviceName(t);this.shading.items.setValue(this.dictionaryProperties.colorSpace,new Oe(r))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroking",{get:function(){return this.mbStroking},set:function(t){this.mbStroking=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patternDictionary",{get:function(){return this.mpatternDictionary==null&&(this.mpatternDictionary=new it),this.mpatternDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shading",{get:function(){return this.mshading},set:function(t){if(t==null)throw new Error("ArgumentNullException : Shading");t!==this.mshading&&(this.mshading=t,this.patternDictionary.items.setValue(this.dictionaryProperties.shading,new rt(this.mshading)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.mmatrix},set:function(t){if(t==null)throw new Error("ArgumentNullException : Matrix");if(t!==this.mmatrix){this.mmatrix=t.clone();var i=new gt(this.mmatrix.matrix.elements);this.mpatternDictionary.items.setValue(this.dictionaryProperties.matrix,i)}},enumerable:!0,configurable:!0}),e.prototype.monitorChanges=function(t,i,r,o,h){var u=!1;if(t instanceof e){this.colorSpace!==h&&(this.colorSpace=h,this.resetFunction()),i.setColorSpace("Pattern",this.mbStroking);var g=r.getResources(),y=g.getName(this);i.setColourWithPattern(null,y,this.mbStroking),u=!0}return u},e.prototype.resetChanges=function(t){},e.prototype.colorSpaceToDeviceName=function(t){var i;switch(t){case ct.Rgb:i="DeviceRGB";break}return i},e.prototype.resetPatternDictionary=function(t){this.mpatternDictionary=t},e.prototype.cloneAntiAliasingValue=function(t){if(t==null)throw new Error("ArgumentNullException : brush");var i=this.shading,r=i.items.getValue(this.dictionaryProperties.antiAlias);r!=null&&t.shading.items.setValue(this.dictionaryProperties.antiAlias,new Ei(r.value))},e.prototype.cloneBackgroundValue=function(t){var i=this.background;i.isEmpty||(t.background=i)},Object.defineProperty(e.prototype,"element",{get:function(){return this.patternDictionary},enumerable:!0,configurable:!0}),e}(sr),Cn=function(){function n(e,t){if(this.dictionaryProperties=new bt,this.writeTransformation=!0,!(typeof e>"u"))if(e instanceof ke&&typeof t>"u"){this.content=new qt;var i=new ke(e.width,e.height);this.setSize(i),this.initialize()}else this.content=new qt,this.setSize(new ke(e,t)),this.initialize()}return Object.defineProperty(n.prototype,"size",{get:function(){return this.templateSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"graphics",{get:function(){if(this.pdfGraphics==null||typeof this.pdfGraphics>"u"){var e=new Gn(this),t=new Yn(this.size,e,this.content);this.pdfGraphics=t,this.pdfGraphics.initializeCoordinates()}return this.pdfGraphics},enumerable:!0,configurable:!0}),n.prototype.getResources=function(){return this.resources==null&&(this.resources=new Gr,this.content.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},n.prototype.initialize=function(){this.addType(),this.addSubType()},n.prototype.addType=function(){var e=new Oe(this.dictionaryProperties.xObject);this.content.items.setValue(this.dictionaryProperties.type,e)},n.prototype.addSubType=function(){var e=new Oe(this.dictionaryProperties.form);this.content.items.setValue(this.dictionaryProperties.subtype,e)},n.prototype.reset=function(e){typeof e>"u"?(this.resources!=null&&(this.resources=null,this.content.remove(this.dictionaryProperties.resources)),this.graphics!=null&&this.graphics.reset(this.size)):(this.setSize(e),this.reset())},n.prototype.setSize=function(e){var t=new tt(new je(0,0),e),i=gt.fromRectangle(t);this.content.items.setValue(this.dictionaryProperties.bBox,i),this.templateSize=e},Object.defineProperty(n.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),n}(),fd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Gr=function(n){fd(e,n);function e(t){var i=n.call(this,t)||this;return i.properties=new it,i}return Object.defineProperty(e.prototype,"names",{get:function(){return this.getNames()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.pdfDocument},set:function(t){this.pdfDocument=t},enumerable:!0,configurable:!0}),e.prototype.getName=function(t){var i=t.element,r=null;if(this.names.containsKey(i)&&(r=this.names.getValue(i)),r==null){var o=this.generateName();r=new Oe(o),this.names.setValue(i,r),t instanceof Vi?this.add(t,r):t instanceof Cn?this.add(t,r):t instanceof wr||t instanceof Ji?this.add(t,r):t instanceof Sn?this.add(t,r):(t instanceof fl||t instanceof pl)&&this.add(t,r)}return r},e.prototype.getNames=function(){this.pdfNames==null&&(this.pdfNames=new ul);var t=this.items.getValue(this.dictionaryProperties.font);return t!=null&&cl.dereference(t),this.pdfNames},e.prototype.requireProcedureSet=function(t){if(t==null)throw new Error("ArgumentNullException:procedureSetName");var i=this.items.getValue(this.dictionaryProperties.procset);i==null&&(i=new gt,this.items.setValue(this.dictionaryProperties.procset,i));var r=new Oe(t);i.contains(r)||i.add(r)},e.prototype.removeFont=function(t){for(var i=null,r=this.pdfNames.keys(),o=0;o<this.pdfNames.size();o++)if(this.pdfNames.getValue(r[o])===new Oe(t)){i=r[o];break}i!=null&&this.pdfNames.remove(i)},e.prototype.generateName=function(){var t=pd.getNewGuidString();return t},e.prototype.add=function(t,i){if(t instanceof Vi){var r=null,o=this.items.getValue(this.dictionaryProperties.font);if(o!=null){var h=o;r=o,r=o}else r=new it,this.items.setValue(this.dictionaryProperties.font,r);r.items.setValue(i.value,new rt(t.element))}else if(t instanceof Cn){var u=void 0;u=this.items.getValue(this.dictionaryProperties.xObject),u==null&&(u=new it,this.items.setValue(this.dictionaryProperties.xObject,u)),u.items.setValue(i.value,new rt(t.element))}else if(t instanceof sr){if(t instanceof wr||t instanceof Ji){var g=t.element;if(g!=null){var y=this.items.getValue(this.dictionaryProperties.pattern);y==null&&(y=new it,this.items.setValue(this.dictionaryProperties.pattern,y)),y.items.setValue(i.value,new rt(g))}}}else if(t instanceof Sn){var g=t.element,x=null;x=this.items.getValue(this.dictionaryProperties.extGState),x==null&&(x=new it,this.items.setValue(this.dictionaryProperties.extGState,x)),x.items.setValue(i.value,new rt(g))}else{var u=this.Dictionary.items.getValue(this.dictionaryProperties.xObject),S=void 0;typeof this.pdfDocument<"u"&&(S=this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject)),this.Dictionary.items.values();var T=!1,M=void 0;if(typeof this.pdfDocument<"u"&&(typeof S===void 0||S==null))S=new it,this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject,S);else if(typeof this.pdfDocument<"u")for(var R=S.items.values(),I=0;I<R.length;I++)typeof R[I]<"u"&&typeof R[I].element<"u"&&R[I].element.data[0]===t.element.data[0]&&(M=R[I],T=!0);if(u==null&&(u=new it,this.Dictionary.items.setValue(this.dictionaryProperties.xObject,u)),T&&typeof M<"u")u.items.setValue(i.value,M);else{var h=new rt(t.element);u.items.setValue(i.value,h),typeof this.pdfDocument<"u"&&S.items.setValue(i.value,h)}}},e}(it),pd=function(){function n(){}return n.getNewGuidString=function(){return"aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa".replace(/[ab]/g,function(e){var t=Math.random()*16|0,i=e==="a"?t:t&3|8;return i.toString(16)})},n}(),gd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ji=function(n){gd(e,n);function e(t,i){var r=n.call(this)||this;r.mStroking=!1,r.mLocation=new je(0,0),r.mDictionaryProperties=new bt;var o=null;return t instanceof vn?o=t:t instanceof ke&&(o=new vn(0,0,t.width,t.height)),i!==null&&i instanceof Hi&&(r.mPage=i),r.brushStream=new qt,r.mResources=new Gr,r.brushStream.items.setValue(r.mDictionaryProperties.resources,r.mResources),r.setBox(o),r.setObligatoryFields(),i!==null&&i instanceof Hi&&(r.mPage=i,r.graphics.colorSpace=i.document.colorSpace),r}return e.prototype.initialize=function(t,i,r,o){this.mPage=i,this.mLocation=r,this.mTransformationMatrix=o,this.tempBrushStream=this.brushStream,this.brushStream=new qt;var h=new Gr;return this.brushStream.items.setValue(this.mDictionaryProperties.resources,h),this.setBox(t),this.setObligatoryFields(),this},Object.defineProperty(e.prototype,"location",{get:function(){return this.mLocation},set:function(t){this.mLocation=t},enumerable:!0,configurable:!0}),e.prototype.setObligatoryFields=function(){if(this.brushStream.items.setValue(this.mDictionaryProperties.patternType,new Pe(1)),this.brushStream.items.setValue(this.mDictionaryProperties.paintType,new Pe(1)),this.brushStream.items.setValue(this.mDictionaryProperties.tilingType,new Pe(1)),this.brushStream.items.setValue(this.mDictionaryProperties.xStep,new Pe(this.mBox.right-this.mBox.left)),this.brushStream.items.setValue(this.mDictionaryProperties.yStep,new Pe(this.mBox.bottom-this.mBox.top)),this.mPage!=null&&this.mLocation!=null)if(this.mTransformationMatrix==null&&typeof this.mTransformationMatrix>"u"){var t=this.mPage.size.height%this.rectangle.size.height-this.mLocation.y;this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new gt([1,0,0,1,this.mLocation.x,t]))}else{var t=0,i=this.mTransformationMatrix.matrix.elements;this.mPage.size.height>this.rectangle.size.height?t=this.mTransformationMatrix.matrix.offsetY-this.mPage.size.height%this.rectangle.size.height:t=this.mPage.size.height%this.rectangle.size.height+this.mTransformationMatrix.matrix.offsetY,this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new gt([i[0],i[1],i[2],i[3],i[4],t]))}},e.prototype.setBox=function(t){this.mBox=t;var i=new tt(this.mBox.left,this.mBox.top,this.mBox.right,this.mBox.bottom);this.brushStream.items.setValue(this.mDictionaryProperties.bBox,gt.fromRectangle(i))},Object.defineProperty(e.prototype,"rectangle",{get:function(){return this.mBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.mBox.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){if(this.mGraphics==null&&typeof this.mGraphics>"u"){var t=new Gn(this),i=new Yn(this.size,t,this.brushStream);this.mGraphics=i,this.mResources=this.getResources(),this.mGraphics.initializeCoordinates()}return this.mGraphics},enumerable:!0,configurable:!0}),e.prototype.getResources=function(){return this.mResources},Object.defineProperty(e.prototype,"stroking",{get:function(){return this.mStroking},set:function(t){this.mStroking=t},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=this.initialize(this.rectangle,this.mPage,this.location,this.mTransformationMatrix);return this.mTransformationMatrix!=null&&this.mTransformationMatrix.matrix!=null&&t.brushStream.items.setValue(this.mDictionaryProperties.matrix,new gt(this.mTransformationMatrix.matrix.elements)),t.brushStream.data=this.tempBrushStream.data,t.mResources=new Gr(this.mResources),t.brushStream.items.setValue(this.mDictionaryProperties.resources,t.mResources),t},e.prototype.monitorChanges=function(t,i,r,o,h){var u=!1;if(t!==this){i.setColorSpace("Pattern",this.mStroking);var g=r.getResources(),y=g.getName(this);i.setColourWithPattern(null,y,this.mStroking),u=!0}else if(t instanceof e){i.setColorSpace("Pattern",this.mStroking);var x=r.getResources(),S=x.getName(this);i.setColourWithPattern(null,S,this.mStroking),u=!0}return u},e.prototype.resetChanges=function(t){},Object.defineProperty(e.prototype,"element",{get:function(){return this.brushStream},enumerable:!0,configurable:!0}),e}(sr),Yn=function(){function n(e,t,i){this.currentColorSpace=ct.Rgb,this.previousTextRenderingMode=Pi.Fill,this.previousCharacterSpacing=0,this.previousWordSpacing=0,this.previousTextScaling=100,this.procedureSets=new _u,this.isNormalRender=!0,this.isUseFontSize=!1,this.isItalic=!1,this.isEmfTextScaled=!1,this.isEmf=!1,this.isEmfPlus=!1,this.isBaselineFormat=!0,this.emfScalingFactor=new ke(0,0),this.colorSpaceChanged=!1,this.dictionaryProperties=new bt,this.isOverloadWithPosition=!1,this.isPointOverload=!1,this.currentColorSpaces=["RGB","CMYK","GrayScale","Indexed"],this.isImageOptimized=!1,this.graphicsState=[],this.istransparencySet=!1,this.internalAutomaticFields=null,this.startCutIndex=-1,this.getResources=t,this.canvasSize=e,i instanceof Ha?this.pdfStreamWriter=i:this.pdfStreamWriter=new Ha(i),this.initialize()}return Object.defineProperty(n.prototype,"stringLayoutResult",{get:function(){return this.pdfStringLayoutResult},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.canvasSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaBoxUpperRightBound",{get:function(){return typeof this.internalMediaBoxUpperRightBound>"u"&&(this.internalMediaBoxUpperRightBound=0),this.internalMediaBoxUpperRightBound},set:function(e){this.internalMediaBoxUpperRightBound=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clientSize",{get:function(){return new ke(this.clipBounds.width,this.clipBounds.height)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorSpace",{get:function(){return this.currentColorSpace},set:function(e){this.currentColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"streamWriter",{get:function(){return this.pdfStreamWriter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this.transformationMatrix==null&&(this.transformationMatrix=new bi),this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layer",{get:function(){return this.pageLayer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){return this.pageLayer.page},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"automaticFields",{get:function(){return(this.internalAutomaticFields==null||typeof this.internalAutomaticFields>"u")&&(this.internalAutomaticFields=new Vu),this.internalAutomaticFields},enumerable:!0,configurable:!0}),n.prototype.initialize=function(){this.bStateSaved=!1,this.currentPen=null,this.currentBrush=null,this.currentFont=null,this.currentColorSpace=ct.Rgb,this.bCSInitialized=!1,this.transformationMatrix=null,this.previousTextRenderingMode=-1,this.previousCharacterSpacing=-1,this.previousWordSpacing=-1,this.previousTextScaling=-100,this.currentStringFormat=null,this.clipBounds=new tt(new je(0,0),this.size),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)},n.prototype.drawPdfTemplate=function(e,t,i){if(typeof i>"u"){if(e==null)throw Error("ArgumentNullException-template");this.drawPdfTemplate(e,t,e.size)}else{if(e==null)throw Error("ArgumentNullException-template");var r=e.width>0?i.width/e.width:1,o=e.height>0?i.height/e.height:1,h=!(r===1&&o===1),u=this.save(),g=new bi;this.pageLayer!=null&&this.getTranslateTransform(t.x,t.y+i.height,g),h&&this.getScaleTransform(r,o,g),this.pdfStreamWriter.modifyCtm(g);var y=this.getResources.getResources(),x=y.getName(e);this.pdfStreamWriter.executeObject(x),this.restore(u);var S=e.graphics;if(S!=null)for(var T=0;T<S.automaticFields.automaticFields.length;T++){var M=S.automaticFields.automaticFields[T],R=new je(M.location.x+t.x,M.location.y+t.y),I=e.size.width==0?0:i.width/e.size.width,j=e.size.height==0?0:i.height/e.size.height;this.automaticFields.add(new dl(M.field,R,I,j)),this.page.dictionary.modify()}this.getResources.getResources().requireProcedureSet(this.procedureSets.imageB),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageC),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageI),this.getResources.getResources().requireProcedureSet(this.procedureSets.text)}},n.prototype.drawString=function(e,t,i,r,o,h,u,g,y){if(typeof e=="string"&&t instanceof Vi&&(i instanceof gs||i===null)&&(r instanceof sr||r===null)&&typeof o=="number"&&typeof h=="number"&&(u instanceof bs||u===null)&&typeof g>"u")this.isOverloadWithPosition=!0,this.drawString(e,t,i,r,o,h,this.clientSize.width-o,0,u);else{var x=i,S=r,T=o,M=h,R=u,I=g,j=y,W=new Xn,N=W.layout(e,t,j,new ke(R,I),this.isOverloadWithPosition,this.clientSize);if(!N.empty){var G=this.checkCorrectLayoutRectangle(N.actualSize,T,M,j);R<=0&&(T=G.x,R=G.width),I<=0&&(M=G.y,I=G.height),this.drawStringLayoutResult(N,t,x,S,new tt(T,M,R,I),j),this.isEmfTextScaled=!1,this.emfScalingFactor=new ke(0,0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),this.isNormalRender=!0,this.pdfStringLayoutResult=N,this.isUseFontSize=!1}},n.prototype.drawLine=function(e,t,i,r,o){if(t instanceof je){var h=t,u=i;this.drawLine(e,h.x,h.y,u.x,u.y)}else{var h=t,u=i,g=r,y=o;this.stateControl(e,null,null);var x=this.streamWriter;x.beginPath(h,u),x.appendLineSegment(g,y),x.strokePath(),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)}},n.prototype.drawRectangle=function(e,t,i,r,o,h){if(e instanceof gs&&typeof t=="number"){var u=i;this.drawRectangle(e,null,t,u,r,o)}else if(e instanceof sr&&typeof t=="number"){var u=i;this.drawRectangle(null,e,t,u,r,o)}else{var u=i,g=r,y=o,x=h;if(t instanceof Ji){this.bCSInitialized=!1;var S=this.matrix.matrix.offsetX+u,T=void 0;this.layer!=null&&this.layer.page!=null?T=this.layer.page.size.height-this.matrix.matrix.offsetY+g:T=this.clientSize.height-this.matrix.matrix.offsetY+g,t.location=new je(S,T),t.graphics.colorSpace=this.colorSpace}else t instanceof wr&&(t.colorSpace=this.colorSpace);t instanceof Mr&&t.color.isEmpty&&(t=null);var M=e,R=t;this.stateControl(M,R,null),this.streamWriter.appendRectangle(u,g,y,x),this.drawPathHelper(M,R,!1)}},n.prototype.drawRoundedRectangle=function(e,t,i,r,o,h,u){if(e===null)throw new Error("pen");if(t===null)throw new Error("brush");if(u===0)this.drawRectangle(e,t,i,r,o,h);else{var g=[i,r,o,h],y=u*2,x=[y,y],S=[g[0],g[1],x[0],x[1]];this._pathPoints=[],this._pathTypes=[];var T=!0;T=this._addArc(S[0],S[1],S[2],S[3],180,90,T),S[0]=g[0]+g[2]-y,T=this._addArc(S[0],S[1],S[2],S[3],270,90,T),S[1]=g[1]+g[3]-y,T=this._addArc(S[0],S[1],S[2],S[3],0,90,T),S[0]=g[0],T=this._addArc(S[0],S[1],S[2],S[3],90,90,T);var M=this._pathPoints.length-1,R=this._pathTypes[M];R=R|Kt.CloseSubpath,this._pathTypes[M]=R,this._drawPath(e,t,this._pathPoints,this._pathTypes,Ui.Alternate),this._pathPoints=[],this._pathTypes=[]}},n.prototype._addArc=function(e,t,i,r,o,h,u){for(var g=this._getBezierArcPoints(e,t,e+i,t+r,o,h),y=0;y<g.length;y=y+8){var x=[g[y],g[y+1],g[y+2],g[y+3],g[y+4],g[y+5],g[y+6],g[y+7]];u=this._addArcPoints(x,Kt.Bezier3,u)}return u},n.prototype._addArcPoints=function(e,t,i){for(var r=0;r<e.length;r++){var o=new je(e[r],e[r+1]);r===0?this._pathPoints.length===0||i?(this._addPoint(o,Kt.Start),i=!1):(o.x!==this._getLastPoint().x||o.y!==this._getLastPoint().y)&&this._addPoint(o,Kt.Line):this._addPoint(o,t),r++}return i},n.prototype._getLastPoint=function(){var e=new je(0,0),t=this._pathPoints.length;return t>0&&(e.x=this._pathPoints[t-1].x,e.y=this._pathPoints[t-1].y),e},n.prototype._addPoint=function(e,t){this._pathPoints.push(e),this._pathTypes.push(t)},n.prototype._getBezierArcPoints=function(e,t,i,r,o,h){if(e>i){var u=void 0;u=e,e=i,i=u}if(r>t){var u=void 0;u=t,t=r,r=u}var g,y;Math.abs(h)<=90?(g=h,y=1):(y=Math.ceil(Math.abs(h)/90),g=h/y);for(var x=(e+i)/2,S=(t+r)/2,T=(i-e)/2,M=(r-t)/2,R=g*(Math.PI/360),I=Math.abs(4/3*(1-Math.cos(R))/Math.sin(R)),j=[],W=0;W<y;W++){var N=(o+W*g)*(Math.PI/180),G=(o+(W+1)*g)*(Math.PI/180),K=Math.cos(N),_=Math.cos(G),Q=Math.sin(N),ie=Math.sin(G);g>0?j.push(x+T*K,S-M*Q,x+T*(K-I*Q),S-M*(Q+I*K),x+T*(_+I*ie),S-M*(ie-I*_),x+T*_,S-M*ie):j.push(x+T*K,S-M*Q,x+T*(K+I*Q),S-M*(Q-I*K),x+T*(_-I*ie),S-M*(ie+I*_),x+T*_,S-M*ie)}return j},n.prototype.drawPathHelper=function(e,t,i,r){if(typeof i=="boolean"){var o=i;this.drawPathHelper(e,t,Ui.Winding,o)}else{var o=i,h=e!=null,u=t!=null,g=o===Ui.Alternate;h&&u?this.streamWriter.fillStrokePath(g):!h&&!u?this.streamWriter.endPath():h?this.streamWriter.strokePath():this.streamWriter.fillPath(g)}},n.prototype.drawImage=function(e,t,i,r,o){if(typeof t=="number"&&typeof i=="number"&&typeof r>"u"){var h=e.physicalDimension;this.drawImage(e,t,i,h.width,h.height)}else{var u=t,g=i,y=o;e.save();var x=new bi;this.getTranslateTransform(u,g+y,x),this.getScaleTransform(r,o,x),this.pdfStreamWriter.write("q"),this.pdfStreamWriter.modifyCtm(x);var S=this.getResources.getResources();typeof this.pageLayer<"u"&&this.page!=null&&(S.document=this.page.document);var T=S.getName(e);typeof this.pageLayer<"u"&&this.page.setResources(S),this.pdfStreamWriter.executeObject(T),this.pdfStreamWriter.write(he.restoreState),this.pdfStreamWriter.write(he.newLine);var M=this.getResources.getResources();M.requireProcedureSet(this.procedureSets.imageB),M.requireProcedureSet(this.procedureSets.imageC),M.requireProcedureSet(this.procedureSets.imageI),M.requireProcedureSet(this.procedureSets.text)}},n.prototype.getLineBounds=function(e,t,i,r,o){var h;if(!t.empty&&e<t.lineCount&&e>=0){var u=t.lines[e],g=this.getTextVerticalAlignShift(t.actualSize.height,r.height,o),y=g+r.y+t.lineHeight*e,x=u.width,S=this.getHorizontalAlignShift(x,r.width,o),T=this.getLineIndent(u,o,r,e===0);S+=this.rightToLeft(o)?0:T;var M=r.x+S,R=this.shouldJustify(u,r.width,o)?r.width-T:x-T,I=t.lineHeight;h=new tt(M,y,R,I)}else h=new tt(0,0,0,0);return h},n.prototype.checkCorrectLayoutRectangle=function(e,t,i,r){var o=new tt(t,i,e.width,e.width);if(r!=null){switch(r.alignment){case oi.Center:o.x-=o.width/2;break;case oi.Right:o.x-=o.width;break}switch(r.lineAlignment){case Ni.Middle:o.y-=o.height/2;break;case Ni.Bottom:o.y-=o.height;break}}return o},n.prototype.setLayer=function(e){this.pageLayer=e;var t=e.page;t!=null&&typeof t<"u"&&(t.beginSave=this.pageSave)},n.prototype.pageSave=function(e){if(e.graphics.automaticFields!=null)for(var t=0;t<e.graphics.automaticFields.automaticFields.length;t++){var i=e.graphics.automaticFields.automaticFields[t];i.field.performDraw(e.graphics,i.location,i.scalingX,i.scalingY)}},n.prototype.drawStringLayoutResult=function(e,t,i,r,o,h){if(e.empty)throw new Error("ArgumentNullException:result");this.applyStringSettings(t,i,r,h,o);var u=h!=null?h.horizontalScalingFactor:100;u!==this.previousTextScaling&&!this.isEmfTextScaled&&(this.pdfStreamWriter.setTextScaling(u),this.previousTextScaling=u);var g=h==null||h.lineSpacing===0?t.height:h.lineSpacing+t.height,y=h!=null&&h.subSuperScript===_i.SubScript,x=0;x=y?g-(t.height+t.metrics.getDescent(h)):g-t.metrics.getAscent(h),this.shift=x,this.pdfStreamWriter.startNextLine(o.x,o.y-x),this.pdfStreamWriter.setLeading(+g);for(var S=0,T="",M=0;M<e.lines.length;M++)if(S+=e.lineHeight,o.y+S>this.clientSize.height){this.startCutIndex=M;break}for(var R=this.startCutIndex;R<e.lines.length&&R>=0;R++)T+=e.lines[R].text;var I=new tt(o.x,o.y,o.width,o.height);if(this.drawLayoutResult(e,t,h,o),this.underlineStrikeoutText(i,r,e,t,I,h),this.isEmfPlus=!1,this.isUseFontSize=!1,this.startCutIndex!==-1){var j=this.getNextPage();j.graphics.drawString(T,t,i,r,o.x,0,o.width,0,h)}},n.prototype.getNextPage=function(){var e=this.currentPage.section,t=null,i=e.indexOf(this.currentPage);return i===e.count-1?t=e.add():t=e.getPages()[i+1],t},n.prototype.setClip=function(e,t){typeof t>"u"?this.setClip(e,Ui.Winding):(this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.clipPath(t===Ui.Alternate))},n.prototype.applyStringSettings=function(e,t,i,r,o){i instanceof Ji?(this.bCSInitialized=!1,i.graphics.colorSpace=this.colorSpace):i instanceof wr&&(this.bCSInitialized=!1,i.colorSpace=this.colorSpace);var h=this.getTextRenderingMode(t,i,r);this.stateControl(t,i,e,r),this.pdfStreamWriter.beginText(),h!==this.previousTextRenderingMode&&(this.pdfStreamWriter.setTextRenderingMode(h),this.previousTextRenderingMode=h);var u=r!=null?r.characterSpacing:0;u!==this.previousCharacterSpacing&&!this.isEmfTextScaled&&(this.pdfStreamWriter.setCharacterSpacing(u),this.previousCharacterSpacing=u);var g=r!=null?r.wordSpacing:0;g!==this.previousWordSpacing&&(this.pdfStreamWriter.setWordSpacing(g),this.previousWordSpacing=g)},n.prototype.getTextVerticalAlignShift=function(e,t,i){var r=0;if(t>=0&&i!=null&&i.lineAlignment!==Ni.Top)switch(i.lineAlignment){case Ni.Middle:r=(t-e)/2;break;case Ni.Bottom:r=t-e;break}return r},n.prototype.drawLayoutResult=function(e,t,i,r){var o=this.getTextVerticalAlignShift(e.actualSize.height,r.height,i);o!==0&&this.pdfStreamWriter.startNextLine(0,o);var h=t,u=h!=null&&h.isUnicode;h!=null&&h.isEmbedFont;for(var g=e.lines,y=0,x=g.length;y<x&&y!==this.startCutIndex;y++){var S=g[y];S.text;var T=S.width,M=this.getHorizontalAlignShift(T,r.width,i),R=this.getLineIndent(S,i,r,y===0);M+=this.rightToLeft(i)?0:R,M!==0&&!this.isEmfTextScaled&&this.pdfStreamWriter.startNextLine(M,0),u?this.drawUnicodeLine(S,r,t,i):this.drawAsciiLine(S,r,t,i),M!==0&&!this.isEmfTextScaled&&this.pdfStreamWriter.startNextLine(-M,0),this.isOverloadWithPosition&&g.length>1&&(this.pdfStreamWriter.startNextLine(-r.x,0),r.x=0,r.width=this.clientSize.width,this.isOverloadWithPosition=!1,this.isPointOverload=!0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),o!==0&&this.pdfStreamWriter.startNextLine(0,-(o-e.lineHeight)),this.pdfStreamWriter.endText()},n.prototype.drawAsciiLine=function(e,t,i,r){this.justifyLine(e,t.width,r);var o="";if(e.text.indexOf("(")!==-1||e.text.indexOf(")")!==-1)for(var h=0;h<e.text.length;h++)e.text[h]==="("?o+="\\(":e.text[h]===")"?o+="\\)":o+=e.text[h];o===""&&(o=e.text);var u="("+o+")";this.pdfStreamWriter.showNextLineText(new Ht(u))},n.prototype.drawUnicodeLine=function(e,t,i,r){var o=e.text;e.width;var h=r!==null&&typeof r<"u"&&r.rightToLeft,u=r!==null&&typeof r<"u"&&(r.wordSpacing!==0||r.alignment===oi.Justify),g=i,y=this.justifyLine(e,t.width,r),x=new ud;if(h||r!==null&&typeof r<"u"&&r.textDirection!==fi.None){var S=null,T=r!==null&&typeof r<"u"&&r.alignment===oi.Right;r!==null&&typeof r<"u"&&r.textDirection!==fi.None?S=x.layout(o,g,r.textDirection===fi.RightToLeft,u,r):S=x.layout(o,g,T,u,r);var M=null;S.length>1?r!==null&&typeof r<"u"&&r.textDirection!==fi.None?M=x.splitLayout(o,g,r.textDirection===fi.RightToLeft,u,r):M=x.splitLayout(o,g,T,u,r):M=[o],this.drawUnicodeBlocks(S,M,g,r,y)}else if(u){var R=this.breakUnicodeLine(o,g,null),S=R.tokens,M=R.words;this.drawUnicodeBlocks(S,M,g,r,y)}else{var I=this.convertToUnicode(o,g),j=this.getUnicodeString(I);this.streamWriter.showNextLineText(j)}},n.prototype.drawUnicodeBlocks=function(e,t,i,r,o){if(e==null)throw new Error("Argument Null Exception : blocks");if(t==null)throw new Error("Argument Null Exception : words");if(i==null)throw new Error("Argument Null Exception : font");this.streamWriter.startNextLine();var h=0,u=0,g=0,y=0;try{r!==null&&typeof r<"u"&&(g=r.firstLineIndent,y=r.paragraphIndent,r.firstLineIndent=0,r.paragraphIndent=0);var x=i.getCharWidth(Gt.whiteSpace,r)+o,S=r!=null?r.characterSpacing:0,T=r!==null&&typeof r<"u"&&o===0?r.wordSpacing:0;x+=S+T;for(var M=0;M<e.length;M++){var R=e[M],I=t[M],j=0;if(h!==0&&this.streamWriter.startNextLine(h,0),I.length>0){j+=i.measureString(I,r).width,j+=S;var W=this.getUnicodeString(R);this.streamWriter.showText(W)}M!==e.length-1&&(h=j+x,u+=h)}u>0&&this.streamWriter.startNextLine(-u,0)}finally{r!==null&&typeof r<"u"&&(r.firstLineIndent=g,r.paragraphIndent=y)}},n.prototype.breakUnicodeLine=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : line");i=e.split(null);for(var r=[],o=0;o<i.length;o++){var h=i[o],u=this.convertToUnicode(h,t);r[o]=u}return{tokens:r,words:i}},n.prototype.getUnicodeString=function(e){if(e===null)throw new Error("Argument Null Exception : token");var t=new Ht(e);return t.converted=!0,t.encode=Kr.ForceEncoding.Ascii,t},n.prototype.convertToUnicode=function(e,t){var i=null;if(e==null)throw new Error("Argument Null Exception : text");if(t==null)throw new Error("Argument Null Exception : ttfFont");if(t.fontInternal instanceof ld){var r=t.fontInternal.ttfReader;t.setSymbols(e),i=r.convertString(e);var o=Ht.toUnicodeArray(i,!1);i=Ht.byteToString(o)}return i},n.prototype.justifyLine=function(e,t,i){var r=e.text,o=e.width,h=this.shouldJustify(e,t,i),u=i!=null&&i.wordSpacing!==0,g=Gt.spaces,y=Gt.getCharsCount(r,g),x=0;if(h){u&&(o-=y*i.wordSpacing);var S=t-o;x=S/y,this.pdfStreamWriter.setWordSpacing(x)}else u?this.pdfStreamWriter.setWordSpacing(i.wordSpacing):this.pdfStreamWriter.setWordSpacing(0);return x},n.prototype.reset=function(e){this.canvasSize=e,this.streamWriter.clear(),this.initialize(),this.initializeCoordinates()},n.prototype.shouldJustify=function(e,t,i){var r=e.text,o=e.width,h=i!=null&&i.alignment===oi.Justify,u=t>=0&&o<t,g=Gt.spaces,y=Gt.getCharsCount(r,g),x=y>0&&r[0]!==Gt.whiteSpace,S=(e.lineType&si.LayoutBreak)>0,T=h&&u&&x&&(S||i.alignment===oi.Justify);return T},n.prototype.underlineStrikeoutText=function(e,t,i,r,o,h){if(r.underline||r.strikeout){var u=this.createUnderlineStikeoutPen(e,t,r,h);if(u!=null){var g=this.getTextVerticalAlignShift(i.actualSize.height,o.height,h),y=0;y=o.y+g+r.metrics.getAscent(h)+1.5*u.width;for(var x=o.y+g+r.metrics.getHeight(h)/2+1.5*u.width,S=i.lines,T=0,M=i.lineCount;T<M;T++){var R=S[T];R.text;var I=R.width,j=this.getHorizontalAlignShift(I,o.width,h),W=this.getLineIndent(R,h,o,T===0);j+=this.rightToLeft(h)?0:W;var N=o.x+j,G=this.shouldJustify(R,o.width,h)?N+o.width-W:N+I-W;if(r.underline){var K=y;this.drawLine(u,N,K,G,K),y+=i.lineHeight}if(r.strikeout){var K=x;this.drawLine(u,N,K,G,K),x+=i.lineHeight}this.isPointOverload&&S.length>1&&(o.x=0,o.width=this.clientSize.width)}this.isPointOverload=!1}}},n.prototype.createUnderlineStikeoutPen=function(e,t,i,r){var o=i.metrics.getSize(r)/20,h=null;return e!=null?h=new gs(e.color,o):t!=null&&(h=new gs(t,o)),h},n.prototype.getTextRenderingMode=function(e,t,i){var r=Pi.None;return e!=null&&t!=null?r=Pi.FillStroke:e!=null?r=Pi.Stroke:r=Pi.Fill,i!=null&&i.clipPath&&(r|=Pi.ClipFlag),r},n.prototype.getLineIndent=function(e,t,i,r){var o=0,h=(e.lineType&si.FirstParagraphLine)>0;return t!=null&&h&&(o=r?t.firstLineIndent:t.paragraphIndent,o=i.width>0?Math.min(i.width,o):o),o},n.prototype.getHorizontalAlignShift=function(e,t,i){var r=0;if(t>=0&&i!=null&&i.alignment!==oi.Left)switch(i.alignment){case oi.Center:r=(t-e)/2;break;case oi.Right:r=t-e;break}return r},n.prototype.rightToLeft=function(e){var t=e!==null&&typeof e<"u"&&e.rightToLeft;return e!==null&&typeof e<"u"&&e.textDirection!==fi.None&&typeof e.textDirection<"u"&&(t=!0),t},n.prototype.stateControl=function(e,t,i,r){if(typeof r>"u")this.stateControl(e,t,i,null);else{t instanceof wr&&(this.bCSInitialized=!1,t.colorSpace=this.colorSpace),t instanceof Ji&&(this.bCSInitialized=!1,t.graphics.colorSpace=this.colorSpace);var o=!1;t!==null?(typeof this.pageLayer<"u"&&this.pageLayer!=null&&this.colorSpaceChanged===!1&&(this.lastDocumentCS=this.pageLayer.page.document.colorSpace,this.lastGraphicsCS=this.pageLayer.page.graphics.colorSpace,this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace,this.colorSpaceChanged=!0),this.initCurrentColorSpace(this.currentColorSpace)):e!=null&&(typeof this.pageLayer<"u"&&this.pageLayer!=null&&(this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace),this.initCurrentColorSpace(this.currentColorSpace)),this.penControl(e,o),this.brushControl(t,o),this.fontControl(i,r,o)}},n.prototype.initCurrentColorSpace=function(e){this.getResources.getResources(),this.bCSInitialized||(this.currentColorSpace!=ct.GrayScale?(this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!0),this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!1),this.bCSInitialized=!0):(this.pdfStreamWriter.setColorSpace("DeviceGray",!0),this.pdfStreamWriter.setColorSpace("DeviceGray",!1),this.bCSInitialized=!0))},n.prototype.penControl=function(e,t){e!=null&&(this.currentPen=e,e.monitorChanges(this.currentPen,this.pdfStreamWriter,this.getResources,t,this.colorSpace,this.matrix.clone()),this.currentPen=e.clone())},n.prototype.brushControl=function(e,t){if(e!=null&&typeof e<"u"){var i=e.clone(),r=i;if(r!==null&&typeof r<"u"&&!(e instanceof Mr)&&!(e instanceof Ji)){var o=r.matrix,h=this.matrix.clone();o!=null&&(o.multiply(h),h=o),r.matrix=h}this.currentBrush=r,i.monitorChanges(this.currentBrush,this.pdfStreamWriter,this.getResources,t,this.colorSpace),this.currentBrush=e,e=null}},n.prototype.fontControl=function(e,t,i){if(e!=null){var r=t!=null?t.subSuperScript:_i.None,o=this.currentStringFormat!=null?this.currentStringFormat.subSuperScript:_i.None;if(i||e!==this.currentFont||r!==o){var h=this.getResources.getResources();this.currentFont=e,this.currentStringFormat=t;var u=e.metrics.getSize(t);this.isEmfTextScaled=!1;var g=h.getName(e);this.pdfStreamWriter.setFont(e,g,u)}}},n.prototype.setTransparency=function(e,t,i){if(typeof t>"u")this.istransparencySet=!0,this.setTransparency(e,e,Ls.Normal);else if(typeof t=="number"&&typeof i>"u")this.setTransparency(e,t,Ls.Normal);else{this.trasparencies==null&&(this.trasparencies=new ul);var r=null,o=new vd(e,t,i);this.trasparencies.containsKey(o)&&(r=this.trasparencies.getValue(o)),r==null&&(r=new Sn(e,t,i),this.trasparencies.setValue(o,r));var h=this.getResources.getResources(),u=h.getName(r),g=this.streamWriter;g.setGraphicsState(u)}},n.prototype.clipTranslateMargins=function(e,t,i,r,o,h){if(e instanceof tt&&typeof t>"u")this.clipBounds=e,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e.x,e.y);else if(typeof e=="number"){var u=new tt(i,r,this.size.width-i-o,this.size.height-r-h);this.clipBounds=u,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(u),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e,t)}},n.prototype.updateY=function(e){return-e},n.prototype.translateTransform=function(e,t){var i=new bi;this.getTranslateTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},n.prototype.getTranslateTransform=function(e,t,i){return i.translate(e,this.updateY(t)),i},n.prototype.scaleTransform=function(e,t){var i=new bi;this.getScaleTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},n.prototype.getScaleTransform=function(e,t,i){return i==null&&(i=new bi),i.scale(e,t),i},n.prototype.rotateTransform=function(e){var t=new bi;this.getRotateTransform(e,t),this.pdfStreamWriter.modifyCtm(t),this.matrix.multiply(t)},n.prototype.initializeCoordinates=function(){this.pdfStreamWriter.writeComment("Change co-ordinate system to left/top."),this.mediaBoxUpperRightBound!==-this.size.height&&this.cropBox==null&&(this.mediaBoxUpperRightBound===this.size.height||this.mediaBoxUpperRightBound===0?this.translateTransform(0,this.updateY(this.size.height)):this.translateTransform(0,this.updateY(this.mediaBoxUpperRightBound)))},n.prototype.getRotateTransform=function(e,t){return(t==null||typeof t>"u")&&(t=new bi),t.rotate(this.updateY(e)),t},n.prototype.save=function(){var e=new md(this,this.matrix.clone());return e.brush=this.currentBrush,e.pen=this.currentPen,e.font=this.currentFont,e.colorSpace=this.currentColorSpace,e.characterSpacing=this.previousCharacterSpacing,e.wordSpacing=this.previousWordSpacing,e.textScaling=this.previousTextScaling,e.textRenderingMode=this.previousTextRenderingMode,this.graphicsState.push(e),this.pdfStreamWriter.saveGraphicsState(),e},n.prototype.restore=function(e){if(typeof e>"u")this.graphicsState.length>0&&this.doRestoreState();else if(this.graphicsState.indexOf(e)!==-1)for(;this.graphicsState.length!==0;){var t=this.doRestoreState();if(t===e)break}},n.prototype.doRestoreState=function(){var e=this.graphicsState.pop();return this.transformationMatrix=e.matrix,this.currentBrush=e.brush,this.currentPen=e.pen,this.currentFont=e.font,this.currentColorSpace=e.colorSpace,this.previousCharacterSpacing=e.characterSpacing,this.previousWordSpacing=e.wordSpacing,this.previousTextScaling=e.textScaling,this.previousTextRenderingMode=e.textRenderingMode,this.pdfStreamWriter.restoreGraphicsState(),e},n.prototype.drawPath=function(e,t,i){this._drawPath(e,t,i.pathPoints,i.pathTypes,i.fillMode)},n.prototype._drawPath=function(e,t,i,r,o){t instanceof Ji?(this.bCSInitialized=!1,t.graphics.colorSpace=this.colorSpace):t instanceof wr&&(this.bCSInitialized=!1,t.colorSpace=this.colorSpace),this.stateControl(e,t,null),this.buildUpPath(i,r),this.drawPathHelper(e,t,o,!1)},n.prototype.drawArc=function(e,t,i,r,o,h,u){t instanceof tt?this.drawArc(e,t.x,t.y,t.width,t.height,i,r):u!==0&&(this.stateControl(e,null,null),this.constructArcPath(t,i,t+r,i+o,h,u),this.drawPathHelper(e,null,!1))},n.prototype.buildUpPath=function(e,t){for(var i=e.length,r=0;r<i;++r){var o=0,h=e[r];switch(t[r]&n.pathTypesValuesMask){case Kt.Start:this.pdfStreamWriter.beginPath(h.x,h.y);break;case Kt.Bezier3:var u=new je(0,0),g=new je(0,0),y=this.getBezierPoints(e,t,r,u,g);this.pdfStreamWriter.appendBezierSegment(h,y.p2,y.p3),r=y.i;break;case Kt.Line:this.pdfStreamWriter.appendLineSegment(h);break;default:throw new Error("ArithmeticException - Incorrect path formation.")}o=t[r],this.checkFlags(o)}},n.prototype.getBezierPoints=function(e,t,i,r,o){if(++i,(t[i]&n.pathTypesValuesMask)===Kt.Bezier3)if(r=e[i],++i,(t[i]&n.pathTypesValuesMask)===Kt.Bezier3)o=e[i];else throw new Error("ArgumentException : errorMsg");else throw new Error("ArgumentException : errorMsg");return{i,p2:r,p3:o}},n.prototype.checkFlags=function(e){(e&Kt.CloseSubpath)===Kt.CloseSubpath&&this.pdfStreamWriter.closePath()},n.prototype.constructArcPath=function(e,t,i,r,o,h){var u=this.getBezierArc(e,t,i,r,o,h);if(u.length!==0){var g=[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7]];this.pdfStreamWriter.beginPath(g[0],g[1]);var y=0;for(y=0;y<u.length;y=y+8)g=[u[y],u[y+1],u[y+2],u[y+3],u[y+4],u[y+5],u[y+6],u[y+7]],this.pdfStreamWriter.appendBezierSegment(g[2],g[3],g[4],g[5],g[6],g[7])}},n.prototype.getBezierArc=function(e,t,i,r,o,h){if(e>i){var u=void 0;u=e,e=i,i=u}if(r>t){var u=void 0;u=t,t=r,r=u}var g,y;Math.abs(h)<=90?(g=h,y=1):(y=Math.ceil(Math.abs(h)/90),g=h/y);for(var x=(e+i)/2,S=(t+r)/2,T=(i-e)/2,M=(r-t)/2,R=g*(Math.PI/360),I=Math.abs(4/3*(1-Math.cos(R))/Math.sin(R)),j=[],W=0;W<y;W++){var N=(o+W*g)*(Math.PI/180),G=(o+(W+1)*g)*(Math.PI/180),K=Math.cos(N),_=Math.cos(G),Q=Math.sin(N),ie=Math.sin(G);g>0?j.push(x+T*K,S-M*Q,x+T*(K-I*Q),S-M*(Q+I*K),x+T*(_+I*ie),S-M*(ie-I*_),x+T*_,S-M*ie):j.push(x+T*K,S-M*Q,x+T*(K+I*Q),S-M*(Q-I*K),x+T*(_-I*ie),S-M*(ie+I*_),x+T*_,S-M*ie)}return j},n.pathTypesValuesMask=15,n.transparencyObject=!1,n}(),Gn=function(){function n(e){this.sender=e}return n.prototype.getResources=function(){return this.sender.getResources()},n}(),md=function(){function n(e,t){if(this.internalTextRenderingMode=Pi.Fill,this.internalCharacterSpacing=0,this.internalWordSpacing=0,this.internalTextScaling=100,this.pdfColorSpace=ct.Rgb,typeof e<"u"){this.pdfGraphics=e;var i=[];e.matrix.matrix.elements.forEach(function(r){i.push(r)}),this.transformationMatrix=new bi,this.transformationMatrix.matrix=new wn(i)}}return Object.defineProperty(n.prototype,"graphics",{get:function(){return this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"characterSpacing",{get:function(){return this.internalCharacterSpacing},set:function(e){this.internalCharacterSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wordSpacing",{get:function(){return this.internalWordSpacing},set:function(e){this.internalWordSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textScaling",{get:function(){return this.internalTextScaling},set:function(e){this.internalTextScaling=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pen",{get:function(){return this.pdfPen},set:function(e){this.pdfPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"brush",{get:function(){return this.pdfBrush},set:function(e){this.pdfBrush=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this.pdfFont},set:function(e){this.pdfFont=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(e){this.pdfColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textRenderingMode",{get:function(){return this.internalTextRenderingMode},set:function(e){this.internalTextRenderingMode=e},enumerable:!0,configurable:!0}),n}(),vd=function(){function n(e,t,i){this.alphaPen=e,this.alphaBrush=t,this.blendMode=i}return n}(),Ms=function(){function n(e,t){if(this.pdfColorSpace=ct.Rgb,this.isVisible=!0,this.sublayer=!1,this.contentLength=0,this.dictionaryProperties=new bt,e===null)throw new Error("ArgumentNullException:page");if(this.pdfPage=e,this.clipPageTemplates=!0,typeof t>"u")this.content=new qt;else if(t instanceof qt||t===null){if(t===null)throw new Error("ArgumentNullException:stream");this.content=t}else this.content=new qt,this.clipPageTemplates=t}return Object.defineProperty(n.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(e){this.pdfColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layerId",{get:function(){return this.layerid},set:function(e){this.layerid=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.layerName},set:function(e){this.layerName=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this.isVisible},set:function(e){this.isVisible=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"graphics",{get:function(){return this.pdfGraphics==null&&this.initializeGraphics(this.page),this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layers",{get:function(){return this.layer==null?(this.layer=new ml(this.page),this.layer.sublayer=!0,this.layer):this.layer},enumerable:!0,configurable:!0}),n.prototype.add=function(){var e=new n(this.pdfPage);return e.name="",e},n.prototype.sign=function(e){return e===0?0:e>0?1:-1},n.prototype.initializeGraphics=function(e){var t=e,i=new Gn(this.page);if(this.pdfGraphics=new Yn(e.size,i,this.content),this.pdfGraphics.mediaBoxUpperRightBound=0,t!=null){var r=t.section.parent;r!=null&&(this.pdfGraphics.colorSpace=r.document.colorSpace,this.colorSpace=r.document.colorSpace)}var o=this.sign(e.origin.y)===this.sign(e.origin.x);(e.origin.x>=0&&e.origin.y>=0||!o)&&this.pdfGraphics.initializeCoordinates();var h=t.section.getActualBounds(t,!0),u=t.section.pageSettings.margins;this.clipPageTemplates?e.origin.x>=0&&e.origin.y>=0&&this.pdfGraphics.clipTranslateMargins(h):this.graphics.clipTranslateMargins(h.x,h.y,u.left,u.top,u.right,u.bottom),this.pdfGraphics.setLayer(this)},Object.defineProperty(n.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),n}(),yd=function(){function n(){}return Object.defineProperty(n.prototype,"count",{get:function(){return typeof this.collection>"u"&&(this.collection=[]),this.collection.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"list",{get:function(){return typeof this.collection>"u"&&(this.collection=[]),this.collection},enumerable:!0,configurable:!0}),n}(),bd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ml=function(n){bd(e,n);function e(t){var i=n.call(this)||this;if(i.parentLayerCount=0,i.sublayer=!1,i.optionalContent=new it,t instanceof vl){i.page=t;var r=t;i.parseLayers(r)}return i}return e.prototype.items=function(t,i){if(typeof t=="number"&&typeof i>"u"){var r=this.list[t];return r}else{if(i==null)throw new Error("ArgumentNullException: layer");if(i.page!==this.page)throw new Error("ArgumentException: The layer belongs to another page")}},e.prototype.add=function(t,i){if(typeof t>"u"){var r=new Ms(this.page);return r.name="",this.add(r),r}else if(t instanceof Ms){var o=this.list.push(t);return this.addLayer(o,t),o}else return 0},e.prototype.addLayer=function(t,i){var r=new rt(i);this.page.contents.add(r)},e.prototype.insert=function(t,i){for(var r=[],o=this.list.length,h=t;h<o;h++)r.push(this.list.pop());this.list.push(i);for(var h=0;h<r.length;h++)this.list.push(r[h]);this.insertLayer(t,i)},e.prototype.insertLayer=function(t,i){if(i==null)throw new Error("ArgumentNullException:layer");var r=new rt(i);this.page.contents.insert(t,r)},e.prototype.parseLayers=function(t){var i=this.page.contents;this.page.getResources(),t.crossTable;var r=new qt,o=new qt,h="q",u="Q",g=[];g.push(h),r.data=g,i.insert(0,new rt(r)),g=[],g.push(u),o.data=g,i.insert(i.count,new rt(o))},e.prototype.indexOf=function(t){if(t==null)throw new Error("ArgumentNullException: layer");var i=this.list.indexOf(t);return i},e}(yd),vl=function(){function n(e){this.defLayerIndex=-1,this.modified=!1,this.dictionaryProperties=new bt,this.pageDictionary=e}return Object.defineProperty(n.prototype,"section",{get:function(){return this.pdfSection},set:function(e){this.pdfSection=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dictionary",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defaultLayer",{get:function(){var e=this.layers,t=this.defaultLayerIndex,i=e.items(t);return i},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defaultLayerIndex",{get:function(){if(this.layerCollection.count===0||this.defLayerIndex===-1){var e=this.layerCollection.add();this.defLayerIndex=this.layerCollection.indexOf(e)}return this.defLayerIndex},set:function(e){if(e<0||e>this.layers.count-1)throw new Error("ArgumentOutOfRangeException : value, Index can not be less 0 and greater Layers.Count - 1");this.defLayerIndex=e,this.modified=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layers",{get:function(){return(this.layerCollection==null||typeof this.layerCollection>"u")&&(this.layerCollection=new ml(this)),this.layerCollection},enumerable:!0,configurable:!0}),n.prototype.getResources=function(){return this.resources==null&&(this.resources=new Gr,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},Object.defineProperty(n.prototype,"contents",{get:function(){var e=this.pageDictionary.items.getValue(this.dictionaryProperties.contents),t=e;return t==null&&(t=new gt,this.pageDictionary.items.setValue(this.dictionaryProperties.contents,t)),t},enumerable:!0,configurable:!0}),n.prototype.setResources=function(e){this.resources=e,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources),this.modified=!0},n}(),xd=function(){function n(e){this.alreadyExistsAnnotationError="This annotatation had been already added to page",this.missingAnnotationException="Annotation is not contained in collection.",this.dictionaryProperties=new bt,this.internalAnnotations=new gt,this.lists=[],typeof e<"u"&&(this.page=e)}return Object.defineProperty(n.prototype,"annotations",{get:function(){return this.internalAnnotations},set:function(e){this.internalAnnotations=e},enumerable:!0,configurable:!0}),n.prototype.add=function(e){this.doAdd(e)},n.prototype.doAdd=function(e){if(typeof e.destination<"u"){var t=new Xn,i=t.layout(e.text,e.font,e.stringFormat,new ke(e.bounds.width,0),!1,new ke(0,0)),r=e.bounds.y;if(i.lines.length===1){var o=e.font.measureString(i.lines[0].text);e.bounds=new tt(new je(e.bounds.x,r),o),e.text=i.lines[0].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,e.bounds.y,e.bounds.width,e.bounds.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new rt(e)),this.lists.push(e)}else for(var h=0;h<i.lines.length;h++){var o=e.font.measureString(i.lines[h].text);if(h===0)e.bounds=new tt(e.bounds.x,r,o.width,o.height),e.text=i.lines[h].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,r,o.width,o.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new rt(e)),this.lists.push(e),r+=e.bounds.height;else{var u=e.clone();u.bounds=new tt(new je(e.bounds.x,r),o),u.text=i.lines[h].text,this.page.graphics.drawString(u.text,u.font,null,u.brush,u.bounds.x,u.bounds.y,u.bounds.width,u.bounds.height,null),u.setPage(this.page),this.setColor(u),this.internalAnnotations.add(new rt(u)),this.lists.push(u),r+=u.bounds.height}}}else return e.setPage(this.page),this.internalAnnotations.add(new rt(e)),this.lists.push(e)},n.prototype.setColor=function(e){var t=ct.Rgb,i=e.color.toArray(t);e.dictionary.items.setValue(this.dictionaryProperties.c,i)},Object.defineProperty(n.prototype,"element",{get:function(){return this.internalAnnotations},enumerable:!0,configurable:!0}),n}(),wd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Hi=function(n){wd(e,n);function e(){var t=n.call(this,new it)||this;return t.annotationCollection=null,t.beginSave=null,t.initialize(),t}return Object.defineProperty(e.prototype,"document",{get:function(){return this.section!==null&&this.section.parent!==null?this.section.parent.document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){var t=this.defaultLayer.graphics;return t.currentPage=this,t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crossTable",{get:function(){if(this.section===null)throw new Error("PdfDocumentException : Page is not created");return this.section.parent===null?this.section.parentDocument.crossTable:this.section.parent.document.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.section.pageSettings.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.section.pageSettings.origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"annotations",{get:function(){return this.annotationCollection==null&&(this.annotationCollection=new xd(this),this.dictionary.items.setValue(this.dictionaryProperties.annots,this.annotationCollection.element),this.annotationCollection.annotations=this.dictionary.items.getValue(this.dictionaryProperties.annots)),this.annotationCollection},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.dictionary.items.setValue(this.dictionaryProperties.type,new Oe("Page")),this.dictionary.pageBeginDrawTemplate=new mu(this)},e.prototype.setSection=function(t){this.section=t,this.dictionary.items.setValue(this.dictionaryProperties.parent,new rt(t))},e.prototype.resetProgress=function(){this.isProgressOn=!1},e.prototype.getClientSize=function(){var t=this.section.getActualBounds(this,!0);return new ke(t.width,t.height)},e.prototype.pageBeginSave=function(){var t=this.document;typeof t!==void 0&&t!=null&&this.drawPageTemplates(t),this.beginSave!=null&&typeof this.beginSave<"u"&&this.beginSave(this)},e.prototype.drawPageTemplates=function(t){var i=this.section.containsTemplates(t,this,!1);if(i){var r=new Ms(this,!1);if(this.layers.insert(0,r),this.section.drawTemplates(this,r,t,!1),r.graphics!==null&&typeof r.graphics<"u")for(var o=0;o<r.graphics.automaticFields.automaticFields.length;o++){var h=r.graphics.automaticFields.automaticFields[o];h.field.performDraw(r.graphics,h.location,h.scalingX,h.scalingY)}}var u=this.section.containsTemplates(t,this,!0);if(u){var g=new Ms(this,!1);this.layers.add(g),this.section.drawTemplates(this,g,t,!0)}},e}(vl),qa=function(){function n(e){typeof e<"u"?this.pdfPage=e:this.pdfPage=null}return Object.defineProperty(n.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),n}(),Sd=function(){function n(e){if(this.pdfSection=null,e==null)throw Error('ArgumentNullException("section")');this.section=e}return Object.defineProperty(n.prototype,"section",{get:function(){return this.pdfSection},set:function(e){this.pdfSection=e},enumerable:!0,configurable:!0}),n.prototype.contains=function(e){return this.section.contains(e)},n.prototype.remove=function(e){this.section.remove(e)},n.prototype.add=function(){return this.section.add()},n}(),yl=function(){function n(){}return Object.defineProperty(n.prototype,"left",{get:function(){return this.leftTemplate},set:function(e){this.leftTemplate=this.checkElement(e,ze.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.topTemplate},set:function(e){this.topTemplate=this.checkElement(e,ze.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.rightTemplate},set:function(e){this.rightTemplate=this.checkElement(e,ze.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.bottomTemplate},set:function(e){this.bottomTemplate=this.checkElement(e,ze.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"EvenLeft",{get:function(){return this.evenLeft},set:function(e){this.evenLeft=this.checkElement(e,ze.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"EvenTop",{get:function(){return this.evenTop},set:function(e){this.evenTop=this.checkElement(e,ze.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"EvenRight",{get:function(){return this.evenRight},set:function(e){this.evenRight=this.checkElement(e,ze.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"EvenBottom",{get:function(){return this.evenBottom},set:function(e){this.evenBottom=this.checkElement(e,ze.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OddLeft",{get:function(){return this.oddLeft},set:function(e){this.oddLeft=this.checkElement(e,ze.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OddTop",{get:function(){return this.oddTop},set:function(e){this.oddTop=this.checkElement(e,ze.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OddRight",{get:function(){return this.oddRight},set:function(e){this.oddRight=this.checkElement(e,ze.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OddBottom",{get:function(){return this.oddBottom},set:function(e){this.oddBottom=this.checkElement(e,ze.Bottom)},enumerable:!0,configurable:!0}),n.prototype.getLeft=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenLeft!=null?this.EvenLeft:this.left:t=this.OddLeft!=null?this.OddLeft:this.left,t},n.prototype.getTop=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenTop!=null?this.EvenTop:this.top:t=this.OddTop!=null?this.OddTop:this.top,t},n.prototype.getRight=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenRight!=null?this.EvenRight:this.right:t=this.OddRight!=null?this.OddRight:this.right,t},n.prototype.getBottom=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenBottom!=null?this.EvenBottom:this.bottom:t=this.OddBottom!=null?this.OddBottom:this.bottom,t},n.prototype.isEven=function(e){var t=e.section.document.pages,i=0;t.pageCollectionIndex.containsKey(e)?i=t.pageCollectionIndex.getValue(e)+1:i=t.indexOf(e)+1;var r=i%2===0;return r},n.prototype.checkElement=function(e,t){if(e!=null){if(typeof e.type<"u"&&e.type!==ze.None)throw new Error("NotSupportedException:Can not reassign the template element. Please, create new one.");e.type=t}return e},n}(),Cd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ad=function(n){Cd(e,n);function e(){var t=n.call(this)||this;return t.leftValue=t.topValue=t.rightValue=t.bottomValue=t.stampValue=!0,t}return Object.defineProperty(e.prototype,"applyDocumentLeftTemplate",{get:function(){return this.leftValue},set:function(t){this.leftValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentTopTemplate",{get:function(){return this.topValue},set:function(t){this.topValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentRightTemplate",{get:function(){return this.rightValue},set:function(t){this.rightValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentBottomTemplate",{get:function(){return this.bottomValue},set:function(t){this.bottomValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentStamps",{get:function(){return this.stampValue},set:function(t){this.stampValue=t},enumerable:!0,configurable:!0}),e}(yl),kd=function(){function n(e,t){this.pageAdded=new qa,this.pdfPages=[],this.dictionaryProperties=new bt,this.pdfDocument=e,typeof t>"u"?(this.settings=e.pageSettings.clone(),this.initialSettings=this.settings.clone()):(this.settings=t.clone(),this.initialSettings=this.settings.clone()),this.initialize()}return Object.defineProperty(n.prototype,"parent",{get:function(){return this.sectionCollection},set:function(e){this.sectionCollection=e,this.section.items.setValue(this.dictionaryProperties.parent,new rt(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentDocument",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageSettings",{get:function(){return this.settings},set:function(e){if(e!=null)this.settings=e;else throw Error("Value can not be null.")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.section},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this.pagesReferences.count},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"template",{get:function(){return this.pageTemplate==null&&(this.pageTemplate=new Ad),this.pageTemplate},set:function(e){this.pageTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"document",{get:function(){return this.sectionCollection.document},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pages",{get:function(){return(this.pagesCollection==null||typeof this.pagesCollection>"u")&&(this.pagesCollection=new Sd(this)),this.pagesCollection},enumerable:!0,configurable:!0}),n.prototype.getPages=function(){return this.pdfPages},n.prototype.pointToNativePdf=function(e,t){var i=this.getActualBounds(e,!0);return t.x+=i.x,t.y=this.pageSettings.height-t.y,t},n.prototype.setPageSettings=function(e){this.settings=e,this.state.orientation=e.orientation,this.state.rotate=e.rotate,this.state.size=e.size,this.state.origin=e.origin},n.prototype.initialize=function(){this.pagesReferences=new gt,this.section=new it,this.state=new Td(this.pdfDocument),this.section.sectionBeginSave=new gu(this,this.state),this.pageCount=new Pe(0),this.section.items.setValue(this.dictionaryProperties.count,this.pageCount),this.section.items.setValue(this.dictionaryProperties.type,new Oe(this.dictionaryProperties.pages)),this.section.items.setValue(this.dictionaryProperties.kids,this.pagesReferences)},n.prototype.containsTemplates=function(e,t,i){var r=this.getDocumentTemplates(e,t,i),o=this.getSectionTemplates(t,i);return r.length>0||o.length>0},n.prototype.getDocumentTemplates=function(e,t,i){var r=[];return this.template.applyDocumentTopTemplate&&e.template.getTop(t)!=null&&(!(e.template.getTop(t).foreground||i)||e.template.getTop(t).foreground&&i)&&r.push(e.template.getTop(t)),this.template.applyDocumentBottomTemplate&&e.template.getBottom(t)!=null&&(!(e.template.getBottom(t).foreground||i)||e.template.getBottom(t).foreground&&i)&&r.push(e.template.getBottom(t)),this.template.applyDocumentLeftTemplate&&e.template.getLeft(t)!=null&&(!(e.template.getLeft(t).foreground||i)||e.template.getLeft(t).foreground&&i)&&r.push(e.template.getLeft(t)),this.template.applyDocumentRightTemplate&&e.template.getRight(t)!=null&&(!(e.template.getRight(t).foreground||i)||e.template.getRight(t).foreground&&i)&&r.push(e.template.getRight(t)),r},n.prototype.getSectionTemplates=function(e,t){var i=[];if(this.template.getTop(e)!=null){var r=this.template.getTop(e);(!(r.foreground||t)||r.foreground&&t)&&i.push(r)}if(this.template.getBottom(e)!=null){var r=this.template.getBottom(e);(!(r.foreground||t)||r.foreground&&t)&&i.push(r)}if(this.template.getLeft(e)!=null){var r=this.template.getLeft(e);(!(r.foreground||t)||r.foreground&&t)&&i.push(r)}if(this.template.getRight(e)!=null){var r=this.template.getRight(e);(!(r.foreground||t)||r.foreground&&t)&&i.push(r)}return i},n.prototype.add=function(e){if(typeof e>"u"){var t=new Hi;return this.add(t),t}else{var i=this.checkPresence(e);this.pdfPages.push(e),this.pagesReferences.add(i),e.setSection(this),e.resetProgress(),this.pageAddedMethod(e)}},n.prototype.checkPresence=function(e){for(var t=new rt(e),i=!1,r=this.parent,o=0;o<r.section.length;o++){var h=r.section[o];i=i||h.contains(e)}return t},n.prototype.contains=function(e){var t=this.indexOf(e);return 0<=t},n.prototype.indexOf=function(e){for(var t=0;t<this.pdfPages.length;t++)if(this.pdfPages[t]===e)return this.pdfPages.indexOf(e);var i=new rt(e);return this.pagesReferences.indexOf(i)},n.prototype.pageAddedMethod=function(e){var t=new qa(e);this.onPageAdded(t);var i=this.parent;i.document.pages.onPageAdded(t),this.pageCount.intValue=this.count},n.prototype.onPageAdded=function(e){},n.prototype.getActualBounds=function(e,t,i){if(e instanceof Hi&&typeof t=="boolean"){var r=void 0,o=this.parent.document;return r=this.getActualBounds(o,e,t),r}else{e=e,t=t,i=i;var h=new tt(0,0,0,0);h.height=i?this.pageSettings.size.height:this.pageSettings.getActualSize().height,h.width=i?this.pageSettings.size.width:this.pageSettings.getActualSize().width;var u=this.getLeftIndentWidth(e,t,i),g=this.getTopIndentHeight(e,t,i),y=this.getRightIndentWidth(e,t,i),x=this.getBottomIndentHeight(e,t,i);return h.x+=u,h.y+=g,h.width-=u+y,h.height-=g+x,h}},n.prototype.getLeftIndentWidth=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.left:0,o=this.template.getLeft(t)!=null?this.template.getLeft(t).width:0,h=e.template.getLeft(t)!=null?e.template.getLeft(t).width:0;return r+=this.template.applyDocumentLeftTemplate?Math.max(o,h):o,r},n.prototype.getTopIndentHeight=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.top:0,o=this.template.getTop(t)!=null?this.template.getTop(t).height:0,h=e.template.getTop(t)!=null?e.template.getTop(t).height:0;return r+=this.template.applyDocumentTopTemplate?Math.max(o,h):o,r},n.prototype.getRightIndentWidth=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.right:0,o=this.template.getRight(t)!=null?this.template.getRight(t).width:0,h=e.template.getRight(t)!=null?e.template.getRight(t).width:0;return r+=this.template.applyDocumentRightTemplate?Math.max(o,h):o,r},n.prototype.getBottomIndentHeight=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.bottom:0,o=this.template.getBottom(t)!=null?this.template.getBottom(t).height:0,h=e.template.getBottom(t)!=null?e.template.getBottom(t).height:0;return r+=this.template.applyDocumentBottomTemplate?Math.max(o,h):o,r},n.prototype.remove=function(e){if(e==null)throw Error('ArgumentNullException("page")');var t=this.pdfPages.indexOf(e);this.pagesReferences.removeAt(t);for(var i=[],r=0;r<t;r++)i.push(this.pdfPages[r]);for(var r=t+1;r<this.pdfPages.length;r++)i.push(this.pdfPages[r]);this.pdfPages=i},n.prototype.applyPageSettings=function(e,t,i){var r=new tt(i.origin,i.size);e.items.setValue(this.dictionaryProperties.mediaBox,gt.fromRectangle(r));var o=0;o=bl.rotateFactor*i.rotate;var h=new Pe(o);e.items.setValue(this.dictionaryProperties.rotate,h)},n.prototype.beginSave=function(e,t){var i=t.document;this.applyPageSettings(this.section,i.pageSettings,e)},n.prototype.drawTemplates=function(e,t,i,r){var o=this.getDocumentTemplates(i,e,r),h=this.getSectionTemplates(e,r);this.drawTemplatesHelper(t,i,o),this.drawTemplatesHelper(t,i,h)},n.prototype.drawTemplatesHelper=function(e,t,i){if(i!=null&&i.length>0)for(var r=i.length,o=0;o<r;o++){var h=i[o];h.draw(e,t)}},n}(),Td=function(){function n(e){this.pageOrientation=e.pageSettings.orientation,this.pageRotate=e.pageSettings.rotate,this.pageSize=e.pageSettings.size,this.pageOrigin=e.pageSettings.origin}return Object.defineProperty(n.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(e){this.pageOrientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotate",{get:function(){return this.pageRotate},set:function(e){this.pageRotate=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.pageSize},set:function(e){this.pageSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"origin",{get:function(){return this.pageOrigin},set:function(e){this.pageOrigin=e},enumerable:!0,configurable:!0}),n}(),bl=function(){function n(e){this.sections=[],this.dictionaryProperties=new bt,this.pdfDocument=e.clone(),this.initialize()}return Object.defineProperty(n.prototype,"section",{get:function(){return this.sections},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"document",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this.sections.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.pages},enumerable:!0,configurable:!0}),n.prototype.initialize=function(){this.sectionCount=new Pe(0),this.sectionCollection=new gt,this.pages=new it,this.pages.beginSave=new du(this),this.pages.items.setValue(this.dictionaryProperties.type,new Oe("Pages")),this.pages.items.setValue(this.dictionaryProperties.kids,this.sectionCollection),this.pages.items.setValue(this.dictionaryProperties.count,this.sectionCount),this.pages.items.setValue(this.dictionaryProperties.resources,new it),this.setPageSettings(this.pages,this.pdfDocument.pageSettings)},n.prototype.pdfSectionCollection=function(e){if(e<0||e>=this.count)throw new Error("IndexOutOfRangeException()");return this.sections[e]},n.prototype.setPageSettings=function(e,t){var i=new tt(new je,t.size);e.items.setValue(this.dictionaryProperties.mediaBox,gt.fromRectangle(i))},n.prototype.add=function(e){if(typeof e>"u"){var t=new kd(this.pdfDocument);return this.add(t),t}else{var i=this.checkSection(e);return this.sections.push(e),e.parent=this,this.sectionCollection.add(i),this.sections.indexOf(e)}},n.prototype.checkSection=function(e){var t=new rt(e);return this.sectionCollection.contains(t),t},n.prototype.countPages=function(){var e=0;return this.sections.forEach(function(t){return e+=t.count}),e},n.prototype.beginSave=function(){this.sectionCount.intValue=this.countPages()},n.rotateFactor=90,n}(),Ld=function(){function n(e){this.pdfPageCollectionIndex=new at,this.document=e}return Object.defineProperty(n.prototype,"count",{get:function(){return this.countPages()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageCollectionIndex",{get:function(){return this.pdfPageCollectionIndex},enumerable:!0,configurable:!0}),n.prototype.add=function(e){if(typeof e>"u"){var t=new Hi;return this.add(t),t}else{var i=this.getLastSection();i.add(e)}},n.prototype.getLastSection=function(){var e=this.document.sections;e.section.length===0&&e.add();var t=e.section[e.section.length-1];return t},n.prototype.onPageAdded=function(e){},n.prototype.countPages=function(){for(var e=this.document.sections,t=0,i=0;i<e.section.length;i++)t+=e.section[i].count;return t},n.prototype.getPageByIndex=function(e){return this.getPage(e)},n.prototype.getPage=function(e){if(e<0||e>=this.count)throw Error('ArgumentOutOfRangeException("index", "Value can not be less 0")');for(var t=null,i=0,r=0,o=0,h=this.document.sections.count,u=0;u<h;u++){var g=this.document.sections.section[u];if(r=g.count,o=e-i,e>=i&&o<r){t=g.getPages()[o];break}i+=r}return t},n.prototype.indexOf=function(e){var t=-1;if(e==null)throw new Error("ArgumentNullException: page");for(var i=0,r=0,o=this.document.sections.count;r<o;r++){var h=this.document.sections.pdfSectionCollection(r);if(t=h.indexOf(e),t>=0){t+=i;break}else t=-1;i+=h.count}return t},n.prototype.remove=function(e){if(e==null)throw Error('ArgumentNullException("page")');for(var t=null,i=0,r=this.document.sections.count;i<r;i++)if(t=this.document.sections.pdfSectionCollection(i),t.pages.contains(e)){t.pages.remove(e);break}return t},n}(),$a=function(){function n(){this.referenceObjects=[],this.pdfFontCollection=new at}return n.prototype.search=function(e){var t=null,i=this.getGroup(e);return i==null?i=this.createNewGroup():i.length>0&&(t=i[0]),i.push(e),t},n.prototype.createNewGroup=function(){var e=[];return this.referenceObjects.push(e),e},n.prototype.getGroup=function(e){var t=null;if(e!==null)for(var i=this.referenceObjects.length,r=0;r<i;r++){if(this.referenceObjects.length>0){var o=this.referenceObjects[r];if(o.length>0){var h=o[0];if(e.equalsTo(h)){t=o;break}}else this.removeGroup(o)}i=this.referenceObjects.length}return t},n.prototype.removeGroup=function(e){if(e!==null){var t=this.referenceObjects.indexOf(e);this.referenceObjects.slice(t,t+1)}},n.prototype.destroy=function(){this.pdfFontCollection=void 0,this.referenceObjects=void 0},n}(),Pd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_s=function(n){Pd(e,n);function e(t){var i=n.call(this)||this;i.defaultMargin=40,i.streamWriter=null,i.document=i;var r=!1;typeof t>"u"?(e.cacheCollection=new $a,r=!1):r=t;var o=new Ou;i.setMainObjectCollection(o);var h=new cl;h.isMerging=r,h.document=i,i.setCrossTable(h);var u=new hl;return i.setCatalog(u),o.add(u),u.position=-1,i.sectionCollection=new bl(i),i.documentPageCollection=new Ld(i),u.pages=i.sectionCollection,i}return Object.defineProperty(e,"defaultFont",{get:function(){return this.defaultStandardFont==null&&(this.defaultStandardFont=new An(Yt.Helvetica,8)),this.defaultStandardFont},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sections",{get:function(){return this.sectionCollection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSettings",{get:function(){return this.settings==null&&(this.settings=new zu(this.defaultMargin)),this.settings},set:function(t){this.settings=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pages",{get:function(){return this.documentPageCollection},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cache",{get:function(){return typeof e.cacheCollection>"u"||e.cacheCollection==null?new $a:e.cacheCollection},set:function(t){this.cacheCollection=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"enableCache",{get:function(){return this.isCacheEnabled},set:function(t){this.isCacheEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.pdfColorSpace===ct.Rgb||this.pdfColorSpace===ct.Cmyk||this.pdfColorSpace===ct.GrayScale?this.pdfColorSpace:ct.Rgb},set:function(t){t===ct.Rgb||t===ct.Cmyk||t===ct.GrayScale?this.pdfColorSpace=t:this.pdfColorSpace=ct.Rgb},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.pageTemplate==null&&(this.pageTemplate=new yl),this.pageTemplate},set:function(t){this.pageTemplate=t},enumerable:!0,configurable:!0}),e.prototype.docSave=function(t,i,r){if(this.checkPagesPresence(),t===null)throw new Error("ArgumentNullException : stream");this.streamWriter=t;var o=new za(t);if(o.document=this,typeof i=="boolean"&&typeof r>"u")return this.crossTable.save(o);this.crossTable.save(o,i)},e.prototype._docSave=function(){var t=new Eu;if(this.checkPagesPresence(),t===null)throw new Error("ArgumentNullException : stream");this.streamWriter=t;var i=new za(t);return i.document=this,this.crossTable._save(i)},e.prototype.checkPagesPresence=function(){this.pages.count===0&&this.pages.add()},e.prototype.destroy=function(){this.catalog=void 0,this.colorSpace=void 0,this.currentSavingObj=void 0,this.documentPageCollection=void 0,this.isStreamCopied=void 0,this.pageSettings=void 0,this.pageTemplate=void 0,this.pdfColorSpace=void 0,this.sectionCollection=void 0,e.cache.destroy(),this.crossTable.pdfObjects.destroy(),e.cache=void 0,this.streamWriter&&this.streamWriter.destroy()},e.defaultStandardFont=null,e.isCacheEnabled=!0,e}(Ru),Ed=function(){function n(){}return n.getMetrics=function(e,t,i){var r=null;switch(e){case Yt.Helvetica:r=this.getHelveticaMetrics(e,t,i);break;case Yt.Courier:r=this.getCourierMetrics(e,t,i);break;case Yt.TimesRoman:r=this.getTimesMetrics(e,t,i);break;case Yt.Symbol:r=this.getSymbolMetrics(e,t,i);break;case Yt.ZapfDingbats:r=this.getZapfDingbatsMetrics(e,t,i);break;default:r=this.getHelveticaMetrics(Yt.Helvetica,t,i);break}return r.name=e.toString(),r.subScriptSizeFactor=this.subSuperScriptFactor,r.superscriptSizeFactor=this.subSuperScriptFactor,r},n.getHelveticaMetrics=function(e,t,i){var r=new mr;return(t&lt.Bold)>0&&(t&lt.Italic)>0?(r.ascent=this.helveticaBoldItalicAscent,r.descent=this.helveticaBoldItalicDescent,r.postScriptName=this.helveticaBoldItalicName,r.size=i,r.widthTable=new zt(this.arialBoldWidth),r.height=r.ascent-r.descent):(t&lt.Bold)>0?(r.ascent=this.helveticaBoldAscent,r.descent=this.helveticaBoldDescent,r.postScriptName=this.helveticaBoldName,r.size=i,r.widthTable=new zt(this.arialBoldWidth),r.height=r.ascent-r.descent):(t&lt.Italic)>0?(r.ascent=this.helveticaItalicAscent,r.descent=this.helveticaItalicDescent,r.postScriptName=this.helveticaItalicName,r.size=i,r.widthTable=new zt(this.arialWidth),r.height=r.ascent-r.descent):(r.ascent=this.helveticaAscent,r.descent=this.helveticaDescent,r.postScriptName=this.helveticaName,r.size=i,r.widthTable=new zt(this.arialWidth),r.height=r.ascent-r.descent),r},n.getCourierMetrics=function(e,t,i){var r=new mr;return(t&lt.Bold)>0&&(t&lt.Italic)>0?(r.ascent=this.courierBoldItalicAscent,r.descent=this.courierBoldItalicDescent,r.postScriptName=this.courierBoldItalicName,r.size=i,r.widthTable=new zt(this.fixedWidth),r.height=r.ascent-r.descent):(t&lt.Bold)>0?(r.ascent=this.courierBoldAscent,r.descent=this.courierBoldDescent,r.postScriptName=this.courierBoldName,r.size=i,r.widthTable=new zt(this.fixedWidth),r.height=r.ascent-r.descent):(t&lt.Italic)>0?(r.ascent=this.courierItalicAscent,r.descent=this.courierItalicDescent,r.postScriptName=this.courierItalicName,r.size=i,r.widthTable=new zt(this.fixedWidth),r.height=r.ascent-r.descent):(r.ascent=this.courierAscent,r.descent=this.courierDescent,r.postScriptName=this.courierName,r.size=i,r.widthTable=new zt(this.fixedWidth),r.height=r.ascent-r.descent),r},n.getTimesMetrics=function(e,t,i){var r=new mr;return(t&lt.Bold)>0&&(t&lt.Italic)>0?(r.ascent=this.timesBoldItalicAscent,r.descent=this.timesBoldItalicDescent,r.postScriptName=this.timesBoldItalicName,r.size=i,r.widthTable=new zt(this.timesRomanBoldItalicWidths),r.height=r.ascent-r.descent):(t&lt.Bold)>0?(r.ascent=this.timesBoldAscent,r.descent=this.timesBoldDescent,r.postScriptName=this.timesBoldName,r.size=i,r.widthTable=new zt(this.timesRomanBoldWidth),r.height=r.ascent-r.descent):(t&lt.Italic)>0?(r.ascent=this.timesItalicAscent,r.descent=this.timesItalicDescent,r.postScriptName=this.timesItalicName,r.size=i,r.widthTable=new zt(this.timesRomanItalicWidth),r.height=r.ascent-r.descent):(r.ascent=this.timesAscent,r.descent=this.timesDescent,r.postScriptName=this.timesName,r.size=i,r.widthTable=new zt(this.timesRomanWidth),r.height=r.ascent-r.descent),r},n.getSymbolMetrics=function(e,t,i){var r=new mr;return r.ascent=this.symbolAscent,r.descent=this.symbolDescent,r.postScriptName=this.symbolName,r.size=i,r.widthTable=new zt(this.symbolWidth),r.height=r.ascent-r.descent,r},n.getZapfDingbatsMetrics=function(e,t,i){var r=new mr;return r.ascent=this.zapfDingbatsAscent,r.descent=this.zapfDingbatsDescent,r.postScriptName=this.zapfDingbatsName,r.size=i,r.widthTable=new zt(this.zapfDingbatsWidth),r.height=r.ascent-r.descent,r},n.subSuperScriptFactor=1.52,n.helveticaAscent=931,n.helveticaDescent=-225,n.helveticaName="Helvetica",n.helveticaBoldAscent=962,n.helveticaBoldDescent=-228,n.helveticaBoldName="Helvetica-Bold",n.helveticaItalicAscent=931,n.helveticaItalicDescent=-225,n.helveticaItalicName="Helvetica-Oblique",n.helveticaBoldItalicAscent=962,n.helveticaBoldItalicDescent=-228,n.helveticaBoldItalicName="Helvetica-BoldOblique",n.courierAscent=805,n.courierDescent=-250,n.courierName="Courier",n.courierBoldAscent=801,n.courierBoldDescent=-250,n.courierBoldName="Courier-Bold",n.courierItalicAscent=805,n.courierItalicDescent=-250,n.courierItalicName="Courier-Oblique",n.courierBoldItalicAscent=801,n.courierBoldItalicDescent=-250,n.courierBoldItalicName="Courier-BoldOblique",n.timesAscent=898,n.timesDescent=-218,n.timesName="Times-Roman",n.timesBoldAscent=935,n.timesBoldDescent=-218,n.timesBoldName="Times-Bold",n.timesItalicAscent=883,n.timesItalicDescent=-217,n.timesItalicName="Times-Italic",n.timesBoldItalicAscent=921,n.timesBoldItalicDescent=-218,n.timesBoldItalicName="Times-BoldItalic",n.symbolAscent=1010,n.symbolDescent=-293,n.symbolName="Symbol",n.zapfDingbatsAscent=820,n.zapfDingbatsDescent=-143,n.zapfDingbatsName="ZapfDingbats",n.arialWidth=[278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,0,556,0,222,556,333,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,222,222,333,333,350,556,1e3,333,1e3,500,333,944,0,500,667,0,333,556,556,556,556,260,556,333,737,370,556,584,0,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500],n.arialBoldWidth=[278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,0,556,0,278,556,500,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,278,278,500,500,350,556,1e3,333,1e3,556,333,944,0,500,667,0,333,556,556,556,556,280,556,333,737,370,556,584,0,737,333,400,584,333,333,333,611,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,584,611,611,611,611,611,556,611,556],n.fixedWidth=[600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600],n.timesRomanWidth=[250,333,408,500,500,833,778,180,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,0,500,0,333,500,444,1e3,500,500,333,1e3,556,333,889,0,611,0,0,333,333,444,444,350,500,1e3,333,980,389,333,722,0,444,722,0,333,500,500,500,500,200,500,333,760,276,500,564,0,760,333,400,564,300,300,333,500,453,250,333,300,310,500,750,750,750,444,722,722,722,722,722,722,889,667,611,611,611,611,333,333,333,333,722,722,722,722,722,722,722,564,722,722,722,722,722,722,556,500,444,444,444,444,444,444,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,564,500,500,500,500,500,500,500,500],n.timesRomanBoldWidth=[250,333,555,500,500,1e3,833,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1e3,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,1e3,0,667,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,444,722,0,333,500,500,500,500,220,500,333,747,300,500,570,0,747,333,400,570,300,300,333,556,540,250,333,300,330,500,750,750,750,500,722,722,722,722,722,722,1e3,722,667,667,667,667,389,389,389,389,722,722,778,778,778,778,778,570,778,722,722,722,722,722,611,556,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,500,556,500],n.timesRomanItalicWidth=[250,333,420,500,500,833,778,214,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,0,500,0,333,500,556,889,500,500,333,1e3,500,333,944,0,556,0,0,333,333,556,556,350,500,889,333,980,389,333,667,0,389,556,0,389,500,500,500,500,275,500,333,760,276,500,675,0,760,333,400,675,300,300,333,500,523,250,333,300,310,500,750,750,750,500,611,611,611,611,611,611,889,667,611,611,611,611,333,333,333,333,722,667,722,722,722,722,722,675,722,722,722,722,722,556,611,500,500,500,500,500,500,500,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,675,500,500,500,500,500,444,500,444],n.timesRomanBoldItalicWidths=[250,389,555,500,500,833,778,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,944,0,611,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,389,611,0,389,500,500,500,500,220,500,333,747,266,500,606,0,747,333,400,570,300,300,333,576,500,250,333,300,300,500,750,750,750,500,667,667,667,667,667,667,944,667,667,667,667,667,389,389,389,389,722,722,722,722,722,722,722,570,722,722,722,722,722,611,611,500,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,444,500,444],n.symbolWidth=[250,333,713,500,549,833,778,439,333,333,500,549,250,549,250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,549,722,667,722,612,611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,333,863,333,658,500,500,631,549,549,494,439,521,411,603,329,603,549,549,576,521,549,549,521,549,603,439,576,713,686,493,686,494,480,200,480,549,750,620,247,549,167,713,500,753,753,753,753,1042,987,603,987,603,400,549,411,549,549,713,494,460,549,549,549,549,1e3,603,1e3,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,549,250,713,603,603,1042,987,603,987,603,494,329,790,790,786,713,384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,-1],n.zapfDingbatsWidth=[278,974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918],n}(),Md=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),An=function(n){Md(e,n);function e(t,i,r){var o=n.call(this,i,typeof r>"u"?t instanceof e?t.style:lt.Regular:r)||this;return o.dictionaryProperties=new bt,o.encodings=["Unknown","StandardEncoding","MacRomanEncoding","MacExpertEncoding","WinAnsiEncoding","PDFDocEncoding","IdentityH"],typeof t>"u"?o.pdfFontFamily=Yt.Helvetica:t instanceof e?o.pdfFontFamily=t.fontFamily:o.pdfFontFamily=t,o.checkStyle(),o.initializeInternals(),o}return Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.pdfFontFamily},enumerable:!0,configurable:!0}),e.prototype.checkStyle=function(){if(this.fontFamily===Yt.Symbol||this.fontFamily===Yt.ZapfDingbats){var t=this.style;t&=~(lt.Bold|lt.Italic),this.setStyle(t)}},e.prototype.getLineWidth=function(t,i){if(t==null)throw new Error("ArgumentNullException:line");var r=0;this.name,t=e.convert(t);for(var o=0,h=t.length;o<h;o++){var u=t[o],g=this.getCharWidthInternal(u,i);r+=g}var y=this.metrics.getSize(i);return r*=Vi.charSizeMultiplier*y,r=this.applyFormatSettings(t,i,r),r},e.prototype.equalsToFont=function(t){var i=!1,r=t;if(r!=null){var o=this.fontFamily===r.fontFamily,h=~(lt.Underline|lt.Strikeout),u=(this.style&h)===(r.style&h);i=o&&u}return i},e.prototype.initializeInternals=function(){_s.cache.search(this);var t=null,i=Ed.getMetrics(this.pdfFontFamily,this.style,this.size);this.metrics=i,t=this.createInternals(),this.setInternals(t)},e.prototype.createInternals=function(){var t=new it;if(t.items.setValue(this.dictionaryProperties.type,new Oe(this.dictionaryProperties.font)),t.items.setValue(this.dictionaryProperties.subtype,new Oe(this.dictionaryProperties.type1)),t.items.setValue(this.dictionaryProperties.baseFont,new Oe(this.metrics.postScriptName)),this.fontFamily!==Yt.Symbol&&this.fontFamily!==Yt.ZapfDingbats){var i=this.encodings[yn.WinAnsiEncoding];t.items.setValue(this.dictionaryProperties.encoding,new Oe(i))}return t},e.prototype.getCharWidthInternal=function(t,i){var r=0,o=0;o=t.charCodeAt(0),(this.name==="0"||this.name==="1"||this.name==="2"||this.name==="3"||this.name==="4")&&(o=o-e.charOffset),o=o>=0&&o!==128?o:0;var h=this.metrics,u=h.widthTable;return r=u.items(o),r},e.convert=function(t){return t},e.charOffset=32,e}(Vi),Za=function(){function n(e,t,i,r,o){e instanceof tt&&typeof t>"u"?this.InitiateBounds(e.x,e.y,e.width,e.height,null):e instanceof tt&&t instanceof Hi&&typeof i>"u"?this.InitiateBounds(e.x,e.y,e.width,e.height,t):e instanceof je&&t instanceof ke&&typeof i>"u"?this.InitiateBounds(e.x,e.y,t.width,t.height,null):e instanceof je&&t instanceof ke&&i instanceof Hi&&typeof r>"u"?this.InitiateBounds(e.x,e.y,t.width,t.height,i):e instanceof ke&&typeof t>"u"?this.InitiateBounds(0,0,e.width,e.height,null):typeof e=="number"&&typeof t=="number"&&typeof i>"u"?this.InitiateBounds(0,0,e,t,null):typeof e=="number"&&typeof t=="number"&&i instanceof Hi&&typeof r>"u"?this.InitiateBounds(0,0,e,t,i):typeof e=="number"&&typeof t=="number"&&typeof i=="number"&&typeof r=="number"&&typeof o>"u"?this.InitiateBounds(e,t,i,r,null):this.InitiateBounds(e,t,i,r,null)}return Object.defineProperty(n.prototype,"dock",{get:function(){return this.dockStyle},set:function(e){this.dockStyle=e,this.resetAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this.alignmentStyle},set:function(e){this.setAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"foreground",{get:function(){return this.isForeground},set:function(e){this.isForeground=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"background",{get:function(){return!this.isForeground},set:function(e){this.isForeground=!e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"location",{get:function(){return this.currentLocation},set:function(e){this.type===ze.None&&(this.currentLocation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){var e=typeof this.currentLocation<"u"?this.currentLocation.x:0;return e},set:function(e){this.type===ze.None&&(this.currentLocation.x=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){var e=typeof this.currentLocation<"u"?this.currentLocation.y:0;return e},set:function(e){this.type===ze.None&&(this.currentLocation.y=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.template.size},set:function(e){this.type===ze.None&&this.template.reset(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.template.width},set:function(e){if(this.template.width!==e&&this.type===ze.None){var t=this.template.size;t.width=e,this.template.reset(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.template.height},set:function(e){if(this.template.height!==e&&this.type===ze.None){var t=this.template.size;t.height=e,this.template.reset(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"graphics",{get:function(){return this.template.graphics},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"template",{get:function(){return this.pdfTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this.templateType},set:function(e){this.updateDocking(e),this.templateType=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bounds",{get:function(){return new tt(new je(this.x,this.y),this.size)},set:function(e){this.type===ze.None&&(this.location=new je(e.x,e.y),this.size=new ke(e.width,e.height))},enumerable:!0,configurable:!0}),n.prototype.InitiateBounds=function(e,t,i,r,o){this.x=e,this.y=t,this.pdfTemplate=new Cn(i,r)},n.prototype.updateDocking=function(e){if(e!==ze.None){switch(e){case ze.Top:this.dock=dt.Top;break;case ze.Bottom:this.dock=dt.Bottom;break;case ze.Left:this.dock=dt.Left;break;case ze.Right:this.dock=dt.Right;break}this.resetAlignment()}},n.prototype.resetAlignment=function(){this.alignment=Be.None},n.prototype.setAlignment=function(e){if(this.dock===dt.None)this.alignmentStyle=e;else{var t=!1;switch(this.dock){case dt.Left:t=e===Be.TopLeft||e===Be.MiddleLeft||e===Be.BottomLeft||e===Be.None;break;case dt.Top:t=e===Be.TopLeft||e===Be.TopCenter||e===Be.TopRight||e===Be.None;break;case dt.Right:t=e===Be.TopRight||e===Be.MiddleRight||e===Be.BottomRight||e===Be.None;break;case dt.Bottom:t=e===Be.BottomLeft||e===Be.BottomCenter||e===Be.BottomRight||e===Be.None;break;case dt.Fill:t=e===Be.MiddleCenter||e===Be.None;break}t&&(this.alignmentStyle=e)}},n.prototype.draw=function(e,t){var i=e.page,r=this.calculateBounds(i,t);e.graphics.drawPdfTemplate(this.template,new je(r.x,r.y),new ke(r.width,r.height))},n.prototype.calculateBounds=function(e,t){var i=this.bounds;return this.alignmentStyle!==Be.None?i=this.getAlignmentBounds(e,t):this.dockStyle!==dt.None&&(i=this.getDockBounds(e,t)),i},n.prototype.getAlignmentBounds=function(e,t){var i=this.bounds;return this.type===ze.None?i=this.getSimpleAlignmentBounds(e,t):i=this.getTemplateAlignmentBounds(e,t),i},n.prototype.getSimpleAlignmentBounds=function(e,t){var i=this.bounds,r=e.section,o=r.getActualBounds(t,e,!1),h=this.x,u=this.y;switch(this.alignmentStyle){case Be.TopLeft:h=0,u=0;break;case Be.TopCenter:h=(o.width-this.width)/2,u=0;break;case Be.TopRight:h=o.width-this.width,u=0;break;case Be.MiddleLeft:h=0,u=(o.height-this.height)/2;break;case Be.MiddleCenter:h=(o.width-this.width)/2,u=(o.height-this.height)/2;break;case Be.MiddleRight:h=o.width-this.width,u=(o.height-this.height)/2;break;case Be.BottomLeft:h=0,u=o.height-this.height;break;case Be.BottomCenter:h=(o.width-this.width)/2,u=o.height-this.height;break;case Be.BottomRight:h=o.width-this.width,u=o.height-this.height;break}return i.x=h,i.y=u,i},n.prototype.getTemplateAlignmentBounds=function(e,t){var i=this.bounds,r=e.section,o=r.getActualBounds(t,e,!1),h=this.x,u=this.y;switch(this.alignmentStyle){case Be.TopLeft:this.type===ze.Left?(h=this.convertSign(o.x),u=0):this.type===ze.Top&&(h=this.convertSign(o.x),u=this.convertSign(o.y));break;case Be.TopCenter:h=(o.width-this.width)/2,u=this.convertSign(o.y);break;case Be.TopRight:this.type===ze.Right?(h=o.width+r.getRightIndentWidth(t,e,!1)-this.width,u=0):this.type===ze.Top&&(h=o.width+r.getRightIndentWidth(t,e,!1)-this.width,u=this.convertSign(o.y));break;case Be.MiddleLeft:h=this.convertSign(o.x),u=(o.height-this.height)/2;break;case Be.MiddleCenter:h=(o.width-this.width)/2,u=(o.height-this.height)/2;break;case Be.MiddleRight:h=o.width+r.getRightIndentWidth(t,e,!1)-this.width,u=(o.height-this.height)/2;break;case Be.BottomLeft:this.type===ze.Left?(h=this.convertSign(o.x),u=o.height-this.height):this.type===ze.Bottom&&(h=this.convertSign(o.x),u=o.height+r.getBottomIndentHeight(t,e,!1)-this.height);break;case Be.BottomCenter:h=(o.width-this.width)/2,u=o.height+r.getBottomIndentHeight(t,e,!1)-this.height;break;case Be.BottomRight:this.type===ze.Right?(h=o.width+r.getRightIndentWidth(t,e,!1)-this.width,u=o.height-this.height):this.type===ze.Bottom&&(h=o.width+r.getRightIndentWidth(t,e,!1)-this.width,u=o.height+r.getBottomIndentHeight(t,e,!1)-this.height);break}return i.x=h,i.y=u,i},n.prototype.getDockBounds=function(e,t){var i=this.bounds;return this.type===ze.None?i=this.getSimpleDockBounds(e,t):i=this.getTemplateDockBounds(e,t),i},n.prototype.getSimpleDockBounds=function(e,t){var i=this.bounds,r=e.section,o=r.getActualBounds(t,e,!1),h=this.x,u=this.y,g=this.width,y=this.height;switch(this.dockStyle){case dt.Left:h=0,u=0,g=this.width,y=o.height;break;case dt.Top:h=0,u=0,g=o.width,y=this.height;break;case dt.Right:h=o.width-this.width,u=0,g=this.width,y=o.height;break;case dt.Bottom:h=0,u=o.height-this.height,g=o.width,y=this.height;break;case dt.Fill:h=0,h=0,g=o.width,y=o.height;break}return i=new tt(h,u,g,y),i},n.prototype.getTemplateDockBounds=function(e,t){var i=this.bounds,r=e.section,o=r.getActualBounds(t,e,!1),h=r.pageSettings.getActualSize(),u=this.x,g=this.y,y=this.width,x=this.height;switch(this.dockStyle){case dt.Left:u=this.convertSign(o.x),g=0,y=this.width,x=o.height;break;case dt.Top:u=this.convertSign(o.x),g=this.convertSign(o.y),y=h.width,x=this.height,o.height<0&&(g=h.height-o.y);break;case dt.Right:u=o.width+r.getRightIndentWidth(t,e,!1)-this.width,g=0,y=this.width,x=o.height;break;case dt.Bottom:u=this.convertSign(o.x),g=o.height+r.getBottomIndentHeight(t,e,!1)-this.height,y=h.width,x=this.height,o.height<0&&(g-=h.height);break;case dt.Fill:u=0,u=0,y=o.width,x=o.height;break}return i=new tt(u,g,y,x),i},n.prototype.convertSign=function(e){return e!==0||e===0&&1/e===-1/0?-e:e},n}(),Ka=function(){function n(e){this.control=e}return n.prototype.export=function(e,t,i,r,o,h,u,g,y,x){var S=this,T=this.getControlsValue(r,u,x&&e==="PDF",e),M=[],R=[],I=[],j=!(He.userAgent.toString().indexOf("HeadlessChrome")>-1);i=we(i)?er.Landscape:i;for(var W=function(K){R.push(o||T[K].width),I.push(h||T[K].height);var _=r[K].svgObject,Q=r[K].enableCanvas,ie=void 0;Q||(_=Sr("canvas",{id:"ej2-canvas",attrs:{width:R[K].toString(),height:I[K].toString()}}));var re='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+T[K].svg.outerHTML+"</svg>",fe=window.URL.createObjectURL(new Blob(e==="SVG"?[re]:[new XMLSerializer().serializeToString(T[K].svg)],{type:"image/svg+xml"}));if(e==="SVG")if(He.info.name==="msie"){var ne=new Blob([new XMLSerializer().serializeToString(T[K].svg)],{type:"application/octet-stream"});window.navigator.msSaveOrOpenBlob(ne,t+"."+e.toLocaleLowerCase())}else N.triggerDownload(t,e,fe,j);else if(He.info.name==="msie"){var ve=_;Q||(ve=N.createCanvas()),ie=ve.toDataURL(),M.push(_),e==="PDF"?M.length===T.length&&N.exportPdf(M,i,R,I,j,t,g,y):N.doexport(e,ie,t)}else{var ye=new Image,le=_.getContext("2d");ye.onload=function(){le.drawImage(ye,0,0),window.URL.revokeObjectURL(fe),M.push(_),e==="PDF"?M.length===T.length&&S.exportPdf(M,i,R,I,j,t,g,y):window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(_.toBlob(null),t+"."+e.toLocaleLowerCase()):S.triggerDownload(t,e,_.toDataURL("image/"+e.toLowerCase()),j)},ye.src=fe}Q||Et(document.getElementById(r[K].element.id+"_canvas"))},N=this,G=0;G<T.length;G++)W(G)},n.prototype.getDataUrl=function(e){var t=this.getControlsValue([e]),i=this.control.svgObject,r=this.control.enableCanvas;r||(i=Sr("canvas",{id:"ej2-canvas",attrs:{width:t[0].width.toString(),height:t[0].height.toString()}}));var o=window.URL.createObjectURL(new Blob([new XMLSerializer().serializeToString(t[0].svg)],{type:"image/svg+xml"}));if(He.info.name==="msie"){var h=i;r||(h=this.createCanvas());var u={name:ds,cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger(ds,u),{element:h,dataUrl:h.toDataURL()}}else{var g=new Image,y=i.getContext("2d");return g.onload=function(){y.drawImage(g,0,0),window.URL.revokeObjectURL(o);var x={name:ds,cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger(ds,x),x.dataUrl},g.src=o,{element:i,blobUrl:o}}},n.prototype.triggerDownload=function(e,t,i,r){Sr("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(r?"click":"move",{view:window,bubbles:!1,cancelable:!0}))},n.prototype.getControlsValue=function(e,t,i,r){for(var o=0,h=0,u=new pn("").createSvg({id:"Svg_Export_Element",width:200,height:200}),g=[],y,x=0;x<e.length;x++){var S=e[x],T=S.enableCanvas,M=S.svgObject.cloneNode(!0),R=S.renderer.createGroup({style:we(t)||t?"transform: translateY("+h+"px)":"transform: translateX("+o+"px)"});if(y=M.childNodes[0]?M.childNodes[0].getAttribute("fill"):"transparent",y==="transparent"&&(S.theme.indexOf("Dark")>-1||S.theme.indexOf("HighContrast")>-1?y="rgba(0, 0, 0, 1)":y="rgba(255, 255, 255, 1)"),!T){if(S.getModuleName()==="stockChart"){M.childNodes[0].firstChild.setAttribute("fill",y);for(var I=1;I<M.childNodes.length;I++)M.childNodes[I].childNodes[0].setAttribute("fill",y)}else r==="SVG"&&M.childNodes[0].setAttribute("fill",y);R.appendChild(M)}var j=0,W=0;S.stockLegendModule&&S.legendSettings.visible&&(S.legendSettings.position==="Bottom"||S.legendSettings.position==="Top"||S.legendSettings.position==="Auto"?j+=S.stockLegendModule.legendBounds.height:(S.legendSettings.position==="Left"||S.legendSettings.position==="Right")&&(W+=S.stockLegendModule.legendBounds.width)),o=we(t)||t?Math.max(S.availableSize.width+W,o):o+S.availableSize.width+W,h=we(t)||t?h+S.availableSize.height+j:Math.max(S.availableSize.height+j,h),T||u.appendChild(R),(i||x===e.length-1)&&((!i&&!this.control.enableCanvas||i&&!T)&&(u.setAttribute("width",o+""),u.setAttribute("height",h+""),u.setAttribute("style","background-color: "+y+";")),g.push({width:o,height:h,svg:u})),i&&x<e.length&&(o=0,h=0,u=new pn("").createSvg({id:"Svg_Export_Element",width:200,height:200}))}return g},n.prototype.createCanvas=function(){var e=this.control;this.canvasRender(!0,e);var t=e.svgObject;return this.canvasRender(!1,e),t},n.prototype.canvasRender=function(e,t){t.enableCanvas=e,t.preRender(),t.render()},n.prototype.exportPdf=function(e,t,i,r,o,h,u,g){for(var y=new _s,x=y.pageSettings.margins,S=y.pageSettings.width,T=y.pageSettings.height,M=0;e.length>M;M++){var R=e[M].toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");y.pageSettings.orientation=t;var I=S<i[M]?i[M]+x.left+x.right:S,j=t===0?i[M]+x.left+x.right:T<r[M]?r[M]+x.top+x.bottom:T;if(u!==void 0){var W=new An(1,u.fontSize||15),N=new Za(I,40);N.graphics.drawString(u.content+"",W,null,new Mr(new rr(0,0,0)),u.x,u.y,null),y.template.top=N}if(g!==void 0){var W=new An(1,g.fontSize||15),G=new Za(I,40);G.graphics.drawString(g.content+"",W,null,new Mr(new rr(0,0,0)),g.x,g.y,null),y.template.bottom=G}y.pageSettings.size=new ke(I,j),R=R.slice(R.indexOf(",")+1),y.pages.add().graphics.drawImage(new pl(R),0,0,i[M],r[M])}o&&(y.save(h+".pdf"),y.destroy())},n.prototype.doexport=function(e,t,i){var r=[],o=e||"JPG";r=[t],this.exportImage(r,i,o,t)},n.prototype.exportImage=function(e,t,i,r){for(var o=[],h=e instanceof HTMLElement?0:e.length,u=0;u<h;u++){r=e[u],r=r.replace(/^data:[a-z]*;,/,"");for(var g=r.split(","),y=atob(g[1]),x=new ArrayBuffer(y.length),S=new Uint8Array(x),T=0;T<y.length;T++)S[T]=y.charCodeAt(T);o.push(x)}for(var M=0;M<o.length;M++){var R=new Blob([o[M]],{type:"application/octet-stream"});He.info.name==="msie"&&window.navigator.msSaveOrOpenBlob(R,t+"."+i.toLocaleLowerCase())}},n}(),Di=function(){function n(){this.numFmtId=0,this.backColor="none",this.fontName="Calibri",this.fontSize=10.5,this.fontColor="#000000",this.italic=!1,this.bold=!1,this.underline=!1,this.strikeThrough=!1,this.wrapText=!1,this.hAlign="general",this.vAlign="bottom",this.indent=0,this.rotation=0,this.numberFormat="GENERAL",this.type="datetime",this.borders=new xl,this.isGlobalStyle=!1}return n}(),Ja=function(){function n(){this.sz=10.5,this.name="Calibri",this.u=!1,this.b=!1,this.i=!1,this.color="FF000000",this.strike=!1}return n}(),Od=function(){function n(){}return n}(),Id=function(){function n(){}return n}(),Rd=function(){function n(){}return n}(),Qa=function(){function n(){this.name="Normal",this.xfId=0}return n}(),eo=function(){function n(e,t){this.numFmtId=e,this.formatCode=t}return n}(),zr=function(){function n(e,t){this.lineStyle=e,this.color=t}return n}(),xl=function(){function n(){this.left=new zr("none","#FFFFFF"),this.right=new zr("none","#FFFFFF"),this.top=new zr("none","#FFFFFF"),this.bottom=new zr("none","#FFFFFF"),this.all=new zr("none","#FFFFFF")}return n}(),Bd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),to=function(){function n(){}return n}(),io=function(n){Bd(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.add=function(i){for(var r=!1,o=0,h=0,u=t;h<u.length;h++){var g=u[h];g.index===i.index&&(t[o]=i,r=!0),o++}r||t.push(i)},t}return e}(Array),Fd=function(){function n(){}return n}(),Dd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ro=function(){function n(){}return n}(),Nd=function(n){Dd(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.add=function(i){t.push(i)},t}return e}(Array),zd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_d=function(n){zd(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Array),Vd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Hd=function(){function n(){this.isSummaryRowBelow=!0,this.showGridLines=!0,this.enableRtl=!1}return n}(),so=function(){function n(){}return n}(),Wd=function(){function n(){}return n}(),jd=function(){function n(){}return n}(),wl=function(){function n(){}return n}(),Xd=function(n){Vd(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.add=function(i){for(var r=!1,o=0,h=0,u=t;h<u.length;h++){var g=u[h];if(e.isIntersecting(g,i)){var y=new wl;y.x=Math.min(g.x,i.x),y.y=Math.min(g.Y,i.y),y.width=Math.max(g.Width+g.X,i.width+i.x),y.height=Math.max(g.Height+g.Y,i.height+i.y),y.ref=t[o].ref.split(":")[0]+":"+i.ref.split(":")[1],t[o]=y,i=y,r=!0}o++}return r||t.push(i),i},t}return e.isIntersecting=function(t,i){return t.x<=i.x+i.width&&i.x<=t.x+t.width&&t.y<=i.y+i.height&&i.y<=t.y+t.height},e}(Array),Yd=function(){function n(){}return n}(),Gd=function(){function n(e){this.intl=new On}return n.prototype.getFormatFunction=function(e,t){return e.type?(t&&(e.isServerRendered=!0),this.intl.getDateFormat(e)):this.intl.getNumberFormat(e)},n.prototype.toView=function(e,t){var i=e;return!we(t)&&!we(e)&&(i=t(e)),i},n.prototype.displayText=function(e,t,i){return this.toView(e,this.getFormatFunction(t,i))},n}(),Ud=function(){function n(e,t){if(this.csvStr="",t==null?this.separator=",":this.separator=t,this.formatter=new Gd,this.isMicrosoftBrowser=!!navigator.msSaveBlob,e.isServerRendered!==null&&e.isServerRendered!==void 0&&(this.isServerRendered=e.isServerRendered),e.styles!==null&&e.styles!==void 0){this.globalStyles=new Map;for(var i=0;i<e.styles.length;i++)e.styles[i].name!==void 0&&e.styles[i].numberFormat!==void 0&&this.globalStyles.set(e.styles[i].name,e.styles[i].numberFormat)}e.worksheets!==null&&e.worksheets!==void 0&&this.parseWorksheet(e.worksheets[0])}return n.prototype.parseWorksheet=function(e){e.rows!==null&&e.rows!==void 0&&this.parseRows(e.rows)},n.prototype.parseRows=function(e){for(var t=1,i=0,r=e;i<r.length;i++){var o=r[i];if(o.index!==null&&o.index!==void 0){for(;t<o.index;)this.csvStr+=`\r
`,t++;this.parseRow(o)}else throw Error("Row index is missing.")}this.csvStr+=`\r
`},n.prototype.parseRow=function(e){if(e.cells!==null&&e.cells!==void 0)for(var t=1,i=0,r=e.cells;i<r.length;i++){var o=r[i];if(o.index!==null&&o.index!==void 0){for(;t<o.index;)this.csvStr+=this.separator,t++;this.parseCell(o)}else throw Error("Cell index is missing.")}},n.prototype.parseCell=function(e){var t=this.csvStr;if(e.value!==void 0)if(e.value instanceof Date)if(e.style!==void 0&&e.style.numberFormat!==void 0)try{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",skeleton:e.style.numberFormat},this.isServerRendered))}catch{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",format:e.style.numberFormat},this.isServerRendered))}else if(e.style!==void 0&&e.style.name!==void 0&&this.globalStyles.has(e.style.name))try{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",skeleton:this.globalStyles.get(e.style.name)},this.isServerRendered))}catch{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",format:this.globalStyles.get(e.style.name)},this.isServerRendered))}else t+=e.value;else typeof e.value=="boolean"?t+=e.value?"TRUE":"FALSE":typeof e.value=="number"?e.style!==void 0&&e.style.numberFormat!==void 0?t+=this.parseCellValue(this.formatter.displayText(e.value,{format:e.style.numberFormat,ignoreCurrency:!0},this.isServerRendered)):e.style!==void 0&&e.style.name!==void 0&&this.globalStyles.has(e.style.name)?t+=this.parseCellValue(this.formatter.displayText(e.value,{format:this.globalStyles.get(e.style.name),ignoreCurrency:!0},this.isServerRendered)):t+=e.value:t+=this.parseCellValue(e.value);this.csvStr=t},n.prototype.parseCellValue=function(e){for(var t="",i=e.length,r=0;r<i;r++)e[r]==='"'?t+=e[r].replace('"','""'):t+=e[r];return e=t,e.indexOf(this.separator)!==-1||e.indexOf(`
`)!==-1||e.indexOf('"')!==-1?e='"'+e+'"':e},n.prototype.save=function(e){if(this.buffer=new Blob(["\uFEFF"+this.csvStr],{type:"text/csv;charset=UTF-8"}),this.isMicrosoftBrowser)navigator.msSaveBlob(this.buffer,e);else{var t=window.URL.createObjectURL(this.buffer),i=document.createElementNS("http://www.w3.org/1999/xhtml","a");i.download=e,i.href=t;var r=document.createEvent("MouseEvent");r.initEvent("click",!0,!0),i.dispatchEvent(r),setTimeout(function(){window.URL.revokeObjectURL(t)})}},n.prototype.saveAsBlob=function(e){if(e!=null){var t=new Er,i="UTF-8";e.toUpperCase()=="ANSI"?(t.type="Ansi",i="ANSI"):e.toUpperCase()=="UNICODE"?(t.type="Unicode",i="UNICODE"):(t.type="Utf8",i="UTF-8");var r=t.getBytes(this.csvStr,0,this.csvStr.length);return new Blob([r],{type:"text/csv;charset="+i})}else return new Blob(["\uFEFF"+this.csvStr],{type:"text/csv;charset=UTF-8"})},n}(),no=function(){function n(){this.parts=[]}return n.prototype.append=function(e){this.parts.push(e),this.blob=void 0},n.prototype.getBlob=function(){return new Blob(this.parts,{type:"text/plain"})},n}(),qd=function(){function n(){}return n}(),$d=function(){function n(e,t,i,r,o){if(this.sharedStringCount=0,this.unitsProportions=[96/75,96/300,96,96/25.4,96/2.54,1,96/72,96/72/12700],this.hyperlinkStyle={fontColor:"#0000FF",underline:!0},i!==void 0?this.culture=i:this.culture="en-US",r!==void 0?this.currency=r:this.currency="USD",this.intl=new On(this.culture),this.mSaveType=t,t==="xlsx"){if(this.mArchive=new Ft,this.sharedString=[],this.mFonts=[],this.mBorders=[],this.mStyles=[],this.printTitles=new Map,this.cellStyles=new Map,this.mNumFmt=new Map,this.mFills=new Map,this.mStyles.push(new Di),this.mFonts.push(new Ja),this.cellStyles.set("Normal",new Qa),this.mCellXfs=[],this.mCellStyleXfs=[],this.drawingCount=0,this.imageCount=0,e.styles!==null&&e.styles!==void 0){this.globalStyles=new Map;for(var h=0;h<e.styles.length;h++)if(e.styles[h].name!==void 0){if(this.cellStyles.has(e.styles[h].name))throw Error("Style name "+e.styles[h].name+" is already existed");var u=new Di;u.isGlobalStyle=!0,this.parserCellStyle(e.styles[h],u,"none");var g=new Qa;g.name=u.name,g.xfId=u.index-1,this.cellStyles.set(g.name,g);var y={};e.styles[h].numberFormat!==void 0&&(y.format=e.styles[h].numberFormat),e.styles[h].type!==void 0?y.type=e.styles[h].type:y.type="datetime",y.format!==void 0&&this.globalStyles.set(e.styles[h].name,y)}}if(e.worksheets!==null&&e.worksheets!==void 0)this.parserWorksheets(e.worksheets);else throw Error("Worksheet is expected.");e.builtInProperties!==null&&e.builtInProperties!==void 0&&(this.builtInProperties=new Zd,this.parserBuiltInProperties(e.builtInProperties,this.builtInProperties))}else this.csvHelper=new Ud(e,o)}return n.prototype.parserBuiltInProperties=function(e,t){e.author!==null&&e.author!==void 0&&(t.author=e.author),e.comments!==null&&e.comments!==void 0&&(t.comments=e.comments),e.category!==null&&e.category!==void 0&&(t.category=e.category),e.company!==null&&e.company!==void 0&&(t.company=e.company),e.manager!==null&&e.manager!==void 0&&(t.manager=e.manager),e.subject!==null&&e.subject!==void 0&&(t.subject=e.subject),e.title!==null&&e.title!==void 0&&(t.title=e.title),e.createdDate!==null&&e.createdDate!==void 0&&(t.createdDate=e.createdDate),e.modifiedDate!==null&&e.modifiedDate!==void 0&&(t.modifiedDate=e.modifiedDate),e.tags!==null&&e.tags!==void 0&&(t.tags=e.tags),e.status!==null&&e.status!==void 0&&(t.status=e.status)},n.prototype.parserWorksheets=function(e){this.worksheets=new _d;for(var t=e.length,i=0;i<t;i++){var r=e[i],o=new Hd;this.mergeCells=new Xd,this.mergedCellsStyle=new Map,this.mHyperLinks=[],r.name!==null&&r.name!==void 0?o.name=r.name:o.name="Sheet"+(i+1).toString(),r.enableRtl!==null&&r.enableRtl!==void 0&&(o.enableRtl=r.enableRtl),o.index=i+1,r.columns!==null&&r.columns!==void 0&&this.parserColumns(r.columns,o),r.rows!==null&&r.rows!==void 0&&this.parserRows(r.rows,o),r.showGridLines!==null&&r.showGridLines!==void 0&&(o.showGridLines=r.showGridLines),r.freeze!==null&&r.freeze!==void 0&&this.parserFreezePanes(r.freeze,o),r.printTitle!==null&&r.printTitle!==void 0&&this.parserPrintTitle(r.printTitle,o),r.pageSetup!==void 0&&r.pageSetup.isSummaryRowBelow!==void 0&&(o.isSummaryRowBelow=r.pageSetup.isSummaryRowBelow),r.images!==void 0&&this.parserImages(r.images,o),r.autoFilters!==null&&r.autoFilters!==void 0&&this.parseFilters(r.autoFilters,o),o.index=i+1,o.mergeCells=this.mergeCells,o.hyperLinks=this.mHyperLinks,this.worksheets.push(o)}},n.prototype.mergeOptions=function(e,t){var i={};return this.applyProperties(e,i),this.applyProperties(t,i),i},n.prototype.applyProperties=function(e,t){for(var i=Object.keys(e),r=0;r<i.length;r++)i[r]!=="name"&&(t[i[r]]=e[i[r]])},n.prototype.getCellName=function(e,t){return this.getColumnName(t)+e.toString()},n.prototype.getColumnName=function(e){e--;var t="";do{var i=e%26;e=e/26-1,t=String.fromCharCode(65+i)+t}while(e>=0);return t},n.prototype.parserPrintTitle=function(e,t){var i="",r;if(e.fromRow!==null&&e.fromRow!==void 0){var o=e.fromRow,h=void 0;e.toRow!==null&&e.toRow!==void 0?h=e.toRow:h=e.fromRow,r="$"+o+":$"+h}var u;if(e.fromColumn!==null&&e.fromColumn!==void 0){var g=e.fromColumn,y=void 0;e.toColumn!==null&&e.toColumn!==void 0?y=e.toColumn:y=e.fromColumn,u="$"+this.getColumnName(g)+":$"+this.getColumnName(y)}r!==void 0&&(i+=t.name+"!"+r),u!==void 0&&r!==void 0?i+=","+(t.name+"!"+u):u!==void 0&&(i+=t.name+"!"+u),i!==""&&this.printTitles.set(t.index-1,i)},n.prototype.parserFreezePanes=function(e,t){t.freezePanes=new jd,e.row!==null&&e.row!==void 0?t.freezePanes.row=e.row:t.freezePanes.row=0,e.column!==null&&e.column!==void 0?t.freezePanes.column=e.column:t.freezePanes.column=0,t.freezePanes.leftCell=this.getCellName(t.freezePanes.row+1,t.freezePanes.column+1)},n.prototype.parserColumns=function(e,t){var i=e.length;t.columns=[];for(var r=0;r<i;r++){var o=new Fd;if(e[r].index!==null&&e[r].index!==void 0)o.index=e[r].index;else throw Error("Column index is missing.");e[r].width!==null&&e[r].width!==void 0&&(o.width=e[r].width),t.columns.push(o)}},n.prototype.parserRows=function(e,t){var i=e.length;t.rows=new Nd;for(var r=0,o=0;o<i;o++){var h=this.parserRow(e[o],r);r=h.index,t.rows.add(h)}this.insertMergedCellsStyle(t)},n.prototype.insertMergedCellsStyle=function(e){var t=this;this.mergeCells.length>0&&this.mergedCellsStyle.forEach(function(i,r){var o=e.rows.filter(function(S){return S.index===i.y})[0];if(we(o)){var y=e.rows.filter(function(T){return T.index<=i.y}),x=new ro;x.index=i.y,x.cells=new io,x.cells.add(t.createCell(i,r));var g=0;y.length>0&&(g=e.rows.indexOf(y[y.length-1])+1),e.rows.splice(g,0,x)}else{var h=o.cells.filter(function(S){return S.index===i.x})[0];if(!we(h))h.styleIndex=i.styleIndex;else{var u=o.cells.filter(function(S){return S.index<=i.x}),g=0;u.length>0&&(g=o.cells.indexOf(u[u.length-1])+1),o.cells.splice(g,0,t.createCell(i,r))}}})},n.prototype.createCell=function(e,t){var i=new to;return i.refName=t,i.index=e.x,i.cellStyle=new Di,i.styleIndex=e.styleIndex,i},n.prototype.parserRow=function(e,t){var i=new ro;if(e.height!==null&&e.height!==void 0&&(i.height=e.height),e.index!==null&&e.index!==void 0)i.index=e.index;else throw Error("Row index is missing.");return e.grouping!==null&&e.grouping!==void 0&&this.parseGrouping(e.grouping,i),this.parseCells(e.cells,i),i},n.prototype.parseGrouping=function(e,t){t.grouping=new Wd,e.outlineLevel!==void 0&&(t.grouping.outlineLevel=e.outlineLevel),e.isCollapsed!==void 0&&(t.grouping.isCollapsed=e.isCollapsed),e.isHidden!==void 0&&(t.grouping.isHidden=e.isHidden)},n.prototype.parseCells=function(e,t){t.cells=new io;for(var i=e!==void 0?e.length:0,r=1,o=1,h=0;h<i;h++){var u=e[h],g=new to;if(u.index!==null&&u.index!==void 0)g.index=u.index;else throw Error("Cell index is missing.");if(g.index<r?r=g.index:g.index>o&&(o=g.index),g.refName=this.getCellName(t.index,g.index),u.rowSpan!==null&&u.rowSpan!==void 0?g.rowSpan=u.rowSpan-1:g.rowSpan=0,u.colSpan!==null&&u.colSpan!==void 0?g.colSpan=u.colSpan-1:g.colSpan=0,u.hyperlink!==null&&u.hyperlink!==void 0){var y=new so;u.hyperlink.target!==void 0&&(y.target=u.hyperlink.target,u.hyperlink.displayText!==void 0?g.value=u.hyperlink.displayText:g.value=u.hyperlink.target,g.type=this.getCellValueType(g.value),y.ref=g.refName,y.rId=this.mHyperLinks.length+1,this.mHyperLinks.push(y),g.cellStyle=new Di,this.parserCellStyle(u.style!==void 0?this.mergeOptions(u.style,this.hyperlinkStyle):this.hyperlinkStyle,g.cellStyle,"string"),g.styleIndex=g.cellStyle.index)}u.formula!==null&&u.formula!==void 0&&(g.formula=u.formula,g.type="formula"),u.value!==null&&u.value!==void 0&&(g.formula!==void 0?g.value=0:(g.value=u.value,g.type=this.getCellValueType(g.value))),u.style!==null&&u.style!==void 0&&g.styleIndex===void 0?(g.cellStyle=new Di,g.value instanceof Date?this.parserCellStyle(u.style,g.cellStyle,g.type,14):this.parserCellStyle(u.style,g.cellStyle,g.type),g.styleIndex=g.cellStyle.index):g.value instanceof Date&&(g.cellStyle=new Di,this.parserCellStyle({},g.cellStyle,g.type,14),g.styleIndex=g.cellStyle.index),this.parseCellType(g),this.mergeCells=this.processMergeCells(g,t.index,this.mergeCells),t.cells.add(g),g.index+1}t.spans=r+":"+o},n.prototype.GetColors=function(){var e;return e=new Map,e.set("WHITE","FFFFFFFF"),e.set("SILVER","FFC0C0C0"),e.set("GRAY","FF808080"),e.set("BLACK","FF000000"),e.set("RED","FFFF0000"),e.set("MAROON","FF800000"),e.set("YELLOW","FFFFFF00"),e.set("OLIVE","FF808000"),e.set("LIME","FF00FF00"),e.set("GREEN","FF008000"),e.set("AQUA","FF00FFFF"),e.set("TEAL","FF008080"),e.set("BLUE","FF0000FF"),e.set("NAVY","FF000080"),e.set("FUCHSIA","FFFF00FF"),e.set("PURPLE","FF800080"),e},n.prototype.processColor=function(e){return e.indexOf("#")===0?e.replace("#","FF"):(e=e.toUpperCase(),this.rgbColors=this.GetColors(),this.rgbColors.has(e)?e=this.rgbColors.get(e):e="FF000000",e)},n.prototype.processCellValue=function(e,t){var i=e;if(e.indexOf("<font")!==-1||e.indexOf("<a")!==-1||e.indexOf("<b>")!==-1||e.indexOf("<i>")!==-1||e.indexOf("<u>")!==-1){var r="",o=e.indexOf("<",0),h=e.indexOf(">",o+1);if(o>=0&&h>=0){for(o!==0&&(r+='<r><t xml:space="preserve">'+this.processString(e.substring(0,o))+"</t></r>");o>=0&&h>=0;)if(h=e.indexOf(">",o+1),h>=0){var u=e.substring(o+1,h);o=e.indexOf("<",h+1),o<0&&(o=i.length);var g=i.substring(h+1,o);if(g.length!==0){var y=u.split(" ");if(y.length>0&&(r+="<r><rPr>"),y.length>1)for(var x=0,S=y;x<S.length;x++){var T=S[x],M=T.trim().substring(0,5);switch(M){case"size=":r+='<sz val="'+T.substring(6,T.length-1)+'"/>';break;case"face=":r+='<rFont val="'+T.substring(6,T.length-1)+'"/>';break;case"color":r+='<color rgb="'+this.processColor(T.substring(7,T.length-1))+'"/>';break;case"href=":var R=new so;R.target=T.substring(6,T.length-1).trim(),R.ref=t.refName,R.rId=this.mHyperLinks.length+1,this.mHyperLinks.push(R),r+='<color rgb="FF0000FF"/><u/><b/>';break}}else if(y.length===1){var I=y[0].trim();switch(I){case"b":r+="<b/>";break;case"i":r+="<i/>";break;case"u":r+="<u/>";break}}r+='</rPr><t xml:space="preserve">'+this.processString(g)+"</t></r>"}}return r===""?i:r}else return i}else return i},n.prototype.applyGlobalStyle=function(e,t){this.cellStyles.has(e.name)&&(t.index=this.mStyles.filter(function(i){return i.name===e.name})[0].index,t.name=e.name)},n.prototype.parserCellStyle=function(e,t,i,r){if(e.name!==null&&e.name!==void 0)if(t.isGlobalStyle)t.name=e.name;else{this.applyGlobalStyle(e,t);return}e.backColor!==null&&e.backColor!==void 0&&(t.backColor=e.backColor),t.borders=new xl,e.borders!==null&&e.borders!==void 0&&this.parserBorder(e.borders,t.borders.all),e.leftBorder!==null&&e.leftBorder!==void 0&&this.parserBorder(e.leftBorder,t.borders.left),e.rightBorder!==null&&e.rightBorder!==void 0&&this.parserBorder(e.rightBorder,t.borders.right),e.topBorder!==null&&e.topBorder!==void 0&&this.parserBorder(e.topBorder,t.borders.top),e.bottomBorder!==null&&e.bottomBorder!==void 0&&this.parserBorder(e.bottomBorder,t.borders.bottom),e.fontName!==null&&e.fontName!==void 0&&(t.fontName=e.fontName),e.fontSize!==null&&e.fontSize!==void 0&&(t.fontSize=e.fontSize),e.fontColor!==null&&e.fontColor!==void 0&&(t.fontColor=e.fontColor),e.italic!==null&&e.italic!==void 0&&(t.italic=e.italic),e.bold!==null&&e.bold!==void 0&&(t.bold=e.bold),e.hAlign!==null&&e.hAlign!==void 0&&(t.hAlign=e.hAlign.toLowerCase()),e.indent!==null&&e.indent!==void 0&&(t.indent=e.indent,t.hAlign==="left"||t.hAlign==="right"||(t.hAlign="left")),e.rotation!==null&&e.rotation!==void 0&&(t.rotation=e.rotation),e.vAlign!==null&&e.vAlign!==void 0&&(t.vAlign=e.vAlign.toLowerCase()),e.underline!==null&&e.underline!==void 0&&(t.underline=e.underline),e.strikeThrough!==null&&e.strikeThrough!==void 0&&(t.strikeThrough=e.strikeThrough),e.wrapText!==null&&e.wrapText!==void 0&&(t.wrapText=e.wrapText),e.numberFormat!==null&&e.numberFormat!==void 0?e.type!==null&&e.type!==void 0?t.numberFormat=this.getNumberFormat(e.numberFormat,e.type):t.numberFormat=this.getNumberFormat(e.numberFormat,i):(r!==void 0&&(t.numFmtId=14),t.numberFormat="GENERAL"),t.index=this.processCellStyle(t)},n.prototype.switchNumberFormat=function(e,t){var i=this.getNumberFormat(e,t);if(i!==e){var r=this.mNumFmt.get(e);if(r!==void 0&&(r.formatCode=i,this.mNumFmt.has(i))){for(var o=0,h=this.mCellStyleXfs;o<h.length;o++){var u=h[o];u.numFmtId===r.numFmtId&&(u.numFmtId=this.mNumFmt.get(i).numFmtId)}for(var g=0,y=this.mCellXfs;g<y.length;g++){var x=y[g];x.numFmtId===r.numFmtId&&(x.numFmtId=this.mNumFmt.get(i).numFmtId)}}}},n.prototype.changeNumberFormats=function(e){if(typeof e=="string"){var t=new RegExp(this.currency,"g");e=e.replace(t,"[$"+this.currency+"]")}else if(typeof e=="object")for(var i=0;i<e.length;i++)e[i]=e[i].replace(this.currency,"[$"+this.currency+"]");return e},n.prototype.getNumberFormat=function(e,t){var i;switch(t){case"number":try{i=this.intl.getNumberPattern({format:e,currency:this.currency,useGrouping:!0},!0),this.currency.length>1&&(i=this.changeNumberFormats(i))}catch{i=e}break;case"datetime":try{i=this.intl.getDatePattern({skeleton:e,type:"dateTime"},!0)}catch{try{i=this.intl.getDatePattern({format:e,type:"dateTime"},!0)}catch{i=e}}break;case"date":try{i=this.intl.getDatePattern({skeleton:e,type:"date"},!0)}catch{try{i=this.intl.getDatePattern({format:e,type:"date"},!0)}catch{i=e}}break;case"time":try{i=this.intl.getDatePattern({skeleton:e,type:"time"},!0)}catch{try{i=this.intl.getDatePattern({format:e,type:"time"},!0)}catch{i=e}}break;default:i=e;break}return i},n.prototype.parserBorder=function(e,t){e.color!==null&&e.color!==void 0?t.color=e.color:t.color="#000000",e.lineStyle!==null&&e.lineStyle!==void 0?t.lineStyle=e.lineStyle:t.lineStyle="thin"},n.prototype.processCellStyle=function(e){if(e.isGlobalStyle)return this.processNumFormatId(e),this.mStyles.push(e),this.mStyles.length;var t=this.compareStyle(e);return t.result?t.index:(this.processNumFormatId(e),this.mStyles.push(e),this.mStyles.length)},n.prototype.processNumFormatId=function(e){if(e.numberFormat!=="GENERAL"&&!this.mNumFmt.has(e.numberFormat)){var t=this.mNumFmt.size+164;this.mNumFmt.set(e.numberFormat,new eo(t,e.numberFormat))}},n.prototype.isNewFont=function(e){for(var t=!1,i=0,r=0,o=this.mFonts;r<o.length;r++){var h=o[r];i++;var u=void 0;if(e.fontColor!==void 0&&(u="FF"+e.fontColor.replace("#","")),t=h.color===u&&h.b===e.bold&&h.i===e.italic&&h.u===e.underline&&h.strike===e.strikeThrough&&h.name===e.fontName&&h.sz===e.fontSize,t)break}return i=i-1,{index:i,result:t}},n.prototype.isNewBorder=function(e){var t=new Di;return this.isAllBorder(e.borders)?t.borders.all.color===e.borders.all.color&&t.borders.all.lineStyle===e.borders.all.lineStyle:t.borders.left.color===e.borders.left.color&&t.borders.left.lineStyle===e.borders.left.lineStyle&&t.borders.right.color===e.borders.right.color&&t.borders.right.lineStyle===e.borders.right.lineStyle&&t.borders.top.color===e.borders.top.color&&t.borders.top.lineStyle===e.borders.top.lineStyle&&t.borders.bottom.color===e.borders.bottom.color&&t.borders.bottom.lineStyle===e.borders.bottom.lineStyle},n.prototype.isAllBorder=function(e){var t=new Di;return t.borders.all.color!==e.all.color&&t.borders.all.lineStyle!==e.all.lineStyle},n.prototype.compareStyle=function(e){for(var t=!0,i=0,r=0,o=this.mStyles;r<o.length;r++){var h=o[r];if(t=h.isGlobalStyle?!1:h.backColor===e.backColor&&h.bold===e.bold&&h.numFmtId===e.numFmtId&&h.numberFormat===e.numberFormat&&h.type===e.type&&h.fontColor===e.fontColor&&h.fontName===e.fontName&&h.fontSize===e.fontSize&&h.hAlign===e.hAlign&&h.italic===e.italic&&h.underline===e.underline&&h.strikeThrough===e.strikeThrough&&h.vAlign===e.vAlign&&h.indent===e.indent&&h.rotation===e.rotation&&h.wrapText===e.wrapText&&h.borders.all.color===e.borders.all.color&&h.borders.all.lineStyle===e.borders.all.lineStyle&&h.borders.left.color===e.borders.left.color&&h.borders.left.lineStyle===e.borders.left.lineStyle&&h.borders.right.color===e.borders.right.color&&h.borders.right.lineStyle===e.borders.right.lineStyle&&h.borders.top.color===e.borders.top.color&&h.borders.top.lineStyle===e.borders.top.lineStyle&&h.borders.bottom.color===e.borders.bottom.color&&h.borders.bottom.lineStyle===e.borders.bottom.lineStyle,t){i=h.index;break}}return{index:i,result:t}},n.prototype.contains=function(e,t){var i=e.indexOf(t);return i>-1&&i<e.length},n.prototype.getCellValueType=function(e){return e instanceof Date?"datetime":typeof e=="boolean"?"boolean":typeof e=="number"?"number":"string"},n.prototype.parseCellType=function(e){var t=e.type,i,r=e.value;switch(t){case"datetime":if(r=this.toOADate(r),e.cellStyle!==void 0&&e.cellStyle.name!==void 0&&this.globalStyles.has(e.cellStyle.name)){var o=this.globalStyles.get(e.cellStyle.name);this.switchNumberFormat(o.format,o.type)}i="n";break;case"boolean":r=r?1:0,i="b";break;case"number":i="n",e.cellStyle!==void 0&&e.cellStyle.name!==void 0&&this.globalStyles.has(e.cellStyle.name)&&this.switchNumberFormat(this.globalStyles.get(e.cellStyle.name).format,"number");break;case"string":this.sharedStringCount++,i="s";var h=this.processCellValue(r,e);this.contains(this.sharedString,h)||this.sharedString.push(h),r=this.sharedString.indexOf(h);break}e.saveType=i,e.value=r},n.prototype.parserImages=function(e,t){var i=e.length;t.images=[];for(var r=0;r<i;r++){var o=this.parserImage(e[r]);t.images.push(o)}},n.prototype.parseFilters=function(e,t){if(t.autoFilters=new qd,e.row!==null&&e.row!==void 0)t.autoFilters.row=e.row;else throw new Error("Argument Null Exception: row null or empty");if(e.lastRow!==null&&e.lastRow!==void 0)t.autoFilters.lastRow=e.lastRow;else throw new Error("Argument Null Exception: lastRow cannot be null or empty");if(e.column!==null&&e.column!==void 0)t.autoFilters.column=e.column;else throw new Error("Argument Null Exception: column cannot be null or empty");if(e.lastColumn!==null&&e.row!==void 0)t.autoFilters.lastColumn=e.lastColumn;else throw new Error("Argument Null Exception: lastColumn cannot be null or empty")},n.prototype.parserImage=function(e){var t=new Yd;return e.image!==null&&e.image!==void 0&&(t.image=e.image),e.row!==null&&e.row!==void 0&&(t.row=e.row),e.column!==null&&e.column!==void 0&&(t.column=e.column),e.lastRow!==null&&e.lastRow!==void 0&&(t.lastRow=e.lastRow),e.lastColumn!==null&&e.lastColumn!==void 0&&(t.lastColumn=e.lastColumn),e.width!==null&&e.width!==void 0&&(t.width=e.width),e.height!==null&&e.height!==void 0&&(t.height=e.height),e.horizontalFlip!==null&&e.horizontalFlip!==void 0&&(t.horizontalFlip=e.horizontalFlip),e.verticalFlip!==null&&e.verticalFlip!==void 0&&(t.verticalFlip=e.verticalFlip),e.rotation!==null&&e.rotation!==void 0&&(t.rotation=e.rotation),t},n.prototype.saveAsBlob=function(e,t){var i=this;switch(e){case"text/csv":return new Promise(function(r,o){var h={};h.blobData=i.csvHelper.saveAsBlob(t),r(h)});default:return new Promise(function(r,o){i.saveInternal(),i.mArchive.saveAsBlob().then(function(h){var u={};u.blobData=new Blob([h],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r(u)})})}},n.prototype.save=function(e,t){var i=this;if(e==null||e==="")throw new Error("Argument Null Exception: fileName cannot be null or empty");var r=e.match(".xlsx$"),o=e.match(".csv$");if(r!==null&&r[0]==="."+this.mSaveType)this.saveInternal(),this.mArchive.save(e).then(function(){i.mArchive.destroy()});else if(o!==null&&o[0]==="."+this.mSaveType)this.csvHelper.save(e);else throw Error("Save type and file extension is different.")},n.prototype.saveInternal=function(){this.saveWorkbook(),this.saveWorksheets(),this.saveSharedString(),this.saveStyles(),this.saveApp(this.builtInProperties),this.saveCore(this.builtInProperties),this.saveContentType(),this.saveTopLevelRelation(),this.saveWorkbookRelation()},n.prototype.saveWorkbook=function(){for(var e='<?xml version="1.0" encoding="utf-8"?><workbook xmlns:r = "http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns= "http://schemas.openxmlformats.org/spreadsheetml/2006/main"><workbookPr codeName="ThisWorkbook" defaultThemeVersion= "153222"/><bookViews><workbookView activeTab="0"/></bookViews>',t="<sheets>",i=this.worksheets.length,r=0;r<i;r++){var o=this.worksheets[r].name;o=o.replace("&","&amp;"),o=o.replace("<","&lt;"),o=o.replace(">","&gt;"),o=o.replace('"',"&quot;"),t+='<sheet name="'+o+'" sheetId="'+(r+1).toString()+'" r:id ="rId'+(r+1).toString()+'" />'}if(t+="</sheets>",e+=t,this.printTitles.size>0){var h="<definedNames>";this.printTitles.forEach(function(u,g){h+='<definedName name="_xlnm.Print_Titles" localSheetId="'+g+'">'+u+"</definedName>"}),h+="</definedNames>",e+=h}this.addToArchive(e+"</workbook>","xl/workbook.xml")},n.prototype.saveWorksheets=function(){for(var e=this.worksheets.length,t=0;t<e;t++)this.saveWorksheet(this.worksheets[t],t)},n.prototype.saveWorksheet=function(e,t){var i=new no,r='<?xml version="1.0" encoding="utf-8" standalone="yes"?><worksheet xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';if(e.isSummaryRowBelow?r+="<sheetPr />":r+='<sheetPr><outlinePr summaryBelow="0" ></outlinePr></sheetPr>',r+=this.saveSheetView(e),e.columns!==void 0){for(var o="<cols>",h=0,u=e.columns;h<u.length;h++){var g=u[h];g.width!==void 0?o+='<col min="'+g.index+'" max="'+g.index+'" width="'+this.pixelsToColumnWidth(g.width)+'" customWidth="1" />':o+='<col min="'+g.index+'" max="'+g.index+'" width="8.43" customWidth="1" />'}r+=o+"</cols>"}if(r+="<sheetData>",i.append(r),r="",e.rows!==void 0)for(var y=0,x=e.rows;y<x.length;y++){var S=x[y],T='<row r="'+S.index+'" ';we(S.spans)||(T+='spans="'+S.spans+'" '),S.height!==void 0&&(T+='ht="'+this.pixelsToRowHeight(S.height)+'" customHeight="1" '),S.grouping!==void 0&&(S.grouping.isHidden&&(T+='hidden="1" '),S.grouping.outlineLevel!==void 0&&(T+='outlineLevel="'+S.grouping.outlineLevel+'" '),S.grouping.isCollapsed&&(T+='collapsed="1" ')),T+=">";for(var M=0,R=S.cells;M<R.length;M++){var I=R[M];I!==void 0&&(I.value!==void 0||I.cellStyle!==void 0)&&(T+='<c r="'+I.refName+'" ',I.saveType!==void 0&&(T+='t="'+I.saveType+'" '),I.styleIndex!==void 0&&(T+='s="'+I.styleIndex+'" '),T+=" >",I.formula!==void 0&&(T+="<f>"+I.formula+"</f>"),I.value!==void 0?T+="<v>"+I.value+"</v></c>":T+="</c>")}T+="</row>",i.append(T)}if(r+="</sheetData>",e.autoFilters!==null&&e.autoFilters!==void 0&&(r+='<autoFilter ref="'+this.getCellName(e.autoFilters.row,e.autoFilters.column)+":"+this.getCellName(e.autoFilters.lastRow,e.autoFilters.lastColumn)+'"/>'),e.mergeCells.length>0){r+='<mergeCells count="'+e.mergeCells.length+'">';for(var j=0,W=e.mergeCells;j<W.length;j++){var N=W[j];r+='<mergeCell ref="'+N.ref+'" />'}r+="</mergeCells>"}if(e.hyperLinks.length>0){r+="<hyperlinks>";for(var G=0,K=e.hyperLinks;G<K.length;G++){var _=K[G];r+='<hyperlink ref="'+_.ref+'" r:id="rId'+_.rId+'" />'}r+="</hyperlinks>"}r+='<pageMargins left="0.75" right="0.75" top="1" bottom="1" header="0.5" footer="0.5" /><headerFooter scaleWithDoc="1" alignWithMargins="0" differentFirst="0" differentOddEven="0" />',e.images!=null&&e.images.length>0&&(this.drawingCount++,this.saveDrawings(e,e.index),r+='<drawing r:id="rId'+(e.hyperLinks.length+1)+'"/>'),this.addToArchive(this.saveSheetRelations(e),"xl/worksheets/_rels/sheet"+e.index+".xml.rels"),i.append(r+"</worksheet>"),this.addToArchive(i.getBlob(),"xl/worksheets/sheet"+(t+1)+".xml")},n.prototype.saveDrawings=function(e,t){var i=new no,r='<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">';if(e.images!==void 0){for(var o=0,h=0,u=e.images;h<u.length;h++){var g=u[h];g.height!==void 0&&g.width!==void 0?(this.updatelastRowOffset(e,g),this.updatelastColumnOffSet(e,g),g.lastRow-=1,g.lastColumn-=1):g.lastRow!==void 0&&g.lastColumn!==void 0&&(g.lastRowOffset=0,g.lastColOffset=0),o++,r+='<xdr:twoCellAnchor editAs="oneCell">',r+="<xdr:from><xdr:col>",r+=g.column-1,r+="</xdr:col><xdr:colOff>",r+=0,r+="</xdr:colOff><xdr:row>",r+=g.row-1,r+="</xdr:row><xdr:rowOff>",r+=0,r+="</xdr:rowOff></xdr:from>",r+="<xdr:to><xdr:col>",r+=g.lastColumn,r+="</xdr:col><xdr:colOff>",r+=g.lastColOffset,r+="</xdr:colOff><xdr:row>",r+=g.lastRow,r+="</xdr:row><xdr:rowOff>",r+=g.lastRowOffset,r+="</xdr:rowOff></xdr:to>",r+="<xdr:pic>",r+="<xdr:nvPicPr>",r+='<xdr:cNvPr id="'+o+'" name="Picture '+o+'"> </xdr:cNvPr>',r+='<xdr:cNvPicPr><a:picLocks noChangeAspect="1"/></xdr:cNvPicPr> </xdr:nvPicPr>',r+="<xdr:blipFill>",r+='<a:blip xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" r:embed="rId'+o+'" cstate="print">',r+="</a:blip><a:stretch><a:fillRect /></a:stretch></xdr:blipFill>",r+="<xdr:spPr>",r+="<a:xfrm",g.rotation!=null&&g.rotation<=3600&&g.rotation>=-3600&&(r+=' rot="'+g.rotation*6e4+'"'),g.verticalFlip!=null&&g.verticalFlip!=!1&&(r+=' flipV="1"'),g.horizontalFlip!=null&&g.horizontalFlip!=!1&&(r+=' flipH="1"'),r+="/>",r+='<a:prstGeom prst="rect"><a:avLst /></a:prstGeom></xdr:spPr>',r+="</xdr:pic><xdr:clientData /></xdr:twoCellAnchor>";var y=this.convertBase64toImage(g.image);this.imageCount+=1,this.addToArchive(y,"xl/media/image"+this.imageCount+".png")}i.append(r),i.append("</xdr:wsDr>"),this.saveDrawingRelations(e),this.addToArchive(i.getBlob(),"xl/drawings/drawing"+this.drawingCount+".xml")}},n.prototype.updatelastRowOffset=function(e,t){for(var i=t.height,r=t.row,o=0;i>=0;){var h=0;e.rows!==void 0&&e.rows[r-1]!==void 0?h=this.convertToPixels(e.rows[r-1].height===void 0?15:e.rows[r-1].height):h=this.convertToPixels(15);var u=h-o*h/256;if(u>i){t.lastRow=r,t.lastRowOffset=o+i*256/h;var g=0;e.rows!==void 0&&e.rows[r-1]!==void 0?g=this.convertToPixels(e.rows[r-1].height===void 0?15:e.rows[r-1].height):g=this.convertToPixels(15),t.lastRowOffset=g*t.lastRowOffset/256,t.lastRowOffset=Math.round(t.lastRowOffset/this.unitsProportions[7]);break}else i-=u,r++,o=0}},n.prototype.updatelastColumnOffSet=function(e,t){for(var i=t.width,r=t.column,o=0;i>=0;){var h=0;e.columns!==void 0&&e.columns[r-1]!==void 0?h=this.ColumnWidthToPixels(e.columns[r-1].width===void 0?8.43:e.columns[r-1].width):h=this.ColumnWidthToPixels(8.43);var u=h-o*h/1024;if(u>i){t.lastColumn=r,t.lastColOffset=o+i*1024/h;var g=0;e.columns!==void 0&&e.columns[r-1]!==void 0?g=this.ColumnWidthToPixels(e.columns[r-1].width===void 0?8.43:e.columns[r-1].width):g=this.ColumnWidthToPixels(8.43),t.lastColOffset=g*t.lastColOffset/1024,t.lastColOffset=Math.round(t.lastColOffset/this.unitsProportions[7]);break}else i-=u,r++,o=0}},n.prototype.convertToPixels=function(e){return e*this.unitsProportions[6]},n.prototype.convertBase64toImage=function(e){for(var t=window.atob(e),i=new ArrayBuffer(t.length),r=new Uint8Array(i),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);var h=new Blob([r],{type:"image/png"});return h},n.prototype.saveDrawingRelations=function(e){for(var t='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',i=e.images.length,r=this.imageCount-e.images.length,o=1;o<=i;o++)r++,t+='<Relationship Id="rId'+o+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="../media/image'+r+'.png" />';this.addToArchive(t+"</Relationships>","xl/drawings/_rels/drawing"+this.drawingCount+".xml.rels")},n.prototype.pixelsToColumnWidth=function(e){var t=7,i=e>t+5?this.trunc((e-5)/t*100+.5)/100:e/(t+5);return i>1?(i*t+5)/t*256/256:i*(t+5)/t*256/256},n.prototype.ColumnWidthToPixels=function(e){var t=7,i=e>1?(e*t+5)/t*256/256:e*(t+5)/t*256/256;return this.trunc((256*i+this.trunc(128/t))/256*t)},n.prototype.trunc=function(e){var t=e-e%1;return t===0&&(e<0||e===0&&1/e!==1/0)?-0:t},n.prototype.pixelsToRowHeight=function(e){return e*this.unitsProportions[5]/this.unitsProportions[6]},n.prototype.saveSheetRelations=function(e){for(var t='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',i=0,r=e.hyperLinks;i<r.length;i++){var o=r[i];t+='<Relationship Id="rId'+o.rId+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="'+this.processString(o.target)+'" TargetMode="External" />'}return e.images!=null&&e.images.length>0&&(t+='<Relationship Id="rId'+(e.hyperLinks.length+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing'+this.drawingCount+'.xml" />'),t+="</Relationships>",t},n.prototype.saveSheetView=function(e){var t='<sheetViews><sheetView workbookViewId="0" ';return e.enableRtl===!0&&(t+='rightToLeft="1"'),e.showGridLines===!1?t+='showGridLines="0" >':t+=">",e.freezePanes!==void 0&&(t+='<pane state="frozen" topLeftCell="'+e.freezePanes.leftCell+'" ',e.freezePanes.row!==0&&(t+='ySplit="'+e.freezePanes.row+'" '),e.freezePanes.column!==0&&(t+='xSplit="'+e.freezePanes.column+'" '),t+="/>"),t+="</sheetView></sheetViews > ",t},n.prototype.saveSharedString=function(){var e=this.sharedString.length;if(e>0){for(var t='<?xml version="1.0" encoding="utf-8"?><sst uniqueCount="'+e+'" count="'+this.sharedStringCount+'" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">',i="",r=0;r<e;r++)this.sharedString[r].indexOf("<r>")!==0?(i+="<si><t>",i+=this.processString(this.sharedString[r]),i+="</t></si>"):(i+="<si>",i+=this.sharedString[r],i+="</si>");i+="</sst>",this.addToArchive(t+i,"xl/sharedStrings.xml")}},n.prototype.processString=function(e){if(typeof e=="string")e.indexOf("&")!==-1&&(e=e.replace(/&/g,"&amp;")),e.indexOf("<")!==-1&&(e=e.replace(/</g,"&lt;")),e.indexOf(">")!==-1&&(e=e.replace(/>/g,"&gt;")),e.indexOf("\v")!==-1&&(e=e.replace(/\v/g,"_x000B_"));else if(typeof e=="object")for(var t=0;t<e.length;t++)e[t].indexOf("&")!==-1&&(e[t]=e[t].replace(/&/g,"&amp;")),e[t].indexOf("<")!==-1&&(e[t]=e[t].replace(/</g,"&lt;")),e[t].indexOf(">")!==-1&&(e[t]=e[t].replace(/>/g,"&gt;")),e[t].indexOf("\v")!==-1&&(e[t]=e[t].replace(/\v/g,"_x000B_"));return e},n.prototype.saveStyles=function(){this.updateCellXfsStyleXfs();var e='<?xml version="1.0" encoding="utf-8"?><styleSheet xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';e+=this.saveNumberFormats(),e+=this.saveFonts(),e+=this.saveFills(),e+=this.saveBorders(),e+=this.saveCellStyleXfs(),e+=this.saveCellXfs(),e+=this.saveCellStyles(),this.addToArchive(e+"</styleSheet>","xl/styles.xml")},n.prototype.updateCellXfsStyleXfs=function(){for(var e=0,t=this.mStyles;e<t.length;e++){var i=t[e],r=void 0;i.isGlobalStyle?(r=new Rd,r.xfId=i.index-1):(r=new Od,r.xfId=0);var o=this.isNewFont(i);if(o.result)r.fontId=o.index;else{var h=new Ja;h.b=i.bold,h.i=i.italic,h.name=i.fontName,h.sz=i.fontSize,h.u=i.underline,h.strike=i.strikeThrough,h.color="FF"+i.fontColor.replace("#",""),this.mFonts.push(h),r.fontId=this.mFonts.length-1}if(i.backColor!=="none"){var u="FF"+i.backColor.replace("#","");if(this.mFills.has(u)){var g=this.mFills.get(u);r.fillId=g}else{var g=this.mFills.size+2;this.mFills.set(u,g),r.fillId=g}}else r.fillId=0;if(this.isNewBorder(i)?r.borderId=0:(this.mBorders.push(i.borders),r.borderId=this.mBorders.length),i.numberFormat!=="GENERAL")if(this.mNumFmt.has(i.numberFormat)){var y=this.mNumFmt.get(i.numberFormat);r.numFmtId=y.numFmtId}else{var x=this.mNumFmt.size+164;this.mNumFmt.set(i.numberFormat,new eo(x,i.numberFormat)),r.numFmtId=x}else i.numberFormat==="GENERAL"&&i.numFmtId===14?r.numFmtId=14:r.numFmtId=0;i.isGlobalStyle||(r.applyAlignment=1),r.alignment=new Id,r.alignment.indent=i.indent,r.alignment.horizontal=i.hAlign,r.alignment.vertical=i.vAlign,r.alignment.wrapText=i.wrapText?1:0,r.alignment.rotation=i.rotation,i.isGlobalStyle?(this.mCellStyleXfs.push(r),this.mCellXfs.push(r)):this.mCellXfs.push(r)}},n.prototype.saveNumberFormats=function(){if(this.mNumFmt.size>=1){var e='<numFmts count="'+this.mNumFmt.size+'">';return this.mNumFmt.forEach(function(t,i){e+='<numFmt numFmtId="'+t.numFmtId+'" formatCode="'+t.formatCode.replace(/"/g,"&quot;")+'" />'}),e+="</numFmts>"}else return""},n.prototype.saveFonts=function(){var e='<fonts count="'+this.mFonts.length+'">';if(this.mFonts.length>=1)for(var t=0,i=this.mFonts;t<i.length;t++){var r=i[t];e+="<font>",r.b&&(e+="<b />"),r.i&&(e+="<i />"),r.u&&(e+="<u />"),r.strike&&(e+="<strike />"),e+='<sz val="'+r.sz+'" />',e+='<color rgb="'+r.color+'" />',e+='<name val="'+r.name+'" /></font>'}return e+"</fonts>"},n.prototype.saveFills=function(){var e='<fills count="'+(this.mFills.size+2)+'"><fill><patternFill patternType="none"></patternFill></fill><fill><patternFill patternType="gray125"></patternFill></fill>';return this.mFills.size>=1&&this.mFills.forEach(function(t,i){e+='<fill><patternFill patternType="solid"><fgColor rgb="'+i+'" /><bgColor rgb="FFFFFFFF" /></patternFill></fill>'}),e+"</fills>"},n.prototype.saveBorders=function(){var e='<borders count="'+(this.mBorders.length+1)+'"><border><left /><right /><top /><bottom /><diagonal /></border>';if(this.mBorders.length>=1)for(var t=0,i=this.mBorders;t<i.length;t++){var r=i[t];if(this.isAllBorder(r)){var o=r.all.color.replace("#",""),h=r.all.lineStyle;e+='<border><left style="'+h+'"><color rgb="FF'+o+'" /></left><right style="'+h+'"><color rgb="FF'+o+'" /></right><top style="'+h+'"><color rgb="FF'+o+'" /></top><bottom style="'+h+'"><color rgb="FF'+o+'" /></bottom></border>'}else e+='<border><left style="'+r.left.lineStyle+'"><color rgb="FF'+r.left.color.replace("#","")+'" /></left><right style="'+r.right.lineStyle+'"><color rgb="FF'+r.right.color.replace("#","")+'" /></right><top style="'+r.top.lineStyle+'"><color rgb="FF'+r.top.color.replace("#","")+'" /></top><bottom style="'+r.bottom.lineStyle+'"><color rgb="FF'+r.bottom.color.replace("#","")+'" /></bottom></border>'}return e+"</borders>"},n.prototype.saveCellStyles=function(){var e=this,t='<cellStyles  count="'+this.cellStyles.size+'">';return this.cellStyles.forEach(function(i,r){t+='<cellStyle name="'+r+'" xfId="'+e.cellStyles.get(r).xfId+'"',r==="Normal"&&(t+=' builtinId="0"'),t+=" />"}),t+="</cellStyles>"},n.prototype.saveCellStyleXfs=function(){var e='<cellStyleXfs count="'+(this.mCellStyleXfs.length+1)+'"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" />';if(this.mCellStyleXfs.length>=1)for(var t=0,i=this.mCellStyleXfs;t<i.length;t++){var r=i[t];e+='<xf numFmtId="'+r.numFmtId+'" fontId="'+r.fontId+'" fillId="'+r.fillId+'" borderId="'+r.borderId+'" ',r.alignment!==void 0?e+=">"+this.saveAlignment(r)+"</xf>":e+=" />"}return e+"</cellStyleXfs>"},n.prototype.saveCellXfs=function(){var e='<cellXfs count="'+(this.mCellXfs.length+1)+'"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />';if(this.mCellXfs.length>=1)for(var t=0,i=this.mCellXfs;t<i.length;t++){var r=i[t];e+='<xf numFmtId="'+r.numFmtId+'" fontId="'+r.fontId+'" fillId="'+r.fillId+'" borderId="'+r.borderId+'" xfId="'+r.xfId+'" ',r.applyAlignment===1&&(e+='applyAlignment="1"'),e+=">"+this.saveAlignment(r)+"</xf>"}return e+"</cellXfs>"},n.prototype.saveAlignment=function(e){var t="<alignment ";return e.alignment.horizontal!==void 0&&(t+='horizontal="'+e.alignment.horizontal+'" '),e.alignment.indent!==void 0&&e.alignment.indent!==0?t+='indent="'+e.alignment.indent+'" ':e.alignment.rotation!==void 0&&e.alignment.rotation!==0&&(t+='textRotation="'+e.alignment.rotation+'" '),e.alignment.vertical!==void 0&&(t+='vertical="'+e.alignment.vertical+'" '),t+='wrapText="'+e.alignment.wrapText+'" />',t},n.prototype.saveApp=function(e){var t='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><Application>Essential XlsIO</Application>';e!==void 0&&(e.manager!==void 0&&(t+="<Manager>"+e.manager+"</Manager>"),e.company!==void 0&&(t+="<Company>"+e.company+"</Company>")),this.addToArchive(t+"</Properties>","docProps/app.xml")},n.prototype.saveCore=function(e){var t=new Date,i='<?xml version="1.0" encoding="utf-8" standalone="yes"?><cp:coreProperties xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties">';this.builtInProperties!==void 0?(e.author!==void 0&&(i+="<dc:creator>"+e.author+"</dc:creator>"),e.subject!==void 0&&(i+="<dc:subject>"+e.subject+"</dc:subject>"),e.category!==void 0&&(i+="<cp:category>"+e.category+"</cp:category>"),e.comments!==void 0&&(i+="<dc:description>"+e.comments+"</dc:description>"),e.title!==void 0&&(i+="<dc:title>"+e.title+"</dc:title>"),e.tags!==void 0&&(i+="<cp:keywords>"+e.tags+"</cp:keywords>"),e.status!==void 0&&(i+="<cp:contentStatus>"+e.status+"</cp:contentStatus>"),e.createdDate!==void 0?i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+e.createdDate.toISOString()+"</dcterms:created>":i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:created>",e.modifiedDate!==void 0?i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+e.modifiedDate.toISOString()+"</dcterms:modified>":i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:modified>"):(i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:created>",i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:modified>"),i+="</cp:coreProperties>",this.addToArchive(i,"docProps/core.xml")},n.prototype.saveTopLevelRelation=function(){var e='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml" /><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml" /><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml" /></Relationships>';this.addToArchive(e,"_rels/.rels")},n.prototype.saveWorkbookRelation=function(){for(var e='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',t=this.worksheets.length,i=0,r=0;r<t;r++,i++)e+='<Relationship Id="rId'+(r+1).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+(r+1).toString()+'.xml" />';e+='<Relationship Id="rId'+(++i).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />',this.sharedStringCount>0&&(e+='<Relationship Id="rId'+(++i).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />'),this.addToArchive(e+"</Relationships>","xl/_rels/workbook.xml.rels")},n.prototype.saveContentType=function(){for(var e='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />',t="",i=this.worksheets.length,r=0,o=0;o<i;o++)t+='<Override PartName="/xl/worksheets/sheet'+(o+1).toString()+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />',this.worksheets[o].images!=null&&this.worksheets[o].images.length>0&&(r++,t+='<Override PartName="/xl/drawings/drawing'+r.toString()+'.xml" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml" />');this.imageCount>0&&(t+='<Default Extension="png" ContentType="image/png" />'),this.sharedStringCount>0&&(e+='<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" />'),this.addToArchive(e+t+"</Types>","[Content_Types].xml")},n.prototype.addToArchive=function(e,t){if(typeof e=="string"){var i=new Blob([e],{type:"text/plain"}),r=new yr(i,t);this.mArchive.addItem(r)}else{var r=new yr(e,t);this.mArchive.addItem(r)}},n.prototype.processMergeCells=function(e,t,i){if(e.rowSpan!==0||e.colSpan!==0){var r=new wl;r.x=e.index,r.width=e.colSpan,r.y=t,r.height=e.rowSpan;var o=this.getCellName(r.y,r.x),h=this.getCellName(t+r.height,e.index+r.width);r.ref=o+":"+h,i.add(r);var u={x:r.x,y:r.y},g={x:e.index+r.width,y:t+r.height};this.updatedMergedCellStyles(u,g,e)}return i},n.prototype.updatedMergedCellStyles=function(e,t,i){for(var r=e.x;r<=t.x;r++)for(var o=e.y;o<=t.y;o++)this.mergedCellsStyle.set(this.getCellName(o,r),{x:r,y:o,styleIndex:i.styleIndex})},n.prototype.dateToTicks=function(e,t,i){var r=864e9,o=[0,31,59,90,120,151,181,212,243,273,304,334,365],h=[0,31,60,91,121,152,182,213,244,274,305,335,366];if(e>=1&&e<=9999&&t>=1&&t<=12){var u=this.isLeapYear(e)?h:o,g=e-1,y=g*365+(g/4|0)-(g/100|0)+(g/400|0)+u[t-1]+i-1;return y*r}throw new Error("Not a valid date")},n.prototype.timeToTicks=function(e,t,i){if(e>=0&&e<24&&t>=0&&t<60&&i>=0&&i<60){var r=e*3600+t*60+i;return r*1e4*1e3}throw new Error("Not valid time")},n.prototype.isLeapYear=function(e){return e%4===0&&(e%100!==0||e%400===0)},n.prototype.toOADate=function(e){var t=0;if(t=this.dateToTicks(e.getFullYear(),e.getMonth()+1,e.getDate())+this.timeToTicks(e.getHours(),e.getMinutes(),e.getSeconds()),t===0)return 0;var i=1e4*1e3*60*60*24,r=(((365*4+1)*25-1)*4+1)*4+((365*4+1)*25-1)*3-367,o=r*i,h=((365*4+1)*25-1-365)*i;if(t<h)throw new Error("Arg_OleAutDateInvalid");var u=1e3*60*60*24;return(t-o)/1e4/u},n}(),Zd=function(){function n(){}return n}(),Kd=function(){function n(e){this.actualRowCount=0,this.series=[],this.axisCollection=[],this.requiredValuesLength=0,this.histogramSeriesCount=0,this.chart=e}return n.prototype.export=function(e,t,i,r,o,h,u,g,y,x){var S=new Ka(this.chart);r=r||[this.chart];var T={cancel:!1,name:La,width:o,height:h};this.chart.trigger(La,T),T.cancel||(e==="CSV"||e==="XLSX"?this.excelExport(r,t,e):S.export(e,t,i,r,o=T.width,h=T.height,u,g,y,x))},n.prototype.excelExport=function(e,t,i){this.rows=[],this.actualRowCount=1;var r=[],o=[],h={bold:!0,hAlign:"Center",vAlign:"Center",wrapText:!0},u=[],g=e[0].getModuleName()==="rangeNavigator",y=e[0].getModuleName()==="accumulationchart";if(this.series=g?e[0].series:e[0].visibleSeries,g&&this.series.length===0)e[0].dataSource&&this.createRangeNavigatorExcelSheet(e[0],h,i);else{if(this.histogramSeriesCount=0,this.requiredValuesLength=0,this.axisCollection=[],y||g?this.axisCollection.push(null):this.axisCollection=e[0].getModuleName()==="stockChart"?e[0].chart.horizontalAxes:e[0].horizontalAxes,o=this.getRequiredValues(g),this.requiredValuesLength===0&&this.series.length===this.histogramSeriesCount)return;u=this.getXValue(o,e,g,y),this.getTitle(o,h,e,g,y,i,u[0].length),this.createExcelSheet(g,y,u,i,o,h,e)}var x=[];this.requiredValuesLength=this.requiredValuesLength===0?1:this.requiredValuesLength;for(var S=0;S<this.requiredValuesLength;S++)x.push({index:S+1,width:100});r.push({columns:x,rows:this.rows});var T=new $d({worksheets:r},i==="XLSX"?"xlsx":"csv");t=t||(i==="XLSX"?"XLSX":"CSV"),T.save(t+(i==="XLSX"?".xlsx":".csv"))},n.prototype.createRangeNavigatorExcelSheet=function(e,t,i){var r=e.xName,o=e.yName;this.rows.push({index:this.actualRowCount,cells:[{index:1,value:e.valueType.indexOf("DateTime")>-1?e.valueType:"Category",colSpan:1,rowSpan:1,style:t},{index:2,value:o,colSpan:1,rowSpan:1,style:t}]}),this.actualRowCount++;for(var h=e.dataSource,u=0;u<h.length;u++)this.rows.push({index:this.actualRowCount,cells:[{index:1,value:i==="CSV"&&h[u][r]===null?"":h[u][r],colSpan:1,rowSpan:1,style:t},{index:2,value:i==="CSV"&&h[u][o]===null?"":h[u][o],colSpan:1,rowSpan:1,style:{}}]}),this.actualRowCount++;this.requiredValuesLength=2},n.prototype.getRequiredValues=function(e){for(var t=[],i=function(h){var u=r.series[h].type;if(!e&&!r.series[h].visible||r.series[h].category==="TrendLine")return t.push([]),"continue";if(u==="Histogram"?(t.push([]),r.histogramSeriesCount++):r.series[h].category==="Pareto"?t.push([r.series[h].xName,"y"]):u.indexOf("Range")!==-1||u==="Hilo"?t.push([r.series[h].xName,r.series[h].high,r.series[h].low]):u==="HiloOpenClose"||u==="Candle"?(t.push([r.series[h].xName,r.series[h].high,r.series[h].low,r.series[h].open,r.series[h].close]),u==="Candle"&&r.series[h].volume!==""&&t[h].push(r.series[h].volume)):u==="BoxAndWhisker"?t.push([r.series[h].xName,"maximum","upperQuartile","median","lowerQuartile","minimum","outliers"]):u==="Bubble"?(t.push([r.series[h].xName,r.series[h].yName]),r.series[h].size!==""&&t[h].push(r.series[h].size)):u==="Pie"?(t.push([r.series[h].xName,r.series[h].yName]),r.series[h].radius.match(/[a-zA-Z]/)&&t[h].push(r.series[h].radius)):t.push([r.series[h].xName,r.series[h].yName]),r.series[h].errorBar&&r.series[h].errorBar.visible){var g=r.series[h].errorBar,y=["verticalError","horizontalError","verticalNegativeError","horizontalNegativeError","verticalPositiveError","horizontalPositiveError"];y.forEach(function(x){typeof g[x]=="string"&&t[h].push(g[x])})}r.requiredValuesLength+=t[h].length},r=this,o=0;o<this.series.length;o++)i(o);return t},n.prototype.getTitle=function(e,t,i,r,o,h,u){var g=[],y=[],x=1,S=!1;!r&&h==="XLSX"&&i[0].title&&(this.rows.push({}),this.actualRowCount++,S=!0);for(var T=0;T<this.axisCollection.length&&!(o&&u===0);T++){for(var M=!1,R="",I=x,j=!1,W=0;W<this.series.length;W++){var N=this.axisCollection[T]!==null?this.axisCollection[T].name==="primaryXAxis"||this.axisCollection[T].name==="primaryYAxis"&&this.series[W].type.indexOf("Bar")>-1?null:this.axisCollection[T].name:"";if(!(!r&&(!o&&N!==this.series[W].xAxisName||!this.series[W].visible||this.series[W].category==="TrendLine"||this.series[W].type==="Histogram"))){j||(g.push({}),x++),j=!0;var G=this.series[W].name,K=this.series[W].type==="BoxAndWhisker"?e[W].length-1:e[W].length;if(e[W][1]===this.series[W].yName)for(var _=1;_<K;_++)g.push({index:x,value:_===1?G||"Series-"+(W+1):e[W][_],colSpan:1,rowSpan:1,style:t}),x++;else{g.push({index:x,value:G||"Series-"+(W+1),colSpan:K-1,rowSpan:1,style:t});for(var Q=x,_=1;_<K;_++)y.push({index:Q,value:e[W][_],colSpan:1,rowSpan:1,style:t}),Q++;this.series[W].type==="BoxAndWhisker"&&(g.push({index:Q,value:e[W][K],colSpan:1,rowSpan:2,style:t}),Q++),x=Q,M=!0}R=o?e[0][0]:r?i[0].valueType:this.axisCollection[T].valueType,R=o||R.indexOf("DateTime")>-1?R:"Category"}}j&&(g[I-1]={index:I,value:R,colSpan:1,rowSpan:M?2:1,style:t})}g.length&&(this.rows.push({index:this.actualRowCount,cells:g}),this.actualRowCount++),y.length&&(this.rows.push({index:this.actualRowCount,cells:y}),this.actualRowCount++),S&&(g=[],g.push({index:1,value:i[0].title,colSpan:x===1?x:x-1,rowSpan:1,style:t}),this.rows[0]={index:1,cells:g}),this.requiredValuesLength=x-1},n.prototype.getXValue=function(e,t,i,r){for(var o=[],h=0;h<this.axisCollection.length;h++){for(var u=[],g=r?"":i?t[0].valueType:this.axisCollection[h].valueType,y=0;y<this.series.length;y++){var x=this.axisCollection[h]!==null?this.axisCollection[h].name==="primaryXAxis"||this.axisCollection[h].name==="primaryYAxis"&&this.series[y].type.indexOf("Bar")>-1?null:this.axisCollection[h].name:"";if(!(!i&&(!r&&x!==this.series[y].xAxisName||!this.series[y].visible)||this.series[y].category==="TrendLine"||this.series[y].type==="Histogram"))for(var S=0;S<this.series[y].dataSource.length;S++)r&&!this.series[y].points[S].visible||u.push(g.indexOf("DateTime")>-1?new Date(this.series[y].dataSource[S][e[y][0]]).getTime():this.series[y].dataSource[S][e[y][0]])}o.push(u)}for(var T=function(R){o[R]=o[R].filter(function(I,j){return o[R].indexOf(I)===j})},M=0;M<o.length;M++)T(M);return o},n.prototype.createExcelSheet=function(e,t,i,r,o,h,u){for(var g=0,y=0,x=0;x<this.axisCollection.length;x++){for(var S=t?"":e?u[0].valueType:this.axisCollection[x].valueType,T=0;T<i[x].length;T++){y=g||1;for(var M=[],R=!0,I=0;I<this.series.length;I++){var j=this.axisCollection[x]!==null?this.axisCollection[x].name==="primaryXAxis"||this.axisCollection[x].name==="primaryYAxis"&&this.series[I].type.indexOf("Bar")>-1?null:this.axisCollection[x].name:"";if(!(!e&&(!t&&this.series[I].xAxisName!==j||!this.series[I].visible)||this.series[I].category==="TrendLine"||this.series[I].type==="Histogram")){for(var W=!1,N=this.series[I].dataSource,G=0;G<N.length;G++){var K=S.indexOf("DateTime")>-1?this.series[I].category==="Pareto"?new Date(this.series[I].points[G][o[I][0]]).getTime():new Date(N[G][o[I][0]]).getTime():this.series[I].category==="Pareto"?this.series[I].points[G][o[I][0]]:N[G][o[I][0]];if(i[x][T]===K){for(var _=R?0:1,Q=this.series[I].type==="BoxAndWhisker"?o[I].length-1:o[I].length;_<Q;_++){var ie=_!==0&&(this.series[I].type==="BoxAndWhisker"||this.series[I].category==="Pareto")?this.series[I].points[G][o[I][_]]:N[G][o[I][_]];ie===null&&r==="CSV"&&(ie=""),M.push({index:_===0?g===0?1:g:y,value:ie,colSpan:1,rowSpan:1,style:_===0?h:{}}),y++}this.series[I].type==="BoxAndWhisker"&&(M.push({index:y,value:this.series[I].points[G].outliers[0],colSpan:1,rowSpan:1,style:{}}),y++),R=!1,W=!0;break}}W||(y+=o[I].length-1)}}this.rows.push({index:this.actualRowCount,cells:M}),this.actualRowCount++}g=y}},n.prototype.getDataUrl=function(e){var t=new Ka(e);return t.getDataUrl(e)},n.prototype.getModuleName=function(){return"Export"},n.prototype.destroy=function(){},n}(),Jd=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),kt=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var u=n.length-1;u>=0;u--)(h=n[u])&&(o=(r<3?h(o):r>3?h(e,t,o):h(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qd="e-otp-input-field",ao="e-rtl",kn;(function(n){n.Number="number",n.Text="text",n.Password="password"})(kn||(kn={}));var Tn;(function(n){n.Outlined="outlined",n.Underlined="underlined",n.Filled="filled"})(Tn||(Tn={}));var Ur;(function(n){n.None="none",n.Uppercase="uppercase",n.Lowercase="lowercase"})(Ur||(Ur={}));var ef=function(n){Jd(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.inputs=[],r.previousValue="",r.separatorElements=[],r.shouldFireFocus=!0,r.shouldFireBlur=!0,r.isFocusInCalled=!1,r.isFocusOutCalled=!1,r.handleWheelEvent=function(o){o.preventDefault()},r}return e.prototype.preRender=function(){this.element.id||(this.element.id=ph("e-"+this.getModuleName()))},e.prototype.render=function(){this.initialize()},e.prototype.initialize=function(){gh(this.element,{role:"group"}),this.renderInputs(),this.renderSeparator(1,this.inputs.length),this.addPlaceHolder(),this.updateCssClass(this.cssClass),this.updateVariantClass(),this.updateAriaLabel(this.ariaLabels),this.setElementAttributes(this.htmlAttributes,this.element),this.enableRtl&&this.element.classList.add(ao),this.previousValue=this.value.toString(),this.autoFocus&&this.focusIn()},e.prototype.renderInputs=function(){this.hiddenInputEle=this.createElement("input",{id:"otpInput_hidden",attrs:{name:this.element.id,type:"hidden",value:this.type==="number"?this.value.toString().replace(/\D/g,""):this.value.toString(),autoComplete:"off"}}),this.element.appendChild(this.hiddenInputEle);for(var t=0;t<this.length;t++)this.createOtpInput(t)},e.prototype.createOtpInput=function(t){var i=this.getDefaultValue(),r="";if(i)if(this.type==="number"){var o=i[parseInt(t.toString(),10)];isNaN(Number(o))||(r=o)}else r=i[parseInt(t.toString(),10)]||"";var h=this.createElement("input",{id:this.element.id+"-"+(t+1),className:Qd+" e-input",attrs:{maxlength:"1",type:this.type,inputmode:"inputmode"in this.htmlAttributes?this.htmlAttributes.inputmode:this.type==="number"?"numeric":"text"}});this.disabled&&h.setAttribute("disabled","disabled"),this.element.appendChild(h),this.inputs.push(h),r&&(h.value=r),this.wireEvents(h,t)},e.prototype.renderSeparator=function(t,i){if(this.separator.length>0)for(var r=t;r<i;r++){var o=this.createElement("span",{className:"e-otp-separator"});o.textContent=this.separator,this.separatorElements.push(o),this.element.insertBefore(o,this.inputs[parseInt(r.toString(),10)])}},e.prototype.updateSeparatorValue=function(){if(this.separator===""){for(var t=0;t<this.separatorElements.length;t++)Vt(this.separatorElements[parseInt(t.toString(),10)]);this.separatorElements=[];return}for(var t=0;t<this.separatorElements.length;t++)this.separatorElements[parseInt(t.toString(),10)].textContent=this.separator},e.prototype.addPlaceHolder=function(){for(var t=0;t<this.inputs.length;t++)this.setElementAttributes({placeholder:this.placeholder.length===1||this.placeholder.length===0?this.placeholder:this.placeholder.charAt(t)},this.inputs[parseInt(t.toString(),10)])},e.prototype.updateInputType=function(t){var i=this;this.inputs.forEach(function(r){r.type=t,r.setAttribute("inputmode","inputmode"in i.htmlAttributes?i.htmlAttributes.inputmode:t==="number"?"numeric":"text")})},e.prototype.getDefaultValue=function(){var t=typeof this.value=="number"?this.value.toString():this.value;this.textTransform&&(t=this.getTransformedText(t));var i=t.replace(/\s/g,"");if(i.length>0)return i.split("")},e.prototype.getTransformedText=function(t){var i=this.textTransform.toLowerCase()===Ur.Lowercase?t.toLowerCase():this.textTransform.toLowerCase()===Ur.Uppercase?t.toUpperCase():t;return i},e.prototype.handleInputChange=function(t,i){var r=this.inputs[parseInt(t.toString(),10)];if(r&&t<this.length-1&&r.value.length>0){var o=this.inputs[parseInt(t.toString(),10)+1];this.shouldFireFocus=this.shouldFireBlur=!1,o.focus(),o&&o.value.length>0&&o.select()}var h=i.target;h.value.length>1&&(h.value=h.value.slice(0,1)),this.textTransform&&(h.value=this.getTransformedText(h.value)),this.triggerInputEvent(t,i),this.triggerValuechanged(i,!0)},e.prototype.handleKeyAction=function(t,i){i.key.length>1&&!(t===0&&i.key==="Backspace"||t===this.length-1&&i.key==="Delete")&&(this.shouldFireFocus=this.shouldFireBlur=!1);var r=this.inputs[parseInt(t.toString(),10)],o=this.inputs[parseInt(t.toString(),10)-1],h=this.inputs[parseInt(t.toString(),10)+1];if(i.key==="Delete"){var u="";r.value.length>0?(u=r.value,r.value=""):t!==this.inputs.length-1&&(u=h.value,h.value="",h.focus()),u.length>0&&this.triggerInputEvent(t,i)}else if(i.key==="Backspace"){if(t!==0&&r.value.length===0){var g=o.value;o.value="",o.focus(),g.length>0&&this.triggerInputEvent(t,i)}}else i.key==="ArrowLeft"||i.key==="ArrowRight"?(i.key==="ArrowLeft"?t>0&&(o.focus(),o.select()):t<this.inputs.length-1&&(h.focus(),h.select()),i.preventDefault()):(i.key==="ArrowUp"||i.key==="ArrowDown"||i.key!=="Tab"&&!i.shiftKey&&!i.ctrlKey&&this.type==="number"&&/\D/.test(i.key.toLocaleLowerCase()))&&i.preventDefault()},e.prototype.handleSelection=function(t){var i=this.inputs[parseInt(t.toString(),10)];i.value&&i.select()},e.prototype.handleFocus=function(t,i){if(Us([this.inputs[parseInt(t.toString(),10)]],"e-otp-input-focus"),this.shouldFireFocus){var r={element:this.element,event:i,index:t,isInteracted:!this.isFocusInCalled,value:this.value};this.trigger("focus",r)}this.shouldFireFocus=!0},e.prototype.handleBlur=function(t,i){if(ss([this.inputs[parseInt(t.toString(),10)]],"e-otp-input-focus"),this.shouldFireBlur){var r={element:this.element,event:i,value:this.value,index:t,isInteracted:!this.isFocusOutCalled};this.trigger("blur",r)}this.shouldFireBlur=!0},e.prototype.handlePaste=function(t,i){var r=i.clipboardData;if(r){for(var o=r.getData("text"),h=o.split(""),u=0,g=t;g<this.inputs.length;g++)h.length>0&&h[parseInt(u.toString(),10)]&&(this.inputs[parseInt(g.toString(),10)].value=h[parseInt(u.toString(),10)],u++,this.updateValueProperty());this.focusIn(),this.triggerValuechanged(i,!0)}},e.prototype.triggerInputEvent=function(t,i){var r=this.value.toString();this.updateValueProperty();var o={element:this.element,event:i,previousValue:r,value:this.value.toString(),index:t};this.trigger("input",o)},e.prototype.triggerValuechanged=function(t,i){if(this.length===this.value.toString().length&&this.previousValue!==this.value){var r={element:this.element,event:t,isInteracted:i||!1,previousValue:this.previousValue,value:this.value};this.trigger("valueChanged",r),this.previousValue=this.value.toString()}},e.prototype.wireEvents=function(t,i){Ge.add(t,"focus",this.handleFocus.bind(this,i),this),Ge.add(t,"blur",this.handleBlur.bind(this,i),this),Ge.add(t,"input",this.handleInputChange.bind(this,i),this),Ge.add(t,"keydown",this.handleKeyAction.bind(this,i),this),Ge.add(t,"click",this.handleSelection.bind(this,i),this),Ge.add(t,"paste",this.handlePaste.bind(this,i),this),Ge.add(t,"wheel",this.handleWheelEvent,this)},e.prototype.unWireEvents=function(){for(var t=0;t<this.inputs.length;t++){var i=this.inputs[parseInt(t.toString(),10)];Ge.remove(i,"focus",this.handleFocus.bind(this,t)),Ge.remove(i,"blur",this.handleBlur.bind(this,t)),Ge.remove(i,"input",this.handleInputChange.bind(this,t)),Ge.remove(i,"keydown",this.handleKeyAction.bind(this,t)),Ge.remove(i,"click",this.handleSelection.bind(this,t)),Ge.remove(i,"paste",this.handlePaste.bind(this,t)),Ge.remove(i,"wheel",this.handleWheelEvent)}},e.prototype.updateValueProperty=function(){var t="";this.inputs.forEach(function(r){t+=r.value});var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=typeof this.value=="number"?parseInt(t,10):t,this.isProtectedOnChange=i,this.hiddenInputEle.value=this.value.toString()},e.prototype.updateInputValue=function(t){var i=this.value.toString();this.textTransform&&(i=this.getTransformedText(i));for(var r=0;r<this.inputs.length;r++){var o=t.toString().charAt(r)!==i.charAt(r);o&&(this.inputs[parseInt(r.toString(),10)].value=i.charAt(r),this.hiddenInputEle.value=i)}this.focusIn()},e.prototype.updateCssClass=function(t,i){i===void 0&&(i="");var r,o,h;i&&(h=i.trim().split(" "),(r=this.element.classList).remove.apply(r,h)),t&&(h=t.trim().split(" "),(o=this.element.classList).add.apply(o,h))},e.prototype.updateVariantClass=function(){var t=this.stylingMode.toLocaleLowerCase();t=t==="outlined"?"outline":t,(t==="underlined"||t==="filled"||t==="outline")&&(ss([this.element],["e-underlined","e-filled","e-outline"]),Us([this.element],"e-"+t))},e.prototype.updateAriaLabel=function(t){this.inputs.forEach(function(i,r){var o="Enter Otp Character "+(r+1),h=t&&t.length>0&&t[parseInt(r.toString(),10)]||o;i.setAttribute("aria-label",h)})},e.prototype.updateDisabledState=function(){var t=this;this.inputs.forEach(function(i){t.disabled?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled")})},e.prototype.setElementAttributes=function(t,i){if(!we(t))for(var r in t)if(r==="class"){var o=t.class.replace(/\s+/g," ").trim();o&&Us([i],o.split(" "))}else r==="inputmode"?this.setInputMode(t[""+r]):r==="name"&&this.element.id===i.id?this.hiddenInputEle.setAttribute(r,t[""+r]):i.setAttribute(r,t[""+r])},e.prototype.setInputMode=function(t){for(var i=0;i<this.inputs.length;i++)this.inputs[parseInt(i.toString(),10)].setAttribute("inputmode",t)},e.prototype.handleLengthChange=function(t,i){var r=t-i>0;if(r){for(var o=i;o<t;o++)this.createOtpInput(o);this.renderSeparator(i,t),this.addPlaceHolder(),this.updateAriaLabel(this.ariaLabels)}else if(t>=0&&this.inputs.length>0){for(var o=t;o<this.inputs.length;o++)Vt(this.inputs[parseInt(o.toString(),10)]);if(this.inputs.splice(t),this.separatorElements.length>0){for(var h=t===0?0:t-1,o=h;o<this.separatorElements.length;o++)Vt(this.separatorElements[parseInt(o.toString(),10)]);this.separatorElements.splice(h)}}},e.prototype.getModuleName=function(){return"otpinput"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.unWireEvents();for(var t=0;t<this.inputs.length;t++)Vt(this.inputs[parseInt(t.toString(),10)]);for(var t=0;t<this.separatorElements.length;t++)Vt(this.separatorElements[parseInt(t.toString(),10)]);Vt(this.hiddenInputEle),ss([this.element],["e-underlined","e-filled","e-outline","e-rtl"]),this.cssClass&&ss([this.element],this.cssClass.trim().split(" ")),this.element.removeAttribute("role"),this.inputs=[],this.separatorElements=[],this.hiddenInputEle=null},e.prototype.focusIn=function(){this.isFocusInCalled=!0;for(var t=this.inputs.length-1,i=0;i<this.inputs.length;i++)if(!(this.inputs[parseInt(i.toString(),10)].value.length>0)){t=i;break}this.inputs[parseInt(t.toString(),10)].focus(),this.isFocusInCalled=!1},e.prototype.focusOut=function(){this.isFocusOutCalled=!0,this.inputs.forEach(function(t){t.blur()}),this.isFocusOutCalled=!1},e.prototype.onPropertyChanged=function(t,i){for(var r=0,o=Object.keys(t);r<o.length;r++){var h=o[r];switch(h){case"textTransform":this.updateInputValue(this.value);break;case"value":this.updateInputValue(i.value),this.triggerValuechanged();break;case"placeholder":this.addPlaceHolder();break;case"disabled":this.updateDisabledState();break;case"cssClass":this.updateCssClass(t.cssClass,i.cssClass);break;case"separator":i.separator===""?this.renderSeparator(1,this.inputs.length):this.updateSeparatorValue();break;case"htmlAttributes":this.setElementAttributes(t.htmlAttributes,this.element);break;case"type":this.updateInputType(t.type);break;case"stylingMode":this.updateVariantClass();break;case"ariaLabels":this.updateAriaLabel(t.ariaLabels);break;case"length":this.handleLengthChange(t.length,i.length);break;case"enableRtl":this.element.classList[this.enableRtl?"add":"remove"](ao);break;case"autoFocus":this.autoFocus&&this.focusIn();break}}},kt([te(4)],e.prototype,"length",void 0),kt([te("")],e.prototype,"value",void 0),kt([te(kn.Number)],e.prototype,"type",void 0),kt([te("")],e.prototype,"separator",void 0),kt([te("")],e.prototype,"placeholder",void 0),kt([te(Tn.Outlined)],e.prototype,"stylingMode",void 0),kt([te(!1)],e.prototype,"disabled",void 0),kt([te("")],e.prototype,"cssClass",void 0),kt([te(!1)],e.prototype,"autoFocus",void 0),kt([te(Ur.None)],e.prototype,"textTransform",void 0),kt([te({})],e.prototype,"htmlAttributes",void 0),kt([te([])],e.prototype,"ariaLabels",void 0),kt([Ee()],e.prototype,"created",void 0),kt([Ee()],e.prototype,"valueChanged",void 0),kt([Ee()],e.prototype,"focus",void 0),kt([Ee()],e.prototype,"blur",void 0),kt([Ee()],e.prototype,"input",void 0),e=kt([yo],e),e}(bo),tf=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Un=function(n){tf(e,n);function e(t){var i=n.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={seriesCollection:{series:{trendlines:"trendline",segments:"segment"}},axes:{axis:{stripLines:"stripLine",multiLevelLabels:{multiLevelLabel:{categories:"category"}}}},rows:"row",columns:"column",rangeColorSettings:"rangeColorSetting",annotations:"annotation",selectedDataIndexes:"selectedDataIndex",indicators:"indicator"},i.statelessTemplateProps=null,i.templateProps=null,i.immediateRender=!1,i.isReactMock=!0,i.portals=[],i}return e.prototype.render=function(){if(this.isReactMock=!1,(this.element&&!this.initRenderCalled||this.refreshing)&&!this.isReactForeceUpdate)n.prototype.render.call(this),this.initRenderCalled=!0;else return xe.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals))},e}(tu);Vo(Un,[Ho,xe.Component]);var rf=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sl=function(n){rf(e,n);function e(t){var i=n.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!1,i.statelessTemplateProps=null,i.templateProps=null,i.immediateRender=!0,i.isReactMock=!0,i.portals=[],i}return e.prototype.render=function(){if(this.isReactMock=!1,(this.element&&!this.initRenderCalled||this.refreshing)&&!this.isReactForeceUpdate)n.prototype.render.call(this),this.initRenderCalled=!0;else return xe.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals))},e}(ef);Vo(Sl,[Ho,xe.Component]);const sf=In("div")(({theme:n})=>({".e-otpinput.e-outline .e-otp-input-field":{border:`2px solid ${n.palette.primary.main}`,color:n.palette.text.primary,borderRadius:n.shape.borderRadius,padding:n.spacing(1),width:"7%",fontWeight:"bold"},".e-otpinput .e-otp-input-field.e-input.e-otp-input-focus:focus":{borderColor:n.palette.secondary.main,border:`2px solid ${n.palette.primary.main}`,boxShadow:`0 0 10px ${n.palette.primary.main}`,color:n.palette.text.primary,borderRadius:n.shape.borderRadius,padding:n.spacing(1),width:"7%"},".e-otpinput.e-outline.e-error .e-otp-input-field":{border:"2px solid #f44336",color:n.palette.text.primary,borderRadius:n.shape.borderRadius,padding:n.spacing(1),width:"7%",fontWeight:"bold"},".e-error .e-otp-input-field.e-input.e-otp-input-focus:focus":{borderColor:n.palette.secondary.main,border:`2px solid ${n.palette.error.main}`,boxShadow:`0 0 10px ${n.palette.error.main}`,color:n.palette.text.primary,borderRadius:n.shape.borderRadius,padding:n.spacing(1),width:"7%"}}));function qn({isOpen:n,show:e,onSuccess:t,onClose:i,uri:r,uniqueKey:o}){const{t:h,i18n:u}=$t(),[g,y]=xe.useState(!1),[x,S]=xe.useState(!1),T=M=>{S(!0),Zt.post(r,{pin:M==null?void 0:M.value,show:e}).then(R=>{S(!1),R.data?(t(R.data),y(!1)):y(!0)})};return xe.useEffect(()=>{o!==0&&T(null)},[o]),q.jsxs(Rn,{open:n,onClose:i,children:[q.jsx(Lh,{children:q.jsx(Dt,{onClick:i,children:q.jsx(mh,{children:q.jsx(zn,{})})})}),q.jsxs("div",{className:"max-w-md mx-auto text-center px-4 sm:px-8 pb-10 rounded-xl shadow",children:[q.jsxs("header",{className:"mb-8",children:[q.jsxs(Ze,{variant:"h4",mb:1,children:[h(Xe.dashboard.otpTitle)," ",x&&q.jsx(vh,{color:"primary",size:20})]}),q.jsx(Ze,{variant:"p",sx:{fontWeight:"200",fontSize:"14px"},children:h(Xe.dashboard.otpMessage)})]}),q.jsx("form",{id:"otp-form",children:q.jsx("div",{className:"flex items-center justify-center gap-3",children:q.jsx(sf,{children:q.jsx(Sl,{type:"password",id:"otpinput",separator:"-",cssClass:g&&"e-error",valueChanged:T,autoFocus:!0})})})})]})]})}var nf={},Vs={};Vs.byteLength=lf;Vs.toByteArray=cf;Vs.fromByteArray=ff;var gi=[],ri=[],af=typeof Uint8Array<"u"?Uint8Array:Array,tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var pr=0,of=tn.length;pr<of;++pr)gi[pr]=tn[pr],ri[tn.charCodeAt(pr)]=pr;ri["-".charCodeAt(0)]=62;ri["_".charCodeAt(0)]=63;function Cl(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function lf(n){var e=Cl(n),t=e[0],i=e[1];return(t+i)*3/4-i}function hf(n,e,t){return(e+t)*3/4-t}function cf(n){var e,t=Cl(n),i=t[0],r=t[1],o=new af(hf(n,i,r)),h=0,u=r>0?i-4:i,g;for(g=0;g<u;g+=4)e=ri[n.charCodeAt(g)]<<18|ri[n.charCodeAt(g+1)]<<12|ri[n.charCodeAt(g+2)]<<6|ri[n.charCodeAt(g+3)],o[h++]=e>>16&255,o[h++]=e>>8&255,o[h++]=e&255;return r===2&&(e=ri[n.charCodeAt(g)]<<2|ri[n.charCodeAt(g+1)]>>4,o[h++]=e&255),r===1&&(e=ri[n.charCodeAt(g)]<<10|ri[n.charCodeAt(g+1)]<<4|ri[n.charCodeAt(g+2)]>>2,o[h++]=e>>8&255,o[h++]=e&255),o}function uf(n){return gi[n>>18&63]+gi[n>>12&63]+gi[n>>6&63]+gi[n&63]}function df(n,e,t){for(var i,r=[],o=e;o<t;o+=3)i=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),r.push(uf(i));return r.join("")}function ff(n){for(var e,t=n.length,i=t%3,r=[],o=16383,h=0,u=t-i;h<u;h+=o)r.push(df(n,h,h+o>u?u:h+o));return i===1?(e=n[t-1],r.push(gi[e>>2]+gi[e<<4&63]+"==")):i===2&&(e=(n[t-2]<<8)+n[t-1],r.push(gi[e>>10]+gi[e>>4&63]+gi[e<<2&63]+"=")),r.join("")}var $n={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */$n.read=function(n,e,t,i,r){var o,h,u=r*8-i-1,g=(1<<u)-1,y=g>>1,x=-7,S=t?r-1:0,T=t?-1:1,M=n[e+S];for(S+=T,o=M&(1<<-x)-1,M>>=-x,x+=u;x>0;o=o*256+n[e+S],S+=T,x-=8);for(h=o&(1<<-x)-1,o>>=-x,x+=i;x>0;h=h*256+n[e+S],S+=T,x-=8);if(o===0)o=1-y;else{if(o===g)return h?NaN:(M?-1:1)*(1/0);h=h+Math.pow(2,i),o=o-y}return(M?-1:1)*h*Math.pow(2,o-i)};$n.write=function(n,e,t,i,r,o){var h,u,g,y=o*8-r-1,x=(1<<y)-1,S=x>>1,T=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=i?0:o-1,R=i?1:-1,I=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,h=x):(h=Math.floor(Math.log(e)/Math.LN2),e*(g=Math.pow(2,-h))<1&&(h--,g*=2),h+S>=1?e+=T/g:e+=T*Math.pow(2,1-S),e*g>=2&&(h++,g/=2),h+S>=x?(u=0,h=x):h+S>=1?(u=(e*g-1)*Math.pow(2,r),h=h+S):(u=e*Math.pow(2,S-1)*Math.pow(2,r),h=0));r>=8;n[t+M]=u&255,M+=R,u/=256,r-=8);for(h=h<<r|u,y+=r;y>0;n[t+M]=h&255,M+=R,h/=256,y-=8);n[t+M-R]|=I*128};var pf={}.toString,gf=Array.isArray||function(n){return pf.call(n)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(n){var e=Vs,t=$n,i=gf;n.Buffer=u,n.SlowBuffer=W,n.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=la.TYPED_ARRAY_SUPPORT!==void 0?la.TYPED_ARRAY_SUPPORT:r(),n.kMaxLength=o();function r(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$.foo()===42&&typeof $.subarray=="function"&&$.subarray(1,1).byteLength===0}catch{return!1}}function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h($,B){if(o()<B)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?($=new Uint8Array(B),$.__proto__=u.prototype):($===null&&($=new u(B)),$.length=B),$}function u($,B,F){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u($,B,F);if(typeof $=="number"){if(typeof B=="string")throw new Error("If encoding is specified then the first argument must be a string");return S(this,$)}return g(this,$,B,F)}u.poolSize=8192,u._augment=function($){return $.__proto__=u.prototype,$};function g($,B,F,Z){if(typeof B=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&B instanceof ArrayBuffer?R($,B,F,Z):typeof B=="string"?T($,B,F):I($,B)}u.from=function($,B,F){return g(null,$,B,F)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0}));function y($){if(typeof $!="number")throw new TypeError('"size" argument must be a number');if($<0)throw new RangeError('"size" argument must not be negative')}function x($,B,F,Z){return y(B),B<=0?h($,B):F!==void 0?typeof Z=="string"?h($,B).fill(F,Z):h($,B).fill(F):h($,B)}u.alloc=function($,B,F){return x(null,$,B,F)};function S($,B){if(y(B),$=h($,B<0?0:j(B)|0),!u.TYPED_ARRAY_SUPPORT)for(var F=0;F<B;++F)$[F]=0;return $}u.allocUnsafe=function($){return S(null,$)},u.allocUnsafeSlow=function($){return S(null,$)};function T($,B,F){if((typeof F!="string"||F==="")&&(F="utf8"),!u.isEncoding(F))throw new TypeError('"encoding" must be a valid string encoding');var Z=N(B,F)|0;$=h($,Z);var se=$.write(B,F);return se!==Z&&($=$.slice(0,se)),$}function M($,B){var F=B.length<0?0:j(B.length)|0;$=h($,F);for(var Z=0;Z<F;Z+=1)$[Z]=B[Z]&255;return $}function R($,B,F,Z){if(B.byteLength,F<0||B.byteLength<F)throw new RangeError("'offset' is out of bounds");if(B.byteLength<F+(Z||0))throw new RangeError("'length' is out of bounds");return F===void 0&&Z===void 0?B=new Uint8Array(B):Z===void 0?B=new Uint8Array(B,F):B=new Uint8Array(B,F,Z),u.TYPED_ARRAY_SUPPORT?($=B,$.__proto__=u.prototype):$=M($,B),$}function I($,B){if(u.isBuffer(B)){var F=j(B.length)|0;return $=h($,F),$.length===0||B.copy($,0,0,F),$}if(B){if(typeof ArrayBuffer<"u"&&B.buffer instanceof ArrayBuffer||"length"in B)return typeof B.length!="number"||Lt(B.length)?h($,0):M($,B);if(B.type==="Buffer"&&i(B.data))return M($,B.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function j($){if($>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return $|0}function W($){return+$!=$&&($=0),u.alloc(+$)}u.isBuffer=function(B){return!!(B!=null&&B._isBuffer)},u.compare=function(B,F){if(!u.isBuffer(B)||!u.isBuffer(F))throw new TypeError("Arguments must be Buffers");if(B===F)return 0;for(var Z=B.length,se=F.length,de=0,me=Math.min(Z,se);de<me;++de)if(B[de]!==F[de]){Z=B[de],se=F[de];break}return Z<se?-1:se<Z?1:0},u.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(B,F){if(!i(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return u.alloc(0);var Z;if(F===void 0)for(F=0,Z=0;Z<B.length;++Z)F+=B[Z].length;var se=u.allocUnsafe(F),de=0;for(Z=0;Z<B.length;++Z){var me=B[Z];if(!u.isBuffer(me))throw new TypeError('"list" argument must be an Array of Buffers');me.copy(se,de),de+=me.length}return se};function N($,B){if(u.isBuffer($))return $.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView($)||$ instanceof ArrayBuffer))return $.byteLength;typeof $!="string"&&($=""+$);var F=$.length;if(F===0)return 0;for(var Z=!1;;)switch(B){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":case void 0:return mt($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return ai($).length;default:if(Z)return mt($).length;B=(""+B).toLowerCase(),Z=!0}}u.byteLength=N;function G($,B,F){var Z=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,B>>>=0,F<=B))return"";for($||($="utf8");;)switch($){case"hex":return Me(this,B,F);case"utf8":case"utf-8":return pe(this,B,F);case"ascii":return et(this,B,F);case"latin1":case"binary":return nt(this,B,F);case"base64":return le(this,B,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qe(this,B,F);default:if(Z)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),Z=!0}}u.prototype._isBuffer=!0;function K($,B,F){var Z=$[B];$[B]=$[F],$[F]=Z}u.prototype.swap16=function(){var B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<B;F+=2)K(this,F,F+1);return this},u.prototype.swap32=function(){var B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<B;F+=4)K(this,F,F+3),K(this,F+1,F+2);return this},u.prototype.swap64=function(){var B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<B;F+=8)K(this,F,F+7),K(this,F+1,F+6),K(this,F+2,F+5),K(this,F+3,F+4);return this},u.prototype.toString=function(){var B=this.length|0;return B===0?"":arguments.length===0?pe(this,0,B):G.apply(this,arguments)},u.prototype.equals=function(B){if(!u.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:u.compare(this,B)===0},u.prototype.inspect=function(){var B="",F=n.INSPECT_MAX_BYTES;return this.length>0&&(B=this.toString("hex",0,F).match(/.{2}/g).join(" "),this.length>F&&(B+=" ... ")),"<Buffer "+B+">"},u.prototype.compare=function(B,F,Z,se,de){if(!u.isBuffer(B))throw new TypeError("Argument must be a Buffer");if(F===void 0&&(F=0),Z===void 0&&(Z=B?B.length:0),se===void 0&&(se=0),de===void 0&&(de=this.length),F<0||Z>B.length||se<0||de>this.length)throw new RangeError("out of range index");if(se>=de&&F>=Z)return 0;if(se>=de)return-1;if(F>=Z)return 1;if(F>>>=0,Z>>>=0,se>>>=0,de>>>=0,this===B)return 0;for(var me=de-se,De=Z-F,_e=Math.min(me,De),Je=this.slice(se,de),ft=B.slice(F,Z),Qe=0;Qe<_e;++Qe)if(Je[Qe]!==ft[Qe]){me=Je[Qe],De=ft[Qe];break}return me<De?-1:De<me?1:0};function _($,B,F,Z,se){if($.length===0)return-1;if(typeof F=="string"?(Z=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,isNaN(F)&&(F=se?0:$.length-1),F<0&&(F=$.length+F),F>=$.length){if(se)return-1;F=$.length-1}else if(F<0)if(se)F=0;else return-1;if(typeof B=="string"&&(B=u.from(B,Z)),u.isBuffer(B))return B.length===0?-1:Q($,B,F,Z,se);if(typeof B=="number")return B=B&255,u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call($,B,F):Uint8Array.prototype.lastIndexOf.call($,B,F):Q($,[B],F,Z,se);throw new TypeError("val must be string, number or Buffer")}function Q($,B,F,Z,se){var de=1,me=$.length,De=B.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if($.length<2||B.length<2)return-1;de=2,me/=2,De/=2,F/=2}function _e(ji,or){return de===1?ji[or]:ji.readUInt16BE(or*de)}var Je;if(se){var ft=-1;for(Je=F;Je<me;Je++)if(_e($,Je)===_e(B,ft===-1?0:Je-ft)){if(ft===-1&&(ft=Je),Je-ft+1===De)return ft*de}else ft!==-1&&(Je-=Je-ft),ft=-1}else for(F+De>me&&(F=me-De),Je=F;Je>=0;Je--){for(var Qe=!0,Ii=0;Ii<De;Ii++)if(_e($,Je+Ii)!==_e(B,Ii)){Qe=!1;break}if(Qe)return Je}return-1}u.prototype.includes=function(B,F,Z){return this.indexOf(B,F,Z)!==-1},u.prototype.indexOf=function(B,F,Z){return _(this,B,F,Z,!0)},u.prototype.lastIndexOf=function(B,F,Z){return _(this,B,F,Z,!1)};function ie($,B,F,Z){F=Number(F)||0;var se=$.length-F;Z?(Z=Number(Z),Z>se&&(Z=se)):Z=se;var de=B.length;if(de%2!==0)throw new TypeError("Invalid hex string");Z>de/2&&(Z=de/2);for(var me=0;me<Z;++me){var De=parseInt(B.substr(me*2,2),16);if(isNaN(De))return me;$[F+me]=De}return me}function re($,B,F,Z){return At(mt(B,$.length-F),$,F,Z)}function fe($,B,F,Z){return At(It(B),$,F,Z)}function ne($,B,F,Z){return fe($,B,F,Z)}function ve($,B,F,Z){return At(ai(B),$,F,Z)}function ye($,B,F,Z){return At(Rt(B,$.length-F),$,F,Z)}u.prototype.write=function(B,F,Z,se){if(F===void 0)se="utf8",Z=this.length,F=0;else if(Z===void 0&&typeof F=="string")se=F,Z=this.length,F=0;else if(isFinite(F))F=F|0,isFinite(Z)?(Z=Z|0,se===void 0&&(se="utf8")):(se=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var de=this.length-F;if((Z===void 0||Z>de)&&(Z=de),B.length>0&&(Z<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");for(var me=!1;;)switch(se){case"hex":return ie(this,B,F,Z);case"utf8":case"utf-8":return re(this,B,F,Z);case"ascii":return fe(this,B,F,Z);case"latin1":case"binary":return ne(this,B,F,Z);case"base64":return ve(this,B,F,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,B,F,Z);default:if(me)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),me=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le($,B,F){return B===0&&F===$.length?e.fromByteArray($):e.fromByteArray($.slice(B,F))}function pe($,B,F){F=Math.min($.length,F);for(var Z=[],se=B;se<F;){var de=$[se],me=null,De=de>239?4:de>223?3:de>191?2:1;if(se+De<=F){var _e,Je,ft,Qe;switch(De){case 1:de<128&&(me=de);break;case 2:_e=$[se+1],(_e&192)===128&&(Qe=(de&31)<<6|_e&63,Qe>127&&(me=Qe));break;case 3:_e=$[se+1],Je=$[se+2],(_e&192)===128&&(Je&192)===128&&(Qe=(de&15)<<12|(_e&63)<<6|Je&63,Qe>2047&&(Qe<55296||Qe>57343)&&(me=Qe));break;case 4:_e=$[se+1],Je=$[se+2],ft=$[se+3],(_e&192)===128&&(Je&192)===128&&(ft&192)===128&&(Qe=(de&15)<<18|(_e&63)<<12|(Je&63)<<6|ft&63,Qe>65535&&Qe<1114112&&(me=Qe))}}me===null?(me=65533,De=1):me>65535&&(me-=65536,Z.push(me>>>10&1023|55296),me=56320|me&1023),Z.push(me),se+=De}return Ie(Z)}var Te=4096;function Ie($){var B=$.length;if(B<=Te)return String.fromCharCode.apply(String,$);for(var F="",Z=0;Z<B;)F+=String.fromCharCode.apply(String,$.slice(Z,Z+=Te));return F}function et($,B,F){var Z="";F=Math.min($.length,F);for(var se=B;se<F;++se)Z+=String.fromCharCode($[se]&127);return Z}function nt($,B,F){var Z="";F=Math.min($.length,F);for(var se=B;se<F;++se)Z+=String.fromCharCode($[se]);return Z}function Me($,B,F){var Z=$.length;(!B||B<0)&&(B=0),(!F||F<0||F>Z)&&(F=Z);for(var se="",de=B;de<F;++de)se+=Ot($[de]);return se}function qe($,B,F){for(var Z=$.slice(B,F),se="",de=0;de<Z.length;de+=2)se+=String.fromCharCode(Z[de]+Z[de+1]*256);return se}u.prototype.slice=function(B,F){var Z=this.length;B=~~B,F=F===void 0?Z:~~F,B<0?(B+=Z,B<0&&(B=0)):B>Z&&(B=Z),F<0?(F+=Z,F<0&&(F=0)):F>Z&&(F=Z),F<B&&(F=B);var se;if(u.TYPED_ARRAY_SUPPORT)se=this.subarray(B,F),se.__proto__=u.prototype;else{var de=F-B;se=new u(de,void 0);for(var me=0;me<de;++me)se[me]=this[me+B]}return se};function Ve($,B,F){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+B>F)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function(B,F,Z){B=B|0,F=F|0,Z||Ve(B,F,this.length);for(var se=this[B],de=1,me=0;++me<F&&(de*=256);)se+=this[B+me]*de;return se},u.prototype.readUIntBE=function(B,F,Z){B=B|0,F=F|0,Z||Ve(B,F,this.length);for(var se=this[B+--F],de=1;F>0&&(de*=256);)se+=this[B+--F]*de;return se},u.prototype.readUInt8=function(B,F){return F||Ve(B,1,this.length),this[B]},u.prototype.readUInt16LE=function(B,F){return F||Ve(B,2,this.length),this[B]|this[B+1]<<8},u.prototype.readUInt16BE=function(B,F){return F||Ve(B,2,this.length),this[B]<<8|this[B+1]},u.prototype.readUInt32LE=function(B,F){return F||Ve(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},u.prototype.readUInt32BE=function(B,F){return F||Ve(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},u.prototype.readIntLE=function(B,F,Z){B=B|0,F=F|0,Z||Ve(B,F,this.length);for(var se=this[B],de=1,me=0;++me<F&&(de*=256);)se+=this[B+me]*de;return de*=128,se>=de&&(se-=Math.pow(2,8*F)),se},u.prototype.readIntBE=function(B,F,Z){B=B|0,F=F|0,Z||Ve(B,F,this.length);for(var se=F,de=1,me=this[B+--se];se>0&&(de*=256);)me+=this[B+--se]*de;return de*=128,me>=de&&(me-=Math.pow(2,8*F)),me},u.prototype.readInt8=function(B,F){return F||Ve(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},u.prototype.readInt16LE=function(B,F){F||Ve(B,2,this.length);var Z=this[B]|this[B+1]<<8;return Z&32768?Z|4294901760:Z},u.prototype.readInt16BE=function(B,F){F||Ve(B,2,this.length);var Z=this[B+1]|this[B]<<8;return Z&32768?Z|4294901760:Z},u.prototype.readInt32LE=function(B,F){return F||Ve(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},u.prototype.readInt32BE=function(B,F){return F||Ve(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},u.prototype.readFloatLE=function(B,F){return F||Ve(B,4,this.length),t.read(this,B,!0,23,4)},u.prototype.readFloatBE=function(B,F){return F||Ve(B,4,this.length),t.read(this,B,!1,23,4)},u.prototype.readDoubleLE=function(B,F){return F||Ve(B,8,this.length),t.read(this,B,!0,52,8)},u.prototype.readDoubleBE=function(B,F){return F||Ve(B,8,this.length),t.read(this,B,!1,52,8)};function Se($,B,F,Z,se,de){if(!u.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>se||B<de)throw new RangeError('"value" argument is out of bounds');if(F+Z>$.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function(B,F,Z,se){if(B=+B,F=F|0,Z=Z|0,!se){var de=Math.pow(2,8*Z)-1;Se(this,B,F,Z,de,0)}var me=1,De=0;for(this[F]=B&255;++De<Z&&(me*=256);)this[F+De]=B/me&255;return F+Z},u.prototype.writeUIntBE=function(B,F,Z,se){if(B=+B,F=F|0,Z=Z|0,!se){var de=Math.pow(2,8*Z)-1;Se(this,B,F,Z,de,0)}var me=Z-1,De=1;for(this[F+me]=B&255;--me>=0&&(De*=256);)this[F+me]=B/De&255;return F+Z},u.prototype.writeUInt8=function(B,F,Z){return B=+B,F=F|0,Z||Se(this,B,F,1,255,0),u.TYPED_ARRAY_SUPPORT||(B=Math.floor(B)),this[F]=B&255,F+1};function st($,B,F,Z){B<0&&(B=65535+B+1);for(var se=0,de=Math.min($.length-F,2);se<de;++se)$[F+se]=(B&255<<8*(Z?se:1-se))>>>(Z?se:1-se)*8}u.prototype.writeUInt16LE=function(B,F,Z){return B=+B,F=F|0,Z||Se(this,B,F,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[F]=B&255,this[F+1]=B>>>8):st(this,B,F,!0),F+2},u.prototype.writeUInt16BE=function(B,F,Z){return B=+B,F=F|0,Z||Se(this,B,F,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[F]=B>>>8,this[F+1]=B&255):st(this,B,F,!1),F+2};function ut($,B,F,Z){B<0&&(B=4294967295+B+1);for(var se=0,de=Math.min($.length-F,4);se<de;++se)$[F+se]=B>>>(Z?se:3-se)*8&255}u.prototype.writeUInt32LE=function(B,F,Z){return B=+B,F=F|0,Z||Se(this,B,F,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[F+3]=B>>>24,this[F+2]=B>>>16,this[F+1]=B>>>8,this[F]=B&255):ut(this,B,F,!0),F+4},u.prototype.writeUInt32BE=function(B,F,Z){return B=+B,F=F|0,Z||Se(this,B,F,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[F]=B>>>24,this[F+1]=B>>>16,this[F+2]=B>>>8,this[F+3]=B&255):ut(this,B,F,!1),F+4},u.prototype.writeIntLE=function(B,F,Z,se){if(B=+B,F=F|0,!se){var de=Math.pow(2,8*Z-1);Se(this,B,F,Z,de-1,-de)}var me=0,De=1,_e=0;for(this[F]=B&255;++me<Z&&(De*=256);)B<0&&_e===0&&this[F+me-1]!==0&&(_e=1),this[F+me]=(B/De>>0)-_e&255;return F+Z},u.prototype.writeIntBE=function(B,F,Z,se){if(B=+B,F=F|0,!se){var de=Math.pow(2,8*Z-1);Se(this,B,F,Z,de-1,-de)}var me=Z-1,De=1,_e=0;for(this[F+me]=B&255;--me>=0&&(De*=256);)B<0&&_e===0&&this[F+me+1]!==0&&(_e=1),this[F+me]=(B/De>>0)-_e&255;return F+Z},u.prototype.writeInt8=function(B,F,Z){return B=+B,F=F|0,Z||Se(this,B,F,1,127,-128),u.TYPED_ARRAY_SUPPORT||(B=Math.floor(B)),B<0&&(B=255+B+1),this[F]=B&255,F+1},u.prototype.writeInt16LE=function(B,F,Z){return B=+B,F=F|0,Z||Se(this,B,F,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[F]=B&255,this[F+1]=B>>>8):st(this,B,F,!0),F+2},u.prototype.writeInt16BE=function(B,F,Z){return B=+B,F=F|0,Z||Se(this,B,F,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[F]=B>>>8,this[F+1]=B&255):st(this,B,F,!1),F+2},u.prototype.writeInt32LE=function(B,F,Z){return B=+B,F=F|0,Z||Se(this,B,F,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[F]=B&255,this[F+1]=B>>>8,this[F+2]=B>>>16,this[F+3]=B>>>24):ut(this,B,F,!0),F+4},u.prototype.writeInt32BE=function(B,F,Z){return B=+B,F=F|0,Z||Se(this,B,F,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),u.TYPED_ARRAY_SUPPORT?(this[F]=B>>>24,this[F+1]=B>>>16,this[F+2]=B>>>8,this[F+3]=B&255):ut(this,B,F,!1),F+4};function Ae($,B,F,Z,se,de){if(F+Z>$.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function Ke($,B,F,Z,se){return se||Ae($,B,F,4),t.write($,B,F,Z,23,4),F+4}u.prototype.writeFloatLE=function(B,F,Z){return Ke(this,B,F,!0,Z)},u.prototype.writeFloatBE=function(B,F,Z){return Ke(this,B,F,!1,Z)};function Ct($,B,F,Z,se){return se||Ae($,B,F,8),t.write($,B,F,Z,52,8),F+8}u.prototype.writeDoubleLE=function(B,F,Z){return Ct(this,B,F,!0,Z)},u.prototype.writeDoubleBE=function(B,F,Z){return Ct(this,B,F,!1,Z)},u.prototype.copy=function(B,F,Z,se){if(Z||(Z=0),!se&&se!==0&&(se=this.length),F>=B.length&&(F=B.length),F||(F=0),se>0&&se<Z&&(se=Z),se===Z||B.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("sourceStart out of bounds");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),B.length-F<se-Z&&(se=B.length-F+Z);var de=se-Z,me;if(this===B&&Z<F&&F<se)for(me=de-1;me>=0;--me)B[me+F]=this[me+Z];else if(de<1e3||!u.TYPED_ARRAY_SUPPORT)for(me=0;me<de;++me)B[me+F]=this[me+Z];else Uint8Array.prototype.set.call(B,this.subarray(Z,Z+de),F);return de},u.prototype.fill=function(B,F,Z,se){if(typeof B=="string"){if(typeof F=="string"?(se=F,F=0,Z=this.length):typeof Z=="string"&&(se=Z,Z=this.length),B.length===1){var de=B.charCodeAt(0);de<256&&(B=de)}if(se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!u.isEncoding(se))throw new TypeError("Unknown encoding: "+se)}else typeof B=="number"&&(B=B&255);if(F<0||this.length<F||this.length<Z)throw new RangeError("Out of range index");if(Z<=F)return this;F=F>>>0,Z=Z===void 0?this.length:Z>>>0,B||(B=0);var me;if(typeof B=="number")for(me=F;me<Z;++me)this[me]=B;else{var De=u.isBuffer(B)?B:mt(new u(B,se).toString()),_e=De.length;for(me=0;me<Z-F;++me)this[me+F]=De[me%_e]}return this};var Nt=/[^+\/0-9A-Za-z-_]/g;function ti($){if($=Mt($).replace(Nt,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function Mt($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")}function Ot($){return $<16?"0"+$.toString(16):$.toString(16)}function mt($,B){B=B||1/0;for(var F,Z=$.length,se=null,de=[],me=0;me<Z;++me){if(F=$.charCodeAt(me),F>55295&&F<57344){if(!se){if(F>56319){(B-=3)>-1&&de.push(239,191,189);continue}else if(me+1===Z){(B-=3)>-1&&de.push(239,191,189);continue}se=F;continue}if(F<56320){(B-=3)>-1&&de.push(239,191,189),se=F;continue}F=(se-55296<<10|F-56320)+65536}else se&&(B-=3)>-1&&de.push(239,191,189);if(se=null,F<128){if((B-=1)<0)break;de.push(F)}else if(F<2048){if((B-=2)<0)break;de.push(F>>6|192,F&63|128)}else if(F<65536){if((B-=3)<0)break;de.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((B-=4)<0)break;de.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return de}function It($){for(var B=[],F=0;F<$.length;++F)B.push($.charCodeAt(F)&255);return B}function Rt($,B){for(var F,Z,se,de=[],me=0;me<$.length&&!((B-=2)<0);++me)F=$.charCodeAt(me),Z=F>>8,se=F%256,de.push(se),de.push(Z);return de}function ai($){return e.toByteArray(ti($))}function At($,B,F,Z){for(var se=0;se<Z&&!(se+F>=B.length||se>=$.length);++se)B[se+F]=$[se];return se}function Lt($){return $!==$}})(nf);const mf=n=>{let{sortie:e,isLoading:t}=n;const i=Or(),r=xe.useRef(null),{t:o,i18n:h}=$t(),[u,g]=xe.useState(1),[y,x]=xe.useState(25),[S,T]=xe.useState(),[M,R]=xe.useState(!1),[I,j]=xe.useState(!0),[W,N]=xe.useState(0),[G,K]=xe.useState(),[_,Q]=xe.useState(!1),ie=()=>{N(le=>le+1)},re=(le,pe)=>{g(pe)},fe=xe.useMemo(()=>S==null?void 0:S.slice((u-1)*y,u*y),[S,u,y]),ne=()=>{I?(K(setTimeout(()=>ie(),12e4)),R(!0)):(clearTimeout(G),N(le=>le+1))},ve=le=>{le&&(T([...le]),j(!I),R(!1))},ye=le=>{Q(!0),Zt.get(`/dashboard/fullclientsituation/${le}/`).then(pe=>{i(ns.actions.fetchSituationCLient([pe.data.clientsituation])),i(ns.actions.fetchClientSituationDetails({data:pe.data,isFilter:!1})),i(ns.actions.setClientSituationForOneClient({id:le})),i(ns.actions.setCurrentData(le)),Q(!1)})};return xe.useEffect(()=>{t||T(e)},[t]),q.jsxs(q.Fragment,{children:[_&&q.jsx(xo,{}),q.jsxs(Wi,{children:[q.jsx(Ir,{sx:{padding:1},title:o(Xe.dashboard.transactionPerClient),avatar:q.jsx(Dt,{onClick:()=>ne(),children:q.jsx(Vn,{})})}),q.jsx(Fn,{children:q.jsx(Dn,{sx:{minWidth:300,height:"auto"},children:t?q.jsx(_n,{rowsNum:5}):q.jsx(Nn,{ref:r,children:(e==null?void 0:e.length)>0?fe==null?void 0:fe.map((le,pe)=>{const Te=new Intl.NumberFormat("EN-us",{style:"currency",currency:"MAD"});return q.jsxs(Tr,{hover:!0,children:[q.jsx(ni,{children:q.jsxs(vi,{alignItems:"center",direction:"row",spacing:2,children:[q.jsxs(Bn,{sx:{bgcolor:"#6366F1",color:"#fff"},children:[le.first_name[0]," ",le.last_name[0]]}),q.jsx("div",{children:q.jsxs(Ze,{variant:"subtitle2",children:[le.first_name," ",le.last_name]})})]})}),q.jsxs(ni,{sx:{direction:"initial",whiteSpace:"nowrap"},children:[q.jsx(Ze,{color:(!isNaN(le.final_confirmed_sold)&&le.final_confirmed_sold)<0?"error.main":"success.main",variant:"subtitle2",children:isNaN(le.final_confirmed_sold)?le.final_confirmed_sold:Te.format(le.final_confirmed_sold).replaceAll(","," ").replace("MAD","")+" "+o(Xe.global.mad)}),q.jsx(Ze,{color:"text.secondary",noWrap:!0,variant:"body2",children:o(Xe.situationCliente.debt)})]}),q.jsxs(ni,{align:"right",children:[q.jsx(Dt,{color:"success",disabled:isNaN(le.final_confirmed_sold),onClick:()=>ye(le.client_id),children:q.jsx(Uo,{})}),q.jsx(tr,{sx:{backgroundColor:Ie=>Ie.palette.mode==="dark"?"neutral.700":"neutral.200",borderRadius:1.5,px:1,py:.5,display:"inline-block"},children:q.jsxs(Ze,{variant:"subtitle2",children:["#",pe+1]})})]})]},pe)}):q.jsx(Tr,{children:q.jsx(ni,{colSpan:10,sx:{textAlign:"center"},children:o(Xe.magazin.nothingToDisplay)})})})})}),q.jsx(Wn,{sx:{justifyContent:"flex-end"},children:q.jsx(tr,{sx:{display:"flex",justifyContent:"end",p:"5px"},children:q.jsx(Co,{count:Math.ceil((S==null?void 0:S.length)/y),defaultPage:u,onChange:re,color:"primary",size:"large"})})})]}),q.jsx(qn,{isOpen:M,show:I,onSuccess:ve,onClose:()=>R(!1),uri:"/dashboard/outbound/",uniqueKey:W}),q.jsx(Mc,{})]})};var Al={},Ln={exports:{}};/*!
 * ApexCharts v3.41.0
 * (c) 2018-2023 ApexCharts
 * Released under the MIT License.
 */(function(n,e){function t(z,s){var a=Object.keys(z);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(z);s&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(z,c).enumerable})),a.push.apply(a,l)}return a}function i(z){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?t(Object(a),!0).forEach(function(l){g(z,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(l){Object.defineProperty(z,l,Object.getOwnPropertyDescriptor(a,l))})}return z}function r(z){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r(z)}function o(z,s){if(!(z instanceof s))throw new TypeError("Cannot call a class as a function")}function h(z,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(z,l.key,l)}}function u(z,s,a){return s&&h(z.prototype,s),a&&h(z,a),z}function g(z,s,a){return s in z?Object.defineProperty(z,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):z[s]=a,z}function y(z,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(s&&s.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),s&&S(z,s)}function x(z){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},x(z)}function S(z,s){return S=Object.setPrototypeOf||function(a,l){return a.__proto__=l,a},S(z,s)}function T(z,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(z)}function M(z){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,l=x(z);if(s){var c=x(this).constructor;a=Reflect.construct(l,arguments,c)}else a=l.apply(this,arguments);return T(this,a)}}function R(z,s){return function(a){if(Array.isArray(a))return a}(z)||function(a,l){var c=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(c!=null){var d,f,p=[],m=!0,b=!1;try{for(c=c.call(a);!(m=(d=c.next()).done)&&(p.push(d.value),!l||p.length!==l);m=!0);}catch(w){b=!0,f=w}finally{try{m||c.return==null||c.return()}finally{if(b)throw f}}return p}}(z,s)||j(z,s)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I(z){return function(s){if(Array.isArray(s))return W(s)}(z)||function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(z)||j(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(z,s){if(z){if(typeof z=="string")return W(z,s);var a=Object.prototype.toString.call(z).slice(8,-1);return a==="Object"&&z.constructor&&(a=z.constructor.name),a==="Map"||a==="Set"?Array.from(z):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?W(z,s):void 0}}function W(z,s){(s==null||s>z.length)&&(s=z.length);for(var a=0,l=new Array(s);a<s;a++)l[a]=z[a];return l}var N=function(){function z(){o(this,z)}return u(z,[{key:"shadeRGBColor",value:function(s,a){var l=a.split(","),c=s<0?0:255,d=s<0?-1*s:s,f=parseInt(l[0].slice(4),10),p=parseInt(l[1],10),m=parseInt(l[2],10);return"rgb("+(Math.round((c-f)*d)+f)+","+(Math.round((c-p)*d)+p)+","+(Math.round((c-m)*d)+m)+")"}},{key:"shadeHexColor",value:function(s,a){var l=parseInt(a.slice(1),16),c=s<0?0:255,d=s<0?-1*s:s,f=l>>16,p=l>>8&255,m=255&l;return"#"+(16777216+65536*(Math.round((c-f)*d)+f)+256*(Math.round((c-p)*d)+p)+(Math.round((c-m)*d)+m)).toString(16).slice(1)}},{key:"shadeColor",value:function(s,a){return z.isColorHex(a)?this.shadeHexColor(s,a):this.shadeRGBColor(s,a)}}],[{key:"bind",value:function(s,a){return function(){return s.apply(a,arguments)}}},{key:"isObject",value:function(s){return s&&r(s)==="object"&&!Array.isArray(s)&&s!=null}},{key:"is",value:function(s,a){return Object.prototype.toString.call(a)==="[object "+s+"]"}},{key:"listToArray",value:function(s){var a,l=[];for(a=0;a<s.length;a++)l[a]=s[a];return l}},{key:"extend",value:function(s,a){var l=this;typeof Object.assign!="function"&&(Object.assign=function(d){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(d),p=1;p<arguments.length;p++){var m=arguments[p];if(m!=null)for(var b in m)m.hasOwnProperty(b)&&(f[b]=m[b])}return f});var c=Object.assign({},s);return this.isObject(s)&&this.isObject(a)&&Object.keys(a).forEach(function(d){l.isObject(a[d])&&d in s?c[d]=l.extend(s[d],a[d]):Object.assign(c,g({},d,a[d]))}),c}},{key:"extendArray",value:function(s,a){var l=[];return s.map(function(c){l.push(z.extend(a,c))}),s=l}},{key:"monthMod",value:function(s){return s%12}},{key:"clone",value:function(s){if(z.is("Array",s)){for(var a=[],l=0;l<s.length;l++)a[l]=this.clone(s[l]);return a}if(z.is("Null",s))return null;if(z.is("Date",s))return s;if(r(s)==="object"){var c={};for(var d in s)s.hasOwnProperty(d)&&(c[d]=this.clone(s[d]));return c}return s}},{key:"log10",value:function(s){return Math.log(s)/Math.LN10}},{key:"roundToBase10",value:function(s){return Math.pow(10,Math.floor(Math.log10(s)))}},{key:"roundToBase",value:function(s,a){return Math.pow(a,Math.floor(Math.log(s)/Math.log(a)))}},{key:"parseNumber",value:function(s){return s===null?s:parseFloat(s)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(s){var a=String(s).split(/[eE]/);if(a.length===1)return a[0];var l="",c=s<0?"-":"",d=a[0].replace(".",""),f=Number(a[1])+1;if(f<0){for(l=c+"0.";f++;)l+="0";return l+d.replace(/^-/,"")}for(f-=d.length;f--;)l+="0";return d+l}},{key:"getDimensions",value:function(s){var a=getComputedStyle(s,null),l=s.clientHeight,c=s.clientWidth;return l-=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),[c-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),l]}},{key:"getBoundingClientRect",value:function(s){var a=s.getBoundingClientRect();return{top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:s.clientWidth,height:s.clientHeight,x:a.left,y:a.top}}},{key:"getLargestStringFromArr",value:function(s){return s.reduce(function(a,l){return Array.isArray(l)&&(l=l.reduce(function(c,d){return c.length>d.length?c:d})),a.length>l.length?a:l},0)}},{key:"hexToRgba",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;s.substring(0,1)!=="#"&&(s="#999999");var l=s.replace("#","");l=l.match(new RegExp("(.{"+l.length/3+"})","g"));for(var c=0;c<l.length;c++)l[c]=parseInt(l[c].length===1?l[c]+l[c]:l[c],16);return a!==void 0&&l.push(a),"rgba("+l.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(s){return parseFloat(s.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(s){return(s=s.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&s.length===4?"#"+("0"+parseInt(s[1],10).toString(16)).slice(-2)+("0"+parseInt(s[2],10).toString(16)).slice(-2)+("0"+parseInt(s[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(s){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(s)}},{key:"getPolygonPos",value:function(s,a){for(var l=[],c=2*Math.PI/a,d=0;d<a;d++){var f={};f.x=s*Math.sin(d*c),f.y=-s*Math.cos(d*c),l.push(f)}return l}},{key:"polarToCartesian",value:function(s,a,l,c){var d=(c-90)*Math.PI/180;return{x:s+l*Math.cos(d),y:a+l*Math.sin(d)}}},{key:"escapeString",value:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",l=s.toString().slice();return l=l.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,a)}},{key:"negToZero",value:function(s){return s<0?0:s}},{key:"moveIndexInArray",value:function(s,a,l){if(l>=s.length)for(var c=l-s.length+1;c--;)s.push(void 0);return s.splice(l,0,s.splice(a,1)[0]),s}},{key:"extractNumber",value:function(s){return parseFloat(s.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(s,a){for(;(s=s.parentElement)&&!s.classList.contains(a););return s}},{key:"setELstyles",value:function(s,a){for(var l in a)a.hasOwnProperty(l)&&(s.style.key=a[l])}},{key:"isNumber",value:function(s){return!isNaN(s)&&parseFloat(Number(s))===s&&!isNaN(parseInt(s,10))}},{key:"isFloat",value:function(s){return Number(s)===s&&s%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var s=window.navigator.userAgent,a=s.indexOf("MSIE ");if(a>0)return parseInt(s.substring(a+5,s.indexOf(".",a)),10);if(s.indexOf("Trident/")>0){var l=s.indexOf("rv:");return parseInt(s.substring(l+3,s.indexOf(".",l)),10)}var c=s.indexOf("Edge/");return c>0&&parseInt(s.substring(c+5,s.indexOf(".",c)),10)}}]),z}(),G=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.setEasingFunctions()}return u(z,[{key:"setEasingFunctions",value:function(){var s;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":s="-";break;case"easein":s="<";break;case"easeout":s=">";break;case"easeinout":default:s="<>";break;case"swing":s=function(a){var l=1.70158;return(a-=1)*a*((l+1)*a+l)+1};break;case"bounce":s=function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375};break;case"elastic":s=function(a){return a===!!a?a:Math.pow(2,-10*a)*Math.sin((a-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=s}}},{key:"animateLine",value:function(s,a,l,c){s.attr(a).animate(c).attr(l)}},{key:"animateMarker",value:function(s,a,l,c,d,f){a||(a=0),s.attr({r:a,width:a,height:a}).animate(c,d).attr({r:l,width:l.width,height:l.height}).afterAll(function(){f()})}},{key:"animateCircle",value:function(s,a,l,c,d){s.attr({r:a.r,cx:a.cx,cy:a.cy}).animate(c,d).attr({r:l.r,cx:l.cx,cy:l.cy})}},{key:"animateRect",value:function(s,a,l,c,d){s.attr(a).animate(c).attr(l).afterAll(function(){return d()})}},{key:"animatePathsGradually",value:function(s){var a=s.el,l=s.realIndex,c=s.j,d=s.fill,f=s.pathFrom,p=s.pathTo,m=s.speed,b=s.delay,w=this.w,C=0;w.config.chart.animations.animateGradually.enabled&&(C=w.config.chart.animations.animateGradually.delay),w.config.chart.animations.dynamicAnimation.enabled&&w.globals.dataChanged&&w.config.chart.type!=="bar"&&(C=0),this.morphSVG(a,l,c,w.config.chart.type!=="line"||w.globals.comboCharts?d:"stroke",f,p,m,b*C)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(s){var a=s.el;a.classList.remove("apexcharts-element-hidden"),a.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(s){var a=this.w;a.globals.animationEnded||(a.globals.animationEnded=!0,this.showDelayedElements(),typeof a.config.chart.events.animationEnd=="function"&&a.config.chart.events.animationEnd(this.ctx,{el:s,w:a}))}},{key:"morphSVG",value:function(s,a,l,c,d,f,p,m){var b=this,w=this.w;d||(d=s.attr("pathFrom")),f||(f=s.attr("pathTo"));var C=function(A){return w.config.chart.type==="radar"&&(p=1),"M 0 ".concat(w.globals.gridHeight)};(!d||d.indexOf("undefined")>-1||d.indexOf("NaN")>-1)&&(d=C()),(!f||f.indexOf("undefined")>-1||f.indexOf("NaN")>-1)&&(f=C()),w.globals.shouldAnimate||(p=1),s.plot(d).animate(1,w.globals.easing,m).plot(d).animate(p,w.globals.easing,m).plot(f).afterAll(function(){N.isNumber(l)?l===w.globals.series[w.globals.maxValsInArrayIndex].length-2&&w.globals.shouldAnimate&&b.animationCompleted(s):c!=="none"&&w.globals.shouldAnimate&&(!w.globals.comboCharts&&a===w.globals.series.length-1||w.globals.comboCharts)&&b.animationCompleted(s),b.showDelayedElements()})}}]),z}(),K=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"getDefaultFilter",value:function(s,a){var l=this.w;s.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),l.config.states.normal.filter!=="none"?this.applyFilter(s,a,l.config.states.normal.filter.type,l.config.states.normal.filter.value):l.config.chart.dropShadow.enabled&&this.dropShadow(s,l.config.chart.dropShadow,a)}},{key:"addNormalFilter",value:function(s,a){var l=this.w;l.config.chart.dropShadow.enabled&&!s.node.classList.contains("apexcharts-marker")&&this.dropShadow(s,l.config.chart.dropShadow,a)}},{key:"addLightenFilter",value:function(s,a,l){var c=this,d=this.w,f=l.intensity;s.unfilter(!0),new window.SVG.Filter,s.filter(function(p){var m=d.config.chart.dropShadow;(m.enabled?c.addShadow(p,a,m):p).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:f}})}),s.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(s.filterer.node)}},{key:"addDarkenFilter",value:function(s,a,l){var c=this,d=this.w,f=l.intensity;s.unfilter(!0),new window.SVG.Filter,s.filter(function(p){var m=d.config.chart.dropShadow;(m.enabled?c.addShadow(p,a,m):p).componentTransfer({rgb:{type:"linear",slope:f}})}),s.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(s.filterer.node)}},{key:"applyFilter",value:function(s,a,l){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(l){case"none":this.addNormalFilter(s,a);break;case"lighten":this.addLightenFilter(s,a,{intensity:c});break;case"darken":this.addDarkenFilter(s,a,{intensity:c})}}},{key:"addShadow",value:function(s,a,l){var c=l.blur,d=l.top,f=l.left,p=l.color,m=l.opacity,b=s.flood(Array.isArray(p)?p[a]:p,m).composite(s.sourceAlpha,"in").offset(f,d).gaussianBlur(c).merge(s.source);return s.blend(s.source,b)}},{key:"dropShadow",value:function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=a.top,d=a.left,f=a.blur,p=a.color,m=a.opacity,b=a.noUserSpaceOnUse,w=this.w;return s.unfilter(!0),N.isIE()&&w.config.chart.type==="radialBar"||(p=Array.isArray(p)?p[l]:p,s.filter(function(C){var A=null;A=N.isSafari()||N.isFirefox()||N.isIE()?C.flood(p,m).composite(C.sourceAlpha,"in").offset(d,c).gaussianBlur(f):C.flood(p,m).composite(C.sourceAlpha,"in").offset(d,c).gaussianBlur(f).merge(C.source),C.blend(C.source,A)}),b||s.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(s.filterer.node)),s}},{key:"setSelectionFilter",value:function(s,a,l){var c=this.w;if(c.globals.selectedDataPoints[a]!==void 0&&c.globals.selectedDataPoints[a].indexOf(l)>-1){s.node.setAttribute("selected",!0);var d=c.config.states.active.filter;d!=="none"&&this.applyFilter(s,a,d.type,d.value)}}},{key:"_scaleFilterSize",value:function(s){(function(a){for(var l in a)a.hasOwnProperty(l)&&s.setAttribute(l,a[l])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),z}(),_=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"roundPathCorners",value:function(s,a){function l(U,J,ee){var ae=J.x-U.x,ce=J.y-U.y,ue=Math.sqrt(ae*ae+ce*ce);return c(U,J,Math.min(1,ee/ue))}function c(U,J,ee){return{x:U.x+(J.x-U.x)*ee,y:U.y+(J.y-U.y)*ee}}function d(U,J){U.length>2&&(U[U.length-2]=J.x,U[U.length-1]=J.y)}function f(U){return{x:parseFloat(U[U.length-2]),y:parseFloat(U[U.length-1])}}s.indexOf("NaN")>-1&&(s="");var p=s.split(/[,\s]/).reduce(function(U,J){var ee=J.match("([a-zA-Z])(.+)");return ee?(U.push(ee[1]),U.push(ee[2])):U.push(J),U},[]).reduce(function(U,J){return parseFloat(J)==J&&U.length?U[U.length-1].push(J):U.push([J]),U},[]),m=[];if(p.length>1){var b=f(p[0]),w=null;p[p.length-1][0]=="Z"&&p[0].length>2&&(w=["L",b.x,b.y],p[p.length-1]=w),m.push(p[0]);for(var C=1;C<p.length;C++){var A=m[m.length-1],L=p[C],P=L==w?p[1]:p[C+1];if(P&&A&&A.length>2&&L[0]=="L"&&P.length>2&&P[0]=="L"){var O,D,H=f(A),X=f(L),v=f(P);O=l(X,H,a),D=l(X,v,a),d(L,O),L.origPoint=X,m.push(L);var k=c(O,X,.5),E=c(X,D,.5),V=["C",k.x,k.y,E.x,E.y,D.x,D.y];V.origPoint=X,m.push(V)}else m.push(L)}if(w){var Y=f(m[m.length-1]);m.push(["Z"]),d(m[0],Y)}}else m=p;return m.reduce(function(U,J){return U+J.join(" ")+" "},"")}},{key:"drawLine",value:function(s,a,l,c){var d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:s,y1:a,x2:l,y2:c,stroke:d,"stroke-dasharray":f,"stroke-width":p,"stroke-linecap":m})}},{key:"drawRect",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,b=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,w=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,C=this.w.globals.dom.Paper.rect();return C.attr({x:s,y:a,width:l>0?l:0,height:c>0?c:0,rx:d,ry:d,opacity:p,"stroke-width":m!==null?m:0,stroke:b!==null?b:"none","stroke-dasharray":w}),C.node.setAttribute("fill",f),C}},{key:"drawPolygon",value:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(s).attr({fill:c,stroke:a,"stroke-width":l})}},{key:"drawCircle",value:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;s<0&&(s=0);var l=this.w.globals.dom.Paper.circle(2*s);return a!==null&&l.attr(a),l}},{key:"drawPath",value:function(s){var a=s.d,l=a===void 0?"":a,c=s.stroke,d=c===void 0?"#a8a8a8":c,f=s.strokeWidth,p=f===void 0?1:f,m=s.fill,b=s.fillOpacity,w=b===void 0?1:b,C=s.strokeOpacity,A=C===void 0?1:C,L=s.classes,P=s.strokeLinecap,O=P===void 0?null:P,D=s.strokeDashArray,H=D===void 0?0:D,X=this.w;return O===null&&(O=X.config.stroke.lineCap),(l.indexOf("undefined")>-1||l.indexOf("NaN")>-1)&&(l="M 0 ".concat(X.globals.gridHeight)),X.globals.dom.Paper.path(l).attr({fill:m,"fill-opacity":w,stroke:d,"stroke-opacity":A,"stroke-linecap":O,"stroke-width":p,"stroke-dasharray":H,class:L})}},{key:"group",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=this.w.globals.dom.Paper.group();return s!==null&&a.attr(s),a}},{key:"move",value:function(s,a){var l=["M",s,a].join(" ");return l}},{key:"line",value:function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=null;return l===null?c=[" L",s,a].join(" "):l==="H"?c=[" H",s].join(" "):l==="V"&&(c=[" V",a].join(" ")),c}},{key:"curve",value:function(s,a,l,c,d,f){var p=["C",s,a,l,c,d,f].join(" ");return p}},{key:"quadraticCurve",value:function(s,a,l,c){return["Q",s,a,l,c].join(" ")}},{key:"arc",value:function(s,a,l,c,d,f,p){var m="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(m="a");var b=[m,s,a,l,c,d,f,p].join(" ");return b}},{key:"renderPaths",value:function(s){var a,l=s.j,c=s.realIndex,d=s.pathFrom,f=s.pathTo,p=s.stroke,m=s.strokeWidth,b=s.strokeLinecap,w=s.fill,C=s.animationDelay,A=s.initialSpeed,L=s.dataChangeSpeed,P=s.className,O=s.shouldClipToGrid,D=O===void 0||O,H=s.bindEventsOnPaths,X=H===void 0||H,v=s.drawShadow,k=v===void 0||v,E=this.w,V=new K(this.ctx),Y=new G(this.ctx),U=this.w.config.chart.animations.enabled,J=U&&this.w.config.chart.animations.dynamicAnimation.enabled,ee=!!(U&&!E.globals.resized||J&&E.globals.dataChanged&&E.globals.shouldAnimate);ee?a=d:(a=f,E.globals.animationEnded=!0);var ae=E.config.stroke.dashArray,ce=0;ce=Array.isArray(ae)?ae[c]:E.config.stroke.dashArray;var ue=this.drawPath({d:a,stroke:p,strokeWidth:m,fill:w,fillOpacity:1,classes:P,strokeLinecap:b,strokeDashArray:ce});if(ue.attr("index",c),D&&ue.attr({"clip-path":"url(#gridRectMask".concat(E.globals.cuid,")")}),E.config.states.normal.filter.type!=="none")V.getDefaultFilter(ue,c);else if(E.config.chart.dropShadow.enabled&&k&&(!E.config.chart.dropShadow.enabledOnSeries||E.config.chart.dropShadow.enabledOnSeries&&E.config.chart.dropShadow.enabledOnSeries.indexOf(c)!==-1)){var be=E.config.chart.dropShadow;V.dropShadow(ue,be,c)}X&&(ue.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,ue)),ue.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,ue)),ue.node.addEventListener("mousedown",this.pathMouseDown.bind(this,ue))),ue.attr({pathTo:f,pathFrom:d});var Le={el:ue,j:l,realIndex:c,pathFrom:d,pathTo:f,fill:w,strokeWidth:m,delay:C};return!U||E.globals.resized||E.globals.dataChanged?!E.globals.resized&&E.globals.dataChanged||Y.showDelayedElements():Y.animatePathsGradually(i(i({},Le),{},{speed:A})),E.globals.dataChanged&&J&&ee&&Y.animatePathsGradually(i(i({},Le),{},{speed:L})),ue}},{key:"drawPattern",value:function(s,a,l){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(a,l,function(f){s==="horizontalLines"?f.line(0,0,l,0).stroke({color:c,width:d+1}):s==="verticalLines"?f.line(0,0,0,a).stroke({color:c,width:d+1}):s==="slantedLines"?f.line(0,0,a,l).stroke({color:c,width:d}):s==="squares"?f.rect(a,l).fill("none").stroke({color:c,width:d}):s==="circles"&&f.circle(a).fill("none").stroke({color:c,width:d})})}},{key:"drawGradient",value:function(s,a,l,c,d){var f,p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,m=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,b=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,w=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,C=this.w;a.length<9&&a.indexOf("#")===0&&(a=N.hexToRgba(a,c)),l.length<9&&l.indexOf("#")===0&&(l=N.hexToRgba(l,d));var A=0,L=1,P=1,O=null;m!==null&&(A=m[0]!==void 0?m[0]/100:0,L=m[1]!==void 0?m[1]/100:1,P=m[2]!==void 0?m[2]/100:1,O=m[3]!==void 0?m[3]/100:null);var D=!(C.config.chart.type!=="donut"&&C.config.chart.type!=="pie"&&C.config.chart.type!=="polarArea"&&C.config.chart.type!=="bubble");if(f=b===null||b.length===0?C.globals.dom.Paper.gradient(D?"radial":"linear",function(v){v.at(A,a,c),v.at(L,l,d),v.at(P,l,d),O!==null&&v.at(O,a,c)}):C.globals.dom.Paper.gradient(D?"radial":"linear",function(v){(Array.isArray(b[w])?b[w]:b).forEach(function(k){v.at(k.offset/100,k.color,k.opacity)})}),D){var H=C.globals.gridWidth/2,X=C.globals.gridHeight/2;C.config.chart.type!=="bubble"?f.attr({gradientUnits:"userSpaceOnUse",cx:H,cy:X,r:p}):f.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else s==="vertical"?f.from(0,0).to(0,1):s==="diagonal"?f.from(0,0).to(1,1):s==="horizontal"?f.from(0,1).to(1,1):s==="diagonal2"&&f.from(1,0).to(0,1);return f}},{key:"getTextBasedOnMaxWidth",value:function(s){var a=s.text,l=s.maxWidth,c=s.fontSize,d=s.fontFamily,f=this.getTextRects(a,c,d),p=f.width/a.length,m=Math.floor(l/p);return l<f.width?a.slice(0,m-3)+"...":a}},{key:"drawText",value:function(s){var a=this,l=s.x,c=s.y,d=s.text,f=s.textAnchor,p=s.fontSize,m=s.fontFamily,b=s.fontWeight,w=s.foreColor,C=s.opacity,A=s.maxWidth,L=s.cssClass,P=L===void 0?"":L,O=s.isPlainText,D=O===void 0||O,H=this.w;d===void 0&&(d="");var X=d;f||(f="start"),w&&w.length||(w=H.config.chart.foreColor),m=m||H.config.chart.fontFamily,b=b||"regular";var v,k={maxWidth:A,fontSize:p=p||"11px",fontFamily:m};return Array.isArray(d)?v=H.globals.dom.Paper.text(function(E){for(var V=0;V<d.length;V++)X=d[V],A&&(X=a.getTextBasedOnMaxWidth(i({text:d[V]},k))),V===0?E.tspan(X):E.tspan(X).newLine()}):(A&&(X=this.getTextBasedOnMaxWidth(i({text:d},k))),v=D?H.globals.dom.Paper.plain(d):H.globals.dom.Paper.text(function(E){return E.tspan(X)})),v.attr({x:l,y:c,"text-anchor":f,"dominant-baseline":"auto","font-size":p,"font-family":m,"font-weight":b,fill:w,class:"apexcharts-text "+P}),v.node.style.fontFamily=m,v.node.style.opacity=C,v}},{key:"drawMarker",value:function(s,a,l){s=s||0;var c=l.pSize||0,d=null;if(l.shape==="square"||l.shape==="rect"){var f=l.pRadius===void 0?c/2:l.pRadius;a!==null&&c||(c=0,f=0);var p=1.2*c+f,m=this.drawRect(p,p,p,p,f);m.attr({x:s-p/2,y:a-p/2,cx:s,cy:a,class:l.class?l.class:"",fill:l.pointFillColor,"fill-opacity":l.pointFillOpacity?l.pointFillOpacity:1,stroke:l.pointStrokeColor,"stroke-width":l.pointStrokeWidth?l.pointStrokeWidth:0,"stroke-opacity":l.pointStrokeOpacity?l.pointStrokeOpacity:1}),d=m}else l.shape!=="circle"&&l.shape||(N.isNumber(a)||(c=0,a=0),d=this.drawCircle(c,{cx:s,cy:a,class:l.class?l.class:"",stroke:l.pointStrokeColor,fill:l.pointFillColor,"fill-opacity":l.pointFillOpacity?l.pointFillOpacity:1,"stroke-width":l.pointStrokeWidth?l.pointStrokeWidth:0,"stroke-opacity":l.pointStrokeOpacity?l.pointStrokeOpacity:1}));return d}},{key:"pathMouseEnter",value:function(s,a){var l=this.w,c=new K(this.ctx),d=parseInt(s.node.getAttribute("index"),10),f=parseInt(s.node.getAttribute("j"),10);if(typeof l.config.chart.events.dataPointMouseEnter=="function"&&l.config.chart.events.dataPointMouseEnter(a,this.ctx,{seriesIndex:d,dataPointIndex:f,w:l}),this.ctx.events.fireEvent("dataPointMouseEnter",[a,this.ctx,{seriesIndex:d,dataPointIndex:f,w:l}]),(l.config.states.active.filter.type==="none"||s.node.getAttribute("selected")!=="true")&&l.config.states.hover.filter.type!=="none"&&!l.globals.isTouchDevice){var p=l.config.states.hover.filter;c.applyFilter(s,d,p.type,p.value)}}},{key:"pathMouseLeave",value:function(s,a){var l=this.w,c=new K(this.ctx),d=parseInt(s.node.getAttribute("index"),10),f=parseInt(s.node.getAttribute("j"),10);typeof l.config.chart.events.dataPointMouseLeave=="function"&&l.config.chart.events.dataPointMouseLeave(a,this.ctx,{seriesIndex:d,dataPointIndex:f,w:l}),this.ctx.events.fireEvent("dataPointMouseLeave",[a,this.ctx,{seriesIndex:d,dataPointIndex:f,w:l}]),l.config.states.active.filter.type!=="none"&&s.node.getAttribute("selected")==="true"||l.config.states.hover.filter.type!=="none"&&c.getDefaultFilter(s,d)}},{key:"pathMouseDown",value:function(s,a){var l=this.w,c=new K(this.ctx),d=parseInt(s.node.getAttribute("index"),10),f=parseInt(s.node.getAttribute("j"),10),p="false";if(s.node.getAttribute("selected")==="true"){if(s.node.setAttribute("selected","false"),l.globals.selectedDataPoints[d].indexOf(f)>-1){var m=l.globals.selectedDataPoints[d].indexOf(f);l.globals.selectedDataPoints[d].splice(m,1)}}else{if(!l.config.states.active.allowMultipleDataPointsSelection&&l.globals.selectedDataPoints.length>0){l.globals.selectedDataPoints=[];var b=l.globals.dom.Paper.select(".apexcharts-series path").members,w=l.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,C=function(P){Array.prototype.forEach.call(P,function(O){O.node.setAttribute("selected","false"),c.getDefaultFilter(O,d)})};C(b),C(w)}s.node.setAttribute("selected","true"),p="true",l.globals.selectedDataPoints[d]===void 0&&(l.globals.selectedDataPoints[d]=[]),l.globals.selectedDataPoints[d].push(f)}if(p==="true"){var A=l.config.states.active.filter;if(A!=="none")c.applyFilter(s,d,A.type,A.value);else if(l.config.states.hover.filter!=="none"&&!l.globals.isTouchDevice){var L=l.config.states.hover.filter;c.applyFilter(s,d,L.type,L.value)}}else l.config.states.active.filter.type!=="none"&&(l.config.states.hover.filter.type==="none"||l.globals.isTouchDevice?c.getDefaultFilter(s,d):(L=l.config.states.hover.filter,c.applyFilter(s,d,L.type,L.value)));typeof l.config.chart.events.dataPointSelection=="function"&&l.config.chart.events.dataPointSelection(a,this.ctx,{selectedDataPoints:l.globals.selectedDataPoints,seriesIndex:d,dataPointIndex:f,w:l}),a&&this.ctx.events.fireEvent("dataPointSelection",[a,this.ctx,{selectedDataPoints:l.globals.selectedDataPoints,seriesIndex:d,dataPointIndex:f,w:l}])}},{key:"rotateAroundCenter",value:function(s){var a={};return s&&typeof s.getBBox=="function"&&(a=s.getBBox()),{x:a.x+a.width/2,y:a.y+a.height/2}}},{key:"getTextRects",value:function(s,a,l,c){var d=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],f=this.w,p=this.drawText({x:-200,y:-200,text:s,textAnchor:"start",fontSize:a,fontFamily:l,foreColor:"#fff",opacity:0});c&&p.attr("transform",c),f.globals.dom.Paper.add(p);var m=p.bbox();return d||(m=p.node.getBoundingClientRect()),p.remove(),{width:m.width,height:m.height}}},{key:"placeTextWithEllipsis",value:function(s,a,l){if(typeof s.getComputedTextLength=="function"&&(s.textContent=a,a.length>0&&s.getComputedTextLength()>=l/1.1)){for(var c=a.length-3;c>0;c-=3)if(s.getSubStringLength(0,c)<=l/1.1)return void(s.textContent=a.substring(0,c)+"...");s.textContent="."}}}],[{key:"setAttrs",value:function(s,a){for(var l in a)a.hasOwnProperty(l)&&s.setAttribute(l,a[l])}}]),z}(),Q=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"getStackedSeriesTotals",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=this.w,l=[];if(a.globals.series.length===0)return l;for(var c=0;c<a.globals.series[a.globals.maxValsInArrayIndex].length;c++){for(var d=0,f=0;f<a.globals.series.length;f++)a.globals.series[f][c]!==void 0&&s.indexOf(f)===-1&&(d+=a.globals.series[f][c]);l.push(d)}return l}},{key:"getSeriesTotalByIndex",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return s===null?this.w.config.series.reduce(function(a,l){return a+l},0):this.w.globals.series[s].reduce(function(a,l){return a+l},0)}},{key:"isSeriesNull",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(s===null?this.w.config.series.filter(function(a){return a!==null}):this.w.config.series[s].data.filter(function(a){return a!==null})).length===0}},{key:"seriesHaveSameValues",value:function(s){return this.w.globals.series[s].every(function(a,l,c){return a===c[0]})}},{key:"getCategoryLabels",value:function(s){var a=this.w,l=s.slice();return a.config.xaxis.convertedCatToNumeric&&(l=s.map(function(c,d){return a.config.xaxis.labels.formatter(c-a.globals.minX+1)})),l}},{key:"getLargestSeries",value:function(){var s=this.w;s.globals.maxValsInArrayIndex=s.globals.series.map(function(a){return a.length}).indexOf(Math.max.apply(Math,s.globals.series.map(function(a){return a.length})))}},{key:"getLargestMarkerSize",value:function(){var s=this.w,a=0;return s.globals.markers.size.forEach(function(l){a=Math.max(a,l)}),s.config.markers.discrete&&s.config.markers.discrete.length&&s.config.markers.discrete.forEach(function(l){a=Math.max(a,l.size)}),a>0&&(a+=s.config.markers.hover.sizeOffset+1),s.globals.markers.largestSize=a,a}},{key:"getSeriesTotals",value:function(){var s=this.w;s.globals.seriesTotals=s.globals.series.map(function(a,l){var c=0;if(Array.isArray(a))for(var d=0;d<a.length;d++)c+=a[d];else c+=a;return c})}},{key:"getSeriesTotalsXRange",value:function(s,a){var l=this.w;return l.globals.series.map(function(c,d){for(var f=0,p=0;p<c.length;p++)l.globals.seriesX[d][p]>s&&l.globals.seriesX[d][p]<a&&(f+=c[p]);return f})}},{key:"getPercentSeries",value:function(){var s=this.w;s.globals.seriesPercent=s.globals.series.map(function(a,l){var c=[];if(Array.isArray(a))for(var d=0;d<a.length;d++){var f=s.globals.stackedSeriesTotals[d],p=0;f&&(p=100*a[d]/f),c.push(p)}else{var m=100*a/s.globals.seriesTotals.reduce(function(b,w){return b+w},0);c.push(m)}return c})}},{key:"getCalculatedRatios",value:function(){var s,a,l,c,d=this.w.globals,f=[],p=0,m=[],b=.1,w=0;if(d.yRange=[],d.isMultipleYAxis)for(var C=0;C<d.minYArr.length;C++)d.yRange.push(Math.abs(d.minYArr[C]-d.maxYArr[C])),m.push(0);else d.yRange.push(Math.abs(d.minY-d.maxY));d.xRange=Math.abs(d.maxX-d.minX),d.zRange=Math.abs(d.maxZ-d.minZ);for(var A=0;A<d.yRange.length;A++)f.push(d.yRange[A]/d.gridHeight);if(a=d.xRange/d.gridWidth,l=Math.abs(d.initialMaxX-d.initialMinX)/d.gridWidth,s=d.yRange/d.gridWidth,c=d.xRange/d.gridHeight,(p=d.zRange/d.gridHeight*16)||(p=1),d.minY!==Number.MIN_VALUE&&Math.abs(d.minY)!==0&&(d.hasNegs=!0),d.isMultipleYAxis){m=[];for(var L=0;L<f.length;L++)m.push(-d.minYArr[L]/f[L])}else m.push(-d.minY/f[0]),d.minY!==Number.MIN_VALUE&&Math.abs(d.minY)!==0&&(b=-d.minY/s,w=d.minX/a);return{yRatio:f,invertedYRatio:s,zRatio:p,xRatio:a,initialXRatio:l,invertedXRatio:c,baseLineInvertedY:b,baseLineY:m,baseLineX:w}}},{key:"getLogSeries",value:function(s){var a=this,l=this.w;return l.globals.seriesLog=s.map(function(c,d){return l.config.yaxis[d]&&l.config.yaxis[d].logarithmic?c.map(function(f){return f===null?null:a.getLogVal(l.config.yaxis[d].logBase,f,d)}):c}),l.globals.invalidLogScale?s:l.globals.seriesLog}},{key:"getBaseLog",value:function(s,a){return Math.log(a)/Math.log(s)}},{key:"getLogVal",value:function(s,a,l){if(a===0)return 0;var c=this.w,d=c.globals.minYArr[l]===0?-1:this.getBaseLog(s,c.globals.minYArr[l]),f=(c.globals.maxYArr[l]===0?0:this.getBaseLog(s,c.globals.maxYArr[l]))-d;return a<1?a/f:(this.getBaseLog(s,a)-d)/f}},{key:"getLogYRatios",value:function(s){var a=this,l=this.w,c=this.w.globals;return c.yLogRatio=s.slice(),c.logYRange=c.yRange.map(function(d,f){if(l.config.yaxis[f]&&a.w.config.yaxis[f].logarithmic){var p,m=-Number.MAX_VALUE,b=Number.MIN_VALUE;return c.seriesLog.forEach(function(w,C){w.forEach(function(A){l.config.yaxis[C]&&l.config.yaxis[C].logarithmic&&(m=Math.max(A,m),b=Math.min(A,b))})}),p=Math.pow(c.yRange[f],Math.abs(b-m)/c.yRange[f]),c.yLogRatio[f]=p/c.gridHeight,p}}),c.invalidLogScale?s.slice():c.yLogRatio}}],[{key:"checkComboSeries",value:function(s){var a=!1,l=0,c=0;return s.length&&s[0].type!==void 0&&s.forEach(function(d){d.type!=="bar"&&d.type!=="column"&&d.type!=="candlestick"&&d.type!=="boxPlot"||l++,d.type!==void 0&&c++}),c>0&&(a=!0),{comboBarCount:l,comboCharts:a}}},{key:"extendArrayProps",value:function(s,a,l){return a.yaxis&&(a=s.extendYAxis(a,l)),a.annotations&&(a.annotations.yaxis&&(a=s.extendYAxisAnnotations(a)),a.annotations.xaxis&&(a=s.extendXAxisAnnotations(a)),a.annotations.points&&(a=s.extendPointAnnotations(a))),a}}]),z}(),ie=function(){function z(s){o(this,z),this.w=s.w,this.annoCtx=s}return u(z,[{key:"setOrientations",value:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=this.w;if(s.label.orientation==="vertical"){var c=a!==null?a:0,d=l.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(c,"']"));if(d!==null){var f=d.getBoundingClientRect();d.setAttribute("x",parseFloat(d.getAttribute("x"))-f.height+4),s.label.position==="top"?d.setAttribute("y",parseFloat(d.getAttribute("y"))+f.width):d.setAttribute("y",parseFloat(d.getAttribute("y"))-f.width);var p=this.annoCtx.graphics.rotateAroundCenter(d),m=p.x,b=p.y;d.setAttribute("transform","rotate(-90 ".concat(m," ").concat(b,")"))}}}},{key:"addBackgroundToAnno",value:function(s,a){var l=this.w;if(!s||a.label.text===void 0||a.label.text!==void 0&&!String(a.label.text).trim())return null;var c=l.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),d=s.getBoundingClientRect(),f=a.label.style.padding.left,p=a.label.style.padding.right,m=a.label.style.padding.top,b=a.label.style.padding.bottom;a.label.orientation==="vertical"&&(m=a.label.style.padding.left,b=a.label.style.padding.right,f=a.label.style.padding.top,p=a.label.style.padding.bottom);var w=d.left-c.left-f,C=d.top-c.top-m,A=this.annoCtx.graphics.drawRect(w-l.globals.barPadForNumericAxis,C,d.width+f+p,d.height+m+b,a.label.borderRadius,a.label.style.background,1,a.label.borderWidth,a.label.borderColor,0);return a.id&&A.node.classList.add(a.id),A}},{key:"annotationsBackground",value:function(){var s=this,a=this.w,l=function(c,d,f){var p=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(f,"-annotations .apexcharts-").concat(f,"-annotation-label[rel='").concat(d,"']"));if(p){var m=p.parentNode,b=s.addBackgroundToAnno(p,c);b&&(m.insertBefore(b.node,p),c.label.mouseEnter&&b.node.addEventListener("mouseenter",c.label.mouseEnter.bind(s,c)),c.label.mouseLeave&&b.node.addEventListener("mouseleave",c.label.mouseLeave.bind(s,c)),c.label.click&&b.node.addEventListener("click",c.label.click.bind(s,c)))}};a.config.annotations.xaxis.map(function(c,d){l(c,d,"xaxis")}),a.config.annotations.yaxis.map(function(c,d){l(c,d,"yaxis")}),a.config.annotations.points.map(function(c,d){l(c,d,"point")})}},{key:"getY1Y2",value:function(s,a){var l,c=s==="y1"?a.y:a.y2,d=this.w;if(this.annoCtx.invertAxis){var f=d.globals.labels.indexOf(c);d.config.xaxis.convertedCatToNumeric&&(f=d.globals.categoryLabels.indexOf(c));var p=d.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(f+1)+")");p&&(l=parseFloat(p.getAttribute("y")))}else{var m;d.config.yaxis[a.yAxisIndex].logarithmic?m=(c=new Q(this.annoCtx.ctx).getLogVal(c,a.yAxisIndex))/d.globals.yLogRatio[a.yAxisIndex]:m=(c-d.globals.minYArr[a.yAxisIndex])/(d.globals.yRange[a.yAxisIndex]/d.globals.gridHeight),l=d.globals.gridHeight-m,!a.marker||a.y!==void 0&&a.y!==null||(l=0),d.config.yaxis[a.yAxisIndex]&&d.config.yaxis[a.yAxisIndex].reversed&&(l=m)}return typeof c=="string"&&c.indexOf("px")>-1&&(l=parseFloat(c)),l}},{key:"getX1X2",value:function(s,a){var l=this.w,c=this.annoCtx.invertAxis?l.globals.minY:l.globals.minX,d=this.annoCtx.invertAxis?l.globals.maxY:l.globals.maxX,f=this.annoCtx.invertAxis?l.globals.yRange[0]:l.globals.xRange,p=(a.x-c)/(f/l.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(p=(d-a.x)/(f/l.globals.gridWidth)),l.config.xaxis.type!=="category"&&!l.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||l.globals.dataFormatXNumeric||(p=this.getStringX(a.x));var m=(a.x2-c)/(f/l.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(m=(d-a.x2)/(f/l.globals.gridWidth)),l.config.xaxis.type!=="category"&&!l.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||l.globals.dataFormatXNumeric||(m=this.getStringX(a.x2)),a.x!==void 0&&a.x!==null||!a.marker||(p=l.globals.gridWidth),s==="x1"&&typeof a.x=="string"&&a.x.indexOf("px")>-1&&(p=parseFloat(a.x)),s==="x2"&&typeof a.x2=="string"&&a.x2.indexOf("px")>-1&&(m=parseFloat(a.x2)),s==="x1"?p:m}},{key:"getStringX",value:function(s){var a=this.w,l=s;a.config.xaxis.convertedCatToNumeric&&a.globals.categoryLabels.length&&(s=a.globals.categoryLabels.indexOf(s)+1);var c=a.globals.labels.indexOf(s),d=a.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(c+1)+")");return d&&(l=parseFloat(d.getAttribute("x"))),l}}]),z}(),re=function(){function z(s){o(this,z),this.w=s.w,this.annoCtx=s,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new ie(this.annoCtx)}return u(z,[{key:"addXaxisAnnotation",value:function(s,a,l){var c,d=this.w,f=this.helpers.getX1X2("x1",s),p=s.label.text,m=s.strokeDashArray;if(N.isNumber(f)){if(s.x2===null||s.x2===void 0){var b=this.annoCtx.graphics.drawLine(f+s.offsetX,0+s.offsetY,f+s.offsetX,d.globals.gridHeight+s.offsetY,s.borderColor,m,s.borderWidth);a.appendChild(b.node),s.id&&b.node.classList.add(s.id)}else{if((c=this.helpers.getX1X2("x2",s))<f){var w=f;f=c,c=w}var C=this.annoCtx.graphics.drawRect(f+s.offsetX,0+s.offsetY,c-f,d.globals.gridHeight+s.offsetY,0,s.fillColor,s.opacity,1,s.borderColor,m);C.node.classList.add("apexcharts-annotation-rect"),C.attr("clip-path","url(#gridRectMask".concat(d.globals.cuid,")")),a.appendChild(C.node),s.id&&C.node.classList.add(s.id)}var A=this.annoCtx.graphics.getTextRects(p,parseFloat(s.label.style.fontSize)),L=s.label.position==="top"?4:s.label.position==="center"?d.globals.gridHeight/2+(s.label.orientation==="vertical"?A.width/2:0):d.globals.gridHeight,P=this.annoCtx.graphics.drawText({x:f+s.label.offsetX,y:L+s.label.offsetY-(s.label.orientation==="vertical"?s.label.position==="top"?A.width/2-12:-A.width/2:0),text:p,textAnchor:s.label.textAnchor,fontSize:s.label.style.fontSize,fontFamily:s.label.style.fontFamily,fontWeight:s.label.style.fontWeight,foreColor:s.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(s.label.style.cssClass," ").concat(s.id?s.id:"")});P.attr({rel:l}),a.appendChild(P.node),this.annoCtx.helpers.setOrientations(s,l)}}},{key:"drawXAxisAnnotations",value:function(){var s=this,a=this.w,l=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return a.config.annotations.xaxis.map(function(c,d){s.addXaxisAnnotation(c,l.node,d)}),l}}]),z}(),fe=function(){function z(s){o(this,z),this.w=s.w,this.annoCtx=s,this.helpers=new ie(this.annoCtx)}return u(z,[{key:"addYaxisAnnotation",value:function(s,a,l){var c,d=this.w,f=s.strokeDashArray,p=this.helpers.getY1Y2("y1",s),m=s.label.text;if(s.y2===null||s.y2===void 0){var b=this.annoCtx.graphics.drawLine(0+s.offsetX,p+s.offsetY,this._getYAxisAnnotationWidth(s),p+s.offsetY,s.borderColor,f,s.borderWidth);a.appendChild(b.node),s.id&&b.node.classList.add(s.id)}else{if((c=this.helpers.getY1Y2("y2",s))>p){var w=p;p=c,c=w}var C=this.annoCtx.graphics.drawRect(0+s.offsetX,c+s.offsetY,this._getYAxisAnnotationWidth(s),p-c,0,s.fillColor,s.opacity,1,s.borderColor,f);C.node.classList.add("apexcharts-annotation-rect"),C.attr("clip-path","url(#gridRectMask".concat(d.globals.cuid,")")),a.appendChild(C.node),s.id&&C.node.classList.add(s.id)}var A=s.label.position==="right"?d.globals.gridWidth:s.label.position==="center"?d.globals.gridWidth/2:0,L=this.annoCtx.graphics.drawText({x:A+s.label.offsetX,y:(c??p)+s.label.offsetY-3,text:m,textAnchor:s.label.textAnchor,fontSize:s.label.style.fontSize,fontFamily:s.label.style.fontFamily,fontWeight:s.label.style.fontWeight,foreColor:s.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(s.label.style.cssClass," ").concat(s.id?s.id:"")});L.attr({rel:l}),a.appendChild(L.node)}},{key:"_getYAxisAnnotationWidth",value:function(s){var a=this.w;return a.globals.gridWidth,(s.width.indexOf("%")>-1?a.globals.gridWidth*parseInt(s.width,10)/100:parseInt(s.width,10))+s.offsetX}},{key:"drawYAxisAnnotations",value:function(){var s=this,a=this.w,l=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return a.config.annotations.yaxis.map(function(c,d){s.addYaxisAnnotation(c,l.node,d)}),l}}]),z}(),ne=function(){function z(s){o(this,z),this.w=s.w,this.annoCtx=s,this.helpers=new ie(this.annoCtx)}return u(z,[{key:"addPointAnnotation",value:function(s,a,l){this.w;var c=this.helpers.getX1X2("x1",s),d=this.helpers.getY1Y2("y1",s);if(N.isNumber(c)){var f={pSize:s.marker.size,pointStrokeWidth:s.marker.strokeWidth,pointFillColor:s.marker.fillColor,pointStrokeColor:s.marker.strokeColor,shape:s.marker.shape,pRadius:s.marker.radius,class:"apexcharts-point-annotation-marker ".concat(s.marker.cssClass," ").concat(s.id?s.id:"")},p=this.annoCtx.graphics.drawMarker(c+s.marker.offsetX,d+s.marker.offsetY,f);a.appendChild(p.node);var m=s.label.text?s.label.text:"",b=this.annoCtx.graphics.drawText({x:c+s.label.offsetX,y:d+s.label.offsetY-s.marker.size-parseFloat(s.label.style.fontSize)/1.6,text:m,textAnchor:s.label.textAnchor,fontSize:s.label.style.fontSize,fontFamily:s.label.style.fontFamily,fontWeight:s.label.style.fontWeight,foreColor:s.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(s.label.style.cssClass," ").concat(s.id?s.id:"")});if(b.attr({rel:l}),a.appendChild(b.node),s.customSVG.SVG){var w=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+s.customSVG.cssClass});w.attr({transform:"translate(".concat(c+s.customSVG.offsetX,", ").concat(d+s.customSVG.offsetY,")")}),w.node.innerHTML=s.customSVG.SVG,a.appendChild(w.node)}if(s.image.path){var C=s.image.width?s.image.width:20,A=s.image.height?s.image.height:20;p=this.annoCtx.addImage({x:c+s.image.offsetX-C/2,y:d+s.image.offsetY-A/2,width:C,height:A,path:s.image.path,appendTo:".apexcharts-point-annotations"})}s.mouseEnter&&p.node.addEventListener("mouseenter",s.mouseEnter.bind(this,s)),s.mouseLeave&&p.node.addEventListener("mouseleave",s.mouseLeave.bind(this,s)),s.click&&p.node.addEventListener("click",s.click.bind(this,s))}}},{key:"drawPointAnnotations",value:function(){var s=this,a=this.w,l=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return a.config.annotations.points.map(function(c,d){s.addPointAnnotation(c,l.node,d)}),l}}]),z}(),ve={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},ye=function(){function z(){o(this,z),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return u(z,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[ve],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(s){return new Date(s).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(s){return s}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(s){return s+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(s){return s.globals.seriesTotals.reduce(function(a,l){return a+l},0)/s.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(s){return s}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(s){return s}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(s){return s.globals.seriesTotals.reduce(function(a,l){return a+l},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(s){return s!==null?s:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(s){return s?s+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),z}(),le=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.graphics=new _(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new ie(this),this.xAxisAnnotations=new re(this),this.yAxisAnnotations=new fe(this),this.pointsAnnotations=new ne(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return u(z,[{key:"drawAxesAnnotations",value:function(){var s=this.w;if(s.globals.axisCharts){for(var a=this.yAxisAnnotations.drawYAxisAnnotations(),l=this.xAxisAnnotations.drawXAxisAnnotations(),c=this.pointsAnnotations.drawPointAnnotations(),d=s.config.chart.animations.enabled,f=[a,l,c],p=[l.node,a.node,c.node],m=0;m<3;m++)s.globals.dom.elGraphical.add(f[m]),!d||s.globals.resized||s.globals.dataChanged||s.config.chart.type!=="scatter"&&s.config.chart.type!=="bubble"&&s.globals.dataPoints>1&&p[m].classList.add("apexcharts-element-hidden"),s.globals.delayedElements.push({el:p[m],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var s=this;this.w.config.annotations.images.map(function(a,l){s.addImage(a,l)})}},{key:"drawTextAnnos",value:function(){var s=this;this.w.config.annotations.texts.map(function(a,l){s.addText(a,l)})}},{key:"addXaxisAnnotation",value:function(s,a,l){this.xAxisAnnotations.addXaxisAnnotation(s,a,l)}},{key:"addYaxisAnnotation",value:function(s,a,l){this.yAxisAnnotations.addYaxisAnnotation(s,a,l)}},{key:"addPointAnnotation",value:function(s,a,l){this.pointsAnnotations.addPointAnnotation(s,a,l)}},{key:"addText",value:function(s,a){var l=s.x,c=s.y,d=s.text,f=s.textAnchor,p=s.foreColor,m=s.fontSize,b=s.fontFamily,w=s.fontWeight,C=s.cssClass,A=s.backgroundColor,L=s.borderWidth,P=s.strokeDashArray,O=s.borderRadius,D=s.borderColor,H=s.appendTo,X=H===void 0?".apexcharts-annotations":H,v=s.paddingLeft,k=v===void 0?4:v,E=s.paddingRight,V=E===void 0?4:E,Y=s.paddingBottom,U=Y===void 0?2:Y,J=s.paddingTop,ee=J===void 0?2:J,ae=this.w,ce=this.graphics.drawText({x:l,y:c,text:d,textAnchor:f||"start",fontSize:m||"12px",fontWeight:w||"regular",fontFamily:b||ae.config.chart.fontFamily,foreColor:p||ae.config.chart.foreColor,cssClass:C}),ue=ae.globals.dom.baseEl.querySelector(X);ue&&ue.appendChild(ce.node);var be=ce.bbox();if(d){var Le=this.graphics.drawRect(be.x-k,be.y-ee,be.width+k+V,be.height+U+ee,O,A||"transparent",1,L,D,P);ue.insertBefore(Le.node,ce.node)}}},{key:"addImage",value:function(s,a){var l=this.w,c=s.path,d=s.x,f=d===void 0?0:d,p=s.y,m=p===void 0?0:p,b=s.width,w=b===void 0?20:b,C=s.height,A=C===void 0?20:C,L=s.appendTo,P=L===void 0?".apexcharts-annotations":L,O=l.globals.dom.Paper.image(c);O.size(w,A).move(f,m);var D=l.globals.dom.baseEl.querySelector(P);return D&&D.appendChild(O.node),O}},{key:"addXaxisAnnotationExternal",value:function(s,a,l){return this.addAnnotationExternal({params:s,pushToMemory:a,context:l,type:"xaxis",contextMethod:l.addXaxisAnnotation}),l}},{key:"addYaxisAnnotationExternal",value:function(s,a,l){return this.addAnnotationExternal({params:s,pushToMemory:a,context:l,type:"yaxis",contextMethod:l.addYaxisAnnotation}),l}},{key:"addPointAnnotationExternal",value:function(s,a,l){return this.invertAxis===void 0&&(this.invertAxis=l.w.globals.isBarHorizontal),this.addAnnotationExternal({params:s,pushToMemory:a,context:l,type:"point",contextMethod:l.addPointAnnotation}),l}},{key:"addAnnotationExternal",value:function(s){var a=s.params,l=s.pushToMemory,c=s.context,d=s.type,f=s.contextMethod,p=c,m=p.w,b=m.globals.dom.baseEl.querySelector(".apexcharts-".concat(d,"-annotations")),w=b.childNodes.length+1,C=new ye,A=Object.assign({},d==="xaxis"?C.xAxisAnnotation:d==="yaxis"?C.yAxisAnnotation:C.pointAnnotation),L=N.extend(A,a);switch(d){case"xaxis":this.addXaxisAnnotation(L,b,w);break;case"yaxis":this.addYaxisAnnotation(L,b,w);break;case"point":this.addPointAnnotation(L,b,w)}var P=m.globals.dom.baseEl.querySelector(".apexcharts-".concat(d,"-annotations .apexcharts-").concat(d,"-annotation-label[rel='").concat(w,"']")),O=this.helpers.addBackgroundToAnno(P,L);return O&&b.insertBefore(O.node,P),l&&m.globals.memory.methodsToExec.push({context:p,id:L.id?L.id:N.randomId(),method:f,label:"addAnnotation",params:a}),c}},{key:"clearAnnotations",value:function(s){var a=s.w,l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");a.globals.memory.methodsToExec.map(function(c,d){c.label!=="addText"&&c.label!=="addAnnotation"||a.globals.memory.methodsToExec.splice(d,1)}),l=N.listToArray(l),Array.prototype.forEach.call(l,function(c){for(;c.firstChild;)c.removeChild(c.firstChild)})}},{key:"removeAnnotation",value:function(s,a){var l=s.w,c=l.globals.dom.baseEl.querySelectorAll(".".concat(a));c&&(l.globals.memory.methodsToExec.map(function(d,f){d.id===a&&l.globals.memory.methodsToExec.splice(f,1)}),Array.prototype.forEach.call(c,function(d){d.parentElement.removeChild(d)}))}}]),z}(),pe=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return u(z,[{key:"isValidDate",value:function(s){return!isNaN(this.parseDate(s))}},{key:"getTimeStamp",value:function(s){return Date.parse(s)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(s).toISOString().substr(0,25)).getTime():new Date(s).getTime():s}},{key:"getDate",value:function(s){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(s).toUTCString()):new Date(s)}},{key:"parseDate",value:function(s){var a=Date.parse(s);if(!isNaN(a))return this.getTimeStamp(s);var l=Date.parse(s.replace(/-/g,"/").replace(/[a-z]+/gi," "));return l=this.getTimeStamp(l)}},{key:"parseDateWithTimezone",value:function(s){return Date.parse(s.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(s,a){var l=this.w.globals.locale,c=this.w.config.xaxis.labels.datetimeUTC,d=["\0"].concat(I(l.months)),f=[""].concat(I(l.shortMonths)),p=[""].concat(I(l.days)),m=[""].concat(I(l.shortDays));function b(U,J){var ee=U+"";for(J=J||2;ee.length<J;)ee="0"+ee;return ee}var w=c?s.getUTCFullYear():s.getFullYear();a=(a=(a=a.replace(/(^|[^\\])yyyy+/g,"$1"+w)).replace(/(^|[^\\])yy/g,"$1"+w.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+w);var C=(c?s.getUTCMonth():s.getMonth())+1;a=(a=(a=(a=a.replace(/(^|[^\\])MMMM+/g,"$1"+d[0])).replace(/(^|[^\\])MMM/g,"$1"+f[0])).replace(/(^|[^\\])MM/g,"$1"+b(C))).replace(/(^|[^\\])M/g,"$1"+C);var A=c?s.getUTCDate():s.getDate();a=(a=(a=(a=a.replace(/(^|[^\\])dddd+/g,"$1"+p[0])).replace(/(^|[^\\])ddd/g,"$1"+m[0])).replace(/(^|[^\\])dd/g,"$1"+b(A))).replace(/(^|[^\\])d/g,"$1"+A);var L=c?s.getUTCHours():s.getHours(),P=L>12?L-12:L===0?12:L;a=(a=(a=(a=a.replace(/(^|[^\\])HH+/g,"$1"+b(L))).replace(/(^|[^\\])H/g,"$1"+L)).replace(/(^|[^\\])hh+/g,"$1"+b(P))).replace(/(^|[^\\])h/g,"$1"+P);var O=c?s.getUTCMinutes():s.getMinutes();a=(a=a.replace(/(^|[^\\])mm+/g,"$1"+b(O))).replace(/(^|[^\\])m/g,"$1"+O);var D=c?s.getUTCSeconds():s.getSeconds();a=(a=a.replace(/(^|[^\\])ss+/g,"$1"+b(D))).replace(/(^|[^\\])s/g,"$1"+D);var H=c?s.getUTCMilliseconds():s.getMilliseconds();a=a.replace(/(^|[^\\])fff+/g,"$1"+b(H,3)),H=Math.round(H/10),a=a.replace(/(^|[^\\])ff/g,"$1"+b(H)),H=Math.round(H/10);var X=L<12?"AM":"PM";a=(a=(a=a.replace(/(^|[^\\])f/g,"$1"+H)).replace(/(^|[^\\])TT+/g,"$1"+X)).replace(/(^|[^\\])T/g,"$1"+X.charAt(0));var v=X.toLowerCase();a=(a=a.replace(/(^|[^\\])tt+/g,"$1"+v)).replace(/(^|[^\\])t/g,"$1"+v.charAt(0));var k=-s.getTimezoneOffset(),E=c||!k?"Z":k>0?"+":"-";if(!c){var V=(k=Math.abs(k))%60;E+=b(Math.floor(k/60))+":"+b(V)}a=a.replace(/(^|[^\\])K/g,"$1"+E);var Y=(c?s.getUTCDay():s.getDay())+1;return a=(a=(a=(a=(a=a.replace(new RegExp(p[0],"g"),p[Y])).replace(new RegExp(m[0],"g"),m[Y])).replace(new RegExp(d[0],"g"),d[C])).replace(new RegExp(f[0],"g"),f[C])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(s,a,l){var c=this.w;c.config.xaxis.min!==void 0&&(s=c.config.xaxis.min),c.config.xaxis.max!==void 0&&(a=c.config.xaxis.max);var d=this.getDate(s),f=this.getDate(a),p=this.formatDate(d,"yyyy MM dd HH mm ss fff").split(" "),m=this.formatDate(f,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(p[6],10),maxMillisecond:parseInt(m[6],10),minSecond:parseInt(p[5],10),maxSecond:parseInt(m[5],10),minMinute:parseInt(p[4],10),maxMinute:parseInt(m[4],10),minHour:parseInt(p[3],10),maxHour:parseInt(m[3],10),minDate:parseInt(p[2],10),maxDate:parseInt(m[2],10),minMonth:parseInt(p[1],10)-1,maxMonth:parseInt(m[1],10)-1,minYear:parseInt(p[0],10),maxYear:parseInt(m[0],10)}}},{key:"isLeapYear",value:function(s){return s%4==0&&s%100!=0||s%400==0}},{key:"calculcateLastDaysOfMonth",value:function(s,a,l){return this.determineDaysOfMonths(s,a)-l}},{key:"determineDaysOfYear",value:function(s){var a=365;return this.isLeapYear(s)&&(a=366),a}},{key:"determineRemainingDaysOfYear",value:function(s,a,l){var c=this.daysCntOfYear[a]+l;return a>1&&this.isLeapYear()&&c++,c}},{key:"determineDaysOfMonths",value:function(s,a){var l=30;switch(s=N.monthMod(s),!0){case this.months30.indexOf(s)>-1:s===2&&(l=this.isLeapYear(a)?29:28);break;case this.months31.indexOf(s)>-1:default:l=31}return l}}]),z}(),Te=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.tooltipKeyFormat="dd MMM"}return u(z,[{key:"xLabelFormat",value:function(s,a,l,c){var d=this.w;if(d.config.xaxis.type==="datetime"&&d.config.xaxis.labels.formatter===void 0&&d.config.tooltip.x.formatter===void 0){var f=new pe(this.ctx);return f.formatDate(f.getDate(a),d.config.tooltip.x.format)}return s(a,l,c)}},{key:"defaultGeneralFormatter",value:function(s){return Array.isArray(s)?s.map(function(a){return a}):s}},{key:"defaultYFormatter",value:function(s,a,l){var c=this.w;return N.isNumber(s)&&(s=c.globals.yValueDecimal!==0?s.toFixed(a.decimalsInFloat!==void 0?a.decimalsInFloat:c.globals.yValueDecimal):c.globals.maxYArr[l]-c.globals.minYArr[l]<5?s.toFixed(1):s.toFixed(0)),s}},{key:"setLabelFormatters",value:function(){var s=this,a=this.w;return a.globals.xaxisTooltipFormatter=function(l){return s.defaultGeneralFormatter(l)},a.globals.ttKeyFormatter=function(l){return s.defaultGeneralFormatter(l)},a.globals.ttZFormatter=function(l){return l},a.globals.legendFormatter=function(l){return s.defaultGeneralFormatter(l)},a.config.xaxis.labels.formatter!==void 0?a.globals.xLabelFormatter=a.config.xaxis.labels.formatter:a.globals.xLabelFormatter=function(l){if(N.isNumber(l)){if(!a.config.xaxis.convertedCatToNumeric&&a.config.xaxis.type==="numeric"){if(N.isNumber(a.config.xaxis.decimalsInFloat))return l.toFixed(a.config.xaxis.decimalsInFloat);var c=a.globals.maxX-a.globals.minX;return c>0&&c<100?l.toFixed(1):l.toFixed(0)}return a.globals.isBarHorizontal&&a.globals.maxY-a.globals.minYArr<4?l.toFixed(1):l.toFixed(0)}return l},typeof a.config.tooltip.x.formatter=="function"?a.globals.ttKeyFormatter=a.config.tooltip.x.formatter:a.globals.ttKeyFormatter=a.globals.xLabelFormatter,typeof a.config.xaxis.tooltip.formatter=="function"&&(a.globals.xaxisTooltipFormatter=a.config.xaxis.tooltip.formatter),(Array.isArray(a.config.tooltip.y)||a.config.tooltip.y.formatter!==void 0)&&(a.globals.ttVal=a.config.tooltip.y),a.config.tooltip.z.formatter!==void 0&&(a.globals.ttZFormatter=a.config.tooltip.z.formatter),a.config.legend.formatter!==void 0&&(a.globals.legendFormatter=a.config.legend.formatter),a.config.yaxis.forEach(function(l,c){l.labels.formatter!==void 0?a.globals.yLabelFormatters[c]=l.labels.formatter:a.globals.yLabelFormatters[c]=function(d){return a.globals.xyCharts?Array.isArray(d)?d.map(function(f){return s.defaultYFormatter(f,l,c)}):s.defaultYFormatter(d,l,c):d}}),a.globals}},{key:"heatmapLabelFormatters",value:function(){var s=this.w;if(s.config.chart.type==="heatmap"){s.globals.yAxisScale[0].result=s.globals.seriesNames.slice();var a=s.globals.seriesNames.reduce(function(l,c){return l.length>c.length?l:c},0);s.globals.yAxisScale[0].niceMax=a,s.globals.yAxisScale[0].niceMin=a}}}]),z}(),Ie=function(z){var s,a=z.isTimeline,l=z.ctx,c=z.seriesIndex,d=z.dataPointIndex,f=z.y1,p=z.y2,m=z.w,b=m.globals.seriesRangeStart[c][d],w=m.globals.seriesRangeEnd[c][d],C=m.globals.labels[d],A=m.config.series[c].name?m.config.series[c].name:"",L=m.globals.ttKeyFormatter,P=m.config.tooltip.y.title.formatter,O={w:m,seriesIndex:c,dataPointIndex:d,start:b,end:w};typeof P=="function"&&(A=P(A,O)),(s=m.config.series[c].data[d])!==null&&s!==void 0&&s.x&&(C=m.config.series[c].data[d].x),a||m.config.xaxis.type==="datetime"&&(C=new Te(l).xLabelFormat(m.globals.ttKeyFormatter,C,C,{i:void 0,dateFormatter:new pe(l).formatDate,w:m})),typeof L=="function"&&(C=L(C,O)),Number.isFinite(f)&&Number.isFinite(p)&&(b=f,w=p);var D="",H="",X=m.globals.colors[c];if(m.config.tooltip.x.formatter===void 0)if(m.config.xaxis.type==="datetime"){var v=new pe(l);D=v.formatDate(v.getDate(b),m.config.tooltip.x.format),H=v.formatDate(v.getDate(w),m.config.tooltip.x.format)}else D=b,H=w;else D=m.config.tooltip.x.formatter(b),H=m.config.tooltip.x.formatter(w);return{start:b,end:w,startVal:D,endVal:H,ylabel:C,color:X,seriesName:A}},et=function(z){var s=z.color,a=z.seriesName,l=z.ylabel,c=z.start,d=z.end,f=z.seriesIndex,p=z.dataPointIndex,m=z.ctx.tooltip.tooltipLabels.getFormatters(f);c=m.yLbFormatter(c),d=m.yLbFormatter(d);var b=m.yLbFormatter(z.w.globals.series[f][p]),w=`<span class="value start-value">
  `.concat(c,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(d,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+s+'">'+(a||"")+'</span></div><div> <span class="category">'+l+": </span> "+(z.w.globals.comboCharts?z.w.config.series[f].type==="rangeArea"||z.w.config.series[f].type==="rangeBar"?w:"<span>".concat(b,"</span>"):w)+" </div></div>"},nt=function(){function z(s){o(this,z),this.opts=s}return u(z,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(s){return this.hideYAxis(),N.extend(s,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),i(i({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var s=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(a){var l=a.seriesIndex,c=a.dataPointIndex,d=a.w;return s._getBoxTooltip(d,l,c,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var s=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(a){var l=a.seriesIndex,c=a.dataPointIndex,d=a.w;return s._getBoxTooltip(d,l,c,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(s,a){a.ctx;var l=a.seriesIndex,c=a.dataPointIndex,d=a.w,f=function(){var p=d.globals.seriesRangeStart[l][c];return d.globals.seriesRangeEnd[l][c]-p};return d.globals.comboCharts?d.config.series[l].type==="rangeBar"||d.config.series[l].type==="rangeArea"?f():s:f()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(s){return s.w.config.plotOptions&&s.w.config.plotOptions.bar&&s.w.config.plotOptions.bar.horizontal?function(a){var l=Ie(i(i({},a),{},{isTimeline:!0})),c=l.color,d=l.seriesName,f=l.ylabel,p=l.startVal,m=l.endVal;return et(i(i({},a),{},{color:c,seriesName:d,ylabel:f,start:p,end:m}))}(s):function(a){var l=Ie(a),c=l.color,d=l.seriesName,f=l.ylabel,p=l.start,m=l.end;return et(i(i({},a),{},{color:c,seriesName:d,ylabel:f,start:p,end:m}))}(s)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(s){var a,l;return(a=s.plotOptions.bar)!==null&&a!==void 0&&a.barHeight||(s.plotOptions.bar.barHeight=2),(l=s.plotOptions.bar)!==null&&l!==void 0&&l.columnWidth||(s.plotOptions.bar.columnWidth=2),s}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(s){return function(a){var l=Ie(a),c=l.color,d=l.seriesName,f=l.ylabel,p=l.start,m=l.end;return et(i(i({},a),{},{color:c,seriesName:d,ylabel:f,start:p,end:m}))}(s)}}}}},{key:"brush",value:function(s){return N.extend(s,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(s){s.dataLabels=s.dataLabels||{},s.dataLabels.formatter=s.dataLabels.formatter||void 0;var a=s.dataLabels.formatter;return s.yaxis.forEach(function(l,c){s.yaxis[c].min=0,s.yaxis[c].max=100}),s.chart.type==="bar"&&(s.dataLabels.formatter=a||function(l){return typeof l=="number"&&l?l.toFixed(0)+"%":l}),s}},{key:"stackedBars",value:function(){var s=this.bar();return i(i({},s),{},{plotOptions:i(i({},s.plotOptions),{},{bar:i(i({},s.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(s){return s.xaxis.convertedCatToNumeric=!0,s}},{key:"convertCatToNumericXaxis",value:function(s,a,l){s.xaxis.type="numeric",s.xaxis.labels=s.xaxis.labels||{},s.xaxis.labels.formatter=s.xaxis.labels.formatter||function(f){return N.isNumber(f)?Math.floor(f):f};var c=s.xaxis.labels.formatter,d=s.xaxis.categories&&s.xaxis.categories.length?s.xaxis.categories:s.labels;return l&&l.length&&(d=l.map(function(f){return Array.isArray(f)?f:String(f)})),d&&d.length&&(s.xaxis.labels.formatter=function(f){return N.isNumber(f)?c(d[Math.floor(f)-1]):c(f)}),s.xaxis.categories=[],s.labels=[],s.xaxis.tickAmount=s.xaxis.tickAmount||"dataPoints",s}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(s){return s.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(s){return s.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(s){return s.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(s){return s},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(s,a,l,c,d){var f=s.globals.seriesCandleO[a][l],p=s.globals.seriesCandleH[a][l],m=s.globals.seriesCandleM[a][l],b=s.globals.seriesCandleL[a][l],w=s.globals.seriesCandleC[a][l];return s.config.series[a].type&&s.config.series[a].type!==d?`<div class="apexcharts-custom-tooltip">
          `.concat(s.config.series[a].name?s.config.series[a].name:"series-"+(a+1),": <strong>").concat(s.globals.series[a][l],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(s.config.chart.type,'">')+"<div>".concat(c[0],': <span class="value">')+f+"</span></div>"+"<div>".concat(c[1],': <span class="value">')+p+"</span></div>"+(m?"<div>".concat(c[2],': <span class="value">')+m+"</span></div>":"")+"<div>".concat(c[3],': <span class="value">')+b+"</span></div>"+"<div>".concat(c[4],': <span class="value">')+w+"</span></div></div>"}}]),z}(),Me=function(){function z(s){o(this,z),this.opts=s}return u(z,[{key:"init",value:function(s){var a=s.responsiveOverride,l=this.opts,c=new ye,d=new nt(l);this.chartType=l.chart.type,l=this.extendYAxis(l),l=this.extendAnnotations(l);var f=c.init(),p={};if(l&&r(l)==="object"){var m,b,w,C,A,L,P,O,D={};D=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(l.chart.type)!==-1?d[l.chart.type]():d.line(),(m=l.plotOptions)!==null&&m!==void 0&&(b=m.bar)!==null&&b!==void 0&&b.isFunnel&&(D=d.funnel()),l.chart.stacked&&l.chart.type==="bar"&&(D=d.stackedBars()),(w=l.chart.brush)!==null&&w!==void 0&&w.enabled&&(D=d.brush(D)),l.chart.stacked&&l.chart.stackType==="100%"&&(l=d.stacked100(l)),(C=l.plotOptions)!==null&&C!==void 0&&(A=C.bar)!==null&&A!==void 0&&A.isDumbbell&&(l=d.dumbbell(l)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(l),l.xaxis=l.xaxis||window.Apex.xaxis||{},a||(l.xaxis.convertedCatToNumeric=!1),((L=(l=this.checkForCatToNumericXAxis(this.chartType,D,l)).chart.sparkline)!==null&&L!==void 0&&L.enabled||(P=window.Apex.chart)!==null&&P!==void 0&&(O=P.sparkline)!==null&&O!==void 0&&O.enabled)&&(D=d.sparkline(D)),p=N.extend(f,D)}var H=N.extend(p,window.Apex);return f=N.extend(H,l),f=this.handleUserInputErrors(f)}},{key:"checkForCatToNumericXAxis",value:function(s,a,l){var c,d,f=new nt(l),p=(s==="bar"||s==="boxPlot")&&((c=l.plotOptions)===null||c===void 0||(d=c.bar)===null||d===void 0?void 0:d.horizontal),m=s==="pie"||s==="polarArea"||s==="donut"||s==="radar"||s==="radialBar"||s==="heatmap",b=l.xaxis.type!=="datetime"&&l.xaxis.type!=="numeric",w=l.xaxis.tickPlacement?l.xaxis.tickPlacement:a.xaxis&&a.xaxis.tickPlacement;return p||m||!b||w==="between"||(l=f.convertCatToNumeric(l)),l}},{key:"extendYAxis",value:function(s,a){var l=new ye;(s.yaxis===void 0||!s.yaxis||Array.isArray(s.yaxis)&&s.yaxis.length===0)&&(s.yaxis={}),s.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(s.yaxis=N.extend(s.yaxis,window.Apex.yaxis)),s.yaxis.constructor!==Array?s.yaxis=[N.extend(l.yAxis,s.yaxis)]:s.yaxis=N.extendArray(s.yaxis,l.yAxis);var c=!1;s.yaxis.forEach(function(f){f.logarithmic&&(c=!0)});var d=s.series;return a&&!d&&(d=a.config.series),c&&d.length!==s.yaxis.length&&d.length&&(s.yaxis=d.map(function(f,p){if(f.name||(d[p].name="series-".concat(p+1)),s.yaxis[p])return s.yaxis[p].seriesName=d[p].name,s.yaxis[p];var m=N.extend(l.yAxis,s.yaxis[0]);return m.show=!1,m})),c&&d.length>1&&d.length!==s.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),s}},{key:"extendAnnotations",value:function(s){return s.annotations===void 0&&(s.annotations={},s.annotations.yaxis=[],s.annotations.xaxis=[],s.annotations.points=[]),s=this.extendYAxisAnnotations(s),s=this.extendXAxisAnnotations(s),s=this.extendPointAnnotations(s)}},{key:"extendYAxisAnnotations",value:function(s){var a=new ye;return s.annotations.yaxis=N.extendArray(s.annotations.yaxis!==void 0?s.annotations.yaxis:[],a.yAxisAnnotation),s}},{key:"extendXAxisAnnotations",value:function(s){var a=new ye;return s.annotations.xaxis=N.extendArray(s.annotations.xaxis!==void 0?s.annotations.xaxis:[],a.xAxisAnnotation),s}},{key:"extendPointAnnotations",value:function(s){var a=new ye;return s.annotations.points=N.extendArray(s.annotations.points!==void 0?s.annotations.points:[],a.pointAnnotation),s}},{key:"checkForDarkTheme",value:function(s){s.theme&&s.theme.mode==="dark"&&(s.tooltip||(s.tooltip={}),s.tooltip.theme!=="light"&&(s.tooltip.theme="dark"),s.chart.foreColor||(s.chart.foreColor="#f6f7f8"),s.chart.background||(s.chart.background="#424242"),s.theme.palette||(s.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(s){var a=s;if(a.tooltip.shared&&a.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(a.chart.type==="bar"&&a.plotOptions.bar.horizontal){if(a.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");a.yaxis[0].reversed&&(a.yaxis[0].opposite=!0),a.xaxis.tooltip.enabled=!1,a.yaxis[0].tooltip.enabled=!1,a.chart.zoom.enabled=!1}return a.chart.type!=="bar"&&a.chart.type!=="rangeBar"||a.tooltip.shared&&a.xaxis.crosshairs.width==="barWidth"&&a.series.length>1&&(a.xaxis.crosshairs.width="tickWidth"),a.chart.type!=="candlestick"&&a.chart.type!=="boxPlot"||a.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(a.chart.type," chart is not supported.")),a.yaxis[0].reversed=!1),a}}]),z}(),qe=function(){function z(){o(this,z)}return u(z,[{key:"initGlobalVars",value:function(s){s.series=[],s.seriesCandleO=[],s.seriesCandleH=[],s.seriesCandleM=[],s.seriesCandleL=[],s.seriesCandleC=[],s.seriesRangeStart=[],s.seriesRangeEnd=[],s.seriesRange=[],s.seriesPercent=[],s.seriesGoals=[],s.seriesX=[],s.seriesZ=[],s.seriesNames=[],s.seriesTotals=[],s.seriesLog=[],s.seriesColors=[],s.stackedSeriesTotals=[],s.seriesXvalues=[],s.seriesYvalues=[],s.labels=[],s.hasXaxisGroups=!1,s.groups=[],s.hasSeriesGroups=!1,s.seriesGroups=[],s.categoryLabels=[],s.timescaleLabels=[],s.noLabelsProvided=!1,s.resizeTimer=null,s.selectionResizeTimer=null,s.delayedElements=[],s.pointsArray=[],s.dataLabelsRects=[],s.isXNumeric=!1,s.skipLastTimelinelabel=!1,s.skipFirstTimelinelabel=!1,s.isDataXYZ=!1,s.isMultiLineX=!1,s.isMultipleYAxis=!1,s.maxY=-Number.MAX_VALUE,s.minY=Number.MIN_VALUE,s.minYArr=[],s.maxYArr=[],s.maxX=-Number.MAX_VALUE,s.minX=Number.MAX_VALUE,s.initialMaxX=-Number.MAX_VALUE,s.initialMinX=Number.MAX_VALUE,s.maxDate=0,s.minDate=Number.MAX_VALUE,s.minZ=Number.MAX_VALUE,s.maxZ=-Number.MAX_VALUE,s.minXDiff=Number.MAX_VALUE,s.yAxisScale=[],s.xAxisScale=null,s.xAxisTicksPositions=[],s.yLabelsCoords=[],s.yTitleCoords=[],s.barPadForNumericAxis=0,s.padHorizontal=0,s.xRange=0,s.yRange=[],s.zRange=0,s.dataPoints=0,s.xTickAmount=0}},{key:"globalVars",value:function(s){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:s.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:s.chart.toolbar.autoSelected==="zoom"&&s.chart.toolbar.tools.zoom&&s.chart.zoom.enabled,panEnabled:s.chart.toolbar.autoSelected==="pan"&&s.chart.toolbar.tools.pan,selectionEnabled:s.chart.toolbar.autoSelected==="selection"&&s.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(s){var a=this.globalVars(s);return this.initGlobalVars(a),a.initialConfig=N.extend({},s),a.initialSeries=N.clone(s.series),a.lastXAxis=N.clone(a.initialConfig.xaxis),a.lastYAxis=N.clone(a.initialConfig.yaxis),a}}]),z}(),Ve=function(){function z(s){o(this,z),this.opts=s}return u(z,[{key:"init",value:function(){var s=new Me(this.opts).init({responsiveOverride:!1});return{config:s,globals:new qe().init(s)}}}]),z}(),Se=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.opts=null,this.seriesIndex=0}return u(z,[{key:"clippedImgArea",value:function(s){var a=this.w,l=a.config,c=parseInt(a.globals.gridWidth,10),d=parseInt(a.globals.gridHeight,10),f=c>d?c:d,p=s.image,m=0,b=0;s.width===void 0&&s.height===void 0?l.fill.image.width!==void 0&&l.fill.image.height!==void 0?(m=l.fill.image.width+1,b=l.fill.image.height):(m=f+1,b=f):(m=s.width,b=s.height);var w=document.createElementNS(a.globals.SVGNS,"pattern");_.setAttrs(w,{id:s.patternID,patternUnits:s.patternUnits?s.patternUnits:"userSpaceOnUse",width:m+"px",height:b+"px"});var C=document.createElementNS(a.globals.SVGNS,"image");w.appendChild(C),C.setAttributeNS(window.SVG.xlink,"href",p),_.setAttrs(C,{x:0,y:0,preserveAspectRatio:"none",width:m+"px",height:b+"px"}),C.style.opacity=s.opacity,a.globals.dom.elDefs.node.appendChild(w)}},{key:"getSeriesIndex",value:function(s){var a=this.w,l=a.config.chart.type;return(l==="bar"||l==="rangeBar")&&a.config.plotOptions.bar.distributed||l==="heatmap"||l==="treemap"?this.seriesIndex=s.seriesNumber:this.seriesIndex=s.seriesNumber%a.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(s){var a=this.w;this.opts=s;var l,c,d,f=this.w.config;this.seriesIndex=this.getSeriesIndex(s);var p=this.getFillColors()[this.seriesIndex];a.globals.seriesColors[this.seriesIndex]!==void 0&&(p=a.globals.seriesColors[this.seriesIndex]),typeof p=="function"&&(p=p({seriesIndex:this.seriesIndex,dataPointIndex:s.dataPointIndex,value:s.value,w:a}));var m=s.fillType?s.fillType:this.getFillType(this.seriesIndex),b=Array.isArray(f.fill.opacity)?f.fill.opacity[this.seriesIndex]:f.fill.opacity;s.color&&(p=s.color);var w=p;if(p.indexOf("rgb")===-1?p.length<9&&(w=N.hexToRgba(p,b)):p.indexOf("rgba")>-1&&(b=N.getOpacityFromRGBA(p)),s.opacity&&(b=s.opacity),m==="pattern"&&(c=this.handlePatternFill({fillConfig:s.fillConfig,patternFill:c,fillColor:p,fillOpacity:b,defaultColor:w})),m==="gradient"&&(d=this.handleGradientFill({fillConfig:s.fillConfig,fillColor:p,fillOpacity:b,i:this.seriesIndex})),m==="image"){var C=f.fill.image.src,A=s.patternID?s.patternID:"";this.clippedImgArea({opacity:b,image:Array.isArray(C)?s.seriesNumber<C.length?C[s.seriesNumber]:C[0]:C,width:s.width?s.width:void 0,height:s.height?s.height:void 0,patternUnits:s.patternUnits,patternID:"pattern".concat(a.globals.cuid).concat(s.seriesNumber+1).concat(A)}),l="url(#pattern".concat(a.globals.cuid).concat(s.seriesNumber+1).concat(A,")")}else l=m==="gradient"?d:m==="pattern"?c:w;return s.solid&&(l=w),l}},{key:"getFillType",value:function(s){var a=this.w;return Array.isArray(a.config.fill.type)?a.config.fill.type[s]:a.config.fill.type}},{key:"getFillColors",value:function(){var s=this.w,a=s.config,l=this.opts,c=[];return s.globals.comboCharts?s.config.series[this.seriesIndex].type==="line"?Array.isArray(s.globals.stroke.colors)?c=s.globals.stroke.colors:c.push(s.globals.stroke.colors):Array.isArray(s.globals.fill.colors)?c=s.globals.fill.colors:c.push(s.globals.fill.colors):a.chart.type==="line"?Array.isArray(s.globals.stroke.colors)?c=s.globals.stroke.colors:c.push(s.globals.stroke.colors):Array.isArray(s.globals.fill.colors)?c=s.globals.fill.colors:c.push(s.globals.fill.colors),l.fillColors!==void 0&&(c=[],Array.isArray(l.fillColors)?c=l.fillColors.slice():c.push(l.fillColors)),c}},{key:"handlePatternFill",value:function(s){var a=s.fillConfig,l=s.patternFill,c=s.fillColor,d=s.fillOpacity,f=s.defaultColor,p=this.w.config.fill;a&&(p=a);var m=this.opts,b=new _(this.ctx),w=Array.isArray(p.pattern.strokeWidth)?p.pattern.strokeWidth[this.seriesIndex]:p.pattern.strokeWidth,C=c;return Array.isArray(p.pattern.style)?l=p.pattern.style[m.seriesNumber]!==void 0?b.drawPattern(p.pattern.style[m.seriesNumber],p.pattern.width,p.pattern.height,C,w,d):f:l=b.drawPattern(p.pattern.style,p.pattern.width,p.pattern.height,C,w,d),l}},{key:"handleGradientFill",value:function(s){var a=s.fillColor,l=s.fillOpacity,c=s.fillConfig,d=s.i,f=this.w.config.fill;c&&(f=i(i({},f),c));var p,m=this.opts,b=new _(this.ctx),w=new N,C=f.gradient.type,A=a,L=f.gradient.opacityFrom===void 0?l:Array.isArray(f.gradient.opacityFrom)?f.gradient.opacityFrom[d]:f.gradient.opacityFrom;A.indexOf("rgba")>-1&&(L=N.getOpacityFromRGBA(A));var P=f.gradient.opacityTo===void 0?l:Array.isArray(f.gradient.opacityTo)?f.gradient.opacityTo[d]:f.gradient.opacityTo;if(f.gradient.gradientToColors===void 0||f.gradient.gradientToColors.length===0)p=f.gradient.shade==="dark"?w.shadeColor(-1*parseFloat(f.gradient.shadeIntensity),a.indexOf("rgb")>-1?N.rgb2hex(a):a):w.shadeColor(parseFloat(f.gradient.shadeIntensity),a.indexOf("rgb")>-1?N.rgb2hex(a):a);else if(f.gradient.gradientToColors[m.seriesNumber]){var O=f.gradient.gradientToColors[m.seriesNumber];p=O,O.indexOf("rgba")>-1&&(P=N.getOpacityFromRGBA(O))}else p=a;if(f.gradient.gradientFrom&&(A=f.gradient.gradientFrom),f.gradient.gradientTo&&(p=f.gradient.gradientTo),f.gradient.inverseColors){var D=A;A=p,p=D}return A.indexOf("rgb")>-1&&(A=N.rgb2hex(A)),p.indexOf("rgb")>-1&&(p=N.rgb2hex(p)),b.drawGradient(C,A,p,L,P,m.size,f.gradient.stops,f.gradient.colorStops,d)}}]),z}(),st=function(){function z(s,a){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"setGlobalMarkerSize",value:function(){var s=this.w;if(s.globals.markers.size=Array.isArray(s.config.markers.size)?s.config.markers.size:[s.config.markers.size],s.globals.markers.size.length>0){if(s.globals.markers.size.length<s.globals.series.length+1)for(var a=0;a<=s.globals.series.length;a++)s.globals.markers.size[a]===void 0&&s.globals.markers.size.push(s.globals.markers.size[0])}else s.globals.markers.size=s.config.series.map(function(l){return s.config.markers.size})}},{key:"plotChartMarkers",value:function(s,a,l,c){var d,f=arguments.length>4&&arguments[4]!==void 0&&arguments[4],p=this.w,m=a,b=s,w=null,C=new _(this.ctx),A=p.config.markers.discrete&&p.config.markers.discrete.length;if((p.globals.markers.size[a]>0||f||A)&&(w=C.group({class:f||A?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(p.globals.cuid,")")),Array.isArray(b.x))for(var L=0;L<b.x.length;L++){var P=l;l===1&&L===0&&(P=0),l===1&&L===1&&(P=1);var O="apexcharts-marker";if(p.config.chart.type!=="line"&&p.config.chart.type!=="area"||p.globals.comboCharts||p.config.tooltip.intersect||(O+=" no-pointer-events"),(Array.isArray(p.config.markers.size)?p.globals.markers.size[a]>0:p.config.markers.size>0)||f||A){N.isNumber(b.y[L])?O+=" w".concat(N.randomId()):O="apexcharts-nullpoint";var D=this.getMarkerConfig({cssClass:O,seriesIndex:a,dataPointIndex:P});p.config.series[m].data[P]&&(p.config.series[m].data[P].fillColor&&(D.pointFillColor=p.config.series[m].data[P].fillColor),p.config.series[m].data[P].strokeColor&&(D.pointStrokeColor=p.config.series[m].data[P].strokeColor)),c&&(D.pSize=c),(b.x[L]<0||b.x[L]>p.globals.gridWidth||b.y[L]<0||b.y[L]>p.globals.gridHeight)&&(D.pSize=0),(d=C.drawMarker(b.x[L],b.y[L],D)).attr("rel",P),d.attr("j",P),d.attr("index",a),d.node.setAttribute("default-marker-size",D.pSize),new K(this.ctx).setSelectionFilter(d,a,P),this.addEvents(d),w&&w.add(d)}else p.globals.pointsArray[a]===void 0&&(p.globals.pointsArray[a]=[]),p.globals.pointsArray[a].push([b.x[L],b.y[L]])}return w}},{key:"getMarkerConfig",value:function(s){var a=s.cssClass,l=s.seriesIndex,c=s.dataPointIndex,d=c===void 0?null:c,f=s.finishRadius,p=f===void 0?null:f,m=this.w,b=this.getMarkerStyle(l),w=m.globals.markers.size[l],C=m.config.markers;return d!==null&&C.discrete.length&&C.discrete.map(function(A){A.seriesIndex===l&&A.dataPointIndex===d&&(b.pointStrokeColor=A.strokeColor,b.pointFillColor=A.fillColor,w=A.size,b.pointShape=A.shape)}),{pSize:p===null?w:p,pRadius:C.radius,width:Array.isArray(C.width)?C.width[l]:C.width,height:Array.isArray(C.height)?C.height[l]:C.height,pointStrokeWidth:Array.isArray(C.strokeWidth)?C.strokeWidth[l]:C.strokeWidth,pointStrokeColor:b.pointStrokeColor,pointFillColor:b.pointFillColor,shape:b.pointShape||(Array.isArray(C.shape)?C.shape[l]:C.shape),class:a,pointStrokeOpacity:Array.isArray(C.strokeOpacity)?C.strokeOpacity[l]:C.strokeOpacity,pointStrokeDashArray:Array.isArray(C.strokeDashArray)?C.strokeDashArray[l]:C.strokeDashArray,pointFillOpacity:Array.isArray(C.fillOpacity)?C.fillOpacity[l]:C.fillOpacity,seriesIndex:l}}},{key:"addEvents",value:function(s){var a=this.w,l=new _(this.ctx);s.node.addEventListener("mouseenter",l.pathMouseEnter.bind(this.ctx,s)),s.node.addEventListener("mouseleave",l.pathMouseLeave.bind(this.ctx,s)),s.node.addEventListener("mousedown",l.pathMouseDown.bind(this.ctx,s)),s.node.addEventListener("click",a.config.markers.onClick),s.node.addEventListener("dblclick",a.config.markers.onDblClick),s.node.addEventListener("touchstart",l.pathMouseDown.bind(this.ctx,s),{passive:!0})}},{key:"getMarkerStyle",value:function(s){var a=this.w,l=a.globals.markers.colors,c=a.config.markers.strokeColor||a.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(c)?c[s]:c,pointFillColor:Array.isArray(l)?l[s]:l}}}]),z}(),ut=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return u(z,[{key:"draw",value:function(s,a,l){var c=this.w,d=new _(this.ctx),f=l.realIndex,p=l.pointsPos,m=l.zRatio,b=l.elParent,w=d.group({class:"apexcharts-series-markers apexcharts-series-".concat(c.config.chart.type)});if(w.attr("clip-path","url(#gridRectMarkerMask".concat(c.globals.cuid,")")),Array.isArray(p.x))for(var C=0;C<p.x.length;C++){var A=a+1,L=!0;a===0&&C===0&&(A=0),a===0&&C===1&&(A=1);var P=0,O=c.globals.markers.size[f];if(m!==1/0){var D=c.config.plotOptions.bubble;O=c.globals.seriesZ[f][A],D.zScaling&&(O/=m),D.minBubbleRadius&&O<D.minBubbleRadius&&(O=D.minBubbleRadius),D.maxBubbleRadius&&O>D.maxBubbleRadius&&(O=D.maxBubbleRadius)}c.config.chart.animations.enabled||(P=O);var H=p.x[C],X=p.y[C];if(P=P||0,X!==null&&c.globals.series[f][A]!==void 0||(L=!1),L){var v=this.drawPoint(H,X,P,O,f,A,a);w.add(v)}b.add(w)}}},{key:"drawPoint",value:function(s,a,l,c,d,f,p){var m=this.w,b=d,w=new G(this.ctx),C=new K(this.ctx),A=new Se(this.ctx),L=new st(this.ctx),P=new _(this.ctx),O=L.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:b,dataPointIndex:f,finishRadius:m.config.chart.type==="bubble"||m.globals.comboCharts&&m.config.series[d]&&m.config.series[d].type==="bubble"?c:null});c=O.pSize;var D,H=A.fillPath({seriesNumber:d,dataPointIndex:f,color:O.pointFillColor,patternUnits:"objectBoundingBox",value:m.globals.series[d][p]});if(O.shape==="circle"?D=P.drawCircle(l):O.shape!=="square"&&O.shape!=="rect"||(D=P.drawRect(0,0,O.width-O.pointStrokeWidth/2,O.height-O.pointStrokeWidth/2,O.pRadius)),m.config.series[b].data[f]&&m.config.series[b].data[f].fillColor&&(H=m.config.series[b].data[f].fillColor),D.attr({x:s-O.width/2-O.pointStrokeWidth/2,y:a-O.height/2-O.pointStrokeWidth/2,cx:s,cy:a,fill:H,"fill-opacity":O.pointFillOpacity,stroke:O.pointStrokeColor,r:c,"stroke-width":O.pointStrokeWidth,"stroke-dasharray":O.pointStrokeDashArray,"stroke-opacity":O.pointStrokeOpacity}),m.config.chart.dropShadow.enabled){var X=m.config.chart.dropShadow;C.dropShadow(D,X,d)}if(!this.initialAnim||m.globals.dataChanged||m.globals.resized)m.globals.animationEnded=!0;else{var v=m.config.chart.animations.speed;w.animateMarker(D,0,O.shape==="circle"?c:{width:O.width,height:O.height},v,m.globals.easing,function(){window.setTimeout(function(){w.animationCompleted(D)},100)})}if(m.globals.dataChanged&&O.shape==="circle")if(this.dynamicAnim){var k,E,V,Y,U=m.config.chart.animations.dynamicAnimation.speed;(Y=m.globals.previousPaths[d]&&m.globals.previousPaths[d][p])!=null&&(k=Y.x,E=Y.y,V=Y.r!==void 0?Y.r:c);for(var J=0;J<m.globals.collapsedSeries.length;J++)m.globals.collapsedSeries[J].index===d&&(U=1,c=0);s===0&&a===0&&(c=0),w.animateCircle(D,{cx:k,cy:E,r:V},{cx:s,cy:a,r:c},U,m.globals.easing)}else D.attr({r:c});return D.attr({rel:f,j:f,index:d,"default-marker-size":c}),C.setSelectionFilter(D,d,f),L.addEvents(D),D.node.classList.add("apexcharts-marker"),D}},{key:"centerTextInBubble",value:function(s){var a=this.w;return{y:s+=parseInt(a.config.dataLabels.style.fontSize,10)/4}}}]),z}(),Ae=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"dataLabelsCorrection",value:function(s,a,l,c,d,f,p){var m=this.w,b=!1,w=new _(this.ctx).getTextRects(l,p),C=w.width,A=w.height;a<0&&(a=0),a>m.globals.gridHeight+A&&(a=m.globals.gridHeight+A/2),m.globals.dataLabelsRects[c]===void 0&&(m.globals.dataLabelsRects[c]=[]),m.globals.dataLabelsRects[c].push({x:s,y:a,width:C,height:A});var L=m.globals.dataLabelsRects[c].length-2,P=m.globals.lastDrawnDataLabelsIndexes[c]!==void 0?m.globals.lastDrawnDataLabelsIndexes[c][m.globals.lastDrawnDataLabelsIndexes[c].length-1]:0;if(m.globals.dataLabelsRects[c][L]!==void 0){var O=m.globals.dataLabelsRects[c][P];(s>O.x+O.width+2||a>O.y+O.height+2||s+C<O.x)&&(b=!0)}return(d===0||f)&&(b=!0),{x:s,y:a,textRects:w,drawnextLabel:b}}},{key:"drawDataLabel",value:function(s){var a=this,l=s.type,c=s.pos,d=s.i,f=s.j,p=s.isRangeStart,m=s.strokeWidth,b=m===void 0?2:m,w=this.w,C=new _(this.ctx),A=w.config.dataLabels,L=0,P=0,O=f,D=null;if(!A.enabled||!Array.isArray(c.x))return D;D=C.group({class:"apexcharts-data-labels"});for(var H=0;H<c.x.length;H++)if(L=c.x[H]+A.offsetX,P=c.y[H]+A.offsetY+b,!isNaN(L)){f===1&&H===0&&(O=0),f===1&&H===1&&(O=1);var X=w.globals.series[d][O];l==="rangeArea"&&(X=p?w.globals.seriesRangeStart[d][O]:w.globals.seriesRangeEnd[d][O]);var v="",k=function(E){return w.config.dataLabels.formatter(E,{ctx:a.ctx,seriesIndex:d,dataPointIndex:O,w})};w.config.chart.type==="bubble"?(v=k(X=w.globals.seriesZ[d][O]),P=c.y[H],P=new ut(this.ctx).centerTextInBubble(P,d,O).y):X!==void 0&&(v=k(X)),this.plotDataLabelsText({x:L,y:P,text:v,i:d,j:O,parent:D,offsetCorrection:!0,dataLabelsConfig:w.config.dataLabels})}return D}},{key:"plotDataLabelsText",value:function(s){var a=this.w,l=new _(this.ctx),c=s.x,d=s.y,f=s.i,p=s.j,m=s.text,b=s.textAnchor,w=s.fontSize,C=s.parent,A=s.dataLabelsConfig,L=s.color,P=s.alwaysDrawDataLabel,O=s.offsetCorrection;if(!(Array.isArray(a.config.dataLabels.enabledOnSeries)&&a.config.dataLabels.enabledOnSeries.indexOf(f)<0)){var D={x:c,y:d,drawnextLabel:!0,textRects:null};O&&(D=this.dataLabelsCorrection(c,d,m,f,p,P,parseInt(A.style.fontSize,10))),a.globals.zoomed||(c=D.x,d=D.y),D.textRects&&(c<-10-D.textRects.width||c>a.globals.gridWidth+D.textRects.width+10)&&(m="");var H=a.globals.dataLabels.style.colors[f];((a.config.chart.type==="bar"||a.config.chart.type==="rangeBar")&&a.config.plotOptions.bar.distributed||a.config.dataLabels.distributed)&&(H=a.globals.dataLabels.style.colors[p]),typeof H=="function"&&(H=H({series:a.globals.series,seriesIndex:f,dataPointIndex:p,w:a})),L&&(H=L);var X=A.offsetX,v=A.offsetY;if(a.config.chart.type!=="bar"&&a.config.chart.type!=="rangeBar"||(X=0,v=0),D.drawnextLabel){var k=l.drawText({width:100,height:parseInt(A.style.fontSize,10),x:c+X,y:d+v,foreColor:H,textAnchor:b||A.textAnchor,text:m,fontSize:w||A.style.fontSize,fontFamily:A.style.fontFamily,fontWeight:A.style.fontWeight||"normal"});if(k.attr({class:"apexcharts-datalabel",cx:c,cy:d}),A.dropShadow.enabled){var E=A.dropShadow;new K(this.ctx).dropShadow(k,E)}C.add(k),a.globals.lastDrawnDataLabelsIndexes[f]===void 0&&(a.globals.lastDrawnDataLabelsIndexes[f]=[]),a.globals.lastDrawnDataLabelsIndexes[f].push(p)}}}},{key:"addBackgroundToDataLabel",value:function(s,a){var l=this.w,c=l.config.dataLabels.background,d=c.padding,f=c.padding/2,p=a.width,m=a.height,b=new _(this.ctx).drawRect(a.x-d,a.y-f/2,p+2*d,m+f,c.borderRadius,l.config.chart.background==="transparent"?"#fff":l.config.chart.background,c.opacity,c.borderWidth,c.borderColor);return c.dropShadow.enabled&&new K(this.ctx).dropShadow(b,c.dropShadow),b}},{key:"dataLabelsBackground",value:function(){var s=this.w;if(s.config.chart.type!=="bubble")for(var a=s.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),l=0;l<a.length;l++){var c=a[l],d=c.getBBox(),f=null;if(d.width&&d.height&&(f=this.addBackgroundToDataLabel(c,d)),f){c.parentNode.insertBefore(f.node,c);var p=c.getAttribute("fill");s.config.chart.animations.enabled&&!s.globals.resized&&!s.globals.dataChanged?f.animate().attr({fill:p}):f.attr({fill:p}),c.setAttribute("fill",s.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var s=this.w,a=s.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),l=s.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),c=0;c<a.length;c++)l&&l.insertBefore(a[c],l.nextSibling)}}]),z}(),Ke=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.legendInactiveClass="legend-mouseover-inactive"}return u(z,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(s){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(N.escapeString(s),"']"))}},{key:"isSeriesHidden",value:function(s){var a=this.getSeriesByName(s),l=parseInt(a.getAttribute("data:realIndex"),10);return{isHidden:a.classList.contains("apexcharts-series-collapsed"),realIndex:l}}},{key:"addCollapsedClassToSeries",value:function(s,a){var l=this.w;function c(d){for(var f=0;f<d.length;f++)d[f].index===a&&s.node.classList.add("apexcharts-series-collapsed")}c(l.globals.collapsedSeries),c(l.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(s){var a=this.isSeriesHidden(s);return this.ctx.legend.legendHelpers.toggleDataSeries(a.realIndex,a.isHidden),a.isHidden}},{key:"showSeries",value:function(s){var a=this.isSeriesHidden(s);a.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(a.realIndex,!0)}},{key:"hideSeries",value:function(s){var a=this.isSeriesHidden(s);a.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(a.realIndex,!1)}},{key:"resetSeries",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=this.w,d=N.clone(c.globals.initialSeries);c.globals.previousPaths=[],l?(c.globals.collapsedSeries=[],c.globals.ancillaryCollapsedSeries=[],c.globals.collapsedSeriesIndices=[],c.globals.ancillaryCollapsedSeriesIndices=[]):d=this.emptyCollapsedSeries(d),c.config.series=d,s&&(a&&(c.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(d,c.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(s){for(var a=this.w,l=0;l<s.length;l++)a.globals.collapsedSeriesIndices.indexOf(l)>-1&&(s[l].data=[]);return s}},{key:"toggleSeriesOnHover",value:function(s,a){var l=this.w;a||(a=s.target);var c=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if(s.type==="mousemove"){var d=parseInt(a.getAttribute("rel"),10)-1,f=null,p=null;l.globals.axisCharts||l.config.chart.type==="radialBar"?l.globals.axisCharts?(f=l.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(d,"']")),p=l.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(d,"']"))):f=l.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(d+1,"']")):f=l.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(d+1,"'] path"));for(var m=0;m<c.length;m++)c[m].classList.add(this.legendInactiveClass);f!==null&&(l.globals.axisCharts||f.parentNode.classList.remove(this.legendInactiveClass),f.classList.remove(this.legendInactiveClass),p!==null&&p.classList.remove(this.legendInactiveClass))}else if(s.type==="mouseout")for(var b=0;b<c.length;b++)c[b].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(s,a){var l=this,c=this.w,d=c.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),f=function(m){for(var b=0;b<d.length;b++)d[b].classList[m](l.legendInactiveClass)};if(s.type==="mousemove"){var p=parseInt(a.getAttribute("rel"),10)-1;f("add"),function(m){for(var b=0;b<d.length;b++){var w=parseInt(d[b].getAttribute("val"),10);w>=m.from&&w<=m.to&&d[b].classList.remove(l.legendInactiveClass)}}(c.config.plotOptions.heatmap.colorScale.ranges[p])}else s.type==="mouseout"&&f("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=this.w,c=0;if(l.config.series.length>1){for(var d=l.config.series.map(function(p,m){return p.data&&p.data.length>0&&l.globals.collapsedSeriesIndices.indexOf(m)===-1&&(!l.globals.comboCharts||a.length===0||a.length&&a.indexOf(l.config.series[m].type)>-1)?m:-1}),f=s==="asc"?0:d.length-1;s==="asc"?f<d.length:f>=0;s==="asc"?f++:f--)if(d[f]!==-1){c=d[f];break}}return c}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(s,a){return s.type==="bar"||s.type==="column"?a:-1}).filter(function(s){return s!==-1}):this.w.config.series.map(function(s,a){return a})}},{key:"getPreviousPaths",value:function(){var s=this.w;function a(f,p,m){for(var b=f[p].childNodes,w={type:m,paths:[],realIndex:f[p].getAttribute("data:realIndex")},C=0;C<b.length;C++)if(b[C].hasAttribute("pathTo")){var A=b[C].getAttribute("pathTo");w.paths.push({d:A})}s.globals.previousPaths.push(w)}s.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(f){for(var p,m=(p=f,s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p,"-series .apexcharts-series"))),b=0;b<m.length;b++)a(m,b,f)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var l=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s.config.chart.type," .apexcharts-series"));if(l.length>0)for(var c=function(f){for(var p=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(f,"'] rect")),m=[],b=function(C){var A=function(P){return p[C].getAttribute(P)},L={x:parseFloat(A("x")),y:parseFloat(A("y")),width:parseFloat(A("width")),height:parseFloat(A("height"))};m.push({rect:L,color:p[C].getAttribute("color")})},w=0;w<p.length;w++)b(w);s.globals.previousPaths.push(m)},d=0;d<l.length;d++)c(d);s.globals.axisCharts||(s.globals.previousPaths=s.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(s){var a=this.w,l=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s,"-series .apexcharts-series"));if(l.length>0)for(var c=0;c<l.length;c++){for(var d=a.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s,"-series .apexcharts-series[data\\:realIndex='").concat(c,"'] circle")),f=[],p=0;p<d.length;p++)f.push({x:d[p].getAttribute("cx"),y:d[p].getAttribute("cy"),r:d[p].getAttribute("r")});a.globals.previousPaths.push(f)}}},{key:"clearPreviousPaths",value:function(){var s=this.w;s.globals.previousPaths=[],s.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var s=this.w,a=s.config.noData,l=new _(this.ctx),c=s.globals.svgWidth/2,d=s.globals.svgHeight/2,f="middle";if(s.globals.noData=!0,s.globals.animationEnded=!0,a.align==="left"?(c=10,f="start"):a.align==="right"&&(c=s.globals.svgWidth-10,f="end"),a.verticalAlign==="top"?d=50:a.verticalAlign==="bottom"&&(d=s.globals.svgHeight-50),c+=a.offsetX,d=d+parseInt(a.style.fontSize,10)+2+a.offsetY,a.text!==void 0&&a.text!==""){var p=l.drawText({x:c,y:d,text:a.text,textAnchor:f,fontSize:a.style.fontSize,fontFamily:a.style.fontFamily,foreColor:a.style.color,opacity:1,class:"apexcharts-text-nodata"});s.globals.dom.Paper.add(p)}}},{key:"setNullSeriesToZeroValues",value:function(s){for(var a=this.w,l=0;l<s.length;l++)if(s[l].length===0)for(var c=0;c<s[a.globals.maxValsInArrayIndex].length;c++)s[l].push(0);return s}},{key:"hasAllSeriesEqualX",value:function(){for(var s=!0,a=this.w,l=this.filteredSeriesX(),c=0;c<l.length-1;c++)if(l[c][0]!==l[c+1][0]){s=!1;break}return a.globals.allSeriesHasEqualX=s,s}},{key:"filteredSeriesX",value:function(){var s=this.w.globals.seriesX.map(function(a){return a.length>0?a:[]});return s}}]),z}(),Ct=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Q(this.ctx)}return u(z,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var s=this.w.config.series.slice(),a=new Ke(this.ctx);if(this.activeSeriesIndex=a.getActiveConfigSeriesIndex(),s[this.activeSeriesIndex].data!==void 0&&s[this.activeSeriesIndex].data.length>0&&s[this.activeSeriesIndex].data[0]!==null&&s[this.activeSeriesIndex].data[0].x!==void 0&&s[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var s=this.w.config.series.slice(),a=new Ke(this.ctx);if(this.activeSeriesIndex=a.getActiveConfigSeriesIndex(),s[this.activeSeriesIndex].data!==void 0&&s[this.activeSeriesIndex].data.length>0&&s[this.activeSeriesIndex].data[0]!==void 0&&s[this.activeSeriesIndex].data[0]!==null&&s[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(s,a){for(var l=this.w.config,c=this.w.globals,d=l.chart.type==="boxPlot"||l.series[a].type==="boxPlot",f=0;f<s[a].data.length;f++)if(s[a].data[f][1]!==void 0&&(Array.isArray(s[a].data[f][1])&&s[a].data[f][1].length===4&&!d?this.twoDSeries.push(N.parseNumber(s[a].data[f][1][3])):s[a].data[f].length>=5?this.twoDSeries.push(N.parseNumber(s[a].data[f][4])):this.twoDSeries.push(N.parseNumber(s[a].data[f][1])),c.dataFormatXNumeric=!0),l.xaxis.type==="datetime"){var p=new Date(s[a].data[f][0]);p=new Date(p).getTime(),this.twoDSeriesX.push(p)}else this.twoDSeriesX.push(s[a].data[f][0]);for(var m=0;m<s[a].data.length;m++)s[a].data[m][2]!==void 0&&(this.threeDSeries.push(s[a].data[m][2]),c.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(s,a){var l=this.w.config,c=this.w.globals,d=new pe(this.ctx),f=a;c.collapsedSeriesIndices.indexOf(a)>-1&&(f=this.activeSeriesIndex);for(var p=0;p<s[a].data.length;p++)s[a].data[p].y!==void 0&&(Array.isArray(s[a].data[p].y)?this.twoDSeries.push(N.parseNumber(s[a].data[p].y[s[a].data[p].y.length-1])):this.twoDSeries.push(N.parseNumber(s[a].data[p].y))),s[a].data[p].goals!==void 0&&Array.isArray(s[a].data[p].goals)?(this.seriesGoals[a]===void 0&&(this.seriesGoals[a]=[]),this.seriesGoals[a].push(s[a].data[p].goals)):(this.seriesGoals[a]===void 0&&(this.seriesGoals[a]=[]),this.seriesGoals[a].push(null));for(var m=0;m<s[f].data.length;m++){var b=typeof s[f].data[m].x=="string",w=Array.isArray(s[f].data[m].x),C=!w&&!!d.isValidDate(s[f].data[m].x.toString());if(b||C)if(b||l.xaxis.convertedCatToNumeric){var A=c.isBarHorizontal&&c.isRangeData;l.xaxis.type!=="datetime"||A?(this.fallbackToCategory=!0,this.twoDSeriesX.push(s[f].data[m].x)):this.twoDSeriesX.push(d.parseDate(s[f].data[m].x))}else l.xaxis.type==="datetime"?this.twoDSeriesX.push(d.parseDate(s[f].data[m].x.toString())):(c.dataFormatXNumeric=!0,c.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(s[f].data[m].x)));else w?(this.fallbackToCategory=!0,this.twoDSeriesX.push(s[f].data[m].x)):(c.isXNumeric=!0,c.dataFormatXNumeric=!0,this.twoDSeriesX.push(s[f].data[m].x))}if(s[a].data[0]&&s[a].data[0].z!==void 0){for(var L=0;L<s[a].data.length;L++)this.threeDSeries.push(s[a].data[L].z);c.isDataXYZ=!0}}},{key:"handleRangeData",value:function(s,a){var l=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleRangeDataFormat("array",s,a):this.isFormatXY()&&(c=this.handleRangeDataFormat("xy",s,a)),l.seriesRangeStart.push(c.start),l.seriesRangeEnd.push(c.end),l.seriesRange.push(c.rangeUniques),l.seriesRange.forEach(function(d,f){d&&d.forEach(function(p,m){p.y.forEach(function(b,w){for(var C=0;C<p.y.length;C++)if(w!==C){var A=b.y1,L=b.y2,P=p.y[C].y1;A<=p.y[C].y2&&P<=L&&(p.overlaps.indexOf(b.rangeName)<0&&p.overlaps.push(b.rangeName),p.overlaps.indexOf(p.y[C].rangeName)<0&&p.overlaps.push(p.y[C].rangeName))}})})}),c}},{key:"handleCandleStickBoxData",value:function(s,a){var l=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleCandleStickBoxDataFormat("array",s,a):this.isFormatXY()&&(c=this.handleCandleStickBoxDataFormat("xy",s,a)),l.seriesCandleO[a]=c.o,l.seriesCandleH[a]=c.h,l.seriesCandleM[a]=c.m,l.seriesCandleL[a]=c.l,l.seriesCandleC[a]=c.c,c}},{key:"handleRangeDataFormat",value:function(s,a,l){var c=[],d=[],f=a[l].data.filter(function(w,C,A){return C===A.findIndex(function(L){return L.x===w.x})}).map(function(w,C){return{x:w.x,overlaps:[],y:[]}});if(s==="array")for(var p=0;p<a[l].data.length;p++)Array.isArray(a[l].data[p])?(c.push(a[l].data[p][1][0]),d.push(a[l].data[p][1][1])):(c.push(a[l].data[p]),d.push(a[l].data[p]));else if(s==="xy")for(var m=function(w){var C=Array.isArray(a[l].data[w].y),A=N.randomId(),L=a[l].data[w].x,P={y1:C?a[l].data[w].y[0]:a[l].data[w].y,y2:C?a[l].data[w].y[1]:a[l].data[w].y,rangeName:A};a[l].data[w].rangeName=A;var O=f.findIndex(function(D){return D.x===L});f[O].y.push(P),c.push(P.y1),d.push(P.y2)},b=0;b<a[l].data.length;b++)m(b);return{start:c,end:d,rangeUniques:f}}},{key:"handleCandleStickBoxDataFormat",value:function(s,a,l){var c=this.w,d=c.config.chart.type==="boxPlot"||c.config.series[l].type==="boxPlot",f=[],p=[],m=[],b=[],w=[];if(s==="array")if(d&&a[l].data[0].length===6||!d&&a[l].data[0].length===5)for(var C=0;C<a[l].data.length;C++)f.push(a[l].data[C][1]),p.push(a[l].data[C][2]),d?(m.push(a[l].data[C][3]),b.push(a[l].data[C][4]),w.push(a[l].data[C][5])):(b.push(a[l].data[C][3]),w.push(a[l].data[C][4]));else for(var A=0;A<a[l].data.length;A++)Array.isArray(a[l].data[A][1])&&(f.push(a[l].data[A][1][0]),p.push(a[l].data[A][1][1]),d?(m.push(a[l].data[A][1][2]),b.push(a[l].data[A][1][3]),w.push(a[l].data[A][1][4])):(b.push(a[l].data[A][1][2]),w.push(a[l].data[A][1][3])));else if(s==="xy")for(var L=0;L<a[l].data.length;L++)Array.isArray(a[l].data[L].y)&&(f.push(a[l].data[L].y[0]),p.push(a[l].data[L].y[1]),d?(m.push(a[l].data[L].y[2]),b.push(a[l].data[L].y[3]),w.push(a[l].data[L].y[4])):(b.push(a[l].data[L].y[2]),w.push(a[l].data[L].y[3])));return{o:f,h:p,m,l:b,c:w}}},{key:"parseDataAxisCharts",value:function(s){var a,l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,d=this.w.config,f=this.w.globals,p=new pe(c),m=d.labels.length>0?d.labels.slice():d.xaxis.categories.slice();if(f.isRangeBar=d.chart.type==="rangeBar"&&f.isBarHorizontal,f.hasXaxisGroups=d.xaxis.type==="category"&&d.xaxis.group.groups.length>0,f.hasXaxisGroups&&(f.groups=d.xaxis.group.groups),f.hasSeriesGroups=(a=s[0])===null||a===void 0?void 0:a.group,f.hasSeriesGroups){var b=[],w=I(new Set(s.map(function(P){return P.group})));s.forEach(function(P,O){var D=w.indexOf(P.group);b[D]||(b[D]=[]),b[D].push(P.name)}),f.seriesGroups=b}for(var C=function(){for(var P=0;P<m.length;P++)if(typeof m[P]=="string"){if(!p.isValidDate(m[P]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");l.twoDSeriesX.push(p.parseDate(m[P]))}else l.twoDSeriesX.push(m[P])},A=0;A<s.length;A++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],s[A].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(d.chart.type!=="rangeBar"&&d.chart.type!=="rangeArea"&&s[A].type!=="rangeBar"&&s[A].type!=="rangeArea"||(f.isRangeData=!0,f.isComboCharts?s[A].type!=="rangeBar"&&s[A].type!=="rangeArea"||this.handleRangeData(s,A):d.chart.type!=="rangeBar"&&d.chart.type!=="rangeArea"||this.handleRangeData(s,A)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(s,A):this.isFormatXY()&&this.handleFormatXY(s,A),d.chart.type!=="candlestick"&&s[A].type!=="candlestick"&&d.chart.type!=="boxPlot"&&s[A].type!=="boxPlot"||this.handleCandleStickBoxData(s,A),f.series.push(this.twoDSeries),f.labels.push(this.twoDSeriesX),f.seriesX.push(this.twoDSeriesX),f.seriesGoals=this.seriesGoals,A!==this.activeSeriesIndex||this.fallbackToCategory||(f.isXNumeric=!0);else{d.xaxis.type==="datetime"?(f.isXNumeric=!0,C(),f.seriesX.push(this.twoDSeriesX)):d.xaxis.type==="numeric"&&(f.isXNumeric=!0,m.length>0&&(this.twoDSeriesX=m,f.seriesX.push(this.twoDSeriesX))),f.labels.push(this.twoDSeriesX);var L=s[A].data.map(function(P){return N.parseNumber(P)});f.series.push(L)}f.seriesZ.push(this.threeDSeries),s[A].name!==void 0?f.seriesNames.push(s[A].name):f.seriesNames.push("series-"+parseInt(A+1,10)),s[A].color!==void 0?f.seriesColors.push(s[A].color):f.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(s){var a=this.w.globals,l=this.w.config;a.series=s.slice(),a.seriesNames=l.labels.slice();for(var c=0;c<a.series.length;c++)a.seriesNames[c]===void 0&&a.seriesNames.push("series-"+(c+1));return this.w}},{key:"handleExternalLabelsData",value:function(s){var a=this.w.config,l=this.w.globals;a.xaxis.categories.length>0?l.labels=a.xaxis.categories:a.labels.length>0?l.labels=a.labels.slice():this.fallbackToCategory?(l.labels=l.labels[0],l.seriesRange.length&&(l.seriesRange.map(function(c){c.forEach(function(d){l.labels.indexOf(d.x)<0&&d.x&&l.labels.push(d.x)})}),l.labels=Array.from(new Set(l.labels.map(JSON.stringify)),JSON.parse)),a.xaxis.convertedCatToNumeric&&(new nt(a).convertCatToNumericXaxis(a,this.ctx,l.seriesX[0]),this._generateExternalLabels(s))):this._generateExternalLabels(s)}},{key:"_generateExternalLabels",value:function(s){var a=this.w.globals,l=this.w.config,c=[];if(a.axisCharts){if(a.series.length>0)if(this.isFormatXY())for(var d=l.series.map(function(C,A){return C.data.filter(function(L,P,O){return O.findIndex(function(D){return D.x===L.x})===P})}),f=d.reduce(function(C,A,L,P){return P[C].length>A.length?C:L},0),p=0;p<d[f].length;p++)c.push(p+1);else for(var m=0;m<a.series[a.maxValsInArrayIndex].length;m++)c.push(m+1);a.seriesX=[];for(var b=0;b<s.length;b++)a.seriesX.push(c);a.isXNumeric=!0}if(c.length===0){c=a.axisCharts?[]:a.series.map(function(C,A){return A+1});for(var w=0;w<s.length;w++)a.seriesX.push(c)}a.labels=c,l.xaxis.convertedCatToNumeric&&(a.categoryLabels=c.map(function(C){return l.xaxis.labels.formatter(C)})),a.noLabelsProvided=!0}},{key:"parseData",value:function(s){var a=this.w,l=a.config,c=a.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),c.axisCharts?(this.parseDataAxisCharts(s),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(s),l.chart.stacked){var d=new Ke(this.ctx);c.series=d.setNullSeriesToZeroValues(c.series)}this.coreUtils.getSeriesTotals(),c.axisCharts&&(c.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),c.dataFormatXNumeric||c.isXNumeric&&(l.xaxis.type!=="numeric"||l.labels.length!==0||l.xaxis.categories.length!==0)||this.handleExternalLabelsData(s);for(var f=this.coreUtils.getCategoryLabels(c.labels),p=0;p<f.length;p++)if(Array.isArray(f[p])){c.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var s=this,a=this.w;a.globals.ignoreYAxisIndexes=a.globals.collapsedSeries.map(function(l,c){if(s.w.globals.isMultipleYAxis&&!a.config.chart.stacked)return l.index})}}]),z}(),Nt=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"getLabel",value:function(s,a,l,c){var d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",p=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],m=this.w,b=s[c]===void 0?"":s[c],w=b,C=m.globals.xLabelFormatter,A=m.config.xaxis.labels.formatter,L=!1,P=new Te(this.ctx),O=b;p&&(w=P.xLabelFormat(C,b,O,{i:c,dateFormatter:new pe(this.ctx).formatDate,w:m}),A!==void 0&&(w=A(b,s[c],{i:c,dateFormatter:new pe(this.ctx).formatDate,w:m})));var D,H;a.length>0?(D=a[c].unit,H=null,a.forEach(function(E){E.unit==="month"?H="year":E.unit==="day"?H="month":E.unit==="hour"?H="day":E.unit==="minute"&&(H="hour")}),L=H===D,l=a[c].position,w=a[c].value):m.config.xaxis.type==="datetime"&&A===void 0&&(w=""),w===void 0&&(w=""),w=Array.isArray(w)?w:w.toString();var X=new _(this.ctx),v={};v=m.globals.rotateXLabels&&p?X.getTextRects(w,parseInt(f,10),null,"rotate(".concat(m.config.xaxis.labels.rotate," 0 0)"),!1):X.getTextRects(w,parseInt(f,10));var k=!m.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(w)&&(w.indexOf("NaN")===0||w.toLowerCase().indexOf("invalid")===0||w.toLowerCase().indexOf("infinity")>=0||d.indexOf(w)>=0&&k)&&(w=""),{x:l,text:w,textRect:v,isBold:L}}},{key:"checkLabelBasedOnTickamount",value:function(s,a,l){var c=this.w,d=c.config.xaxis.tickAmount;return d==="dataPoints"&&(d=Math.round(c.globals.gridWidth/120)),d>l||s%Math.round(l/(d+1))==0||(a.text=""),a}},{key:"checkForOverflowingLabels",value:function(s,a,l,c,d){var f=this.w;if(s===0&&f.globals.skipFirstTimelinelabel&&(a.text=""),s===l-1&&f.globals.skipLastTimelinelabel&&(a.text=""),f.config.xaxis.labels.hideOverlappingLabels&&c.length>0){var p=d[d.length-1];a.x<p.textRect.width/(f.globals.rotateXLabels?Math.abs(f.config.xaxis.labels.rotate)/12:1.01)+p.x&&(a.text="")}return a}},{key:"checkForReversedLabels",value:function(s,a){var l=this.w;return l.config.yaxis[s]&&l.config.yaxis[s].reversed&&a.reverse(),a}},{key:"isYAxisHidden",value:function(s){var a=this.w,l=new Q(this.ctx);return!a.config.yaxis[s].show||!a.config.yaxis[s].showForNullSeries&&l.isSeriesNull(s)&&a.globals.collapsedSeriesIndices.indexOf(s)===-1}},{key:"getYAxisForeColor",value:function(s,a){var l=this.w;return Array.isArray(s)&&l.globals.yAxisScale[a]&&this.ctx.theme.pushExtraColors(s,l.globals.yAxisScale[a].result.length,!1),s}},{key:"drawYAxisTicks",value:function(s,a,l,c,d,f,p){var m=this.w,b=new _(this.ctx),w=m.globals.translateY;if(c.show&&a>0){m.config.yaxis[d].opposite===!0&&(s+=c.width);for(var C=a;C>=0;C--){var A=w+a/10+m.config.yaxis[d].labels.offsetY-1;m.globals.isBarHorizontal&&(A=f*C),m.config.chart.type==="heatmap"&&(A+=f/2);var L=b.drawLine(s+l.offsetX-c.width+c.offsetX,A+c.offsetY,s+l.offsetX+c.offsetX,A+c.offsetY,c.color);p.add(L),w+=f}}}}]),z}(),ti=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"scaleSvgNode",value:function(s,a){var l=parseFloat(s.getAttributeNS(null,"width")),c=parseFloat(s.getAttributeNS(null,"height"));s.setAttributeNS(null,"width",l*a),s.setAttributeNS(null,"height",c*a),s.setAttributeNS(null,"viewBox","0 0 "+l+" "+c)}},{key:"fixSvgStringForIe11",value:function(s){if(!N.isIE11())return s.replace(/&nbsp;/g,"&#160;");var a=0,l=s.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(c){return++a===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':c});return l=(l=l.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(s){s==null&&(s=1);var a=this.w.globals.dom.Paper.svg();if(s!==1){var l=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(l,s),a=new XMLSerializer().serializeToString(l)}return this.fixSvgStringForIe11(a)}},{key:"cleanup",value:function(){var s=this.w,a=s.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),l=s.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),c=s.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(c,function(d){d.setAttribute("width",0)}),a&&a[0]&&(a[0].setAttribute("x",-500),a[0].setAttribute("x1",-500),a[0].setAttribute("x2",-500)),l&&l[0]&&(l[0].setAttribute("y",-100),l[0].setAttribute("y1",-100),l[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var s=this.getSvgString(),a=new Blob([s],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(a)}},{key:"dataURI",value:function(s){var a=this;return new Promise(function(l){var c=a.w,d=s?s.scale||s.width/c.globals.svgWidth:1;a.cleanup();var f=document.createElement("canvas");f.width=c.globals.svgWidth*d,f.height=parseInt(c.globals.dom.elWrap.style.height,10)*d;var p=c.config.chart.background==="transparent"?"#fff":c.config.chart.background,m=f.getContext("2d");m.fillStyle=p,m.fillRect(0,0,f.width*d,f.height*d);var b=a.getSvgString(d);if(window.canvg&&N.isIE11()){var w=window.canvg.Canvg.fromString(m,b,{ignoreClear:!0,ignoreDimensions:!0});w.start();var C=f.msToBlob();w.stop(),l({blob:C})}else{var A="data:image/svg+xml,"+encodeURIComponent(b),L=new Image;L.crossOrigin="anonymous",L.onload=function(){if(m.drawImage(L,0,0),f.msToBlob){var P=f.msToBlob();l({blob:P})}else{var O=f.toDataURL("image/png");l({imgURI:O})}},L.src=A}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var s=this;this.dataURI().then(function(a){var l=a.imgURI,c=a.blob;c?navigator.msSaveOrOpenBlob(c,s.w.globals.chartID+".png"):s.triggerDownload(l,s.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(s){var a=this,l=s.series,c=s.fileName,d=s.columnDelimiter,f=d===void 0?",":d,p=s.lineDelimiter,m=p===void 0?`
`:p,b=this.w;l||(l=b.config.series);var w=[],C=[],A="",L=b.globals.series.map(function(v,k){return b.globals.collapsedSeriesIndices.indexOf(k)===-1?v:[]}),P=Math.max.apply(Math,I(l.map(function(v){return v.data?v.data.length:0}))),O=new Ct(this.ctx),D=new Nt(this.ctx),H=function(v){var k="";if(b.globals.axisCharts){if(b.config.xaxis.type==="category"||b.config.xaxis.convertedCatToNumeric)if(b.globals.isBarHorizontal){var E=b.globals.yLabelFormatters[0],V=new Ke(a.ctx).getActiveConfigSeriesIndex();k=E(b.globals.labels[v],{seriesIndex:V,dataPointIndex:v,w:b})}else k=D.getLabel(b.globals.labels,b.globals.timescaleLabels,0,v).text;b.config.xaxis.type==="datetime"&&(b.config.xaxis.categories.length?k=b.config.xaxis.categories[v]:b.config.labels.length&&(k=b.config.labels[v]))}else k=b.config.labels[v];return Array.isArray(k)&&(k=k.join(" ")),N.isNumber(k)?k:k.split(f).join("")},X=function(v,k){if(w.length&&k===0&&C.push(w.join(f)),v.data){v.data=v.data.length&&v.data||I(Array(P)).map(function(){return""});for(var E=0;E<v.data.length;E++){w=[];var V=H(E);if(V||(O.isFormatXY()?V=l[k].data[E].x:O.isFormat2DArray()&&(V=l[k].data[E]?l[k].data[E][0]:"")),k===0){w.push((U=V,b.config.xaxis.type==="datetime"&&String(U).length>=10?b.config.chart.toolbar.export.csv.dateFormatter(V):N.isNumber(V)?V:V.split(f).join("")));for(var Y=0;Y<b.globals.series.length;Y++)O.isFormatXY()?w.push(l[Y].data[E].y):w.push(L[Y][E])}(b.config.chart.type==="candlestick"||v.type&&v.type==="candlestick")&&(w.pop(),w.push(b.globals.seriesCandleO[k][E]),w.push(b.globals.seriesCandleH[k][E]),w.push(b.globals.seriesCandleL[k][E]),w.push(b.globals.seriesCandleC[k][E])),(b.config.chart.type==="boxPlot"||v.type&&v.type==="boxPlot")&&(w.pop(),w.push(b.globals.seriesCandleO[k][E]),w.push(b.globals.seriesCandleH[k][E]),w.push(b.globals.seriesCandleM[k][E]),w.push(b.globals.seriesCandleL[k][E]),w.push(b.globals.seriesCandleC[k][E])),b.config.chart.type==="rangeBar"&&(w.pop(),w.push(b.globals.seriesRangeStart[k][E]),w.push(b.globals.seriesRangeEnd[k][E])),w.length&&C.push(w.join(f))}}var U};w.push(b.config.chart.toolbar.export.csv.headerCategory),b.config.chart.type==="boxPlot"?(w.push("minimum"),w.push("q1"),w.push("median"),w.push("q3"),w.push("maximum")):b.config.chart.type==="candlestick"?(w.push("open"),w.push("high"),w.push("low"),w.push("close")):b.config.chart.type==="rangeBar"?(w.push("minimum"),w.push("maximum")):l.map(function(v,k){var E=v.name?v.name:"series-".concat(k);b.globals.axisCharts&&w.push(E.split(f).join("")?E.split(f).join(""):"series-".concat(k))}),b.globals.axisCharts||(w.push(b.config.chart.toolbar.export.csv.headerValue),C.push(w.join(f))),l.map(function(v,k){b.globals.axisCharts?X(v,k):((w=[]).push(b.globals.labels[k].split(f).join("")),w.push(L[k]),C.push(w.join(f)))}),A+=C.join(m),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+A),c||b.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(s,a,l){var c=document.createElement("a");c.href=s,c.download=(a||this.w.globals.chartID)+l,document.body.appendChild(c),c.click(),document.body.removeChild(c)}}]),z}(),Mt=function(){function z(s,a){o(this,z),this.ctx=s,this.elgrid=a,this.w=s.w;var l=this.w;this.axesUtils=new Nt(s),this.xaxisLabels=l.globals.labels.slice(),l.globals.timescaleLabels.length>0&&!l.globals.isBarHorizontal&&(this.xaxisLabels=l.globals.timescaleLabels.slice()),l.config.xaxis.overwriteCategories&&(this.xaxisLabels=l.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],l.config.xaxis.position==="top"?this.offY=0:this.offY=l.globals.gridHeight+1,this.offY=this.offY+l.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=l.config.chart.type==="bar"&&l.config.plotOptions.bar.horizontal,this.xaxisFontSize=l.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=l.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=l.config.xaxis.labels.style.colors,this.xaxisBorderWidth=l.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=l.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=l.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=l.config.xaxis.axisBorder.height,this.yaxis=l.config.yaxis[0]}return u(z,[{key:"drawXaxis",value:function(){var s=this.w,a=new _(this.ctx),l=a.group({class:"apexcharts-xaxis",transform:"translate(".concat(s.config.xaxis.offsetX,", ").concat(s.config.xaxis.offsetY,")")}),c=a.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(s.globals.translateXAxisX,", ").concat(s.globals.translateXAxisY,")")});l.add(c);for(var d=[],f=0;f<this.xaxisLabels.length;f++)d.push(this.xaxisLabels[f]);if(this.drawXAxisLabelAndGroup(!0,a,c,d,s.globals.isXNumeric,function(P,O){return O}),s.globals.hasXaxisGroups){var p=s.globals.groups;d=[];for(var m=0;m<p.length;m++)d.push(p[m].title);var b={};s.config.xaxis.group.style&&(b.xaxisFontSize=s.config.xaxis.group.style.fontSize,b.xaxisFontFamily=s.config.xaxis.group.style.fontFamily,b.xaxisForeColors=s.config.xaxis.group.style.colors,b.fontWeight=s.config.xaxis.group.style.fontWeight,b.cssClass=s.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,a,c,d,!1,function(P,O){return p[P].cols*O},b)}if(s.config.xaxis.title.text!==void 0){var w=a.group({class:"apexcharts-xaxis-title"}),C=a.drawText({x:s.globals.gridWidth/2+s.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(s.config.xaxis.position==="bottom"?s.globals.xAxisLabelsHeight:-s.globals.xAxisLabelsHeight-10)+s.config.xaxis.title.offsetY,text:s.config.xaxis.title.text,textAnchor:"middle",fontSize:s.config.xaxis.title.style.fontSize,fontFamily:s.config.xaxis.title.style.fontFamily,fontWeight:s.config.xaxis.title.style.fontWeight,foreColor:s.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+s.config.xaxis.title.style.cssClass});w.add(C),l.add(w)}if(s.config.xaxis.axisBorder.show){var A=s.globals.barPadForNumericAxis,L=a.drawLine(s.globals.padHorizontal+s.config.xaxis.axisBorder.offsetX-A,this.offY,this.xaxisBorderWidth+A,this.offY,s.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(L):l.add(L)}return l}},{key:"drawXAxisLabelAndGroup",value:function(s,a,l,c,d,f){var p,m=this,b=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},w=[],C=[],A=this.w,L=b.xaxisFontSize||this.xaxisFontSize,P=b.xaxisFontFamily||this.xaxisFontFamily,O=b.xaxisForeColors||this.xaxisForeColors,D=b.fontWeight||A.config.xaxis.labels.style.fontWeight,H=b.cssClass||A.config.xaxis.labels.style.cssClass,X=A.globals.padHorizontal,v=c.length,k=A.config.xaxis.type==="category"?A.globals.dataPoints:v;if(k===0&&v>k&&(k=v),d){var E=k>1?k-1:k;p=A.globals.gridWidth/E,X=X+f(0,p)/2+A.config.xaxis.labels.offsetX}else p=A.globals.gridWidth/k,X=X+f(0,p)+A.config.xaxis.labels.offsetX;for(var V=function(U){var J=X-f(U,p)/2+A.config.xaxis.labels.offsetX;U===0&&v===1&&p/2===X&&k===1&&(J=A.globals.gridWidth/2);var ee=m.axesUtils.getLabel(c,A.globals.timescaleLabels,J,U,w,L,s),ae=28;if(A.globals.rotateXLabels&&s&&(ae=22),A.config.xaxis.title.text&&A.config.xaxis.position==="top"&&(ae+=parseFloat(A.config.xaxis.title.style.fontSize)+2),s||(ae=ae+parseFloat(L)+(A.globals.xAxisLabelsHeight-A.globals.xAxisGroupLabelsHeight)+(A.globals.rotateXLabels?10:0)),ee=A.config.xaxis.tickAmount!==void 0&&A.config.xaxis.tickAmount!=="dataPoints"&&A.config.xaxis.type!=="datetime"?m.axesUtils.checkLabelBasedOnTickamount(U,ee,v):m.axesUtils.checkForOverflowingLabels(U,ee,v,w,C),A.config.xaxis.labels.show){var ce=a.drawText({x:ee.x,y:m.offY+A.config.xaxis.labels.offsetY+ae-(A.config.xaxis.position==="top"?A.globals.xAxisHeight+A.config.xaxis.axisTicks.height-2:0),text:ee.text,textAnchor:"middle",fontWeight:ee.isBold?600:D,fontSize:L,fontFamily:P,foreColor:Array.isArray(O)?s&&A.config.xaxis.convertedCatToNumeric?O[A.globals.minX+U-1]:O[U]:O,isPlainText:!1,cssClass:(s?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+H});if(l.add(ce),ce.on("click",function(be){if(typeof A.config.chart.events.xAxisLabelClick=="function"){var Le=Object.assign({},A,{labelIndex:U});A.config.chart.events.xAxisLabelClick(be,m.ctx,Le)}}),s){var ue=document.createElementNS(A.globals.SVGNS,"title");ue.textContent=Array.isArray(ee.text)?ee.text.join(" "):ee.text,ce.node.appendChild(ue),ee.text!==""&&(w.push(ee.text),C.push(ee))}}U<v-1&&(X+=f(U+1,p))},Y=0;Y<=v-1;Y++)V(Y)}},{key:"drawXaxisInversed",value:function(s){var a,l,c=this,d=this.w,f=new _(this.ctx),p=d.config.yaxis[0].opposite?d.globals.translateYAxisX[s]:0,m=f.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:s}),b=f.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+p+", 0)"});m.add(b);var w=[];if(d.config.yaxis[s].show)for(var C=0;C<this.xaxisLabels.length;C++)w.push(this.xaxisLabels[C]);a=d.globals.gridHeight/w.length,l=-a/2.2;var A=d.globals.yLabelFormatters[0],L=d.config.yaxis[0].labels;if(L.show)for(var P=function(E){var V=w[E]===void 0?"":w[E];V=A(V,{seriesIndex:s,dataPointIndex:E,w:d});var Y=c.axesUtils.getYAxisForeColor(L.style.colors,s),U=0;Array.isArray(V)&&(U=V.length/2*parseInt(L.style.fontSize,10));var J=L.offsetX-15,ee="end";c.yaxis.opposite&&(ee="start"),d.config.yaxis[0].labels.align==="left"?(J=L.offsetX,ee="start"):d.config.yaxis[0].labels.align==="center"?(J=L.offsetX,ee="middle"):d.config.yaxis[0].labels.align==="right"&&(ee="end");var ae=f.drawText({x:J,y:l+a+L.offsetY-U,text:V,textAnchor:ee,foreColor:Array.isArray(Y)?Y[E]:Y,fontSize:L.style.fontSize,fontFamily:L.style.fontFamily,fontWeight:L.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+L.style.cssClass,maxWidth:L.maxWidth});b.add(ae),ae.on("click",function(be){if(typeof d.config.chart.events.xAxisLabelClick=="function"){var Le=Object.assign({},d,{labelIndex:E});d.config.chart.events.xAxisLabelClick(be,c.ctx,Le)}});var ce=document.createElementNS(d.globals.SVGNS,"title");if(ce.textContent=Array.isArray(V)?V.join(" "):V,ae.node.appendChild(ce),d.config.yaxis[s].labels.rotate!==0){var ue=f.rotateAroundCenter(ae.node);ae.node.setAttribute("transform","rotate(".concat(d.config.yaxis[s].labels.rotate," 0 ").concat(ue.y,")"))}l+=a},O=0;O<=w.length-1;O++)P(O);if(d.config.yaxis[0].title.text!==void 0){var D=f.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+p+", 0)"}),H=f.drawText({x:d.config.yaxis[0].title.offsetX,y:d.globals.gridHeight/2+d.config.yaxis[0].title.offsetY,text:d.config.yaxis[0].title.text,textAnchor:"middle",foreColor:d.config.yaxis[0].title.style.color,fontSize:d.config.yaxis[0].title.style.fontSize,fontWeight:d.config.yaxis[0].title.style.fontWeight,fontFamily:d.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+d.config.yaxis[0].title.style.cssClass});D.add(H),m.add(D)}var X=0;this.isCategoryBarHorizontal&&d.config.yaxis[0].opposite&&(X=d.globals.gridWidth);var v=d.config.xaxis.axisBorder;if(v.show){var k=f.drawLine(d.globals.padHorizontal+v.offsetX+X,1+v.offsetY,d.globals.padHorizontal+v.offsetX+X,d.globals.gridHeight+v.offsetY,v.color,0);this.elgrid&&this.elgrid.elGridBorders&&d.config.grid.show?this.elgrid.elGridBorders.add(k):m.add(k)}return d.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(X,w.length,d.config.yaxis[0].axisBorder,d.config.yaxis[0].axisTicks,0,a,m),m}},{key:"drawXaxisTicks",value:function(s,a,l){var c=this.w,d=s;if(!(s<0||s-2>c.globals.gridWidth)){var f=this.offY+c.config.xaxis.axisTicks.offsetY;if(a=a+f+c.config.xaxis.axisTicks.height,c.config.xaxis.position==="top"&&(a=f-c.config.xaxis.axisTicks.height),c.config.xaxis.axisTicks.show){var p=new _(this.ctx).drawLine(s+c.config.xaxis.axisTicks.offsetX,f+c.config.xaxis.offsetY,d+c.config.xaxis.axisTicks.offsetX,a+c.config.xaxis.offsetY,c.config.xaxis.axisTicks.color);l.add(p),p.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var s=this.w,a=[],l=this.xaxisLabels.length,c=s.globals.padHorizontal;if(s.globals.timescaleLabels.length>0)for(var d=0;d<l;d++)c=this.xaxisLabels[d].position,a.push(c);else for(var f=l,p=0;p<f;p++){var m=f;s.globals.isXNumeric&&s.config.chart.type!=="bar"&&(m-=1),c+=s.globals.gridWidth/m,a.push(c)}return a}},{key:"xAxisLabelCorrections",value:function(){var s=this.w,a=new _(this.ctx),l=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),c=s.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),d=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),f=s.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(s.globals.rotateXLabels||s.config.xaxis.labels.rotateAlways)for(var p=0;p<c.length;p++){var m=a.rotateAroundCenter(c[p]);m.y=m.y-1,m.x=m.x+1,c[p].setAttribute("transform","rotate(".concat(s.config.xaxis.labels.rotate," ").concat(m.x," ").concat(m.y,")")),c[p].setAttribute("text-anchor","end"),l.setAttribute("transform","translate(0, ".concat(-10,")"));var b=c[p].childNodes;s.config.xaxis.labels.trim&&Array.prototype.forEach.call(b,function(L){a.placeTextWithEllipsis(L,L.textContent,s.globals.xAxisLabelsHeight-(s.config.legend.position==="bottom"?20:10))})}else(function(){for(var L=s.globals.gridWidth/(s.globals.labels.length+1),P=0;P<c.length;P++){var O=c[P].childNodes;s.config.xaxis.labels.trim&&s.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(O,function(D){a.placeTextWithEllipsis(D,D.textContent,L)})}})();if(d.length>0){var w=d[d.length-1].getBBox(),C=d[0].getBBox();w.x<-20&&d[d.length-1].parentNode.removeChild(d[d.length-1]),C.x+C.width>s.globals.gridWidth&&!s.globals.isBarHorizontal&&d[0].parentNode.removeChild(d[0]);for(var A=0;A<f.length;A++)a.placeTextWithEllipsis(f[A],f[A].textContent,s.config.yaxis[0].labels.maxWidth-(s.config.yaxis[0].title.text?2*parseFloat(s.config.yaxis[0].title.style.fontSize):0)-15)}}}]),z}(),Ot=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w;var a=this.w;this.xaxisLabels=a.globals.labels.slice(),this.axesUtils=new Nt(s),this.isRangeBar=a.globals.seriesRange.length,a.globals.timescaleLabels.length>0&&(this.xaxisLabels=a.globals.timescaleLabels.slice())}return u(z,[{key:"drawGridArea",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=this.w,l=new _(this.ctx);s===null&&(s=l.group({class:"apexcharts-grid"}));var c=l.drawLine(a.globals.padHorizontal,1,a.globals.padHorizontal,a.globals.gridHeight,"transparent"),d=l.drawLine(a.globals.padHorizontal,a.globals.gridHeight,a.globals.gridWidth,a.globals.gridHeight,"transparent");return s.add(d),s.add(c),s}},{key:"drawGrid",value:function(){var s=null;return this.w.globals.axisCharts&&(s=this.renderGrid(),this.drawGridArea(s.el)),s}},{key:"createGridMask",value:function(){var s=this.w,a=s.globals,l=new _(this.ctx),c=Array.isArray(s.config.stroke.width)?0:s.config.stroke.width;if(Array.isArray(s.config.stroke.width)){var d=0;s.config.stroke.width.forEach(function(C){d=Math.max(d,C)}),c=d}a.dom.elGridRectMask=document.createElementNS(a.SVGNS,"clipPath"),a.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(a.cuid)),a.dom.elGridRectMarkerMask=document.createElementNS(a.SVGNS,"clipPath"),a.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(a.cuid)),a.dom.elForecastMask=document.createElementNS(a.SVGNS,"clipPath"),a.dom.elForecastMask.setAttribute("id","forecastMask".concat(a.cuid)),a.dom.elNonForecastMask=document.createElementNS(a.SVGNS,"clipPath"),a.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(a.cuid));var f=s.config.chart.type,p=0,m=0;(f==="bar"||f==="rangeBar"||f==="candlestick"||f==="boxPlot"||s.globals.comboBarCount>0)&&s.globals.isXNumeric&&!s.globals.isBarHorizontal&&(p=s.config.grid.padding.left,m=s.config.grid.padding.right,a.barPadForNumericAxis>p&&(p=a.barPadForNumericAxis,m=a.barPadForNumericAxis)),a.dom.elGridRect=l.drawRect(-c/2-p-2,-c/2,a.gridWidth+c+m+p+4,a.gridHeight+c,0,"#fff");var b=s.globals.markers.largestSize+1;a.dom.elGridRectMarker=l.drawRect(2*-b,2*-b,a.gridWidth+4*b,a.gridHeight+4*b,0,"#fff"),a.dom.elGridRectMask.appendChild(a.dom.elGridRect.node),a.dom.elGridRectMarkerMask.appendChild(a.dom.elGridRectMarker.node);var w=a.dom.baseEl.querySelector("defs");w.appendChild(a.dom.elGridRectMask),w.appendChild(a.dom.elForecastMask),w.appendChild(a.dom.elNonForecastMask),w.appendChild(a.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(s){var a=s.i,l=s.x1,c=s.y1,d=s.x2,f=s.y2,p=s.xCount,m=s.parent,b=this.w;if(!(a===0&&b.globals.skipFirstTimelinelabel||a===p-1&&b.globals.skipLastTimelinelabel&&!b.config.xaxis.labels.formatter||b.config.chart.type==="radar")){b.config.grid.xaxis.lines.show&&this._drawGridLine({i:a,x1:l,y1:c,x2:d,y2:f,xCount:p,parent:m});var w=0;if(b.globals.hasXaxisGroups&&b.config.xaxis.tickPlacement==="between"){var C=b.globals.groups;if(C){for(var A=0,L=0;A<a&&L<C.length;L++)A+=C[L].cols;A===a&&(w=.6*b.globals.xAxisLabelsHeight)}}new Mt(this.ctx).drawXaxisTicks(l,w,b.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(s){var a=s.i,l=s.x1,c=s.y1,d=s.x2,f=s.y2,p=s.xCount,m=s.parent,b=this.w,w=!1,C=m.node.classList.contains("apexcharts-gridlines-horizontal"),A=b.config.grid.strokeDashArray,L=b.globals.barPadForNumericAxis;(c===0&&f===0||l===0&&d===0)&&(w=!0),c===b.globals.gridHeight&&f===b.globals.gridHeight&&(w=!0),!b.globals.isBarHorizontal||a!==0&&a!==p-1||(w=!0);var P=new _(this).drawLine(l-(C?L:0),c,d+(C?L:0),f,b.config.grid.borderColor,A);P.node.classList.add("apexcharts-gridline"),w&&b.config.grid.show?this.elGridBorders.add(P):m.add(P)}},{key:"_drawGridBandRect",value:function(s){var a=s.c,l=s.x1,c=s.y1,d=s.x2,f=s.y2,p=s.type,m=this.w,b=new _(this.ctx),w=m.globals.barPadForNumericAxis;if(p!=="column"||m.config.xaxis.type!=="datetime"){var C=m.config.grid[p].colors[a],A=b.drawRect(l-(p==="row"?w:0),c,d+(p==="row"?2*w:0),f,0,C,m.config.grid[p].opacity);this.elg.add(A),A.attr("clip-path","url(#gridRectMask".concat(m.globals.cuid,")")),A.node.classList.add("apexcharts-grid-".concat(p))}}},{key:"_drawXYLines",value:function(s){var a=this,l=s.xCount,c=s.tickAmount,d=this.w;if(d.config.grid.xaxis.lines.show||d.config.xaxis.axisTicks.show){var f,p=d.globals.padHorizontal,m=d.globals.gridHeight;d.globals.timescaleLabels.length?function(P){for(var O=P.xC,D=P.x1,H=P.y1,X=P.x2,v=P.y2,k=0;k<O;k++)D=a.xaxisLabels[k].position,X=a.xaxisLabels[k].position,a._drawGridLines({i:k,x1:D,y1:H,x2:X,y2:v,xCount:l,parent:a.elgridLinesV})}({xC:l,x1:p,y1:0,x2:f,y2:m}):(d.globals.isXNumeric&&(l=d.globals.xAxisScale.result.length),function(P){for(var O=P.xC,D=P.x1,H=P.y1,X=P.x2,v=P.y2,k=0;k<O+(d.globals.isXNumeric?0:1);k++)k===0&&O===1&&d.globals.dataPoints===1&&(X=D=d.globals.gridWidth/2),a._drawGridLines({i:k,x1:D,y1:H,x2:X,y2:v,xCount:l,parent:a.elgridLinesV}),X=D+=d.globals.gridWidth/(d.globals.isXNumeric?O-1:O)}({xC:l,x1:p,y1:0,x2:f,y2:m}))}if(d.config.grid.yaxis.lines.show){var b=0,w=0,C=d.globals.gridWidth,A=c+1;this.isRangeBar&&(A=d.globals.labels.length);for(var L=0;L<A+(this.isRangeBar?1:0);L++)this._drawGridLine({i:L,xCount:A+(this.isRangeBar?1:0),x1:0,y1:b,x2:C,y2:w,parent:this.elgridLinesH}),w=b+=d.globals.gridHeight/(this.isRangeBar?A:c)}}},{key:"_drawInvertedXYLines",value:function(s){var a=s.xCount,l=this.w;if(l.config.grid.xaxis.lines.show||l.config.xaxis.axisTicks.show)for(var c,d=l.globals.padHorizontal,f=l.globals.gridHeight,p=0;p<a+1;p++)l.config.grid.xaxis.lines.show&&this._drawGridLine({i:p,xCount:a+1,x1:d,y1:0,x2:c,y2:f,parent:this.elgridLinesV}),new Mt(this.ctx).drawXaxisTicks(d,0,l.globals.dom.elGraphical),c=d=d+l.globals.gridWidth/a+.3;if(l.config.grid.yaxis.lines.show)for(var m=0,b=0,w=l.globals.gridWidth,C=0;C<l.globals.dataPoints+1;C++)this._drawGridLine({i:C,xCount:l.globals.dataPoints+1,x1:0,y1:m,x2:w,y2:b,parent:this.elgridLinesH}),b=m+=l.globals.gridHeight/l.globals.dataPoints}},{key:"renderGrid",value:function(){var s=this.w,a=new _(this.ctx);this.elg=a.group({class:"apexcharts-grid"}),this.elgridLinesH=a.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=a.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=a.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),s.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var l,c=s.globals.yAxisScale.length?s.globals.yAxisScale[0].result.length-1:5,d=0;d<s.globals.series.length&&(s.globals.yAxisScale[d]!==void 0&&(c=s.globals.yAxisScale[d].result.length-1),!(c>2));d++);return!s.globals.isBarHorizontal||this.isRangeBar?(l=this.xaxisLabels.length,this.isRangeBar&&s.globals.isBarHorizontal&&(l--,c=s.globals.labels.length,s.config.xaxis.tickAmount&&s.config.xaxis.labels.formatter&&(l=s.config.xaxis.tickAmount)),this._drawXYLines({xCount:l,tickAmount:c})):(l=c,c=s.globals.xTickAmount,this._drawInvertedXYLines({xCount:l,tickAmount:c})),this.drawGridBands(l,c),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:s.globals.gridWidth/l}}},{key:"drawGridBands",value:function(s,a){var l=this.w;if(l.config.grid.row.colors!==void 0&&l.config.grid.row.colors.length>0)for(var c=0,d=l.globals.gridHeight/a,f=l.globals.gridWidth,p=0,m=0;p<a;p++,m++)m>=l.config.grid.row.colors.length&&(m=0),this._drawGridBandRect({c:m,x1:0,y1:c,x2:f,y2:d,type:"row"}),c+=l.globals.gridHeight/a;if(l.config.grid.column.colors!==void 0&&l.config.grid.column.colors.length>0)for(var b=l.globals.isBarHorizontal||l.config.xaxis.type!=="category"&&!l.config.xaxis.convertedCatToNumeric?s:s-1,w=l.globals.padHorizontal,C=l.globals.padHorizontal+l.globals.gridWidth/b,A=l.globals.gridHeight,L=0,P=0;L<s;L++,P++)P>=l.config.grid.column.colors.length&&(P=0),this._drawGridBandRect({c:P,x1:w,y1:0,x2:C,y2:A,type:"column"}),w+=l.globals.gridWidth/b}}]),z}(),mt=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"niceScale",value:function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,d=arguments.length>4?arguments[4]:void 0,f=this.w,p=Math.abs(a-s);if((l=this._adjustTicksForSmallRange(l,c,p))==="dataPoints"&&(l=f.globals.dataPoints-1),s===Number.MIN_VALUE&&a===0||!N.isNumber(s)&&!N.isNumber(a)||s===Number.MIN_VALUE&&a===-Number.MAX_VALUE)return s=0,a=l,this.linearScale(s,a,l);s>a?(console.warn("axis.min cannot be greater than axis.max"),a=s+.1):s===a&&(s=s===0?0:s-.5,a=a===0?2:a+.5);var m=[];p<1&&d&&(f.config.chart.type==="candlestick"||f.config.series[c].type==="candlestick"||f.config.chart.type==="boxPlot"||f.config.series[c].type==="boxPlot"||f.globals.isRangeData)&&(a*=1.01);var b=l+1;b<2?b=2:b>2&&(b-=2);var w=p/b,C=Math.floor(N.log10(w)),A=Math.pow(10,C),L=Math.round(w/A);L<1&&(L=1);var P=L*A,O=P*Math.floor(s/P),D=P*Math.ceil(a/P),H=O;if(d&&p>2){for(;m.push(H),!((H+=P)>D););return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}var X=s;(m=[]).push(X);for(var v=Math.abs(a-s)/l,k=0;k<=l;k++)X+=v,m.push(X);return m[m.length-2]>=a&&m.pop(),{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"linearScale",value:function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,c=arguments.length>3?arguments[3]:void 0,d=Math.abs(a-s);(l=this._adjustTicksForSmallRange(l,c,d))==="dataPoints"&&(l=this.w.globals.dataPoints-1);var f=d/l;l===Number.MAX_VALUE&&(l=10,f=1);for(var p=[],m=s;l>=0;)p.push(m),m+=f,l-=1;return{result:p,niceMin:p[0],niceMax:p[p.length-1]}}},{key:"logarithmicScaleNice",value:function(s,a,l){a<=0&&(a=Math.max(s,l)),s<=0&&(s=Math.min(a,l));for(var c=[],d=Math.ceil(Math.log(a)/Math.log(l)+1),f=Math.floor(Math.log(s)/Math.log(l));f<d;f++)c.push(Math.pow(l,f));return{result:c,niceMin:c[0],niceMax:c[c.length-1]}}},{key:"logarithmicScale",value:function(s,a,l){a<=0&&(a=Math.max(s,l)),s<=0&&(s=Math.min(a,l));for(var c=[],d=Math.log(a)/Math.log(l),f=Math.log(s)/Math.log(l),p=d-f,m=Math.round(p),b=p/m,w=0,C=f;w<m;w++,C+=b)c.push(Math.pow(l,C));return c.push(Math.pow(l,d)),{result:c,niceMin:s,niceMax:a}}},{key:"_adjustTicksForSmallRange",value:function(s,a,l){var c=s;if(a!==void 0&&this.w.config.yaxis[a].labels.formatter&&this.w.config.yaxis[a].tickAmount===void 0){var d=Number(this.w.config.yaxis[a].labels.formatter(1));N.isNumber(d)&&this.w.globals.yValueDecimal===0&&(c=Math.ceil(l))}return c<s?c:s}},{key:"setYScaleForIndex",value:function(s,a,l){var c=this.w.globals,d=this.w.config,f=c.isBarHorizontal?d.xaxis:d.yaxis[s];c.yAxisScale[s]===void 0&&(c.yAxisScale[s]=[]);var p=Math.abs(l-a);if(f.logarithmic&&p<=5&&(c.invalidLogScale=!0),f.logarithmic&&p>5)c.allSeriesCollapsed=!1,c.yAxisScale[s]=this.logarithmicScale(a,l,f.logBase),c.yAxisScale[s]=f.forceNiceScale?this.logarithmicScaleNice(a,l,f.logBase):this.logarithmicScale(a,l,f.logBase);else if(l!==-Number.MAX_VALUE&&N.isNumber(l))if(c.allSeriesCollapsed=!1,f.min===void 0&&f.max===void 0||f.forceNiceScale){var m=d.yaxis[s].max===void 0&&d.yaxis[s].min===void 0||d.yaxis[s].forceNiceScale;c.yAxisScale[s]=this.niceScale(a,l,f.tickAmount?f.tickAmount:p<5&&p>1?p+1:5,s,m)}else c.yAxisScale[s]=this.linearScale(a,l,f.tickAmount,s);else c.yAxisScale[s]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(s,a){var l=this.w,c=l.globals,d=l.config.xaxis,f=Math.abs(a-s);return a!==-Number.MAX_VALUE&&N.isNumber(a)?c.xAxisScale=this.linearScale(s,a,d.tickAmount?d.tickAmount:f<5&&f>1?f+1:5,0):c.xAxisScale=this.linearScale(0,5,5),c.xAxisScale}},{key:"setMultipleYScales",value:function(){var s=this,a=this.w.globals,l=this.w.config,c=a.minYArr.concat([]),d=a.maxYArr.concat([]),f=[];l.yaxis.forEach(function(p,m){var b=m;l.series.forEach(function(A,L){A.name===p.seriesName&&(b=L,m!==L?f.push({index:L,similarIndex:m,alreadyExists:!0}):f.push({index:L}))});var w=c[b],C=d[b];s.setYScaleForIndex(m,w,C)}),this.sameScaleInMultipleAxes(c,d,f)}},{key:"sameScaleInMultipleAxes",value:function(s,a,l){var c=this,d=this.w.config,f=this.w.globals,p=[];l.forEach(function(O){O.alreadyExists&&(p[O.index]===void 0&&(p[O.index]=[]),p[O.index].push(O.index),p[O.index].push(O.similarIndex))}),f.yAxisSameScaleIndices=p,p.forEach(function(O,D){p.forEach(function(H,X){var v,k;D!==X&&(v=O,k=H,v.filter(function(E){return k.indexOf(E)!==-1})).length>0&&(p[D]=p[D].concat(p[X]))})});var m=p.map(function(O){return O.filter(function(D,H){return O.indexOf(D)===H})}).map(function(O){return O.sort()});p=p.filter(function(O){return!!O});var b=m.slice(),w=b.map(function(O){return JSON.stringify(O)});b=b.filter(function(O,D){return w.indexOf(JSON.stringify(O))===D});var C=[],A=[];s.forEach(function(O,D){b.forEach(function(H,X){H.indexOf(D)>-1&&(C[X]===void 0&&(C[X]=[],A[X]=[]),C[X].push({key:D,value:O}),A[X].push({key:D,value:a[D]}))})});var L=Array.apply(null,Array(b.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),P=Array.apply(null,Array(b.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);C.forEach(function(O,D){O.forEach(function(H,X){L[D]=Math.min(H.value,L[D])})}),A.forEach(function(O,D){O.forEach(function(H,X){P[D]=Math.max(H.value,P[D])})}),s.forEach(function(O,D){A.forEach(function(H,X){var v=L[X],k=P[X];d.chart.stacked&&(k=0,H.forEach(function(E,V){E.value!==-Number.MAX_VALUE&&(k+=E.value),v!==Number.MIN_VALUE&&(v+=C[X][V].value)})),H.forEach(function(E,V){H[V].key===D&&(d.yaxis[D].min!==void 0&&(v=typeof d.yaxis[D].min=="function"?d.yaxis[D].min(f.minY):d.yaxis[D].min),d.yaxis[D].max!==void 0&&(k=typeof d.yaxis[D].max=="function"?d.yaxis[D].max(f.maxY):d.yaxis[D].max),c.setYScaleForIndex(D,v,k))})})})}},{key:"autoScaleY",value:function(s,a,l){s||(s=this);var c=s.w;if(c.globals.isMultipleYAxis||c.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),a;var d=c.globals.seriesX[0],f=c.config.chart.stacked;return a.forEach(function(p,m){for(var b=0,w=0;w<d.length;w++)if(d[w]>=l.xaxis.min){b=w;break}var C,A,L=c.globals.minYArr[m],P=c.globals.maxYArr[m],O=c.globals.stackedSeriesTotals;c.globals.series.forEach(function(D,H){var X=D[b];f?(X=O[b],C=A=X,O.forEach(function(v,k){d[k]<=l.xaxis.max&&d[k]>=l.xaxis.min&&(v>A&&v!==null&&(A=v),D[k]<C&&D[k]!==null&&(C=D[k]))})):(C=A=X,D.forEach(function(v,k){if(d[k]<=l.xaxis.max&&d[k]>=l.xaxis.min){var E=v,V=v;c.globals.series.forEach(function(Y,U){v!==null&&(E=Math.min(Y[k],E),V=Math.max(Y[k],V))}),V>A&&V!==null&&(A=V),E<C&&E!==null&&(C=E)}})),C===void 0&&A===void 0&&(C=L,A=P),A*=A<0?.9:1.1,(C*=C<0?1.1:.9)===0&&A===0&&(C=-1,A=1),A<0&&A<P&&(A=P),C<0&&C>L&&(C=L),a.length>1?(a[H].min=p.min===void 0?C:p.min,a[H].max=p.max===void 0?A:p.max):(a[0].min=p.min===void 0?C:p.min,a[0].max=p.max===void 0?A:p.max)})}),a}}]),z}(),It=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.scales=new mt(s)}return u(z,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,d=this.w.config,f=this.w.globals,p=-Number.MAX_VALUE,m=Number.MIN_VALUE;c===null&&(c=s+1);var b=f.series,w=b,C=b;d.chart.type==="candlestick"?(w=f.seriesCandleL,C=f.seriesCandleH):d.chart.type==="boxPlot"?(w=f.seriesCandleO,C=f.seriesCandleC):f.isRangeData&&(w=f.seriesRangeStart,C=f.seriesRangeEnd);for(var A=s;A<c;A++){f.dataPoints=Math.max(f.dataPoints,b[A].length),f.categoryLabels.length&&(f.dataPoints=f.categoryLabels.filter(function(O){return O!==void 0}).length),f.labels.length&&(f.dataPoints=Math.max(f.dataPoints,f.labels.length));for(var L=0;L<f.series[A].length;L++){var P=b[A][L];P!==null&&N.isNumber(P)?(C[A][L]!==void 0&&(p=Math.max(p,C[A][L]),a=Math.min(a,C[A][L])),w[A][L]!==void 0&&(a=Math.min(a,w[A][L]),l=Math.max(l,w[A][L])),this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"&&this.w.config.chart.type==="rangeArea"&&this.w.config.chart.type==="rangeBar"||(this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"||f.seriesCandleC[A][L]!==void 0&&(p=Math.max(p,f.seriesCandleO[A][L]),p=Math.max(p,f.seriesCandleH[A][L]),p=Math.max(p,f.seriesCandleL[A][L]),p=Math.max(p,f.seriesCandleC[A][L]),this.w.config.chart.type==="boxPlot"&&(p=Math.max(p,f.seriesCandleM[A][L]))),!d.series[A].type||d.series[A].type==="candlestick"&&d.series[A].type==="boxPlot"&&d.series[A].type==="rangeArea"&&d.series[A].type==="rangeBar"||(p=Math.max(p,f.series[A][L]),a=Math.min(a,f.series[A][L])),l=p),f.seriesGoals[A]&&f.seriesGoals[A][L]&&Array.isArray(f.seriesGoals[A][L])&&f.seriesGoals[A][L].forEach(function(O){m!==Number.MIN_VALUE&&(m=Math.min(m,O.value),a=m),p=Math.max(p,O.value),l=p}),N.isFloat(P)&&(P=N.noExponents(P),f.yValueDecimal=Math.max(f.yValueDecimal,P.toString().split(".")[1].length)),m>w[A][L]&&w[A][L]<0&&(m=w[A][L])):f.hasNullValues=!0}}return d.chart.type==="rangeBar"&&f.seriesRangeStart.length&&f.isBarHorizontal&&(m=a),d.chart.type==="bar"&&(m<0&&p<0&&(p=0),m===Number.MIN_VALUE&&(m=0)),{minY:m,maxY:p,lowestY:a,highestY:l}}},{key:"setYRange",value:function(){var s=this.w.globals,a=this.w.config;s.maxY=-Number.MAX_VALUE,s.minY=Number.MIN_VALUE;var l=Number.MAX_VALUE;if(s.isMultipleYAxis)for(var c=0;c<s.series.length;c++){var d=this.getMinYMaxY(c,l,null,c+1);s.minYArr.push(d.minY),s.maxYArr.push(d.maxY),l=d.lowestY}var f=this.getMinYMaxY(0,l,null,s.series.length);if(s.minY=f.minY,s.maxY=f.maxY,l=f.lowestY,a.chart.stacked&&this._setStackedMinMax(),(a.chart.type==="line"||a.chart.type==="area"||a.chart.type==="candlestick"||a.chart.type==="boxPlot"||a.chart.type==="rangeBar"&&!s.isBarHorizontal)&&s.minY===Number.MIN_VALUE&&l!==-Number.MAX_VALUE&&l!==s.maxY){var p=s.maxY-l;(l>=0&&l<=10||a.yaxis[0].min!==void 0||a.yaxis[0].max!==void 0)&&(p=0),s.minY=l-5*p/100,l>0&&s.minY<0&&(s.minY=0),s.maxY=s.maxY+5*p/100}return a.yaxis.forEach(function(m,b){m.max!==void 0&&(typeof m.max=="number"?s.maxYArr[b]=m.max:typeof m.max=="function"&&(s.maxYArr[b]=m.max(s.isMultipleYAxis?s.maxYArr[b]:s.maxY)),s.maxY=s.maxYArr[b]),m.min!==void 0&&(typeof m.min=="number"?s.minYArr[b]=m.min:typeof m.min=="function"&&(s.minYArr[b]=m.min(s.isMultipleYAxis?s.minYArr[b]===Number.MIN_VALUE?0:s.minYArr[b]:s.minY)),s.minY=s.minYArr[b])}),s.isBarHorizontal&&["min","max"].forEach(function(m){a.xaxis[m]!==void 0&&typeof a.xaxis[m]=="number"&&(m==="min"?s.minY=a.xaxis[m]:s.maxY=a.xaxis[m])}),s.isMultipleYAxis?(this.scales.setMultipleYScales(),s.minY=l,s.yAxisScale.forEach(function(m,b){s.minYArr[b]=m.niceMin,s.maxYArr[b]=m.niceMax})):(this.scales.setYScaleForIndex(0,s.minY,s.maxY),s.minY=s.yAxisScale[0].niceMin,s.maxY=s.yAxisScale[0].niceMax,s.minYArr[0]=s.yAxisScale[0].niceMin,s.maxYArr[0]=s.yAxisScale[0].niceMax),{minY:s.minY,maxY:s.maxY,minYArr:s.minYArr,maxYArr:s.maxYArr,yAxisScale:s.yAxisScale}}},{key:"setXRange",value:function(){var s=this.w.globals,a=this.w.config,l=a.xaxis.type==="numeric"||a.xaxis.type==="datetime"||a.xaxis.type==="category"&&!s.noLabelsProvided||s.noLabelsProvided||s.isXNumeric;if(s.isXNumeric&&function(){for(var p=0;p<s.series.length;p++)if(s.labels[p])for(var m=0;m<s.labels[p].length;m++)s.labels[p][m]!==null&&N.isNumber(s.labels[p][m])&&(s.maxX=Math.max(s.maxX,s.labels[p][m]),s.initialMaxX=Math.max(s.maxX,s.labels[p][m]),s.minX=Math.min(s.minX,s.labels[p][m]),s.initialMinX=Math.min(s.minX,s.labels[p][m]))}(),s.noLabelsProvided&&a.xaxis.categories.length===0&&(s.maxX=s.labels[s.labels.length-1],s.initialMaxX=s.labels[s.labels.length-1],s.minX=1,s.initialMinX=1),s.isXNumeric||s.noLabelsProvided||s.dataFormatXNumeric){var c;if(a.xaxis.tickAmount===void 0?(c=Math.round(s.svgWidth/150),a.xaxis.type==="numeric"&&s.dataPoints<30&&(c=s.dataPoints-1),c>s.dataPoints&&s.dataPoints!==0&&(c=s.dataPoints-1)):a.xaxis.tickAmount==="dataPoints"?(s.series.length>1&&(c=s.series[s.maxValsInArrayIndex].length-1),s.isXNumeric&&(c=s.maxX-s.minX-1)):c=a.xaxis.tickAmount,s.xTickAmount=c,a.xaxis.max!==void 0&&typeof a.xaxis.max=="number"&&(s.maxX=a.xaxis.max),a.xaxis.min!==void 0&&typeof a.xaxis.min=="number"&&(s.minX=a.xaxis.min),a.xaxis.range!==void 0&&(s.minX=s.maxX-a.xaxis.range),s.minX!==Number.MAX_VALUE&&s.maxX!==-Number.MAX_VALUE)if(a.xaxis.convertedCatToNumeric&&!s.dataFormatXNumeric){for(var d=[],f=s.minX-1;f<s.maxX;f++)d.push(f+1);s.xAxisScale={result:d,niceMin:d[0],niceMax:d[d.length-1]}}else s.xAxisScale=this.scales.setXScale(s.minX,s.maxX);else s.xAxisScale=this.scales.linearScale(1,c,c),s.noLabelsProvided&&s.labels.length>0&&(s.xAxisScale=this.scales.linearScale(1,s.labels.length,c-1),s.seriesX=s.labels.slice());l&&(s.labels=s.xAxisScale.result.slice())}return s.isBarHorizontal&&s.labels.length&&(s.xTickAmount=s.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:s.minX,maxX:s.maxX}}},{key:"setZRange",value:function(){var s=this.w.globals;if(s.isDataXYZ){for(var a=0;a<s.series.length;a++)if(s.seriesZ[a]!==void 0)for(var l=0;l<s.seriesZ[a].length;l++)s.seriesZ[a][l]!==null&&N.isNumber(s.seriesZ[a][l])&&(s.maxZ=Math.max(s.maxZ,s.seriesZ[a][l]),s.minZ=Math.min(s.minZ,s.seriesZ[a][l]))}}},{key:"_handleSingleDataPoint",value:function(){var s=this.w.globals,a=this.w.config;if(s.minX===s.maxX){var l=new pe(this.ctx);if(a.xaxis.type==="datetime"){var c=l.getDate(s.minX);a.xaxis.labels.datetimeUTC?c.setUTCDate(c.getUTCDate()-2):c.setDate(c.getDate()-2),s.minX=new Date(c).getTime();var d=l.getDate(s.maxX);a.xaxis.labels.datetimeUTC?d.setUTCDate(d.getUTCDate()+2):d.setDate(d.getDate()+2),s.maxX=new Date(d).getTime()}else(a.xaxis.type==="numeric"||a.xaxis.type==="category"&&!s.noLabelsProvided)&&(s.minX=s.minX-2,s.initialMinX=s.minX,s.maxX=s.maxX+2,s.initialMaxX=s.maxX)}}},{key:"_getMinXDiff",value:function(){var s=this.w.globals;s.isXNumeric&&s.seriesX.forEach(function(a,l){a.length===1&&a.push(s.seriesX[s.maxValsInArrayIndex][s.seriesX[s.maxValsInArrayIndex].length-1]);var c=a.slice();c.sort(function(d,f){return d-f}),c.forEach(function(d,f){if(f>0){var p=d-c[f-1];p>0&&(s.minXDiff=Math.min(p,s.minXDiff))}}),s.dataPoints!==1&&s.minXDiff!==Number.MAX_VALUE||(s.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var s=this,a=this.w.globals;if(a.series.length){var l=a.seriesGroups;l.length||(l=[this.w.config.series.map(function(f){return f.name})]);var c={},d={};l.forEach(function(f){c[f]=[],d[f]=[],s.w.config.series.map(function(p,m){return f.indexOf(p.name)>-1?m:null}).filter(function(p){return p!==null}).forEach(function(p){for(var m=0;m<a.series[a.maxValsInArrayIndex].length;m++)c[f][m]===void 0&&(c[f][m]=0,d[f][m]=0),a.series[p][m]!==null&&N.isNumber(a.series[p][m])&&(a.series[p][m]>0?c[f][m]+=parseFloat(a.series[p][m])+1e-4:d[f][m]+=parseFloat(a.series[p][m]))})}),Object.entries(c).forEach(function(f){var p=R(f,1)[0];c[p].forEach(function(m,b){a.maxY=Math.max(a.maxY,c[p][b]),a.minY=Math.min(a.minY,d[p][b])})})}}}]),z}(),Rt=function(){function z(s,a){o(this,z),this.ctx=s,this.elgrid=a,this.w=s.w;var l=this.w;this.xaxisFontSize=l.config.xaxis.labels.style.fontSize,this.axisFontFamily=l.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=l.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=l.config.chart.type==="bar"&&l.config.plotOptions.bar.horizontal,this.xAxisoffX=0,l.config.xaxis.position==="bottom"&&(this.xAxisoffX=l.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Nt(s)}return u(z,[{key:"drawYaxis",value:function(s){var a=this,l=this.w,c=new _(this.ctx),d=l.config.yaxis[s].labels.style,f=d.fontSize,p=d.fontFamily,m=d.fontWeight,b=c.group({class:"apexcharts-yaxis",rel:s,transform:"translate("+l.globals.translateYAxisX[s]+", 0)"});if(this.axesUtils.isYAxisHidden(s))return b;var w=c.group({class:"apexcharts-yaxis-texts-g"});b.add(w);var C=l.globals.yAxisScale[s].result.length-1,A=l.globals.gridHeight/C,L=l.globals.translateY,P=l.globals.yLabelFormatters[s],O=l.globals.yAxisScale[s].result.slice();O=this.axesUtils.checkForReversedLabels(s,O);var D="";if(l.config.yaxis[s].labels.show)for(var H=function(J){var ee=O[J];ee=P(ee,J,l);var ae=l.config.yaxis[s].labels.padding;l.config.yaxis[s].opposite&&l.config.yaxis.length!==0&&(ae*=-1);var ce="end";l.config.yaxis[s].opposite&&(ce="start"),l.config.yaxis[s].labels.align==="left"?ce="start":l.config.yaxis[s].labels.align==="center"?ce="middle":l.config.yaxis[s].labels.align==="right"&&(ce="end");var ue=a.axesUtils.getYAxisForeColor(d.colors,s),be=c.drawText({x:ae,y:L+C/10+l.config.yaxis[s].labels.offsetY+1,text:ee,textAnchor:ce,fontSize:f,fontFamily:p,fontWeight:m,maxWidth:l.config.yaxis[s].labels.maxWidth,foreColor:Array.isArray(ue)?ue[J]:ue,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+d.cssClass});J===C&&(D=be),w.add(be);var Le=document.createElementNS(l.globals.SVGNS,"title");if(Le.textContent=Array.isArray(ee)?ee.join(" "):ee,be.node.appendChild(Le),l.config.yaxis[s].labels.rotate!==0){var Re=c.rotateAroundCenter(D.node),Ne=c.rotateAroundCenter(be.node);be.node.setAttribute("transform","rotate(".concat(l.config.yaxis[s].labels.rotate," ").concat(Re.x," ").concat(Ne.y,")"))}L+=A},X=C;X>=0;X--)H(X);if(l.config.yaxis[s].title.text!==void 0){var v=c.group({class:"apexcharts-yaxis-title"}),k=0;l.config.yaxis[s].opposite&&(k=l.globals.translateYAxisX[s]);var E=c.drawText({x:k,y:l.globals.gridHeight/2+l.globals.translateY+l.config.yaxis[s].title.offsetY,text:l.config.yaxis[s].title.text,textAnchor:"end",foreColor:l.config.yaxis[s].title.style.color,fontSize:l.config.yaxis[s].title.style.fontSize,fontWeight:l.config.yaxis[s].title.style.fontWeight,fontFamily:l.config.yaxis[s].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+l.config.yaxis[s].title.style.cssClass});v.add(E),b.add(v)}var V=l.config.yaxis[s].axisBorder,Y=31+V.offsetX;if(l.config.yaxis[s].opposite&&(Y=-31-V.offsetX),V.show){var U=c.drawLine(Y,l.globals.translateY+V.offsetY-2,Y,l.globals.gridHeight+l.globals.translateY+V.offsetY+2,V.color,0,V.width);b.add(U)}return l.config.yaxis[s].axisTicks.show&&this.axesUtils.drawYAxisTicks(Y,C,V,l.config.yaxis[s].axisTicks,s,A,b),b}},{key:"drawYaxisInversed",value:function(s){var a=this.w,l=new _(this.ctx),c=l.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),d=l.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(a.globals.translateXAxisX,", ").concat(a.globals.translateXAxisY,")")});c.add(d);var f=a.globals.yAxisScale[s].result.length-1,p=a.globals.gridWidth/f+.1,m=p+a.config.xaxis.labels.offsetX,b=a.globals.xLabelFormatter,w=a.globals.yAxisScale[s].result.slice(),C=a.globals.timescaleLabels;C.length>0&&(this.xaxisLabels=C.slice(),f=(w=C.slice()).length),w=this.axesUtils.checkForReversedLabels(s,w);var A=C.length;if(a.config.xaxis.labels.show)for(var L=A?0:f;A?L<A:L>=0;A?L++:L--){var P=w[L];P=b(P,L,a);var O=a.globals.gridWidth+a.globals.padHorizontal-(m-p+a.config.xaxis.labels.offsetX);if(C.length){var D=this.axesUtils.getLabel(w,C,O,L,this.drawnLabels,this.xaxisFontSize);O=D.x,P=D.text,this.drawnLabels.push(D.text),L===0&&a.globals.skipFirstTimelinelabel&&(P=""),L===w.length-1&&a.globals.skipLastTimelinelabel&&(P="")}var H=l.drawText({x:O,y:this.xAxisoffX+a.config.xaxis.labels.offsetY+30-(a.config.xaxis.position==="top"?a.globals.xAxisHeight+a.config.xaxis.axisTicks.height-2:0),text:P,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[s]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:a.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+a.config.xaxis.labels.style.cssClass});d.add(H),H.tspan(P);var X=document.createElementNS(a.globals.SVGNS,"title");X.textContent=P,H.node.appendChild(X),m+=p}return this.inversedYAxisTitleText(c),this.inversedYAxisBorder(c),c}},{key:"inversedYAxisBorder",value:function(s){var a=this.w,l=new _(this.ctx),c=a.config.xaxis.axisBorder;if(c.show){var d=0;a.config.chart.type==="bar"&&a.globals.isXNumeric&&(d-=15);var f=l.drawLine(a.globals.padHorizontal+d+c.offsetX,this.xAxisoffX,a.globals.gridWidth,this.xAxisoffX,c.color,0,c.height);this.elgrid&&this.elgrid.elGridBorders&&a.config.grid.show?this.elgrid.elGridBorders.add(f):s.add(f)}}},{key:"inversedYAxisTitleText",value:function(s){var a=this.w,l=new _(this.ctx);if(a.config.xaxis.title.text!==void 0){var c=l.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),d=l.drawText({x:a.globals.gridWidth/2+a.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(a.config.xaxis.title.style.fontSize)+a.config.xaxis.title.offsetY+20,text:a.config.xaxis.title.text,textAnchor:"middle",fontSize:a.config.xaxis.title.style.fontSize,fontFamily:a.config.xaxis.title.style.fontFamily,fontWeight:a.config.xaxis.title.style.fontWeight,foreColor:a.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+a.config.xaxis.title.style.cssClass});c.add(d),s.add(c)}}},{key:"yAxisTitleRotate",value:function(s,a){var l=this.w,c=new _(this.ctx),d={width:0,height:0},f={width:0,height:0},p=l.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-texts-g"));p!==null&&(d=p.getBoundingClientRect());var m=l.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-title text"));if(m!==null&&(f=m.getBoundingClientRect()),m!==null){var b=this.xPaddingForYAxisTitle(s,d,f,a);m.setAttribute("x",b.xPos-(a?10:0))}if(m!==null){var w=c.rotateAroundCenter(m);m.setAttribute("transform","rotate(".concat(a?-1*l.config.yaxis[s].title.rotate:l.config.yaxis[s].title.rotate," ").concat(w.x," ").concat(w.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(s,a,l,c){var d=this.w,f=0,p=0,m=10;return d.config.yaxis[s].title.text===void 0||s<0?{xPos:p,padd:0}:(c?(p=a.width+d.config.yaxis[s].title.offsetX+l.width/2+m/2,(f+=1)===0&&(p-=m/2)):(p=-1*a.width+d.config.yaxis[s].title.offsetX+m/2+l.width/2,d.globals.isBarHorizontal&&(m=25,p=-1*a.width-d.config.yaxis[s].title.offsetX-m)),{xPos:p,padd:m})}},{key:"setYAxisXPosition",value:function(s,a){var l=this.w,c=0,d=0,f=18,p=1;l.config.yaxis.length>1&&(this.multipleYs=!0),l.config.yaxis.map(function(m,b){var w=l.globals.ignoreYAxisIndexes.indexOf(b)>-1||!m.show||m.floating||s[b].width===0,C=s[b].width+a[b].width;m.opposite?l.globals.isBarHorizontal?(d=l.globals.gridWidth+l.globals.translateX-1,l.globals.translateYAxisX[b]=d-m.labels.offsetX):(d=l.globals.gridWidth+l.globals.translateX+p,w||(p=p+C+20),l.globals.translateYAxisX[b]=d-m.labels.offsetX+20):(c=l.globals.translateX-f,w||(f=f+C+20),l.globals.translateYAxisX[b]=c+m.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var s=this.w,a=s.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(a=N.listToArray(a)).forEach(function(l,c){var d=s.config.yaxis[c];if(d&&!d.floating&&d.labels.align!==void 0){var f=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-texts-g")),p=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-label"));p=N.listToArray(p);var m=f.getBoundingClientRect();d.labels.align==="left"?(p.forEach(function(b,w){b.setAttribute("text-anchor","start")}),d.opposite||f.setAttribute("transform","translate(-".concat(m.width,", 0)"))):d.labels.align==="center"?(p.forEach(function(b,w){b.setAttribute("text-anchor","middle")}),f.setAttribute("transform","translate(".concat(m.width/2*(d.opposite?1:-1),", 0)"))):d.labels.align==="right"&&(p.forEach(function(b,w){b.setAttribute("text-anchor","end")}),d.opposite&&f.setAttribute("transform","translate(".concat(m.width,", 0)")))}})}}]),z}(),ai=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.documentEvent=N.bind(this.documentEvent,this)}return u(z,[{key:"addEventListener",value:function(s,a){var l=this.w;l.globals.events.hasOwnProperty(s)?l.globals.events[s].push(a):l.globals.events[s]=[a]}},{key:"removeEventListener",value:function(s,a){var l=this.w;if(l.globals.events.hasOwnProperty(s)){var c=l.globals.events[s].indexOf(a);c!==-1&&l.globals.events[s].splice(c,1)}}},{key:"fireEvent",value:function(s,a){var l=this.w;if(l.globals.events.hasOwnProperty(s)){a&&a.length||(a=[]);for(var c=l.globals.events[s],d=c.length,f=0;f<d;f++)c[f].apply(null,a)}}},{key:"setupEventHandlers",value:function(){var s=this,a=this.w,l=this.ctx,c=a.globals.dom.baseEl.querySelector(a.globals.chartClass);this.ctx.eventList.forEach(function(d){c.addEventListener(d,function(f){var p=Object.assign({},a,{seriesIndex:a.globals.capturedSeriesIndex,dataPointIndex:a.globals.capturedDataPointIndex});f.type==="mousemove"||f.type==="touchmove"?typeof a.config.chart.events.mouseMove=="function"&&a.config.chart.events.mouseMove(f,l,p):f.type==="mouseleave"||f.type==="touchleave"?typeof a.config.chart.events.mouseLeave=="function"&&a.config.chart.events.mouseLeave(f,l,p):(f.type==="mouseup"&&f.which===1||f.type==="touchend")&&(typeof a.config.chart.events.click=="function"&&a.config.chart.events.click(f,l,p),l.ctx.events.fireEvent("click",[f,l,p]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(d){a.globals.dom.baseEl.addEventListener(d,s.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(s){var a=this.w,l=s.target.className;if(s.type==="click"){var c=a.globals.dom.baseEl.querySelector(".apexcharts-menu");c&&c.classList.contains("apexcharts-menu-open")&&l!=="apexcharts-menu-icon"&&c.classList.remove("apexcharts-menu-open")}a.globals.clientX=s.type==="touchmove"?s.touches[0].clientX:s.clientX,a.globals.clientY=s.type==="touchmove"?s.touches[0].clientY:s.clientY}}]),z}(),At=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"setCurrentLocaleValues",value:function(s){var a=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(a=this.w.config.chart.locales.concat(window.Apex.chart.locales));var l=a.filter(function(d){return d.name===s})[0];if(!l)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var c=N.extend(ve,l);this.w.globals.locale=c.options}}]),z}(),Lt=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"drawAxis",value:function(s,a){var l,c,d=this,f=this.w.globals,p=this.w.config,m=new Mt(this.ctx,a),b=new Rt(this.ctx,a);f.axisCharts&&s!=="radar"&&(f.isBarHorizontal?(c=b.drawYaxisInversed(0),l=m.drawXaxisInversed(0),f.dom.elGraphical.add(l),f.dom.elGraphical.add(c)):(l=m.drawXaxis(),f.dom.elGraphical.add(l),p.yaxis.map(function(w,C){if(f.ignoreYAxisIndexes.indexOf(C)===-1&&(c=b.drawYaxis(C),f.dom.Paper.add(c),d.w.config.grid.position==="back")){var A=f.dom.Paper.children()[1];A.remove(),f.dom.Paper.add(A)}})))}}]),z}(),$=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"drawXCrosshairs",value:function(){var s=this.w,a=new _(this.ctx),l=new K(this.ctx),c=s.config.xaxis.crosshairs.fill.gradient,d=s.config.xaxis.crosshairs.dropShadow,f=s.config.xaxis.crosshairs.fill.type,p=c.colorFrom,m=c.colorTo,b=c.opacityFrom,w=c.opacityTo,C=c.stops,A=d.enabled,L=d.left,P=d.top,O=d.blur,D=d.color,H=d.opacity,X=s.config.xaxis.crosshairs.fill.color;if(s.config.xaxis.crosshairs.show){f==="gradient"&&(X=a.drawGradient("vertical",p,m,b,w,null,C,null));var v=a.drawRect();s.config.xaxis.crosshairs.width===1&&(v=a.drawLine());var k=s.globals.gridHeight;(!N.isNumber(k)||k<0)&&(k=0);var E=s.config.xaxis.crosshairs.width;(!N.isNumber(E)||E<0)&&(E=0),v.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:k,width:E,height:k,fill:X,filter:"none","fill-opacity":s.config.xaxis.crosshairs.opacity,stroke:s.config.xaxis.crosshairs.stroke.color,"stroke-width":s.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":s.config.xaxis.crosshairs.stroke.dashArray}),A&&(v=l.dropShadow(v,{left:L,top:P,blur:O,color:D,opacity:H})),s.globals.dom.elGraphical.add(v)}}},{key:"drawYCrosshairs",value:function(){var s=this.w,a=new _(this.ctx),l=s.config.yaxis[0].crosshairs,c=s.globals.barPadForNumericAxis;if(s.config.yaxis[0].crosshairs.show){var d=a.drawLine(-c,0,s.globals.gridWidth+c,0,l.stroke.color,l.stroke.dashArray,l.stroke.width);d.attr({class:"apexcharts-ycrosshairs"}),s.globals.dom.elGraphical.add(d)}var f=a.drawLine(-c,0,s.globals.gridWidth+c,0,l.stroke.color,0,0);f.attr({class:"apexcharts-ycrosshairs-hidden"}),s.globals.dom.elGraphical.add(f)}}]),z}(),B=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"checkResponsiveConfig",value:function(s){var a=this,l=this.w,c=l.config;if(c.responsive.length!==0){var d=c.responsive.slice();d.sort(function(b,w){return b.breakpoint>w.breakpoint?1:w.breakpoint>b.breakpoint?-1:0}).reverse();var f=new Me({}),p=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=d[0].breakpoint,C=window.innerWidth>0?window.innerWidth:screen.width;if(C>w){var A=Q.extendArrayProps(f,l.globals.initialConfig,l);b=N.extend(A,b),b=N.extend(l.config,b),a.overrideResponsiveOptions(b)}else for(var L=0;L<d.length;L++)C<d[L].breakpoint&&(b=Q.extendArrayProps(f,d[L].options,l),b=N.extend(l.config,b),a.overrideResponsiveOptions(b))};if(s){var m=Q.extendArrayProps(f,s,l);m=N.extend(l.config,m),p(m=N.extend(m,s))}else p({})}}},{key:"overrideResponsiveOptions",value:function(s){var a=new Me(s).init({responsiveOverride:!0});this.w.config=a}}]),z}(),F=function(){function z(s){o(this,z),this.ctx=s,this.colors=[],this.w=s.w;var a=this.w;this.isColorFn=!1,this.isHeatmapDistributed=a.config.chart.type==="treemap"&&a.config.plotOptions.treemap.distributed||a.config.chart.type==="heatmap"&&a.config.plotOptions.heatmap.distributed,this.isBarDistributed=a.config.plotOptions.bar.distributed&&(a.config.chart.type==="bar"||a.config.chart.type==="rangeBar")}return u(z,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var s,a=this,l=this.w,c=new N;if(l.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(l.config.theme.mode)),l.config.colors===void 0||((s=l.config.colors)===null||s===void 0?void 0:s.length)===0?l.globals.colors=this.predefined():(l.globals.colors=l.config.colors,Array.isArray(l.config.colors)&&l.config.colors.length>0&&typeof l.config.colors[0]=="function"&&(l.globals.colors=l.config.series.map(function(P,O){var D=l.config.colors[O];return D||(D=l.config.colors[0]),typeof D=="function"?(a.isColorFn=!0,D({value:l.globals.axisCharts?l.globals.series[O][0]?l.globals.series[O][0]:0:l.globals.series[O],seriesIndex:O,dataPointIndex:O,w:l})):D}))),l.globals.seriesColors.map(function(P,O){P&&(l.globals.colors[O]=P)}),l.config.theme.monochrome.enabled){var d=[],f=l.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(f=l.globals.series[0].length*l.globals.series.length);for(var p=l.config.theme.monochrome.color,m=1/(f/l.config.theme.monochrome.shadeIntensity),b=l.config.theme.monochrome.shadeTo,w=0,C=0;C<f;C++){var A=void 0;b==="dark"?(A=c.shadeColor(-1*w,p),w+=m):(A=c.shadeColor(w,p),w+=m),d.push(A)}l.globals.colors=d.slice()}var L=l.globals.colors.slice();this.pushExtraColors(l.globals.colors),["fill","stroke"].forEach(function(P){l.config[P].colors===void 0?l.globals[P].colors=a.isColorFn?l.config.colors:L:l.globals[P].colors=l.config[P].colors.slice(),a.pushExtraColors(l.globals[P].colors)}),l.config.dataLabels.style.colors===void 0?l.globals.dataLabels.style.colors=L:l.globals.dataLabels.style.colors=l.config.dataLabels.style.colors.slice(),this.pushExtraColors(l.globals.dataLabels.style.colors,50),l.config.plotOptions.radar.polygons.fill.colors===void 0?l.globals.radarPolygons.fill.colors=[l.config.theme.mode==="dark"?"#424242":"none"]:l.globals.radarPolygons.fill.colors=l.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(l.globals.radarPolygons.fill.colors,20),l.config.markers.colors===void 0?l.globals.markers.colors=L:l.globals.markers.colors=l.config.markers.colors.slice(),this.pushExtraColors(l.globals.markers.colors)}},{key:"pushExtraColors",value:function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=this.w,d=a||c.globals.series.length;if(l===null&&(l=this.isBarDistributed||this.isHeatmapDistributed||c.config.chart.type==="heatmap"&&c.config.plotOptions.heatmap.colorScale.inverse),l&&c.globals.series.length&&(d=c.globals.series[c.globals.maxValsInArrayIndex].length*c.globals.series.length),s.length<d)for(var f=d-s.length,p=0;p<f;p++)s.push(s[p])}},{key:"updateThemeOptions",value:function(s){s.chart=s.chart||{},s.tooltip=s.tooltip||{};var a=s.theme.mode||"light",l=s.theme.palette?s.theme.palette:a==="dark"?"palette4":"palette1",c=s.chart.foreColor?s.chart.foreColor:a==="dark"?"#f6f7f8":"#373d3f";return s.tooltip.theme=a,s.chart.foreColor=c,s.theme.palette=l,s}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),z}(),Z=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(s){var a=this.w,l=s==="title"?a.config.title:a.config.subtitle,c=a.globals.svgWidth/2,d=l.offsetY,f="middle";if(l.align==="left"?(c=10,f="start"):l.align==="right"&&(c=a.globals.svgWidth-10,f="end"),c+=l.offsetX,d=d+parseInt(l.style.fontSize,10)+l.margin/2,l.text!==void 0){var p=new _(this.ctx).drawText({x:c,y:d,text:l.text,textAnchor:f,fontSize:l.style.fontSize,fontFamily:l.style.fontFamily,fontWeight:l.style.fontWeight,foreColor:l.style.color,opacity:1});p.node.setAttribute("class","apexcharts-".concat(s,"-text")),a.globals.dom.Paper.add(p)}}}]),z}(),se=function(){function z(s){o(this,z),this.w=s.w,this.dCtx=s}return u(z,[{key:"getTitleSubtitleCoords",value:function(s){var a=this.w,l=0,c=0,d=s==="title"?a.config.title.floating:a.config.subtitle.floating,f=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-text"));if(f!==null&&!d){var p=f.getBoundingClientRect();l=p.width,c=a.globals.axisCharts?p.height+5:p.height}return{width:l,height:c}}},{key:"getLegendsRect",value:function(){var s=this.w,a=s.globals.dom.elLegendWrap;s.config.legend.height||s.config.legend.position!=="top"&&s.config.legend.position!=="bottom"||(a.style.maxHeight=s.globals.svgHeight/2+"px");var l=Object.assign({},N.getBoundingClientRect(a));return a!==null&&!s.config.legend.floating&&s.config.legend.show?this.dCtx.lgRect={x:l.x,y:l.y,height:l.height,width:l.height===0?0:l.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},s.config.legend.position!=="left"&&s.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>s.globals.svgWidth&&(this.dCtx.lgRect.width=s.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(s,a){var l=s;if(this.w.globals.isMultiLineX){var c=a.map(function(f,p){return Array.isArray(f)?f.length:1}),d=Math.max.apply(Math,I(c));l=a[c.indexOf(d)]}return l}}]),z}(),de=function(){function z(s){o(this,z),this.w=s.w,this.dCtx=s}return u(z,[{key:"getxAxisLabelsCoords",value:function(){var s,a=this.w,l=a.globals.labels.slice();if(a.config.xaxis.convertedCatToNumeric&&l.length===0&&(l=a.globals.categoryLabels),a.globals.timescaleLabels.length>0){var c=this.getxAxisTimeScaleLabelsCoords();s={width:c.width,height:c.height},a.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=a.config.legend.position!=="left"&&a.config.legend.position!=="right"||a.config.legend.floating?0:this.dCtx.lgRect.width;var d=a.globals.xLabelFormatter,f=N.getLargestStringFromArr(l),p=this.dCtx.dimHelpers.getLargestStringFromMultiArr(f,l);a.globals.isBarHorizontal&&(p=f=a.globals.yAxisScale[0].result.reduce(function(P,O){return P.length>O.length?P:O},0));var m=new Te(this.dCtx.ctx),b=f;f=m.xLabelFormat(d,f,b,{i:void 0,dateFormatter:new pe(this.dCtx.ctx).formatDate,w:a}),p=m.xLabelFormat(d,p,b,{i:void 0,dateFormatter:new pe(this.dCtx.ctx).formatDate,w:a}),(a.config.xaxis.convertedCatToNumeric&&f===void 0||String(f).trim()==="")&&(p=f="1");var w=new _(this.dCtx.ctx),C=w.getTextRects(f,a.config.xaxis.labels.style.fontSize),A=C;if(f!==p&&(A=w.getTextRects(p,a.config.xaxis.labels.style.fontSize)),(s={width:C.width>=A.width?C.width:A.width,height:C.height>=A.height?C.height:A.height}).width*l.length>a.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&a.config.xaxis.labels.rotate!==0||a.config.xaxis.labels.rotateAlways){if(!a.globals.isBarHorizontal){a.globals.rotateXLabels=!0;var L=function(P){return w.getTextRects(P,a.config.xaxis.labels.style.fontSize,a.config.xaxis.labels.style.fontFamily,"rotate(".concat(a.config.xaxis.labels.rotate," 0 0)"),!1)};C=L(f),f!==p&&(A=L(p)),s.height=(C.height>A.height?C.height:A.height)/1.5,s.width=C.width>A.width?C.width:A.width}}else a.globals.rotateXLabels=!1}return a.config.xaxis.labels.show||(s={width:0,height:0}),{width:s.width,height:s.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var s,a=this.w;if(!a.globals.hasXaxisGroups)return{width:0,height:0};var l,c=((s=a.config.xaxis.group.style)===null||s===void 0?void 0:s.fontSize)||a.config.xaxis.labels.style.fontSize,d=a.globals.groups.map(function(C){return C.title}),f=N.getLargestStringFromArr(d),p=this.dCtx.dimHelpers.getLargestStringFromMultiArr(f,d),m=new _(this.dCtx.ctx),b=m.getTextRects(f,c),w=b;return f!==p&&(w=m.getTextRects(p,c)),l={width:b.width>=w.width?b.width:w.width,height:b.height>=w.height?b.height:w.height},a.config.xaxis.labels.show||(l={width:0,height:0}),{width:l.width,height:l.height}}},{key:"getxAxisTitleCoords",value:function(){var s=this.w,a=0,l=0;if(s.config.xaxis.title.text!==void 0){var c=new _(this.dCtx.ctx).getTextRects(s.config.xaxis.title.text,s.config.xaxis.title.style.fontSize);a=c.width,l=c.height}return{width:a,height:l}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var s,a=this.w;this.dCtx.timescaleLabels=a.globals.timescaleLabels.slice();var l=this.dCtx.timescaleLabels.map(function(d){return d.value}),c=l.reduce(function(d,f){return d===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):d.length>f.length?d:f},0);return 1.05*(s=new _(this.dCtx.ctx).getTextRects(c,a.config.xaxis.labels.style.fontSize)).width*l.length>a.globals.gridWidth&&a.config.xaxis.labels.rotate!==0&&(a.globals.overlappingXLabels=!0),s}},{key:"additionalPaddingXLabels",value:function(s){var a=this,l=this.w,c=l.globals,d=l.config,f=d.xaxis.type,p=s.width;c.skipLastTimelinelabel=!1,c.skipFirstTimelinelabel=!1;var m=l.config.yaxis[0].opposite&&l.globals.isBarHorizontal,b=function(w,C){d.yaxis.length>1&&function(A){return c.collapsedSeriesIndices.indexOf(A)!==-1}(C)||function(A){if(a.dCtx.timescaleLabels&&a.dCtx.timescaleLabels.length){var L=a.dCtx.timescaleLabels[0],P=a.dCtx.timescaleLabels[a.dCtx.timescaleLabels.length-1].position+p/1.75-a.dCtx.yAxisWidthRight,O=L.position-p/1.75+a.dCtx.yAxisWidthLeft,D=l.config.legend.position==="right"&&a.dCtx.lgRect.width>0?a.dCtx.lgRect.width:0;P>c.svgWidth-c.translateX-D&&(c.skipLastTimelinelabel=!0),O<-(A.show&&!A.floating||d.chart.type!=="bar"&&d.chart.type!=="candlestick"&&d.chart.type!=="rangeBar"&&d.chart.type!=="boxPlot"?10:p/1.75)&&(c.skipFirstTimelinelabel=!0)}else f==="datetime"?a.dCtx.gridPad.right<p&&!c.rotateXLabels&&(c.skipLastTimelinelabel=!0):f!=="datetime"&&a.dCtx.gridPad.right<p/2-a.dCtx.yAxisWidthRight&&!c.rotateXLabels&&!l.config.xaxis.labels.trim&&(l.config.xaxis.tickPlacement!=="between"||l.globals.isBarHorizontal)&&(a.dCtx.xPadRight=p/2+1)}(w)};d.yaxis.forEach(function(w,C){m?(a.dCtx.gridPad.left<p&&(a.dCtx.xPadLeft=p/2+1),a.dCtx.xPadRight=p/2+1):b(w,C)})}}]),z}(),me=function(){function z(s){o(this,z),this.w=s.w,this.dCtx=s}return u(z,[{key:"getyAxisLabelsCoords",value:function(){var s=this,a=this.w,l=[],c=10,d=new Nt(this.dCtx.ctx);return a.config.yaxis.map(function(f,p){var m=a.globals.yAxisScale[p],b=0;if(!d.isYAxisHidden(p)&&f.labels.show&&f.labels.minWidth!==void 0&&(b=f.labels.minWidth),!d.isYAxisHidden(p)&&f.labels.show&&m.result.length){var w=a.globals.yLabelFormatters[p],C=m.niceMin===Number.MIN_VALUE?0:m.niceMin,A=String(C).length>String(m.niceMax).length?C:m.niceMax,L=w(A,{seriesIndex:p,dataPointIndex:-1,w:a}),P=L;if(L!==void 0&&L.length!==0||(L=A),a.globals.isBarHorizontal){c=0;var O=a.globals.labels.slice();L=w(L=N.getLargestStringFromArr(O),{seriesIndex:p,dataPointIndex:-1,w:a}),P=s.dCtx.dimHelpers.getLargestStringFromMultiArr(L,O)}var D=new _(s.dCtx.ctx),H="rotate(".concat(f.labels.rotate," 0 0)"),X=D.getTextRects(L,f.labels.style.fontSize,f.labels.style.fontFamily,H,!1),v=X;L!==P&&(v=D.getTextRects(P,f.labels.style.fontSize,f.labels.style.fontFamily,H,!1)),l.push({width:(b>v.width||b>X.width?b:v.width>X.width?v.width:X.width)+c,height:v.height>X.height?v.height:X.height})}else l.push({width:0,height:0})}),l}},{key:"getyAxisTitleCoords",value:function(){var s=this,a=this.w,l=[];return a.config.yaxis.map(function(c,d){if(c.show&&c.title.text!==void 0){var f=new _(s.dCtx.ctx),p="rotate(".concat(c.title.rotate," 0 0)"),m=f.getTextRects(c.title.text,c.title.style.fontSize,c.title.style.fontFamily,p,!1);l.push({width:m.width,height:m.height})}else l.push({width:0,height:0})}),l}},{key:"getTotalYAxisWidth",value:function(){var s=this.w,a=0,l=0,c=0,d=s.globals.yAxisScale.length>1?10:0,f=new Nt(this.dCtx.ctx),p=function(m,b){var w=s.config.yaxis[b].floating,C=0;m.width>0&&!w?(C=m.width+d,function(A){return s.globals.ignoreYAxisIndexes.indexOf(A)>-1}(b)&&(C=C-m.width-d)):C=w||f.isYAxisHidden(b)?0:5,s.config.yaxis[b].opposite?c+=C:l+=C,a+=C};return s.globals.yLabelsCoords.map(function(m,b){p(m,b)}),s.globals.yTitleCoords.map(function(m,b){p(m,b)}),s.globals.isBarHorizontal&&!s.config.yaxis[0].floating&&(a=s.globals.yLabelsCoords[0].width+s.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=l,this.dCtx.yAxisWidthRight=c,a}}]),z}(),De=function(){function z(s){o(this,z),this.w=s.w,this.dCtx=s}return u(z,[{key:"gridPadForColumnsInNumericAxis",value:function(s){var a=this.w;if(a.globals.noData||a.globals.allSeriesCollapsed)return 0;var l=function(w){return w==="bar"||w==="rangeBar"||w==="candlestick"||w==="boxPlot"},c=a.config.chart.type,d=0,f=l(c)?a.config.series.length:1;if(a.globals.comboBarCount>0&&(f=a.globals.comboBarCount),a.globals.collapsedSeries.forEach(function(w){l(w.type)&&(f-=1)}),a.config.chart.stacked&&(f=1),(l(c)||a.globals.comboBarCount>0)&&a.globals.isXNumeric&&!a.globals.isBarHorizontal&&f>0){var p,m,b=Math.abs(a.globals.initialMaxX-a.globals.initialMinX);b<=3&&(b=a.globals.dataPoints),p=b/s,a.globals.minXDiff&&a.globals.minXDiff/p>0&&(m=a.globals.minXDiff/p),m>s/2&&(m/=2),(d=m/f*parseInt(a.config.plotOptions.bar.columnWidth,10)/100)<1&&(d=1),d=d/(f>1?1:1.5)+5,a.globals.barPadForNumericAxis=d}return d}},{key:"gridPadFortitleSubtitle",value:function(){var s=this,a=this.w,l=a.globals,c=this.dCtx.isSparkline||!a.globals.axisCharts?0:10;["title","subtitle"].forEach(function(p){a.config[p].text!==void 0?c+=a.config[p].margin:c+=s.dCtx.isSparkline||!a.globals.axisCharts?0:5}),!a.config.legend.show||a.config.legend.position!=="bottom"||a.config.legend.floating||a.globals.axisCharts||(c+=10);var d=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),f=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");l.gridHeight=l.gridHeight-d.height-f.height-c,l.translateY=l.translateY+d.height+f.height+c}},{key:"setGridXPosForDualYAxis",value:function(s,a){var l=this.w,c=new Nt(this.dCtx.ctx);l.config.yaxis.map(function(d,f){l.globals.ignoreYAxisIndexes.indexOf(f)!==-1||d.floating||c.isYAxisHidden(f)||(d.opposite&&(l.globals.translateX=l.globals.translateX-(a[f].width+s[f].width)-parseInt(l.config.yaxis[f].labels.style.fontSize,10)/1.2-12),l.globals.translateX<2&&(l.globals.translateX=2))})}}]),z}(),_e=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new se(this),this.dimYAxis=new me(this),this.dimXAxis=new de(this),this.dimGrid=new De(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return u(z,[{key:"plotCoords",value:function(){var s=this,a=this.w,l=a.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(a.config.markers.discrete.length>0||a.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(d){var f=R(d,2),p=f[0],m=f[1];s.gridPad[p]=Math.max(m,s.w.globals.markers.largestSize/1.5)}),l.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),l.gridHeight=l.gridHeight-this.gridPad.top-this.gridPad.bottom,l.gridWidth=l.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var c=this.dimGrid.gridPadForColumnsInNumericAxis(l.gridWidth);l.gridWidth=l.gridWidth-2*c,l.translateX=l.translateX+this.gridPad.left+this.xPadLeft+(c>0?c+4:0),l.translateY=l.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var s=this,a=this.w,l=a.globals,c=this.dimYAxis.getyAxisLabelsCoords(),d=this.dimYAxis.getyAxisTitleCoords();a.globals.yLabelsCoords=[],a.globals.yTitleCoords=[],a.config.yaxis.map(function(L,P){a.globals.yLabelsCoords.push({width:c[P].width,index:P}),a.globals.yTitleCoords.push({width:d[P].width,index:P})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var f=this.dimXAxis.getxAxisLabelsCoords(),p=this.dimXAxis.getxAxisGroupLabelsCoords(),m=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(f,m,p),l.translateXAxisY=a.globals.rotateXLabels?this.xAxisHeight/8:-4,l.translateXAxisX=a.globals.rotateXLabels&&a.globals.isXNumeric&&a.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,a.globals.isBarHorizontal&&(l.rotateXLabels=!1,l.translateXAxisY=parseInt(a.config.xaxis.labels.style.fontSize,10)/1.5*-1),l.translateXAxisY=l.translateXAxisY+a.config.xaxis.labels.offsetY,l.translateXAxisX=l.translateXAxisX+a.config.xaxis.labels.offsetX;var b=this.yAxisWidth,w=this.xAxisHeight;l.xAxisLabelsHeight=this.xAxisHeight-m.height,l.xAxisGroupLabelsHeight=l.xAxisLabelsHeight-f.height,l.xAxisLabelsWidth=this.xAxisWidth,l.xAxisHeight=this.xAxisHeight;var C=10;(a.config.chart.type==="radar"||this.isSparkline)&&(b=0,w=l.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||a.config.chart.type==="treemap")&&(b=0,w=0,C=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(f);var A=function(){l.translateX=b,l.gridHeight=l.svgHeight-s.lgRect.height-w-(s.isSparkline||a.config.chart.type==="treemap"?0:a.globals.rotateXLabels?10:15),l.gridWidth=l.svgWidth-b};switch(a.config.xaxis.position==="top"&&(C=l.xAxisHeight-a.config.xaxis.axisTicks.height-5),a.config.legend.position){case"bottom":l.translateY=C,A();break;case"top":l.translateY=this.lgRect.height+C,A();break;case"left":l.translateY=C,l.translateX=this.lgRect.width+b,l.gridHeight=l.svgHeight-w-12,l.gridWidth=l.svgWidth-this.lgRect.width-b;break;case"right":l.translateY=C,l.translateX=b,l.gridHeight=l.svgHeight-w-12,l.gridWidth=l.svgWidth-this.lgRect.width-b-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(d,c),new Rt(this.ctx).setYAxisXPosition(c,d)}},{key:"setDimensionsForNonAxisCharts",value:function(){var s=this.w,a=s.globals,l=s.config,c=0;s.config.legend.show&&!s.config.legend.floating&&(c=20);var d=l.chart.type==="pie"||l.chart.type==="polarArea"||l.chart.type==="donut"?"pie":"radialBar",f=l.plotOptions[d].offsetY,p=l.plotOptions[d].offsetX;if(!l.legend.show||l.legend.floating)return a.gridHeight=a.svgHeight-l.grid.padding.left+l.grid.padding.right,a.gridWidth=a.gridHeight,a.translateY=f,void(a.translateX=p+(a.svgWidth-a.gridWidth)/2);switch(l.legend.position){case"bottom":a.gridHeight=a.svgHeight-this.lgRect.height-a.goldenPadding,a.gridWidth=a.svgWidth,a.translateY=f-10,a.translateX=p+(a.svgWidth-a.gridWidth)/2;break;case"top":a.gridHeight=a.svgHeight-this.lgRect.height-a.goldenPadding,a.gridWidth=a.svgWidth,a.translateY=this.lgRect.height+f+10,a.translateX=p+(a.svgWidth-a.gridWidth)/2;break;case"left":a.gridWidth=a.svgWidth-this.lgRect.width-c,a.gridHeight=l.chart.height!=="auto"?a.svgHeight:a.gridWidth,a.translateY=f,a.translateX=p+this.lgRect.width+c;break;case"right":a.gridWidth=a.svgWidth-this.lgRect.width-c-5,a.gridHeight=l.chart.height!=="auto"?a.svgHeight:a.gridWidth,a.translateY=f,a.translateX=p+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(s,a,l){var c=this.w,d=c.globals.hasXaxisGroups?2:1,f=l.height+s.height+a.height,p=c.globals.isMultiLineX?1.2:c.globals.LINE_HEIGHT_RATIO,m=c.globals.rotateXLabels?22:10,b=c.globals.rotateXLabels&&c.config.legend.position==="bottom"?10:0;this.xAxisHeight=f*p+d*m+b,this.xAxisWidth=s.width,this.xAxisHeight-a.height>c.config.xaxis.labels.maxHeight&&(this.xAxisHeight=c.config.xaxis.labels.maxHeight),c.config.xaxis.labels.minHeight&&this.xAxisHeight<c.config.xaxis.labels.minHeight&&(this.xAxisHeight=c.config.xaxis.labels.minHeight),c.config.xaxis.floating&&(this.xAxisHeight=0);var w=0,C=0;c.config.yaxis.forEach(function(A){w+=A.labels.minWidth,C+=A.labels.maxWidth}),this.yAxisWidth<w&&(this.yAxisWidth=w),this.yAxisWidth>C&&(this.yAxisWidth=C)}}]),z}(),Je=function(){function z(s){o(this,z),this.w=s.w,this.lgCtx=s}return u(z,[{key:"getLegendStyles",value:function(){var s=document.createElement("style");s.setAttribute("type","text/css");var a=document.createTextNode(`	
    	
      .apexcharts-legend {	
        display: flex;	
        overflow: auto;	
        padding: 0 10px;	
      }	
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {	
        flex-wrap: wrap	
      }	
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        flex-direction: column;	
        bottom: 0;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        justify-content: flex-start;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {	
        justify-content: center;  	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {	
        justify-content: flex-end;	
      }	
      .apexcharts-legend-series {	
        cursor: pointer;	
        line-height: normal;	
      }	
      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{	
        display: flex;	
        align-items: center;	
      }	
      .apexcharts-legend-text {	
        position: relative;	
        font-size: 14px;	
      }	
      .apexcharts-legend-text *, .apexcharts-legend-marker * {	
        pointer-events: none;	
      }	
      .apexcharts-legend-marker {	
        position: relative;	
        display: inline-block;	
        cursor: pointer;	
        margin-right: 3px;	
        border-style: solid;
      }	
      	
      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{	
        display: inline-block;	
      }	
      .apexcharts-legend-series.apexcharts-no-click {	
        cursor: auto;	
      }	
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {	
        display: none !important;	
      }	
      .apexcharts-inactive-legend {	
        opacity: 0.45;	
      }`);return s.appendChild(a),s}},{key:"getLegendBBox",value:function(){var s=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),a=s.width;return{clwh:s.height,clww:a}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(s,a){var l=this,c=this.w;if(c.globals.axisCharts||c.config.chart.type==="radialBar"){c.globals.resized=!0;var d=null,f=null;c.globals.risingSeries=[],c.globals.axisCharts?(d=c.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(s,"']")),f=parseInt(d.getAttribute("data:realIndex"),10)):(d=c.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(s+1,"']")),f=parseInt(d.getAttribute("rel"),10)-1),a?[{cs:c.globals.collapsedSeries,csi:c.globals.collapsedSeriesIndices},{cs:c.globals.ancillaryCollapsedSeries,csi:c.globals.ancillaryCollapsedSeriesIndices}].forEach(function(w){l.riseCollapsedSeries(w.cs,w.csi,f)}):this.hideSeries({seriesEl:d,realIndex:f})}else{var p=c.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(s+1,"'] path")),m=c.config.chart.type;if(m==="pie"||m==="polarArea"||m==="donut"){var b=c.config.plotOptions.pie.donut.labels;new _(this.lgCtx.ctx).pathMouseDown(p.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(p.members[0].node,b)}p.fire("click")}}},{key:"hideSeries",value:function(s){var a=s.seriesEl,l=s.realIndex,c=this.w,d=N.clone(c.config.series);if(c.globals.axisCharts){var f=!1;if(c.config.yaxis[l]&&c.config.yaxis[l].show&&c.config.yaxis[l].showAlways&&(f=!0,c.globals.ancillaryCollapsedSeriesIndices.indexOf(l)<0&&(c.globals.ancillaryCollapsedSeries.push({index:l,data:d[l].data.slice(),type:a.parentNode.className.baseVal.split("-")[1]}),c.globals.ancillaryCollapsedSeriesIndices.push(l))),!f){c.globals.collapsedSeries.push({index:l,data:d[l].data.slice(),type:a.parentNode.className.baseVal.split("-")[1]}),c.globals.collapsedSeriesIndices.push(l);var p=c.globals.risingSeries.indexOf(l);c.globals.risingSeries.splice(p,1)}}else c.globals.collapsedSeries.push({index:l,data:d[l]}),c.globals.collapsedSeriesIndices.push(l);for(var m=a.childNodes,b=0;b<m.length;b++)m[b].classList.contains("apexcharts-series-markers-wrap")&&(m[b].classList.contains("apexcharts-hide")?m[b].classList.remove("apexcharts-hide"):m[b].classList.add("apexcharts-hide"));c.globals.allSeriesCollapsed=c.globals.collapsedSeries.length===c.config.series.length,d=this._getSeriesBasedOnCollapsedState(d),this.lgCtx.ctx.updateHelpers._updateSeries(d,c.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(s,a,l){var c=this.w,d=N.clone(c.config.series);if(s.length>0){for(var f=0;f<s.length;f++)s[f].index===l&&(c.globals.axisCharts?(d[l].data=s[f].data.slice(),s.splice(f,1),a.splice(f,1),c.globals.risingSeries.push(l)):(d[l]=s[f].data,s.splice(f,1),a.splice(f,1),c.globals.risingSeries.push(l)));d=this._getSeriesBasedOnCollapsedState(d),this.lgCtx.ctx.updateHelpers._updateSeries(d,c.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(s){var a=this.w;return a.globals.axisCharts?s.forEach(function(l,c){a.globals.collapsedSeriesIndices.indexOf(c)>-1&&(s[c].data=[])}):s.forEach(function(l,c){a.globals.collapsedSeriesIndices.indexOf(c)>-1&&(s[c]=0)}),s}}]),z}(),ft=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Je(this)}return u(z,[{key:"init",value:function(){var s=this.w,a=s.globals,l=s.config;if((l.legend.showForSingleSeries&&a.series.length===1||this.isBarsDistributed||a.series.length>1||!a.axisCharts)&&l.legend.show){for(;a.dom.elLegendWrap.firstChild;)a.dom.elLegendWrap.removeChild(a.dom.elLegendWrap.firstChild);this.drawLegends(),N.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),l.legend.position==="bottom"||l.legend.position==="top"?this.legendAlignHorizontal():l.legend.position!=="right"&&l.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var s=this,a=this.w,l=a.config.legend.fontFamily,c=a.globals.seriesNames,d=a.globals.colors.slice();if(a.config.chart.type==="heatmap"){var f=a.config.plotOptions.heatmap.colorScale.ranges;c=f.map(function(ce){return ce.name?ce.name:ce.from+" - "+ce.to}),d=f.map(function(ce){return ce.color})}else this.isBarsDistributed&&(c=a.globals.labels.slice());a.config.legend.customLegendItems.length&&(c=a.config.legend.customLegendItems);for(var p=a.globals.legendFormatter,m=a.config.legend.inverseOrder,b=m?c.length-1:0;m?b>=0:b<=c.length-1;m?b--:b++){var w=p(c[b],{seriesIndex:b,w:a}),C=!1,A=!1;if(a.globals.collapsedSeries.length>0)for(var L=0;L<a.globals.collapsedSeries.length;L++)a.globals.collapsedSeries[L].index===b&&(C=!0);if(a.globals.ancillaryCollapsedSeriesIndices.length>0)for(var P=0;P<a.globals.ancillaryCollapsedSeriesIndices.length;P++)a.globals.ancillaryCollapsedSeriesIndices[P]===b&&(A=!0);var O=document.createElement("span");O.classList.add("apexcharts-legend-marker");var D=a.config.legend.markers.offsetX,H=a.config.legend.markers.offsetY,X=a.config.legend.markers.height,v=a.config.legend.markers.width,k=a.config.legend.markers.strokeWidth,E=a.config.legend.markers.strokeColor,V=a.config.legend.markers.radius,Y=O.style;Y.background=d[b],Y.color=d[b],Y.setProperty("background",d[b],"important"),a.config.legend.markers.fillColors&&a.config.legend.markers.fillColors[b]&&(Y.background=a.config.legend.markers.fillColors[b]),a.globals.seriesColors[b]!==void 0&&(Y.background=a.globals.seriesColors[b],Y.color=a.globals.seriesColors[b]),Y.height=Array.isArray(X)?parseFloat(X[b])+"px":parseFloat(X)+"px",Y.width=Array.isArray(v)?parseFloat(v[b])+"px":parseFloat(v)+"px",Y.left=(Array.isArray(D)?parseFloat(D[b]):parseFloat(D))+"px",Y.top=(Array.isArray(H)?parseFloat(H[b]):parseFloat(H))+"px",Y.borderWidth=Array.isArray(k)?k[b]:k,Y.borderColor=Array.isArray(E)?E[b]:E,Y.borderRadius=Array.isArray(V)?parseFloat(V[b])+"px":parseFloat(V)+"px",a.config.legend.markers.customHTML&&(Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[b]&&(O.innerHTML=a.config.legend.markers.customHTML[b]()):O.innerHTML=a.config.legend.markers.customHTML()),_.setAttrs(O,{rel:b+1,"data:collapsed":C||A}),(C||A)&&O.classList.add("apexcharts-inactive-legend");var U=document.createElement("div"),J=document.createElement("span");J.classList.add("apexcharts-legend-text"),J.innerHTML=Array.isArray(w)?w.join(" "):w;var ee=a.config.legend.labels.useSeriesColors?a.globals.colors[b]:a.config.legend.labels.colors;ee||(ee=a.config.chart.foreColor),J.style.color=ee,J.style.fontSize=parseFloat(a.config.legend.fontSize)+"px",J.style.fontWeight=a.config.legend.fontWeight,J.style.fontFamily=l||a.config.chart.fontFamily,_.setAttrs(J,{rel:b+1,i:b,"data:default-text":encodeURIComponent(w),"data:collapsed":C||A}),U.appendChild(O),U.appendChild(J);var ae=new Q(this.ctx);a.config.legend.showForZeroSeries||ae.getSeriesTotalByIndex(b)===0&&ae.seriesHaveSameValues(b)&&!ae.isSeriesNull(b)&&a.globals.collapsedSeriesIndices.indexOf(b)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(b)===-1&&U.classList.add("apexcharts-hidden-zero-series"),a.config.legend.showForNullSeries||ae.isSeriesNull(b)&&a.globals.collapsedSeriesIndices.indexOf(b)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(b)===-1&&U.classList.add("apexcharts-hidden-null-series"),a.globals.dom.elLegendWrap.appendChild(U),a.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(a.config.legend.horizontalAlign)),a.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+a.config.legend.position),U.classList.add("apexcharts-legend-series"),U.style.margin="".concat(a.config.legend.itemMargin.vertical,"px ").concat(a.config.legend.itemMargin.horizontal,"px"),a.globals.dom.elLegendWrap.style.width=a.config.legend.width?a.config.legend.width+"px":"",a.globals.dom.elLegendWrap.style.height=a.config.legend.height?a.config.legend.height+"px":"",_.setAttrs(U,{rel:b+1,seriesName:N.escapeString(c[b]),"data:collapsed":C||A}),(C||A)&&U.classList.add("apexcharts-inactive-legend"),a.config.legend.onItemClick.toggleDataSeries||U.classList.add("apexcharts-no-click")}a.globals.dom.elWrap.addEventListener("click",s.onLegendClick,!0),a.config.legend.onItemHover.highlightDataSeries&&a.config.legend.customLegendItems.length===0&&(a.globals.dom.elWrap.addEventListener("mousemove",s.onLegendHovered,!0),a.globals.dom.elWrap.addEventListener("mouseout",s.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(s,a){var l=this.w,c=l.globals.dom.elLegendWrap,d=c.getBoundingClientRect(),f=0,p=0;if(l.config.legend.position==="bottom")p+=l.globals.svgHeight-d.height/2;else if(l.config.legend.position==="top"){var m=new _e(this.ctx),b=m.dimHelpers.getTitleSubtitleCoords("title").height,w=m.dimHelpers.getTitleSubtitleCoords("subtitle").height;p=p+(b>0?b-10:0)+(w>0?w-10:0)}c.style.position="absolute",f=f+s+l.config.legend.offsetX,p=p+a+l.config.legend.offsetY,c.style.left=f+"px",c.style.top=p+"px",l.config.legend.position==="bottom"?(c.style.top="auto",c.style.bottom=5-l.config.legend.offsetY+"px"):l.config.legend.position==="right"&&(c.style.left="auto",c.style.right=25+l.config.legend.offsetX+"px"),["width","height"].forEach(function(C){c.style[C]&&(c.style[C]=parseInt(l.config.legend[C],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var s=this.w;s.globals.dom.elLegendWrap.style.right=0;var a=this.legendHelpers.getLegendBBox(),l=new _e(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title"),d=l.dimHelpers.getTitleSubtitleCoords("subtitle"),f=0;s.config.legend.position==="bottom"?f=-a.clwh/1.8:s.config.legend.position==="top"&&(f=c.height+d.height+s.config.title.margin+s.config.subtitle.margin-10),this.setLegendWrapXY(20,f)}},{key:"legendAlignVertical",value:function(){var s=this.w,a=this.legendHelpers.getLegendBBox(),l=0;s.config.legend.position==="left"&&(l=20),s.config.legend.position==="right"&&(l=s.globals.svgWidth-a.clww-10),this.setLegendWrapXY(l,20)}},{key:"onLegendHovered",value:function(s){var a=this.w,l=s.target.classList.contains("apexcharts-legend-text")||s.target.classList.contains("apexcharts-legend-marker");if(a.config.chart.type==="heatmap"||this.isBarsDistributed){if(l){var c=parseInt(s.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,c,this.w]),new Ke(this.ctx).highlightRangeInSeries(s,s.target)}}else!s.target.classList.contains("apexcharts-inactive-legend")&&l&&new Ke(this.ctx).toggleSeriesOnHover(s,s.target)}},{key:"onLegendClick",value:function(s){var a=this.w;if(!a.config.legend.customLegendItems.length&&(s.target.classList.contains("apexcharts-legend-text")||s.target.classList.contains("apexcharts-legend-marker"))){var l=parseInt(s.target.getAttribute("rel"),10)-1,c=s.target.getAttribute("data:collapsed")==="true",d=this.w.config.chart.events.legendClick;typeof d=="function"&&d(this.ctx,l,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,l,this.w]);var f=this.w.config.legend.markers.onClick;typeof f=="function"&&s.target.classList.contains("apexcharts-legend-marker")&&(f(this.ctx,l,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,l,this.w])),a.config.chart.type!=="treemap"&&a.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&a.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(l,c)}}}]),z}(),Qe=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w;var a=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=a.globals.minX,this.maxX=a.globals.maxX}return u(z,[{key:"createToolbar",value:function(){var s=this,a=this.w,l=function(){return document.createElement("div")},c=l();if(c.setAttribute("class","apexcharts-toolbar"),c.style.top=a.config.chart.toolbar.offsetY+"px",c.style.right=3-a.config.chart.toolbar.offsetX+"px",a.globals.dom.elWrap.appendChild(c),this.elZoom=l(),this.elZoomIn=l(),this.elZoomOut=l(),this.elPan=l(),this.elSelection=l(),this.elZoomReset=l(),this.elMenuIcon=l(),this.elMenu=l(),this.elCustomIcons=[],this.t=a.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var d=0;d<this.t.customIcons.length;d++)this.elCustomIcons.push(l());var f=[],p=function(C,A,L){var P=C.toLowerCase();s.t[P]&&a.config.chart.zoom.enabled&&f.push({el:A,icon:typeof s.t[P]=="string"?s.t[P]:L,title:s.localeValues[C],class:"apexcharts-".concat(P,"-icon")})};p("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),p("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var m=function(C){s.t[C]&&a.config.chart[C].enabled&&f.push({el:C==="zoom"?s.elZoom:s.elSelection,icon:typeof s.t[C]=="string"?s.t[C]:C==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:s.localeValues[C==="zoom"?"selectionZoom":"selection"],class:a.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(C,"-icon")})};m("zoom"),m("selection"),this.t.pan&&a.config.chart.zoom.enabled&&f.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:a.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),p("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&f.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var b=0;b<this.elCustomIcons.length;b++)f.push({el:this.elCustomIcons[b],icon:this.t.customIcons[b].icon,title:this.t.customIcons[b].title,index:this.t.customIcons[b].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[b].class});f.forEach(function(C,A){C.index&&N.moveIndexInArray(f,A,C.index)});for(var w=0;w<f.length;w++)_.setAttrs(f[w].el,{class:f[w].class,title:f[w].title}),f[w].el.innerHTML=f[w].icon,c.appendChild(f[w].el);this._createHamburgerMenu(c),a.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):a.globals.panEnabled?this.elPan.classList.add(this.selectedClass):a.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(s){this.elMenuItems=[],s.appendChild(this.elMenu),_.setAttrs(this.elMenu,{class:"apexcharts-menu"});var a=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||a.splice(2,1);for(var l=0;l<a.length;l++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[l].innerHTML=a[l].title,_.setAttrs(this.elMenuItems[l],{class:"apexcharts-menu-item ".concat(a[l].name),title:a[l].title}),this.elMenu.appendChild(this.elMenuItems[l])}},{key:"addToolbarEventListeners",value:function(){var s=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(l){l.classList.contains("exportSVG")?l.addEventListener("click",s.handleDownload.bind(s,"svg")):l.classList.contains("exportPNG")?l.addEventListener("click",s.handleDownload.bind(s,"png")):l.classList.contains("exportCSV")&&l.addEventListener("click",s.handleDownload.bind(s,"csv"))});for(var a=0;a<this.t.customIcons.length;a++)this.elCustomIcons[a].addEventListener("click",this.t.customIcons[a].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(s){this.ctx.getSyncedCharts().forEach(function(a){a.ctx.toolbar.toggleOtherControls();var l=s==="selection"?a.ctx.toolbar.elSelection:a.ctx.toolbar.elZoom,c=s==="selection"?"selectionEnabled":"zoomEnabled";a.w.globals[c]=!a.w.globals[c],l.classList.contains(a.ctx.toolbar.selectedClass)?l.classList.remove(a.ctx.toolbar.selectedClass):l.classList.add(a.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var s=this.w;this.elZoom||(this.elZoom=s.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=s.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=s.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(s){this.toggleOtherControls(),s==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var a=s==="pan"?this.elPan:this.elZoom,l=s==="pan"?this.elZoom:this.elPan;a&&a.classList.add(this.selectedClass),l&&l.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(s){s.ctx.toolbar.toggleOtherControls(),s.w.globals.panEnabled=!s.w.globals.panEnabled,s.ctx.toolbar.elPan.classList.contains(s.ctx.toolbar.selectedClass)?s.ctx.toolbar.elPan.classList.remove(s.ctx.toolbar.selectedClass):s.ctx.toolbar.elPan.classList.add(s.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var s=this,a=this.w;a.globals.panEnabled=!1,a.globals.zoomEnabled=!1,a.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(l){l&&l.classList.remove(s.selectedClass)})}},{key:"handleZoomIn",value:function(){var s=this.w;s.globals.isRangeBar&&(this.minX=s.globals.minY,this.maxX=s.globals.maxY);var a=(this.minX+this.maxX)/2,l=(this.minX+a)/2,c=(this.maxX+a)/2,d=this._getNewMinXMaxX(l,c);s.globals.disableZoomIn||this.zoomUpdateOptions(d.minX,d.maxX)}},{key:"handleZoomOut",value:function(){var s=this.w;if(s.globals.isRangeBar&&(this.minX=s.globals.minY,this.maxX=s.globals.maxY),!(s.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var a=(this.minX+this.maxX)/2,l=this.minX-(a-this.minX),c=this.maxX-(a-this.maxX),d=this._getNewMinXMaxX(l,c);s.globals.disableZoomOut||this.zoomUpdateOptions(d.minX,d.maxX)}}},{key:"_getNewMinXMaxX",value:function(s,a){var l=this.w.config.xaxis.convertedCatToNumeric;return{minX:l?Math.floor(s):s,maxX:l?Math.floor(a):a}}},{key:"zoomUpdateOptions",value:function(s,a){var l=this.w;if(s!==void 0||a!==void 0){if(!(l.config.xaxis.convertedCatToNumeric&&(s<1&&(s=1,a=l.globals.dataPoints),a-s<2))){var c={min:s,max:a},d=this.getBeforeZoomRange(c);d&&(c=d.xaxis);var f={xaxis:c},p=N.clone(l.globals.initialConfig.yaxis);l.config.chart.zoom.autoScaleYaxis&&(p=new mt(this.ctx).autoScaleY(this.ctx,p,{xaxis:c})),l.config.chart.group||(f.yaxis=p),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(f,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(c,p)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(s,a){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:s,yaxis:a})}},{key:"getBeforeZoomRange",value:function(s,a){var l=null;return typeof this.ev.beforeZoom=="function"&&(l=this.ev.beforeZoom(this,{xaxis:s,yaxis:a})),l}},{key:"toggleMenu",value:function(){var s=this;window.setTimeout(function(){s.elMenu.classList.contains("apexcharts-menu-open")?s.elMenu.classList.remove("apexcharts-menu-open"):s.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(s){var a=this.w,l=new ti(this.ctx);switch(s){case"svg":l.exportToSVG(this.ctx);break;case"png":l.exportToPng(this.ctx);break;case"csv":l.exportToCSV({series:a.config.series,columnDelimiter:a.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(s){this.ctx.getSyncedCharts().forEach(function(a){var l=a.w;if(l.globals.lastXAxis.min=void 0,l.globals.lastXAxis.max=void 0,a.updateHelpers.revertDefaultAxisMinMax(),typeof l.config.chart.events.beforeResetZoom=="function"){var c=l.config.chart.events.beforeResetZoom(a,l);c&&a.updateHelpers.revertDefaultAxisMinMax(c)}typeof l.config.chart.events.zoomed=="function"&&a.ctx.toolbar.zoomCallback({min:l.config.xaxis.min,max:l.config.xaxis.max}),l.globals.zoomed=!1;var d=a.ctx.series.emptyCollapsedSeries(N.clone(l.globals.initialSeries));a.updateHelpers._updateSeries(d,l.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),z}(),Ii=function(z){y(a,Qe);var s=M(a);function a(l){var c;return o(this,a),(c=s.call(this,l)).ctx=l,c.w=l.w,c.dragged=!1,c.graphics=new _(c.ctx),c.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],c.clientX=0,c.clientY=0,c.startX=0,c.endX=0,c.dragX=0,c.startY=0,c.endY=0,c.dragY=0,c.moveDirection="none",c}return u(a,[{key:"init",value:function(l){var c=this,d=l.xyRatios,f=this.w,p=this;this.xyRatios=d,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=f.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),f.globals.dom.elGraphical.add(this.zoomRect),f.globals.dom.elGraphical.add(this.selectionRect),f.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:f.globals.gridWidth,maxY:f.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):f.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:f.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=f.globals.dom.baseEl.querySelector("".concat(f.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(m){c.hoverArea.addEventListener(m,p.svgMouseEvents.bind(p,d),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(l,c){var d=this.w,f=this,p=this.ctx.toolbar,m=d.globals.zoomEnabled?d.config.chart.zoom.type:d.config.chart.selection.type,b=d.config.chart.toolbar.autoSelected;if(c.shiftKey?(this.shiftWasPressed=!0,p.enableZoomPanFromToolbar(b==="pan"?"zoom":"pan")):this.shiftWasPressed&&(p.enableZoomPanFromToolbar(b),this.shiftWasPressed=!1),c.target){var w,C=c.target.classList;if(c.target.parentNode&&c.target.parentNode!==null&&(w=c.target.parentNode.classList),!(C.contains("apexcharts-selection-rect")||C.contains("apexcharts-legend-marker")||C.contains("apexcharts-legend-text")||w&&w.contains("apexcharts-toolbar"))){if(f.clientX=c.type==="touchmove"||c.type==="touchstart"?c.touches[0].clientX:c.type==="touchend"?c.changedTouches[0].clientX:c.clientX,f.clientY=c.type==="touchmove"||c.type==="touchstart"?c.touches[0].clientY:c.type==="touchend"?c.changedTouches[0].clientY:c.clientY,c.type==="mousedown"&&c.which===1){var A=f.gridRect.getBoundingClientRect();f.startX=f.clientX-A.left,f.startY=f.clientY-A.top,f.dragged=!1,f.w.globals.mousedown=!0}if((c.type==="mousemove"&&c.which===1||c.type==="touchmove")&&(f.dragged=!0,d.globals.panEnabled?(d.globals.selection=null,f.w.globals.mousedown&&f.panDragging({context:f,zoomtype:m,xyRatios:l})):(f.w.globals.mousedown&&d.globals.zoomEnabled||f.w.globals.mousedown&&d.globals.selectionEnabled)&&(f.selection=f.selectionDrawing({context:f,zoomtype:m}))),c.type==="mouseup"||c.type==="touchend"||c.type==="mouseleave"){var L=f.gridRect.getBoundingClientRect();f.w.globals.mousedown&&(f.endX=f.clientX-L.left,f.endY=f.clientY-L.top,f.dragX=Math.abs(f.endX-f.startX),f.dragY=Math.abs(f.endY-f.startY),(d.globals.zoomEnabled||d.globals.selectionEnabled)&&f.selectionDrawn({context:f,zoomtype:m}),d.globals.panEnabled&&d.config.xaxis.convertedCatToNumeric&&f.delayedPanScrolled()),d.globals.zoomEnabled&&f.hideSelectionRect(this.selectionRect),f.dragged=!1,f.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var l=this.w;if(this.selectionRect){var c=this.selectionRect.node.getBoundingClientRect();c.width>0&&c.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:l.globals.gridWidth,maxY:l.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var l=this.w,c=this.xyRatios;if(!l.globals.zoomEnabled){if(l.globals.selection!==void 0&&l.globals.selection!==null)this.drawSelectionRect(l.globals.selection);else if(l.config.chart.selection.xaxis.min!==void 0&&l.config.chart.selection.xaxis.max!==void 0){var d=(l.config.chart.selection.xaxis.min-l.globals.minX)/c.xRatio,f={x:d,y:0,width:l.globals.gridWidth-(l.globals.maxX-l.config.chart.selection.xaxis.max)/c.xRatio-d,height:l.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(f),this.makeSelectionRectDraggable(),typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(this.ctx,{xaxis:{min:l.config.chart.selection.xaxis.min,max:l.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(l){var c=l.x,d=l.y,f=l.width,p=l.height,m=l.translateX,b=m===void 0?0:m,w=l.translateY,C=w===void 0?0:w,A=this.w,L=this.zoomRect,P=this.selectionRect;if(this.dragged||A.globals.selection!==null){var O={transform:"translate("+b+", "+C+")"};A.globals.zoomEnabled&&this.dragged&&(f<0&&(f=1),L.attr({x:c,y:d,width:f,height:p,fill:A.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":A.config.chart.zoom.zoomedArea.fill.opacity,stroke:A.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":A.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":A.config.chart.zoom.zoomedArea.stroke.opacity}),_.setAttrs(L.node,O)),A.globals.selectionEnabled&&(P.attr({x:c,y:d,width:f>0?f:0,height:p>0?p:0,fill:A.config.chart.selection.fill.color,"fill-opacity":A.config.chart.selection.fill.opacity,stroke:A.config.chart.selection.stroke.color,"stroke-width":A.config.chart.selection.stroke.width,"stroke-dasharray":A.config.chart.selection.stroke.dashArray,"stroke-opacity":A.config.chart.selection.stroke.opacity}),_.setAttrs(P.node,O))}}},{key:"hideSelectionRect",value:function(l){l&&l.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(l){var c=l.context,d=l.zoomtype,f=this.w,p=c,m=this.gridRect.getBoundingClientRect(),b=p.startX-1,w=p.startY,C=!1,A=!1,L=p.clientX-m.left-b,P=p.clientY-m.top-w,O={};return Math.abs(L+b)>f.globals.gridWidth?L=f.globals.gridWidth-b:p.clientX-m.left<0&&(L=b),b>p.clientX-m.left&&(C=!0,L=Math.abs(L)),w>p.clientY-m.top&&(A=!0,P=Math.abs(P)),O=d==="x"?{x:C?b-L:b,y:0,width:L,height:f.globals.gridHeight}:d==="y"?{x:0,y:A?w-P:w,width:f.globals.gridWidth,height:P}:{x:C?b-L:b,y:A?w-P:w,width:L,height:P},p.drawSelectionRect(O),p.selectionDragging("resizing"),O}},{key:"selectionDragging",value:function(l,c){var d=this,f=this.w,p=this.xyRatios,m=this.selectionRect,b=0;l==="resizing"&&(b=30);var w=function(A){return parseFloat(m.node.getAttribute(A))},C={x:w("x"),y:w("y"),width:w("width"),height:w("height")};f.globals.selection=C,typeof f.config.chart.events.selection=="function"&&f.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var A=d.gridRect.getBoundingClientRect(),L=m.node.getBoundingClientRect(),P={xaxis:{min:f.globals.xAxisScale.niceMin+(L.left-A.left)*p.xRatio,max:f.globals.xAxisScale.niceMin+(L.right-A.left)*p.xRatio},yaxis:{min:f.globals.yAxisScale[0].niceMin+(A.bottom-L.bottom)*p.yRatio[0],max:f.globals.yAxisScale[0].niceMax-(L.top-A.top)*p.yRatio[0]}};f.config.chart.events.selection(d.ctx,P),f.config.chart.brush.enabled&&f.config.chart.events.brushScrolled!==void 0&&f.config.chart.events.brushScrolled(d.ctx,P)},b))}},{key:"selectionDrawn",value:function(l){var c=l.context,d=l.zoomtype,f=this.w,p=c,m=this.xyRatios,b=this.ctx.toolbar;if(p.startX>p.endX){var w=p.startX;p.startX=p.endX,p.endX=w}if(p.startY>p.endY){var C=p.startY;p.startY=p.endY,p.endY=C}var A=void 0,L=void 0;f.globals.isRangeBar?(A=f.globals.yAxisScale[0].niceMin+p.startX*m.invertedYRatio,L=f.globals.yAxisScale[0].niceMin+p.endX*m.invertedYRatio):(A=f.globals.xAxisScale.niceMin+p.startX*m.xRatio,L=f.globals.xAxisScale.niceMin+p.endX*m.xRatio);var P=[],O=[];if(f.config.yaxis.forEach(function(Y,U){P.push(f.globals.yAxisScale[U].niceMax-m.yRatio[U]*p.startY),O.push(f.globals.yAxisScale[U].niceMax-m.yRatio[U]*p.endY)}),p.dragged&&(p.dragX>10||p.dragY>10)&&A!==L){if(f.globals.zoomEnabled){var D=N.clone(f.globals.initialConfig.yaxis),H=N.clone(f.globals.initialConfig.xaxis);if(f.globals.zoomed=!0,f.config.xaxis.convertedCatToNumeric&&(A=Math.floor(A),L=Math.floor(L),A<1&&(A=1,L=f.globals.dataPoints),L-A<2&&(L=A+1)),d!=="xy"&&d!=="x"||(H={min:A,max:L}),d!=="xy"&&d!=="y"||D.forEach(function(Y,U){D[U].min=O[U],D[U].max=P[U]}),f.config.chart.zoom.autoScaleYaxis){var X=new mt(p.ctx);D=X.autoScaleY(p.ctx,D,{xaxis:H})}if(b){var v=b.getBeforeZoomRange(H,D);v&&(H=v.xaxis?v.xaxis:H,D=v.yaxis?v.yaxis:D)}var k={xaxis:H};f.config.chart.group||(k.yaxis=D),p.ctx.updateHelpers._updateOptions(k,!1,p.w.config.chart.animations.dynamicAnimation.enabled),typeof f.config.chart.events.zoomed=="function"&&b.zoomCallback(H,D)}else if(f.globals.selectionEnabled){var E,V=null;E={min:A,max:L},d!=="xy"&&d!=="y"||(V=N.clone(f.config.yaxis)).forEach(function(Y,U){V[U].min=O[U],V[U].max=P[U]}),f.globals.selection=p.selection,typeof f.config.chart.events.selection=="function"&&f.config.chart.events.selection(p.ctx,{xaxis:E,yaxis:V})}}}},{key:"panDragging",value:function(l){var c=l.context,d=this.w,f=c;if(d.globals.lastClientPosition.x!==void 0){var p=d.globals.lastClientPosition.x-f.clientX,m=d.globals.lastClientPosition.y-f.clientY;Math.abs(p)>Math.abs(m)&&p>0?this.moveDirection="left":Math.abs(p)>Math.abs(m)&&p<0?this.moveDirection="right":Math.abs(m)>Math.abs(p)&&m>0?this.moveDirection="up":Math.abs(m)>Math.abs(p)&&m<0&&(this.moveDirection="down")}d.globals.lastClientPosition={x:f.clientX,y:f.clientY};var b=d.globals.isRangeBar?d.globals.minY:d.globals.minX,w=d.globals.isRangeBar?d.globals.maxY:d.globals.maxX;d.config.xaxis.convertedCatToNumeric||f.panScrolled(b,w)}},{key:"delayedPanScrolled",value:function(){var l=this.w,c=l.globals.minX,d=l.globals.maxX,f=(l.globals.maxX-l.globals.minX)/2;this.moveDirection==="left"?(c=l.globals.minX+f,d=l.globals.maxX+f):this.moveDirection==="right"&&(c=l.globals.minX-f,d=l.globals.maxX-f),c=Math.floor(c),d=Math.floor(d),this.updateScrolledChart({xaxis:{min:c,max:d}},c,d)}},{key:"panScrolled",value:function(l,c){var d=this.w,f=this.xyRatios,p=N.clone(d.globals.initialConfig.yaxis),m=f.xRatio,b=d.globals.minX,w=d.globals.maxX;d.globals.isRangeBar&&(m=f.invertedYRatio,b=d.globals.minY,w=d.globals.maxY),this.moveDirection==="left"?(l=b+d.globals.gridWidth/15*m,c=w+d.globals.gridWidth/15*m):this.moveDirection==="right"&&(l=b-d.globals.gridWidth/15*m,c=w-d.globals.gridWidth/15*m),d.globals.isRangeBar||(l<d.globals.initialMinX||c>d.globals.initialMaxX)&&(l=b,c=w);var C={min:l,max:c};d.config.chart.zoom.autoScaleYaxis&&(p=new mt(this.ctx).autoScaleY(this.ctx,p,{xaxis:C}));var A={xaxis:{min:l,max:c}};d.config.chart.group||(A.yaxis=p),this.updateScrolledChart(A,l,c)}},{key:"updateScrolledChart",value:function(l,c,d){var f=this.w;this.ctx.updateHelpers._updateOptions(l,!1,!1),typeof f.config.chart.events.scrolled=="function"&&f.config.chart.events.scrolled(this.ctx,{xaxis:{min:c,max:d}})}}]),a}(),ji=function(){function z(s){o(this,z),this.w=s.w,this.ttCtx=s,this.ctx=s.ctx}return u(z,[{key:"getNearestValues",value:function(s){var a=s.hoverArea,l=s.elGrid,c=s.clientX,d=s.clientY,f=this.w,p=l.getBoundingClientRect(),m=p.width,b=p.height,w=m/(f.globals.dataPoints-1),C=b/f.globals.dataPoints,A=this.hasBars();!f.globals.comboCharts&&!A||f.config.xaxis.convertedCatToNumeric||(w=m/f.globals.dataPoints);var L=c-p.left-f.globals.barPadForNumericAxis,P=d-p.top;L<0||P<0||L>m||P>b?(a.classList.remove("hovering-zoom"),a.classList.remove("hovering-pan")):f.globals.zoomEnabled?(a.classList.remove("hovering-pan"),a.classList.add("hovering-zoom")):f.globals.panEnabled&&(a.classList.remove("hovering-zoom"),a.classList.add("hovering-pan"));var O=Math.round(L/w),D=Math.floor(P/C);A&&!f.config.xaxis.convertedCatToNumeric&&(O=Math.ceil(L/w),O-=1);var H=null,X=null,v=[],k=[];if(f.globals.seriesXvalues.forEach(function(U){v.push([U[0]+1e-6].concat(U))}),f.globals.seriesYvalues.forEach(function(U){k.push([U[0]+1e-6].concat(U))}),v=v.map(function(U){return U.filter(function(J){return N.isNumber(J)})}),k=k.map(function(U){return U.filter(function(J){return N.isNumber(J)})}),f.globals.isXNumeric){var E=this.ttCtx.getElGrid().getBoundingClientRect(),V=L*(E.width/m),Y=P*(E.height/b);H=(X=this.closestInMultiArray(V,Y,v,k)).index,O=X.j,H!==null&&(v=f.globals.seriesXvalues[H],O=(X=this.closestInArray(V,v)).index)}return f.globals.capturedSeriesIndex=H===null?-1:H,(!O||O<1)&&(O=0),f.globals.isBarHorizontal?f.globals.capturedDataPointIndex=D:f.globals.capturedDataPointIndex=O,{capturedSeries:H,j:f.globals.isBarHorizontal?D:O,hoverX:L,hoverY:P}}},{key:"closestInMultiArray",value:function(s,a,l,c){var d=this.w,f=0,p=null,m=-1;d.globals.series.length>1?f=this.getFirstActiveXArray(l):p=0;var b=l[f][0],w=Math.abs(s-b);if(l.forEach(function(L){L.forEach(function(P,O){var D=Math.abs(s-P);D<w&&(w=D,m=O)})}),m!==-1){var C=c[f][m],A=Math.abs(a-C);p=f,c.forEach(function(L,P){var O=Math.abs(a-L[m]);O<A&&(A=O,p=P)})}return{index:p,j:m}}},{key:"getFirstActiveXArray",value:function(s){for(var a=this.w,l=0,c=s.map(function(f,p){return f.length>0?p:-1}),d=0;d<c.length;d++)if(c[d]!==-1&&a.globals.collapsedSeriesIndices.indexOf(d)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(d)===-1){l=c[d];break}return l}},{key:"closestInArray",value:function(s,a){for(var l=a[0],c=null,d=Math.abs(s-l),f=0;f<a.length;f++){var p=Math.abs(s-a[f]);p<d&&(d=p,c=f)}return{index:c}}},{key:"isXoverlap",value:function(s){var a=[],l=this.w.globals.seriesX.filter(function(d){return d[0]!==void 0});if(l.length>0)for(var c=0;c<l.length-1;c++)l[c][s]!==void 0&&l[c+1][s]!==void 0&&l[c][s]!==l[c+1][s]&&a.push("unEqual");return a.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var s=!0,a=this.w.globals.initialSeries,l=0;l<a.length-1;l++)if(a[l].data.length!==a[l+1].data.length){s=!1;break}return s}},{key:"getBarsHeight",value:function(s){return I(s).reduce(function(a,l){return a+l.getBBox().height},0)}},{key:"getElMarkers",value:function(s){return typeof s=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(s,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(s=I(s)).sort(function(l,c){var d=Number(l.getAttribute("data:realIndex")),f=Number(c.getAttribute("data:realIndex"));return f<d?1:f>d?-1:0});var a=[];return s.forEach(function(l){a.push(l.querySelector(".apexcharts-marker"))}),a}},{key:"hasMarkers",value:function(s){return this.getElMarkers(s).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(s){var a=this.w,l=a.config.markers.hover.size;return l===void 0&&(l=a.globals.markers.size[s]+a.config.markers.hover.sizeOffset),l}},{key:"toggleAllTooltipSeriesGroups",value:function(s){var a=this.w,l=this.ttCtx;l.allTooltipSeriesGroups.length===0&&(l.allTooltipSeriesGroups=a.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var c=l.allTooltipSeriesGroups,d=0;d<c.length;d++)s==="enable"?(c[d].classList.add("apexcharts-active"),c[d].style.display=a.config.tooltip.items.display):(c[d].classList.remove("apexcharts-active"),c[d].style.display="none")}}]),z}(),or=function(){function z(s){o(this,z),this.w=s.w,this.ctx=s.ctx,this.ttCtx=s,this.tooltipUtil=new ji(s)}return u(z,[{key:"drawSeriesTexts",value:function(s){var a=s.shared,l=a===void 0||a,c=s.ttItems,d=s.i,f=d===void 0?0:d,p=s.j,m=p===void 0?null:p,b=s.y1,w=s.y2,C=s.e,A=this.w;A.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:f,j:m,y1:b,y2:w,w:A}):this.toggleActiveInactiveSeries(l);var L=this.getValuesToPrint({i:f,j:m});this.printLabels({i:f,j:m,values:L,ttItems:c,shared:l,e:C});var P=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=P.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=P.getBoundingClientRect().height}},{key:"printLabels",value:function(s){var a,l=this,c=s.i,d=s.j,f=s.values,p=s.ttItems,m=s.shared,b=s.e,w=this.w,C=[],A=function(E){return w.globals.seriesGoals[E]&&w.globals.seriesGoals[E][d]&&Array.isArray(w.globals.seriesGoals[E][d])},L=f.xVal,P=f.zVal,O=f.xAxisTTVal,D="",H=w.globals.colors[c];d!==null&&w.config.plotOptions.bar.distributed&&(H=w.globals.colors[d]);for(var X=function(E,V){var Y=l.getFormatters(c);D=l.getSeriesName({fn:Y.yLbTitleFormatter,index:c,seriesIndex:c,j:d}),w.config.chart.type==="treemap"&&(D=Y.yLbTitleFormatter(String(w.config.series[c].data[d].x),{series:w.globals.series,seriesIndex:c,dataPointIndex:d,w}));var U=w.config.tooltip.inverseOrder?V:E;if(w.globals.axisCharts){var J=function(ce){var ue,be,Le,Re;return w.globals.isRangeData?Y.yLbFormatter((ue=w.globals.seriesRangeStart)===null||ue===void 0||(be=ue[ce])===null||be===void 0?void 0:be[d],{series:w.globals.seriesRangeStart,seriesIndex:ce,dataPointIndex:d,w})+" - "+Y.yLbFormatter((Le=w.globals.seriesRangeEnd)===null||Le===void 0||(Re=Le[ce])===null||Re===void 0?void 0:Re[d],{series:w.globals.seriesRangeEnd,seriesIndex:ce,dataPointIndex:d,w}):Y.yLbFormatter(w.globals.series[ce][d],{series:w.globals.series,seriesIndex:ce,dataPointIndex:d,w})};if(m)Y=l.getFormatters(U),D=l.getSeriesName({fn:Y.yLbTitleFormatter,index:U,seriesIndex:c,j:d}),H=w.globals.colors[U],a=J(U),A(U)&&(C=w.globals.seriesGoals[U][d].map(function(ce){return{attrs:ce,val:Y.yLbFormatter(ce.value,{seriesIndex:U,dataPointIndex:d,w})}}));else{var ee,ae=b==null||(ee=b.target)===null||ee===void 0?void 0:ee.getAttribute("fill");ae&&(H=ae.indexOf("url")!==-1?document.querySelector(ae.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):ae),a=J(c),A(c)&&Array.isArray(w.globals.seriesGoals[c][d])&&(C=w.globals.seriesGoals[c][d].map(function(ce){return{attrs:ce,val:Y.yLbFormatter(ce.value,{seriesIndex:c,dataPointIndex:d,w})}}))}}d===null&&(a=Y.yLbFormatter(w.globals.series[c],i(i({},w),{},{seriesIndex:c,dataPointIndex:c}))),l.DOMHandling({i:c,t:U,j:d,ttItems:p,values:{val:a,goalVals:C,xVal:L,xAxisTTVal:O,zVal:P},seriesName:D,shared:m,pColor:H})},v=0,k=w.globals.series.length-1;v<w.globals.series.length;v++,k--)X(v,k)}},{key:"getFormatters",value:function(s){var a,l=this.w,c=l.globals.yLabelFormatters[s];return l.globals.ttVal!==void 0?Array.isArray(l.globals.ttVal)?(c=l.globals.ttVal[s]&&l.globals.ttVal[s].formatter,a=l.globals.ttVal[s]&&l.globals.ttVal[s].title&&l.globals.ttVal[s].title.formatter):(c=l.globals.ttVal.formatter,typeof l.globals.ttVal.title.formatter=="function"&&(a=l.globals.ttVal.title.formatter)):a=l.config.tooltip.y.title.formatter,typeof c!="function"&&(c=l.globals.yLabelFormatters[0]?l.globals.yLabelFormatters[0]:function(d){return d}),typeof a!="function"&&(a=function(d){return d}),{yLbFormatter:c,yLbTitleFormatter:a}}},{key:"getSeriesName",value:function(s){var a=s.fn,l=s.index,c=s.seriesIndex,d=s.j,f=this.w;return a(String(f.globals.seriesNames[l]),{series:f.globals.series,seriesIndex:c,dataPointIndex:d,w:f})}},{key:"DOMHandling",value:function(s){s.i;var a=s.t,l=s.j,c=s.ttItems,d=s.values,f=s.seriesName,p=s.shared,m=s.pColor,b=this.w,w=this.ttCtx,C=d.val,A=d.goalVals,L=d.xVal,P=d.xAxisTTVal,O=d.zVal,D=null;D=c[a].children,b.config.tooltip.fillSeriesColor&&(c[a].style.backgroundColor=m,D[0].style.display="none"),w.showTooltipTitle&&(w.tooltipTitle===null&&(w.tooltipTitle=b.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),w.tooltipTitle.innerHTML=L),w.isXAxisTooltipEnabled&&(w.xaxisTooltipText.innerHTML=P!==""?P:L);var H=c[a].querySelector(".apexcharts-tooltip-text-y-label");H&&(H.innerHTML=f||"");var X=c[a].querySelector(".apexcharts-tooltip-text-y-value");X&&(X.innerHTML=C!==void 0?C:""),D[0]&&D[0].classList.contains("apexcharts-tooltip-marker")&&(b.config.tooltip.marker.fillColors&&Array.isArray(b.config.tooltip.marker.fillColors)&&(m=b.config.tooltip.marker.fillColors[a]),D[0].style.backgroundColor=m),b.config.tooltip.marker.show||(D[0].style.display="none");var v=c[a].querySelector(".apexcharts-tooltip-text-goals-label"),k=c[a].querySelector(".apexcharts-tooltip-text-goals-value");if(A.length&&b.globals.seriesGoals[a]){var E=function(){var V="<div >",Y="<div>";A.forEach(function(U,J){V+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(U.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(U.attrs.name,"</div>"),Y+="<div>".concat(U.val,"</div>")}),v.innerHTML=V+"</div>",k.innerHTML=Y+"</div>"};p?b.globals.seriesGoals[a][l]&&Array.isArray(b.globals.seriesGoals[a][l])?E():(v.innerHTML="",k.innerHTML=""):E()}else v.innerHTML="",k.innerHTML="";O!==null&&(c[a].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=b.config.tooltip.z.title,c[a].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=O!==void 0?O:""),p&&D[0]&&(C==null||b.globals.ancillaryCollapsedSeriesIndices.indexOf(a)>-1||b.globals.collapsedSeriesIndices.indexOf(a)>-1?D[0].parentNode.style.display="none":D[0].parentNode.style.display=b.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(s){var a=this.w;if(s)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var l=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");l&&(l.classList.add("apexcharts-active"),l.style.display=a.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(s){var a=s.i,l=s.j,c=this.w,d=this.ctx.series.filteredSeriesX(),f="",p="",m=null,b=null,w={series:c.globals.series,seriesIndex:a,dataPointIndex:l,w:c},C=c.globals.ttZFormatter;l===null?b=c.globals.series[a]:c.globals.isXNumeric&&c.config.chart.type!=="treemap"?(f=d[a][l],d[a].length===0&&(f=d[this.tooltipUtil.getFirstActiveXArray(d)][l])):f=c.globals.labels[l]!==void 0?c.globals.labels[l]:"";var A=f;return c.globals.isXNumeric&&c.config.xaxis.type==="datetime"?f=new Te(this.ctx).xLabelFormat(c.globals.ttKeyFormatter,A,A,{i:void 0,dateFormatter:new pe(this.ctx).formatDate,w:this.w}):f=c.globals.isBarHorizontal?c.globals.yLabelFormatters[0](A,w):c.globals.xLabelFormatter(A,w),c.config.tooltip.x.formatter!==void 0&&(f=c.globals.ttKeyFormatter(A,w)),c.globals.seriesZ.length>0&&c.globals.seriesZ[a].length>0&&(m=C(c.globals.seriesZ[a][l],c)),p=typeof c.config.xaxis.tooltip.formatter=="function"?c.globals.xaxisTooltipFormatter(A,w):f,{val:Array.isArray(b)?b.join(" "):b,xVal:Array.isArray(f)?f.join(" "):f,xAxisTTVal:Array.isArray(p)?p.join(" "):p,zVal:m}}},{key:"handleCustomTooltip",value:function(s){var a=s.i,l=s.j,c=s.y1,d=s.y2,f=s.w,p=this.ttCtx.getElTooltip(),m=f.config.tooltip.custom;Array.isArray(m)&&m[a]&&(m=m[a]),p.innerHTML=m({ctx:this.ctx,series:f.globals.series,seriesIndex:a,dataPointIndex:l,y1:c,y2:d,w:f})}}]),z}(),is=function(){function z(s){o(this,z),this.ttCtx=s,this.ctx=s.ctx,this.w=s.w}return u(z,[{key:"moveXCrosshairs",value:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=this.ttCtx,c=this.w,d=l.getElXCrosshairs(),f=s-l.xcrosshairsWidth/2,p=c.globals.labels.slice().length;if(a!==null&&(f=c.globals.gridWidth/p*a),d===null||c.globals.isBarHorizontal||(d.setAttribute("x",f),d.setAttribute("x1",f),d.setAttribute("x2",f),d.setAttribute("y2",c.globals.gridHeight),d.classList.add("apexcharts-active")),f<0&&(f=0),f>c.globals.gridWidth&&(f=c.globals.gridWidth),l.isXAxisTooltipEnabled){var m=f;c.config.xaxis.crosshairs.width!=="tickWidth"&&c.config.xaxis.crosshairs.width!=="barWidth"||(m=f+l.xcrosshairsWidth/2),this.moveXAxisTooltip(m)}}},{key:"moveYCrosshairs",value:function(s){var a=this.ttCtx;a.ycrosshairs!==null&&_.setAttrs(a.ycrosshairs,{y1:s,y2:s}),a.ycrosshairsHidden!==null&&_.setAttrs(a.ycrosshairsHidden,{y1:s,y2:s})}},{key:"moveXAxisTooltip",value:function(s){var a=this.w,l=this.ttCtx;if(l.xaxisTooltip!==null&&l.xcrosshairsWidth!==0){l.xaxisTooltip.classList.add("apexcharts-active");var c=l.xaxisOffY+a.config.xaxis.tooltip.offsetY+a.globals.translateY+1+a.config.xaxis.offsetY;if(s-=l.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(s)){s+=a.globals.translateX;var d;d=new _(this.ctx).getTextRects(l.xaxisTooltipText.innerHTML),l.xaxisTooltipText.style.minWidth=d.width+"px",l.xaxisTooltip.style.left=s+"px",l.xaxisTooltip.style.top=c+"px"}}}},{key:"moveYAxisTooltip",value:function(s){var a=this.w,l=this.ttCtx;l.yaxisTTEls===null&&(l.yaxisTTEls=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var c=parseInt(l.ycrosshairsHidden.getAttribute("y1"),10),d=a.globals.translateY+c,f=l.yaxisTTEls[s].getBoundingClientRect().height,p=a.globals.translateYAxisX[s]-2;a.config.yaxis[s].opposite&&(p-=26),d-=f/2,a.globals.ignoreYAxisIndexes.indexOf(s)===-1?(l.yaxisTTEls[s].classList.add("apexcharts-active"),l.yaxisTTEls[s].style.top=d+"px",l.yaxisTTEls[s].style.left=p+a.config.yaxis[s].tooltip.offsetX+"px"):l.yaxisTTEls[s].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=this.w,d=this.ttCtx,f=d.getElTooltip(),p=d.tooltipRect,m=l!==null?parseFloat(l):1,b=parseFloat(s)+m+5,w=parseFloat(a)+m/2;if(b>c.globals.gridWidth/2&&(b=b-p.ttWidth-m-10),b>c.globals.gridWidth-p.ttWidth-10&&(b=c.globals.gridWidth-p.ttWidth),b<-20&&(b=-20),c.config.tooltip.followCursor){var C=d.getElGrid().getBoundingClientRect();(b=d.e.clientX-C.left)>c.globals.gridWidth/2&&(b-=d.tooltipRect.ttWidth),(w=d.e.clientY+c.globals.translateY-C.top)>c.globals.gridHeight/2&&(w-=d.tooltipRect.ttHeight)}else c.globals.isBarHorizontal||p.ttHeight/2+w>c.globals.gridHeight&&(w=c.globals.gridHeight-p.ttHeight+c.globals.translateY);isNaN(b)||(b+=c.globals.translateX,f.style.left=b+"px",f.style.top=w+"px")}},{key:"moveMarkers",value:function(s,a){var l=this.w,c=this.ttCtx;if(l.globals.markers.size[s]>0)for(var d=l.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(s,"'] .apexcharts-marker")),f=0;f<d.length;f++)parseInt(d[f].getAttribute("rel"),10)===a&&(c.marker.resetPointsSize(),c.marker.enlargeCurrentPoint(a,d[f]));else c.marker.resetPointsSize(),this.moveDynamicPointOnHover(a,s)}},{key:"moveDynamicPointOnHover",value:function(s,a){var l,c,d=this.w,f=this.ttCtx,p=d.globals.pointsArray,m=f.tooltipUtil.getHoverMarkerSize(a),b=d.config.series[a].type;if(!b||b!=="column"&&b!=="candlestick"&&b!=="boxPlot"){l=p[a][s][0],c=p[a][s][1]?p[a][s][1]:0;var w=d.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"'] .apexcharts-series-markers circle"));w&&c<d.globals.gridHeight&&c>0&&(w.setAttribute("r",m),w.setAttribute("cx",l),w.setAttribute("cy",c)),this.moveXCrosshairs(l),f.fixedTooltip||this.moveTooltip(l,c,m)}}},{key:"moveDynamicPointsOnHover",value:function(s){var a,l=this.ttCtx,c=l.w,d=0,f=0,p=c.globals.pointsArray;a=new Ke(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var m=l.tooltipUtil.getHoverMarkerSize(a);p[a]&&(d=p[a][s][0],f=p[a][s][1]);var b=l.tooltipUtil.getAllMarkers();if(b!==null)for(var w=0;w<c.globals.series.length;w++){var C=p[w];if(c.globals.comboCharts&&C===void 0&&b.splice(w,0,null),C&&C.length){var A=p[w][s][1],L=void 0;if(b[w].setAttribute("cx",d),c.config.chart.type==="rangeArea"&&!c.globals.comboCharts){var P=s+c.globals.series[w].length;L=p[w][P][1],A-=Math.abs(A-L)/2}A!==null&&!isNaN(A)&&A<c.globals.gridHeight+m&&A+m>0?(b[w]&&b[w].setAttribute("r",m),b[w]&&b[w].setAttribute("cy",A)):b[w]&&b[w].setAttribute("r",0)}}this.moveXCrosshairs(d),l.fixedTooltip||this.moveTooltip(d,f||c.globals.gridHeight,m)}},{key:"moveStickyTooltipOverBars",value:function(s,a){var l=this.w,c=this.ttCtx,d=l.globals.columnSeries?l.globals.columnSeries.length:l.globals.series.length,f=d>=2&&d%2==0?Math.floor(d/2):Math.floor(d/2)+1;l.globals.isBarHorizontal&&(f=new Ke(this.ctx).getActiveConfigSeriesIndex("desc")+1);var p=l.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(f,"'] path[j='").concat(s,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(f,"'] path[j='").concat(s,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(f,"'] path[j='").concat(s,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(f,"'] path[j='").concat(s,"']"));p||typeof a!="number"||(p=l.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(a,"'] path[j='").concat(s,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(a,"'] path[j='").concat(s,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(a,"'] path[j='").concat(s,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(a,"'] path[j='").concat(s,"']")));var m=p?parseFloat(p.getAttribute("cx")):0,b=p?parseFloat(p.getAttribute("cy")):0,w=p?parseFloat(p.getAttribute("barWidth")):0,C=c.getElGrid().getBoundingClientRect(),A=p&&(p.classList.contains("apexcharts-candlestick-area")||p.classList.contains("apexcharts-boxPlot-area"));l.globals.isXNumeric?(p&&!A&&(m-=d%2!=0?w/2:0),p&&A&&l.globals.comboCharts&&(m-=w/2)):l.globals.isBarHorizontal||(m=c.xAxisTicksPositions[s-1]+c.dataPointsDividedWidth/2,isNaN(m)&&(m=c.xAxisTicksPositions[s]-c.dataPointsDividedWidth/2)),l.globals.isBarHorizontal?b-=c.tooltipRect.ttHeight:l.config.tooltip.followCursor?b=c.e.clientY-C.top-c.tooltipRect.ttHeight/2:b+c.tooltipRect.ttHeight+15>l.globals.gridHeight&&(b=l.globals.gridHeight),l.globals.isBarHorizontal||this.moveXCrosshairs(m),c.fixedTooltip||this.moveTooltip(m,b||l.globals.gridHeight)}}]),z}(),Hs=function(){function z(s){o(this,z),this.w=s.w,this.ttCtx=s,this.ctx=s.ctx,this.tooltipPosition=new is(s)}return u(z,[{key:"drawDynamicPoints",value:function(){var s=this.w,a=new _(this.ctx),l=new st(this.ctx),c=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series");c=I(c),s.config.chart.stacked&&c.sort(function(C,A){return parseFloat(C.getAttribute("data:realIndex"))-parseFloat(A.getAttribute("data:realIndex"))});for(var d=0;d<c.length;d++){var f=c[d].querySelector(".apexcharts-series-markers-wrap");if(f!==null){var p=void 0,m="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));s.config.chart.type!=="line"&&s.config.chart.type!=="area"||s.globals.comboCharts||s.config.tooltip.intersect||(m+=" no-pointer-events");var b=l.getMarkerConfig({cssClass:m,seriesIndex:Number(f.getAttribute("data:realIndex"))});(p=a.drawMarker(0,0,b)).node.setAttribute("default-marker-size",0);var w=document.createElementNS(s.globals.SVGNS,"g");w.classList.add("apexcharts-series-markers"),w.appendChild(p.node),f.appendChild(w)}}}},{key:"enlargeCurrentPoint",value:function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,d=this.w;d.config.chart.type!=="bubble"&&this.newPointSize(s,a);var f=a.getAttribute("cx"),p=a.getAttribute("cy");if(l!==null&&c!==null&&(f=l,p=c),this.tooltipPosition.moveXCrosshairs(f),!this.fixedTooltip){if(d.config.chart.type==="radar"){var m=this.ttCtx.getElGrid().getBoundingClientRect();f=this.ttCtx.e.clientX-m.left}this.tooltipPosition.moveTooltip(f,p,d.config.markers.hover.size)}}},{key:"enlargePoints",value:function(s){for(var a=this.w,l=this,c=this.ttCtx,d=s,f=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),p=a.config.markers.hover.size,m=0;m<f.length;m++){var b=f[m].getAttribute("rel"),w=f[m].getAttribute("index");if(p===void 0&&(p=a.globals.markers.size[w]+a.config.markers.hover.sizeOffset),d===parseInt(b,10)){l.newPointSize(d,f[m]);var C=f[m].getAttribute("cx"),A=f[m].getAttribute("cy");l.tooltipPosition.moveXCrosshairs(C),c.fixedTooltip||l.tooltipPosition.moveTooltip(C,A,p)}else l.oldPointSize(f[m])}}},{key:"newPointSize",value:function(s,a){var l=this.w,c=l.config.markers.hover.size,d=s===0?a.parentNode.firstChild:a.parentNode.lastChild;if(d.getAttribute("default-marker-size")!=="0"){var f=parseInt(d.getAttribute("index"),10);c===void 0&&(c=l.globals.markers.size[f]+l.config.markers.hover.sizeOffset),c<0&&(c=0),d.setAttribute("r",c)}}},{key:"oldPointSize",value:function(s){var a=parseFloat(s.getAttribute("default-marker-size"));s.setAttribute("r",a)}},{key:"resetPointsSize",value:function(){for(var s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),a=0;a<s.length;a++){var l=parseFloat(s[a].getAttribute("default-marker-size"));N.isNumber(l)&&l>=0?s[a].setAttribute("r",l):s[a].setAttribute("r",0)}}}]),z}(),Xl=function(){function z(s){o(this,z),this.w=s.w;var a=this.w;this.ttCtx=s,this.isVerticalGroupedRangeBar=!a.globals.isBarHorizontal&&a.config.chart.type==="rangeBar"&&a.config.plotOptions.bar.rangeBarGroupRows}return u(z,[{key:"getAttr",value:function(s,a){return parseFloat(s.target.getAttribute(a))}},{key:"handleHeatTreeTooltip",value:function(s){var a=s.e,l=s.opt,c=s.x,d=s.y,f=s.type,p=this.ttCtx,m=this.w;if(a.target.classList.contains("apexcharts-".concat(f,"-rect"))){var b=this.getAttr(a,"i"),w=this.getAttr(a,"j"),C=this.getAttr(a,"cx"),A=this.getAttr(a,"cy"),L=this.getAttr(a,"width"),P=this.getAttr(a,"height");if(p.tooltipLabels.drawSeriesTexts({ttItems:l.ttItems,i:b,j:w,shared:!1,e:a}),m.globals.capturedSeriesIndex=b,m.globals.capturedDataPointIndex=w,c=C+p.tooltipRect.ttWidth/2+L,d=A+p.tooltipRect.ttHeight/2-P/2,p.tooltipPosition.moveXCrosshairs(C+L/2),c>m.globals.gridWidth/2&&(c=C-p.tooltipRect.ttWidth/2+L),p.w.config.tooltip.followCursor){var O=m.globals.dom.elWrap.getBoundingClientRect();c=m.globals.clientX-O.left-(c>m.globals.gridWidth/2?p.tooltipRect.ttWidth:0),d=m.globals.clientY-O.top-(d>m.globals.gridHeight/2?p.tooltipRect.ttHeight:0)}}return{x:c,y:d}}},{key:"handleMarkerTooltip",value:function(s){var a,l,c=s.e,d=s.opt,f=s.x,p=s.y,m=this.w,b=this.ttCtx;if(c.target.classList.contains("apexcharts-marker")){var w=parseInt(d.paths.getAttribute("cx"),10),C=parseInt(d.paths.getAttribute("cy"),10),A=parseFloat(d.paths.getAttribute("val"));if(l=parseInt(d.paths.getAttribute("rel"),10),a=parseInt(d.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,b.intersect){var L=N.findAncestor(d.paths,"apexcharts-series");L&&(a=parseInt(L.getAttribute("data:realIndex"),10))}if(b.tooltipLabels.drawSeriesTexts({ttItems:d.ttItems,i:a,j:l,shared:!b.showOnIntersect&&m.config.tooltip.shared,e:c}),c.type==="mouseup"&&b.markerClick(c,a,l),m.globals.capturedSeriesIndex=a,m.globals.capturedDataPointIndex=l,f=w,p=C+m.globals.translateY-1.4*b.tooltipRect.ttHeight,b.w.config.tooltip.followCursor){var P=b.getElGrid().getBoundingClientRect();p=b.e.clientY+m.globals.translateY-P.top}A<0&&(p=C),b.marker.enlargeCurrentPoint(l,d.paths,f,p)}return{x:f,y:p}}},{key:"handleBarTooltip",value:function(s){var a,l,c=s.e,d=s.opt,f=this.w,p=this.ttCtx,m=p.getElTooltip(),b=0,w=0,C=0,A=this.getBarTooltipXY({e:c,opt:d});a=A.i;var L=A.barHeight,P=A.j;f.globals.capturedSeriesIndex=a,f.globals.capturedDataPointIndex=P,f.globals.isBarHorizontal&&p.tooltipUtil.hasBars()||!f.config.tooltip.shared?(w=A.x,C=A.y,l=Array.isArray(f.config.stroke.width)?f.config.stroke.width[a]:f.config.stroke.width,b=w):f.globals.comboCharts||f.config.tooltip.shared||(b/=2),isNaN(C)&&(C=f.globals.svgHeight-p.tooltipRect.ttHeight);var O=parseInt(d.paths.parentNode.getAttribute("data:realIndex"),10),D=f.globals.isMultipleYAxis?f.config.yaxis[O]&&f.config.yaxis[O].reversed:f.config.yaxis[0].reversed;if(w+p.tooltipRect.ttWidth>f.globals.gridWidth&&!D?w-=p.tooltipRect.ttWidth:w<0&&(w=0),p.w.config.tooltip.followCursor){var H=p.getElGrid().getBoundingClientRect();C=p.e.clientY-H.top}p.tooltip===null&&(p.tooltip=f.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),f.config.tooltip.shared||(f.globals.comboBarCount>0?p.tooltipPosition.moveXCrosshairs(b+l/2):p.tooltipPosition.moveXCrosshairs(b)),!p.fixedTooltip&&(!f.config.tooltip.shared||f.globals.isBarHorizontal&&p.tooltipUtil.hasBars())&&(D&&(w-=p.tooltipRect.ttWidth)<0&&(w=0),!D||f.globals.isBarHorizontal&&p.tooltipUtil.hasBars()||(C=C+L-2*(f.globals.series[a][P]<0?L:0)),C=C+f.globals.translateY-p.tooltipRect.ttHeight/2,m.style.left=w+f.globals.translateX+"px",m.style.top=C+"px")}},{key:"getBarTooltipXY",value:function(s){var a=this,l=s.e,c=s.opt,d=this.w,f=null,p=this.ttCtx,m=0,b=0,w=0,C=0,A=0,L=l.target.classList;if(L.contains("apexcharts-bar-area")||L.contains("apexcharts-candlestick-area")||L.contains("apexcharts-boxPlot-area")||L.contains("apexcharts-rangebar-area")){var P=l.target,O=P.getBoundingClientRect(),D=c.elGrid.getBoundingClientRect(),H=O.height;A=O.height;var X=O.width,v=parseInt(P.getAttribute("cx"),10),k=parseInt(P.getAttribute("cy"),10);C=parseFloat(P.getAttribute("barWidth"));var E=l.type==="touchmove"?l.touches[0].clientX:l.clientX;f=parseInt(P.getAttribute("j"),10),m=parseInt(P.parentNode.getAttribute("rel"),10)-1;var V=P.getAttribute("data-range-y1"),Y=P.getAttribute("data-range-y2");d.globals.comboCharts&&(m=parseInt(P.parentNode.getAttribute("data:realIndex"),10));var U=function(ee){return d.globals.isXNumeric?v-X/2:a.isVerticalGroupedRangeBar?v+X/2:v-p.dataPointsDividedWidth+X/2},J=function(){return k-p.dataPointsDividedHeight+H/2-p.tooltipRect.ttHeight/2};p.tooltipLabels.drawSeriesTexts({ttItems:c.ttItems,i:m,j:f,y1:V?parseInt(V,10):null,y2:Y?parseInt(Y,10):null,shared:!p.showOnIntersect&&d.config.tooltip.shared,e:l}),d.config.tooltip.followCursor?d.globals.isBarHorizontal?(b=E-D.left+15,w=J()):(b=U(),w=l.clientY-D.top-p.tooltipRect.ttHeight/2-15):d.globals.isBarHorizontal?((b=v)<p.xyRatios.baseLineInvertedY&&(b=v-p.tooltipRect.ttWidth),w=J()):(b=U(),w=k)}return{x:b,y:w,barHeight:A,barWidth:C,i:m,j:f}}}]),z}(),Yl=function(){function z(s){o(this,z),this.w=s.w,this.ttCtx=s}return u(z,[{key:"drawXaxisTooltip",value:function(){var s=this.w,a=this.ttCtx,l=s.config.xaxis.position==="bottom";a.xaxisOffY=l?s.globals.gridHeight+1:-s.globals.xAxisHeight-s.config.xaxis.axisTicks.height+3;var c=l?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",d=s.globals.dom.elWrap;a.isXAxisTooltipEnabled&&s.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(a.xaxisTooltip=document.createElement("div"),a.xaxisTooltip.setAttribute("class",c+" apexcharts-theme-"+s.config.tooltip.theme),d.appendChild(a.xaxisTooltip),a.xaxisTooltipText=document.createElement("div"),a.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),a.xaxisTooltipText.style.fontFamily=s.config.xaxis.tooltip.style.fontFamily||s.config.chart.fontFamily,a.xaxisTooltipText.style.fontSize=s.config.xaxis.tooltip.style.fontSize,a.xaxisTooltip.appendChild(a.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var s=this.w,a=this.ttCtx,l=function(d){var f=s.config.yaxis[d].opposite||s.config.yaxis[d].crosshairs.opposite;a.yaxisOffX=f?s.globals.gridWidth+1:1;var p="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(d,f?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");s.globals.yAxisSameScaleIndices.map(function(b,w){b.map(function(C,A){A===d&&(p+=s.config.yaxis[A].show?" ":" apexcharts-yaxistooltip-hidden")})});var m=s.globals.dom.elWrap;s.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(d))===null&&(a.yaxisTooltip=document.createElement("div"),a.yaxisTooltip.setAttribute("class",p+" apexcharts-theme-"+s.config.tooltip.theme),m.appendChild(a.yaxisTooltip),d===0&&(a.yaxisTooltipText=[]),a.yaxisTooltipText[d]=document.createElement("div"),a.yaxisTooltipText[d].classList.add("apexcharts-yaxistooltip-text"),a.yaxisTooltip.appendChild(a.yaxisTooltipText[d]))},c=0;c<s.config.yaxis.length;c++)l(c)}},{key:"setXCrosshairWidth",value:function(){var s=this.w,a=this.ttCtx,l=a.getElXCrosshairs();if(a.xcrosshairsWidth=parseInt(s.config.xaxis.crosshairs.width,10),s.globals.comboCharts){var c=s.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null&&s.config.xaxis.crosshairs.width==="barWidth"){var d=parseFloat(c.getAttribute("barWidth"));a.xcrosshairsWidth=d}else if(s.config.xaxis.crosshairs.width==="tickWidth"){var f=s.globals.labels.length;a.xcrosshairsWidth=s.globals.gridWidth/f}}else if(s.config.xaxis.crosshairs.width==="tickWidth"){var p=s.globals.labels.length;a.xcrosshairsWidth=s.globals.gridWidth/p}else if(s.config.xaxis.crosshairs.width==="barWidth"){var m=s.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(m!==null){var b=parseFloat(m.getAttribute("barWidth"));a.xcrosshairsWidth=b}else a.xcrosshairsWidth=1}s.globals.isBarHorizontal&&(a.xcrosshairsWidth=0),l!==null&&a.xcrosshairsWidth>0&&l.setAttribute("width",a.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var s=this.w,a=this.ttCtx;a.ycrosshairs=s.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),a.ycrosshairsHidden=s.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(s,a,l){var c=this.ttCtx,d=this.w,f=d.globals.yLabelFormatters[s];if(c.yaxisTooltips[s]){var p=c.getElGrid().getBoundingClientRect(),m=(a-p.top)*l.yRatio[s],b=d.globals.maxYArr[s]-d.globals.minYArr[s],w=d.globals.minYArr[s]+(b-m);c.tooltipPosition.moveYCrosshairs(a-p.top),c.yaxisTooltipText[s].innerHTML=f(w),c.tooltipPosition.moveYAxisTooltip(s)}}}]),z}(),Qn=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w;var a=this.w;this.tConfig=a.config.tooltip,this.tooltipUtil=new ji(this),this.tooltipLabels=new or(this),this.tooltipPosition=new is(this),this.marker=new Hs(this),this.intersect=new Xl(this),this.axesTooltip=new Yl(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!a.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return u(z,[{key:"getElTooltip",value:function(s){return s||(s=this),s.w.globals.dom.baseEl?s.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(s){var a=this.w;this.xyRatios=s,this.isXAxisTooltipEnabled=a.config.xaxis.tooltip.enabled&&a.globals.axisCharts,this.yaxisTooltips=a.config.yaxis.map(function(f,p){return!!(f.show&&f.tooltip.enabled&&a.globals.axisCharts)}),this.allTooltipSeriesGroups=[],a.globals.axisCharts||(this.showTooltipTitle=!1);var l=document.createElement("div");if(l.classList.add("apexcharts-tooltip"),a.config.tooltip.cssClass&&l.classList.add(a.config.tooltip.cssClass),l.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),a.globals.dom.elWrap.appendChild(l),a.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var c=new Mt(this.ctx);this.xAxisTicksPositions=c.getXAxisTicksPositions()}if(!a.globals.comboCharts&&!this.tConfig.intersect&&a.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),a.config.markers.size!==0&&a.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),a.globals.collapsedSeries.length!==a.globals.series.length){this.dataPointsDividedHeight=a.globals.gridHeight/a.globals.dataPoints,this.dataPointsDividedWidth=a.globals.gridWidth/a.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||a.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,l.appendChild(this.tooltipTitle));var d=a.globals.series.length;(a.globals.xyCharts||a.globals.comboCharts)&&this.tConfig.shared&&(d=this.showOnIntersect?1:a.globals.series.length),this.legendLabels=a.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(d),this.addSVGEvents()}}},{key:"createTTElements",value:function(s){for(var a=this,l=this.w,c=[],d=this.getElTooltip(),f=function(m){var b=document.createElement("div");b.classList.add("apexcharts-tooltip-series-group"),b.style.order=l.config.tooltip.inverseOrder?s-m:m+1,a.tConfig.shared&&a.tConfig.enabledOnSeries&&Array.isArray(a.tConfig.enabledOnSeries)&&a.tConfig.enabledOnSeries.indexOf(m)<0&&b.classList.add("apexcharts-tooltip-series-group-hidden");var w=document.createElement("span");w.classList.add("apexcharts-tooltip-marker"),w.style.backgroundColor=l.globals.colors[m],b.appendChild(w);var C=document.createElement("div");C.classList.add("apexcharts-tooltip-text"),C.style.fontFamily=a.tConfig.style.fontFamily||l.config.chart.fontFamily,C.style.fontSize=a.tConfig.style.fontSize,["y","goals","z"].forEach(function(A){var L=document.createElement("div");L.classList.add("apexcharts-tooltip-".concat(A,"-group"));var P=document.createElement("span");P.classList.add("apexcharts-tooltip-text-".concat(A,"-label")),L.appendChild(P);var O=document.createElement("span");O.classList.add("apexcharts-tooltip-text-".concat(A,"-value")),L.appendChild(O),C.appendChild(L)}),b.appendChild(C),d.appendChild(b),c.push(b)},p=0;p<s;p++)f(p);return c}},{key:"addSVGEvents",value:function(){var s=this.w,a=s.config.chart.type,l=this.getElTooltip(),c=!(a!=="bar"&&a!=="candlestick"&&a!=="boxPlot"&&a!=="rangeBar"),d=a==="area"||a==="line"||a==="scatter"||a==="bubble"||a==="radar",f=s.globals.dom.Paper.node,p=this.getElGrid();p&&(this.seriesBound=p.getBoundingClientRect());var m,b=[],w=[],C={hoverArea:f,elGrid:p,tooltipEl:l,tooltipY:b,tooltipX:w,ttItems:this.ttItems};if(s.globals.axisCharts&&(d?m=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):c?m=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):a!=="heatmap"&&a!=="treemap"||(m=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),m&&m.length))for(var A=0;A<m.length;A++)b.push(m[A].getAttribute("cy")),w.push(m[A].getAttribute("cx"));if(s.globals.xyCharts&&!this.showOnIntersect||s.globals.comboCharts&&!this.showOnIntersect||c&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([f],C);else if(c&&!s.globals.comboCharts||d&&this.showOnIntersect)this.addDatapointEventsListeners(C);else if(!s.globals.axisCharts||a==="heatmap"||a==="treemap"){var L=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(L,C)}if(this.showOnIntersect){var P=s.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");P.length>0&&this.addPathsEventListeners(P,C),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(C)}}},{key:"drawFixedTooltipRect",value:function(){var s=this.w,a=this.getElTooltip(),l=a.getBoundingClientRect(),c=l.width+10,d=l.height+10,f=this.tConfig.fixed.offsetX,p=this.tConfig.fixed.offsetY,m=this.tConfig.fixed.position.toLowerCase();return m.indexOf("right")>-1&&(f=f+s.globals.svgWidth-c+10),m.indexOf("bottom")>-1&&(p=p+s.globals.svgHeight-d-10),a.style.left=f+"px",a.style.top=p+"px",{x:f,y:p,ttWidth:c,ttHeight:d}}},{key:"addDatapointEventsListeners",value:function(s){var a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(a,s)}},{key:"addPathsEventListeners",value:function(s,a){for(var l=this,c=function(f){var p={paths:s[f],tooltipEl:a.tooltipEl,tooltipY:a.tooltipY,tooltipX:a.tooltipX,elGrid:a.elGrid,hoverArea:a.hoverArea,ttItems:a.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(m){return s[f].addEventListener(m,l.onSeriesHover.bind(l,p),{capture:!1,passive:!0})})},d=0;d<s.length;d++)c(d)}},{key:"onSeriesHover",value:function(s,a){var l=this,c=Date.now()-this.lastHoverTime;c>=100?this.seriesHover(s,a):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){l.seriesHover(s,a)},100-c))}},{key:"seriesHover",value:function(s,a){var l=this;this.lastHoverTime=Date.now();var c=[],d=this.w;d.config.chart.group&&(c=this.ctx.getGroupedCharts()),d.globals.axisCharts&&(d.globals.minX===-1/0&&d.globals.maxX===1/0||d.globals.dataPoints===0)||(c.length?c.forEach(function(f){var p=l.getElTooltip(f),m={paths:s.paths,tooltipEl:p,tooltipY:s.tooltipY,tooltipX:s.tooltipX,elGrid:s.elGrid,hoverArea:s.hoverArea,ttItems:f.w.globals.tooltip.ttItems};f.w.globals.minX===l.w.globals.minX&&f.w.globals.maxX===l.w.globals.maxX&&f.w.globals.tooltip.seriesHoverByContext({chartCtx:f,ttCtx:f.w.globals.tooltip,opt:m,e:a})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:s,e:a}))}},{key:"seriesHoverByContext",value:function(s){var a=s.chartCtx,l=s.ttCtx,c=s.opt,d=s.e,f=a.w,p=this.getElTooltip();p&&(l.tooltipRect={x:0,y:0,ttWidth:p.getBoundingClientRect().width,ttHeight:p.getBoundingClientRect().height},l.e=d,l.tooltipUtil.hasBars()&&!f.globals.comboCharts&&!l.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ke(a).toggleSeriesOnHover(d,d.target.parentNode),l.fixedTooltip&&l.drawFixedTooltipRect(),f.globals.axisCharts?l.axisChartsTooltips({e:d,opt:c,tooltipRect:l.tooltipRect}):l.nonAxisChartsTooltips({e:d,opt:c,tooltipRect:l.tooltipRect}))}},{key:"axisChartsTooltips",value:function(s){var a,l,c=s.e,d=s.opt,f=this.w,p=d.elGrid.getBoundingClientRect(),m=c.type==="touchmove"?c.touches[0].clientX:c.clientX,b=c.type==="touchmove"?c.touches[0].clientY:c.clientY;if(this.clientY=b,this.clientX=m,f.globals.capturedSeriesIndex=-1,f.globals.capturedDataPointIndex=-1,b<p.top||b>p.top+p.height)this.handleMouseOut(d);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!f.config.tooltip.shared){var w=parseInt(d.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(w)<0)return void this.handleMouseOut(d)}var C=this.getElTooltip(),A=this.getElXCrosshairs(),L=f.globals.xyCharts||f.config.chart.type==="bar"&&!f.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||f.globals.comboCharts&&this.tooltipUtil.hasBars();if(c.type==="mousemove"||c.type==="touchmove"||c.type==="mouseup"){if(f.globals.collapsedSeries.length+f.globals.ancillaryCollapsedSeries.length===f.globals.series.length)return;A!==null&&A.classList.add("apexcharts-active");var P=this.yaxisTooltips.filter(function(H){return H===!0});if(this.ycrosshairs!==null&&P.length&&this.ycrosshairs.classList.add("apexcharts-active"),L&&!this.showOnIntersect)this.handleStickyTooltip(c,m,b,d);else if(f.config.chart.type==="heatmap"||f.config.chart.type==="treemap"){var O=this.intersect.handleHeatTreeTooltip({e:c,opt:d,x:a,y:l,type:f.config.chart.type});a=O.x,l=O.y,C.style.left=a+"px",C.style.top=l+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:c,opt:d}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:c,opt:d,x:a,y:l});if(this.yaxisTooltips.length)for(var D=0;D<f.config.yaxis.length;D++)this.axesTooltip.drawYaxisTooltipText(D,b,this.xyRatios);d.tooltipEl.classList.add("apexcharts-active")}else c.type!=="mouseout"&&c.type!=="touchend"||this.handleMouseOut(d)}}},{key:"nonAxisChartsTooltips",value:function(s){var a=s.e,l=s.opt,c=s.tooltipRect,d=this.w,f=l.paths.getAttribute("rel"),p=this.getElTooltip(),m=d.globals.dom.elWrap.getBoundingClientRect();if(a.type==="mousemove"||a.type==="touchmove"){p.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:l.ttItems,i:parseInt(f,10)-1,shared:!1});var b=d.globals.clientX-m.left-c.ttWidth/2,w=d.globals.clientY-m.top-c.ttHeight-10;if(p.style.left=b+"px",p.style.top=w+"px",d.config.legend.tooltipHoverFormatter){var C=f-1,A=(0,d.config.legend.tooltipHoverFormatter)(this.legendLabels[C].getAttribute("data:default-text"),{seriesIndex:C,dataPointIndex:C,w:d});this.legendLabels[C].innerHTML=A}}else a.type!=="mouseout"&&a.type!=="touchend"||(p.classList.remove("apexcharts-active"),d.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(L){var P=L.getAttribute("data:default-text");L.innerHTML=decodeURIComponent(P)}))}},{key:"handleStickyTooltip",value:function(s,a,l,c){var d=this.w,f=this.tooltipUtil.getNearestValues({context:this,hoverArea:c.hoverArea,elGrid:c.elGrid,clientX:a,clientY:l}),p=f.j,m=f.capturedSeries;d.globals.collapsedSeriesIndices.includes(m)&&(m=null);var b=c.elGrid.getBoundingClientRect();if(f.hoverX<0||f.hoverX>b.width)this.handleMouseOut(c);else if(m!==null)this.handleStickyCapturedSeries(s,m,c,p);else if(this.tooltipUtil.isXoverlap(p)||d.globals.isBarHorizontal){var w=d.globals.series.findIndex(function(C,A){return!d.globals.collapsedSeriesIndices.includes(A)});this.create(s,this,w,p,c.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(s,a,l,c){var d=this.w;if(!this.tConfig.shared&&d.globals.series[a][c]===null)return void this.handleMouseOut(l);if(d.globals.series[a][c]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(c)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(s,this,a,c,l.ttItems):this.create(s,this,a,c,l.ttItems,!1);else if(this.tooltipUtil.isXoverlap(c)){var f=d.globals.series.findIndex(function(p,m){return!d.globals.collapsedSeriesIndices.includes(m)});this.create(s,this,f,c,l.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var s=this.w,a=new _(this.ctx),l=s.globals.dom.Paper.select(".apexcharts-bar-area"),c=0;c<l.length;c++)a.pathMouseLeave(l[c])}},{key:"handleMouseOut",value:function(s){var a=this.w,l=this.getElXCrosshairs();if(s.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),a.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),l!==null&&l.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=a.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var c=0;c<this.yaxisTTEls.length;c++)this.yaxisTTEls[c].classList.remove("apexcharts-active")}a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(d){var f=d.getAttribute("data:default-text");d.innerHTML=decodeURIComponent(f)})}},{key:"markerClick",value:function(s,a,l){var c=this.w;typeof c.config.chart.events.markerClick=="function"&&c.config.chart.events.markerClick(s,this.ctx,{seriesIndex:a,dataPointIndex:l,w:c}),this.ctx.events.fireEvent("markerClick",[s,this.ctx,{seriesIndex:a,dataPointIndex:l,w:c}])}},{key:"create",value:function(s,a,l,c,d){var f,p,m,b,w,C,A,L,P,O,D,H,X,v,k,E,V=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Y=this.w,U=a;s.type==="mouseup"&&this.markerClick(s,l,c),V===null&&(V=this.tConfig.shared);var J=this.tooltipUtil.hasMarkers(l),ee=this.tooltipUtil.getElBars();if(Y.config.legend.tooltipHoverFormatter){var ae=Y.config.legend.tooltipHoverFormatter,ce=Array.from(this.legendLabels);ce.forEach(function(Ri){var Yi=Ri.getAttribute("data:default-text");Ri.innerHTML=decodeURIComponent(Yi)});for(var ue=0;ue<ce.length;ue++){var be=ce[ue],Le=parseInt(be.getAttribute("i"),10),Re=decodeURIComponent(be.getAttribute("data:default-text")),Ne=ae(Re,{seriesIndex:V?Le:l,dataPointIndex:c,w:Y});if(V)be.innerHTML=Y.globals.collapsedSeriesIndices.indexOf(Le)<0?Ne:Re;else if(be.innerHTML=Le===l?Ne:Re,l===Le)break}}var Ye=i(i({ttItems:d,i:l,j:c},((f=Y.globals.seriesRange)===null||f===void 0||(p=f[l])===null||p===void 0||(m=p[c])===null||m===void 0||(b=m.y[0])===null||b===void 0?void 0:b.y1)!==void 0&&{y1:(w=Y.globals.seriesRange)===null||w===void 0||(C=w[l])===null||C===void 0||(A=C[c])===null||A===void 0||(L=A.y[0])===null||L===void 0?void 0:L.y1}),((P=Y.globals.seriesRange)===null||P===void 0||(O=P[l])===null||O===void 0||(D=O[c])===null||D===void 0||(H=D.y[0])===null||H===void 0?void 0:H.y2)!==void 0&&{y2:(X=Y.globals.seriesRange)===null||X===void 0||(v=X[l])===null||v===void 0||(k=v[c])===null||k===void 0||(E=k.y[0])===null||E===void 0?void 0:E.y2});if(V){if(U.tooltipLabels.drawSeriesTexts(i(i({},Ye),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),J)Y.globals.markers.largestSize>0?U.marker.enlargePoints(c):U.tooltipPosition.moveDynamicPointsOnHover(c);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(ee),this.barSeriesHeight>0)){var vt=new _(this.ctx),ot=Y.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(c,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(c,l);for(var St=0;St<ot.length;St++)vt.pathMouseEnter(ot[St])}}else U.tooltipLabels.drawSeriesTexts(i({shared:!1},Ye)),this.tooltipUtil.hasBars()&&U.tooltipPosition.moveStickyTooltipOverBars(c,l),J&&U.tooltipPosition.moveMarkers(l,c)}}]),z}(),Gl=function(){function z(s){o(this,z),this.w=s.w,this.barCtx=s,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return u(z,[{key:"handleBarDataLabels",value:function(s){var a=s.x,l=s.y,c=s.y1,d=s.y2,f=s.i,p=s.j,m=s.realIndex,b=s.groupIndex,w=s.series,C=s.barHeight,A=s.barWidth,L=s.barXPosition,P=s.barYPosition,O=s.visibleSeries,D=s.renderedPath,H=this.w,X=new _(this.barCtx.ctx),v=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[m]:this.barCtx.strokeWidth,k=a+parseFloat(A*O),E=l+parseFloat(C*O);H.globals.isXNumeric&&!H.globals.isBarHorizontal&&(k=a+parseFloat(A*(O+1)),E=l+parseFloat(C*(O+1))-v);var V,Y=null,U=a,J=l,ee={},ae=H.config.dataLabels,ce=this.barCtx.barOptions.dataLabels,ue=this.barCtx.barOptions.dataLabels.total;P!==void 0&&this.barCtx.isRangeBar&&(E=P,J=P),L!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(k=L,U=L);var be=ae.offsetX,Le=ae.offsetY,Re={width:0,height:0};if(H.config.dataLabels.enabled){var Ne=this.barCtx.series[f][p];Re=X.getTextRects(H.globals.yLabelFormatters[0](Ne),parseFloat(ae.style.fontSize))}var Ye={x:a,y:l,i:f,j:p,realIndex:m,groupIndex:b||-1,renderedPath:D,bcx:k,bcy:E,barHeight:C,barWidth:A,textRects:Re,strokeWidth:v,dataLabelsX:U,dataLabelsY:J,dataLabelsConfig:ae,barDataLabelsConfig:ce,barTotalDataLabelsConfig:ue,offX:be,offY:Le};return ee=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Ye):this.calculateColumnsDataLabelsPosition(Ye),D.attr({cy:ee.bcy,cx:ee.bcx,j:p,val:w[f][p],barHeight:C,barWidth:A}),V=this.drawCalculatedDataLabels({x:ee.dataLabelsX,y:ee.dataLabelsY,val:this.barCtx.isRangeBar?[c,d]:w[f][p],i:m,j:p,barWidth:A,barHeight:C,textRects:Re,dataLabelsConfig:ae}),H.config.chart.stacked&&ue.enabled&&(Y=this.drawTotalDataLabels({x:ee.totalDataLabelsX,y:ee.totalDataLabelsY,realIndex:m,textAnchor:ee.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:m,j:p}),dataLabelsConfig:ae,barTotalDataLabelsConfig:ue})),{dataLabels:V,totalDataLabels:Y}}},{key:"getStackedTotalDataLabel",value:function(s){var a=s.realIndex,l=s.j,c=this.w,d=this.barCtx.stackedSeriesTotals[l];return this.totalFormatter&&(d=this.totalFormatter(d,i(i({},c),{},{seriesIndex:a,dataPointIndex:l,w:c}))),d}},{key:"calculateColumnsDataLabelsPosition",value:function(s){var a,l,c=this.w,d=s.i,f=s.j,p=s.realIndex,m=s.groupIndex,b=s.y,w=s.bcx,C=s.barWidth,A=s.barHeight,L=s.textRects,P=s.dataLabelsX,O=s.dataLabelsY,D=s.dataLabelsConfig,H=s.barDataLabelsConfig,X=s.barTotalDataLabelsConfig,v=s.strokeWidth,k=s.offX,E=s.offY;A=Math.abs(A);var V=c.config.plotOptions.bar.dataLabels.orientation==="vertical";w=w-v/2+(m!==-1?m*C:0);var Y=c.globals.gridWidth/c.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?P+=C/2:P=c.globals.isXNumeric?w-C/2+k:w-Y+C/2+k,V&&(P=P+L.height/2-v/2-2);var U=this.barCtx.series[d][f]<0,J=b;switch(this.barCtx.isReversed&&(J=b-A+(U?2*A:0),b-=A),H.position){case"center":O=V?U?J+A/2+E:J+A/2-E:U?J-A/2+L.height/2+E:J+A/2+L.height/2-E;break;case"bottom":O=V?U?J+A+E:J+A-E:U?J-A+L.height+v+E:J+A-L.height/2+v-E;break;case"top":O=V?U?J+E:J-E:U?J-L.height/2-E:J+L.height+E}if(this.barCtx.lastActiveBarSerieIndex===p&&X.enabled){var ee=new _(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:p,j:f}),D.fontSize);a=U?J-ee.height/2-E-X.offsetY+18:J+ee.height+E+X.offsetY-18,l=P+X.offsetX}return c.config.chart.stacked||(O<0?O=0+v:O+L.height/3>c.globals.gridHeight&&(O=c.globals.gridHeight-v)),{bcx:w,bcy:b,dataLabelsX:P,dataLabelsY:O,totalDataLabelsX:l,totalDataLabelsY:a,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(s){var a=this.w,l=s.x,c=s.i,d=s.j,f=s.realIndex,p=s.groupIndex,m=s.bcy,b=s.barHeight,w=s.barWidth,C=s.textRects,A=s.dataLabelsX,L=s.strokeWidth,P=s.dataLabelsConfig,O=s.barDataLabelsConfig,D=s.barTotalDataLabelsConfig,H=s.offX,X=s.offY,v=a.globals.gridHeight/a.globals.dataPoints;w=Math.abs(w);var k,E,V=(m+=p!==-1?p*b:0)-(this.barCtx.isRangeBar?0:v)+b/2+C.height/2+X-3,Y="start",U=this.barCtx.series[c][d]<0,J=l;switch(this.barCtx.isReversed&&(J=l+w-(U?2*w:0),l=a.globals.gridWidth-w),O.position){case"center":A=U?J+w/2-H:Math.max(C.width/2,J-w/2)+H;break;case"bottom":A=U?J+w-L-Math.round(C.width/2)-H:J-w+L+Math.round(C.width/2)+H;break;case"top":A=U?J-L+Math.round(C.width/2)-H:J-L-Math.round(C.width/2)+H}if(this.barCtx.lastActiveBarSerieIndex===f&&D.enabled){var ee=new _(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:f,j:d}),P.fontSize);U?(k=J-L+Math.round(ee.width/2)-H-D.offsetX-15,Y="end"):k=J-L-Math.round(ee.width/2)+H+D.offsetX+15,E=V+D.offsetY}return a.config.chart.stacked||(A<0?A=A+C.width+L:A+C.width/2>a.globals.gridWidth&&(A=a.globals.gridWidth-C.width-L)),{bcx:l,bcy:m,dataLabelsX:A,dataLabelsY:V,totalDataLabelsX:k,totalDataLabelsY:E,totalDataLabelsAnchor:Y}}},{key:"drawCalculatedDataLabels",value:function(s){var a=s.x,l=s.y,c=s.val,d=s.i,f=s.j,p=s.textRects,m=s.barHeight,b=s.barWidth,w=s.dataLabelsConfig,C=this.w,A="rotate(0)";C.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(A="rotate(-90, ".concat(a,", ").concat(l,")"));var L=new Ae(this.barCtx.ctx),P=new _(this.barCtx.ctx),O=w.formatter,D=null,H=C.globals.collapsedSeriesIndices.indexOf(d)>-1;if(w.enabled&&!H){D=P.group({class:"apexcharts-data-labels",transform:A});var X="";c!==void 0&&(X=O(c,i(i({},C),{},{seriesIndex:d,dataPointIndex:f,w:C}))),!c&&C.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(X="");var v=C.globals.series[d][f]<0,k=C.config.plotOptions.bar.dataLabels.position;C.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(k==="top"&&(w.textAnchor=v?"end":"start"),k==="center"&&(w.textAnchor="middle"),k==="bottom"&&(w.textAnchor=v?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&b<P.getTextRects(X,parseFloat(w.style.fontSize)).width&&(X=""),C.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?p.width/1.6>Math.abs(b)&&(X=""):p.height/1.6>Math.abs(m)&&(X=""));var E=i({},w);this.barCtx.isHorizontal&&c<0&&(w.textAnchor==="start"?E.textAnchor="end":w.textAnchor==="end"&&(E.textAnchor="start")),L.plotDataLabelsText({x:a,y:l,text:X,i:d,j:f,parent:D,dataLabelsConfig:E,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return D}},{key:"drawTotalDataLabels",value:function(s){var a,l=s.x,c=s.y,d=s.val,f=s.realIndex,p=s.textAnchor,m=s.barTotalDataLabelsConfig,b=new _(this.barCtx.ctx);return m.enabled&&l!==void 0&&c!==void 0&&this.barCtx.lastActiveBarSerieIndex===f&&(a=b.drawText({x:l,y:c,foreColor:m.style.color,text:d,textAnchor:p,fontFamily:m.style.fontFamily,fontSize:m.style.fontSize,fontWeight:m.style.fontWeight})),a}}]),z}(),Ul=function(){function z(s){o(this,z),this.w=s.w,this.barCtx=s}return u(z,[{key:"initVariables",value:function(s){var a=this.w;this.barCtx.series=s,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var l=0;l<s.length;l++)if(s[l].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=s[l].length),a.globals.isXNumeric)for(var c=0;c<s[l].length;c++)a.globals.seriesX[l][c]>a.globals.minX&&a.globals.seriesX[l][c]<a.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=a.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],a.globals.comboCharts||this.checkZeroSeries({series:s})}},{key:"initialPositions",value:function(){var s,a,l,c,d,f,p,m,b=this.w,w=b.globals.dataPoints;this.barCtx.isRangeBar&&(w=b.globals.labels.length);var C=this.barCtx.seriesLen;if(b.config.plotOptions.bar.rangeBarGroupRows&&(C=1),this.barCtx.isHorizontal)d=(l=b.globals.gridHeight/w)/C,b.globals.isXNumeric&&(d=(l=b.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),d=d*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(d=parseInt(this.barCtx.barOptions.barHeight,10)),m=this.barCtx.baseLineInvertedY+b.globals.padHorizontal+(this.barCtx.isReversed?b.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(m=b.globals.gridWidth/2),a=(l-d*this.barCtx.seriesLen)/2;else{if(c=b.globals.gridWidth/this.barCtx.visibleItems,b.config.xaxis.convertedCatToNumeric&&(c=b.globals.gridWidth/b.globals.dataPoints),f=c/C*parseInt(this.barCtx.barOptions.columnWidth,10)/100,b.globals.isXNumeric){var A=this.barCtx.xRatio;b.config.xaxis.convertedCatToNumeric&&(A=this.barCtx.initialXRatio),b.globals.minXDiff&&b.globals.minXDiff!==.5&&b.globals.minXDiff/A>0&&(c=b.globals.minXDiff/A),(f=c/C*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(f=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(f=parseInt(this.barCtx.barOptions.columnWidth,10)),p=b.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?b.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),s=b.globals.padHorizontal+(c-f*this.barCtx.seriesLen)/2}return{x:s,y:a,yDivision:l,xDivision:c,barHeight:d,barWidth:f,zeroH:p,zeroW:m}}},{key:"initializeStackedPrevVars",value:function(s){var a=s.w;a.globals.hasSeriesGroups?a.globals.seriesGroups.forEach(function(l){s[l]||(s[l]={}),s[l].prevY=[],s[l].prevX=[],s[l].prevYF=[],s[l].prevXF=[],s[l].prevYVal=[],s[l].prevXVal=[]}):(s.prevY=[],s.prevX=[],s.prevYF=[],s.prevXF=[],s.prevYVal=[],s.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(s){var a=s.w;a.globals.hasSeriesGroups?a.globals.seriesGroups.forEach(function(l){s[l]||(s[l]={}),s[l].xArrj=[],s[l].xArrjF=[],s[l].xArrjVal=[],s[l].yArrj=[],s[l].yArrjF=[],s[l].yArrjVal=[]}):(s.xArrj=[],s.xArrjF=[],s.xArrjVal=[],s.yArrj=[],s.yArrjF=[],s.yArrjVal=[])}},{key:"getPathFillColor",value:function(s,a,l,c){var d,f,p,m,b=this.w,w=new Se(this.barCtx.ctx),C=null,A=this.barCtx.barOptions.distributed?l:a;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(L){s[a][l]>=L.from&&s[a][l]<=L.to&&(C=L.color)}),b.config.series[a].data[l]&&b.config.series[a].data[l].fillColor&&(C=b.config.series[a].data[l].fillColor),w.fillPath({seriesNumber:this.barCtx.barOptions.distributed?A:c,dataPointIndex:l,color:C,value:s[a][l],fillConfig:(d=b.config.series[a].data[l])===null||d===void 0?void 0:d.fill,fillType:(f=b.config.series[a].data[l])!==null&&f!==void 0&&(p=f.fill)!==null&&p!==void 0&&p.type?(m=b.config.series[a].data[l])===null||m===void 0?void 0:m.fill.type:b.config.fill.type})}},{key:"getStrokeWidth",value:function(s,a,l){var c=0,d=this.w;return this.barCtx.series[s][a]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,d.config.stroke.show&&(this.barCtx.isNullValue||(c=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[l]:this.barCtx.strokeWidth)),c}},{key:"shouldApplyRadius",value:function(s){var a=this.w,l=!1;return a.config.plotOptions.bar.borderRadius>0&&(a.config.chart.stacked&&a.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===s&&(l=!0):l=!0),l}},{key:"barBackground",value:function(s){var a=s.j,l=s.i,c=s.x1,d=s.x2,f=s.y1,p=s.y2,m=s.elSeries,b=this.w,w=new _(this.barCtx.ctx),C=new Ke(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&C===l){a>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(a%=this.barCtx.barOptions.colors.backgroundBarColors.length);var A=this.barCtx.barOptions.colors.backgroundBarColors[a],L=w.drawRect(c!==void 0?c:0,f!==void 0?f:0,d!==void 0?d:b.globals.gridWidth,p!==void 0?p:b.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,A,this.barCtx.barOptions.colors.backgroundBarOpacity);m.add(L),L.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(s){var a,l=s.barWidth,c=s.barXPosition,d=s.y1,f=s.y2,p=s.strokeWidth,m=s.seriesGroup,b=s.realIndex,w=s.i,C=s.j,A=s.w,L=new _(this.barCtx.ctx);(p=Array.isArray(p)?p[b]:p)||(p=0);var P=l,O=c;(a=A.config.series[b].data[C])!==null&&a!==void 0&&a.columnWidthOffset&&(O=c-A.config.series[b].data[C].columnWidthOffset/2,P=l+A.config.series[b].data[C].columnWidthOffset);var D=O,H=O+P;d+=.001,f+=.001;var X=L.move(D,d),v=L.move(D,d),k=L.line(H-p,d);if(A.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(b,C,!1)),X=X+L.line(D,f)+L.line(H-p,f)+L.line(H-p,d)+(A.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),v=v+L.line(D,d)+k+k+k+k+k+L.line(D,d)+(A.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(b)&&(X=L.roundPathCorners(X,A.config.plotOptions.bar.borderRadius)),A.config.chart.stacked){var E=this.barCtx;A.globals.hasSeriesGroups&&m&&(E=this.barCtx[m]),E.yArrj.push(f),E.yArrjF.push(Math.abs(d-f)),E.yArrjVal.push(this.barCtx.series[w][C])}return{pathTo:X,pathFrom:v}}},{key:"getBarpaths",value:function(s){var a,l=s.barYPosition,c=s.barHeight,d=s.x1,f=s.x2,p=s.strokeWidth,m=s.seriesGroup,b=s.realIndex,w=s.i,C=s.j,A=s.w,L=new _(this.barCtx.ctx);(p=Array.isArray(p)?p[b]:p)||(p=0);var P=l,O=c;(a=A.config.series[b].data[C])!==null&&a!==void 0&&a.barHeightOffset&&(P=l-A.config.series[b].data[C].barHeightOffset/2,O=c+A.config.series[b].data[C].barHeightOffset);var D=P,H=P+O;d+=.001,f+=.001;var X=L.move(d,D),v=L.move(d,D);A.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(b,C,!1));var k=L.line(d,H-p);if(X=X+L.line(f,D)+L.line(f,H-p)+k+(A.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),v=v+L.line(d,D)+k+k+k+k+k+L.line(d,D)+(A.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(b)&&(X=L.roundPathCorners(X,A.config.plotOptions.bar.borderRadius)),A.config.chart.stacked){var E=this.barCtx;A.globals.hasSeriesGroups&&m&&(E=this.barCtx[m]),E.xArrj.push(f),E.xArrjF.push(Math.abs(d-f)),E.xArrjVal.push(this.barCtx.series[w][C])}return{pathTo:X,pathFrom:v}}},{key:"checkZeroSeries",value:function(s){for(var a=s.series,l=this.w,c=0;c<a.length;c++){for(var d=0,f=0;f<a[l.globals.maxValsInArrayIndex].length;f++)d+=a[c][f];d===0&&this.barCtx.zeroSerieses.push(c)}}},{key:"getXForValue",value:function(s,a){var l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?a:null;return s!=null&&(l=a+s/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?s/this.barCtx.invertedYRatio:0)),l}},{key:"getYForValue",value:function(s,a){var l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?a:null;return s!=null&&(l=a-s/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?s/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),l}},{key:"getGoalValues",value:function(s,a,l,c,d){var f=this,p=this.w,m=[],b=function(A,L){var P;m.push((g(P={},s,s==="x"?f.getXForValue(A,a,!1):f.getYForValue(A,l,!1)),g(P,"attrs",L),P))};if(p.globals.seriesGoals[c]&&p.globals.seriesGoals[c][d]&&Array.isArray(p.globals.seriesGoals[c][d])&&p.globals.seriesGoals[c][d].forEach(function(A){b(A.value,A)}),this.barCtx.barOptions.isDumbbell&&p.globals.seriesRange.length){var w=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:p.globals.colors,C={strokeHeight:s==="x"?0:p.globals.markers.size[c],strokeWidth:s==="x"?p.globals.markers.size[c]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(w[c])?w[c][0]:w[c]};b(p.globals.seriesRangeStart[c][d],C),b(p.globals.seriesRangeEnd[c][d],i(i({},C),{},{strokeColor:Array.isArray(w[c])?w[c][1]:w[c]}))}return m}},{key:"drawGoalLine",value:function(s){var a=s.barXPosition,l=s.barYPosition,c=s.goalX,d=s.goalY,f=s.barWidth,p=s.barHeight,m=new _(this.barCtx.ctx),b=m.group({className:"apexcharts-bar-goals-groups"});b.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:b.node}),b.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var w=null;return this.barCtx.isHorizontal?Array.isArray(c)&&c.forEach(function(C){var A=C.attrs.strokeHeight!==void 0?C.attrs.strokeHeight:p/2,L=l+A+p/2;w=m.drawLine(C.x,L-2*A,C.x,L,C.attrs.strokeColor?C.attrs.strokeColor:void 0,C.attrs.strokeDashArray,C.attrs.strokeWidth?C.attrs.strokeWidth:2,C.attrs.strokeLineCap),b.add(w)}):Array.isArray(d)&&d.forEach(function(C){var A=C.attrs.strokeWidth!==void 0?C.attrs.strokeWidth:f/2,L=a+A+f/2;w=m.drawLine(L-2*A,C.y,L,C.y,C.attrs.strokeColor?C.attrs.strokeColor:void 0,C.attrs.strokeDashArray,C.attrs.strokeHeight?C.attrs.strokeHeight:2,C.attrs.strokeLineCap),b.add(w)}),b}},{key:"drawBarShadow",value:function(s){var a=s.prevPaths,l=s.currPaths,c=s.color,d=this.w,f=a.x,p=a.x1,m=a.barYPosition,b=l.x,w=l.x1,C=l.barYPosition,A=m+l.barHeight,L=new _(this.barCtx.ctx),P=new N,O=L.move(p,A)+L.line(f,A)+L.line(b,C)+L.line(w,C)+L.line(p,A)+(d.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z");return L.drawPath({d:O,fill:P.shadeColor(.5,N.rgb2hex(c)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}}]),z}(),lr=function(){function z(s,a){o(this,z),this.ctx=s,this.w=s.w;var l=this.w;this.barOptions=l.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=l.config.stroke.width,this.isNullValue=!1,this.isRangeBar=l.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!l.globals.isBarHorizontal&&l.globals.seriesRange.length&&l.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=a,this.xyRatios!==null&&(this.xRatio=a.xRatio,this.initialXRatio=a.initialXRatio,this.yRatio=a.yRatio,this.invertedXRatio=a.invertedXRatio,this.invertedYRatio=a.invertedYRatio,this.baseLineY=a.baseLineY,this.baseLineInvertedY=a.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var c=new Ke(this.ctx);this.lastActiveBarSerieIndex=c.getActiveConfigSeriesIndex("desc",["bar","column"]);var d=c.getBarSeriesIndices(),f=new Q(this.ctx);this.stackedSeriesTotals=f.getStackedSeriesTotals(this.w.config.series.map(function(p,m){return d.indexOf(m)===-1?m:-1}).filter(function(p){return p!==-1})),this.barHelpers=new Ul(this)}return u(z,[{key:"draw",value:function(s,a){var l=this.w,c=new _(this.ctx),d=new Q(this.ctx,l);s=d.getLogSeries(s),this.series=s,this.yRatio=d.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s);var f=c.group({class:"apexcharts-bar-series apexcharts-plot-series"});l.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var p=0,m=0;p<s.length;p++,m++){var b,w,C,A,L=void 0,P=void 0,O=[],D=[],H=l.globals.comboCharts?a[p]:p,X=c.group({class:"apexcharts-series",rel:p+1,seriesName:N.escapeString(l.globals.seriesNames[H]),"data:realIndex":H});this.ctx.series.addCollapsedClassToSeries(X,H),s[p].length>0&&(this.visibleI=this.visibleI+1);var v=0,k=0;this.yRatio.length>1&&(this.yaxisIndex=H),this.isReversed=l.config.yaxis[this.yaxisIndex]&&l.config.yaxis[this.yaxisIndex].reversed;var E=this.barHelpers.initialPositions();P=E.y,v=E.barHeight,w=E.yDivision,A=E.zeroW,L=E.x,k=E.barWidth,b=E.xDivision,C=E.zeroH,this.horizontal||D.push(L+k/2);var V=c.group({class:"apexcharts-datalabels","data:realIndex":H});l.globals.delayedElements.push({el:V.node}),V.node.classList.add("apexcharts-element-hidden");var Y=c.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),U=c.group({class:"apexcharts-bar-shadows",style:"pointer-events: none"});l.globals.delayedElements.push({el:U.node}),U.node.classList.add("apexcharts-element-hidden");for(var J=0;J<l.globals.dataPoints;J++){var ee=this.barHelpers.getStrokeWidth(p,J,H),ae=null,ce={indexes:{i:p,j:J,realIndex:H,bc:m},x:L,y:P,strokeWidth:ee,elSeries:X};this.isHorizontal?(ae=this.drawBarPaths(i(i({},ce),{},{barHeight:v,zeroW:A,yDivision:w})),k=this.series[p][J]/this.invertedYRatio):(ae=this.drawColumnPaths(i(i({},ce),{},{xDivision:b,barWidth:k,zeroH:C})),v=this.series[p][J]/this.yRatio[this.yaxisIndex]);var ue=this.barHelpers.getPathFillColor(s,p,J,H);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&J>0){var be=this.barHelpers.drawBarShadow({color:typeof ue=="string"&&(ue==null?void 0:ue.indexOf("url"))===-1?ue:N.hexToRgba(l.globals.colors[p]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:ae});be&&U.add(be)}this.pathArr.push(ae);var Le=this.barHelpers.drawGoalLine({barXPosition:ae.barXPosition,barYPosition:ae.barYPosition,goalX:ae.goalX,goalY:ae.goalY,barHeight:v,barWidth:k});Le&&Y.add(Le),P=ae.y,L=ae.x,J>0&&D.push(L+k/2),O.push(P),this.renderSeries({realIndex:H,pathFill:ue,j:J,i:p,pathFrom:ae.pathFrom,pathTo:ae.pathTo,strokeWidth:ee,elSeries:X,x:L,y:P,series:s,barHeight:ae.barHeight?ae.barHeight:v,barWidth:ae.barWidth?ae.barWidth:k,elDataLabelsWrap:V,elGoalsMarkers:Y,elBarShadows:U,visibleSeries:this.visibleI,type:"bar"})}l.globals.seriesXvalues[H]=D,l.globals.seriesYvalues[H]=O,f.add(X)}return f}},{key:"renderSeries",value:function(s){var a=s.realIndex,l=s.pathFill,c=s.lineFill,d=s.j,f=s.i,p=s.groupIndex,m=s.pathFrom,b=s.pathTo,w=s.strokeWidth,C=s.elSeries,A=s.x,L=s.y,P=s.y1,O=s.y2,D=s.series,H=s.barHeight,X=s.barWidth,v=s.barXPosition,k=s.barYPosition,E=s.elDataLabelsWrap,V=s.elGoalsMarkers,Y=s.elBarShadows,U=s.visibleSeries,J=s.type,ee=this.w,ae=new _(this.ctx);c||(c=this.barOptions.distributed?ee.globals.stroke.colors[d]:ee.globals.stroke.colors[a]),ee.config.series[f].data[d]&&ee.config.series[f].data[d].strokeColor&&(c=ee.config.series[f].data[d].strokeColor),this.isNullValue&&(l="none");var ce=d/ee.config.chart.animations.animateGradually.delay*(ee.config.chart.animations.speed/ee.globals.dataPoints)/2.4,ue=ae.renderPaths({i:f,j:d,realIndex:a,pathFrom:m,pathTo:b,stroke:c,strokeWidth:w,strokeLineCap:ee.config.stroke.lineCap,fill:l,animationDelay:ce,initialSpeed:ee.config.chart.animations.speed,dataChangeSpeed:ee.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(J,"-area")});ue.attr("clip-path","url(#gridRectMask".concat(ee.globals.cuid,")"));var be=ee.config.forecastDataPoints;be.count>0&&d>=ee.globals.dataPoints-be.count&&(ue.node.setAttribute("stroke-dasharray",be.dashArray),ue.node.setAttribute("stroke-width",be.strokeWidth),ue.node.setAttribute("fill-opacity",be.fillOpacity)),P!==void 0&&O!==void 0&&(ue.attr("data-range-y1",P),ue.attr("data-range-y2",O)),new K(this.ctx).setSelectionFilter(ue,a,d),C.add(ue);var Le=new Gl(this).handleBarDataLabels({x:A,y:L,y1:P,y2:O,i:f,j:d,series:D,realIndex:a,groupIndex:p,barHeight:H,barWidth:X,barXPosition:v,barYPosition:k,renderedPath:ue,visibleSeries:U});return Le.dataLabels!==null&&E.add(Le.dataLabels),Le.totalDataLabels&&E.add(Le.totalDataLabels),C.add(E),V&&C.add(V),Y&&C.add(Y),C}},{key:"drawBarPaths",value:function(s){var a,l=s.indexes,c=s.barHeight,d=s.strokeWidth,f=s.zeroW,p=s.x,m=s.y,b=s.yDivision,w=s.elSeries,C=this.w,A=l.i,L=l.j;if(C.globals.isXNumeric)a=(m=(C.globals.seriesX[A][L]-C.globals.minX)/this.invertedXRatio-c)+c*this.visibleI;else if(C.config.plotOptions.bar.hideZeroBarsWhenGrouped){var P=0,O=0;C.globals.seriesPercent.forEach(function(H,X){H[L]&&P++,X<A&&H[L]===0&&O++}),P>0&&(c=this.seriesLen*c/P),a=m+c*this.visibleI,a-=c*O}else a=m+c*this.visibleI;this.isFunnel&&(f-=(this.barHelpers.getXForValue(this.series[A][L],f)-f)/2),p=this.barHelpers.getXForValue(this.series[A][L],f);var D=this.barHelpers.getBarpaths({barYPosition:a,barHeight:c,x1:f,x2:p,strokeWidth:d,series:this.series,realIndex:l.realIndex,i:A,j:L,w:C});return C.globals.isXNumeric||(m+=b),this.barHelpers.barBackground({j:L,i:A,y1:a-c*this.visibleI,y2:c*this.seriesLen,elSeries:w}),{pathTo:D.pathTo,pathFrom:D.pathFrom,x1:f,x:p,y:m,goalX:this.barHelpers.getGoalValues("x",f,null,A,L),barYPosition:a,barHeight:c}}},{key:"drawColumnPaths",value:function(s){var a,l=s.indexes,c=s.x,d=s.y,f=s.xDivision,p=s.barWidth,m=s.zeroH,b=s.strokeWidth,w=s.elSeries,C=this.w,A=l.realIndex,L=l.i,P=l.j,O=l.bc;if(C.globals.isXNumeric){var D=A;C.globals.seriesX[A].length||(D=C.globals.maxValsInArrayIndex),C.globals.seriesX[D][P]&&(c=(C.globals.seriesX[D][P]-C.globals.minX)/this.xRatio-p*this.seriesLen/2),a=c+p*this.visibleI}else if(C.config.plotOptions.bar.hideZeroBarsWhenGrouped){var H=0,X=0;C.globals.seriesPercent.forEach(function(k,E){k[P]&&H++,E<L&&k[P]===0&&X++}),H>0&&(p=this.seriesLen*p/H),a=c+p*this.visibleI,a-=p*X}else a=c+p*this.visibleI;d=this.barHelpers.getYForValue(this.series[L][P],m);var v=this.barHelpers.getColumnPaths({barXPosition:a,barWidth:p,y1:m,y2:d,strokeWidth:b,series:this.series,realIndex:l.realIndex,i:L,j:P,w:C});return C.globals.isXNumeric||(c+=f),this.barHelpers.barBackground({bc:O,j:P,i:L,x1:a-b/2-p*this.visibleI,x2:p*this.seriesLen+b/2,elSeries:w}),{pathTo:v.pathTo,pathFrom:v.pathFrom,x:c,y:d,goalY:this.barHelpers.getGoalValues("y",null,m,L,P),barXPosition:a,barWidth:p}}},{key:"getPreviousPath",value:function(s,a){for(var l,c=this.w,d=0;d<c.globals.previousPaths.length;d++){var f=c.globals.previousPaths[d];f.paths&&f.paths.length>0&&parseInt(f.realIndex,10)===parseInt(s,10)&&c.globals.previousPaths[d].paths[a]!==void 0&&(l=c.globals.previousPaths[d].paths[a].d)}return l}}]),z}(),ea=function(z){y(a,lr);var s=M(a);function a(){return o(this,a),s.apply(this,arguments)}return u(a,[{key:"draw",value:function(l,c){var d=this,f=this.w;this.graphics=new _(this.ctx),this.bar=new lr(this.ctx,this.xyRatios);var p=new Q(this.ctx,f);l=p.getLogSeries(l),this.yRatio=p.getLogYRatios(this.yRatio),this.barHelpers.initVariables(l),f.config.chart.stackType==="100%"&&(l=f.globals.seriesPercent.slice()),this.series=l,this.barHelpers.initializeStackedPrevVars(this);for(var m=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),b=0,w=0,C=function(P,O){var D=void 0,H=void 0,X=void 0,v=void 0,k=-1;d.groupCtx=d,f.globals.seriesGroups.forEach(function(ot,St){ot.indexOf(f.config.series[P].name)>-1&&(k=St)}),k!==-1&&(d.groupCtx=d[f.globals.seriesGroups[k]]);var E=[],V=[],Y=f.globals.comboCharts?c[P]:P;d.yRatio.length>1&&(d.yaxisIndex=Y),d.isReversed=f.config.yaxis[d.yaxisIndex]&&f.config.yaxis[d.yaxisIndex].reversed;var U=d.graphics.group({class:"apexcharts-series",seriesName:N.escapeString(f.globals.seriesNames[Y]),rel:P+1,"data:realIndex":Y});d.ctx.series.addCollapsedClassToSeries(U,Y);var J=d.graphics.group({class:"apexcharts-datalabels","data:realIndex":Y}),ee=d.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),ae=0,ce=0,ue=d.initialPositions(b,w,D,H,X,v);w=ue.y,ae=ue.barHeight,H=ue.yDivision,v=ue.zeroW,b=ue.x,ce=ue.barWidth,D=ue.xDivision,X=ue.zeroH,d.barHelpers.initializeStackedXYVars(d),d.groupCtx.prevY.length===1&&d.groupCtx.prevY[0].every(function(ot){return isNaN(ot)})&&(d.groupCtx.prevY[0]=d.groupCtx.prevY[0].map(function(ot){return X}),d.groupCtx.prevYF[0]=d.groupCtx.prevYF[0].map(function(ot){return 0}));for(var be=0;be<f.globals.dataPoints;be++){var Le=d.barHelpers.getStrokeWidth(P,be,Y),Re={indexes:{i:P,j:be,realIndex:Y,bc:O},strokeWidth:Le,x:b,y:w,elSeries:U,groupIndex:k,seriesGroup:f.globals.seriesGroups[k]},Ne=null;d.isHorizontal?(Ne=d.drawStackedBarPaths(i(i({},Re),{},{zeroW:v,barHeight:ae,yDivision:H})),ce=d.series[P][be]/d.invertedYRatio):(Ne=d.drawStackedColumnPaths(i(i({},Re),{},{xDivision:D,barWidth:ce,zeroH:X})),ae=d.series[P][be]/d.yRatio[d.yaxisIndex]);var Ye=d.barHelpers.drawGoalLine({barXPosition:Ne.barXPosition,barYPosition:Ne.barYPosition,goalX:Ne.goalX,goalY:Ne.goalY,barHeight:ae,barWidth:ce});Ye&&ee.add(Ye),w=Ne.y,b=Ne.x,E.push(b),V.push(w);var vt=d.barHelpers.getPathFillColor(l,P,be,Y);U=d.renderSeries({realIndex:Y,pathFill:vt,j:be,i:P,groupIndex:k,pathFrom:Ne.pathFrom,pathTo:Ne.pathTo,strokeWidth:Le,elSeries:U,x:b,y:w,series:l,barHeight:ae,barWidth:ce,elDataLabelsWrap:J,elGoalsMarkers:ee,type:"bar",visibleSeries:0})}f.globals.seriesXvalues[Y]=E,f.globals.seriesYvalues[Y]=V,d.groupCtx.prevY.push(d.groupCtx.yArrj),d.groupCtx.prevYF.push(d.groupCtx.yArrjF),d.groupCtx.prevYVal.push(d.groupCtx.yArrjVal),d.groupCtx.prevX.push(d.groupCtx.xArrj),d.groupCtx.prevXF.push(d.groupCtx.xArrjF),d.groupCtx.prevXVal.push(d.groupCtx.xArrjVal),m.add(U)},A=0,L=0;A<l.length;A++,L++)C(A,L);return m}},{key:"initialPositions",value:function(l,c,d,f,p,m){var b,w,C,A,L=this.w;return this.isHorizontal?(C=(C=f=L.globals.gridHeight/L.globals.dataPoints)*parseInt(L.config.plotOptions.bar.barHeight,10)/100,String(L.config.plotOptions.bar.barHeight).indexOf("%")===-1&&(C=parseInt(L.config.plotOptions.bar.barHeight,10)),m=this.baseLineInvertedY+L.globals.padHorizontal+(this.isReversed?L.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),c=(f-C)/2):(A=d=L.globals.gridWidth/L.globals.dataPoints,A=L.globals.isXNumeric&&L.globals.dataPoints>1?(d=L.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:A*parseInt(L.config.plotOptions.bar.columnWidth,10)/100,String(L.config.plotOptions.bar.columnWidth).indexOf("%")===-1&&(A=parseInt(L.config.plotOptions.bar.columnWidth,10)),p=L.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?L.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),l=L.globals.padHorizontal+(d-A)/2),{x:l,y:c,yDivision:f,xDivision:d,barHeight:(b=L.globals.seriesGroups)!==null&&b!==void 0&&b.length?C/L.globals.seriesGroups.length:C,barWidth:(w=L.globals.seriesGroups)!==null&&w!==void 0&&w.length?A/L.globals.seriesGroups.length:A,zeroH:p,zeroW:m}}},{key:"drawStackedBarPaths",value:function(l){for(var c,d=l.indexes,f=l.barHeight,p=l.strokeWidth,m=l.zeroW,b=l.x,w=l.y,C=l.groupIndex,A=l.seriesGroup,L=l.yDivision,P=l.elSeries,O=this.w,D=w+(C!==-1?C*f:0),H=d.i,X=d.j,v=0,k=0;k<this.groupCtx.prevXF.length;k++)v+=this.groupCtx.prevXF[k][X];var E=H;if(A&&(E=A.indexOf(O.config.series[H].name)),E>0){var V=m;this.groupCtx.prevXVal[E-1][X]<0?V=this.series[H][X]>=0?this.groupCtx.prevX[E-1][X]+v-2*(this.isReversed?v:0):this.groupCtx.prevX[E-1][X]:this.groupCtx.prevXVal[E-1][X]>=0&&(V=this.series[H][X]>=0?this.groupCtx.prevX[E-1][X]:this.groupCtx.prevX[E-1][X]-v+2*(this.isReversed?v:0)),c=V}else c=m;b=this.series[H][X]===null?c:c+this.series[H][X]/this.invertedYRatio-2*(this.isReversed?this.series[H][X]/this.invertedYRatio:0);var Y=this.barHelpers.getBarpaths({barYPosition:D,barHeight:f,x1:c,x2:b,strokeWidth:p,series:this.series,realIndex:d.realIndex,seriesGroup:A,i:H,j:X,w:O});return this.barHelpers.barBackground({j:X,i:H,y1:D,y2:f,elSeries:P}),w+=L,{pathTo:Y.pathTo,pathFrom:Y.pathFrom,goalX:this.barHelpers.getGoalValues("x",m,null,H,X),barYPosition:D,x:b,y:w}}},{key:"drawStackedColumnPaths",value:function(l){var c=l.indexes,d=l.x,f=l.y,p=l.xDivision,m=l.barWidth,b=l.zeroH,w=l.groupIndex,C=l.seriesGroup,A=l.elSeries,L=this.w,P=c.i,O=c.j,D=c.bc;if(L.globals.isXNumeric){var H=L.globals.seriesX[P][O];H||(H=0),d=(H-L.globals.minX)/this.xRatio-m/2,L.globals.seriesGroups.length&&(d=(H-L.globals.minX)/this.xRatio-m/2*L.globals.seriesGroups.length)}for(var X,v=d+(w!==-1?w*m:0),k=0,E=0;E<this.groupCtx.prevYF.length;E++)k+=isNaN(this.groupCtx.prevYF[E][O])?0:this.groupCtx.prevYF[E][O];var V=P;if(C&&(V=C.indexOf(L.config.series[P].name)),V>0&&!L.globals.isXNumeric||V>0&&L.globals.isXNumeric&&L.globals.seriesX[P-1][O]===L.globals.seriesX[P][O]){var Y,U,J,ee=Math.min(this.yRatio.length+1,P+1);if(this.groupCtx.prevY[V-1]!==void 0&&this.groupCtx.prevY[V-1].length)for(var ae=1;ae<ee;ae++){var ce;if(!isNaN((ce=this.groupCtx.prevY[V-ae])===null||ce===void 0?void 0:ce[O])){J=this.groupCtx.prevY[V-ae][O];break}}for(var ue=1;ue<ee;ue++){var be,Le;if(((be=this.groupCtx.prevYVal[V-ue])===null||be===void 0?void 0:be[O])<0){U=this.series[P][O]>=0?J-k+2*(this.isReversed?k:0):J;break}if(((Le=this.groupCtx.prevYVal[V-ue])===null||Le===void 0?void 0:Le[O])>=0){U=this.series[P][O]>=0?J:J+k-2*(this.isReversed?k:0);break}}U===void 0&&(U=L.globals.gridHeight),X=(Y=this.groupCtx.prevYF[0])!==null&&Y!==void 0&&Y.every(function(Ne){return Ne===0})&&this.groupCtx.prevYF.slice(1,V).every(function(Ne){return Ne.every(function(Ye){return isNaN(Ye)})})?b:U}else X=b;f=this.series[P][O]?X-this.series[P][O]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[P][O]/this.yRatio[this.yaxisIndex]:0):X;var Re=this.barHelpers.getColumnPaths({barXPosition:v,barWidth:m,y1:X,y2:f,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:C,realIndex:c.realIndex,i:P,j:O,w:L});return this.barHelpers.barBackground({bc:D,j:O,i:P,x1:v,x2:m,elSeries:A}),d+=p,{pathTo:Re.pathTo,pathFrom:Re.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,b,P,O),barXPosition:v,x:L.globals.isXNumeric?d-p:d,y:f}}}]),a}(),Ws=function(z){y(a,lr);var s=M(a);function a(){return o(this,a),s.apply(this,arguments)}return u(a,[{key:"draw",value:function(l,c,d){var f=this,p=this.w,m=new _(this.ctx),b=p.globals.comboCharts?c:p.config.chart.type,w=new Se(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=p.config.plotOptions.bar.horizontal;var C=new Q(this.ctx,p);l=C.getLogSeries(l),this.series=l,this.yRatio=C.getLogYRatios(this.yRatio),this.barHelpers.initVariables(l);for(var A=m.group({class:"apexcharts-".concat(b,"-series apexcharts-plot-series")}),L=function(O){f.isBoxPlot=p.config.chart.type==="boxPlot"||p.config.series[O].type==="boxPlot";var D,H,X,v,k=void 0,E=void 0,V=[],Y=[],U=p.globals.comboCharts?d[O]:O,J=m.group({class:"apexcharts-series",seriesName:N.escapeString(p.globals.seriesNames[U]),rel:O+1,"data:realIndex":U});f.ctx.series.addCollapsedClassToSeries(J,U),l[O].length>0&&(f.visibleI=f.visibleI+1);var ee,ae;f.yRatio.length>1&&(f.yaxisIndex=U);var ce=f.barHelpers.initialPositions();E=ce.y,ee=ce.barHeight,H=ce.yDivision,v=ce.zeroW,k=ce.x,ae=ce.barWidth,D=ce.xDivision,X=ce.zeroH,Y.push(k+ae/2);for(var ue=m.group({class:"apexcharts-datalabels","data:realIndex":U}),be=function(Re){var Ne=f.barHelpers.getStrokeWidth(O,Re,U),Ye=null,vt={indexes:{i:O,j:Re,realIndex:U},x:k,y:E,strokeWidth:Ne,elSeries:J};Ye=f.isHorizontal?f.drawHorizontalBoxPaths(i(i({},vt),{},{yDivision:H,barHeight:ee,zeroW:v})):f.drawVerticalBoxPaths(i(i({},vt),{},{xDivision:D,barWidth:ae,zeroH:X})),E=Ye.y,k=Ye.x,Re>0&&Y.push(k+ae/2),V.push(E),Ye.pathTo.forEach(function(ot,St){var Ri=!f.isBoxPlot&&f.candlestickOptions.wick.useFillColor?Ye.color[St]:p.globals.stroke.colors[O],Yi=w.fillPath({seriesNumber:U,dataPointIndex:Re,color:Ye.color[St],value:l[O][Re]});f.renderSeries({realIndex:U,pathFill:Yi,lineFill:Ri,j:Re,i:O,pathFrom:Ye.pathFrom,pathTo:ot,strokeWidth:Ne,elSeries:J,x:k,y:E,series:l,barHeight:ee,barWidth:ae,elDataLabelsWrap:ue,visibleSeries:f.visibleI,type:p.config.chart.type})})},Le=0;Le<p.globals.dataPoints;Le++)be(Le);p.globals.seriesXvalues[U]=Y,p.globals.seriesYvalues[U]=V,A.add(J)},P=0;P<l.length;P++)L(P);return A}},{key:"drawVerticalBoxPaths",value:function(l){var c=l.indexes,d=l.x;l.y;var f=l.xDivision,p=l.barWidth,m=l.zeroH,b=l.strokeWidth,w=this.w,C=new _(this.ctx),A=c.i,L=c.j,P=!0,O=w.config.plotOptions.candlestick.colors.upward,D=w.config.plotOptions.candlestick.colors.downward,H="";this.isBoxPlot&&(H=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var X=this.yRatio[this.yaxisIndex],v=c.realIndex,k=this.getOHLCValue(v,L),E=m,V=m;k.o>k.c&&(P=!1);var Y=Math.min(k.o,k.c),U=Math.max(k.o,k.c),J=k.m;w.globals.isXNumeric&&(d=(w.globals.seriesX[v][L]-w.globals.minX)/this.xRatio-p/2);var ee=d+p*this.visibleI;this.series[A][L]===void 0||this.series[A][L]===null?(Y=m,U=m):(Y=m-Y/X,U=m-U/X,E=m-k.h/X,V=m-k.l/X,J=m-k.m/X);var ae=C.move(ee,m),ce=C.move(ee+p/2,Y);return w.globals.previousPaths.length>0&&(ce=this.getPreviousPath(v,L,!0)),ae=this.isBoxPlot?[C.move(ee,Y)+C.line(ee+p/2,Y)+C.line(ee+p/2,E)+C.line(ee+p/4,E)+C.line(ee+p-p/4,E)+C.line(ee+p/2,E)+C.line(ee+p/2,Y)+C.line(ee+p,Y)+C.line(ee+p,J)+C.line(ee,J)+C.line(ee,Y+b/2),C.move(ee,J)+C.line(ee+p,J)+C.line(ee+p,U)+C.line(ee+p/2,U)+C.line(ee+p/2,V)+C.line(ee+p-p/4,V)+C.line(ee+p/4,V)+C.line(ee+p/2,V)+C.line(ee+p/2,U)+C.line(ee,U)+C.line(ee,J)+"z"]:[C.move(ee,U)+C.line(ee+p/2,U)+C.line(ee+p/2,E)+C.line(ee+p/2,U)+C.line(ee+p,U)+C.line(ee+p,Y)+C.line(ee+p/2,Y)+C.line(ee+p/2,V)+C.line(ee+p/2,Y)+C.line(ee,Y)+C.line(ee,U-b/2)],ce+=C.move(ee,Y),w.globals.isXNumeric||(d+=f),{pathTo:ae,pathFrom:ce,x:d,y:U,barXPosition:ee,color:this.isBoxPlot?H:P?[O]:[D]}}},{key:"drawHorizontalBoxPaths",value:function(l){var c=l.indexes;l.x;var d=l.y,f=l.yDivision,p=l.barHeight,m=l.zeroW,b=l.strokeWidth,w=this.w,C=new _(this.ctx),A=c.i,L=c.j,P=this.boxOptions.colors.lower;this.isBoxPlot&&(P=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var O=this.invertedYRatio,D=c.realIndex,H=this.getOHLCValue(D,L),X=m,v=m,k=Math.min(H.o,H.c),E=Math.max(H.o,H.c),V=H.m;w.globals.isXNumeric&&(d=(w.globals.seriesX[D][L]-w.globals.minX)/this.invertedXRatio-p/2);var Y=d+p*this.visibleI;this.series[A][L]===void 0||this.series[A][L]===null?(k=m,E=m):(k=m+k/O,E=m+E/O,X=m+H.h/O,v=m+H.l/O,V=m+H.m/O);var U=C.move(m,Y),J=C.move(k,Y+p/2);return w.globals.previousPaths.length>0&&(J=this.getPreviousPath(D,L,!0)),U=[C.move(k,Y)+C.line(k,Y+p/2)+C.line(X,Y+p/2)+C.line(X,Y+p/2-p/4)+C.line(X,Y+p/2+p/4)+C.line(X,Y+p/2)+C.line(k,Y+p/2)+C.line(k,Y+p)+C.line(V,Y+p)+C.line(V,Y)+C.line(k+b/2,Y),C.move(V,Y)+C.line(V,Y+p)+C.line(E,Y+p)+C.line(E,Y+p/2)+C.line(v,Y+p/2)+C.line(v,Y+p-p/4)+C.line(v,Y+p/4)+C.line(v,Y+p/2)+C.line(E,Y+p/2)+C.line(E,Y)+C.line(V,Y)+"z"],J+=C.move(k,Y),w.globals.isXNumeric||(d+=f),{pathTo:U,pathFrom:J,x:E,y:d,barYPosition:Y,color:P}}},{key:"getOHLCValue",value:function(l,c){var d=this.w;return{o:this.isBoxPlot?d.globals.seriesCandleH[l][c]:d.globals.seriesCandleO[l][c],h:this.isBoxPlot?d.globals.seriesCandleO[l][c]:d.globals.seriesCandleH[l][c],m:d.globals.seriesCandleM[l][c],l:this.isBoxPlot?d.globals.seriesCandleC[l][c]:d.globals.seriesCandleL[l][c],c:this.isBoxPlot?d.globals.seriesCandleL[l][c]:d.globals.seriesCandleC[l][c]}}}]),a}(),ta=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"checkColorRange",value:function(){var s=this.w,a=!1,l=s.config.plotOptions[s.config.chart.type];return l.colorScale.ranges.length>0&&l.colorScale.ranges.map(function(c,d){c.from<=0&&(a=!0)}),a}},{key:"getShadeColor",value:function(s,a,l,c){var d=this.w,f=1,p=d.config.plotOptions[s].shadeIntensity,m=this.determineColor(s,a,l);d.globals.hasNegs||c?f=d.config.plotOptions[s].reverseNegativeShade?m.percent<0?m.percent/100*(1.25*p):(1-m.percent/100)*(1.25*p):m.percent<=0?1-(1+m.percent/100)*p:(1-m.percent/100)*p:(f=1-m.percent/100,s==="treemap"&&(f=(1-m.percent/100)*(1.25*p)));var b=m.color,w=new N;return d.config.plotOptions[s].enableShades&&(b=this.w.config.theme.mode==="dark"?N.hexToRgba(w.shadeColor(-1*f,m.color),d.config.fill.opacity):N.hexToRgba(w.shadeColor(f,m.color),d.config.fill.opacity)),{color:b,colorProps:m}}},{key:"determineColor",value:function(s,a,l){var c=this.w,d=c.globals.series[a][l],f=c.config.plotOptions[s],p=f.colorScale.inverse?l:a;f.distributed&&c.config.chart.type==="treemap"&&(p=l);var m=c.globals.colors[p],b=null,w=Math.min.apply(Math,I(c.globals.series[a])),C=Math.max.apply(Math,I(c.globals.series[a]));f.distributed||s!=="heatmap"||(w=c.globals.minY,C=c.globals.maxY),f.colorScale.min!==void 0&&(w=f.colorScale.min<c.globals.minY?f.colorScale.min:c.globals.minY,C=f.colorScale.max>c.globals.maxY?f.colorScale.max:c.globals.maxY);var A=Math.abs(C)+Math.abs(w),L=100*d/(A===0?A-1e-6:A);return f.colorScale.ranges.length>0&&f.colorScale.ranges.map(function(P,O){if(d>=P.from&&d<=P.to){m=P.color,b=P.foreColor?P.foreColor:null,w=P.from,C=P.to;var D=Math.abs(C)+Math.abs(w);L=100*d/(D===0?D-1e-6:D)}}),{color:m,foreColor:b,percent:L}}},{key:"calculateDataLabels",value:function(s){var a=s.text,l=s.x,c=s.y,d=s.i,f=s.j,p=s.colorProps,m=s.fontSize,b=this.w.config.dataLabels,w=new _(this.ctx),C=new Ae(this.ctx),A=null;if(b.enabled){A=w.group({class:"apexcharts-data-labels"});var L=b.offsetX,P=b.offsetY,O=l+L,D=c+parseFloat(b.style.fontSize)/3+P;C.plotDataLabelsText({x:O,y:D,text:a,i:d,j:f,color:p.foreColor,parent:A,fontSize:m,dataLabelsConfig:b})}return A}},{key:"addListeners",value:function(s){var a=new _(this.ctx);s.node.addEventListener("mouseenter",a.pathMouseEnter.bind(this,s)),s.node.addEventListener("mouseleave",a.pathMouseLeave.bind(this,s)),s.node.addEventListener("mousedown",a.pathMouseDown.bind(this,s))}}]),z}(),ql=function(){function z(s,a){o(this,z),this.ctx=s,this.w=s.w,this.xRatio=a.xRatio,this.yRatio=a.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new ta(s),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return u(z,[{key:"draw",value:function(s){var a=this.w,l=new _(this.ctx),c=l.group({class:"apexcharts-heatmap"});c.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")"));var d=a.globals.gridWidth/a.globals.dataPoints,f=a.globals.gridHeight/a.globals.series.length,p=0,m=!1;this.negRange=this.helpers.checkColorRange();var b=s.slice();a.config.yaxis[0].reversed&&(m=!0,b.reverse());for(var w=m?0:b.length-1;m?w<b.length:w>=0;m?w++:w--){var C=l.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:N.escapeString(a.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});if(this.ctx.series.addCollapsedClassToSeries(C,w),a.config.chart.dropShadow.enabled){var A=a.config.chart.dropShadow;new K(this.ctx).dropShadow(C,A,w)}for(var L=0,P=a.config.plotOptions.heatmap.shadeIntensity,O=0;O<b[w].length;O++){var D=this.helpers.getShadeColor(a.config.chart.type,w,O,this.negRange),H=D.color,X=D.colorProps;a.config.fill.type==="image"&&(H=new Se(this.ctx).fillPath({seriesNumber:w,dataPointIndex:O,opacity:a.globals.hasNegs?X.percent<0?1-(1+X.percent/100):P+X.percent/100:X.percent/100,patternID:N.randomId(),width:a.config.fill.image.width?a.config.fill.image.width:d,height:a.config.fill.image.height?a.config.fill.image.height:f}));var v=this.rectRadius,k=l.drawRect(L,p,d,f,v);if(k.attr({cx:L,cy:p}),k.node.classList.add("apexcharts-heatmap-rect"),C.add(k),k.attr({fill:H,i:w,index:w,j:O,val:b[w][O],"stroke-width":this.strokeWidth,stroke:a.config.plotOptions.heatmap.useFillColorAsStroke?H:a.globals.stroke.colors[0],color:H}),this.helpers.addListeners(k),a.config.chart.animations.enabled&&!a.globals.dataChanged){var E=1;a.globals.resized||(E=a.config.chart.animations.speed),this.animateHeatMap(k,L,p,d,f,E)}if(a.globals.dataChanged){var V=1;if(this.dynamicAnim.enabled&&a.globals.shouldAnimate){V=this.dynamicAnim.speed;var Y=a.globals.previousPaths[w]&&a.globals.previousPaths[w][O]&&a.globals.previousPaths[w][O].color;Y||(Y="rgba(255, 255, 255, 0)"),this.animateHeatColor(k,N.isColorHex(Y)?Y:N.rgb2hex(Y),N.isColorHex(H)?H:N.rgb2hex(H),V)}}var U=(0,a.config.dataLabels.formatter)(a.globals.series[w][O],{value:a.globals.series[w][O],seriesIndex:w,dataPointIndex:O,w:a}),J=this.helpers.calculateDataLabels({text:U,x:L+d/2,y:p+f/2,i:w,j:O,colorProps:X,series:b});J!==null&&C.add(J),L+=d}p+=f,c.add(C)}var ee=a.globals.yAxisScale[0].result.slice();a.config.yaxis[0].reversed?ee.unshift(""):ee.push(""),a.globals.yAxisScale[0].result=ee;var ae=a.globals.gridHeight/a.globals.series.length;return a.config.yaxis[0].labels.offsetY=-ae/2,c}},{key:"animateHeatMap",value:function(s,a,l,c,d,f){var p=new G(this.ctx);p.animateRect(s,{x:a+c/2,y:l+d/2,width:0,height:0},{x:a,y:l,width:c,height:d},f,function(){p.animationCompleted(s)})}},{key:"animateHeatColor",value:function(s,a,l,c){s.attr({fill:a}).animate(c).attr({fill:l})}}]),z}(),ia=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"drawYAxisTexts",value:function(s,a,l,c){var d=this.w,f=d.config.yaxis[0],p=d.globals.yLabelFormatters[0];return new _(this.ctx).drawText({x:s+f.labels.offsetX,y:a+f.labels.offsetY,text:p(c,l),textAnchor:"middle",fontSize:f.labels.style.fontSize,fontFamily:f.labels.style.fontFamily,foreColor:Array.isArray(f.labels.style.colors)?f.labels.style.colors[l]:f.labels.style.colors})}}]),z}(),ra=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w;var a=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=a.globals.stroke.colors!==void 0?a.globals.stroke.colors:a.globals.colors,this.defaultSize=Math.min(a.globals.gridWidth,a.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=a.globals.gridWidth/2,a.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(a.config.plotOptions.pie.endAngle-a.config.plotOptions.pie.startAngle),this.initialAngle=a.config.plotOptions.pie.startAngle%this.fullAngle,a.globals.radialSize=this.defaultSize/2.05-a.config.stroke.width-(a.config.chart.sparkline.enabled?0:a.config.chart.dropShadow.blur),this.donutSize=a.globals.radialSize*parseInt(a.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return u(z,[{key:"draw",value:function(s){var a=this,l=this.w,c=new _(this.ctx);if(this.ret=c.group({class:"apexcharts-pie"}),l.globals.noData)return this.ret;for(var d=0,f=0;f<s.length;f++)d+=N.negToZero(s[f]);var p=[],m=c.group();d===0&&(d=1e-5),s.forEach(function(Y){a.maxY=Math.max(a.maxY,Y)}),l.config.yaxis[0].max&&(this.maxY=l.config.yaxis[0].max),l.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var b=0;b<s.length;b++){var w=this.fullAngle*N.negToZero(s[b])/d;p.push(w),this.chartType==="polarArea"?(p[b]=this.fullAngle/s.length,this.sliceSizes.push(l.globals.radialSize*s[b]/this.maxY)):this.sliceSizes.push(l.globals.radialSize)}if(l.globals.dataChanged){for(var C,A=0,L=0;L<l.globals.previousPaths.length;L++)A+=N.negToZero(l.globals.previousPaths[L]);for(var P=0;P<l.globals.previousPaths.length;P++)C=this.fullAngle*N.negToZero(l.globals.previousPaths[P])/A,this.prevSectorAngleArr.push(C)}this.donutSize<0&&(this.donutSize=0);var O=l.config.plotOptions.pie.customScale,D=l.globals.gridWidth/2,H=l.globals.gridHeight/2,X=D-l.globals.gridWidth/2*O,v=H-l.globals.gridHeight/2*O;if(this.chartType==="donut"){var k=c.drawCircle(this.donutSize);k.attr({cx:this.centerX,cy:this.centerY,fill:l.config.plotOptions.pie.donut.background?l.config.plotOptions.pie.donut.background:"transparent"}),m.add(k)}var E=this.drawArcs(p,s);if(this.sliceLabels.forEach(function(Y){E.add(Y)}),m.attr({transform:"translate(".concat(X,", ").concat(v,") scale(").concat(O,")")}),m.add(E),this.ret.add(m),this.donutDataLabels.show){var V=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:X,translateY:v});this.ret.add(V)}return l.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(s,a){var l=this.w,c=new K(this.ctx),d=new _(this.ctx),f=new Se(this.ctx),p=d.group({class:"apexcharts-slices"}),m=this.initialAngle,b=this.initialAngle,w=this.initialAngle,C=this.initialAngle;this.strokeWidth=l.config.stroke.show?l.config.stroke.width:0;for(var A=0;A<s.length;A++){var L=d.group({class:"apexcharts-series apexcharts-pie-series",seriesName:N.escapeString(l.globals.seriesNames[A]),rel:A+1,"data:realIndex":A});p.add(L),b=C,w=(m=w)+s[A],C=b+this.prevSectorAngleArr[A];var P=w<m?this.fullAngle+w-m:w-m,O=f.fillPath({seriesNumber:A,size:this.sliceSizes[A],value:a[A]}),D=this.getChangedPath(b,C),H=d.drawPath({d:D,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[A]:this.lineColorArr,strokeWidth:0,fill:O,fillOpacity:l.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(A)});if(H.attr({index:0,j:A}),c.setSelectionFilter(H,0,A),l.config.chart.dropShadow.enabled){var X=l.config.chart.dropShadow;c.dropShadow(H,X,A)}this.addListeners(H,this.donutDataLabels),_.setAttrs(H.node,{"data:angle":P,"data:startAngle":m,"data:strokeWidth":this.strokeWidth,"data:value":a[A]});var v={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?v=N.polarToCartesian(this.centerX,this.centerY,l.globals.radialSize/1.25+l.config.plotOptions.pie.dataLabels.offset,(m+P/2)%this.fullAngle):this.chartType==="donut"&&(v=N.polarToCartesian(this.centerX,this.centerY,(l.globals.radialSize+this.donutSize)/2+l.config.plotOptions.pie.dataLabels.offset,(m+P/2)%this.fullAngle)),L.add(H);var k=0;if(!this.initialAnim||l.globals.resized||l.globals.dataChanged?this.animBeginArr.push(0):((k=P/this.fullAngle*l.config.chart.animations.speed)===0&&(k=1),this.animDur=k+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&l.globals.dataChanged?this.animatePaths(H,{size:this.sliceSizes[A],endAngle:w,startAngle:m,prevStartAngle:b,prevEndAngle:C,animateStartingPos:!0,i:A,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:l.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(H,{size:this.sliceSizes[A],endAngle:w,startAngle:m,i:A,totalItems:s.length-1,animBeginArr:this.animBeginArr,dur:k}),l.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&H.click(this.pieClicked.bind(this,A)),l.globals.selectedDataPoints[0]!==void 0&&l.globals.selectedDataPoints[0].indexOf(A)>-1&&this.pieClicked(A),l.config.dataLabels.enabled){var E=v.x,V=v.y,Y=100*P/this.fullAngle+"%";if(P!==0&&l.config.plotOptions.pie.dataLabels.minAngleToShowLabel<s[A]){var U=l.config.dataLabels.formatter;U!==void 0&&(Y=U(l.globals.seriesPercent[A][0],{seriesIndex:A,w:l}));var J=l.globals.dataLabels.style.colors[A],ee=d.group({class:"apexcharts-datalabels"}),ae=d.drawText({x:E,y:V,text:Y,textAnchor:"middle",fontSize:l.config.dataLabels.style.fontSize,fontFamily:l.config.dataLabels.style.fontFamily,fontWeight:l.config.dataLabels.style.fontWeight,foreColor:J});if(ee.add(ae),l.config.dataLabels.dropShadow.enabled){var ce=l.config.dataLabels.dropShadow;c.dropShadow(ae,ce)}ae.node.classList.add("apexcharts-pie-label"),l.config.chart.animations.animate&&l.globals.resized===!1&&(ae.node.classList.add("apexcharts-pie-label-delay"),ae.node.style.animationDelay=l.config.chart.animations.speed/940+"s"),this.sliceLabels.push(ee)}}}return p}},{key:"addListeners",value:function(s,a){var l=new _(this.ctx);s.node.addEventListener("mouseenter",l.pathMouseEnter.bind(this,s)),s.node.addEventListener("mouseleave",l.pathMouseLeave.bind(this,s)),s.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,s.node,a)),s.node.addEventListener("mousedown",l.pathMouseDown.bind(this,s)),this.donutDataLabels.total.showAlways||(s.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,s.node,a)),s.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,s.node,a)))}},{key:"animatePaths",value:function(s,a){var l=this.w,c=a.endAngle<a.startAngle?this.fullAngle+a.endAngle-a.startAngle:a.endAngle-a.startAngle,d=c,f=a.startAngle,p=a.startAngle;a.prevStartAngle!==void 0&&a.prevEndAngle!==void 0&&(f=a.prevEndAngle,d=a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle),a.i===l.config.series.length-1&&(c+p>this.fullAngle?a.endAngle=a.endAngle-(c+p):c+p<this.fullAngle&&(a.endAngle=a.endAngle+(this.fullAngle-(c+p)))),c===this.fullAngle&&(c=this.fullAngle-.01),this.animateArc(s,f,p,c,d,a)}},{key:"animateArc",value:function(s,a,l,c,d,f){var p,m=this,b=this.w,w=new G(this.ctx),C=f.size;(isNaN(a)||isNaN(d))&&(a=l,d=c,f.dur=0);var A=c,L=l,P=a<l?this.fullAngle+a-l:a-l;b.globals.dataChanged&&f.shouldSetPrevPaths&&f.prevEndAngle&&(p=m.getPiePath({me:m,startAngle:f.prevStartAngle,angle:f.prevEndAngle<f.prevStartAngle?this.fullAngle+f.prevEndAngle-f.prevStartAngle:f.prevEndAngle-f.prevStartAngle,size:C}),s.attr({d:p})),f.dur!==0?s.animate(f.dur,b.globals.easing,f.animBeginArr[f.i]).afterAll(function(){m.chartType!=="pie"&&m.chartType!=="donut"&&m.chartType!=="polarArea"||this.animate(b.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":m.strokeWidth}),f.i===b.config.series.length-1&&w.animationCompleted(s)}).during(function(O){A=P+(c-P)*O,f.animateStartingPos&&(A=d+(c-d)*O,L=a-d+(l-(a-d))*O),p=m.getPiePath({me:m,startAngle:L,angle:A,size:C}),s.node.setAttribute("data:pathOrig",p),s.attr({d:p})}):(p=m.getPiePath({me:m,startAngle:L,angle:c,size:C}),f.isTrack||(b.globals.animationEnded=!0),s.node.setAttribute("data:pathOrig",p),s.attr({d:p,"stroke-width":m.strokeWidth}))}},{key:"pieClicked",value:function(s){var a,l=this.w,c=this,d=c.sliceSizes[s]+(l.config.plotOptions.pie.expandOnClick?4:0),f=l.globals.dom.Paper.select(".apexcharts-".concat(c.chartType.toLowerCase(),"-slice-").concat(s)).members[0];if(f.attr("data:pieClicked")!=="true"){var p=l.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(p,function(C){C.setAttribute("data:pieClicked","false");var A=C.getAttribute("data:pathOrig");A&&C.setAttribute("d",A)}),f.attr("data:pieClicked","true");var m=parseInt(f.attr("data:startAngle"),10),b=parseInt(f.attr("data:angle"),10);a=c.getPiePath({me:c,startAngle:m,angle:b,size:d}),b!==360&&f.plot(a)}else{f.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(f.node,this.donutDataLabels);var w=f.attr("data:pathOrig");f.attr({d:w})}}},{key:"getChangedPath",value:function(s,a){var l="";return this.dynamicAnim&&this.w.globals.dataChanged&&(l=this.getPiePath({me:this,startAngle:s,angle:a-s,size:this.size})),l}},{key:"getPiePath",value:function(s){var a=s.me,l=s.startAngle,c=s.angle,d=s.size,f=l,p=Math.PI*(f-90)/180,m=c+l;Math.ceil(m)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(m=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(m)>this.fullAngle&&(m-=this.fullAngle);var b=Math.PI*(m-90)/180,w=a.centerX+d*Math.cos(p),C=a.centerY+d*Math.sin(p),A=a.centerX+d*Math.cos(b),L=a.centerY+d*Math.sin(b),P=N.polarToCartesian(a.centerX,a.centerY,a.donutSize,m),O=N.polarToCartesian(a.centerX,a.centerY,a.donutSize,f),D=c>180?1:0,H=["M",w,C,"A",d,d,0,D,1,A,L];return a.chartType==="donut"?[].concat(H,["L",P.x,P.y,"A",a.donutSize,a.donutSize,0,D,0,O.x,O.y,"L",w,C,"z"]).join(" "):a.chartType==="pie"||a.chartType==="polarArea"?[].concat(H,["L",a.centerX,a.centerY,"L",w,C]).join(" "):[].concat(H).join(" ")}},{key:"drawPolarElements",value:function(s){var a=this.w,l=new mt(this.ctx),c=new _(this.ctx),d=new ia(this.ctx),f=c.group(),p=c.group(),m=l.niceScale(0,Math.ceil(this.maxY),a.config.yaxis[0].tickAmount,0,!0),b=m.result.reverse(),w=m.result.length;this.maxY=m.niceMax;for(var C=a.globals.radialSize,A=C/(w-1),L=0;L<w-1;L++){var P=c.drawCircle(C);if(P.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":a.config.plotOptions.polarArea.rings.strokeWidth,stroke:a.config.plotOptions.polarArea.rings.strokeColor}),a.config.yaxis[0].show){var O=d.drawYAxisTexts(this.centerX,this.centerY-C+parseInt(a.config.yaxis[0].labels.style.fontSize,10)/2,L,b[L]);p.add(O)}f.add(P),C-=A}this.drawSpokes(s),s.add(f),s.add(p)}},{key:"renderInnerDataLabels",value:function(s,a){var l=this.w,c=new _(this.ctx),d=c.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(a.translateX?a.translateX:0,", ").concat(a.translateY?a.translateY:0,") scale(").concat(l.config.plotOptions.pie.customScale,")")}),f=s.total.show;d.node.style.opacity=a.opacity;var p,m,b=a.centerX,w=a.centerY;p=s.name.color===void 0?l.globals.colors[0]:s.name.color;var C=s.name.fontSize,A=s.name.fontFamily,L=s.name.fontWeight;m=s.value.color===void 0?l.config.chart.foreColor:s.value.color;var P=s.value.formatter,O="",D="";if(f?(p=s.total.color,C=s.total.fontSize,A=s.total.fontFamily,L=s.total.fontWeight,D=s.total.label,O=s.total.formatter(l)):l.globals.series.length===1&&(O=P(l.globals.series[0],l),D=l.globals.seriesNames[0]),D&&(D=s.name.formatter(D,s.total.show,l)),s.name.show){var H=c.drawText({x:b,y:w+parseFloat(s.name.offsetY),text:D,textAnchor:"middle",foreColor:p,fontSize:C,fontWeight:L,fontFamily:A});H.node.classList.add("apexcharts-datalabel-label"),d.add(H)}if(s.value.show){var X=s.name.show?parseFloat(s.value.offsetY)+16:s.value.offsetY,v=c.drawText({x:b,y:w+X,text:O,textAnchor:"middle",foreColor:m,fontWeight:s.value.fontWeight,fontSize:s.value.fontSize,fontFamily:s.value.fontFamily});v.node.classList.add("apexcharts-datalabel-value"),d.add(v)}return d}},{key:"printInnerLabels",value:function(s,a,l,c){var d,f=this.w;c?d=s.name.color===void 0?f.globals.colors[parseInt(c.parentNode.getAttribute("rel"),10)-1]:s.name.color:f.globals.series.length>1&&s.total.show&&(d=s.total.color);var p=f.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),m=f.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");l=(0,s.value.formatter)(l,f),c||typeof s.total.formatter!="function"||(l=s.total.formatter(f));var b=a===s.total.label;a=s.name.formatter(a,b,f),p!==null&&(p.textContent=a),m!==null&&(m.textContent=l),p!==null&&(p.style.fill=d)}},{key:"printDataLabelsInner",value:function(s,a){var l=this.w,c=s.getAttribute("data:value"),d=l.globals.seriesNames[parseInt(s.parentNode.getAttribute("rel"),10)-1];l.globals.series.length>1&&this.printInnerLabels(a,d,c,s);var f=l.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");f!==null&&(f.style.opacity=1)}},{key:"drawSpokes",value:function(s){var a=this,l=this.w,c=new _(this.ctx),d=l.config.plotOptions.polarArea.spokes;if(d.strokeWidth!==0){for(var f=[],p=360/l.globals.series.length,m=0;m<l.globals.series.length;m++)f.push(N.polarToCartesian(this.centerX,this.centerY,l.globals.radialSize,l.config.plotOptions.pie.startAngle+p*m));f.forEach(function(b,w){var C=c.drawLine(b.x,b.y,a.centerX,a.centerY,Array.isArray(d.connectorColors)?d.connectorColors[w]:d.connectorColors);s.add(C)})}}},{key:"revertDataLabelsInner",value:function(s,a,l){var c=this,d=this.w,f=d.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),p=!1,m=d.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),b=function(A){var L=A.makeSliceOut,P=A.printLabel;Array.prototype.forEach.call(m,function(O){O.getAttribute("data:pieClicked")==="true"&&(L&&(p=!0),P&&c.printDataLabelsInner(O,a))})};if(b({makeSliceOut:!0,printLabel:!1}),a.total.show&&d.globals.series.length>1)p&&!a.total.showAlways?b({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(a,a.total.label,a.total.formatter(d));else if(b({makeSliceOut:!1,printLabel:!0}),!p)if(d.globals.selectedDataPoints.length&&d.globals.series.length>1)if(d.globals.selectedDataPoints[0].length>0){var w=d.globals.selectedDataPoints[0],C=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(w));this.printDataLabelsInner(C,a)}else f&&d.globals.selectedDataPoints.length&&d.globals.selectedDataPoints[0].length===0&&(f.style.opacity=0);else f&&d.globals.series.length>1&&(f.style.opacity=0)}}]),z}(),$l=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var a=this.w;this.graphics=new _(this.ctx),this.lineColorArr=a.globals.stroke.colors!==void 0?a.globals.stroke.colors:a.globals.colors,this.defaultSize=a.globals.svgHeight<a.globals.svgWidth?a.globals.gridHeight+1.5*a.globals.goldenPadding:a.globals.gridWidth,this.isLog=a.config.yaxis[0].logarithmic,this.coreUtils=new Q(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(a.globals.maxY,0):a.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):a.globals.minY,this.polygons=a.config.plotOptions.radar.polygons,this.strokeWidth=a.config.stroke.show?a.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-a.config.chart.dropShadow.blur,a.config.xaxis.labels.show&&(this.size=this.size-a.globals.xAxisLabelsWidth/1.75),a.config.plotOptions.radar.size!==void 0&&(this.size=a.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return u(z,[{key:"draw",value:function(s){var a=this,l=this.w,c=new Se(this.ctx),d=[],f=new Ae(this.ctx);s.length&&(this.dataPointsLen=s[l.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var p=l.globals.gridWidth/2,m=l.globals.gridHeight/2,b=p+l.config.plotOptions.radar.offsetX,w=m+l.config.plotOptions.radar.offsetY,C=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(b||0,", ").concat(w||0,")")}),A=[],L=null,P=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),s.forEach(function(D,H){var X=D.length===l.globals.dataPoints,v=a.graphics.group().attr({class:"apexcharts-series","data:longestSeries":X,seriesName:N.escapeString(l.globals.seriesNames[H]),rel:H+1,"data:realIndex":H});a.dataRadiusOfPercent[H]=[],a.dataRadius[H]=[],a.angleArr[H]=[],D.forEach(function(ue,be){var Le=Math.abs(a.maxValue-a.minValue);ue+=Math.abs(a.minValue),a.isLog&&(ue=a.coreUtils.getLogVal(ue,0)),a.dataRadiusOfPercent[H][be]=ue/Le,a.dataRadius[H][be]=a.dataRadiusOfPercent[H][be]*a.size,a.angleArr[H][be]=be*a.disAngle}),A=a.getDataPointsPos(a.dataRadius[H],a.angleArr[H]);var k=a.createPaths(A,{x:0,y:0});L=a.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),P=a.graphics.group({class:"apexcharts-datalabels","data:realIndex":H}),l.globals.delayedElements.push({el:L.node,index:H});var E={i:H,realIndex:H,animationDelay:H,initialSpeed:l.config.chart.animations.speed,dataChangeSpeed:l.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:l.globals.stroke.colors[H],strokeLineCap:l.config.stroke.lineCap},V=null;l.globals.previousPaths.length>0&&(V=a.getPreviousPath(H));for(var Y=0;Y<k.linePathsTo.length;Y++){var U=a.graphics.renderPaths(i(i({},E),{},{pathFrom:V===null?k.linePathsFrom[Y]:V,pathTo:k.linePathsTo[Y],strokeWidth:Array.isArray(a.strokeWidth)?a.strokeWidth[H]:a.strokeWidth,fill:"none",drawShadow:!1}));v.add(U);var J=c.fillPath({seriesNumber:H}),ee=a.graphics.renderPaths(i(i({},E),{},{pathFrom:V===null?k.areaPathsFrom[Y]:V,pathTo:k.areaPathsTo[Y],strokeWidth:0,fill:J,drawShadow:!1}));if(l.config.chart.dropShadow.enabled){var ae=new K(a.ctx),ce=l.config.chart.dropShadow;ae.dropShadow(ee,Object.assign({},ce,{noUserSpaceOnUse:!0}),H)}v.add(ee)}D.forEach(function(ue,be){var Le=new st(a.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:H,dataPointIndex:be}),Re=a.graphics.drawMarker(A[be].x,A[be].y,Le);Re.attr("rel",be),Re.attr("j",be),Re.attr("index",H),Re.node.setAttribute("default-marker-size",Le.pSize);var Ne=a.graphics.group({class:"apexcharts-series-markers"});Ne&&Ne.add(Re),L.add(Ne),v.add(L);var Ye=l.config.dataLabels;if(Ye.enabled){var vt=Ye.formatter(l.globals.series[H][be],{seriesIndex:H,dataPointIndex:be,w:l});f.plotDataLabelsText({x:A[be].x,y:A[be].y,text:vt,textAnchor:"middle",i:H,j:H,parent:P,offsetCorrection:!1,dataLabelsConfig:i({},Ye)})}v.add(P)}),d.push(v)}),this.drawPolygons({parent:C}),l.config.xaxis.labels.show){var O=this.drawXAxisTexts();C.add(O)}return d.forEach(function(D){C.add(D)}),C.add(this.yaxisLabels),C}},{key:"drawPolygons",value:function(s){for(var a=this,l=this.w,c=s.parent,d=new ia(this.ctx),f=l.globals.yAxisScale[0].result.reverse(),p=f.length,m=[],b=this.size/(p-1),w=0;w<p;w++)m[w]=b*w;m.reverse();var C=[],A=[];m.forEach(function(L,P){var O=N.getPolygonPos(L,a.dataPointsLen),D="";O.forEach(function(H,X){if(P===0){var v=a.graphics.drawLine(H.x,H.y,0,0,Array.isArray(a.polygons.connectorColors)?a.polygons.connectorColors[X]:a.polygons.connectorColors);A.push(v)}X===0&&a.yaxisLabelsTextsPos.push({x:H.x,y:H.y}),D+=H.x+","+H.y+" "}),C.push(D)}),C.forEach(function(L,P){var O=a.polygons.strokeColors,D=a.polygons.strokeWidth,H=a.graphics.drawPolygon(L,Array.isArray(O)?O[P]:O,Array.isArray(D)?D[P]:D,l.globals.radarPolygons.fill.colors[P]);c.add(H)}),A.forEach(function(L){c.add(L)}),l.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(L,P){var O=d.drawYAxisTexts(L.x,L.y,P,f[P]);a.yaxisLabels.add(O)})}},{key:"drawXAxisTexts",value:function(){var s=this,a=this.w,l=a.config.xaxis.labels,c=this.graphics.group({class:"apexcharts-xaxis"}),d=N.getPolygonPos(this.size,this.dataPointsLen);return a.globals.labels.forEach(function(f,p){var m=a.config.xaxis.labels.formatter,b=new Ae(s.ctx);if(d[p]){var w=s.getTextPos(d[p],s.size),C=m(f,{seriesIndex:-1,dataPointIndex:p,w:a});b.plotDataLabelsText({x:w.newX,y:w.newY,text:C,textAnchor:w.textAnchor,i:p,j:p,parent:c,color:Array.isArray(l.style.colors)&&l.style.colors[p]?l.style.colors[p]:"#a8a8a8",dataLabelsConfig:i({textAnchor:w.textAnchor,dropShadow:{enabled:!1}},l),offsetCorrection:!1})}}),c}},{key:"createPaths",value:function(s,a){var l=this,c=[],d=[],f=[],p=[];if(s.length){d=[this.graphics.move(a.x,a.y)],p=[this.graphics.move(a.x,a.y)];var m=this.graphics.move(s[0].x,s[0].y),b=this.graphics.move(s[0].x,s[0].y);s.forEach(function(w,C){m+=l.graphics.line(w.x,w.y),b+=l.graphics.line(w.x,w.y),C===s.length-1&&(m+="Z",b+="Z")}),c.push(m),f.push(b)}return{linePathsFrom:d,linePathsTo:c,areaPathsFrom:p,areaPathsTo:f}}},{key:"getTextPos",value:function(s,a){var l="middle",c=s.x,d=s.y;return Math.abs(s.x)>=10?s.x>0?(l="start",c+=10):s.x<0&&(l="end",c-=10):l="middle",Math.abs(s.y)>=a-10&&(s.y<0?d-=10:s.y>0&&(d+=10)),{textAnchor:l,newX:c,newY:d}}},{key:"getPreviousPath",value:function(s){for(var a=this.w,l=null,c=0;c<a.globals.previousPaths.length;c++){var d=a.globals.previousPaths[c];d.paths.length>0&&parseInt(d.realIndex,10)===parseInt(s,10)&&a.globals.previousPaths[c].paths[0]!==void 0&&(l=a.globals.previousPaths[c].paths[0].d)}return l}},{key:"getDataPointsPos",value:function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;s=s||[],a=a||[];for(var c=[],d=0;d<l;d++){var f={};f.x=s[d]*Math.sin(a[d]),f.y=-s[d]*Math.cos(a[d]),c.push(f)}return c}}]),z}(),Zl=function(z){y(a,ra);var s=M(a);function a(l){var c;o(this,a),(c=s.call(this,l)).ctx=l,c.w=l.w,c.animBeginArr=[0],c.animDur=0;var d=c.w;return c.startAngle=d.config.plotOptions.radialBar.startAngle,c.endAngle=d.config.plotOptions.radialBar.endAngle,c.totalAngle=Math.abs(d.config.plotOptions.radialBar.endAngle-d.config.plotOptions.radialBar.startAngle),c.trackStartAngle=d.config.plotOptions.radialBar.track.startAngle,c.trackEndAngle=d.config.plotOptions.radialBar.track.endAngle,c.donutDataLabels=c.w.config.plotOptions.radialBar.dataLabels,c.radialDataLabels=c.donutDataLabels,c.trackStartAngle||(c.trackStartAngle=c.startAngle),c.trackEndAngle||(c.trackEndAngle=c.endAngle),c.endAngle===360&&(c.endAngle=359.99),c.margin=parseInt(d.config.plotOptions.radialBar.track.margin,10),c}return u(a,[{key:"draw",value:function(l){var c=this.w,d=new _(this.ctx),f=d.group({class:"apexcharts-radialbar"});if(c.globals.noData)return f;var p=d.group(),m=this.defaultSize/2,b=c.globals.gridWidth/2,w=this.defaultSize/2.05;c.config.chart.sparkline.enabled||(w=w-c.config.stroke.width-c.config.chart.dropShadow.blur);var C=c.globals.fill.colors;if(c.config.plotOptions.radialBar.track.show){var A=this.drawTracks({size:w,centerX:b,centerY:m,colorArr:C,series:l});p.add(A)}var L=this.drawArcs({size:w,centerX:b,centerY:m,colorArr:C,series:l}),P=360;c.config.plotOptions.radialBar.startAngle<0&&(P=this.totalAngle);var O=(360-P)/360;if(c.globals.radialSize=w-w*O,this.radialDataLabels.value.show){var D=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);c.globals.radialSize+=D*O}return p.add(L.g),c.config.plotOptions.radialBar.hollow.position==="front"&&(L.g.add(L.elHollow),L.dataLabels&&L.g.add(L.dataLabels)),f.add(p),f}},{key:"drawTracks",value:function(l){var c=this.w,d=new _(this.ctx),f=d.group({class:"apexcharts-tracks"}),p=new K(this.ctx),m=new Se(this.ctx),b=this.getStrokeWidth(l);l.size=l.size-b/2;for(var w=0;w<l.series.length;w++){var C=d.group({class:"apexcharts-radialbar-track apexcharts-track"});f.add(C),C.attr({rel:w+1}),l.size=l.size-b-this.margin;var A=c.config.plotOptions.radialBar.track,L=m.fillPath({seriesNumber:0,size:l.size,fillColors:Array.isArray(A.background)?A.background[w]:A.background,solid:!0}),P=this.trackStartAngle,O=this.trackEndAngle;Math.abs(O)+Math.abs(P)>=360&&(O=360-Math.abs(this.startAngle)-.1);var D=d.drawPath({d:"",stroke:L,strokeWidth:b*parseInt(A.strokeWidth,10)/100,fill:"none",strokeOpacity:A.opacity,classes:"apexcharts-radialbar-area"});if(A.dropShadow.enabled){var H=A.dropShadow;p.dropShadow(D,H)}C.add(D),D.attr("id","apexcharts-radialbarTrack-"+w),this.animatePaths(D,{centerX:l.centerX,centerY:l.centerY,endAngle:O,startAngle:P,size:l.size,i:w,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:c.globals.easing})}return f}},{key:"drawArcs",value:function(l){var c=this.w,d=new _(this.ctx),f=new Se(this.ctx),p=new K(this.ctx),m=d.group(),b=this.getStrokeWidth(l);l.size=l.size-b/2;var w=c.config.plotOptions.radialBar.hollow.background,C=l.size-b*l.series.length-this.margin*l.series.length-b*parseInt(c.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,A=C-c.config.plotOptions.radialBar.hollow.margin;c.config.plotOptions.radialBar.hollow.image!==void 0&&(w=this.drawHollowImage(l,m,C,w));var L=this.drawHollow({size:A,centerX:l.centerX,centerY:l.centerY,fill:w||"transparent"});if(c.config.plotOptions.radialBar.hollow.dropShadow.enabled){var P=c.config.plotOptions.radialBar.hollow.dropShadow;p.dropShadow(L,P)}var O=1;!this.radialDataLabels.total.show&&c.globals.series.length>1&&(O=0);var D=null;this.radialDataLabels.show&&(D=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:C,centerX:l.centerX,centerY:l.centerY,opacity:O})),c.config.plotOptions.radialBar.hollow.position==="back"&&(m.add(L),D&&m.add(D));var H=!1;c.config.plotOptions.radialBar.inverseOrder&&(H=!0);for(var X=H?l.series.length-1:0;H?X>=0:X<l.series.length;H?X--:X++){var v=d.group({class:"apexcharts-series apexcharts-radial-series",seriesName:N.escapeString(c.globals.seriesNames[X])});m.add(v),v.attr({rel:X+1,"data:realIndex":X}),this.ctx.series.addCollapsedClassToSeries(v,X),l.size=l.size-b-this.margin;var k=f.fillPath({seriesNumber:X,size:l.size,value:l.series[X]}),E=this.startAngle,V=void 0,Y=N.negToZero(l.series[X]>100?100:l.series[X])/100,U=Math.round(this.totalAngle*Y)+this.startAngle,J=void 0;c.globals.dataChanged&&(V=this.startAngle,J=Math.round(this.totalAngle*N.negToZero(c.globals.previousPaths[X])/100)+V),Math.abs(U)+Math.abs(E)>=360&&(U-=.01),Math.abs(J)+Math.abs(V)>=360&&(J-=.01);var ee=U-E,ae=Array.isArray(c.config.stroke.dashArray)?c.config.stroke.dashArray[X]:c.config.stroke.dashArray,ce=d.drawPath({d:"",stroke:k,strokeWidth:b,fill:"none",fillOpacity:c.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+X,strokeDashArray:ae});if(_.setAttrs(ce.node,{"data:angle":ee,"data:value":l.series[X]}),c.config.chart.dropShadow.enabled){var ue=c.config.chart.dropShadow;p.dropShadow(ce,ue,X)}p.setSelectionFilter(ce,0,X),this.addListeners(ce,this.radialDataLabels),v.add(ce),ce.attr({index:0,j:X});var be=0;!this.initialAnim||c.globals.resized||c.globals.dataChanged||(be=c.config.chart.animations.speed),c.globals.dataChanged&&(be=c.config.chart.animations.dynamicAnimation.speed),this.animDur=be/(1.2*l.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(ce,{centerX:l.centerX,centerY:l.centerY,endAngle:U,startAngle:E,prevEndAngle:J,prevStartAngle:V,size:l.size,i:X,totalItems:2,animBeginArr:this.animBeginArr,dur:be,shouldSetPrevPaths:!0,easing:c.globals.easing})}return{g:m,elHollow:L,dataLabels:D}}},{key:"drawHollow",value:function(l){var c=new _(this.ctx).drawCircle(2*l.size);return c.attr({class:"apexcharts-radialbar-hollow",cx:l.centerX,cy:l.centerY,r:l.size,fill:l.fill}),c}},{key:"drawHollowImage",value:function(l,c,d,f){var p=this.w,m=new Se(this.ctx),b=N.randomId(),w=p.config.plotOptions.radialBar.hollow.image;if(p.config.plotOptions.radialBar.hollow.imageClipped)m.clippedImgArea({width:d,height:d,image:w,patternID:"pattern".concat(p.globals.cuid).concat(b)}),f="url(#pattern".concat(p.globals.cuid).concat(b,")");else{var C=p.config.plotOptions.radialBar.hollow.imageWidth,A=p.config.plotOptions.radialBar.hollow.imageHeight;if(C===void 0&&A===void 0){var L=p.globals.dom.Paper.image(w).loaded(function(O){this.move(l.centerX-O.width/2+p.config.plotOptions.radialBar.hollow.imageOffsetX,l.centerY-O.height/2+p.config.plotOptions.radialBar.hollow.imageOffsetY)});c.add(L)}else{var P=p.globals.dom.Paper.image(w).loaded(function(O){this.move(l.centerX-C/2+p.config.plotOptions.radialBar.hollow.imageOffsetX,l.centerY-A/2+p.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(C,A)});c.add(P)}}return f}},{key:"getStrokeWidth",value:function(l){var c=this.w;return l.size*(100-parseInt(c.config.plotOptions.radialBar.hollow.size,10))/100/(l.series.length+1)-this.margin}}]),a}(),Kl=function(z){y(a,lr);var s=M(a);function a(){return o(this,a),s.apply(this,arguments)}return u(a,[{key:"draw",value:function(l,c){var d=this.w,f=new _(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=l,this.seriesRangeStart=d.globals.seriesRangeStart,this.seriesRangeEnd=d.globals.seriesRangeEnd,this.barHelpers.initVariables(l);for(var p=f.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),m=0;m<l.length;m++){var b,w,C,A,L=void 0,P=void 0,O=d.globals.comboCharts?c[m]:m,D=f.group({class:"apexcharts-series",seriesName:N.escapeString(d.globals.seriesNames[O]),rel:m+1,"data:realIndex":O});this.ctx.series.addCollapsedClassToSeries(D,O),l[m].length>0&&(this.visibleI=this.visibleI+1);var H=0,X=0;this.yRatio.length>1&&(this.yaxisIndex=O);var v=this.barHelpers.initialPositions();P=v.y,A=v.zeroW,L=v.x,X=v.barWidth,H=v.barHeight,b=v.xDivision,w=v.yDivision,C=v.zeroH;for(var k=f.group({class:"apexcharts-datalabels","data:realIndex":O}),E=f.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),V=0;V<d.globals.dataPoints;V++){var Y,U=this.barHelpers.getStrokeWidth(m,V,O),J=this.seriesRangeStart[m][V],ee=this.seriesRangeEnd[m][V],ae=null,ce=null,ue=null,be={x:L,y:P,strokeWidth:U,elSeries:D},Le=this.seriesLen;if(d.config.plotOptions.bar.rangeBarGroupRows&&(Le=1),d.config.series[m].data[V]===void 0)break;if(this.isHorizontal){ue=P+H*this.visibleI;var Re=(w-H*Le)/2;if(d.config.series[m].data[V].x){var Ne=this.detectOverlappingBars({i:m,j:V,barYPosition:ue,srty:Re,barHeight:H,yDivision:w,initPositions:v});H=Ne.barHeight,ue=Ne.barYPosition}X=(ae=this.drawRangeBarPaths(i({indexes:{i:m,j:V,realIndex:O},barHeight:H,barYPosition:ue,zeroW:A,yDivision:w,y1:J,y2:ee},be))).barWidth}else{d.globals.isXNumeric&&(L=(d.globals.seriesX[m][V]-d.globals.minX)/this.xRatio-X/2),ce=L+X*this.visibleI;var Ye=(b-X*Le)/2;if(d.config.series[m].data[V].x){var vt=this.detectOverlappingBars({i:m,j:V,barXPosition:ce,srtx:Ye,barWidth:X,xDivision:b,initPositions:v});X=vt.barWidth,ce=vt.barXPosition}H=(ae=this.drawRangeColumnPaths(i({indexes:{i:m,j:V,realIndex:O},barWidth:X,barXPosition:ce,zeroH:C,xDivision:b},be))).barHeight}var ot=this.barHelpers.drawGoalLine({barXPosition:ae.barXPosition,barYPosition:ue,goalX:ae.goalX,goalY:ae.goalY,barHeight:H,barWidth:X});ot&&E.add(ot),P=ae.y,L=ae.x;var St=this.barHelpers.getPathFillColor(l,m,V,O),Ri=d.globals.stroke.colors[O];this.renderSeries((g(Y={realIndex:O,pathFill:St,lineFill:Ri,j:V,i:m,x:L,y:P,y1:J,y2:ee,pathFrom:ae.pathFrom,pathTo:ae.pathTo,strokeWidth:U,elSeries:D,series:l,barHeight:H,barWidth:X,barXPosition:ce,barYPosition:ue},"barWidth",X),g(Y,"elDataLabelsWrap",k),g(Y,"elGoalsMarkers",E),g(Y,"visibleSeries",this.visibleI),g(Y,"type","rangebar"),Y))}p.add(D)}return p}},{key:"detectOverlappingBars",value:function(l){var c=l.i,d=l.j,f=l.barYPosition,p=l.barXPosition,m=l.srty,b=l.srtx,w=l.barHeight,C=l.barWidth,A=l.yDivision,L=l.xDivision,P=l.initPositions,O=this.w,D=[],H=O.config.series[c].data[d].rangeName,X=O.config.series[c].data[d].x,v=Array.isArray(X)?X.join(" "):X,k=O.globals.labels.map(function(V){return Array.isArray(V)?V.join(" "):V}).indexOf(v),E=O.globals.seriesRange[c].findIndex(function(V){return V.x===v&&V.overlaps.length>0});return this.isHorizontal?(f=O.config.plotOptions.bar.rangeBarGroupRows?m+A*k:m+w*this.visibleI+A*k,E>-1&&!O.config.plotOptions.bar.rangeBarOverlap&&(D=O.globals.seriesRange[c][E].overlaps).indexOf(H)>-1&&(f=(w=P.barHeight/D.length)*this.visibleI+A*(100-parseInt(this.barOptions.barHeight,10))/100/2+w*(this.visibleI+D.indexOf(H))+A*k)):(k>-1&&(p=O.config.plotOptions.bar.rangeBarGroupRows?b+L*k:b+C*this.visibleI+L*k),E>-1&&!O.config.plotOptions.bar.rangeBarOverlap&&(D=O.globals.seriesRange[c][E].overlaps).indexOf(H)>-1&&(p=(C=P.barWidth/D.length)*this.visibleI+L*(100-parseInt(this.barOptions.barWidth,10))/100/2+C*(this.visibleI+D.indexOf(H))+L*k)),{barYPosition:f,barXPosition:p,barHeight:w,barWidth:C}}},{key:"drawRangeColumnPaths",value:function(l){var c=l.indexes,d=l.x,f=l.xDivision,p=l.barWidth,m=l.barXPosition,b=l.zeroH,w=this.w,C=c.i,A=c.j,L=this.yRatio[this.yaxisIndex],P=c.realIndex,O=this.getRangeValue(P,A),D=Math.min(O.start,O.end),H=Math.max(O.start,O.end);this.series[C][A]===void 0||this.series[C][A]===null?D=b:(D=b-D/L,H=b-H/L);var X=Math.abs(H-D),v=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:p,y1:D,y2:H,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:c.realIndex,i:P,j:A,w});return w.globals.isXNumeric||(d+=f),{pathTo:v.pathTo,pathFrom:v.pathFrom,barHeight:X,x:d,y:H,goalY:this.barHelpers.getGoalValues("y",null,b,C,A),barXPosition:m}}},{key:"drawRangeBarPaths",value:function(l){var c=l.indexes,d=l.y,f=l.y1,p=l.y2,m=l.yDivision,b=l.barHeight,w=l.barYPosition,C=l.zeroW,A=this.w,L=C+f/this.invertedYRatio,P=C+p/this.invertedYRatio,O=Math.abs(P-L),D=this.barHelpers.getBarpaths({barYPosition:w,barHeight:b,x1:L,x2:P,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:c.realIndex,realIndex:c.realIndex,j:c.j,w:A});return A.globals.isXNumeric||(d+=m),{pathTo:D.pathTo,pathFrom:D.pathFrom,barWidth:O,x:P,goalX:this.barHelpers.getGoalValues("x",C,null,c.realIndex,c.j),y:d}}},{key:"getRangeValue",value:function(l,c){var d=this.w;return{start:d.globals.seriesRangeStart[l][c],end:d.globals.seriesRangeEnd[l][c]}}}]),a}(),Jl=function(){function z(s){o(this,z),this.w=s.w,this.lineCtx=s}return u(z,[{key:"sameValueSeriesFix",value:function(s,a){var l=this.w;if((l.config.fill.type==="gradient"||l.config.fill.type[s]==="gradient")&&new Q(this.lineCtx.ctx,l).seriesHaveSameValues(s)){var c=a[s].slice();c[c.length-1]=c[c.length-1]+1e-6,a[s]=c}return a}},{key:"calculatePoints",value:function(s){var a=s.series,l=s.realIndex,c=s.x,d=s.y,f=s.i,p=s.j,m=s.prevY,b=this.w,w=[],C=[];if(p===0){var A=this.lineCtx.categoryAxisCorrection+b.config.markers.offsetX;b.globals.isXNumeric&&(A=(b.globals.seriesX[l][0]-b.globals.minX)/this.lineCtx.xRatio+b.config.markers.offsetX),w.push(A),C.push(N.isNumber(a[f][0])?m+b.config.markers.offsetY:null),w.push(c+b.config.markers.offsetX),C.push(N.isNumber(a[f][p+1])?d+b.config.markers.offsetY:null)}else w.push(c+b.config.markers.offsetX),C.push(N.isNumber(a[f][p+1])?d+b.config.markers.offsetY:null);return{x:w,y:C}}},{key:"checkPreviousPaths",value:function(s){for(var a=s.pathFromLine,l=s.pathFromArea,c=s.realIndex,d=this.w,f=0;f<d.globals.previousPaths.length;f++){var p=d.globals.previousPaths[f];(p.type==="line"||p.type==="area")&&p.paths.length>0&&parseInt(p.realIndex,10)===parseInt(c,10)&&(p.type==="line"?(this.lineCtx.appendPathFrom=!1,a=d.globals.previousPaths[f].paths[0].d):p.type==="area"&&(this.lineCtx.appendPathFrom=!1,l=d.globals.previousPaths[f].paths[0].d,d.config.stroke.show&&d.globals.previousPaths[f].paths[1]&&(a=d.globals.previousPaths[f].paths[1].d)))}return{pathFromLine:a,pathFromArea:l}}},{key:"determineFirstPrevY",value:function(s){var a,l=s.i,c=s.series,d=s.prevY,f=s.lineYPosition,p=this.w;if(((a=c[l])===null||a===void 0?void 0:a[0])!==void 0)d=(f=p.config.chart.stacked&&l>0?this.lineCtx.prevSeriesY[l-1][0]:this.lineCtx.zeroY)-c[l][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?c[l][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(p.config.chart.stacked&&l>0&&c[l][0]===void 0){for(var m=l-1;m>=0;m--)if(c[m][0]!==null&&c[m][0]!==void 0){d=f=this.lineCtx.prevSeriesY[m][0];break}}return{prevY:d,lineYPosition:f}}}]),z}(),js=function(){function z(s,a,l){o(this,z),this.ctx=s,this.w=s.w,this.xyRatios=a,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||l,this.scatter=new ut(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Jl(this),this.markers=new st(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return u(z,[{key:"draw",value:function(s,a,l,c){var d=this.w,f=new _(this.ctx),p=d.globals.comboCharts?a:d.config.chart.type,m=f.group({class:"apexcharts-".concat(p,"-series apexcharts-plot-series")}),b=new Q(this.ctx,d);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,s=b.getLogSeries(s),this.yRatio=b.getLogYRatios(this.yRatio);for(var w=[],C=0;C<s.length;C++){s=this.lineHelpers.sameValueSeriesFix(C,s);var A=d.globals.comboCharts?l[C]:C;this._initSerieVariables(s,C,A);var L=[],P=[],O=d.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,A),d.globals.isXNumeric&&d.globals.seriesX.length>0&&(O=(d.globals.seriesX[A][0]-d.globals.minX)/this.xRatio),P.push(O);var D,H=O,X=void 0,v=H,k=this.zeroY,E=this.zeroY;k=this.lineHelpers.determineFirstPrevY({i:C,series:s,prevY:k,lineYPosition:0}).prevY,L.push(k),D=k,p==="rangeArea"&&(X=E=this.lineHelpers.determineFirstPrevY({i:C,series:c,prevY:E,lineYPosition:0}).prevY);var V={type:p,series:s,realIndex:A,i:C,x:O,y:1,pX:H,pY:D,pathsFrom:this._calculatePathsFrom({type:p,series:s,i:C,realIndex:A,prevX:v,prevY:k,prevY2:E}),linePaths:[],areaPaths:[],seriesIndex:l,lineYPosition:0,xArrj:P,yArrj:L,seriesRangeEnd:c},Y=this._iterateOverDataPoints(i(i({},V),{},{iterations:p==="rangeArea"?s[C].length-1:void 0,isRangeStart:!0}));if(p==="rangeArea"){var U=this._calculatePathsFrom({series:c,i:C,realIndex:A,prevX:v,prevY:E}),J=this._iterateOverDataPoints(i(i({},V),{},{series:c,pY:X,pathsFrom:U,iterations:c[C].length-1,isRangeStart:!1}));Y.linePaths[0]=J.linePath+Y.linePath,Y.pathFromLine=J.pathFromLine+Y.pathFromLine}this._handlePaths({type:p,realIndex:A,i:C,paths:Y}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),w.push(this.elSeries)}if(d.config.chart.stacked)for(var ee=w.length;ee>0;ee--)m.add(w[ee-1]);else for(var ae=0;ae<w.length;ae++)m.add(w[ae]);return m}},{key:"_initSerieVariables",value:function(s,a,l){var c=this.w,d=new _(this.ctx);this.xDivision=c.globals.gridWidth/(c.globals.dataPoints-(c.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(c.config.stroke.width)?c.config.stroke.width[l]:c.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=l),this.isReversed=c.config.yaxis[this.yaxisIndex]&&c.config.yaxis[this.yaxisIndex].reversed,this.zeroY=c.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?c.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>c.globals.gridHeight||c.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=c.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=d.group({class:"apexcharts-series",seriesName:N.escapeString(c.globals.seriesNames[l])}),this.elPointsMain=d.group({class:"apexcharts-series-markers-wrap","data:realIndex":l}),this.elDataLabelsWrap=d.group({class:"apexcharts-datalabels","data:realIndex":l});var f=s[a].length===c.globals.dataPoints;this.elSeries.attr({"data:longestSeries":f,rel:a+1,"data:realIndex":l}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(s){var a,l,c,d,f=s.type,p=s.series,m=s.i,b=s.realIndex,w=s.prevX,C=s.prevY,A=s.prevY2,L=this.w,P=new _(this.ctx);if(p[m][0]===null){for(var O=0;O<p[m].length;O++)if(p[m][O]!==null){w=this.xDivision*O,C=this.zeroY-p[m][O]/this.yRatio[this.yaxisIndex],a=P.move(w,C),l=P.move(w,this.areaBottomY);break}}else a=P.move(w,C),f==="rangeArea"&&(a=P.move(w,A)+P.line(w,C)),l=P.move(w,this.areaBottomY)+P.line(w,C);if(c=P.move(-1,this.zeroY)+P.line(-1,this.zeroY),d=P.move(-1,this.zeroY)+P.line(-1,this.zeroY),L.globals.previousPaths.length>0){var D=this.lineHelpers.checkPreviousPaths({pathFromLine:c,pathFromArea:d,realIndex:b});c=D.pathFromLine,d=D.pathFromArea}return{prevX:w,prevY:C,linePath:a,areaPath:l,pathFromLine:c,pathFromArea:d}}},{key:"_handlePaths",value:function(s){var a=s.type,l=s.realIndex,c=s.i,d=s.paths,f=this.w,p=new _(this.ctx),m=new Se(this.ctx);this.prevSeriesY.push(d.yArrj),f.globals.seriesXvalues[l]=d.xArrj,f.globals.seriesYvalues[l]=d.yArrj;var b=f.config.forecastDataPoints;if(b.count>0&&a!=="rangeArea"){var w=f.globals.seriesXvalues[l][f.globals.seriesXvalues[l].length-b.count-1],C=p.drawRect(w,0,f.globals.gridWidth,f.globals.gridHeight,0);f.globals.dom.elForecastMask.appendChild(C.node);var A=p.drawRect(0,0,w,f.globals.gridHeight,0);f.globals.dom.elNonForecastMask.appendChild(A.node)}this.pointsChart||f.globals.delayedElements.push({el:this.elPointsMain.node,index:l});var L={i:c,realIndex:l,animationDelay:c,initialSpeed:f.config.chart.animations.speed,dataChangeSpeed:f.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(a)};if(a==="area")for(var P=m.fillPath({seriesNumber:l}),O=0;O<d.areaPaths.length;O++){var D=p.renderPaths(i(i({},L),{},{pathFrom:d.pathFromArea,pathTo:d.areaPaths[O],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:P}));this.elSeries.add(D)}if(f.config.stroke.show&&!this.pointsChart){var H=null;if(a==="line")H=m.fillPath({seriesNumber:l,i:c});else if(f.config.stroke.fill.type==="solid")H=f.globals.stroke.colors[l];else{var X=f.config.fill;f.config.fill=f.config.stroke.fill,H=m.fillPath({seriesNumber:l,i:c}),f.config.fill=X}for(var v=0;v<d.linePaths.length;v++){var k=H;a==="rangeArea"&&(k=m.fillPath({seriesNumber:l}));var E=i(i({},L),{},{pathFrom:d.pathFromLine,pathTo:d.linePaths[v],stroke:H,strokeWidth:this.strokeWidth,strokeLineCap:f.config.stroke.lineCap,fill:a==="rangeArea"?k:"none"}),V=p.renderPaths(E);if(this.elSeries.add(V),V.attr("fill-rule","evenodd"),b.count>0&&a!=="rangeArea"){var Y=p.renderPaths(E);Y.node.setAttribute("stroke-dasharray",b.dashArray),b.strokeWidth&&Y.node.setAttribute("stroke-width",b.strokeWidth),this.elSeries.add(Y),Y.attr("clip-path","url(#forecastMask".concat(f.globals.cuid,")")),V.attr("clip-path","url(#nonForecastMask".concat(f.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(s){var a=s.type,l=s.series,c=s.iterations,d=s.realIndex,f=s.i,p=s.x,m=s.y,b=s.pX,w=s.pY,C=s.pathsFrom,A=s.linePaths,L=s.areaPaths,P=s.seriesIndex,O=s.lineYPosition,D=s.xArrj,H=s.yArrj,X=s.isRangeStart,v=s.seriesRangeEnd,k=this.w,E=new _(this.ctx),V=this.yRatio,Y=C.prevY,U=C.linePath,J=C.areaPath,ee=C.pathFromLine,ae=C.pathFromArea,ce=N.isNumber(k.globals.minYArr[d])?k.globals.minYArr[d]:k.globals.minY;c||(c=k.globals.dataPoints>1?k.globals.dataPoints-1:k.globals.dataPoints);for(var ue=m,be=0;be<c;be++){var Le=l[f][be+1]===void 0||l[f][be+1]===null;if(k.globals.isXNumeric){var Re=k.globals.seriesX[d][be+1];k.globals.seriesX[d][be+1]===void 0&&(Re=k.globals.seriesX[d][c-1]),p=(Re-k.globals.minX)/this.xRatio}else p+=this.xDivision;k.config.chart.stacked?f>0&&k.globals.collapsedSeries.length<k.config.series.length-1?O=this.prevSeriesY[function(vt){for(var ot=vt,St=0;St<k.globals.series.length;St++)if(k.globals.collapsedSeriesIndices.indexOf(vt)>-1){ot--;break}return ot>=0?ot:0}(f-1)][be+1]:O=this.zeroY:O=this.zeroY,Le?m=O-ce/V[this.yaxisIndex]+2*(this.isReversed?ce/V[this.yaxisIndex]:0):(m=O-l[f][be+1]/V[this.yaxisIndex]+2*(this.isReversed?l[f][be+1]/V[this.yaxisIndex]:0),a==="rangeArea"&&(ue=O-v[f][be+1]/V[this.yaxisIndex]+2*(this.isReversed?v[f][be+1]/V[this.yaxisIndex]:0))),D.push(p),H.push(m);var Ne=this.lineHelpers.calculatePoints({series:l,x:p,y:m,realIndex:d,i:f,j:be,prevY:Y}),Ye=this._createPaths({type:a,series:l,i:f,realIndex:d,j:be,x:p,y:m,y2:ue,pX:b,pY:w,linePath:U,areaPath:J,linePaths:A,areaPaths:L,seriesIndex:P,isRangeStart:X});L=Ye.areaPaths,A=Ye.linePaths,b=Ye.pX,w=Ye.pY,J=Ye.areaPath,U=Ye.linePath,this.appendPathFrom&&(ee+=E.line(p,this.zeroY),ae+=E.line(p,this.zeroY)),this.handleNullDataPoints(l,Ne,f,be,d),this._handleMarkersAndLabels({type:a,pointsPos:Ne,i:f,j:be,realIndex:d,isRangeStart:X})}return{yArrj:H,xArrj:D,pathFromArea:ae,areaPaths:L,pathFromLine:ee,linePaths:A,linePath:U,areaPath:J}}},{key:"_handleMarkersAndLabels",value:function(s){var a=s.type,l=s.pointsPos,c=s.isRangeStart,d=s.i,f=s.j,p=s.realIndex,m=this.w,b=new Ae(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,f,{realIndex:p,pointsPos:l,zRatio:this.zRatio,elParent:this.elPointsMain});else{m.globals.series[d].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var w=this.markers.plotChartMarkers(l,p,f+1);w!==null&&this.elPointsMain.add(w)}var C=b.drawDataLabel({type:a,isRangeStart:c,pos:l,i:p,j:f+1});C!==null&&this.elDataLabelsWrap.add(C)}},{key:"_createPaths",value:function(s){var a=s.type,l=s.series,c=s.i,d=s.realIndex,f=s.j,p=s.x,m=s.y,b=s.y2,w=s.pX,C=s.pY,A=s.linePath,L=s.areaPath,P=s.linePaths,O=s.areaPaths,D=s.seriesIndex,H=s.isRangeStart,X=this.w,v=new _(this.ctx),k=X.config.stroke.curve,E=this.areaBottomY;if(Array.isArray(X.config.stroke.curve)&&(k=Array.isArray(D)?X.config.stroke.curve[D[c]]:X.config.stroke.curve[c]),k==="smooth"){var V=.35*(p-w);X.globals.hasNullValues?(l[c][f]!==null&&(l[c][f+1]!==null?(A=v.move(w,C)+v.curve(w+V,C,p-V,m,p+1,m),L=v.move(w+1,C)+v.curve(w+V,C,p-V,m,p+1,m)+v.line(p,E)+v.line(w,E)+"z"):(A=v.move(w,C),L=v.move(w,C)+"z")),P.push(A),O.push(L)):(A+=v.curve(w+V,C,p-V,m,p,m),L+=v.curve(w+V,C,p-V,m,p,m)),w=p,C=m,f===l[c].length-2&&(L=L+v.curve(w,C,p,m,p,E)+v.move(p,m)+"z",a==="rangeArea"&&H?A=A+v.curve(w,C,p,m,p,b)+v.move(p,b)+"z":X.globals.hasNullValues||(P.push(A),O.push(L)))}else{if(l[c][f+1]===null){A+=v.move(p,m);var Y=X.globals.isXNumeric?(X.globals.seriesX[d][f]-X.globals.minX)/this.xRatio:p-this.xDivision;L=L+v.line(Y,E)+v.move(p,m)+"z"}l[c][f]===null&&(A+=v.move(p,m),L+=v.move(p,E)),k==="stepline"?(A=A+v.line(p,null,"H")+v.line(null,m,"V"),L=L+v.line(p,null,"H")+v.line(null,m,"V")):k==="straight"&&(A+=v.line(p,m),L+=v.line(p,m)),f===l[c].length-2&&(L=L+v.line(p,E)+v.move(p,m)+"z",a==="rangeArea"&&H?A=A+v.line(p,b)+v.move(p,b)+"z":(P.push(A),O.push(L)))}return{linePaths:P,areaPaths:O,pX:w,pY:C,linePath:A,areaPath:L}}},{key:"handleNullDataPoints",value:function(s,a,l,c,d){var f=this.w;if(s[l][c]===null&&f.config.markers.showNullDataPoints||s[l].length===1){var p=this.markers.plotChartMarkers(a,d,c+1,this.strokeWidth-f.config.markers.strokeWidth/2,!0);p!==null&&this.elPointsMain.add(p)}}}]),z}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function z(p,m,b,w){this.xoffset=p,this.yoffset=m,this.height=w,this.width=b,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(C){var A,L=[],P=this.xoffset,O=this.yoffset,D=d(C)/this.height,H=d(C)/this.width;if(this.width>=this.height)for(A=0;A<C.length;A++)L.push([P,O,P+D,O+C[A]/D]),O+=C[A]/D;else for(A=0;A<C.length;A++)L.push([P,O,P+C[A]/H,O+H]),P+=C[A]/H;return L},this.cutArea=function(C){var A;if(this.width>=this.height){var L=C/this.height,P=this.width-L;A=new z(this.xoffset+L,this.yoffset,P,this.height)}else{var O=C/this.width,D=this.height-O;A=new z(this.xoffset,this.yoffset+O,this.width,D)}return A}}function s(p,m,b,w,C){w=w===void 0?0:w,C=C===void 0?0:C;var A=a(function(L,P){var O,D=[],H=P/d(L);for(O=0;O<L.length;O++)D[O]=L[O]*H;return D}(p,m*b),[],new z(w,C,m,b),[]);return function(L){var P,O,D=[];for(P=0;P<L.length;P++)for(O=0;O<L[P].length;O++)D.push(L[P][O]);return D}(A)}function a(p,m,b,w){var C,A,L;if(p.length!==0)return C=b.shortestEdge(),function(P,O,D){var H;if(P.length===0)return!0;(H=P.slice()).push(O);var X=l(P,D),v=l(H,D);return X>=v}(m,A=p[0],C)?(m.push(A),a(p.slice(1),m,b,w)):(L=b.cutArea(d(m),w),w.push(b.getCoordinates(m)),a(p,[],L,w)),w;w.push(b.getCoordinates(m))}function l(p,m){var b=Math.min.apply(Math,p),w=Math.max.apply(Math,p),C=d(p);return Math.max(Math.pow(m,2)*w/Math.pow(C,2),Math.pow(C,2)/(Math.pow(m,2)*b))}function c(p){return p&&p.constructor===Array}function d(p){var m,b=0;for(m=0;m<p.length;m++)b+=p[m];return b}function f(p){var m,b=0;if(c(p[0]))for(m=0;m<p.length;m++)b+=f(p[m]);else b=d(p);return b}return function p(m,b,w,C,A){C=C===void 0?0:C,A=A===void 0?0:A;var L,P,O=[],D=[];if(c(m[0])){for(P=0;P<m.length;P++)O[P]=f(m[P]);for(L=s(O,b,w,C,A),P=0;P<m.length;P++)D.push(p(m[P],L[P][2]-L[P][0],L[P][3]-L[P][1],L[P][0],L[P][1]))}else D=s(m,b,w,C,A);return D}}();var Xi,rs,Ql=function(){function z(s,a){o(this,z),this.ctx=s,this.w=s.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new ta(s),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return u(z,[{key:"draw",value:function(s){var a=this,l=this.w,c=new _(this.ctx),d=new Se(this.ctx),f=c.group({class:"apexcharts-treemap"});if(l.globals.noData)return f;var p=[];return s.forEach(function(m){var b=m.map(function(w){return Math.abs(w)});p.push(b)}),this.negRange=this.helpers.checkColorRange(),l.config.series.forEach(function(m,b){m.data.forEach(function(w){Array.isArray(a.labels[b])||(a.labels[b]=[]),a.labels[b].push(w.x)})}),window.TreemapSquared.generate(p,l.globals.gridWidth,l.globals.gridHeight).forEach(function(m,b){var w=c.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:N.escapeString(l.globals.seriesNames[b]),rel:b+1,"data:realIndex":b});if(l.config.chart.dropShadow.enabled){var C=l.config.chart.dropShadow;new K(a.ctx).dropShadow(f,C,b)}var A=c.group({class:"apexcharts-data-labels"});m.forEach(function(L,P){var O=L[0],D=L[1],H=L[2],X=L[3],v=c.drawRect(O,D,H-O,X-D,0,"#fff",1,a.strokeWidth,l.config.plotOptions.treemap.useFillColorAsStroke?E:l.globals.stroke.colors[b]);v.attr({cx:O,cy:D,index:b,i:b,j:P,width:H-O,height:X-D});var k=a.helpers.getShadeColor(l.config.chart.type,b,P,a.negRange),E=k.color;l.config.series[b].data[P]!==void 0&&l.config.series[b].data[P].fillColor&&(E=l.config.series[b].data[P].fillColor);var V=d.fillPath({color:E,seriesNumber:b,dataPointIndex:P});v.node.classList.add("apexcharts-treemap-rect"),v.attr({fill:V}),a.helpers.addListeners(v);var Y={x:O+(H-O)/2,y:D+(X-D)/2,width:0,height:0},U={x:O,y:D,width:H-O,height:X-D};if(l.config.chart.animations.enabled&&!l.globals.dataChanged){var J=1;l.globals.resized||(J=l.config.chart.animations.speed),a.animateTreemap(v,Y,U,J)}if(l.globals.dataChanged){var ee=1;a.dynamicAnim.enabled&&l.globals.shouldAnimate&&(ee=a.dynamicAnim.speed,l.globals.previousPaths[b]&&l.globals.previousPaths[b][P]&&l.globals.previousPaths[b][P].rect&&(Y=l.globals.previousPaths[b][P].rect),a.animateTreemap(v,Y,U,ee))}var ae=a.getFontSize(L),ce=l.config.dataLabels.formatter(a.labels[b][P],{value:l.globals.series[b][P],seriesIndex:b,dataPointIndex:P,w:l}),ue=a.helpers.calculateDataLabels({text:ce,x:(O+H)/2,y:(D+X)/2+a.strokeWidth/2+ae/3,i:b,j:P,colorProps:k,fontSize:ae,series:s});l.config.dataLabels.enabled&&ue&&a.rotateToFitLabel(ue,ae,ce,O,D,H,X),w.add(v),ue!==null&&w.add(ue)}),w.add(A),f.add(w)}),f}},{key:"getFontSize",value:function(s){var a=this.w,l,c,d,f,p=function m(b){var w,C=0;if(Array.isArray(b[0]))for(w=0;w<b.length;w++)C+=m(b[w]);else for(w=0;w<b.length;w++)C+=b[w].length;return C}(this.labels)/function m(b){var w,C=0;if(Array.isArray(b[0]))for(w=0;w<b.length;w++)C+=m(b[w]);else for(w=0;w<b.length;w++)C+=1;return C}(this.labels);return l=s[2]-s[0],c=s[3]-s[1],d=l*c,f=Math.pow(d,.5),Math.min(f/p,parseInt(a.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(s,a,l,c,d,f,p){var m=new _(this.ctx),b=m.getTextRects(l,a);if(b.width+this.w.config.stroke.width+5>f-c&&b.width<=p-d){var w=m.rotateAroundCenter(s.node);s.node.setAttribute("transform","rotate(-90 ".concat(w.x," ").concat(w.y,")"))}}},{key:"animateTreemap",value:function(s,a,l,c){var d=new G(this.ctx);d.animateRect(s,{x:a.x,y:a.y,width:a.width,height:a.height},{x:l.x,y:l.y,width:l.width,height:l.height},c,function(){d.animationCompleted(s)})}}]),z}(),eh=86400,th=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return u(z,[{key:"calculateTimeScaleTicks",value:function(s,a){var l=this,c=this.w;if(c.globals.allSeriesCollapsed)return c.globals.labels=[],c.globals.timescaleLabels=[],[];var d=new pe(this.ctx),f=(a-s)/864e5;this.determineInterval(f),c.globals.disableZoomIn=!1,c.globals.disableZoomOut=!1,f<.00011574074074074075?c.globals.disableZoomIn=!0:f>5e4&&(c.globals.disableZoomOut=!0);var p=d.getTimeUnitsfromTimestamp(s,a,this.utc),m=c.globals.gridWidth/f,b=m/24,w=b/60,C=w/60,A=Math.floor(24*f),L=Math.floor(1440*f),P=Math.floor(f*eh),O=Math.floor(f),D=Math.floor(f/30),H=Math.floor(f/365),X={minMillisecond:p.minMillisecond,minSecond:p.minSecond,minMinute:p.minMinute,minHour:p.minHour,minDate:p.minDate,minMonth:p.minMonth,minYear:p.minYear},v={firstVal:X,currentMillisecond:X.minMillisecond,currentSecond:X.minSecond,currentMinute:X.minMinute,currentHour:X.minHour,currentMonthDate:X.minDate,currentDate:X.minDate,currentMonth:X.minMonth,currentYear:X.minYear,daysWidthOnXAxis:m,hoursWidthOnXAxis:b,minutesWidthOnXAxis:w,secondsWidthOnXAxis:C,numberOfSeconds:P,numberOfMinutes:L,numberOfHours:A,numberOfDays:O,numberOfMonths:D,numberOfYears:H};switch(this.tickInterval){case"years":this.generateYearScale(v);break;case"months":case"half_year":this.generateMonthScale(v);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(v);break;case"hours":this.generateHourScale(v);break;case"minutes_fives":case"minutes":this.generateMinuteScale(v);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(v)}var k=this.timeScaleArray.map(function(E){var V={position:E.position,unit:E.unit,year:E.year,day:E.day?E.day:1,hour:E.hour?E.hour:0,month:E.month+1};return E.unit==="month"?i(i({},V),{},{day:1,value:E.value+1}):E.unit==="day"||E.unit==="hour"?i(i({},V),{},{value:E.value}):E.unit==="minute"?i(i({},V),{},{value:E.value,minute:E.value}):E.unit==="second"?i(i({},V),{},{value:E.value,minute:E.minute,second:E.second}):E});return k.filter(function(E){var V=1,Y=Math.ceil(c.globals.gridWidth/120),U=E.value;c.config.xaxis.tickAmount!==void 0&&(Y=c.config.xaxis.tickAmount),k.length>Y&&(V=Math.floor(k.length/Y));var J=!1,ee=!1;switch(l.tickInterval){case"years":E.unit==="year"&&(J=!0);break;case"half_year":V=7,E.unit==="year"&&(J=!0);break;case"months":V=1,E.unit==="year"&&(J=!0);break;case"months_fortnight":V=15,E.unit!=="year"&&E.unit!=="month"||(J=!0),U===30&&(ee=!0);break;case"months_days":V=10,E.unit==="month"&&(J=!0),U===30&&(ee=!0);break;case"week_days":V=8,E.unit==="month"&&(J=!0);break;case"days":V=1,E.unit==="month"&&(J=!0);break;case"hours":E.unit==="day"&&(J=!0);break;case"minutes_fives":case"seconds_fives":U%5!=0&&(ee=!0);break;case"seconds_tens":U%10!=0&&(ee=!0)}if(l.tickInterval==="hours"||l.tickInterval==="minutes_fives"||l.tickInterval==="seconds_tens"||l.tickInterval==="seconds_fives"){if(!ee)return!0}else if((U%V==0||J)&&!ee)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(s,a){var l=this.w,c=this.formatDates(s),d=this.removeOverlappingTS(c);l.globals.timescaleLabels=d.slice(),new _e(this.ctx).plotCoords()}},{key:"determineInterval",value:function(s){var a=24*s,l=60*a;switch(!0){case s/365>5:this.tickInterval="years";break;case s>800:this.tickInterval="half_year";break;case s>180:this.tickInterval="months";break;case s>90:this.tickInterval="months_fortnight";break;case s>60:this.tickInterval="months_days";break;case s>30:this.tickInterval="week_days";break;case s>2:this.tickInterval="days";break;case a>2.4:this.tickInterval="hours";break;case l>15:this.tickInterval="minutes_fives";break;case l>5:this.tickInterval="minutes";break;case l>1:this.tickInterval="seconds_tens";break;case 60*l>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(s){var a=s.firstVal,l=s.currentMonth,c=s.currentYear,d=s.daysWidthOnXAxis,f=s.numberOfYears,p=a.minYear,m=0,b=new pe(this.ctx),w="year";if(a.minDate>1||a.minMonth>0){var C=b.determineRemainingDaysOfYear(a.minYear,a.minMonth,a.minDate);m=(b.determineDaysOfYear(a.minYear)-C+1)*d,p=a.minYear+1,this.timeScaleArray.push({position:m,value:p,unit:w,year:p,month:N.monthMod(l+1)})}else a.minDate===1&&a.minMonth===0&&this.timeScaleArray.push({position:m,value:p,unit:w,year:c,month:N.monthMod(l+1)});for(var A=p,L=m,P=0;P<f;P++)A++,L=b.determineDaysOfYear(A-1)*d+L,this.timeScaleArray.push({position:L,value:A,unit:w,year:A,month:1})}},{key:"generateMonthScale",value:function(s){var a=s.firstVal,l=s.currentMonthDate,c=s.currentMonth,d=s.currentYear,f=s.daysWidthOnXAxis,p=s.numberOfMonths,m=c,b=0,w=new pe(this.ctx),C="month",A=0;if(a.minDate>1){b=(w.determineDaysOfMonths(c+1,a.minYear)-l+1)*f,m=N.monthMod(c+1);var L=d+A,P=N.monthMod(m),O=m;m===0&&(C="year",O=L,P=1,L+=A+=1),this.timeScaleArray.push({position:b,value:O,unit:C,year:L,month:P})}else this.timeScaleArray.push({position:b,value:m,unit:C,year:d,month:N.monthMod(c)});for(var D=m+1,H=b,X=0,v=1;X<p;X++,v++){(D=N.monthMod(D))===0?(C="year",A+=1):C="month";var k=this._getYear(d,D,A);H=w.determineDaysOfMonths(D,k)*f+H;var E=D===0?k:D;this.timeScaleArray.push({position:H,value:E,unit:C,year:k,month:D===0?1:D}),D++}}},{key:"generateDayScale",value:function(s){var a=s.firstVal,l=s.currentMonth,c=s.currentYear,d=s.hoursWidthOnXAxis,f=s.numberOfDays,p=new pe(this.ctx),m="day",b=a.minDate+1,w=b,C=function(v,k,E){return v>p.determineDaysOfMonths(k+1,E)&&(w=1,m="month",L=k+=1),k},A=(24-a.minHour)*d,L=b,P=C(w,l,c);a.minHour===0&&a.minDate===1?(A=0,L=N.monthMod(a.minMonth),m="month",w=a.minDate,f++):a.minDate!==1&&a.minHour===0&&a.minMinute===0&&(A=0,b=a.minDate,L=b,P=C(w=b,l,c)),this.timeScaleArray.push({position:A,value:L,unit:m,year:this._getYear(c,P,0),month:N.monthMod(P),day:w});for(var O=A,D=0;D<f;D++){m="day",P=C(w+=1,P,this._getYear(c,P,0));var H=this._getYear(c,P,0);O=24*d+O;var X=w===1?N.monthMod(P):w;this.timeScaleArray.push({position:O,value:X,unit:m,year:H,month:N.monthMod(P),day:X})}}},{key:"generateHourScale",value:function(s){var a=s.firstVal,l=s.currentDate,c=s.currentMonth,d=s.currentYear,f=s.minutesWidthOnXAxis,p=s.numberOfHours,m=new pe(this.ctx),b="hour",w=function(V,Y){return V>m.determineDaysOfMonths(Y+1,d)&&(D=1,Y+=1),{month:Y,date:D}},C=function(V,Y){return V>m.determineDaysOfMonths(Y+1,d)?Y+=1:Y},A=60-(a.minMinute+a.minSecond/60),L=A*f,P=a.minHour+1,O=P+1;A===60&&(L=0,O=(P=a.minHour)+1);var D=l,H=C(D,c);this.timeScaleArray.push({position:L,value:P,unit:b,day:D,hour:O,year:d,month:N.monthMod(H)});for(var X=L,v=0;v<p;v++){b="hour",O>=24&&(O=0,b="day",H=w(D+=1,H).month,H=C(D,H));var k=this._getYear(d,H,0);X=60*f+X;var E=O===0?D:O;this.timeScaleArray.push({position:X,value:E,unit:b,hour:O,day:D,year:k,month:N.monthMod(H)}),O++}}},{key:"generateMinuteScale",value:function(s){for(var a=s.currentMillisecond,l=s.currentSecond,c=s.currentMinute,d=s.currentHour,f=s.currentDate,p=s.currentMonth,m=s.currentYear,b=s.minutesWidthOnXAxis,w=s.secondsWidthOnXAxis,C=s.numberOfMinutes,A=c+1,L=f,P=p,O=m,D=d,H=(60-l-a/1e3)*w,X=0;X<C;X++)A>=60&&(A=0,(D+=1)===24&&(D=0)),this.timeScaleArray.push({position:H,value:A,unit:"minute",hour:D,minute:A,day:L,year:this._getYear(O,P,0),month:N.monthMod(P)}),H+=b,A++}},{key:"generateSecondScale",value:function(s){for(var a=s.currentMillisecond,l=s.currentSecond,c=s.currentMinute,d=s.currentHour,f=s.currentDate,p=s.currentMonth,m=s.currentYear,b=s.secondsWidthOnXAxis,w=s.numberOfSeconds,C=l+1,A=c,L=f,P=p,O=m,D=d,H=(1e3-a)/1e3*b,X=0;X<w;X++)C>=60&&(C=0,++A>=60&&(A=0,++D===24&&(D=0))),this.timeScaleArray.push({position:H,value:C,unit:"second",hour:D,minute:A,second:C,day:L,year:this._getYear(O,P,0),month:N.monthMod(P)}),H+=b,C++}},{key:"createRawDateString",value:function(s,a){var l=s.year;return s.month===0&&(s.month=1),l+="-"+("0"+s.month.toString()).slice(-2),s.unit==="day"?l+=s.unit==="day"?"-"+("0"+a).slice(-2):"-01":l+="-"+("0"+(s.day?s.day:"1")).slice(-2),s.unit==="hour"?l+=s.unit==="hour"?"T"+("0"+a).slice(-2):"T00":l+="T"+("0"+(s.hour?s.hour:"0")).slice(-2),s.unit==="minute"?l+=":"+("0"+a).slice(-2):l+=":"+(s.minute?("0"+s.minute).slice(-2):"00"),s.unit==="second"?l+=":"+("0"+a).slice(-2):l+=":00",this.utc&&(l+=".000Z"),l}},{key:"formatDates",value:function(s){var a=this,l=this.w;return s.map(function(c){var d=c.value.toString(),f=new pe(a.ctx),p=a.createRawDateString(c,d),m=f.getDate(f.parseDate(p));if(a.utc||(m=f.getDate(f.parseDateWithTimezone(p))),l.config.xaxis.labels.format===void 0){var b="dd MMM",w=l.config.xaxis.labels.datetimeFormatter;c.unit==="year"&&(b=w.year),c.unit==="month"&&(b=w.month),c.unit==="day"&&(b=w.day),c.unit==="hour"&&(b=w.hour),c.unit==="minute"&&(b=w.minute),c.unit==="second"&&(b=w.second),d=f.formatDate(m,b)}else d=f.formatDate(m,l.config.xaxis.labels.format);return{dateString:p,position:c.position,value:d,unit:c.unit,year:c.year,month:c.month}})}},{key:"removeOverlappingTS",value:function(s){var a,l=this,c=new _(this.ctx),d=!1;s.length>0&&s[0].value&&s.every(function(m){return m.value.length===s[0].value.length})&&(d=!0,a=c.getTextRects(s[0].value).width);var f=0,p=s.map(function(m,b){if(b>0&&l.w.config.xaxis.labels.hideOverlappingLabels){var w=d?a:c.getTextRects(s[f].value).width,C=s[f].position;return m.position>C+w+10?(f=b,m):null}return m});return p=p.filter(function(m){return m!==null})}},{key:"_getYear",value:function(s,a,l){return s+Math.floor(a/12)+l}}]),z}(),ih=function(){function z(s,a){o(this,z),this.ctx=a,this.w=a.w,this.el=s}return u(z,[{key:"setupElements",value:function(){var s=this.w.globals,a=this.w.config,l=a.chart.type;s.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(l)>-1,s.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(l)>-1,s.isBarHorizontal=(a.chart.type==="bar"||a.chart.type==="rangeBar"||a.chart.type==="boxPlot")&&a.plotOptions.bar.horizontal,s.chartClass=".apexcharts"+s.chartID,s.dom.baseEl=this.el,s.dom.elWrap=document.createElement("div"),_.setAttrs(s.dom.elWrap,{id:s.chartClass.substring(1),class:"apexcharts-canvas "+s.chartClass.substring(1)}),this.el.appendChild(s.dom.elWrap),s.dom.Paper=new window.SVG.Doc(s.dom.elWrap),s.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(a.chart.offsetX,", ").concat(a.chart.offsetY,")")}),s.dom.Paper.node.style.background=a.chart.background,this.setSVGDimensions(),s.dom.elLegendForeign=document.createElementNS(s.SVGNS,"foreignObject"),_.setAttrs(s.dom.elLegendForeign,{x:0,y:0,width:s.svgWidth,height:s.svgHeight}),s.dom.elLegendWrap=document.createElement("div"),s.dom.elLegendWrap.classList.add("apexcharts-legend"),s.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),s.dom.elLegendForeign.appendChild(s.dom.elLegendWrap),s.dom.Paper.node.appendChild(s.dom.elLegendForeign),s.dom.elGraphical=s.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),s.dom.elDefs=s.dom.Paper.defs(),s.dom.Paper.add(s.dom.elGraphical),s.dom.elGraphical.add(s.dom.elDefs)}},{key:"plotChartType",value:function(s,a){var l=this.w,c=l.config,d=l.globals,f={series:[],i:[]},p={series:[],i:[]},m={series:[],i:[]},b={series:[],i:[]},w={series:[],i:[]},C={series:[],i:[]},A={series:[],i:[]},L={series:[],i:[]},P={series:[],seriesRangeEnd:[],i:[]};d.series.map(function(Y,U){var J=0;s[U].type!==void 0?(s[U].type==="column"||s[U].type==="bar"?(d.series.length>1&&c.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),w.series.push(Y),w.i.push(U),J++,l.globals.columnSeries=w.series):s[U].type==="area"?(p.series.push(Y),p.i.push(U),J++):s[U].type==="line"?(f.series.push(Y),f.i.push(U),J++):s[U].type==="scatter"?(m.series.push(Y),m.i.push(U)):s[U].type==="bubble"?(b.series.push(Y),b.i.push(U),J++):s[U].type==="candlestick"?(C.series.push(Y),C.i.push(U),J++):s[U].type==="boxPlot"?(A.series.push(Y),A.i.push(U),J++):s[U].type==="rangeBar"?(L.series.push(Y),L.i.push(U),J++):s[U].type==="rangeArea"?(P.series.push(d.seriesRangeStart[U]),P.seriesRangeEnd.push(d.seriesRangeEnd[U]),P.i.push(U),J++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),J>1&&(d.comboCharts=!0)):(f.series.push(Y),f.i.push(U))});var O=new js(this.ctx,a),D=new Ws(this.ctx,a);this.ctx.pie=new ra(this.ctx);var H=new Zl(this.ctx);this.ctx.rangeBar=new Kl(this.ctx,a);var X=new $l(this.ctx),v=[];if(d.comboCharts){if(p.series.length>0&&v.push(O.draw(p.series,"area",p.i)),w.series.length>0)if(l.config.chart.stacked){var k=new ea(this.ctx,a);v.push(k.draw(w.series,w.i))}else this.ctx.bar=new lr(this.ctx,a),v.push(this.ctx.bar.draw(w.series,w.i));if(P.series.length>0&&v.push(O.draw(P.series,"rangeArea",P.i,P.seriesRangeEnd)),f.series.length>0&&v.push(O.draw(f.series,"line",f.i)),C.series.length>0&&v.push(D.draw(C.series,"candlestick",C.i)),A.series.length>0&&v.push(D.draw(A.series,"boxPlot",A.i)),L.series.length>0&&v.push(this.ctx.rangeBar.draw(L.series,L.i)),m.series.length>0){var E=new js(this.ctx,a,!0);v.push(E.draw(m.series,"scatter",m.i))}if(b.series.length>0){var V=new js(this.ctx,a,!0);v.push(V.draw(b.series,"bubble",b.i))}}else switch(c.chart.type){case"line":v=O.draw(d.series,"line");break;case"area":v=O.draw(d.series,"area");break;case"bar":c.chart.stacked?v=new ea(this.ctx,a).draw(d.series):(this.ctx.bar=new lr(this.ctx,a),v=this.ctx.bar.draw(d.series));break;case"candlestick":v=new Ws(this.ctx,a).draw(d.series,"candlestick");break;case"boxPlot":v=new Ws(this.ctx,a).draw(d.series,c.chart.type);break;case"rangeBar":v=this.ctx.rangeBar.draw(d.series);break;case"rangeArea":v=O.draw(d.seriesRangeStart,"rangeArea",void 0,d.seriesRangeEnd);break;case"heatmap":v=new ql(this.ctx,a).draw(d.series);break;case"treemap":v=new Ql(this.ctx,a).draw(d.series);break;case"pie":case"donut":case"polarArea":v=this.ctx.pie.draw(d.series);break;case"radialBar":v=H.draw(d.series);break;case"radar":v=X.draw(d.series);break;default:v=O.draw(d.series)}return v}},{key:"setSVGDimensions",value:function(){var s=this.w.globals,a=this.w.config;s.svgWidth=a.chart.width,s.svgHeight=a.chart.height;var l=N.getDimensions(this.el),c=a.chart.width.toString().split(/[0-9]+/g).pop();c==="%"?N.isNumber(l[0])&&(l[0].width===0&&(l=N.getDimensions(this.el.parentNode)),s.svgWidth=l[0]*parseInt(a.chart.width,10)/100):c!=="px"&&c!==""||(s.svgWidth=parseInt(a.chart.width,10));var d=a.chart.height.toString().split(/[0-9]+/g).pop();if(s.svgHeight!=="auto"&&s.svgHeight!=="")if(d==="%"){var f=N.getDimensions(this.el.parentNode);s.svgHeight=f[1]*parseInt(a.chart.height,10)/100}else s.svgHeight=parseInt(a.chart.height,10);else s.axisCharts?s.svgHeight=s.svgWidth/1.61:s.svgHeight=s.svgWidth/1.2;if(s.svgWidth<0&&(s.svgWidth=0),s.svgHeight<0&&(s.svgHeight=0),_.setAttrs(s.dom.Paper.node,{width:s.svgWidth,height:s.svgHeight}),d!=="%"){var p=a.chart.sparkline.enabled?0:s.axisCharts?a.chart.parentHeightOffset:0;s.dom.Paper.node.parentNode.parentNode.style.minHeight=s.svgHeight+p+"px"}s.dom.elWrap.style.width=s.svgWidth+"px",s.dom.elWrap.style.height=s.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var s=this.w.globals,a=s.translateY,l={transform:"translate("+s.translateX+", "+a+")"};_.setAttrs(s.dom.elGraphical.node,l)}},{key:"resizeNonAxisCharts",value:function(){var s=this.w,a=s.globals,l=0,c=s.config.chart.sparkline.enabled?1:15;c+=s.config.grid.padding.bottom,s.config.legend.position!=="top"&&s.config.legend.position!=="bottom"||!s.config.legend.show||s.config.legend.floating||(l=new ft(this.ctx).legendHelpers.getLegendBBox().clwh+10);var d=s.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),f=2.05*s.globals.radialSize;if(d&&!s.config.chart.sparkline.enabled&&s.config.plotOptions.radialBar.startAngle!==0){var p=N.getBoundingClientRect(d);f=p.bottom;var m=p.bottom-p.top;f=Math.max(2.05*s.globals.radialSize,m)}var b=f+a.translateY+l+c;a.dom.elLegendForeign&&a.dom.elLegendForeign.setAttribute("height",b),s.config.chart.height&&String(s.config.chart.height).indexOf("%")>0||(a.dom.elWrap.style.height=b+"px",_.setAttrs(a.dom.Paper.node,{height:b}),a.dom.Paper.node.parentNode.parentNode.style.minHeight=b+"px")}},{key:"coreCalculations",value:function(){new It(this.ctx).init()}},{key:"resetGlobals",value:function(){var s=this,a=function(){return s.w.config.series.map(function(d){return[]})},l=new qe,c=this.w.globals;l.initGlobalVars(c),c.seriesXvalues=a(),c.seriesYvalues=a()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var s=null,a=this.w;if(a.globals.axisCharts){if(a.config.xaxis.crosshairs.position==="back"&&new $(this.ctx).drawXCrosshairs(),a.config.yaxis[0].crosshairs.position==="back"&&new $(this.ctx).drawYCrosshairs(),a.config.xaxis.type==="datetime"&&a.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new th(this.ctx);var l=[];isFinite(a.globals.minX)&&isFinite(a.globals.maxX)&&!a.globals.isBarHorizontal?l=this.ctx.timeScale.calculateTimeScaleTicks(a.globals.minX,a.globals.maxX):a.globals.isBarHorizontal&&(l=this.ctx.timeScale.calculateTimeScaleTicks(a.globals.minY,a.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(l)}s=new Q(this.ctx).getCalculatedRatios()}return s}},{key:"updateSourceChart",value:function(s){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:s.w.globals.minX,max:s.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var s=this,a=this.w;if(a.config.chart.brush.enabled&&typeof a.config.chart.events.selection!="function"){var l=a.config.chart.brush.targets||[a.config.chart.brush.target];l.forEach(function(c){var d=ApexCharts.getChartByID(c);d.w.globals.brushSource=s.ctx,typeof d.w.config.chart.events.zoomed!="function"&&(d.w.config.chart.events.zoomed=function(){s.updateSourceChart(d)}),typeof d.w.config.chart.events.scrolled!="function"&&(d.w.config.chart.events.scrolled=function(){s.updateSourceChart(d)})}),a.config.chart.events.selection=function(c,d){l.forEach(function(f){var p=ApexCharts.getChartByID(f),m=N.clone(a.config.yaxis);if(a.config.chart.brush.autoScaleYaxis&&p.w.globals.series.length===1){var b=new mt(p);m=b.autoScaleY(p,m,d)}var w=p.w.config.yaxis.reduce(function(C,A,L){return[].concat(I(C),[i(i({},p.w.config.yaxis[L]),{},{min:m[0].min,max:m[0].max})])},[]);p.ctx.updateHelpers._updateOptions({xaxis:{min:d.xaxis.min,max:d.xaxis.max},yaxis:w},!1,!1,!1,!1)})}}}}]),z}(),rh=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"_updateOptions",value:function(s){var a=this,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],d=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(p){var m=[a.ctx];d&&(m=a.ctx.getSyncedCharts()),a.ctx.w.globals.isExecCalled&&(m=[a.ctx],a.ctx.w.globals.isExecCalled=!1),m.forEach(function(b,w){var C=b.w;if(C.globals.shouldAnimate=c,l||(C.globals.resized=!0,C.globals.dataChanged=!0,c&&b.series.getPreviousPaths()),s&&r(s)==="object"&&(b.config=new Me(s),s=Q.extendArrayProps(b.config,s,C),b.w.globals.chartID!==a.ctx.w.globals.chartID&&delete s.series,C.config=N.extend(C.config,s),f&&(C.globals.lastXAxis=s.xaxis?N.clone(s.xaxis):[],C.globals.lastYAxis=s.yaxis?N.clone(s.yaxis):[],C.globals.initialConfig=N.extend({},C.config),C.globals.initialSeries=N.clone(C.config.series),s.series))){for(var A=0;A<C.globals.collapsedSeriesIndices.length;A++){var L=C.config.series[C.globals.collapsedSeriesIndices[A]];C.globals.collapsedSeries[A].data=C.globals.axisCharts?L.data.slice():L}for(var P=0;P<C.globals.ancillaryCollapsedSeriesIndices.length;P++){var O=C.config.series[C.globals.ancillaryCollapsedSeriesIndices[P]];C.globals.ancillaryCollapsedSeries[P].data=C.globals.axisCharts?O.data.slice():O}b.series.emptyCollapsedSeries(C.config.series)}return b.update(s).then(function(){w===m.length-1&&p(b)})})})}},{key:"_updateSeries",value:function(s,a){var l=this,c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(d){var f,p=l.w;return p.globals.shouldAnimate=a,p.globals.dataChanged=!0,a&&l.ctx.series.getPreviousPaths(),p.globals.axisCharts?((f=s.map(function(m,b){return l._extendSeries(m,b)})).length===0&&(f=[{data:[]}]),p.config.series=f):p.config.series=s.slice(),c&&(p.globals.initialConfig.series=N.clone(p.config.series),p.globals.initialSeries=N.clone(p.config.series)),l.ctx.update().then(function(){d(l.ctx)})})}},{key:"_extendSeries",value:function(s,a){var l=this.w,c=l.config.series[a];return i(i({},l.config.series[a]),{},{name:s.name?s.name:c&&c.name,color:s.color?s.color:c&&c.color,type:s.type?s.type:c&&c.type,data:s.data?s.data:c&&c.data})}},{key:"toggleDataPointSelection",value:function(s,a){var l=this.w,c=null,d=".apexcharts-series[data\\:realIndex='".concat(s,"']");return l.globals.axisCharts?c=l.globals.dom.Paper.select("".concat(d," path[j='").concat(a,"'], ").concat(d," circle[j='").concat(a,"'], ").concat(d," rect[j='").concat(a,"']")).members[0]:a===void 0&&(c=l.globals.dom.Paper.select("".concat(d," path[j='").concat(s,"']")).members[0],l.config.chart.type!=="pie"&&l.config.chart.type!=="polarArea"&&l.config.chart.type!=="donut"||this.ctx.pie.pieClicked(s)),c?(new _(this.ctx).pathMouseDown(c,null),c.node?c.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(s){var a=this.w;if(["min","max"].forEach(function(c){s.xaxis[c]!==void 0&&(a.config.xaxis[c]=s.xaxis[c],a.globals.lastXAxis[c]=s.xaxis[c])}),s.xaxis.categories&&s.xaxis.categories.length&&(a.config.xaxis.categories=s.xaxis.categories),a.config.xaxis.convertedCatToNumeric){var l=new nt(s);s=l.convertCatToNumericXaxis(s,this.ctx)}return s}},{key:"forceYAxisUpdate",value:function(s){return s.chart&&s.chart.stacked&&s.chart.stackType==="100%"&&(Array.isArray(s.yaxis)?s.yaxis.forEach(function(a,l){s.yaxis[l].min=0,s.yaxis[l].max=100}):(s.yaxis.min=0,s.yaxis.max=100)),s}},{key:"revertDefaultAxisMinMax",value:function(s){var a=this,l=this.w,c=l.globals.lastXAxis,d=l.globals.lastYAxis;s&&s.xaxis&&(c=s.xaxis),s&&s.yaxis&&(d=s.yaxis),l.config.xaxis.min=c.min,l.config.xaxis.max=c.max;var f=function(p){d[p]!==void 0&&(l.config.yaxis[p].min=d[p].min,l.config.yaxis[p].max=d[p].max)};l.config.yaxis.map(function(p,m){l.globals.zoomed||d[m]!==void 0?f(m):a.ctx.opts.yaxis[m]!==void 0&&(p.min=a.ctx.opts.yaxis[m].min,p.max=a.ctx.opts.yaxis[m].max)})}}]),z}();Xi=typeof window<"u"?window:void 0,rs=function(z,s){var a=(this!==void 0?this:z).SVG=function(v){if(a.supported)return v=new a.Doc(v),a.parser.draw||a.prepare(),v};if(a.ns="http://www.w3.org/2000/svg",a.xmlns="http://www.w3.org/2000/xmlns/",a.xlink="http://www.w3.org/1999/xlink",a.svgjs="http://svgjs.dev",a.supported=!0,!a.supported)return!1;a.did=1e3,a.eid=function(v){return"Svgjs"+w(v)+a.did++},a.create=function(v){var k=s.createElementNS(this.ns,v);return k.setAttribute("id",this.eid(v)),k},a.extend=function(){var v,k;k=(v=[].slice.call(arguments)).pop();for(var E=v.length-1;E>=0;E--)if(v[E])for(var V in k)v[E].prototype[V]=k[V];a.Set&&a.Set.inherit&&a.Set.inherit()},a.invent=function(v){var k=typeof v.create=="function"?v.create:function(){this.constructor.call(this,a.create(v.create))};return v.inherit&&(k.prototype=new v.inherit),v.extend&&a.extend(k,v.extend),v.construct&&a.extend(v.parent||a.Container,v.construct),k},a.adopt=function(v){return v?v.instance?v.instance:((k=v.nodeName=="svg"?v.parentNode instanceof z.SVGElement?new a.Nested:new a.Doc:v.nodeName=="linearGradient"?new a.Gradient("linear"):v.nodeName=="radialGradient"?new a.Gradient("radial"):a[w(v.nodeName)]?new a[w(v.nodeName)]:new a.Element(v)).type=v.nodeName,k.node=v,v.instance=k,k instanceof a.Doc&&k.namespace().defs(),k.setData(JSON.parse(v.getAttribute("svgjs:data"))||{}),k):null;var k},a.prepare=function(){var v=s.getElementsByTagName("body")[0],k=(v?new a.Doc(v):a.adopt(s.documentElement).nested()).size(2,0);a.parser={body:v||s.documentElement,draw:k.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:k.polyline().node,path:k.path().node,native:a.create("svg")}},a.parser={native:a.create("svg")},s.addEventListener("DOMContentLoaded",function(){a.parser.draw||a.prepare()},!1),a.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},a.utils={map:function(v,k){for(var E=v.length,V=[],Y=0;Y<E;Y++)V.push(k(v[Y]));return V},filter:function(v,k){for(var E=v.length,V=[],Y=0;Y<E;Y++)k(v[Y])&&V.push(v[Y]);return V},filterSVGElements:function(v){return this.filter(v,function(k){return k instanceof z.SVGElement})}},a.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},a.Color=function(v){var k,E;this.r=0,this.g=0,this.b=0,v&&(typeof v=="string"?a.regex.isRgb.test(v)?(k=a.regex.rgb.exec(v.replace(a.regex.whitespace,"")),this.r=parseInt(k[1]),this.g=parseInt(k[2]),this.b=parseInt(k[3])):a.regex.isHex.test(v)&&(k=a.regex.hex.exec((E=v).length==4?["#",E.substring(1,2),E.substring(1,2),E.substring(2,3),E.substring(2,3),E.substring(3,4),E.substring(3,4)].join(""):E),this.r=parseInt(k[1],16),this.g=parseInt(k[2],16),this.b=parseInt(k[3],16)):r(v)==="object"&&(this.r=v.r,this.g=v.g,this.b=v.b))},a.extend(a.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+C(this.r)+C(this.g)+C(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(v){return this.destination=new a.Color(v),this},at:function(v){return this.destination?(v=v<0?0:v>1?1:v,new a.Color({r:~~(this.r+(this.destination.r-this.r)*v),g:~~(this.g+(this.destination.g-this.g)*v),b:~~(this.b+(this.destination.b-this.b)*v)})):this}}),a.Color.test=function(v){return v+="",a.regex.isHex.test(v)||a.regex.isRgb.test(v)},a.Color.isRgb=function(v){return v&&typeof v.r=="number"&&typeof v.g=="number"&&typeof v.b=="number"},a.Color.isColor=function(v){return a.Color.isRgb(v)||a.Color.test(v)},a.Array=function(v,k){(v=(v||[]).valueOf()).length==0&&k&&(v=k.valueOf()),this.value=this.parse(v)},a.extend(a.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(v){return v=v.valueOf(),Array.isArray(v)?v:this.split(v)}}),a.PointArray=function(v,k){a.Array.call(this,v,k||[[0,0]])},a.PointArray.prototype=new a.Array,a.PointArray.prototype.constructor=a.PointArray;for(var l={M:function(v,k,E){return k.x=E.x=v[0],k.y=E.y=v[1],["M",k.x,k.y]},L:function(v,k){return k.x=v[0],k.y=v[1],["L",v[0],v[1]]},H:function(v,k){return k.x=v[0],["H",v[0]]},V:function(v,k){return k.y=v[0],["V",v[0]]},C:function(v,k){return k.x=v[4],k.y=v[5],["C",v[0],v[1],v[2],v[3],v[4],v[5]]},Q:function(v,k){return k.x=v[2],k.y=v[3],["Q",v[0],v[1],v[2],v[3]]},Z:function(v,k,E){return k.x=E.x,k.y=E.y,["Z"]}},c="mlhvqtcsaz".split(""),d=0,f=c.length;d<f;++d)l[c[d]]=function(v){return function(k,E,V){if(v=="H")k[0]=k[0]+E.x;else if(v=="V")k[0]=k[0]+E.y;else if(v=="A")k[5]=k[5]+E.x,k[6]=k[6]+E.y;else for(var Y=0,U=k.length;Y<U;++Y)k[Y]=k[Y]+(Y%2?E.y:E.x);if(l&&typeof l[v]=="function")return l[v](k,E,V)}}(c[d].toUpperCase());a.PathArray=function(v,k){a.Array.call(this,v,k||[["M",0,0]])},a.PathArray.prototype=new a.Array,a.PathArray.prototype.constructor=a.PathArray,a.extend(a.PathArray,{toString:function(){return function(v){for(var k=0,E=v.length,V="";k<E;k++)V+=v[k][0],v[k][1]!=null&&(V+=v[k][1],v[k][2]!=null&&(V+=" ",V+=v[k][2],v[k][3]!=null&&(V+=" ",V+=v[k][3],V+=" ",V+=v[k][4],v[k][5]!=null&&(V+=" ",V+=v[k][5],V+=" ",V+=v[k][6],v[k][7]!=null&&(V+=" ",V+=v[k][7])))));return V+" "}(this.value)},move:function(v,k){var E=this.bbox();return E.x,E.y,this},at:function(v){if(!this.destination)return this;for(var k=this.value,E=this.destination.value,V=[],Y=new a.PathArray,U=0,J=k.length;U<J;U++){V[U]=[k[U][0]];for(var ee=1,ae=k[U].length;ee<ae;ee++)V[U][ee]=k[U][ee]+(E[U][ee]-k[U][ee])*v;V[U][0]==="A"&&(V[U][4]=+(V[U][4]!=0),V[U][5]=+(V[U][5]!=0))}return Y.value=V,Y},parse:function(v){if(v instanceof a.PathArray)return v.valueOf();var k,E={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};v=typeof v=="string"?v.replace(a.regex.numbersWithDots,m).replace(a.regex.pathLetters," $& ").replace(a.regex.hyphen,"$1 -").trim().split(a.regex.delimiter):v.reduce(function(ae,ce){return[].concat.call(ae,ce)},[]);var V=[],Y=new a.Point,U=new a.Point,J=0,ee=v.length;do a.regex.isPathLetter.test(v[J])?(k=v[J],++J):k=="M"?k="L":k=="m"&&(k="l"),V.push(l[k].call(null,v.slice(J,J+=E[k.toUpperCase()]).map(parseFloat),Y,U));while(ee>J);return V},bbox:function(){return a.parser.draw||a.prepare(),a.parser.path.setAttribute("d",this.toString()),a.parser.path.getBBox()}}),a.Number=a.invent({create:function(v,k){this.value=0,this.unit=k||"",typeof v=="number"?this.value=isNaN(v)?0:isFinite(v)?v:v<0?-34e37:34e37:typeof v=="string"?(k=v.match(a.regex.numberAndUnit))&&(this.value=parseFloat(k[1]),k[5]=="%"?this.value/=100:k[5]=="s"&&(this.value*=1e3),this.unit=k[5]):v instanceof a.Number&&(this.value=v.valueOf(),this.unit=v.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(v){return v=new a.Number(v),new a.Number(this+v,this.unit||v.unit)},minus:function(v){return v=new a.Number(v),new a.Number(this-v,this.unit||v.unit)},times:function(v){return v=new a.Number(v),new a.Number(this*v,this.unit||v.unit)},divide:function(v){return v=new a.Number(v),new a.Number(this/v,this.unit||v.unit)},to:function(v){var k=new a.Number(this);return typeof v=="string"&&(k.unit=v),k},morph:function(v){return this.destination=new a.Number(v),v.relative&&(this.destination.value+=this.value),this},at:function(v){return this.destination?new a.Number(this.destination).minus(this).times(v).plus(this):this}}}),a.Element=a.invent({create:function(v){this._stroke=a.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=v)&&(this.type=v.nodeName,this.node.instance=this,this._stroke=v.getAttribute("stroke")||this._stroke)},extend:{x:function(v){return this.attr("x",v)},y:function(v){return this.attr("y",v)},cx:function(v){return v==null?this.x()+this.width()/2:this.x(v-this.width()/2)},cy:function(v){return v==null?this.y()+this.height()/2:this.y(v-this.height()/2)},move:function(v,k){return this.x(v).y(k)},center:function(v,k){return this.cx(v).cy(k)},width:function(v){return this.attr("width",v)},height:function(v){return this.attr("height",v)},size:function(v,k){var E=A(this,v,k);return this.width(new a.Number(E.width)).height(new a.Number(E.height))},clone:function(v){this.writeDataToDom();var k=O(this.node.cloneNode(!0));return v?v.add(k):this.after(k),k},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(v){return this.after(v).remove(),v},addTo:function(v){return v.put(this)},putIn:function(v){return v.add(this)},id:function(v){return this.attr("id",v)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var v=this.attr("class");return v==null?[]:v.trim().split(a.regex.delimiter)},hasClass:function(v){return this.classes().indexOf(v)!=-1},addClass:function(v){if(!this.hasClass(v)){var k=this.classes();k.push(v),this.attr("class",k.join(" "))}return this},removeClass:function(v){return this.hasClass(v)&&this.attr("class",this.classes().filter(function(k){return k!=v}).join(" ")),this},toggleClass:function(v){return this.hasClass(v)?this.removeClass(v):this.addClass(v)},reference:function(v){return a.get(this.attr(v))},parent:function(v){var k=this;if(!k.node.parentNode)return null;if(k=a.adopt(k.node.parentNode),!v)return k;for(;k&&k.node instanceof z.SVGElement;){if(typeof v=="string"?k.matches(v):k instanceof v)return k;if(!k.node.parentNode||k.node.parentNode.nodeName=="#document")return null;k=a.adopt(k.node.parentNode)}},doc:function(){return this instanceof a.Doc?this:this.parent(a.Doc)},parents:function(v){var k=[],E=this;do{if(!(E=E.parent(v))||!E.node)break;k.push(E)}while(E.parent);return k},matches:function(v){return function(k,E){return(k.matches||k.matchesSelector||k.msMatchesSelector||k.mozMatchesSelector||k.webkitMatchesSelector||k.oMatchesSelector).call(k,E)}(this.node,v)},native:function(){return this.node},svg:function(v){var k=s.createElement("svg");if(!(v&&this instanceof a.Parent))return k.appendChild(v=s.createElement("svg")),this.writeDataToDom(),v.appendChild(this.node.cloneNode(!0)),k.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");k.innerHTML="<svg>"+v.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var E=0,V=k.firstChild.childNodes.length;E<V;E++)this.node.appendChild(k.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(v){return this.dom=v,this},is:function(v){return function(k,E){return k instanceof E}(this,v)}}}),a.easing={"-":function(v){return v},"<>":function(v){return-Math.cos(v*Math.PI)/2+.5},">":function(v){return Math.sin(v*Math.PI/2)},"<":function(v){return 1-Math.cos(v*Math.PI/2)}},a.morph=function(v){return function(k,E){return new a.MorphObj(k,E).at(v)}},a.Situation=a.invent({create:function(v){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new a.Number(v.duration).valueOf(),this.delay=new a.Number(v.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=v.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),a.FX=a.invent({create:function(v){this._target=v,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(v,k,E){r(v)==="object"&&(k=v.ease,E=v.delay,v=v.duration);var V=new a.Situation({duration:v||1e3,delay:E||0,ease:a.easing[k||"-"]||k});return this.queue(V),this},target:function(v){return v&&v instanceof a.Element?(this._target=v,this):this._target},timeToAbsPos:function(v){return(v-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(v){return this.situation.duration/this._speed*v+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=z.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){z.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(v){return(typeof v=="function"||v instanceof a.Situation)&&this.situations.push(v),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof a.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var v,k=this.situation;if(k.init)return this;for(var E in k.animations){v=this.target()[E](),Array.isArray(v)||(v=[v]),Array.isArray(k.animations[E])||(k.animations[E]=[k.animations[E]]);for(var V=v.length;V--;)k.animations[E][V]instanceof a.Number&&(v[V]=new a.Number(v[V])),k.animations[E][V]=v[V].morph(k.animations[E][V])}for(var E in k.attrs)k.attrs[E]=new a.MorphObj(this.target().attr(E),k.attrs[E]);for(var E in k.styles)k.styles[E]=new a.MorphObj(this.target().style(E),k.styles[E]);return k.initialTransformation=this.target().matrixify(),k.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(v,k){var E=this.active;return this.active=!1,k&&this.clearQueue(),v&&this.situation&&(!E&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(v){var k=this.last();return this.target().on("finished.fx",function E(V){V.detail.situation==k&&(v.call(this,k),this.off("finished.fx",E))}),this._callStart()},during:function(v){var k=this.last(),E=function(V){V.detail.situation==k&&v.call(this,V.detail.pos,a.morph(V.detail.pos),V.detail.eased,k)};return this.target().off("during.fx",E).on("during.fx",E),this.after(function(){this.off("during.fx",E)}),this._callStart()},afterAll:function(v){var k=function E(V){v.call(this),this.off("allfinished.fx",E)};return this.target().off("allfinished.fx",k).on("allfinished.fx",k),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(v,k,E){return this.last()[E||"animations"][v]=k,this._callStart()},step:function(v){var k,E,V;v||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(k=Math.max(this.absPos,0),E=Math.floor(k),this.situation.loops===!0||E<this.situation.loops?(this.pos=k-E,V=this.situation.loop,this.situation.loop=E):(this.absPos=this.situation.loops,this.pos=1,V=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-V)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var Y=this.situation.ease(this.pos);for(var U in this.situation.once)U>this.lastPos&&U<=Y&&(this.situation.once[U].call(this.target(),this.pos,Y),delete this.situation.once[U]);return this.active&&this.target().fire("during",{pos:this.pos,eased:Y,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=Y,this):this},eachAt:function(){var v,k=this,E=this.target(),V=this.situation;for(var Y in V.animations)v=[].concat(V.animations[Y]).map(function(ee){return typeof ee!="string"&&ee.at?ee.at(V.ease(k.pos),k.pos):ee}),E[Y].apply(E,v);for(var Y in V.attrs)v=[Y].concat(V.attrs[Y]).map(function(ae){return typeof ae!="string"&&ae.at?ae.at(V.ease(k.pos),k.pos):ae}),E.attr.apply(E,v);for(var Y in V.styles)v=[Y].concat(V.styles[Y]).map(function(ae){return typeof ae!="string"&&ae.at?ae.at(V.ease(k.pos),k.pos):ae}),E.style.apply(E,v);if(V.transforms.length){v=V.initialTransformation,Y=0;for(var U=V.transforms.length;Y<U;Y++){var J=V.transforms[Y];J instanceof a.Matrix?v=J.relative?v.multiply(new a.Matrix().morph(J).at(V.ease(this.pos))):v.morph(J).at(V.ease(this.pos)):(J.relative||J.undo(v.extract()),v=v.multiply(J.at(V.ease(this.pos))))}E.matrix(v)}return this},once:function(v,k,E){var V=this.last();return E||(v=V.ease(v)),V.once[v]=k,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:a.Element,construct:{animate:function(v,k,E){return(this.fx||(this.fx=new a.FX(this))).animate(v,k,E)},delay:function(v){return(this.fx||(this.fx=new a.FX(this))).delay(v)},stop:function(v,k){return this.fx&&this.fx.stop(v,k),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),a.MorphObj=a.invent({create:function(v,k){return a.Color.isColor(k)?new a.Color(v).morph(k):a.regex.delimiter.test(v)?a.regex.pathLetters.test(v)?new a.PathArray(v).morph(k):new a.Array(v).morph(k):a.regex.numberAndUnit.test(k)?new a.Number(v).morph(k):(this.value=v,void(this.destination=k))},extend:{at:function(v,k){return k<1?this.value:this.destination},valueOf:function(){return this.value}}}),a.extend(a.FX,{attr:function(v,k,E){if(r(v)==="object")for(var V in v)this.attr(V,v[V]);else this.add(v,k,"attrs");return this},plot:function(v,k,E,V){return arguments.length==4?this.plot([v,k,E,V]):this.add("plot",new(this.target()).morphArray(v))}}),a.Box=a.invent({create:function(v,k,E,V){if(!(r(v)!=="object"||v instanceof a.Element))return a.Box.call(this,v.left!=null?v.left:v.x,v.top!=null?v.top:v.y,v.width,v.height);var Y;arguments.length==4&&(this.x=v,this.y=k,this.width=E,this.height=V),(Y=this).x==null&&(Y.x=0,Y.y=0,Y.width=0,Y.height=0),Y.w=Y.width,Y.h=Y.height,Y.x2=Y.x+Y.width,Y.y2=Y.y+Y.height,Y.cx=Y.x+Y.width/2,Y.cy=Y.y+Y.height/2}}),a.BBox=a.invent({create:function(v){if(a.Box.apply(this,[].slice.call(arguments)),v instanceof a.Element){var k;try{if(!s.documentElement.contains){for(var E=v.node;E.parentNode;)E=E.parentNode;if(E!=s)throw new Error("Element not in the dom")}k=v.node.getBBox()}catch{if(v instanceof a.Shape){a.parser.draw||a.prepare();var V=v.clone(a.parser.draw.instance).show();V&&V.node&&typeof V.node.getBBox=="function"&&(k=V.node.getBBox()),V&&typeof V.remove=="function"&&V.remove()}else k={x:v.node.clientLeft,y:v.node.clientTop,width:v.node.clientWidth,height:v.node.clientHeight}}a.Box.call(this,k)}},inherit:a.Box,parent:a.Element,construct:{bbox:function(){return new a.BBox(this)}}}),a.BBox.prototype.constructor=a.BBox,a.Matrix=a.invent({create:function(v){var k=P([1,0,0,1,0,0]);v=v===null?k:v instanceof a.Element?v.matrixify():typeof v=="string"?P(v.split(a.regex.delimiter).map(parseFloat)):arguments.length==6?P([].slice.call(arguments)):Array.isArray(v)?P(v):v&&r(v)==="object"?v:k;for(var E=H.length-1;E>=0;--E)this[H[E]]=v[H[E]]!=null?v[H[E]]:k[H[E]]},extend:{extract:function(){var v=L(this,0,1);L(this,1,0);var k=180/Math.PI*Math.atan2(v.y,v.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(k*Math.PI/180)+this.f*Math.sin(k*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(k*Math.PI/180)+this.e*Math.sin(-k*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:k,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new a.Matrix(this)}},clone:function(){return new a.Matrix(this)},morph:function(v){return this.destination=new a.Matrix(v),this},multiply:function(v){return new a.Matrix(this.native().multiply(function(k){return k instanceof a.Matrix||(k=new a.Matrix(k)),k}(v).native()))},inverse:function(){return new a.Matrix(this.native().inverse())},translate:function(v,k){return new a.Matrix(this.native().translate(v||0,k||0))},native:function(){for(var v=a.parser.native.createSVGMatrix(),k=H.length-1;k>=0;k--)v[H[k]]=this[H[k]];return v},toString:function(){return"matrix("+D(this.a)+","+D(this.b)+","+D(this.c)+","+D(this.d)+","+D(this.e)+","+D(this.f)+")"}},parent:a.Element,construct:{ctm:function(){return new a.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof a.Nested){var v=this.rect(1,1),k=v.node.getScreenCTM();return v.remove(),new a.Matrix(k)}return new a.Matrix(this.node.getScreenCTM())}}}),a.Point=a.invent({create:function(v,k){var E;E=Array.isArray(v)?{x:v[0],y:v[1]}:r(v)==="object"?{x:v.x,y:v.y}:v!=null?{x:v,y:k??v}:{x:0,y:0},this.x=E.x,this.y=E.y},extend:{clone:function(){return new a.Point(this)},morph:function(v,k){return this.destination=new a.Point(v,k),this}}}),a.extend(a.Element,{point:function(v,k){return new a.Point(v,k).transform(this.screenCTM().inverse())}}),a.extend(a.Element,{attr:function(v,k,E){if(v==null){for(v={},E=(k=this.node.attributes).length-1;E>=0;E--)v[k[E].nodeName]=a.regex.isNumber.test(k[E].nodeValue)?parseFloat(k[E].nodeValue):k[E].nodeValue;return v}if(r(v)==="object")for(var V in v)this.attr(V,v[V]);else if(k===null)this.node.removeAttribute(v);else{if(k==null)return(k=this.node.getAttribute(v))==null?a.defaults.attrs[v]:a.regex.isNumber.test(k)?parseFloat(k):k;v=="stroke-width"?this.attr("stroke",parseFloat(k)>0?this._stroke:null):v=="stroke"&&(this._stroke=k),v!="fill"&&v!="stroke"||(a.regex.isImage.test(k)&&(k=this.doc().defs().image(k,0,0)),k instanceof a.Image&&(k=this.doc().defs().pattern(0,0,function(){this.add(k)}))),typeof k=="number"?k=new a.Number(k):a.Color.isColor(k)?k=new a.Color(k):Array.isArray(k)&&(k=new a.Array(k)),v=="leading"?this.leading&&this.leading(k):typeof E=="string"?this.node.setAttributeNS(E,v,k.toString()):this.node.setAttribute(v,k.toString()),!this.rebuild||v!="font-size"&&v!="x"||this.rebuild(v,k)}return this}}),a.extend(a.Element,{transform:function(v,k){var E;return r(v)!=="object"?(E=new a.Matrix(this).extract(),typeof v=="string"?E[v]:E):(E=new a.Matrix(this),k=!!k||!!v.relative,v.a!=null&&(E=k?E.multiply(new a.Matrix(v)):new a.Matrix(v)),this.attr("transform",E))}}),a.extend(a.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(a.regex.transforms).slice(0,-1).map(function(v){var k=v.trim().split("(");return[k[0],k[1].split(a.regex.delimiter).map(function(E){return parseFloat(E)})]}).reduce(function(v,k){return k[0]=="matrix"?v.multiply(P(k[1])):v[k[0]].apply(v,k[1])},new a.Matrix)},toParent:function(v){if(this==v)return this;var k=this.screenCTM(),E=v.screenCTM().inverse();return this.addTo(v).untransform().transform(E.multiply(k)),this},toDoc:function(){return this.toParent(this.doc())}}),a.Transformation=a.invent({create:function(v,k){if(arguments.length>1&&typeof k!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(v))for(var E=0,V=this.arguments.length;E<V;++E)this[this.arguments[E]]=v[E];else if(v&&r(v)==="object")for(E=0,V=this.arguments.length;E<V;++E)this[this.arguments[E]]=v[this.arguments[E]];this.inversed=!1,k===!0&&(this.inversed=!0)}}),a.Translate=a.invent({parent:a.Matrix,inherit:a.Transformation,create:function(v,k){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),a.extend(a.Element,{style:function(v,k){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(r(v)==="object")for(var E in v)this.style(E,v[E]);else{if(!a.regex.isCss.test(v))return this.node.style[b(v)];for(v=v.split(/\s*;\s*/).filter(function(V){return!!V}).map(function(V){return V.split(/\s*:\s*/)});k=v.pop();)this.style(k[0],k[1])}else this.node.style[b(v)]=k===null||a.regex.isBlank.test(k)?"":k;return this}}),a.Parent=a.invent({create:function(v){this.constructor.call(this,v)},inherit:a.Element,extend:{children:function(){return a.utils.map(a.utils.filterSVGElements(this.node.childNodes),function(v){return a.adopt(v)})},add:function(v,k){return k==null?this.node.appendChild(v.node):v.node!=this.node.childNodes[k]&&this.node.insertBefore(v.node,this.node.childNodes[k]),this},put:function(v,k){return this.add(v,k),v},has:function(v){return this.index(v)>=0},index:function(v){return[].slice.call(this.node.childNodes).indexOf(v.node)},get:function(v){return a.adopt(this.node.childNodes[v])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(v,k){for(var E=this.children(),V=0,Y=E.length;V<Y;V++)E[V]instanceof a.Element&&v.apply(E[V],[V,E]),k&&E[V]instanceof a.Container&&E[V].each(v,k);return this},removeElement:function(v){return this.node.removeChild(v.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),a.extend(a.Parent,{ungroup:function(v,k){return k===0||this instanceof a.Defs||this.node==a.parser.draw||(v=v||(this instanceof a.Doc?this:this.parent(a.Parent)),k=k||1/0,this.each(function(){return this instanceof a.Defs?this:this instanceof a.Parent?this.ungroup(v,k-1):this.toParent(v)}),this.node.firstChild||this.remove()),this},flatten:function(v,k){return this.ungroup(v,k)}}),a.Container=a.invent({create:function(v){this.constructor.call(this,v)},inherit:a.Parent}),a.ViewBox=a.invent({parent:a.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(v){a.Element.prototype[v]=function(k){return a.on(this.node,v,k),this}}),a.listeners=[],a.handlerMap=[],a.listenerId=0,a.on=function(v,k,E,V,Y){var U=E.bind(V||v.instance||v),J=(a.handlerMap.indexOf(v)+1||a.handlerMap.push(v))-1,ee=k.split(".")[0],ae=k.split(".")[1]||"*";a.listeners[J]=a.listeners[J]||{},a.listeners[J][ee]=a.listeners[J][ee]||{},a.listeners[J][ee][ae]=a.listeners[J][ee][ae]||{},E._svgjsListenerId||(E._svgjsListenerId=++a.listenerId),a.listeners[J][ee][ae][E._svgjsListenerId]=U,v.addEventListener(ee,U,Y||{passive:!0})},a.off=function(v,k,E){var V=a.handlerMap.indexOf(v),Y=k&&k.split(".")[0],U=k&&k.split(".")[1],J="";if(V!=-1)if(E){if(typeof E=="function"&&(E=E._svgjsListenerId),!E)return;a.listeners[V][Y]&&a.listeners[V][Y][U||"*"]&&(v.removeEventListener(Y,a.listeners[V][Y][U||"*"][E],!1),delete a.listeners[V][Y][U||"*"][E])}else if(U&&Y){if(a.listeners[V][Y]&&a.listeners[V][Y][U]){for(var ee in a.listeners[V][Y][U])a.off(v,[Y,U].join("."),ee);delete a.listeners[V][Y][U]}}else if(U)for(var ae in a.listeners[V])for(var J in a.listeners[V][ae])U===J&&a.off(v,[ae,U].join("."));else if(Y){if(a.listeners[V][Y]){for(var J in a.listeners[V][Y])a.off(v,[Y,J].join("."));delete a.listeners[V][Y]}}else{for(var ae in a.listeners[V])a.off(v,ae);delete a.listeners[V],delete a.handlerMap[V]}},a.extend(a.Element,{on:function(v,k,E,V){return a.on(this.node,v,k,E,V),this},off:function(v,k){return a.off(this.node,v,k),this},fire:function(v,k){return v instanceof z.Event?this.node.dispatchEvent(v):this.node.dispatchEvent(v=new a.CustomEvent(v,{detail:k,cancelable:!0})),this._event=v,this},event:function(){return this._event}}),a.Defs=a.invent({create:"defs",inherit:a.Container}),a.G=a.invent({create:"g",inherit:a.Container,extend:{x:function(v){return v==null?this.transform("x"):this.transform({x:v-this.x()},!0)}},construct:{group:function(){return this.put(new a.G)}}}),a.Doc=a.invent({create:function(v){v&&((v=typeof v=="string"?s.getElementById(v):v).nodeName=="svg"?this.constructor.call(this,v):(this.constructor.call(this,a.create("svg")),v.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:a.Container,extend:{namespace:function(){return this.attr({xmlns:a.ns,version:"1.1"}).attr("xmlns:xlink",a.xlink,a.xmlns).attr("xmlns:svgjs",a.svgjs,a.xmlns)},defs:function(){var v;return this._defs||((v=this.node.getElementsByTagName("defs")[0])?this._defs=a.adopt(v):this._defs=new a.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,a.parser.draw&&!a.parser.draw.parentNode&&this.node.appendChild(a.parser.draw),this},clone:function(v){this.writeDataToDom();var k=this.node,E=O(k.cloneNode(!0));return v?(v.node||v).appendChild(E.node):k.parentNode.insertBefore(E.node,k.nextSibling),E}}}),a.extend(a.Element,{}),a.Gradient=a.invent({create:function(v){this.constructor.call(this,a.create(v+"Gradient")),this.type=v},inherit:a.Container,extend:{at:function(v,k,E){return this.put(new a.Stop).update(v,k,E)},update:function(v){return this.clear(),typeof v=="function"&&v.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(v,k,E){return v=="transform"&&(v="gradientTransform"),a.Container.prototype.attr.call(this,v,k,E)}},construct:{gradient:function(v,k){return this.defs().gradient(v,k)}}}),a.extend(a.Gradient,a.FX,{from:function(v,k){return(this._target||this).type=="radial"?this.attr({fx:new a.Number(v),fy:new a.Number(k)}):this.attr({x1:new a.Number(v),y1:new a.Number(k)})},to:function(v,k){return(this._target||this).type=="radial"?this.attr({cx:new a.Number(v),cy:new a.Number(k)}):this.attr({x2:new a.Number(v),y2:new a.Number(k)})}}),a.extend(a.Defs,{gradient:function(v,k){return this.put(new a.Gradient(v)).update(k)}}),a.Stop=a.invent({create:"stop",inherit:a.Element,extend:{update:function(v){return(typeof v=="number"||v instanceof a.Number)&&(v={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),v.opacity!=null&&this.attr("stop-opacity",v.opacity),v.color!=null&&this.attr("stop-color",v.color),v.offset!=null&&this.attr("offset",new a.Number(v.offset)),this}}}),a.Pattern=a.invent({create:"pattern",inherit:a.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(v){return this.clear(),typeof v=="function"&&v.call(this,this),this},toString:function(){return this.fill()},attr:function(v,k,E){return v=="transform"&&(v="patternTransform"),a.Container.prototype.attr.call(this,v,k,E)}},construct:{pattern:function(v,k,E){return this.defs().pattern(v,k,E)}}}),a.extend(a.Defs,{pattern:function(v,k,E){return this.put(new a.Pattern).update(E).attr({x:0,y:0,width:v,height:k,patternUnits:"userSpaceOnUse"})}}),a.Shape=a.invent({create:function(v){this.constructor.call(this,v)},inherit:a.Element}),a.Symbol=a.invent({create:"symbol",inherit:a.Container,construct:{symbol:function(){return this.put(new a.Symbol)}}}),a.Use=a.invent({create:"use",inherit:a.Shape,extend:{element:function(v,k){return this.attr("href",(k||"")+"#"+v,a.xlink)}},construct:{use:function(v,k){return this.put(new a.Use).element(v,k)}}}),a.Rect=a.invent({create:"rect",inherit:a.Shape,construct:{rect:function(v,k){return this.put(new a.Rect).size(v,k)}}}),a.Circle=a.invent({create:"circle",inherit:a.Shape,construct:{circle:function(v){return this.put(new a.Circle).rx(new a.Number(v).divide(2)).move(0,0)}}}),a.extend(a.Circle,a.FX,{rx:function(v){return this.attr("r",v)},ry:function(v){return this.rx(v)}}),a.Ellipse=a.invent({create:"ellipse",inherit:a.Shape,construct:{ellipse:function(v,k){return this.put(new a.Ellipse).size(v,k).move(0,0)}}}),a.extend(a.Ellipse,a.Rect,a.FX,{rx:function(v){return this.attr("rx",v)},ry:function(v){return this.attr("ry",v)}}),a.extend(a.Circle,a.Ellipse,{x:function(v){return v==null?this.cx()-this.rx():this.cx(v+this.rx())},y:function(v){return v==null?this.cy()-this.ry():this.cy(v+this.ry())},cx:function(v){return v==null?this.attr("cx"):this.attr("cx",v)},cy:function(v){return v==null?this.attr("cy"):this.attr("cy",v)},width:function(v){return v==null?2*this.rx():this.rx(new a.Number(v).divide(2))},height:function(v){return v==null?2*this.ry():this.ry(new a.Number(v).divide(2))},size:function(v,k){var E=A(this,v,k);return this.rx(new a.Number(E.width).divide(2)).ry(new a.Number(E.height).divide(2))}}),a.Line=a.invent({create:"line",inherit:a.Shape,extend:{array:function(){return new a.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(v,k,E,V){return v==null?this.array():(v=k!==void 0?{x1:v,y1:k,x2:E,y2:V}:new a.PointArray(v).toLine(),this.attr(v))},move:function(v,k){return this.attr(this.array().move(v,k).toLine())},size:function(v,k){var E=A(this,v,k);return this.attr(this.array().size(E.width,E.height).toLine())}},construct:{line:function(v,k,E,V){return a.Line.prototype.plot.apply(this.put(new a.Line),v!=null?[v,k,E,V]:[0,0,0,0])}}}),a.Polyline=a.invent({create:"polyline",inherit:a.Shape,construct:{polyline:function(v){return this.put(new a.Polyline).plot(v||new a.PointArray)}}}),a.Polygon=a.invent({create:"polygon",inherit:a.Shape,construct:{polygon:function(v){return this.put(new a.Polygon).plot(v||new a.PointArray)}}}),a.extend(a.Polyline,a.Polygon,{array:function(){return this._array||(this._array=new a.PointArray(this.attr("points")))},plot:function(v){return v==null?this.array():this.clear().attr("points",typeof v=="string"?v:this._array=new a.PointArray(v))},clear:function(){return delete this._array,this},move:function(v,k){return this.attr("points",this.array().move(v,k))},size:function(v,k){var E=A(this,v,k);return this.attr("points",this.array().size(E.width,E.height))}}),a.extend(a.Line,a.Polyline,a.Polygon,{morphArray:a.PointArray,x:function(v){return v==null?this.bbox().x:this.move(v,this.bbox().y)},y:function(v){return v==null?this.bbox().y:this.move(this.bbox().x,v)},width:function(v){var k=this.bbox();return v==null?k.width:this.size(v,k.height)},height:function(v){var k=this.bbox();return v==null?k.height:this.size(k.width,v)}}),a.Path=a.invent({create:"path",inherit:a.Shape,extend:{morphArray:a.PathArray,array:function(){return this._array||(this._array=new a.PathArray(this.attr("d")))},plot:function(v){return v==null?this.array():this.clear().attr("d",typeof v=="string"?v:this._array=new a.PathArray(v))},clear:function(){return delete this._array,this}},construct:{path:function(v){return this.put(new a.Path).plot(v||new a.PathArray)}}}),a.Image=a.invent({create:"image",inherit:a.Shape,extend:{load:function(v){if(!v)return this;var k=this,E=new z.Image;return a.on(E,"load",function(){a.off(E);var V=k.parent(a.Pattern);V!==null&&(k.width()==0&&k.height()==0&&k.size(E.width,E.height),V&&V.width()==0&&V.height()==0&&V.size(k.width(),k.height()),typeof k._loaded=="function"&&k._loaded.call(k,{width:E.width,height:E.height,ratio:E.width/E.height,url:v}))}),a.on(E,"error",function(V){a.off(E),typeof k._error=="function"&&k._error.call(k,V)}),this.attr("href",E.src=this.src=v,a.xlink)},loaded:function(v){return this._loaded=v,this},error:function(v){return this._error=v,this}},construct:{image:function(v,k,E){return this.put(new a.Image).load(v).size(k||0,E||k||0)}}}),a.Text=a.invent({create:function(){this.constructor.call(this,a.create("text")),this.dom.leading=new a.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",a.defaults.attrs["font-family"])},inherit:a.Shape,extend:{x:function(v){return v==null?this.attr("x"):this.attr("x",v)},text:function(v){if(v===void 0){v="";for(var k=this.node.childNodes,E=0,V=k.length;E<V;++E)E!=0&&k[E].nodeType!=3&&a.adopt(k[E]).dom.newLined==1&&(v+=`
`),v+=k[E].textContent;return v}if(this.clear().build(!0),typeof v=="function")v.call(this,this);else{E=0;for(var Y=(v=v.split(`
`)).length;E<Y;E++)this.tspan(v[E]).newLine()}return this.build(!1).rebuild()},size:function(v){return this.attr("font-size",v).rebuild()},leading:function(v){return v==null?this.dom.leading:(this.dom.leading=new a.Number(v),this.rebuild())},lines:function(){var v=(this.textPath&&this.textPath()||this).node,k=a.utils.map(a.utils.filterSVGElements(v.childNodes),function(E){return a.adopt(E)});return new a.Set(k)},rebuild:function(v){if(typeof v=="boolean"&&(this._rebuild=v),this._rebuild){var k=this,E=0,V=this.dom.leading*new a.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(k.textPath()||this.attr("x",k.attr("x")),this.text()==`
`?E+=V:(this.attr("dy",V+E),E=0))}),this.fire("rebuild")}return this},build:function(v){return this._build=!!v,this},setData:function(v){return this.dom=v,this.dom.leading=new a.Number(v.leading||1.3),this}},construct:{text:function(v){return this.put(new a.Text).text(v)},plain:function(v){return this.put(new a.Text).plain(v)}}}),a.Tspan=a.invent({create:"tspan",inherit:a.Shape,extend:{text:function(v){return v==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof v=="function"?v.call(this,this):this.plain(v),this)},dx:function(v){return this.attr("dx",v)},dy:function(v){return this.attr("dy",v)},newLine:function(){var v=this.parent(a.Text);return this.dom.newLined=!0,this.dy(v.dom.leading*v.attr("font-size")).attr("x",v.x())}}}),a.extend(a.Text,a.Tspan,{plain:function(v){return this._build===!1&&this.clear(),this.node.appendChild(s.createTextNode(v)),this},tspan:function(v){var k=(this.textPath&&this.textPath()||this).node,E=new a.Tspan;return this._build===!1&&this.clear(),k.appendChild(E.node),E.text(v)},clear:function(){for(var v=(this.textPath&&this.textPath()||this).node;v.hasChildNodes();)v.removeChild(v.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),a.TextPath=a.invent({create:"textPath",inherit:a.Parent,parent:a.Text,construct:{morphArray:a.PathArray,array:function(){var v=this.track();return v?v.array():null},plot:function(v){var k=this.track(),E=null;return k&&(E=k.plot(v)),v==null?E:this},track:function(){var v=this.textPath();if(v)return v.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return a.adopt(this.node.firstChild)}}}),a.Nested=a.invent({create:function(){this.constructor.call(this,a.create("svg")),this.style("overflow","visible")},inherit:a.Container,construct:{nested:function(){return this.put(new a.Nested)}}});var p={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(v,k){return k=="color"?v:v+"-"+k}};function m(v,k,E,V){return E+V.replace(a.regex.dots," .")}function b(v){return v.toLowerCase().replace(/-(.)/g,function(k,E){return E.toUpperCase()})}function w(v){return v.charAt(0).toUpperCase()+v.slice(1)}function C(v){var k=v.toString(16);return k.length==1?"0"+k:k}function A(v,k,E){if(k==null||E==null){var V=v.bbox();k==null?k=V.width/V.height*E:E==null&&(E=V.height/V.width*k)}return{width:k,height:E}}function L(v,k,E){return{x:k*v.a+E*v.c+0,y:k*v.b+E*v.d+0}}function P(v){return{a:v[0],b:v[1],c:v[2],d:v[3],e:v[4],f:v[5]}}function O(v){for(var k=v.childNodes.length-1;k>=0;k--)v.childNodes[k]instanceof z.SVGElement&&O(v.childNodes[k]);return a.adopt(v).id(a.eid(v.nodeName))}function D(v){return Math.abs(v)>1e-37?v:0}["fill","stroke"].forEach(function(v){var k={};k[v]=function(E){if(E===void 0)return this;if(typeof E=="string"||a.Color.isRgb(E)||E&&typeof E.fill=="function")this.attr(v,E);else for(var V=p[v].length-1;V>=0;V--)E[p[v][V]]!=null&&this.attr(p.prefix(v,p[v][V]),E[p[v][V]]);return this},a.extend(a.Element,a.FX,k)}),a.extend(a.Element,a.FX,{translate:function(v,k){return this.transform({x:v,y:k})},matrix:function(v){return this.attr("transform",new a.Matrix(arguments.length==6?[].slice.call(arguments):v))},opacity:function(v){return this.attr("opacity",v)},dx:function(v){return this.x(new a.Number(v).plus(this instanceof a.FX?0:this.x()),!0)},dy:function(v){return this.y(new a.Number(v).plus(this instanceof a.FX?0:this.y()),!0)}}),a.extend(a.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(v){return this.node.getPointAtLength(v)}}),a.Set=a.invent({create:function(v){Array.isArray(v)?this.members=v:this.clear()},extend:{add:function(){for(var v=[].slice.call(arguments),k=0,E=v.length;k<E;k++)this.members.push(v[k]);return this},remove:function(v){var k=this.index(v);return k>-1&&this.members.splice(k,1),this},each:function(v){for(var k=0,E=this.members.length;k<E;k++)v.apply(this.members[k],[k,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(v){return this.index(v)>=0},index:function(v){return this.members.indexOf(v)},get:function(v){return this.members[v]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(v){return new a.Set(v)}}}),a.FX.Set=a.invent({create:function(v){this.set=v}}),a.Set.inherit=function(){var v=[];for(var k in a.Shape.prototype)typeof a.Shape.prototype[k]=="function"&&typeof a.Set.prototype[k]!="function"&&v.push(k);for(var k in v.forEach(function(V){a.Set.prototype[V]=function(){for(var Y=0,U=this.members.length;Y<U;Y++)this.members[Y]&&typeof this.members[Y][V]=="function"&&this.members[Y][V].apply(this.members[Y],arguments);return V=="animate"?this.fx||(this.fx=new a.FX.Set(this)):this}}),v=[],a.FX.prototype)typeof a.FX.prototype[k]=="function"&&typeof a.FX.Set.prototype[k]!="function"&&v.push(k);v.forEach(function(E){a.FX.Set.prototype[E]=function(){for(var V=0,Y=this.set.members.length;V<Y;V++)this.set.members[V].fx[E].apply(this.set.members[V].fx,arguments);return this}})},a.extend(a.Element,{}),a.extend(a.Element,{remember:function(v,k){if(r(arguments[0])==="object")for(var E in v)this.remember(E,v[E]);else{if(arguments.length==1)return this.memory()[v];this.memory()[v]=k}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var v=arguments.length-1;v>=0;v--)delete this.memory()[arguments[v]];return this},memory:function(){return this._memory||(this._memory={})}}),a.get=function(v){var k=s.getElementById(function(E){var V=(E||"").toString().match(a.regex.reference);if(V)return V[1]}(v)||v);return a.adopt(k)},a.select=function(v,k){return new a.Set(a.utils.map((k||s).querySelectorAll(v),function(E){return a.adopt(E)}))},a.extend(a.Parent,{select:function(v){return a.select(v,this.node)}});var H="abcdef".split("");if(typeof z.CustomEvent!="function"){var X=function(v,k){k=k||{bubbles:!1,cancelable:!1,detail:void 0};var E=s.createEvent("CustomEvent");return E.initCustomEvent(v,k.bubbles,k.cancelable,k.detail),E};X.prototype=z.Event.prototype,a.CustomEvent=X}else a.CustomEvent=z.CustomEvent;return a},r(e)==="object"?n.exports=Xi.document?rs(Xi,Xi.document):function(z){return rs(z,z.document)}:Xi.SVG=rs(Xi,Xi.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(f,p){return this.add(f,p),!f.attr("in")&&this.autoSetIn&&f.attr("in",this.source),f.attr("result")||f.attr("result",f),f},blend:function(f,p,m){return this.put(new SVG.BlendEffect(f,p,m))},colorMatrix:function(f,p){return this.put(new SVG.ColorMatrixEffect(f,p))},convolveMatrix:function(f){return this.put(new SVG.ConvolveMatrixEffect(f))},componentTransfer:function(f){return this.put(new SVG.ComponentTransferEffect(f))},composite:function(f,p,m){return this.put(new SVG.CompositeEffect(f,p,m))},flood:function(f,p){return this.put(new SVG.FloodEffect(f,p))},offset:function(f,p){return this.put(new SVG.OffsetEffect(f,p))},image:function(f){return this.put(new SVG.ImageEffect(f))},merge:function(){var f=[void 0];for(var p in arguments)f.push(arguments[p]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,f)))},gaussianBlur:function(f,p){return this.put(new SVG.GaussianBlurEffect(f,p))},morphology:function(f,p){return this.put(new SVG.MorphologyEffect(f,p))},diffuseLighting:function(f,p,m){return this.put(new SVG.DiffuseLightingEffect(f,p,m))},displacementMap:function(f,p,m,b,w){return this.put(new SVG.DisplacementMapEffect(f,p,m,b,w))},specularLighting:function(f,p,m,b){return this.put(new SVG.SpecularLightingEffect(f,p,m,b))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(f,p,m,b,w){return this.put(new SVG.TurbulenceEffect(f,p,m,b,w))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(f){var p=this.put(new SVG.Filter);return typeof f=="function"&&f.call(p,p),p}}),SVG.extend(SVG.Container,{filter:function(f){return this.defs().filter(f)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(f){return this.filterer=f instanceof SVG.Element?f:this.doc().filter(f),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(f){return this.filterer&&f===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(f){return f==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",f)},result:function(f){return f==null?this.attr("result"):this.attr("result",f)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(f){return f==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",f)},result:function(f){return f==null?this.attr("result"):this.attr("result",f)},toString:function(){return this.result()}}});var z={blend:function(f,p){return this.parent()&&this.parent().blend(this,f,p)},colorMatrix:function(f,p){return this.parent()&&this.parent().colorMatrix(f,p).in(this)},convolveMatrix:function(f){return this.parent()&&this.parent().convolveMatrix(f).in(this)},componentTransfer:function(f){return this.parent()&&this.parent().componentTransfer(f).in(this)},composite:function(f,p){return this.parent()&&this.parent().composite(this,f,p)},flood:function(f,p){return this.parent()&&this.parent().flood(f,p)},offset:function(f,p){return this.parent()&&this.parent().offset(f,p).in(this)},image:function(f){return this.parent()&&this.parent().image(f)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(f,p){return this.parent()&&this.parent().gaussianBlur(f,p).in(this)},morphology:function(f,p){return this.parent()&&this.parent().morphology(f,p).in(this)},diffuseLighting:function(f,p,m){return this.parent()&&this.parent().diffuseLighting(f,p,m).in(this)},displacementMap:function(f,p,m,b){return this.parent()&&this.parent().displacementMap(this,f,p,m,b)},specularLighting:function(f,p,m,b){return this.parent()&&this.parent().specularLighting(f,p,m,b).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(f,p,m,b,w){return this.parent()&&this.parent().turbulence(f,p,m,b,w).in(this)}};SVG.extend(SVG.Effect,z),SVG.extend(SVG.ParentEffect,z),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(f){this.attr("in",f)}}});var s={blend:function(f,p,m){this.attr({in:f,in2:p,mode:m||"normal"})},colorMatrix:function(f,p){f=="matrix"&&(p=c(p)),this.attr({type:f,values:p===void 0?null:p})},convolveMatrix:function(f){f=c(f),this.attr({order:Math.sqrt(f.split(" ").length),kernelMatrix:f})},composite:function(f,p,m){this.attr({in:f,in2:p,operator:m})},flood:function(f,p){this.attr("flood-color",f),p!=null&&this.attr("flood-opacity",p)},offset:function(f,p){this.attr({dx:f,dy:p})},image:function(f){this.attr("href",f,SVG.xlink)},displacementMap:function(f,p,m,b,w){this.attr({in:f,in2:p,scale:m,xChannelSelector:b,yChannelSelector:w})},gaussianBlur:function(f,p){f!=null||p!=null?this.attr("stdDeviation",function(m){if(!Array.isArray(m))return m;for(var b=0,w=m.length,C=[];b<w;b++)C.push(m[b]);return C.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(f,p){this.attr({operator:f,radius:p})},tile:function(){},turbulence:function(f,p,m,b,w){this.attr({numOctaves:p,seed:m,stitchTiles:b,baseFrequency:f,type:w})}},a={merge:function(){var f;if(arguments[0]instanceof SVG.Set){var p=this;arguments[0].each(function(b){this instanceof SVG.MergeNode?p.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&p.put(new SVG.MergeNode(this))})}else{f=Array.isArray(arguments[0])?arguments[0]:arguments;for(var m=0;m<f.length;m++)f[m]instanceof SVG.MergeNode?this.put(f[m]):this.put(new SVG.MergeNode(f[m]))}},componentTransfer:function(f){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(m){this[m]=new SVG["Func"+m.toUpperCase()]("identity"),this.rgb.add(this[m]),this.node.appendChild(this[m].node)}).bind(this)),f)for(var p in f.rgb&&(["r","g","b"].forEach((function(m){this[m].attr(f.rgb)}).bind(this)),delete f.rgb),f)this[p].attr(f[p])},diffuseLighting:function(f,p,m){this.attr({surfaceScale:f,diffuseConstant:p,kernelUnitLength:m})},specularLighting:function(f,p,m,b){this.attr({surfaceScale:f,diffuseConstant:p,specularExponent:m,kernelUnitLength:b})}},l={distantLight:function(f,p){this.attr({azimuth:f,elevation:p})},pointLight:function(f,p,m){this.attr({x:f,y:p,z:m})},spotLight:function(f,p,m,b,w,C){this.attr({x:f,y:p,z:m,pointsAtX:b,pointsAtY:w,pointsAtZ:C})},mergeNode:function(f){this.attr("in",f)}};function c(f){return Array.isArray(f)&&(f=new SVG.Array(f)),f.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function d(){var f=function(){};for(var p in typeof arguments[arguments.length-1]=="function"&&(f=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var m in arguments[p])f(arguments[p][m],m,arguments[p])}["r","g","b","a"].forEach(function(f){l["Func"+f.toUpperCase()]=function(p){switch(this.attr("type",p),p){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),d(s,function(f,p){var m=p.charAt(0).toUpperCase()+p.slice(1);SVG[m+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+m)),f.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),d(a,function(f,p){var m=p.charAt(0).toUpperCase()+p.slice(1);SVG[m+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+m)),f.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),d(l,function(f,p){var m=p.charAt(0).toUpperCase()+p.slice(1);SVG[m]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+m)),f.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(f){return f instanceof SVG.MergeNode?this.add(f,0):this.add(new SVG.MergeNode(f),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(f){return f==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",f)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function z(d,f,p,m,b,w,C){for(var A=d.slice(f,p||C),L=m.slice(b,w||C),P=0,O={pos:[0,0],start:[0,0]},D={pos:[0,0],start:[0,0]};A[P]=s.call(O,A[P]),L[P]=s.call(D,L[P]),A[P][0]!=L[P][0]||A[P][0]=="M"||A[P][0]=="A"&&(A[P][4]!=L[P][4]||A[P][5]!=L[P][5])?(Array.prototype.splice.apply(A,[P,1].concat(l.call(O,A[P]))),Array.prototype.splice.apply(L,[P,1].concat(l.call(D,L[P])))):(A[P]=a.call(O,A[P]),L[P]=a.call(D,L[P])),!(++P==A.length&&P==L.length);)P==A.length&&A.push(["C",O.pos[0],O.pos[1],O.pos[0],O.pos[1],O.pos[0],O.pos[1]]),P==L.length&&L.push(["C",D.pos[0],D.pos[1],D.pos[0],D.pos[1],D.pos[0],D.pos[1]]);return{start:A,dest:L}}function s(d){switch(d[0]){case"z":case"Z":d[0]="L",d[1]=this.start[0],d[2]=this.start[1];break;case"H":d[0]="L",d[2]=this.pos[1];break;case"V":d[0]="L",d[2]=d[1],d[1]=this.pos[0];break;case"T":d[0]="Q",d[3]=d[1],d[4]=d[2],d[1]=this.reflection[1],d[2]=this.reflection[0];break;case"S":d[0]="C",d[6]=d[4],d[5]=d[3],d[4]=d[2],d[3]=d[1],d[2]=this.reflection[1],d[1]=this.reflection[0]}return d}function a(d){var f=d.length;return this.pos=[d[f-2],d[f-1]],"SCQT".indexOf(d[0])!=-1&&(this.reflection=[2*this.pos[0]-d[f-4],2*this.pos[1]-d[f-3]]),d}function l(d){var f=[d];switch(d[0]){case"M":return this.pos=this.start=[d[1],d[2]],f;case"L":d[5]=d[3]=d[1],d[6]=d[4]=d[2],d[1]=this.pos[0],d[2]=this.pos[1];break;case"Q":d[6]=d[4],d[5]=d[3],d[4]=1*d[4]/3+2*d[2]/3,d[3]=1*d[3]/3+2*d[1]/3,d[2]=1*this.pos[1]/3+2*d[2]/3,d[1]=1*this.pos[0]/3+2*d[1]/3;break;case"A":f=function(p,m){var b,w,C,A,L,P,O,D,H,X,v,k,E,V,Y,U,J,ee,ae,ce,ue,be,Le,Re,Ne,Ye,vt=Math.abs(m[1]),ot=Math.abs(m[2]),St=m[3]%360,Ri=m[4],Yi=m[5],Ys=m[6],Gs=m[7],Wt=new SVG.Point(p),Bt=new SVG.Point(Ys,Gs),aa=[];if(vt===0||ot===0||Wt.x===Bt.x&&Wt.y===Bt.y)return[["C",Wt.x,Wt.y,Bt.x,Bt.y,Bt.x,Bt.y]];for(b=new SVG.Point((Wt.x-Bt.x)/2,(Wt.y-Bt.y)/2).transform(new SVG.Matrix().rotate(St)),(w=b.x*b.x/(vt*vt)+b.y*b.y/(ot*ot))>1&&(vt*=w=Math.sqrt(w),ot*=w),C=new SVG.Matrix().rotate(St).scale(1/vt,1/ot).rotate(-St),Wt=Wt.transform(C),Bt=Bt.transform(C),A=[Bt.x-Wt.x,Bt.y-Wt.y],P=A[0]*A[0]+A[1]*A[1],L=Math.sqrt(P),A[0]/=L,A[1]/=L,O=P<4?Math.sqrt(1-P/4):0,Ri===Yi&&(O*=-1),D=new SVG.Point((Bt.x+Wt.x)/2+O*-A[1],(Bt.y+Wt.y)/2+O*A[0]),H=new SVG.Point(Wt.x-D.x,Wt.y-D.y),X=new SVG.Point(Bt.x-D.x,Bt.y-D.y),v=Math.acos(H.x/Math.sqrt(H.x*H.x+H.y*H.y)),H.y<0&&(v*=-1),k=Math.acos(X.x/Math.sqrt(X.x*X.x+X.y*X.y)),X.y<0&&(k*=-1),Yi&&v>k&&(k+=2*Math.PI),!Yi&&v<k&&(k-=2*Math.PI),V=Math.ceil(2*Math.abs(v-k)/Math.PI),U=[],J=v,E=(k-v)/V,Y=4*Math.tan(E/4)/3,ue=0;ue<=V;ue++)ae=Math.cos(J),ee=Math.sin(J),ce=new SVG.Point(D.x+ae,D.y+ee),U[ue]=[new SVG.Point(ce.x+Y*ee,ce.y-Y*ae),ce,new SVG.Point(ce.x-Y*ee,ce.y+Y*ae)],J+=E;for(U[0][0]=U[0][1].clone(),U[U.length-1][2]=U[U.length-1][1].clone(),C=new SVG.Matrix().rotate(St).scale(vt,ot).rotate(-St),ue=0,be=U.length;ue<be;ue++)U[ue][0]=U[ue][0].transform(C),U[ue][1]=U[ue][1].transform(C),U[ue][2]=U[ue][2].transform(C);for(ue=1,be=U.length;ue<be;ue++)Le=(ce=U[ue-1][2]).x,Re=ce.y,Ne=(ce=U[ue][0]).x,Ye=ce.y,Ys=(ce=U[ue][1]).x,Gs=ce.y,aa.push(["C",Le,Re,Ne,Ye,Ys,Gs]);return aa}(this.pos,d),d=f[0]}return d[0]="C",this.pos=[d[5],d[6]],this.reflection=[2*d[5]-d[3],2*d[6]-d[4]],f}function c(d,f){if(f===!1)return!1;for(var p=f,m=d.length;p<m;++p)if(d[p][0]=="M")return p;return!1}SVG.extend(SVG.PathArray,{morph:function(d){for(var f=this.value,p=this.parse(d),m=0,b=0,w=!1,C=!1;m!==!1||b!==!1;){var A;w=c(f,m!==!1&&m+1),C=c(p,b!==!1&&b+1),m===!1&&(m=(A=new SVG.PathArray(L.start).bbox()).height==0||A.width==0?f.push(f[0])-1:f.push(["M",A.x+A.width/2,A.y+A.height/2])-1),b===!1&&(b=(A=new SVG.PathArray(L.dest).bbox()).height==0||A.width==0?p.push(p[0])-1:p.push(["M",A.x+A.width/2,A.y+A.height/2])-1);var L=z(f,m,w,p,b,C);f=f.slice(0,m).concat(L.start,w===!1?[]:f.slice(w)),p=p.slice(0,b).concat(L.dest,C===!1?[]:p.slice(C)),m=w!==!1&&m+L.start.length,b=C!==!1&&b+L.dest.length}return this.value=f,this.destination=new SVG.PathArray,this.destination.value=p,this}})}(),(function(){function z(s){s.remember("_draggable",this),this.el=s}z.prototype.init=function(s,a){var l=this;this.constraint=s,this.value=a,this.el.on("mousedown.drag",function(c){l.start(c)}),this.el.on("touchstart.drag",function(c){l.start(c)})},z.prototype.transformPoint=function(s,a){var l=(s=s||window.event).changedTouches&&s.changedTouches[0]||s;return this.p.x=l.clientX-(a||0),this.p.y=l.clientY,this.p.matrixTransform(this.m)},z.prototype.getBBox=function(){var s=this.el.bbox();return this.el instanceof SVG.Nested&&(s=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(s.x=this.el.x(),s.y=this.el.y()),s},z.prototype.start=function(s){if(s.type!="click"&&s.type!="mousedown"&&s.type!="mousemove"||(s.which||s.buttons)==1){var a=this;if(this.el.fire("beforedrag",{event:s,handler:this}),!this.el.event().defaultPrevented){s.preventDefault(),s.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var l,c=this.getBBox();if(this.el instanceof SVG.Text)switch(l=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":l/=2;break;case"start":l=0}this.startPoints={point:this.transformPoint(s,l),box:c,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(d){a.drag(d)}),SVG.on(window,"touchmove.drag",function(d){a.drag(d)}),SVG.on(window,"mouseup.drag",function(d){a.end(d)}),SVG.on(window,"touchend.drag",function(d){a.end(d)}),this.el.fire("dragstart",{event:s,p:this.startPoints.point,m:this.m,handler:this})}}},z.prototype.drag=function(s){var a=this.getBBox(),l=this.transformPoint(s),c=this.startPoints.box.x+l.x-this.startPoints.point.x,d=this.startPoints.box.y+l.y-this.startPoints.point.y,f=this.constraint,p=l.x-this.startPoints.point.x,m=l.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:s,p:l,m:this.m,handler:this}),this.el.event().defaultPrevented)return l;if(typeof f=="function"){var b=f.call(this.el,c,d,this.m);typeof b=="boolean"&&(b={x:b,y:b}),b.x===!0?this.el.x(c):b.x!==!1&&this.el.x(b.x),b.y===!0?this.el.y(d):b.y!==!1&&this.el.y(b.y)}else typeof f=="object"&&(f.minX!=null&&c<f.minX?p=(c=f.minX)-this.startPoints.box.x:f.maxX!=null&&c>f.maxX-a.width&&(p=(c=f.maxX-a.width)-this.startPoints.box.x),f.minY!=null&&d<f.minY?m=(d=f.minY)-this.startPoints.box.y:f.maxY!=null&&d>f.maxY-a.height&&(m=(d=f.maxY-a.height)-this.startPoints.box.y),f.snapToGrid!=null&&(c-=c%f.snapToGrid,d-=d%f.snapToGrid,p-=p%f.snapToGrid,m-=m%f.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:p,y:m},!0):this.el.move(c,d));return l},z.prototype.end=function(s){var a=this.drag(s);this.el.fire("dragend",{event:s,p:a,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(s,a){typeof s!="function"&&typeof s!="object"||(a=s,s=!0);var l=this.remember("_draggable")||new z(this);return(s=s===void 0||s)?l.init(a||{},s):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function z(s){this.el=s,s.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(a,l,c){var d=typeof a!="string"?a:l[a];return c?d/2:d},this.pointCoords=function(a,l){var c=this.pointsList[a];return{x:this.pointCoord(c[0],l,a==="t"||a==="b"),y:this.pointCoord(c[1],l,a==="r"||a==="l")}}}z.prototype.init=function(s,a){var l=this.el.bbox();this.options={};var c=this.el.selectize.defaults.points;for(var d in this.el.selectize.defaults)this.options[d]=this.el.selectize.defaults[d],a[d]!==void 0&&(this.options[d]=a[d]);var f=["points","pointsExclude"];for(var d in f){var p=this.options[f[d]];typeof p=="string"?p=p.length>0?p.split(/\s*,\s*/i):[]:typeof p=="boolean"&&f[d]==="points"&&(p=p?c:[]),this.options[f[d]]=p}this.options.points=[c,this.options.points].reduce(function(m,b){return m.filter(function(w){return b.indexOf(w)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(m,b){return m.filter(function(w){return b.indexOf(w)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(l.x,l.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(s):this.selectRect(s),this.observe(),this.cleanup()},z.prototype.selectPoints=function(s){return this.pointSelection.isSelected=s,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},z.prototype.getPointArray=function(){var s=this.el.bbox();return this.el.array().valueOf().map(function(a){return[a[0]-s.x,a[1]-s.y]})},z.prototype.drawPoints=function(){for(var s=this,a=this.getPointArray(),l=0,c=a.length;l<c;++l){var d=function(p){return function(m){(m=m||window.event).preventDefault?m.preventDefault():m.returnValue=!1,m.stopPropagation();var b=m.pageX||m.touches[0].pageX,w=m.pageY||m.touches[0].pageY;s.el.fire("point",{x:b,y:w,i:p,event:m})}}(l),f=this.drawPoint(a[l][0],a[l][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",d).on("mousedown",d);this.pointSelection.set.add(f)}},z.prototype.drawPoint=function(s,a){var l=this.options.pointType;switch(l){case"circle":return this.drawCircle(s,a);case"rect":return this.drawRect(s,a);default:if(typeof l=="function")return l.call(this,s,a);throw new Error("Unknown "+l+" point type!")}},z.prototype.drawCircle=function(s,a){return this.nested.circle(this.options.pointSize).center(s,a)},z.prototype.drawRect=function(s,a){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(s,a)},z.prototype.updatePointSelection=function(){var s=this.getPointArray();this.pointSelection.set.each(function(a){this.cx()===s[a][0]&&this.cy()===s[a][1]||this.center(s[a][0],s[a][1])})},z.prototype.updateRectSelection=function(){var s=this,a=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:a.width,height:a.height}),this.options.points.length&&this.options.points.map(function(c,d){var f=s.pointCoords(c,a);s.rectSelection.set.get(d+1).center(f.x,f.y)}),this.options.rotationPoint){var l=this.rectSelection.set.length();this.rectSelection.set.get(l-1).center(a.width/2,20)}},z.prototype.selectRect=function(s){var a=this,l=this.el.bbox();function c(p){return function(m){(m=m||window.event).preventDefault?m.preventDefault():m.returnValue=!1,m.stopPropagation();var b=m.pageX||m.touches[0].pageX,w=m.pageY||m.touches[0].pageY;a.el.fire(p,{x:b,y:w,event:m})}}if(this.rectSelection.isSelected=s,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(l.width,l.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(p,m){var b=a.pointCoords(p,l),w=a.drawPoint(b.x,b.y).attr("class",a.options.classPoints+"_"+p).on("mousedown",c(p)).on("touchstart",c(p));a.rectSelection.set.add(w)}),this.rectSelection.set.each(function(){this.addClass(a.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var d=function(p){(p=p||window.event).preventDefault?p.preventDefault():p.returnValue=!1,p.stopPropagation();var m=p.pageX||p.touches[0].pageX,b=p.pageY||p.touches[0].pageY;a.el.fire("rot",{x:m,y:b,event:p})},f=this.drawPoint(l.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",d).on("mousedown",d);this.rectSelection.set.add(f)}},z.prototype.handler=function(){var s=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(s.x,s.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},z.prototype.observe=function(){var s=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){s.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){s.handler()})},z.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(s,a){return typeof s=="object"&&(a=s,s=!0),(this.remember("_selectHandler")||new z(this)).init(s===void 0||s,a||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function z(s){s.remember("_resizeHandler",this),this.el=s,this.parameters={},this.lastUpdateCall=null,this.p=s.doc().node.createSVGPoint()}z.prototype.transformPoint=function(s,a,l){return this.p.x=s-(this.offset.x-window.pageXOffset),this.p.y=a-(this.offset.y-window.pageYOffset),this.p.matrixTransform(l||this.m)},z.prototype._extractPosition=function(s){return{x:s.clientX!=null?s.clientX:s.touches[0].clientX,y:s.clientY!=null?s.clientY:s.touches[0].clientY}},z.prototype.init=function(s){var a=this;if(this.stop(),s!=="stop"){for(var l in this.options={},this.el.resize.defaults)this.options[l]=this.el.resize.defaults[l],s[l]!==void 0&&(this.options[l]=s[l]);this.el.on("lt.resize",function(c){a.resize(c||window.event)}),this.el.on("rt.resize",function(c){a.resize(c||window.event)}),this.el.on("rb.resize",function(c){a.resize(c||window.event)}),this.el.on("lb.resize",function(c){a.resize(c||window.event)}),this.el.on("t.resize",function(c){a.resize(c||window.event)}),this.el.on("r.resize",function(c){a.resize(c||window.event)}),this.el.on("b.resize",function(c){a.resize(c||window.event)}),this.el.on("l.resize",function(c){a.resize(c||window.event)}),this.el.on("rot.resize",function(c){a.resize(c||window.event)}),this.el.on("point.resize",function(c){a.resize(c||window.event)}),this.update()}},z.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},z.prototype.resize=function(s){var a=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var l=this._extractPosition(s.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(l.x,l.y),x:s.detail.x,y:s.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),s.detail.i!==void 0){var c=this.el.array().valueOf();this.parameters.i=s.detail.i,this.parameters.pointCoords=[c[s.detail.i][0],c[s.detail.i][1]]}switch(s.type){case"lt":this.calc=function(d,f){var p=this.snapToGrid(d,f);if(this.parameters.box.width-p[0]>0&&this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-p[0]);p=this.checkAspectRatio(p),this.el.move(this.parameters.box.x+p[0],this.parameters.box.y+p[1]).size(this.parameters.box.width-p[0],this.parameters.box.height-p[1])}};break;case"rt":this.calc=function(d,f){var p=this.snapToGrid(d,f,2);if(this.parameters.box.width+p[0]>0&&this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+p[0]);p=this.checkAspectRatio(p,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+p[1]).size(this.parameters.box.width+p[0],this.parameters.box.height-p[1])}};break;case"rb":this.calc=function(d,f){var p=this.snapToGrid(d,f,0);if(this.parameters.box.width+p[0]>0&&this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+p[0]);p=this.checkAspectRatio(p),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+p[0],this.parameters.box.height+p[1])}};break;case"lb":this.calc=function(d,f){var p=this.snapToGrid(d,f,1);if(this.parameters.box.width-p[0]>0&&this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-p[0]);p=this.checkAspectRatio(p,!0),this.el.move(this.parameters.box.x+p[0],this.parameters.box.y).size(this.parameters.box.width-p[0],this.parameters.box.height+p[1])}};break;case"t":this.calc=function(d,f){var p=this.snapToGrid(d,f,2);if(this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+p[1]).height(this.parameters.box.height-p[1])}};break;case"r":this.calc=function(d,f){var p=this.snapToGrid(d,f,0);if(this.parameters.box.width+p[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+p[0])}};break;case"b":this.calc=function(d,f){var p=this.snapToGrid(d,f,0);if(this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+p[1])}};break;case"l":this.calc=function(d,f){var p=this.snapToGrid(d,f,1);if(this.parameters.box.width-p[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+p[0],this.parameters.box.y).width(this.parameters.box.width-p[0])}};break;case"rot":this.calc=function(d,f){var p=d+this.parameters.p.x,m=f+this.parameters.p.y,b=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),w=Math.atan2(m-this.parameters.box.y-this.parameters.box.height/2,p-this.parameters.box.x-this.parameters.box.width/2),C=this.parameters.rotation+180*(w-b)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(C-C%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(d,f){var p=this.snapToGrid(d,f,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),m=this.el.array().valueOf();m[this.parameters.i][0]=this.parameters.pointCoords[0]+p[0],m[this.parameters.i][1]=this.parameters.pointCoords[1]+p[1],this.el.plot(m)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:s}),SVG.on(window,"touchmove.resize",function(d){a.update(d||window.event)}),SVG.on(window,"touchend.resize",function(){a.done()}),SVG.on(window,"mousemove.resize",function(d){a.update(d||window.event)}),SVG.on(window,"mouseup.resize",function(){a.done()})},z.prototype.update=function(s){if(s){var a=this._extractPosition(s),l=this.transformPoint(a.x,a.y),c=l.x-this.parameters.p.x,d=l.y-this.parameters.p.y;this.lastUpdateCall=[c,d],this.calc(c,d),this.el.fire("resizing",{dx:c,dy:d,event:s})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},z.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},z.prototype.snapToGrid=function(s,a,l,c){var d;return c!==void 0?d=[(l+s)%this.options.snapToGrid,(c+a)%this.options.snapToGrid]:(l=l??3,d=[(this.parameters.box.x+s+(1&l?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+a+(2&l?0:this.parameters.box.height))%this.options.snapToGrid]),s<0&&(d[0]-=this.options.snapToGrid),a<0&&(d[1]-=this.options.snapToGrid),s-=Math.abs(d[0])<this.options.snapToGrid/2?d[0]:d[0]-(s<0?-this.options.snapToGrid:this.options.snapToGrid),a-=Math.abs(d[1])<this.options.snapToGrid/2?d[1]:d[1]-(a<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(s,a,l,c)},z.prototype.constraintToBox=function(s,a,l,c){var d,f,p=this.options.constraint||{};return c!==void 0?(d=l,f=c):(d=this.parameters.box.x+(1&l?0:this.parameters.box.width),f=this.parameters.box.y+(2&l?0:this.parameters.box.height)),p.minX!==void 0&&d+s<p.minX&&(s=p.minX-d),p.maxX!==void 0&&d+s>p.maxX&&(s=p.maxX-d),p.minY!==void 0&&f+a<p.minY&&(a=p.minY-f),p.maxY!==void 0&&f+a>p.maxY&&(a=p.maxY-f),[s,a]},z.prototype.checkAspectRatio=function(s,a){if(!this.options.saveAspectRatio)return s;var l=s.slice(),c=this.parameters.box.width/this.parameters.box.height,d=this.parameters.box.width+s[0],f=this.parameters.box.height-s[1],p=d/f;return p<c?(l[1]=d/c-this.parameters.box.height,a&&(l[1]=-l[1])):p>c&&(l[0]=this.parameters.box.width-f*c,a&&(l[0]=-l[0])),l},SVG.extend(SVG.Element,{resize:function(s){return(this.remember("_resizeHandler")||new z(this)).init(s||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var sa=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new G(this.ctx),this.ctx.axes=new Lt(this.ctx),this.ctx.core=new ih(this.ctx.el,this.ctx),this.ctx.config=new Me({}),this.ctx.data=new Ct(this.ctx),this.ctx.grid=new Ot(this.ctx),this.ctx.graphics=new _(this.ctx),this.ctx.coreUtils=new Q(this.ctx),this.ctx.crosshairs=new $(this.ctx),this.ctx.events=new ai(this.ctx),this.ctx.exports=new ti(this.ctx),this.ctx.localization=new At(this.ctx),this.ctx.options=new ye,this.ctx.responsive=new B(this.ctx),this.ctx.series=new Ke(this.ctx),this.ctx.theme=new F(this.ctx),this.ctx.formatters=new Te(this.ctx),this.ctx.titleSubtitle=new Z(this.ctx),this.ctx.legend=new ft(this.ctx),this.ctx.toolbar=new Qe(this.ctx),this.ctx.tooltip=new Qn(this.ctx),this.ctx.dimensions=new _e(this.ctx),this.ctx.updateHelpers=new rh(this.ctx),this.ctx.zoomPanSelection=new Ii(this.ctx),this.ctx.w.globals.tooltip=new Qn(this.ctx)}}]),z}(),na=function(){function z(s){o(this,z),this.ctx=s,this.w=s.w}return u(z,[{key:"clear",value:function(s){var a=s.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:a})}},{key:"killSVG",value:function(s){s.each(function(a,l){this.removeClass("*"),this.off(),this.stop()},!0),s.ungroup(),s.clear()}},{key:"clearDomElements",value:function(s){var a=this,l=s.isUpdating,c=this.w.globals.dom.Paper.node;c.parentNode&&c.parentNode.parentNode&&!l&&(c.parentNode.parentNode.style.minHeight="unset");var d=this.w.globals.dom.baseEl;d&&this.ctx.eventList.forEach(function(p){d.removeEventListener(p,a.ctx.events.documentEvent)});var f=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(f.Paper),f.Paper.remove(),f.elWrap=null,f.elGraphical=null,f.elLegendWrap=null,f.elLegendForeign=null,f.baseEl=null,f.elGridRect=null,f.elGridRectMask=null,f.elGridRectMarkerMask=null,f.elForecastMask=null,f.elNonForecastMask=null,f.elDefs=null}}]),z}(),Xs=new WeakMap,sh=function(){function z(s,a){o(this,z),this.opts=a,this.ctx=this,this.w=new Ve(a).init(),this.el=s,this.w.globals.cuid=N.randomId(),this.w.globals.chartID=this.w.config.chart.id?N.escapeString(this.w.config.chart.id):this.w.globals.cuid,new sa(this).initModules(),this.create=N.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return u(z,[{key:"render",value:function(){var s=this;return new Promise(function(a,l){if(s.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),s.w.config.chart.id&&Apex._chartInstances.push({id:s.w.globals.chartID,group:s.w.config.chart.group,chart:s}),s.setLocale(s.w.config.chart.defaultLocale);var c=s.w.config.chart.events.beforeMount;if(typeof c=="function"&&c(s,s.w),s.events.fireEvent("beforeMount",[s,s.w]),window.addEventListener("resize",s.windowResizeHandler),function(w,C){var A=!1;if(w.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var L=w.getBoundingClientRect();w.style.display!=="none"&&L.width!==0||(A=!0)}var P=new ResizeObserver(function(O){A&&C.call(w,O),A=!0});w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(w.children).forEach(function(O){return P.observe(O)}):P.observe(w),Xs.set(C,P)}(s.el.parentNode,s.parentResizeHandler),!s.css){var d=s.el.getRootNode&&s.el.getRootNode(),f=N.is("ShadowRoot",d),p=s.el.ownerDocument,m=p.getElementById("apexcharts-css");!f&&m||(s.css=document.createElement("style"),s.css.id="apexcharts-css",s.css.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  opacity: 0
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}
.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}
`,f?d.prepend(s.css):p.head.appendChild(s.css))}var b=s.create(s.w.config.series,{});if(!b)return a(s);s.mount(b).then(function(){typeof s.w.config.chart.events.mounted=="function"&&s.w.config.chart.events.mounted(s,s.w),s.events.fireEvent("mounted",[s,s.w]),a(b)}).catch(function(w){l(w)})}else l(new Error("Element not found"))})}},{key:"create",value:function(s,a){var l=this.w;new sa(this).initModules();var c=this.w.globals;if(c.noData=!1,c.animationEnded=!1,this.responsive.checkResponsiveConfig(a),l.config.xaxis.convertedCatToNumeric&&new nt(l.config).convertCatToNumericXaxis(l.config,this.ctx),this.el===null||(this.core.setupElements(),l.config.chart.type==="treemap"&&(l.config.grid.show=!1,l.config.yaxis[0].show=!1),c.svgWidth===0))return c.animationEnded=!0,null;var d=Q.checkComboSeries(s);c.comboCharts=d.comboCharts,c.comboBarCount=d.comboBarCount;var f=s.every(function(w){return w.data&&w.data.length===0});(s.length===0||f)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(s),this.theme.init(),new st(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),c.noData&&c.collapsedSeries.length!==c.series.length&&!l.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),c.axisCharts&&(this.core.coreCalculations(),l.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=l.globals.minX,this.ctx.toolbar.maxX=l.globals.maxX),this.formatters.heatmapLabelFormatters(),new Q(this).getLargestMarkerSize(),this.dimensions.plotCoords();var p=this.core.xySettings();this.grid.createGridMask();var m=this.core.plotChartType(s,p),b=new Ae(this);return b.bringForward(),l.config.dataLabels.background.enabled&&b.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:m,xyRatios:p,dimensions:{plot:{left:l.globals.translateX,top:l.globals.translateY,width:l.globals.gridWidth,height:l.globals.gridHeight}}}}},{key:"mount",value:function(){var s=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,l=this,c=l.w;return new Promise(function(d,f){if(l.el===null)return f(new Error("Not enough data to display or target element not found"));(a===null||c.globals.allSeriesCollapsed)&&l.series.handleNoData(),l.grid=new Ot(l);var p=l.grid.drawGrid();if(l.annotations=new le(l),l.annotations.drawImageAnnos(),l.annotations.drawTextAnnos(),c.config.grid.position==="back"&&p&&c.globals.dom.elGraphical.add(p.el),Array.isArray(a.elGraph))for(var m=0;m<a.elGraph.length;m++)c.globals.dom.elGraphical.add(a.elGraph[m]);else c.globals.dom.elGraphical.add(a.elGraph);c.config.grid.position==="front"&&p&&c.globals.dom.elGraphical.add(p.el),p&&p.elGridBorders&&p.elGridBorders.node&&c.globals.dom.elGraphical.add(p.elGridBorders),c.config.xaxis.crosshairs.position==="front"&&l.crosshairs.drawXCrosshairs(),c.config.yaxis[0].crosshairs.position==="front"&&l.crosshairs.drawYCrosshairs(),c.config.chart.type!=="treemap"&&l.axes.drawAxis(c.config.chart.type,p);var b=new Mt(s.ctx,p),w=new Rt(s.ctx,p);if(p!==null&&(b.xAxisLabelCorrections(p.xAxisTickWidth),w.setYAxisTextAlignments(),c.config.yaxis.map(function(A,L){c.globals.ignoreYAxisIndexes.indexOf(L)===-1&&w.yAxisTitleRotate(L,A.opposite)})),l.annotations.drawAxesAnnotations(),!c.globals.noData){if(c.config.tooltip.enabled&&!c.globals.noData&&l.w.globals.tooltip.drawTooltip(a.xyRatios),c.globals.axisCharts&&(c.globals.isXNumeric||c.config.xaxis.convertedCatToNumeric||c.globals.isRangeBar))(c.config.chart.zoom.enabled||c.config.chart.selection&&c.config.chart.selection.enabled||c.config.chart.pan&&c.config.chart.pan.enabled)&&l.zoomPanSelection.init({xyRatios:a.xyRatios});else{var C=c.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(A){C[A]=!1})}c.config.chart.toolbar.show&&!c.globals.allSeriesCollapsed&&l.toolbar.createToolbar()}c.globals.memory.methodsToExec.length>0&&c.globals.memory.methodsToExec.forEach(function(A){A.method(A.params,!1,A.context)}),c.globals.axisCharts||c.globals.noData||l.core.resizeNonAxisCharts(),d(l)})}},{key:"destroy",value:function(){var s,a;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,s=this.parentResizeHandler,(a=Xs.get(s))&&(a.disconnect(),Xs.delete(s));var l=this.w.config.chart.id;l&&Apex._chartInstances.forEach(function(c,d){c.id===N.escapeString(l)&&Apex._chartInstances.splice(d,1)}),new na(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(s){var a=this,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],d=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],p=this.w;return p.globals.selection=void 0,s.series&&(this.series.resetSeries(!1,!0,!1),s.series.length&&s.series[0].data&&(s.series=s.series.map(function(m,b){return a.updateHelpers._extendSeries(m,b)})),this.updateHelpers.revertDefaultAxisMinMax()),s.xaxis&&(s=this.updateHelpers.forceXAxisUpdate(s)),s.yaxis&&(s=this.updateHelpers.forceYAxisUpdate(s)),p.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),s.theme&&(s=this.theme.updateThemeOptions(s)),this.updateHelpers._updateOptions(s,l,c,d,f)}},{key:"updateSeries",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(s,a,l)}},{key:"appendSeries",value:function(s){var a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=this.w.config.series.slice();return c.push(s),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(c,a,l)}},{key:"appendData",value:function(s){var a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=this;l.w.globals.dataChanged=!0,l.series.getPreviousPaths();for(var c=l.w.config.series.slice(),d=0;d<c.length;d++)if(s[d]!==null&&s[d]!==void 0)for(var f=0;f<s[d].data.length;f++)c[d].data.push(s[d].data[f]);return l.w.config.series=c,a&&(l.w.globals.initialSeries=N.clone(l.w.config.series)),this.update()}},{key:"update",value:function(s){var a=this;return new Promise(function(l,c){new na(a.ctx).clear({isUpdating:!0});var d=a.create(a.w.config.series,s);if(!d)return l(a);a.mount(d).then(function(){typeof a.w.config.chart.events.updated=="function"&&a.w.config.chart.events.updated(a,a.w),a.events.fireEvent("updated",[a,a.w]),a.w.globals.isDirty=!0,l(a)}).catch(function(f){c(f)})})}},{key:"getSyncedCharts",value:function(){var s=this.getGroupedCharts(),a=[this];return s.length&&(a=[],s.forEach(function(l){a.push(l)})),a}},{key:"getGroupedCharts",value:function(){var s=this;return Apex._chartInstances.filter(function(a){if(a.group)return!0}).map(function(a){return s.w.config.chart.group===a.group?a.chart:s})}},{key:"toggleSeries",value:function(s){return this.series.toggleSeries(s)}},{key:"highlightSeriesOnLegendHover",value:function(s,a){return this.series.toggleSeriesOnHover(s,a)}},{key:"showSeries",value:function(s){this.series.showSeries(s)}},{key:"hideSeries",value:function(s){this.series.hideSeries(s)}},{key:"resetSeries",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(s,a)}},{key:"addEventListener",value:function(s,a){this.events.addEventListener(s,a)}},{key:"removeEventListener",value:function(s,a){this.events.removeEventListener(s,a)}},{key:"addXaxisAnnotation",value:function(s){var a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;l&&(c=l),c.annotations.addXaxisAnnotationExternal(s,a,c)}},{key:"addYaxisAnnotation",value:function(s){var a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;l&&(c=l),c.annotations.addYaxisAnnotationExternal(s,a,c)}},{key:"addPointAnnotation",value:function(s){var a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;l&&(c=l),c.annotations.addPointAnnotationExternal(s,a,c)}},{key:"clearAnnotations",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,a=this;s&&(a=s),a.annotations.clearAnnotations(a)}},{key:"removeAnnotation",value:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,l=this;a&&(l=a),l.annotations.removeAnnotation(l,s)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(s,a){return this.coreUtils.getSeriesTotalsXRange(s,a)}},{key:"getHighestValueInSeries",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new It(this.ctx).getMinYMaxY(s).highestY}},{key:"getLowestValueInSeries",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new It(this.ctx).getMinYMaxY(s).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(s,a){return this.updateHelpers.toggleDataPointSelection(s,a)}},{key:"zoomX",value:function(s,a){this.ctx.toolbar.zoomUpdateOptions(s,a)}},{key:"setLocale",value:function(s){this.localization.setCurrentLocaleValues(s)}},{key:"dataURI",value:function(s){return new ti(this.ctx).dataURI(s)}},{key:"exportToCSV",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new ti(this.ctx).exportToCSV(s)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var s=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){s.w.globals.resized=!0,s.w.globals.dataChanged=!1,s.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var s=this.w.config.chart.redrawOnWindowResize;typeof s=="function"&&(s=s()),s&&this._windowResize()}}],[{key:"getChartByID",value:function(s){var a=N.escapeString(s),l=Apex._chartInstances.filter(function(c){return c.id===a})[0];return l&&l.chart}},{key:"initOnLoad",value:function(){for(var s=document.querySelectorAll("[data-apexcharts]"),a=0;a<s.length;a++)new z(s[a],JSON.parse(s[a].getAttribute("data-options"))).render()}},{key:"exec",value:function(s,a){var l=this.getChartByID(s);if(l){l.w.globals.isExecCalled=!0;var c=null;if(l.publicMethods.indexOf(a)!==-1){for(var d=arguments.length,f=new Array(d>2?d-2:0),p=2;p<d;p++)f[p-2]=arguments[p];c=l[a].apply(l,f)}return c}}},{key:"merge",value:function(s,a){return N.extend(s,a)}}]),z}();n.exports=sh})(Ln,Ln.exports);var vf=Ln.exports,kl;Object.defineProperty(Al,"__esModule",{value:!0});var yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bf=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xf=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),wf=vf,Tl=Zn(wf),Ll=xe,_r=Zn(Ll),Sf=yh,Vr=Zn(Sf);function Zn(n){return n&&n.__esModule?n:{default:n}}function Cf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Af(n,e){var t={};for(var i in n)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}function kf(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Tf(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function Lf(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}window.ApexCharts=Tl.default;var oo=function(){function n(e){kf(this,n);var t=Tf(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return _r.default.createRef?t.chartRef=_r.default.createRef():t.setRef=function(i){return t.chartRef=i},t.chart=null,t}return Lf(n,Ll.Component),xf(n,[{key:"render",value:function(){var e=this.props,t=(e.type,e.height,e.width,e.series,e.options,Af(e,["type","height","width","series","options"]));return _r.default.createElement("div",bf({ref:_r.default.createRef?this.chartRef:this.setRef},t))}},{key:"componentDidMount",value:function(){var e=_r.default.createRef?this.chartRef.current:this.chartRef;this.chart=new Tl.default(e,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var e=this.props,t=e.type,i=e.height,r=e.width,o=e.series,h=e.options,u={chart:{type:t,height:i,width:r},series:o};return this.extend(h,u)}},{key:"isObject",value:function(e){return e&&(e===void 0?"undefined":yf(e))==="object"&&!Array.isArray(e)&&e!=null}},{key:"extend",value:function(e,t){var i=this;typeof Object.assign!="function"&&(Object.assign=function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(o),u=1;u<arguments.length;u++){var g=arguments[u];if(g!=null)for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])}return h});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(o){i.isObject(t[o])&&o in e?r[o]=i.extend(e[o],t[o]):Object.assign(r,Cf({},o,t[o]))}),r}},{key:"componentDidUpdate",value:function(e){if(!this.chart)return null;var t=this.props,i=t.options,r=t.series,o=t.height,h=t.width,u=JSON.stringify(e.options),g=JSON.stringify(e.series),y=JSON.stringify(i),x=JSON.stringify(r);u===y&&g===x&&o===e.height&&h===e.width||(g===x?this.chart.updateOptions(this.getConfig()):u===y&&o===e.height&&h===e.width?this.chart.updateSeries(r):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&typeof this.chart.destroy=="function"&&this.chart.destroy()}}]),n}();(kl=Al.default=oo).propTypes={type:Vr.default.string.isRequired,width:Vr.default.any,height:Vr.default.any,series:Vr.default.array.isRequired,options:Vr.default.object.isRequired},oo.defaultProps={type:"line",width:"100%",height:"auto"};const Pf=In(kl)(({theme:n})=>({"& .apexcharts-xaxistooltip":{backgroundColor:n.palette.background.paper,boxShadow:n.shadows[16],borderRadius:n.shape.borderRadius,border:0,"&::before, &::after":{display:"none"}},"& .apexcharts-tooltip":{"&.apexcharts-theme-light, &.apexcharts-theme-dark":{backdropFilter:"blur(6px)",background:"transparent",border:0,boxShadow:"none","& .apexcharts-tooltip-title":{background:ha(n.palette.neutral[900],.8),border:0,color:n.palette.common.white,margin:0},"& .apexcharts-tooltip-series-group":{background:ha(n.palette.neutral[900],.7),border:0,color:n.palette.common.white}}}})),Ef=()=>{const n=Fs();return{chart:{background:"transparent",toolbar:{show:!1},zoom:{enabled:!1}},colors:[n.palette.primary.main],dataLabels:{enabled:!1},fill:{gradient:{opacityFrom:.5,opacityTo:0,stops:[0,100]},type:"gradient"},grid:{show:!1,padding:{bottom:0,left:0,right:0,top:0}},stroke:{curve:"smooth",width:3},theme:{mode:n.palette.mode},tooltip:{enabled:!0},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{show:!1}}},lo=n=>{const{action:e,chartSeries:t,title:i}=n,r=new Intl.NumberFormat("en-US",{style:"currency",currency:"MAD"}),{t:o,i18n:h}=$t(),u=Ef(),[g,y]=xe.useState([]);return xe.useEffect(()=>{if(!t.isLoading){const x=t.data.map(S=>({x:S.date,y:Number(S.amount).toFixed(2)}));y([{name:i,data:x}])}},[t.isLoading]),q.jsx(Wi,{children:q.jsxs(vi,{alignItems:"center",justifyContent:"space-between",direction:"row",spacing:2,sx:{backgroundColor:x=>x.palette.mode==="dark"?"neutral.800":"primary.lightest",borderRadius:2.5,px:3,py:1},children:[q.jsxs("div",{children:[q.jsx(Ze,{color:"text.secondary",variant:"body2",children:i}),q.jsx(Ze,{sx:{mt:1,direction:h.language=="fr"?"ltr":"rtl",whiteSpace:"nowrap"},variant:"h5",children:!t.isLoading&&t.data.length>0?r.format(t.data[t.data.length-1].amount).replaceAll(","," ").replace("MAD",""):0})]}),q.jsx(tr,{sx:{width:200},children:q.jsx(Pf,{height:100,options:u,series:g,type:"area"})})]})})},Mf=n=>{const{action:e,balance:t,title:i}=n,r=new Intl.NumberFormat("en-US",{style:"currency",currency:"MAD"}),{t:o,i18n:h}=$t();return xe.useState([]),xe.useEffect(()=>{console.log(t)},[]),q.jsx(Wi,{children:q.jsx(vi,{alignItems:"center",justifyContent:"space-between",direction:"row",spacing:2,sx:{backgroundColor:u=>u.palette.mode==="dark"?"neutral.800":"primary.lightest",borderRadius:2.5,px:3,py:4.4},children:q.jsxs("div",{children:[q.jsx(Ze,{color:"text.secondary",variant:"body2",children:i}),q.jsx(Ze,{sx:{mt:1,direction:h.language=="fr"?"ltr":"rtl"},variant:"h5",children:t.isLoading?0:r.format(t.data.trade_balance).replaceAll(","," ").replace("MAD","")})]})})})};function ho(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Kn(n,e){n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:ho(e[t])&&ho(n[t])&&Object.keys(e[t]).length>0&&Kn(n[t],e[t])})}const Pl={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ar(){const n=typeof document<"u"?document:{};return Kn(n,Pl),n}const Of={document:Pl,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function ei(){const n=typeof window<"u"?window:{};return Kn(n,Of),n}function If(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function Rf(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Pn(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Os(){return Date.now()}function Bf(n){const e=ei();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Ff(n,e){e===void 0&&(e="x");const t=ei();let i,r,o;const h=Bf(n);return t.WebKitCSSMatrix?(r=h.transform||h.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(u=>u.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(r==="none"?"":r)):(o=h.MozTransform||h.OTransform||h.MsTransform||h.msTransform||h.transform||h.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?r=o.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?r=o.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function vs(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Df(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Jt(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!Df(i)){const r=Object.keys(Object(i)).filter(o=>e.indexOf(o)<0);for(let o=0,h=r.length;o<h;o+=1){const u=r[o],g=Object.getOwnPropertyDescriptor(i,u);g!==void 0&&g.enumerable&&(vs(n[u])&&vs(i[u])?i[u].__swiper__?n[u]=i[u]:Jt(n[u],i[u]):!vs(n[u])&&vs(i[u])?(n[u]={},i[u].__swiper__?n[u]=i[u]:Jt(n[u],i[u])):n[u]=i[u])}}}return n}function ys(n,e,t){n.style.setProperty(e,t)}function El(n){let{swiper:e,targetPosition:t,side:i}=n;const r=ei(),o=-e.translate;let h=null,u;const g=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const y=t>o?"next":"prev",x=(T,M)=>y==="next"&&T>=M||y==="prev"&&T<=M,S=()=>{u=new Date().getTime(),h===null&&(h=u);const T=Math.max(Math.min((u-h)/g,1),0),M=.5-Math.cos(T*Math.PI)/2;let R=o+M*(t-o);if(x(R,t)&&(R=t),e.wrapperEl.scrollTo({[i]:R}),x(R,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:R})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(S)};S()}function mi(n,e){e===void 0&&(e="");const t=[...n.children];return n instanceof HTMLSlotElement&&t.push(...n.assignedElements()),e?t.filter(i=>i.matches(e)):t}function Nf(n,e){var i,r;const t=[e];for(;t.length>0;){const o=t.shift();if(n===o)return!0;t.push(...o.children,...((i=o.shadowRoot)==null?void 0:i.children)||[],...((r=o.assignedElements)==null?void 0:r.call(o))||[])}}function zf(n,e){let t=e.contains(n);return!t&&e instanceof HTMLSlotElement&&(t=[...e.assignedElements()].includes(n),t||(t=Nf(n,e))),t}function Is(n){try{console.warn(n);return}catch{}}function Rs(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:If(e)),t}function _f(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function Vf(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function zi(n,e){return ei().getComputedStyle(n,null).getPropertyValue(e)}function co(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function Hf(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function uo(n,e,t){const i=ei();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}function yi(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let rn;function Wf(){const n=ei(),e=ar();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function Ml(){return rn||(rn=Wf()),rn}let sn;function jf(n){let{userAgent:e}=n===void 0?{}:n;const t=Ml(),i=ei(),r=i.navigator.platform,o=e||i.navigator.userAgent,h={ios:!1,android:!1},u=i.screen.width,g=i.screen.height,y=o.match(/(Android);?[\s\/]+([\d.]+)?/);let x=o.match(/(iPad).*OS\s([\d_]+)/);const S=o.match(/(iPod)(.*OS\s([\d_]+))?/),T=!x&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),M=r==="Win32";let R=r==="MacIntel";const I=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!x&&R&&t.touch&&I.indexOf(`${u}x${g}`)>=0&&(x=o.match(/(Version)\/([\d.]+)/),x||(x=[0,1,"13_0_0"]),R=!1),y&&!M&&(h.os="android",h.android=!0),(x||T||S)&&(h.os="ios",h.ios=!0),h}function Ol(n){return n===void 0&&(n={}),sn||(sn=jf(n)),sn}let nn;function Xf(){const n=ei(),e=Ol();let t=!1;function i(){const u=n.navigator.userAgent.toLowerCase();return u.indexOf("safari")>=0&&u.indexOf("chrome")<0&&u.indexOf("android")<0}if(i()){const u=String(n.navigator.userAgent);if(u.includes("Version/")){const[g,y]=u.split("Version/")[1].split(" ")[0].split(".").map(x=>Number(x));t=g<16||g===16&&y<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=i(),h=o||r&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:h,isWebView:r}}function Yf(){return nn||(nn=Xf()),nn}function Gf(n){let{swiper:e,on:t,emit:i}=n;const r=ei();let o=null,h=null;const u=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},g=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(S=>{h=r.requestAnimationFrame(()=>{const{width:T,height:M}=e;let R=T,I=M;S.forEach(j=>{let{contentBoxSize:W,contentRect:N,target:G}=j;G&&G!==e.el||(R=N?N.width:(W[0]||W).inlineSize,I=N?N.height:(W[0]||W).blockSize)}),(R!==T||I!==M)&&u()})}),o.observe(e.el))},y=()=>{h&&r.cancelAnimationFrame(h),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},x=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){g();return}r.addEventListener("resize",u),r.addEventListener("orientationchange",x)}),t("destroy",()=>{y(),r.removeEventListener("resize",u),r.removeEventListener("orientationchange",x)})}function Uf(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const o=[],h=ei(),u=function(x,S){S===void 0&&(S={});const T=h.MutationObserver||h.WebkitMutationObserver,M=new T(R=>{if(e.__preventObserver__)return;if(R.length===1){r("observerUpdate",R[0]);return}const I=function(){r("observerUpdate",R[0])};h.requestAnimationFrame?h.requestAnimationFrame(I):h.setTimeout(I,0)});M.observe(x,{attributes:typeof S.attributes>"u"?!0:S.attributes,childList:e.isElement||(typeof S.childList>"u"?!0:S).childList,characterData:typeof S.characterData>"u"?!0:S.characterData}),o.push(M)},g=()=>{if(e.params.observer){if(e.params.observeParents){const x=Hf(e.hostEl);for(let S=0;S<x.length;S+=1)u(x[S])}u(e.hostEl,{childList:e.params.observeSlideChildren}),u(e.wrapperEl,{attributes:!1})}},y=()=>{o.forEach(x=>{x.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",g),i("destroy",y)}var qf={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=t?"unshift":"push";return n.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][r](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy;for(var o=arguments.length,h=new Array(o),u=0;u<o;u++)h[u]=arguments[u];e.apply(i,h)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,o)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var r=arguments.length,o=new Array(r),h=0;h<r;h++)o[h]=arguments[h];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),i=n):(e=o[0].events,t=o[0].data,i=o[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(g=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(y=>{y.apply(i,[g,...t])}),n.eventsListeners&&n.eventsListeners[g]&&n.eventsListeners[g].forEach(y=>{y.apply(i,t)})}),n}};function $f(){const n=this;let e,t;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(zi(i,"padding-left")||0,10)-parseInt(zi(i,"padding-right")||0,10),t=t-parseInt(zi(i,"padding-top")||0,10)-parseInt(zi(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function Zf(){const n=this;function e(ne,ve){return parseFloat(ne.getPropertyValue(n.getDirectionLabel(ve))||0)}const t=n.params,{wrapperEl:i,slidesEl:r,size:o,rtlTranslate:h,wrongRTL:u}=n,g=n.virtual&&t.virtual.enabled,y=g?n.virtual.slides.length:n.slides.length,x=mi(r,`.${n.params.slideClass}, swiper-slide`),S=g?n.virtual.slides.length:x.length;let T=[];const M=[],R=[];let I=t.slidesOffsetBefore;typeof I=="function"&&(I=t.slidesOffsetBefore.call(n));let j=t.slidesOffsetAfter;typeof j=="function"&&(j=t.slidesOffsetAfter.call(n));const W=n.snapGrid.length,N=n.slidesGrid.length;let G=t.spaceBetween,K=-I,_=0,Q=0;if(typeof o>"u")return;typeof G=="string"&&G.indexOf("%")>=0?G=parseFloat(G.replace("%",""))/100*o:typeof G=="string"&&(G=parseFloat(G)),n.virtualSize=-G,x.forEach(ne=>{h?ne.style.marginLeft="":ne.style.marginRight="",ne.style.marginBottom="",ne.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(ys(i,"--swiper-centered-offset-before",""),ys(i,"--swiper-centered-offset-after",""));const ie=t.grid&&t.grid.rows>1&&n.grid;ie?n.grid.initSlides(x):n.grid&&n.grid.unsetSlides();let re;const fe=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(ne=>typeof t.breakpoints[ne].slidesPerView<"u").length>0;for(let ne=0;ne<S;ne+=1){re=0;let ve;if(x[ne]&&(ve=x[ne]),ie&&n.grid.updateSlide(ne,ve,x),!(x[ne]&&zi(ve,"display")==="none")){if(t.slidesPerView==="auto"){fe&&(x[ne].style[n.getDirectionLabel("width")]="");const ye=getComputedStyle(ve),le=ve.style.transform,pe=ve.style.webkitTransform;if(le&&(ve.style.transform="none"),pe&&(ve.style.webkitTransform="none"),t.roundLengths)re=n.isHorizontal()?uo(ve,"width",!0):uo(ve,"height",!0);else{const Te=e(ye,"width"),Ie=e(ye,"padding-left"),et=e(ye,"padding-right"),nt=e(ye,"margin-left"),Me=e(ye,"margin-right"),qe=ye.getPropertyValue("box-sizing");if(qe&&qe==="border-box")re=Te+nt+Me;else{const{clientWidth:Ve,offsetWidth:Se}=ve;re=Te+Ie+et+nt+Me+(Se-Ve)}}le&&(ve.style.transform=le),pe&&(ve.style.webkitTransform=pe),t.roundLengths&&(re=Math.floor(re))}else re=(o-(t.slidesPerView-1)*G)/t.slidesPerView,t.roundLengths&&(re=Math.floor(re)),x[ne]&&(x[ne].style[n.getDirectionLabel("width")]=`${re}px`);x[ne]&&(x[ne].swiperSlideSize=re),R.push(re),t.centeredSlides?(K=K+re/2+_/2+G,_===0&&ne!==0&&(K=K-o/2-G),ne===0&&(K=K-o/2-G),Math.abs(K)<1/1e3&&(K=0),t.roundLengths&&(K=Math.floor(K)),Q%t.slidesPerGroup===0&&T.push(K),M.push(K)):(t.roundLengths&&(K=Math.floor(K)),(Q-Math.min(n.params.slidesPerGroupSkip,Q))%n.params.slidesPerGroup===0&&T.push(K),M.push(K),K=K+re+G),n.virtualSize+=re+G,_=re,Q+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+j,h&&u&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${n.virtualSize+G}px`),t.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+G}px`),ie&&n.grid.updateWrapperSize(re,T),!t.centeredSlides){const ne=[];for(let ve=0;ve<T.length;ve+=1){let ye=T[ve];t.roundLengths&&(ye=Math.floor(ye)),T[ve]<=n.virtualSize-o&&ne.push(ye)}T=ne,Math.floor(n.virtualSize-o)-Math.floor(T[T.length-1])>1&&T.push(n.virtualSize-o)}if(g&&t.loop){const ne=R[0]+G;if(t.slidesPerGroup>1){const ve=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),ye=ne*t.slidesPerGroup;for(let le=0;le<ve;le+=1)T.push(T[T.length-1]+ye)}for(let ve=0;ve<n.virtual.slidesBefore+n.virtual.slidesAfter;ve+=1)t.slidesPerGroup===1&&T.push(T[T.length-1]+ne),M.push(M[M.length-1]+ne),n.virtualSize+=ne}if(T.length===0&&(T=[0]),G!==0){const ne=n.isHorizontal()&&h?"marginLeft":n.getDirectionLabel("marginRight");x.filter((ve,ye)=>!t.cssMode||t.loop?!0:ye!==x.length-1).forEach(ve=>{ve.style[ne]=`${G}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let ne=0;R.forEach(ye=>{ne+=ye+(G||0)}),ne-=G;const ve=ne>o?ne-o:0;T=T.map(ye=>ye<=0?-I:ye>ve?ve+j:ye)}if(t.centerInsufficientSlides){let ne=0;R.forEach(ye=>{ne+=ye+(G||0)}),ne-=G;const ve=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(ne+ve<o){const ye=(o-ne-ve)/2;T.forEach((le,pe)=>{T[pe]=le-ye}),M.forEach((le,pe)=>{M[pe]=le+ye})}}if(Object.assign(n,{slides:x,snapGrid:T,slidesGrid:M,slidesSizesGrid:R}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){ys(i,"--swiper-centered-offset-before",`${-T[0]}px`),ys(i,"--swiper-centered-offset-after",`${n.size/2-R[R.length-1]/2}px`);const ne=-n.snapGrid[0],ve=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(ye=>ye+ne),n.slidesGrid=n.slidesGrid.map(ye=>ye+ve)}if(S!==y&&n.emit("slidesLengthChange"),T.length!==W&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),M.length!==N&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!g&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const ne=`${t.containerModifierClass}backface-hidden`,ve=n.el.classList.contains(ne);S<=t.maxBackfaceHiddenSlides?ve||n.el.classList.add(ne):ve&&n.el.classList.remove(ne)}}function Kf(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let r=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const h=u=>i?e.slides[e.getSlideIndexByData(u)]:e.slides[u];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(u=>{t.push(u)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const u=e.activeIndex+o;if(u>e.slides.length&&!i)break;t.push(h(u))}else t.push(h(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const u=t[o].offsetHeight;r=u>r?u:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function Jf(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}const fo=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Qf(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:o}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let h=-n;r&&(h=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let u=t.spaceBetween;typeof u=="string"&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*e.size:typeof u=="string"&&(u=parseFloat(u));for(let g=0;g<i.length;g+=1){const y=i[g];let x=y.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(x-=i[0].swiperSlideOffset);const S=(h+(t.centeredSlides?e.minTranslate():0)-x)/(y.swiperSlideSize+u),T=(h-o[0]+(t.centeredSlides?e.minTranslate():0)-x)/(y.swiperSlideSize+u),M=-(h-x),R=M+e.slidesSizesGrid[g],I=M>=0&&M<=e.size-e.slidesSizesGrid[g],j=M>=0&&M<e.size-1||R>1&&R<=e.size||M<=0&&R>=e.size;j&&(e.visibleSlides.push(y),e.visibleSlidesIndexes.push(g)),fo(y,j,t.slideVisibleClass),fo(y,I,t.slideFullyVisibleClass),y.progress=r?-S:S,y.originalProgress=r?-T:T}}function ep(n){const e=this;if(typeof n>"u"){const x=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*x||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:o,isEnd:h,progressLoop:u}=e;const g=o,y=h;if(i===0)r=0,o=!0,h=!0;else{r=(n-e.minTranslate())/i;const x=Math.abs(n-e.minTranslate())<1,S=Math.abs(n-e.maxTranslate())<1;o=x||r<=0,h=S||r>=1,x&&(r=0),S&&(r=1)}if(t.loop){const x=e.getSlideIndexByData(0),S=e.getSlideIndexByData(e.slides.length-1),T=e.slidesGrid[x],M=e.slidesGrid[S],R=e.slidesGrid[e.slidesGrid.length-1],I=Math.abs(n);I>=T?u=(I-T)/R:u=(I+R-M)/R,u>1&&(u-=1)}Object.assign(e,{progress:r,progressLoop:u,isBeginning:o,isEnd:h}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!g&&e.emit("reachBeginning toEdge"),h&&!y&&e.emit("reachEnd toEdge"),(g&&!o||y&&!h)&&e.emit("fromEdge"),e.emit("progress",r)}const an=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function tp(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:r}=n,o=n.virtual&&t.virtual.enabled,h=n.grid&&t.grid&&t.grid.rows>1,u=S=>mi(i,`.${t.slideClass}${S}, swiper-slide${S}`)[0];let g,y,x;if(o)if(t.loop){let S=r-n.virtual.slidesBefore;S<0&&(S=n.virtual.slides.length+S),S>=n.virtual.slides.length&&(S-=n.virtual.slides.length),g=u(`[data-swiper-slide-index="${S}"]`)}else g=u(`[data-swiper-slide-index="${r}"]`);else h?(g=e.find(S=>S.column===r),x=e.find(S=>S.column===r+1),y=e.find(S=>S.column===r-1)):g=e[r];g&&(h||(x=Vf(g,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!x&&(x=e[0]),y=_f(g,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y===0&&(y=e[e.length-1]))),e.forEach(S=>{an(S,S===g,t.slideActiveClass),an(S,S===x,t.slideNextClass),an(S,S===y,t.slidePrevClass)}),n.emitSlidesClasses()}const xs=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=e.closest(t());if(i){let r=i.querySelector(`.${n.params.lazyPreloaderClass}`);!r&&n.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},on=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},En=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const h=r,u=[h-e];u.push(...Array.from({length:e}).map((g,y)=>h+i+y)),n.slides.forEach((g,y)=>{u.includes(g.column)&&on(n,y)});return}const o=r+i-1;if(n.params.rewind||n.params.loop)for(let h=r-e;h<=o+e;h+=1){const u=(h%t+t)%t;(u<r||u>o)&&on(n,u)}else for(let h=Math.max(r-e,0);h<=Math.min(o+e,t-1);h+=1)h!==r&&(h>o||h<r)&&on(n,h)};function ip(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?i>=e[o]&&i<e[o+1]-(e[o+1]-e[o])/2?r=o:i>=e[o]&&i<e[o+1]&&(r=o+1):i>=e[o]&&(r=o);return t.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function rp(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:o,realIndex:h,snapIndex:u}=e;let g=n,y;const x=M=>{let R=M-e.virtual.slidesBefore;return R<0&&(R=e.virtual.slides.length+R),R>=e.virtual.slides.length&&(R-=e.virtual.slides.length),R};if(typeof g>"u"&&(g=ip(e)),i.indexOf(t)>=0)y=i.indexOf(t);else{const M=Math.min(r.slidesPerGroupSkip,g);y=M+Math.floor((g-M)/r.slidesPerGroup)}if(y>=i.length&&(y=i.length-1),g===o&&!e.params.loop){y!==u&&(e.snapIndex=y,e.emit("snapIndexChange"));return}if(g===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=x(g);return}const S=e.grid&&r.grid&&r.grid.rows>1;let T;if(e.virtual&&r.virtual.enabled&&r.loop)T=x(g);else if(S){const M=e.slides.find(I=>I.column===g);let R=parseInt(M.getAttribute("data-swiper-slide-index"),10);Number.isNaN(R)&&(R=Math.max(e.slides.indexOf(M),0)),T=Math.floor(R/r.grid.rows)}else if(e.slides[g]){const M=e.slides[g].getAttribute("data-swiper-slide-index");M?T=parseInt(M,10):T=g}else T=g;Object.assign(e,{previousSnapIndex:u,snapIndex:y,previousRealIndex:h,realIndex:T,previousIndex:o,activeIndex:g}),e.initialized&&En(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(h!==T&&e.emit("realIndexChange"),e.emit("slideChange"))}function sp(n,e){const t=this,i=t.params;let r=n.closest(`.${i.slideClass}, swiper-slide`);!r&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(u=>{!r&&u.matches&&u.matches(`.${i.slideClass}, swiper-slide`)&&(r=u)});let o=!1,h;if(r){for(let u=0;u<t.slides.length;u+=1)if(t.slides[u]===r){o=!0,h=u;break}}if(r&&o)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=h;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var np={updateSize:$f,updateSlides:Zf,updateAutoHeight:Kf,updateSlidesOffset:Jf,updateSlidesProgress:Qf,updateProgress:ep,updateSlidesClasses:tp,updateActiveIndex:rp,updateClickedSlide:sp};function ap(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:r,wrapperEl:o}=e;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let h=Ff(o,n);return h+=e.cssOverflowAdjustment(),i&&(h=-h),h||0}function op(n,e){const t=this,{rtlTranslate:i,params:r,wrapperEl:o,progress:h}=t;let u=0,g=0;const y=0;t.isHorizontal()?u=i?-n:n:g=n,r.roundLengths&&(u=Math.floor(u),g=Math.floor(g)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?u:g,r.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-u:-g:r.virtualTranslate||(t.isHorizontal()?u-=t.cssOverflowAdjustment():g-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${u}px, ${g}px, ${y}px)`);let x;const S=t.maxTranslate()-t.minTranslate();S===0?x=0:x=(n-t.minTranslate())/S,x!==h&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function lp(){return-this.snapGrid[0]}function hp(){return-this.snapGrid[this.snapGrid.length-1]}function cp(n,e,t,i,r){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const o=this,{params:h,wrapperEl:u}=o;if(o.animating&&h.preventInteractionOnTransition)return!1;const g=o.minTranslate(),y=o.maxTranslate();let x;if(i&&n>g?x=g:i&&n<y?x=y:x=n,o.updateProgress(x),h.cssMode){const S=o.isHorizontal();if(e===0)u[S?"scrollLeft":"scrollTop"]=-x;else{if(!o.support.smoothScroll)return El({swiper:o,targetPosition:-x,side:S?"left":"top"}),!0;u.scrollTo({[S?"left":"top"]:-x,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(x),t&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(x),t&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(T){!o||o.destroyed||T.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var up={getTranslate:ap,setTranslate:op,minTranslate:lp,maxTranslate:hp,translateTo:cp};function dp(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function Il(n){let{swiper:e,runCallbacks:t,direction:i,step:r}=n;const{activeIndex:o,previousIndex:h}=e;let u=i;if(u||(o>h?u="next":o<h?u="prev":u="reset"),e.emit(`transition${r}`),t&&o!==h){if(u==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),u==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function fp(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),Il({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function pp(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),Il({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var gp={setTransition:dp,transitionStart:fp,transitionEnd:pp};function mp(n,e,t,i,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let h=n;h<0&&(h=0);const{params:u,snapGrid:g,slidesGrid:y,previousIndex:x,activeIndex:S,rtlTranslate:T,wrapperEl:M,enabled:R}=o;if(!R&&!i&&!r||o.destroyed||o.animating&&u.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const I=Math.min(o.params.slidesPerGroupSkip,h);let j=I+Math.floor((h-I)/o.params.slidesPerGroup);j>=g.length&&(j=g.length-1);const W=-g[j];if(u.normalizeSlideIndex)for(let _=0;_<y.length;_+=1){const Q=-Math.floor(W*100),ie=Math.floor(y[_]*100),re=Math.floor(y[_+1]*100);typeof y[_+1]<"u"?Q>=ie&&Q<re-(re-ie)/2?h=_:Q>=ie&&Q<re&&(h=_+1):Q>=ie&&(h=_)}if(o.initialized&&h!==S&&(!o.allowSlideNext&&(T?W>o.translate&&W>o.minTranslate():W<o.translate&&W<o.minTranslate())||!o.allowSlidePrev&&W>o.translate&&W>o.maxTranslate()&&(S||0)!==h))return!1;h!==(x||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(W);let N;h>S?N="next":h<S?N="prev":N="reset";const G=o.virtual&&o.params.virtual.enabled;if(!(G&&r)&&(T&&-W===o.translate||!T&&W===o.translate))return o.updateActiveIndex(h),u.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),u.effect!=="slide"&&o.setTranslate(W),N!=="reset"&&(o.transitionStart(t,N),o.transitionEnd(t,N)),!1;if(u.cssMode){const _=o.isHorizontal(),Q=T?W:-W;if(e===0)G&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),G&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{M[_?"scrollLeft":"scrollTop"]=Q})):M[_?"scrollLeft":"scrollTop"]=Q,G&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return El({swiper:o,targetPosition:Q,side:_?"left":"top"}),!0;M.scrollTo({[_?"left":"top"]:Q,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(W),o.updateActiveIndex(h),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,i),o.transitionStart(t,N),e===0?o.transitionEnd(t,N):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(Q){!o||o.destroyed||Q.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,N))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function vp(n,e,t,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const o=r.grid&&r.params.grid&&r.params.grid.rows>1;let h=n;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)h=h+r.virtual.slidesBefore;else{let u;if(o){const T=h*r.params.grid.rows;u=r.slides.find(M=>M.getAttribute("data-swiper-slide-index")*1===T).column}else u=r.getSlideIndexByData(h);const g=o?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:y}=r.params;let x=r.params.slidesPerView;x==="auto"?x=r.slidesPerViewDynamic():(x=Math.ceil(parseFloat(r.params.slidesPerView,10)),y&&x%2===0&&(x=x+1));let S=g-u<x;if(y&&(S=S||u<Math.ceil(x/2)),i&&y&&r.params.slidesPerView!=="auto"&&!o&&(S=!1),S){const T=y?u<r.activeIndex?"prev":"next":u-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:T,slideTo:!0,activeSlideIndex:T==="next"?u+1:u-g+1,slideRealIndex:T==="next"?r.realIndex:void 0})}if(o){const T=h*r.params.grid.rows;h=r.slides.find(M=>M.getAttribute("data-swiper-slide-index")*1===T).column}else h=r.getSlideIndexByData(h)}return requestAnimationFrame(()=>{r.slideTo(h,e,t,i)}),r}function yp(n,e,t){e===void 0&&(e=!0);const i=this,{enabled:r,params:o,animating:h}=i;if(!r||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);let u=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(u=Math.max(i.slidesPerViewDynamic("current",!0),1));const g=i.activeIndex<o.slidesPerGroupSkip?1:u,y=i.virtual&&o.virtual.enabled;if(o.loop){if(h&&!y&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+g,n,e,t)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+g,n,e,t)}function bp(n,e,t){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:o,slidesGrid:h,rtlTranslate:u,enabled:g,animating:y}=i;if(!g||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);const x=i.virtual&&r.virtual.enabled;if(r.loop){if(y&&!x&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const S=u?i.translate:-i.translate;function T(W){return W<0?-Math.floor(Math.abs(W)):Math.floor(W)}const M=T(S),R=o.map(W=>T(W));let I=o[R.indexOf(M)-1];if(typeof I>"u"&&r.cssMode){let W;o.forEach((N,G)=>{M>=N&&(W=G)}),typeof W<"u"&&(I=o[W>0?W-1:W])}let j=0;if(typeof I<"u"&&(j=h.indexOf(I),j<0&&(j=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(j=j-i.slidesPerViewDynamic("previous",!0)+1,j=Math.max(j,0))),r.rewind&&i.isBeginning){const W=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(W,n,e,t)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(j,n,e,t)}),!0;return i.slideTo(j,n,e,t)}function xp(n,e,t){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof n>"u"&&(n=i.params.speed),i.slideTo(i.activeIndex,n,e,t)}function wp(n,e,t,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof n>"u"&&(n=r.params.speed);let o=r.activeIndex;const h=Math.min(r.params.slidesPerGroupSkip,o),u=h+Math.floor((o-h)/r.params.slidesPerGroup),g=r.rtlTranslate?r.translate:-r.translate;if(g>=r.snapGrid[u]){const y=r.snapGrid[u],x=r.snapGrid[u+1];g-y>(x-y)*i&&(o+=r.params.slidesPerGroup)}else{const y=r.snapGrid[u-1],x=r.snapGrid[u];g-y<=(x-y)*i&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,n,e,t)}function Sp(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let r=n.clickedIndex,o;const h=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(mi(t,`${h}[data-swiper-slide-index="${o}"]`)[0]),Pn(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(mi(t,`${h}[data-swiper-slide-index="${o}"]`)[0]),Pn(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}var Cp={slideTo:mp,slideToLoop:vp,slideNext:yp,slidePrev:bp,slideReset:xp,slideToClosest:wp,slideToClickedSlide:Sp};function Ap(n){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const r=()=>{mi(i,`.${t.slideClass}, swiper-slide`).forEach((S,T)=>{S.setAttribute("data-swiper-slide-index",T)})},o=e.grid&&t.grid&&t.grid.rows>1,h=t.slidesPerGroup*(o?t.grid.rows:1),u=e.slides.length%h!==0,g=o&&e.slides.length%t.grid.rows!==0,y=x=>{for(let S=0;S<x;S+=1){const T=e.isElement?Rs("swiper-slide",[t.slideBlankClass]):Rs("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(T)}};if(u){if(t.loopAddBlankSlides){const x=h-e.slides.length%h;y(x),e.recalcSlides(),e.updateSlides()}else Is("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(g){if(t.loopAddBlankSlides){const x=t.grid.rows-e.slides.length%t.grid.rows;y(x),e.recalcSlides(),e.updateSlides()}else Is("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function kp(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:r,activeSlideIndex:o,byController:h,byMousewheel:u}=n===void 0?{}:n;const g=this;if(!g.params.loop)return;g.emit("beforeLoopFix");const{slides:y,allowSlidePrev:x,allowSlideNext:S,slidesEl:T,params:M}=g,{centeredSlides:R}=M;if(g.allowSlidePrev=!0,g.allowSlideNext=!0,g.virtual&&M.virtual.enabled){t&&(!M.centeredSlides&&g.snapIndex===0?g.slideTo(g.virtual.slides.length,0,!1,!0):M.centeredSlides&&g.snapIndex<M.slidesPerView?g.slideTo(g.virtual.slides.length+g.snapIndex,0,!1,!0):g.snapIndex===g.snapGrid.length-1&&g.slideTo(g.virtual.slidesBefore,0,!1,!0)),g.allowSlidePrev=x,g.allowSlideNext=S,g.emit("loopFix");return}let I=M.slidesPerView;I==="auto"?I=g.slidesPerViewDynamic():(I=Math.ceil(parseFloat(M.slidesPerView,10)),R&&I%2===0&&(I=I+1));const j=M.slidesPerGroupAuto?I:M.slidesPerGroup;let W=j;W%j!==0&&(W+=j-W%j),W+=M.loopAdditionalSlides,g.loopedSlides=W;const N=g.grid&&M.grid&&M.grid.rows>1;y.length<I+W?Is("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):N&&M.grid.fill==="row"&&Is("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const G=[],K=[];let _=g.activeIndex;typeof o>"u"?o=g.getSlideIndex(y.find(le=>le.classList.contains(M.slideActiveClass))):_=o;const Q=i==="next"||!i,ie=i==="prev"||!i;let re=0,fe=0;const ne=N?Math.ceil(y.length/M.grid.rows):y.length,ye=(N?y[o].column:o)+(R&&typeof r>"u"?-I/2+.5:0);if(ye<W){re=Math.max(W-ye,j);for(let le=0;le<W-ye;le+=1){const pe=le-Math.floor(le/ne)*ne;if(N){const Te=ne-pe-1;for(let Ie=y.length-1;Ie>=0;Ie-=1)y[Ie].column===Te&&G.push(Ie)}else G.push(ne-pe-1)}}else if(ye+I>ne-W){fe=Math.max(ye-(ne-W*2),j);for(let le=0;le<fe;le+=1){const pe=le-Math.floor(le/ne)*ne;N?y.forEach((Te,Ie)=>{Te.column===pe&&K.push(Ie)}):K.push(pe)}}if(g.__preventObserver__=!0,requestAnimationFrame(()=>{g.__preventObserver__=!1}),ie&&G.forEach(le=>{y[le].swiperLoopMoveDOM=!0,T.prepend(y[le]),y[le].swiperLoopMoveDOM=!1}),Q&&K.forEach(le=>{y[le].swiperLoopMoveDOM=!0,T.append(y[le]),y[le].swiperLoopMoveDOM=!1}),g.recalcSlides(),M.slidesPerView==="auto"?g.updateSlides():N&&(G.length>0&&ie||K.length>0&&Q)&&g.slides.forEach((le,pe)=>{g.grid.updateSlide(pe,le,g.slides)}),M.watchSlidesProgress&&g.updateSlidesOffset(),t){if(G.length>0&&ie){if(typeof e>"u"){const le=g.slidesGrid[_],Te=g.slidesGrid[_+re]-le;u?g.setTranslate(g.translate-Te):(g.slideTo(_+Math.ceil(re),0,!1,!0),r&&(g.touchEventsData.startTranslate=g.touchEventsData.startTranslate-Te,g.touchEventsData.currentTranslate=g.touchEventsData.currentTranslate-Te))}else if(r){const le=N?G.length/M.grid.rows:G.length;g.slideTo(g.activeIndex+le,0,!1,!0),g.touchEventsData.currentTranslate=g.translate}}else if(K.length>0&&Q)if(typeof e>"u"){const le=g.slidesGrid[_],Te=g.slidesGrid[_-fe]-le;u?g.setTranslate(g.translate-Te):(g.slideTo(_-fe,0,!1,!0),r&&(g.touchEventsData.startTranslate=g.touchEventsData.startTranslate-Te,g.touchEventsData.currentTranslate=g.touchEventsData.currentTranslate-Te))}else{const le=N?K.length/M.grid.rows:K.length;g.slideTo(g.activeIndex-le,0,!1,!0)}}if(g.allowSlidePrev=x,g.allowSlideNext=S,g.controller&&g.controller.control&&!h){const le={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(g.controller.control)?g.controller.control.forEach(pe=>{!pe.destroyed&&pe.params.loop&&pe.loopFix({...le,slideTo:pe.params.slidesPerView===M.slidesPerView?t:!1})}):g.controller.control instanceof g.constructor&&g.controller.control.params.loop&&g.controller.control.loopFix({...le,slideTo:g.controller.control.params.slidesPerView===M.slidesPerView?t:!1})}g.emit("loopFix")}function Tp(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const o=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[o]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{t.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Lp={loopCreate:Ap,loopFix:kp,loopDestroy:Tp};function Pp(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Ep(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Mp={setGrabCursor:Pp,unsetGrabCursor:Ep};function Op(n,e){e===void 0&&(e=this);function t(i){if(!i||i===ar()||i===ei())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return!r&&!i.getRootNode?null:r||t(i.getRootNode().host)}return t(e)}function po(n,e,t){const i=ei(),{params:r}=n,o=r.edgeSwipeDetection,h=r.edgeSwipeThreshold;return o&&(t<=h||t>=i.innerWidth-h)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function Ip(n){const e=this,t=ar();let i=n;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){po(e,i,i.targetTouches[0].pageX);return}const{params:o,touches:h,enabled:u}=e;if(!u||!o.simulateTouch&&i.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let g=i.target;if(o.touchEventsTarget==="wrapper"&&!zf(g,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const y=!!o.noSwipingClass&&o.noSwipingClass!=="",x=i.composedPath?i.composedPath():i.path;y&&i.target&&i.target.shadowRoot&&x&&(g=x[0]);const S=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,T=!!(i.target&&i.target.shadowRoot);if(o.noSwiping&&(T?Op(S,g):g.closest(S))){e.allowClick=!0;return}if(o.swipeHandler&&!g.closest(o.swipeHandler))return;h.currentX=i.pageX,h.currentY=i.pageY;const M=h.currentX,R=h.currentY;if(!po(e,i,M))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),h.startX=M,h.startY=R,r.touchStartTime=Os(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let I=!0;g.matches(r.focusableElements)&&(I=!1,g.nodeName==="SELECT"&&(r.isTouched=!1)),t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==g&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!g.matches(r.focusableElements))&&t.activeElement.blur();const j=I&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||j)&&!g.isContentEditable&&i.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Rp(n){const e=ar(),t=this,i=t.touchEventsData,{params:r,touches:o,rtlTranslate:h,enabled:u}=t;if(!u||!r.simulateTouch&&n.pointerType==="mouse")return;let g=n;if(g.originalEvent&&(g=g.originalEvent),g.type==="pointermove"&&(i.touchId!==null||g.pointerId!==i.pointerId))return;let y;if(g.type==="touchmove"){if(y=[...g.changedTouches].find(Q=>Q.identifier===i.touchId),!y||y.identifier!==i.touchId)return}else y=g;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",g);return}const x=y.pageX,S=y.pageY;if(g.preventedByNestedSwiper){o.startX=x,o.startY=S;return}if(!t.allowTouchMove){g.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(o,{startX:x,startY:S,currentX:x,currentY:S}),i.touchStartTime=Os());return}if(r.touchReleaseOnEdges&&!r.loop){if(t.isVertical()){if(S<o.startY&&t.translate<=t.maxTranslate()||S>o.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(x<o.startX&&t.translate<=t.maxTranslate()||x>o.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==g.target&&g.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&g.target===e.activeElement&&g.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",g),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=x,o.currentY=S;const T=o.currentX-o.startX,M=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(T**2+M**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let Q;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:T*T+M*M>=25&&(Q=Math.atan2(Math.abs(M),Math.abs(T))*180/Math.PI,i.isScrolling=t.isHorizontal()?Q>r.touchAngle:90-Q>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",g),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||g.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&g.cancelable&&g.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&g.stopPropagation();let R=t.isHorizontal()?T:M,I=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(R=Math.abs(R)*(h?1:-1),I=Math.abs(I)*(h?1:-1)),o.diff=R,R*=r.touchRatio,h&&(R=-R,I=-I);const j=t.touchesDirection;t.swipeDirection=R>0?"prev":"next",t.touchesDirection=I>0?"prev":"next";const W=t.params.loop&&!r.cssMode,N=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(W&&N&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const Q=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(Q)}i.allowMomentumBounce=!1,r.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",g)}let G;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&j!==t.touchesDirection&&W&&N&&Math.abs(R)>=1){Object.assign(o,{startX:x,startY:S,currentX:x,currentY:S,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",g),i.isMoved=!0,i.currentTranslate=R+i.startTranslate;let K=!0,_=r.resistanceRatio;if(r.touchReleaseOnEdges&&(_=0),R>0?(W&&N&&!G&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(r.slidesPerView!=="auto"&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(K=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+R)**_))):R<0&&(W&&N&&!G&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(r.slidesPerView!=="auto"&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(r.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(K=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-R)**_))),K&&(g.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(R)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Bp(n){const e=this,t=e.touchEventsData;let i=n;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(_=>_.identifier===t.touchId),!r||r.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:h,touches:u,rtlTranslate:g,slidesGrid:y,enabled:x}=e;if(!x||!h.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&h.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}h.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const S=Os(),T=S-t.touchStartTime;if(e.allowClick){const _=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(_&&_[0]||i.target,_),e.emit("tap click",i),T<300&&S-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=Os(),Pn(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||u.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let M;if(h.followFinger?M=g?e.translate:-e.translate:M=-t.currentTranslate,h.cssMode)return;if(h.freeMode&&h.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:M});return}const R=M>=-e.maxTranslate()&&!e.params.loop;let I=0,j=e.slidesSizesGrid[0];for(let _=0;_<y.length;_+=_<h.slidesPerGroupSkip?1:h.slidesPerGroup){const Q=_<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;typeof y[_+Q]<"u"?(R||M>=y[_]&&M<y[_+Q])&&(I=_,j=y[_+Q]-y[_]):(R||M>=y[_])&&(I=_,j=y[y.length-1]-y[y.length-2])}let W=null,N=null;h.rewind&&(e.isBeginning?N=h.virtual&&h.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(W=0));const G=(M-y[I])/j,K=I<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;if(T>h.longSwipesMs){if(!h.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(G>=h.longSwipesRatio?e.slideTo(h.rewind&&e.isEnd?W:I+K):e.slideTo(I)),e.swipeDirection==="prev"&&(G>1-h.longSwipesRatio?e.slideTo(I+K):N!==null&&G<0&&Math.abs(G)>h.longSwipesRatio?e.slideTo(N):e.slideTo(I))}else{if(!h.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(I+K):e.slideTo(I):(e.swipeDirection==="next"&&e.slideTo(W!==null?W:I+K),e.swipeDirection==="prev"&&e.slideTo(N!==null?N:I))}}function go(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=n,h=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const u=h&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!u?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!h?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function Fp(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Dp(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let r;const o=n.maxTranslate()-n.minTranslate();o===0?r=0:r=(n.translate-n.minTranslate())/o,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Np(n){const e=this;xs(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function zp(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const Rl=(n,e)=>{const t=ar(),{params:i,el:r,wrapperEl:o,device:h}=n,u=!!i.nested,g=e==="on"?"addEventListener":"removeEventListener",y=e;!r||typeof r=="string"||(t[g]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:u}),r[g]("touchstart",n.onTouchStart,{passive:!1}),r[g]("pointerdown",n.onTouchStart,{passive:!1}),t[g]("touchmove",n.onTouchMove,{passive:!1,capture:u}),t[g]("pointermove",n.onTouchMove,{passive:!1,capture:u}),t[g]("touchend",n.onTouchEnd,{passive:!0}),t[g]("pointerup",n.onTouchEnd,{passive:!0}),t[g]("pointercancel",n.onTouchEnd,{passive:!0}),t[g]("touchcancel",n.onTouchEnd,{passive:!0}),t[g]("pointerout",n.onTouchEnd,{passive:!0}),t[g]("pointerleave",n.onTouchEnd,{passive:!0}),t[g]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[g]("click",n.onClick,!0),i.cssMode&&o[g]("scroll",n.onScroll),i.updateOnWindowResize?n[y](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",go,!0):n[y]("observerUpdate",go,!0),r[g]("load",n.onLoad,{capture:!0}))};function _p(){const n=this,{params:e}=n;n.onTouchStart=Ip.bind(n),n.onTouchMove=Rp.bind(n),n.onTouchEnd=Bp.bind(n),n.onDocumentTouchStart=zp.bind(n),e.cssMode&&(n.onScroll=Dp.bind(n)),n.onClick=Fp.bind(n),n.onLoad=Np.bind(n),Rl(n,"on")}function Vp(){Rl(this,"off")}var Hp={attachEvents:_p,detachEvents:Vp};const mo=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Wp(){const n=this,{realIndex:e,initialized:t,params:i,el:r}=n,o=i.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const h=ar(),u=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",g=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?n.el:h.querySelector(i.breakpointsBase),y=n.getBreakpoint(o,u,g);if(!y||n.currentBreakpoint===y)return;const S=(y in o?o[y]:void 0)||n.originalParams,T=mo(n,i),M=mo(n,S),R=n.params.grabCursor,I=S.grabCursor,j=i.enabled;T&&!M?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!T&&M&&(r.classList.add(`${i.containerModifierClass}grid`),(S.grid.fill&&S.grid.fill==="column"||!S.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),R&&!I?n.unsetGrabCursor():!R&&I&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Q=>{if(typeof S[Q]>"u")return;const ie=i[Q]&&i[Q].enabled,re=S[Q]&&S[Q].enabled;ie&&!re&&n[Q].disable(),!ie&&re&&n[Q].enable()});const W=S.direction&&S.direction!==i.direction,N=i.loop&&(S.slidesPerView!==i.slidesPerView||W),G=i.loop;W&&t&&n.changeDirection(),Jt(n.params,S);const K=n.params.enabled,_=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),j&&!K?n.disable():!j&&K&&n.enable(),n.currentBreakpoint=y,n.emit("_beforeBreakpoint",S),t&&(N?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!G&&_?(n.loopCreate(e),n.updateSlides()):G&&!_&&n.loopDestroy()),n.emit("breakpoint",S)}function jp(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1;const r=ei(),o=e==="window"?r.innerHeight:t.clientHeight,h=Object.keys(n).map(u=>{if(typeof u=="string"&&u.indexOf("@")===0){const g=parseFloat(u.substr(1));return{value:o*g,point:u}}return{value:u,point:u}});h.sort((u,g)=>parseInt(u.value,10)-parseInt(g.value,10));for(let u=0;u<h.length;u+=1){const{point:g,value:y}=h[u];e==="window"?r.matchMedia(`(min-width: ${y}px)`).matches&&(i=g):y<=t.clientWidth&&(i=g)}return i||"max"}var Xp={setBreakpoint:Wp,getBreakpoint:jp};function Yp(n,e){const t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):typeof i=="string"&&t.push(e+i)}),t}function Gp(){const n=this,{classNames:e,params:t,rtl:i,el:r,device:o}=n,h=Yp(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...h),r.classList.add(...e),n.emitContainerClasses()}function Up(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var qp={addClasses:Gp,removeClasses:Up};function $p(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const r=n.slides.length-1,o=n.slidesGrid[r]+n.slidesSizesGrid[r]+i*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var Zp={checkOverflow:$p},Mn={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Kp(n,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],o=i[r];if(typeof o!="object"||o===null){Jt(e,i);return}if(n[r]===!0&&(n[r]={enabled:!0}),r==="navigation"&&n[r]&&n[r].enabled&&!n[r].prevEl&&!n[r].nextEl&&(n[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&n[r]&&n[r].enabled&&!n[r].el&&(n[r].auto=!0),!(r in n&&"enabled"in o)){Jt(e,i);return}typeof n[r]=="object"&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),Jt(e,i)}}const ln={eventsEmitter:qf,update:np,translate:up,transition:gp,slide:Cp,loop:Lp,grabCursor:Mp,events:Hp,breakpoints:Xp,checkOverflow:Zp,classes:qp},hn={};let Jn=class xi{constructor(){let e,t;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?t=r[0]:[e,t]=r,t||(t={}),t=Jt({},t),e&&!t.el&&(t.el=e);const h=ar();if(t.el&&typeof t.el=="string"&&h.querySelectorAll(t.el).length>1){const x=[];return h.querySelectorAll(t.el).forEach(S=>{const T=Jt({},t,{el:S});x.push(new xi(T))}),x}const u=this;u.__swiper__=!0,u.support=Ml(),u.device=Ol({userAgent:t.userAgent}),u.browser=Yf(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=[...u.__modules__],t.modules&&Array.isArray(t.modules)&&u.modules.push(...t.modules);const g={};u.modules.forEach(x=>{x({params:t,swiper:u,extendParams:Kp(t,g),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})});const y=Jt({},Mn,g);return u.params=Jt({},y,hn,t),u.originalParams=Jt({},u.params),u.passedParams=Jt({},t),u.params&&u.params.on&&Object.keys(u.params.on).forEach(x=>{u.on(x,u.params.on[x])}),u.params&&u.params.onAny&&u.onAny(u.params.onAny),Object.assign(u,{enabled:u.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return u.params.direction==="horizontal"},isVertical(){return u.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,r=mi(t,`.${i.slideClass}, swiper-slide`),o=co(r[0]);return co(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=mi(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),h=(i.maxTranslate()-r)*e+r;i.translateTo(h,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:r,slides:o,slidesGrid:h,slidesSizesGrid:u,size:g,activeIndex:y}=i;let x=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let S=o[y]?Math.ceil(o[y].swiperSlideSize):0,T;for(let M=y+1;M<o.length;M+=1)o[M]&&!T&&(S+=Math.ceil(o[M].swiperSlideSize),x+=1,S>g&&(T=!0));for(let M=y-1;M>=0;M-=1)o[M]&&!T&&(S+=o[M].swiperSlideSize,x+=1,S>g&&(T=!0))}else if(e==="current")for(let S=y+1;S<o.length;S+=1)(t?h[S]+u[S]-h[y]<g:h[S]-h[y]<g)&&(x+=1);else for(let S=y-1;S>=0;S-=1)h[y]-h[S]<g&&(x+=1);return x}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(h=>{h.complete&&xs(e,h)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const h=e.rtlTranslate?e.translate*-1:e.translate,u=Math.min(Math.max(h,e.maxTranslate()),e.minTranslate());e.setTranslate(u),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const h=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(h.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||r()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let h=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):mi(i,r())[0])();return!h&&t.params.createElements&&(h=Rs("div",t.params.wrapperClass),i.append(h),mi(i,`.${t.params.slideClass}`).forEach(u=>{h.append(u)})),Object.assign(t,{el:i,wrapperEl:h,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:h,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||zi(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||zi(i,"direction")==="rtl"),wrongRTL:zi(h,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const r=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&r.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(o=>{o.complete?xs(t,o):o.addEventListener("load",h=>{xs(t,h.target)})}),En(t),t.initialized=!0,En(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:r,el:o,wrapperEl:h,slides:u}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),h&&h.removeAttribute("style"),u&&u.length&&u.forEach(g=>{g.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),g.removeAttribute("style"),g.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(g=>{i.off(g)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),Rf(i)),i.destroyed=!0),null}static extendDefaults(e){Jt(hn,e)}static get extendedDefaults(){return hn}static get defaults(){return Mn}static installModule(e){xi.prototype.__modules__||(xi.prototype.__modules__=[]);const t=xi.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>xi.installModule(t)),xi):(xi.installModule(e),xi)}};Object.keys(ln).forEach(n=>{Object.keys(ln[n]).forEach(e=>{Jn.prototype[e]=ln[n][e]})});Jn.use([Gf,Uf]);const Bl=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function nr(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Ar(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:nr(e[i])&&nr(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:Ar(n[i],e[i]):n[i]=e[i]})}function Fl(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function Dl(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function Nl(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function zl(n){n===void 0&&(n="");const e=n.split(" ").map(i=>i.trim()).filter(i=>!!i),t=[];return e.forEach(i=>{t.indexOf(i)<0&&t.push(i)}),t.join(" ")}function Jp(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function Qp(n){let{swiper:e,slides:t,passedParams:i,changedParams:r,nextEl:o,prevEl:h,scrollbarEl:u,paginationEl:g}=n;const y=r.filter(fe=>fe!=="children"&&fe!=="direction"&&fe!=="wrapperClass"),{params:x,pagination:S,navigation:T,scrollbar:M,virtual:R,thumbs:I}=e;let j,W,N,G,K,_,Q,ie;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&x.thumbs&&(!x.thumbs.swiper||x.thumbs.swiper.destroyed)&&(j=!0),r.includes("controller")&&i.controller&&i.controller.control&&x.controller&&!x.controller.control&&(W=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||g)&&(x.pagination||x.pagination===!1)&&S&&!S.el&&(N=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||u)&&(x.scrollbar||x.scrollbar===!1)&&M&&!M.el&&(G=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||h)&&(i.navigation.nextEl||o)&&(x.navigation||x.navigation===!1)&&T&&!T.prevEl&&!T.nextEl&&(K=!0);const re=fe=>{e[fe]&&(e[fe].destroy(),fe==="navigation"?(e.isElement&&(e[fe].prevEl.remove(),e[fe].nextEl.remove()),x[fe].prevEl=void 0,x[fe].nextEl=void 0,e[fe].prevEl=void 0,e[fe].nextEl=void 0):(e.isElement&&e[fe].el.remove(),x[fe].el=void 0,e[fe].el=void 0))};r.includes("loop")&&e.isElement&&(x.loop&&!i.loop?_=!0:!x.loop&&i.loop?Q=!0:ie=!0),y.forEach(fe=>{if(nr(x[fe])&&nr(i[fe]))Object.assign(x[fe],i[fe]),(fe==="navigation"||fe==="pagination"||fe==="scrollbar")&&"enabled"in i[fe]&&!i[fe].enabled&&re(fe);else{const ne=i[fe];(ne===!0||ne===!1)&&(fe==="navigation"||fe==="pagination"||fe==="scrollbar")?ne===!1&&re(fe):x[fe]=i[fe]}}),y.includes("controller")&&!W&&e.controller&&e.controller.control&&x.controller&&x.controller.control&&(e.controller.control=x.controller.control),r.includes("children")&&t&&R&&x.virtual.enabled?(R.slides=t,R.update(!0)):r.includes("virtual")&&R&&x.virtual.enabled&&(t&&(R.slides=t),R.update(!0)),r.includes("children")&&t&&x.loop&&(ie=!0),j&&I.init()&&I.update(!0),W&&(e.controller.control=x.controller.control),N&&(e.isElement&&(!g||typeof g=="string")&&(g=document.createElement("div"),g.classList.add("swiper-pagination"),g.part.add("pagination"),e.el.appendChild(g)),g&&(x.pagination.el=g),S.init(),S.render(),S.update()),G&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-scrollbar"),u.part.add("scrollbar"),e.el.appendChild(u)),u&&(x.scrollbar.el=u),M.init(),M.updateSize(),M.setTranslate()),K&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-button-prev"),h.innerHTML=e.hostEl.constructor.prevButtonSvg,h.part.add("button-prev"),e.el.appendChild(h))),o&&(x.navigation.nextEl=o),h&&(x.navigation.prevEl=h),T.init(),T.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(_||ie)&&e.loopDestroy(),(Q||ie)&&e.loopCreate(),e.update()}function eg(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},i={},r={};Ar(t,Mn),t._emitClasses=!0,t.init=!1;const o={},h=Bl.map(g=>g.replace(/_/,"")),u=Object.assign({},n);return Object.keys(u).forEach(g=>{typeof n[g]>"u"||(h.indexOf(g)>=0?nr(n[g])?(t[g]={},r[g]={},Ar(t[g],n[g]),Ar(r[g],n[g])):(t[g]=n[g],r[g]=n[g]):g.search(/on[A-Z]/)===0&&typeof n[g]=="function"?e?i[`${g[2].toLowerCase()}${g.substr(3)}`]=n[g]:t.on[`${g[2].toLowerCase()}${g.substr(3)}`]=n[g]:o[g]=n[g])}),["navigation","pagination","scrollbar"].forEach(g=>{t[g]===!0&&(t[g]={}),t[g]===!1&&delete t[g]}),{params:t,passedParams:r,rest:o,events:i}}function tg(n,e){let{el:t,nextEl:i,prevEl:r,paginationEl:o,scrollbarEl:h,swiper:u}=n;Fl(e)&&i&&r&&(u.params.navigation.nextEl=i,u.originalParams.navigation.nextEl=i,u.params.navigation.prevEl=r,u.originalParams.navigation.prevEl=r),Dl(e)&&o&&(u.params.pagination.el=o,u.originalParams.pagination.el=o),Nl(e)&&h&&(u.params.scrollbar.el=h,u.originalParams.scrollbar.el=h),u.init(t)}function ig(n,e,t,i,r){const o=[];if(!e)return o;const h=g=>{o.indexOf(g)<0&&o.push(g)};if(t&&i){const g=i.map(r),y=t.map(r);g.join("")!==y.join("")&&h("children"),i.length!==t.length&&h("children")}return Bl.filter(g=>g[0]==="_").map(g=>g.replace(/_/,"")).forEach(g=>{if(g in n&&g in e)if(nr(n[g])&&nr(e[g])){const y=Object.keys(n[g]),x=Object.keys(e[g]);y.length!==x.length?h(g):(y.forEach(S=>{n[g][S]!==e[g][S]&&h(g)}),x.forEach(S=>{n[g][S]!==e[g][S]&&h(g)}))}else n[g]!==e[g]&&h(g)}),o}const rg=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Bs(){return Bs=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bs.apply(this,arguments)}function _l(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function Vl(n){const e=[];return ht.Children.toArray(n).forEach(t=>{_l(t)?e.push(t):t.props&&t.props.children&&Vl(t.props.children).forEach(i=>e.push(i))}),e}function sg(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ht.Children.toArray(n).forEach(i=>{if(_l(i))e.push(i);else if(i.props&&i.props.slot&&t[i.props.slot])t[i.props.slot].push(i);else if(i.props&&i.props.children){const r=Vl(i.props.children);r.length>0?r.forEach(o=>e.push(o)):t["container-end"].push(i)}else t["container-end"].push(i)}),{slides:e,slots:t}}function ng(n,e,t){if(!t)return null;const i=x=>{let S=x;return x<0?S=e.length+x:S>=e.length&&(S=S-e.length),S},r=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:h}=t,u=n.params.loop?-e.length:0,g=n.params.loop?e.length*2:e.length,y=[];for(let x=u;x<g;x+=1)x>=o&&x<=h&&y.push(e[i(x)]);return y.map((x,S)=>ht.cloneElement(x,{swiper:n,style:r,key:x.props.virtualIndex||x.key||`slide-${S}`}))}function qr(n,e){return typeof window>"u"?xe.useEffect(n,e):xe.useLayoutEffect(n,e)}const vo=xe.createContext(null),ag=xe.createContext(null),Hl=xe.forwardRef(function(n,e){let{className:t,tag:i="div",wrapperTag:r="div",children:o,onSwiper:h,...u}=n===void 0?{}:n,g=!1;const[y,x]=xe.useState("swiper"),[S,T]=xe.useState(null),[M,R]=xe.useState(!1),I=xe.useRef(!1),j=xe.useRef(null),W=xe.useRef(null),N=xe.useRef(null),G=xe.useRef(null),K=xe.useRef(null),_=xe.useRef(null),Q=xe.useRef(null),ie=xe.useRef(null),{params:re,passedParams:fe,rest:ne,events:ve}=eg(u),{slides:ye,slots:le}=sg(o),pe=()=>{R(!M)};Object.assign(re.on,{_containerClasses(Me,qe){x(qe)}});const Te=()=>{Object.assign(re.on,ve),g=!0;const Me={...re};if(delete Me.wrapperClass,W.current=new Jn(Me),W.current.virtual&&W.current.params.virtual.enabled){W.current.virtual.slides=ye;const qe={cache:!1,slides:ye,renderExternal:T,renderExternalUpdate:!1};Ar(W.current.params.virtual,qe),Ar(W.current.originalParams.virtual,qe)}};j.current||Te(),W.current&&W.current.on("_beforeBreakpoint",pe);const Ie=()=>{g||!ve||!W.current||Object.keys(ve).forEach(Me=>{W.current.on(Me,ve[Me])})},et=()=>{!ve||!W.current||Object.keys(ve).forEach(Me=>{W.current.off(Me,ve[Me])})};xe.useEffect(()=>()=>{W.current&&W.current.off("_beforeBreakpoint",pe)}),xe.useEffect(()=>{!I.current&&W.current&&(W.current.emitSlidesClasses(),I.current=!0)}),qr(()=>{if(e&&(e.current=j.current),!!j.current)return W.current.destroyed&&Te(),tg({el:j.current,nextEl:K.current,prevEl:_.current,paginationEl:Q.current,scrollbarEl:ie.current,swiper:W.current},re),h&&!W.current.destroyed&&h(W.current),()=>{W.current&&!W.current.destroyed&&W.current.destroy(!0,!1)}},[]),qr(()=>{Ie();const Me=ig(fe,N.current,ye,G.current,qe=>qe.key);return N.current=fe,G.current=ye,Me.length&&W.current&&!W.current.destroyed&&Qp({swiper:W.current,slides:ye,passedParams:fe,changedParams:Me,nextEl:K.current,prevEl:_.current,scrollbarEl:ie.current,paginationEl:Q.current}),()=>{et()}}),qr(()=>{rg(W.current)},[S]);function nt(){return re.virtual?ng(W.current,ye,S):ye.map((Me,qe)=>ht.cloneElement(Me,{swiper:W.current,swiperSlideIndex:qe}))}return ht.createElement(i,Bs({ref:j,className:zl(`${y}${t?` ${t}`:""}`)},ne),ht.createElement(ag.Provider,{value:W.current},le["container-start"],ht.createElement(r,{className:Jp(re.wrapperClass)},le["wrapper-start"],nt(),le["wrapper-end"]),Fl(re)&&ht.createElement(ht.Fragment,null,ht.createElement("div",{ref:_,className:"swiper-button-prev"}),ht.createElement("div",{ref:K,className:"swiper-button-next"})),Nl(re)&&ht.createElement("div",{ref:ie,className:"swiper-scrollbar"}),Dl(re)&&ht.createElement("div",{ref:Q,className:"swiper-pagination"}),le["container-end"]))});Hl.displayName="Swiper";const Wl=xe.forwardRef(function(n,e){let{tag:t="div",children:i,className:r="",swiper:o,zoom:h,lazy:u,virtualIndex:g,swiperSlideIndex:y,...x}=n===void 0?{}:n;const S=xe.useRef(null),[T,M]=xe.useState("swiper-slide"),[R,I]=xe.useState(!1);function j(K,_,Q){_===S.current&&M(Q)}qr(()=>{if(typeof y<"u"&&(S.current.swiperSlideIndex=y),e&&(e.current=S.current),!(!S.current||!o)){if(o.destroyed){T!=="swiper-slide"&&M("swiper-slide");return}return o.on("_slideClass",j),()=>{o&&o.off("_slideClass",j)}}}),qr(()=>{o&&S.current&&!o.destroyed&&M(o.getSlideClasses(S.current))},[o]);const W={isActive:T.indexOf("swiper-slide-active")>=0,isVisible:T.indexOf("swiper-slide-visible")>=0,isPrev:T.indexOf("swiper-slide-prev")>=0,isNext:T.indexOf("swiper-slide-next")>=0},N=()=>typeof i=="function"?i(W):i,G=()=>{I(!0)};return ht.createElement(t,Bs({ref:S,className:zl(`${T}${r?` ${r}`:""}`),"data-swiper-slide-index":g,onLoad:G},x),h&&ht.createElement(vo.Provider,{value:W},ht.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof h=="number"?h:void 0},N(),u&&!R&&ht.createElement("div",{className:"swiper-lazy-preloader"}))),!h&&ht.createElement(vo.Provider,{value:W},N(),u&&!R&&ht.createElement("div",{className:"swiper-lazy-preloader"})))});Wl.displayName="SwiperSlide";function og(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(r=>{if(!t[r]&&t.auto===!0){let o=mi(n.el,`.${i[r]}`)[0];o||(o=Rs("div",i[r]),o.className=i[r],n.el.append(o)),t[r]=o,e[r]=o}}),t}function lg(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(R){let I;return R&&typeof R=="string"&&e.isElement&&(I=e.el.querySelector(R)||e.hostEl.querySelector(R),I)?I:(R&&(typeof R=="string"&&(I=[...document.querySelectorAll(R)]),e.params.uniqueNavElements&&typeof R=="string"&&I&&I.length>1&&e.el.querySelectorAll(R).length===1?I=e.el.querySelector(R):I&&I.length===1&&(I=I[0])),R&&!I?R:I)}function h(R,I){const j=e.params.navigation;R=yi(R),R.forEach(W=>{W&&(W.classList[I?"add":"remove"](...j.disabledClass.split(" ")),W.tagName==="BUTTON"&&(W.disabled=I),e.params.watchOverflow&&e.enabled&&W.classList[e.isLocked?"add":"remove"](j.lockClass))})}function u(){const{nextEl:R,prevEl:I}=e.navigation;if(e.params.loop){h(I,!1),h(R,!1);return}h(I,e.isBeginning&&!e.params.rewind),h(R,e.isEnd&&!e.params.rewind)}function g(R){R.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function y(R){R.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function x(){const R=e.params.navigation;if(e.params.navigation=og(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(R.nextEl||R.prevEl))return;let I=o(R.nextEl),j=o(R.prevEl);Object.assign(e.navigation,{nextEl:I,prevEl:j}),I=yi(I),j=yi(j);const W=(N,G)=>{N&&N.addEventListener("click",G==="next"?y:g),!e.enabled&&N&&N.classList.add(...R.lockClass.split(" "))};I.forEach(N=>W(N,"next")),j.forEach(N=>W(N,"prev"))}function S(){let{nextEl:R,prevEl:I}=e.navigation;R=yi(R),I=yi(I);const j=(W,N)=>{W.removeEventListener("click",N==="next"?y:g),W.classList.remove(...e.params.navigation.disabledClass.split(" "))};R.forEach(W=>j(W,"next")),I.forEach(W=>j(W,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?M():(x(),u())}),i("toEdge fromEdge lock unlock",()=>{u()}),i("destroy",()=>{S()}),i("enable disable",()=>{let{nextEl:R,prevEl:I}=e.navigation;if(R=yi(R),I=yi(I),e.enabled){u();return}[...R,...I].filter(j=>!!j).forEach(j=>j.classList.add(e.params.navigation.lockClass))}),i("click",(R,I)=>{let{nextEl:j,prevEl:W}=e.navigation;j=yi(j),W=yi(W);const N=I.target;let G=W.includes(N)||j.includes(N);if(e.isElement&&!G){const K=I.path||I.composedPath&&I.composedPath();K&&(G=K.find(_=>j.includes(_)||W.includes(_)))}if(e.params.navigation.hideOnClick&&!G){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===N||e.pagination.el.contains(N)))return;let K;j.length?K=j[0].classList.contains(e.params.navigation.hiddenClass):W.length&&(K=W[0].classList.contains(e.params.navigation.hiddenClass)),r(K===!0?"navigationShow":"navigationHide"),[...j,...W].filter(_=>!!_).forEach(_=>_.classList.toggle(e.params.navigation.hiddenClass))}});const T=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),x(),u()},M=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),S()};Object.assign(e.navigation,{enable:T,disable:M,update:u,init:x,destroy:S})}In("div")(({theme:n})=>({".e-carousel .e-carousel-indicators":{display:"flex",alignItems:"end",justifyContent:"end",width:"100%"},".e-carousel .e-carousel-indicators .e-indicator-bars":{position:"absolute",top:"80%",right:"0%"},".e-carousel-indicators .e-indicator-bars .e-active button div":{backgroundColor:`${n.palette.primary.main}!important`,border:"none!important"},".e-carousel .e-carousel-item div":{display:"flex",justifyContent:"space-between",alignItems:"center",height:"76%",flexWrap:"wrap",alignContent:"stretch"}}));function hg({dataStock:n,itemTemplate:e,isLoading:t}){const{t:i,i18n:r}=$t();return Fs(),q.jsx(pt,{item:!0,xs:12,lg:4,children:q.jsx(vi,{direction:"row",sx:{backgroundColor:o=>o.palette.mode==="dark"?"neutral.800":"error.lightest",borderRadius:2.5,px:3,py:2,height:"100%"},children:q.jsxs("div",{className:"w-full relative",children:[q.jsx("img",{src:"/assets/iconly/iconly-glass-chart.svg",alt:"",className:"absolute left-2 top-[-12px] z-0 opacity-30"}),q.jsxs(Ze,{color:"text.main",variant:"body1",alignItems:"center",mb:.5,children:[q.jsx(Dc,{color:"success"}),i(Xe.global.currentStock)]}),q.jsxs(vi,{direction:"row",alignItems:"center",children:[q.jsx(Dt,{className:"swiper-button image-swiper-button-prev",children:q.jsx(Bc,{})}),t?q.jsx(pt,{container:!0,children:[...Array(4)].map(o=>q.jsxs(pt,{item:!0,xs:6,children:[q.jsxs(Ze,{variant:"subtitle2",fontWeight:400,children:[q.jsx(ua,{width:50,animation:"wave",variant:"text"})," "]}),q.jsxs(Ze,{variant:"subtitle1",fontWeight:600,children:[q.jsx(ua,{width:50,animation:"wave",variant:"text"})," "]})]}))}):q.jsx(Hl,{navigation:{nextEl:".image-swiper-button-next",prevEl:".image-swiper-button-prev",disabledClass:"swiper-button-disabled"},modules:[lg],spaceBetween:100,breakpoints:{640:{spaceBetween:100}},children:n.map(o=>q.jsx(Wl,{children:q.jsx(pt,{container:!0,columnSpacing:8,children:o.item.map(h=>q.jsxs(pt,{item:!0,xs:6,children:[q.jsx(Ze,{variant:"subtitle2",whiteSpace:"nowrap",fontWeight:400,children:h.egg_class}),q.jsx(Ze,{variant:"subtitle1",whiteSpace:"nowrap",fontWeight:600,children:h.total_quantity.toLocaleString("en-US").replaceAll(","," ")})]}))})}))}),q.jsx(Dt,{className:"swiper-button image-swiper-button-next",children:q.jsx(Fc,{})})]})]})})})}function cg({debtRatio:n}){const{t:e}=$t();return q.jsx(pt,{item:!0,xs:12,md:6,lg:4,children:q.jsx(vi,{alignItems:"center",direction:"row",spacing:2,sx:{backgroundColor:t=>t.palette.mode==="dark"?"neutral.800":"warning.lightest",borderRadius:2.5,px:3,py:4,height:"100%"},children:q.jsxs("div",{className:"flex justify-between items-center w-full relative",children:[q.jsx("img",{src:"/assets/iconly/iconly-glass-discount.svg",alt:"",className:"absolute left-2 top-[-12px] z-0 opacity-30"}),q.jsxs("div",{className:"w-[100%]",children:[q.jsxs("div",{className:"flex items-center",children:[q.jsxs(Ze,{mr:1,color:"text.main",variant:"body1",alignItems:"center",mb:.5,children:[e(Xe.dashboard.debtRatio),":"," "]})," ",q.jsxs(Ze,{variant:"strong",fontSize:20,fontWeight:600,children:[n||0," %"]})]}),q.jsx("svg",{width:0,height:0,children:q.jsx("defs",{children:q.jsxs("linearGradient",{id:"my_gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[q.jsx("stop",{offset:"0%",stopColor:"#e01cd5"}),q.jsx("stop",{offset:"100%",stopColor:"#1CB5E0"})]})})}),q.jsx(bh,{variant:"determinate",value:n,sx:{height:"10px",borderRadius:"50px",mt:2,background:n>100?"linear-gradient(to right, #FF0000, #FF6347)":"linear-gradient(to right, #e01cd5, #1CB5E0)","& .MuiLinearProgress-bar":{background:n>100?"linear-gradient(to right, #FF0000, #FF6347)":"linear-gradient(to right, #e01cd5, #1CB5E0)"}}})]})]})})})}function ug({eggPrice:n,price:e,handlePriceChange:t,handleSubmit:i}){const{t:r}=$t();return q.jsx(pt,{item:!0,xs:12,md:6,lg:4,children:q.jsx(vi,{alignItems:"center",direction:"row",spacing:2,sx:{backgroundColor:o=>o.palette.mode==="dark"?"neutral.800":"success.lightest",borderRadius:2.5,px:3,py:4,height:"100%"},children:q.jsxs("div",{className:"flex justify-between w-full relative",children:[q.jsx("img",{src:"/assets/iconly/iconly-glass-tick.svg",alt:"",className:"absolute left-[-5px] top-0 z-0 opacity-30"}),q.jsxs(pt,{container:!0,alignItems:"center",style:{height:"100%"},zIndex:100,children:[q.jsxs(pt,{item:!0,xs:12,md:6,children:[q.jsxs(Ze,{mb:2,color:"text.main",variant:"body1",alignItems:"center",children:[r(Xe.dashboard.eggsPriceInEntrepriseToday)," "]}),q.jsxs(Ze,{component:"p",fontWeight:"600",fontSize:20,children:[n==null?void 0:n.entreprise_price,"MAD"," "]})]}),q.jsxs(pt,{item:!0,xs:12,md:6,children:[q.jsx(Ze,{variant:"h6",mb:2}),q.jsx("form",{onSubmit:i,children:q.jsxs(pt,{container:!0,children:[q.jsx(pt,{item:!0,xs:8,children:q.jsx(xh,{variant:"standard",value:e,onChange:t,id:"standard-start-adornment",label:r(Xe.dashboard.eggsPriceInMarket),slotProps:{input:{startAdornment:q.jsx(wh,{position:"start",children:q.jsx(Pa,{})})}}})}),q.jsx(pt,{item:!0,xs:4,color:"white",children:q.jsx(Dt,{color:"inherit",type:"submit",sx:{background:o=>o.palette.success.main,margin:"4px!important","&:hover":{background:o=>o.palette.success.main,opacity:"0.9"}},children:q.jsx(Pa,{})})})]})})]})]})]})})})}function dg({stock:n,isLoading:e,debtRatio:t,isEggPriceLoaing:i,eggPrice:r,balance:o}){const[h,u]=xe.useState([]),[g,y]=xe.useState(0),[x,S]=xe.useState(0),[T,M]=xe.useState(!1),{t:R,i18n:I}=$t(),j=JSON.parse(sessionStorage.getItem("user")),W=_=>{var Q;return(Q=_==null?void 0:_.item)==null?void 0:Q.map(ie=>q.jsx(pt,{item:!0,xs:12,lg:6,children:q.jsxs("div",{className:"text-base",dir:"ltr",children:[q.jsxs("strong",{children:[ie==null?void 0:ie.egg_class,": "]}),q.jsxs("p",{className:"ml-1",children:["  ",ie==null?void 0:ie.total_quantity.toLocaleString("en-US").replaceAll(","," ")]})]})}))},N=_=>{y(_.target.value)},G=_=>{_.preventDefault(),g!==0&&M(!0)},K=()=>{S(g),Zt.post("/dashboard/marketprice/add/",{market_price:g}).then(_=>{M(!1),ca.success(R(Xe.global.toastAddPriceSuccess))}).catch(_=>{ca.error(R(Xe.batiment.toastError))})};return xe.useEffect(()=>{if(!e){let _=[],Q=(n==null?void 0:n.total_stock.length)>8?3:(n==null?void 0:n.total_stock.length)<=8&&(n==null?void 0:n.total_stock.length)>4?2:1,ie=0;[...Array(Q)].map((re,fe)=>{_.push({item:n==null?void 0:n.total_stock.slice(ie,ie+4)}),ie+=4}),u(_)}i||(y(r==null?void 0:r.market_price),S(r==null?void 0:r.market_price))},[e]),q.jsxs(q.Fragment,{children:[q.jsxs(pt,{container:!0,spacing:2,children:[q.jsx(hg,{dataStock:h,itemTemplate:W,isLoading:e}),q.jsx(cg,{debtRatio:t}),q.jsx(ug,{eggPrice:r,price:g,handlePriceChange:N,handleSubmit:G}),!(j!=null&&j.is_eleveur)&&q.jsxs(q.Fragment,{children:[q.jsx(pt,{item:!0,xs:12,md:6,lg:4,children:q.jsx(lo,{chartSeries:o[1],title:R(Xe.dashboard.achats)})}),q.jsx(pt,{item:!0,xs:12,md:6,lg:4,children:q.jsx(lo,{chartSeries:o[0],title:R(Xe.dashboard.ventes)})}),q.jsx(pt,{item:!0,xs:12,md:6,lg:4,children:q.jsx(Mf,{balance:o[2],title:R(Xe.dashboard.balance)})})]})]}),q.jsx(Oc,{confirmed:K,isConfirm:T,handleClose:()=>M(!1)})]})}const fg=n=>{const{entrer:e,isLoading:t}=n,{t:i,i18n:r}=$t(),o=JSON.parse(sessionStorage.getItem("user")),[h,u]=xe.useState(0),[g,y]=xe.useState(25),[x,S]=xe.useState(),[T,M]=xe.useState(!1),[R,I]=xe.useState(!0),[j,W]=xe.useState(0);let[N,G]=xe.useState();const K=()=>{W(ne=>ne+1)},_=(ne,ve)=>{u(ve)},Q=ne=>{y(parseInt(ne.target.value,10)),u(0)},ie=xe.useMemo(()=>x==null?void 0:x.slice(h*g,h*g+g),[x,h,g]),re=()=>{R?(M(!0),G(setTimeout(()=>K(),12e4))):(clearTimeout(N),W(ne=>ne+1))},fe=ne=>{ne&&(S([...ne]),I(!R),M(!1))};return xe.useEffect(()=>{t||S(e)},[t]),q.jsxs(q.Fragment,{children:[q.jsxs(Wi,{children:[q.jsx(Ir,{sx:{padding:1},title:o!=null&&o.is_eleveur?i(Xe.dashboard.transactionPerEggSource):i(Xe.dashboard.transactionPerSupplier),avatar:q.jsx(Dt,{onClick:()=>re(),children:q.jsx(Vn,{})})}),q.jsx(Fn,{children:q.jsx(Dn,{sx:{minWidth:300,height:"auto"},children:t?q.jsx(_n,{rowsNum:5}):q.jsx(Nn,{children:(e==null?void 0:e.length)>0?ie==null?void 0:ie.map((ne,ve)=>{const ye=ne.name.split(" ");return q.jsxs(Tr,{hover:!0,children:[q.jsx(ni,{children:q.jsxs(vi,{alignItems:"center",direction:"row",spacing:2,children:[q.jsx(Bn,{sx:{bgcolor:"#6366F1",color:"#fff"},children:o.is_eleveur?ye.length>1?`${ye[0][0]} ${ye[1][0]}`:`${ye[0][0]} ${ye[0][ye.length-1]}`:`${ne.name[0]} ${ne.last_name[0]}`}),q.jsx("div",{children:q.jsxs(Ze,{variant:"subtitle2",children:[ne.name," ",!o.is_eleveur&&ne.last_name]})})]})}),q.jsxs(ni,{children:[q.jsx(Ze,{color:"success.main",variant:"subtitle2",children:isNaN(ne.total_stock)?ne.total_stock:ne.total_stock.toLocaleString("en-US").replaceAll(","," ")}),q.jsx(Ze,{color:"text.secondary",noWrap:!0,variant:"body2",children:i(Xe.dashboard.transaction)})]}),q.jsx(ni,{align:"right",children:q.jsx(tr,{sx:{backgroundColor:le=>le.palette.mode==="dark"?"neutral.700":"neutral.200",borderRadius:1.5,px:1,py:.5,display:"inline-block"},children:q.jsxs(Ze,{variant:"subtitle2",children:["#",ve+1]})})})]},ne.id)}):q.jsx(Tr,{children:q.jsx(ni,{colSpan:10,sx:{textAlign:"center"},children:i(Xe.magazin.nothingToDisplay)})})})})}),q.jsx(Wn,{sx:{justifyContent:"flex-end"},children:q.jsx(Ic,{component:"div",count:e==null?void 0:e.length,onPageChange:_,onRowsPerPageChange:Q,page:h,rowsPerPage:g,rowsPerPageOptions:[5,10,25],labelRowsPerPage:i(Xe.magazin.Lignes),labelDisplayedRows:({from:ne,to:ve,count:ye})=>`${ne}–${ve} ${i(Xe.magazin.sur)} ${e==null?void 0:e.length}`})})]}),q.jsx(qn,{isOpen:T,show:R,onSuccess:fe,onClose:()=>M(!1),uri:"/dashboard/inbound/",uniqueKey:j})]})},pg=({handleFilter:n,handleScreen:e,handleTypeChart:t})=>{const[i,r]=xe.useState(null),[o,h]=xe.useState("30j"),[u,g]=xe.useState(!1),y=!!i,x=M=>{r(M.currentTarget)},S=M=>{r(null),n(M),isNaN(M)?h(M):h(`${M}j`)},T=()=>{g(!u),t(u)};return q.jsxs(Ao,{direction:"row",spacing:2,children:[q.jsxs("div",{children:[q.jsxs(wo,{variant:"contained",id:"basic-button","aria-controls":y?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":y?"true":void 0,onClick:x,sx:{p:1.2},children:[o," ",q.jsx(Yo,{})]}),q.jsxs(So,{id:"basic-menu",anchorEl:i,open:y,onClose:()=>r(null),MenuListProps:{"aria-labelledby":"basic-button"},children:[q.jsx(Cr,{onClick:()=>S(30),children:"30j"}),q.jsx(Cr,{onClick:()=>S(90),children:"90j"}),q.jsx(Cr,{onClick:()=>S("MAX"),children:"MAX"})]})]}),q.jsx(Dt,{onClick:e,children:q.jsx(qo,{})}),q.jsx(Dt,{onClick:T,children:u?q.jsx($o,{}):q.jsx(Go,{})})]})},jl=n=>{const{prices:e,isLoading:t,filterChart:i}=n,[r,o]=xe.useState(30),{isFullScreenEggChart:h}=Ds(K=>K.dashboard),u=xe.useMemo(()=>t?[[],[]]:[[...e==null?void 0:e.map(_=>({x:new Date(_.date),y:_.entreprise_price})),...Array.from({length:0}).map((_,Q)=>{const ie=new Date(new Date);return{x:ie.setDate(ie.getDate()+Q)+Q,y:Math.random()*2}})],[...e==null?void 0:e.map(_=>({x:new Date(_.date),y:_.market_price})),...Array.from({length:0}).map((_,Q)=>{const ie=new Date(new Date);return{x:ie.setDate(ie.getDate()+Q)+Q,y:Math.random()*2}})]],[t,r]),{t:g,i18n:y}=$t(),x=Or(),S=Fs(),T=[S.palette.primary.main,S.palette.warning.main],[M,R]=xe.useState(!0),I={labelIntersectAction:"Rotate45",valueType:"DateTime",edgeLabelPlacement:"Shift",labelFormat:"y-MM-dd",intervalType:"Days",interval:u[0].length<5?0:5,majorGridLines:{width:0},minorGridLines:{width:0},lineStyle:{width:.5,color:"gray"},labelStyle:{color:S.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:S.palette.text.secondary}},j={labelFormat:"n2",majorGridLines:{width:.5,color:"gray",dashArray:"2,2"},lineStyle:{width:0},title:g(Xe.dashboard.eggPrice),labelStyle:{color:S.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:S.palette.text.secondary}},W=K=>{o(K),i(K)},N=()=>{x(Ns.actions.setFullScreenEggChart())},G=K=>{R(K)};return q.jsxs(Wi,{children:[q.jsx(Ir,{title:!h&&g(Xe.dashboard.eggsChartTtitle),action:q.jsx(pg,{handleFilter:W,handleScreen:N,handleTypeChart:G})}),q.jsx(Hn,{sx:{pt:2,position:"relative"},children:q.jsxs(Un,{id:"charts",primaryXAxis:{...I},primaryYAxis:j,chartArea:{border:{width:0}},tooltip:{enable:!0,shared:!0},legendSettings:{visible:!0,textStyle:{color:S.palette.text.secondary},enableHighlight:!0},titleStyle:{color:S.palette.text.secondary,fontSize:"20px",fontWeight:"bold",textAlignment:"Center"},children:[q.jsx(Wo,{services:[rl,sl,ol,nl,al,il,tl]}),q.jsxs(Ko,{children:[q.jsx(As,{dataSource:u[0],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:g(Xe.dashboard.eggsPriceInEntreprise),type:M?"Line":"Column",fill:T[0]}),q.jsx(As,{dataSource:u[1],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:g(Xe.dashboard.eggsPriceInMarket),type:M?"Line":"Column",fill:T[1]})]})]})})]})};jl.propTypes={chartSeries:Sh.array.isRequired};const gg=n=>{let{fournisseur:e,isLoading:t}=n;const i=Or(),r=xe.useRef(null),{t:o,i18n:h}=$t(),[u,g]=xe.useState(1),[y,x]=xe.useState(25),[S,T]=xe.useState(),[M,R]=xe.useState(!1),[I,j]=xe.useState(!0),[W,N]=xe.useState(0),[G,K]=xe.useState(),[_,Q]=xe.useState(!1),ie=()=>{N(le=>le+1)},re=(le,pe)=>{g(pe)},fe=xe.useMemo(()=>S==null?void 0:S.slice((u-1)*y,u*y),[S,u,y]),ne=()=>{I?(K(setTimeout(()=>ie(),12e4)),R(!0)):(clearTimeout(G),N(le=>le+1))},ve=le=>{le&&(T([...le]),j(!I),R(!1))},ye=le=>{Q(!0),Zt.get(`/dashboard/fullsuppliersituation/${le}/`).then(pe=>{i(as.actions.fetchSituationFournisseur([pe.data.suppliersituation])),i(as.actions.fetchFournisseurSituationDetails({data:pe.data,isFilter:!1})),i(as.actions.setFournisseurSituationForOneFournisseur({id:le})),i(as.actions.setCurrentData(le)),Q(!1)})};return xe.useEffect(()=>{t||T(e)},[t]),q.jsxs(q.Fragment,{children:[_&&q.jsx(xo,{}),q.jsxs(Wi,{children:[q.jsx(Ir,{sx:{padding:1},title:o(Xe.dashboard.transactionPerSupplier),avatar:q.jsx(Dt,{onClick:()=>ne(),children:q.jsx(Vn,{})})}),q.jsx(Fn,{children:q.jsx(Dn,{sx:{minWidth:300,height:"auto"},children:t?q.jsx(_n,{rowsNum:5}):q.jsx(Nn,{ref:r,children:(S==null?void 0:S.length)>0?fe==null?void 0:fe.map((le,pe)=>{const Te=new Intl.NumberFormat("EN-us",{style:"currency",currency:"MAD"});return q.jsxs(Tr,{hover:!0,children:[q.jsx(ni,{children:q.jsxs(vi,{alignItems:"center",direction:"row",spacing:2,children:[q.jsxs(Bn,{sx:{bgcolor:"#6366F1",color:"#fff"},children:[le.name[0]," ",le.last_name[0]]}),q.jsx("div",{children:q.jsxs(Ze,{variant:"subtitle2",children:[le.name," ",le.last_name]})})]})}),q.jsxs(ni,{children:[q.jsx(Ze,{color:(!isNaN(le.final_confirmed_sold)&&le.final_confirmed_sold)<0?"error.main":"success.main",variant:"subtitle2",sx:{direction:"initial",whiteSpace:"nowrap"},children:isNaN(le.final_confirmed_sold)?le.final_confirmed_sold:Te.format(le.final_confirmed_sold).replaceAll(","," ").replace("MAD","")+" "+o(Xe.global.mad)}),q.jsx(Ze,{color:"text.secondary",noWrap:!0,variant:"body2",children:o(Xe.situationCliente.debt)})]}),q.jsxs(ni,{align:"right",children:[q.jsx(Dt,{color:"success",disabled:isNaN(le.final_confirmed_sold),onClick:()=>ye(le.eggsource_id),children:q.jsx(Uo,{})}),q.jsx(tr,{sx:{backgroundColor:Ie=>Ie.palette.mode==="dark"?"neutral.700":"neutral.200",borderRadius:1.5,px:1,py:.5,display:"inline-block"},children:q.jsxs(Ze,{variant:"subtitle2",children:["#",pe+1]})})]})]},pe)}):q.jsx(Tr,{children:q.jsx(ni,{colSpan:10,sx:{textAlign:"center"},children:o(Xe.magazin.nothingToDisplay)})})})})}),q.jsx(Wn,{sx:{justifyContent:"flex-end"},children:q.jsx(tr,{sx:{display:"flex",justifyContent:"end",p:"5px"},children:q.jsx(Co,{count:Math.ceil((S==null?void 0:S.length)/y),defaultPage:u,onChange:re,color:"primary",size:"large"})})})]}),q.jsx(qn,{isOpen:M,show:I,onSuccess:ve,onClose:()=>R(!1),uri:"/dashboard/suppliersituation/",uniqueKey:W}),q.jsx(Rc,{})]})},mg=({handleFilter:n,handleScreen:e,handleTypeChart:t,handlePrint:i})=>{const[r,o]=xe.useState(null),[h,u]=xe.useState("30j"),[g,y]=xe.useState(!1),x=!!r,S=R=>{o(R.currentTarget)},T=R=>{o(null),n(R),isNaN(R)?u(R):u(`${R}j`)},M=()=>{y(!g),t(g)};return q.jsxs(Ao,{direction:"row",spacing:2,children:[q.jsxs("div",{children:[q.jsxs(wo,{variant:"contained",id:"basic-button","aria-controls":x?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":x?"true":void 0,onClick:S,sx:{p:1.2},children:[h," ",q.jsx(Yo,{})]}),q.jsxs(So,{id:"basic-menu",anchorEl:r,open:x,onClose:()=>o(null),MenuListProps:{"aria-labelledby":"basic-button"},children:[q.jsx(Cr,{onClick:()=>T(30),children:"30j"}),q.jsx(Cr,{onClick:()=>T(90),children:"90j"}),q.jsx(Cr,{onClick:()=>T("MAX"),children:"MAX"})]})]}),q.jsx(Dt,{onClick:e,children:q.jsx(qo,{})}),q.jsx(Dt,{onClick:M,children:g?q.jsx($o,{}):q.jsx(Go,{})}),q.jsx(Dt,{onClick:i,children:q.jsx(Nc,{})})]})},vg=n=>{const{depenseChart:e,filterChart:t}=n,[i,r]=xe.useState(30),{isFullScreenDepenseChart:o}=Ds(_=>_.dashboard),h=xe.useMemo(()=>{if(e.isLoading)return[[],[]];{let _=[[...(e.data.expenses||[]).map(Q=>({x:new Date(Q.date),y:Q.amount}))],[...(e.data.revenues||[]).map(Q=>({x:new Date(Q.date),y:Q.amount}))]];return console.log(_),_}},[e.isLoading,e.expenses,e.revenues,i]),{t:u,i18n:g}=$t(),y=Or(),x=Fs(),S=[x.palette.error.main,x.palette.success.main],[T,M]=xe.useState(!0),R=xe.useRef(null),I={labelIntersectAction:"Rotate45",valueType:"DateTime",edgeLabelPlacement:"Shift",labelFormat:"y-MM-dd",intervalType:"Days",interval:h[0].length<5?0:3,majorGridLines:{width:0},minorGridLines:{width:0},lineStyle:{width:.5,color:"gray"},labelStyle:{color:x.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:x.palette.text.secondary}},j={labelFormat:"n2",minimum:0,majorGridLines:{width:.5,color:"gray",dashArray:"2,2"},lineStyle:{width:0},title:u(Xe.dashboard.montant),labelStyle:{color:x.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:x.palette.text.secondary}},W=_=>{r(_),t(_)},N=()=>{y(Ns.actions.setFullScreenDepenseChart())},G=_=>{M(_)},K=()=>{R.current.print()};return q.jsxs(Wi,{children:[q.jsx(Ir,{title:!o&&u(Xe.dashboard.depenseChartTitle),action:q.jsx(mg,{handleFilter:W,handleScreen:N,handleTypeChart:G,handlePrint:K})}),q.jsx(Hn,{sx:{pt:2,position:"relative"},children:q.jsxs(Un,{id:"charts2",ref:R,primaryXAxis:{...I},primaryYAxis:j,chartArea:{border:{width:0}},tooltip:{enable:!0,shared:!0},legendSettings:{visible:!0,textStyle:{color:x.palette.text.secondary},enableHighlight:!0},titleStyle:{color:x.palette.text.secondary,fontSize:"20px",fontWeight:"bold",textAlignment:"Center"},children:[q.jsx(Wo,{services:[rl,sl,ol,nl,al,il,tl,Kd]}),q.jsxs(Ko,{children:[q.jsx(As,{dataSource:h[0],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:u(Xe.nav.achat),type:T?"Line":"Column",fill:S[0]}),q.jsx(As,{dataSource:h[1],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:u(Xe.nav.sortie),type:T?"Line":"Column",fill:S[1]})]})]})})]})};function yg({children:n}){const{isFullScreenEggChart:e}=Ds(o=>o.dashboard),t=Or(),{t:i,i18n:r}=$t();return q.jsx(q.Fragment,{children:e?q.jsxs(Rn,{fullScreen:!0,open:e,children:[q.jsx(jo,{sx:{position:"relative"},children:q.jsxs(Xo,{children:[q.jsx(Dt,{edge:"start",color:"inherit","aria-label":"close",onClick:()=>t(Ns.actions.setFullScreenEggChart()),children:q.jsx(zn,{})}),q.jsx(Ze,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:i(Xe.dashboard.eggsChartTtitle)})]})}),n]}):q.jsx(q.Fragment,{children:n})})}function bg({children:n}){const{isFullScreenDepenseChart:e}=Ds(o=>o.dashboard),t=Or(),{t:i,i18n:r}=$t();return q.jsx(q.Fragment,{children:e?q.jsxs(Rn,{fullScreen:!0,open:e,children:[q.jsx(jo,{sx:{position:"relative"},children:q.jsxs(Xo,{children:[q.jsx(Dt,{edge:"start",color:"inherit","aria-label":"close",onClick:()=>t(Ns.actions.setFullScreenDepenseChart()),children:q.jsx(zn,{})}),q.jsx(Ze,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:i(Xe.dashboard.eggsChartTtitle)})]})}),n]}):q.jsx(q.Fragment,{children:n})})}const xg=async()=>{try{const{data:n}=await Zt.post("/dashboard/outbound/");return n}catch{throw new Error("Error")}},wg=async()=>{try{const{data:n}=await Zt.post("/dashboard/inbound/");return n}catch{throw new Error("Error")}},Sg=async n=>{try{const{data:e}=await Zt.get("/dashboard/marketprice/list/?time="+n);return e}catch{throw new Error("Error")}},Cg=async n=>{try{const{data:e}=await Zt.get("/dashboard/expenses-revenue-graph/?time="+n);return e}catch{}},Ag=async()=>{try{const{data:n}=await Zt.get("/dashboard/debtratio/");return n}catch{throw new Error("error")}},kg=async()=>{try{const{data:n}=await Zt.get("/dashboard/latestprices/");return n}catch{throw new Error("error")}},Tg=async()=>{try{const{data:n}=await Zt.post("/dashboard/suppliersituation/");return n}catch{throw new Error("error")}},Lg=async()=>{try{const{data:n}=await Zt.get("/dashboard/revenue/");return n}catch{throw new Error("error")}},Pg=async()=>{try{const{data:n}=await Zt.get("/dashboard/expenses/");return n}catch{throw new Error("error")}},Eg=async()=>{try{const{data:n}=await Zt.get("/dashboard/tradebalance/");return n}catch{throw new Error("error")}},Mg=xe.memo(()=>{const n=Ch(),[e,t]=xe.useState(30),[i,r]=xe.useState(30);Eh();const o=Bi("sortie",xg),h=Bi("entrer",wg),u=Bi("stock",Ph.fetchStock),g=Bi(["MarketPrice",e],()=>Sg(e)),y=Bi(["depenseChart",i],()=>Cg(i)),x=Bi("debtRatio",Ag),S=Bi("eggPrice",kg),T=Bi("EggPrice",Tg),[M,R]=xe.useState(0),I=JSON.parse(sessionStorage.getItem("user")),j=_c([{queryKey:"ventes",queryFn:Lg},{queryKey:"achats",queryFn:Pg},{queryKey:"balance",queryFn:Eg}]),W=G=>{t(G)},N=G=>{r(G)};return xe.useEffect(()=>{x.isLoading||R(x.data.debt_ratio)},[x.isLoading]),q.jsxs(q.Fragment,{children:[q.jsx(Ah,{title:"ESM | Acceuil"}),q.jsx(tr,{component:"main",sx:{flexGrow:1,py:2,px:2},children:q.jsx(kh,{maxWidth:n.stretch?!1:"xl",children:q.jsxs(vi,{spacing:{},children:[q.jsxs(Wi,{children:[q.jsx(Ir,{sx:{pb:0}}),q.jsx(Hn,{children:q.jsx(gr,{children:q.jsx(dg,{stock:u.data,debtRatio:M,isLoading:u.isLoading,isEggPriceLoaing:S.isLoading,eggPrice:S.data,balance:j})})})]}),q.jsxs(pt,{container:!0,spacing:2,mt:2,children:[q.jsxs(pt,{item:!0,xs:12,md:6,children:[q.jsx(gr,{children:q.jsxs(yg,{children:[" ",q.jsx(jl,{prices:g.data,isLoading:g.isLoading,filterChart:W})]})}),q.jsxs("div",{className:"mt-6",children:[" ",q.jsx(gr,{children:!(I!=null&&I.is_eleveur)&&q.jsxs(bg,{children:[" ",q.jsx(vg,{depenseChart:y,isLoading:j[1].isLoading,filterChart:N})]})})]})]}),q.jsxs(pt,{item:!0,xs:12,md:6,children:[q.jsx(pt,{className:"mt-2",children:q.jsx(gr,{children:q.jsx(mf,{sortie:o==null?void 0:o.data,isLoading:o.isLoading})})}),q.jsx("div",{className:"mt-2",children:q.jsxs(gr,{children:[(I==null?void 0:I.is_eleveur)&&q.jsx(fg,{entrer:h==null?void 0:h.data,isLoading:h.isLoading}),!(I!=null&&I.is_eleveur)&&q.jsx(gg,{fournisseur:T==null?void 0:T.data,isLoading:T==null?void 0:T.isLoading})]})})]})]})]})})})]})}),Og=Mg;function Kg(){return q.jsx(q.Fragment,{children:q.jsx(gr,{children:q.jsx(Og,{})})})}export{Kg as default};
