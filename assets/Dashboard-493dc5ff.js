import{c as jt,j as C,H as Lo,K as hn,a$ as qn,b0 as Po,M as Mo,N as Te,Q as Oo,r as W,aH as U,aO as Pi,aQ as er,aI as P,aK as ae,aJ as yt,aP as _e,aM as sr,aX as St,aN as ki,aL as se,aU as qe,b1 as ko,aV as Ro,aR as le,aS as Bo,aT as Mn,b2 as Io,aW as Do,aY as K,aZ as ia,a_ as ra,b3 as Fo,b4 as No,b5 as Yr,b6 as hr,s as na,d as mt,au as On,a9 as We,a2 as _o,T as we,l as ce,m as Vo,h as nt,V as Zn,aa as Ni,a4 as sa,i as Kt,a7 as kn,B as zr,b7 as ur,$ as Rn,b8 as zo,k as jo,I as Ho,a5 as Kn,P as Wo,ae as jr,a as aa,ar as oa,am as Mi,b9 as Hr,ba as cr,bb as Uo,S as Go,C as Yo}from"./index-5b79c039.js";import{Q as $o,D as Xo,e as Bn,T as In,d as Dn,b as Ri,c as gt,G as Fe,g as Qn,S as la,u as Wt,E as Si,h as qo}from"./moment-864131f4.js";import{u as Zo}from"./use-page-view-5a2741d5.js";import{C as Fn,T as Nn}from"./TableRowsLoader-23cb4167.js";import{E as _n}from"./Eye-655a27ed.js";import{ao as ha,a as Ko,R as he,ac as fr,ad as dr,as as Ve,S as lt,at as Ut,au as Jn,av as Er,c as te,Q as Rt,b as G,aw as Ct,ax as pr,ay as Yi,az as $r,Y as oi,_ as Ft,h as ge,z as it,r as ze,aA as ua,m as Xe,aB as es,aC as ca,a6 as un,P as Bi,aD as Qo,B as ar,a5 as fa,F as Jo,aE as el,A as da,f as Je,aF as tl,aG as ft,D as il,s as ts,aH as Ci,aI as rl,ag as pa,aJ as Ii,V as hi,aK as cn,aL as nl,E as sl,C as $i,aM as al,aN as ga,aj as fn,ak as tr,aO as ma,aP as va,aQ as ol,aR as ll,p as Lr,aS as hl,aT as Pr,aU as dn,o as is,T as ul,U as rs,g as cl,X as Xr,Z as qr,W as ns,aV as gr,N as fl,u as ss,v as dl,M as pl,I as gl,J as ml,K as vl,aW as yl,aX as bl,aY as wl,aZ as Sl,x as xl,y as Cl,G as as,t as Tl,q as Al,n as El,O as ya,a_ as os,a$ as Ll,b0 as Pl,b1 as Ml,b2 as Ol,a2 as kl,a1 as Rl,a4 as Bl,a0 as Il,b3 as Dl,b4 as Nt,b5 as Xi,b6 as ba,b7 as Fl,b8 as wa,b9 as gi,k as Sa,ba as xa,bb as Nl,bc as _t,bd as _l,be as ei,bf as Vl,am as ls,bg as zl,bh as Ca,bi as Zr,an as jl,bj as Hl,ae as hs,a9 as Wl,bk as zi,bl as Ul,ah as Gl,af as Yl,ai as $l,bm as mr,al as Xl,L as ji,bn as us,bo as cs,bp as fs,bq as ds,$ as ql,a7 as mi,a8 as Zl,br as vr,bs as ps,ap as Ta,aq as Aa,ar as Ea}from"./tooltip-2796f896.js";import{M as Kl}from"./ModalDetails-6896dbd0.js";import{C as _i,b as Vn}from"./formik.esm-f8b1f355.js";import{C as Vi}from"./CardHeader-0df2b094.js";import{M as Ql}from"./ModalConfirm-575c2085.js";import{C as gs}from"./Check-81145735.js";import{D as Jl}from"./driverObj-1c0270c6.js";import{C as eh}from"./CardActions-a1a436e4.js";import{T as th,M as ih}from"./ModalDetails-8e2290ae.js";import{A as La,T as Pa}from"./KeyboardArrowUp-c6409d2a.js";import"./fr-4efeb1d7.js";import"./FilterAlt-785cb8e5.js";import"./DatePicker-9add668e.js";import"./FilePreview-1d12d7cb.js";import"./Tabs-0c73418c.js";const Ma=jt(C.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),rh=jt(C.jsx("path",{d:"m14 7-5 5 5 5V7z"}),"ArrowLeft"),nh=jt(C.jsx("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight"),Oa=jt(C.jsx("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart"),ka=jt([C.jsx("path",{d:"M5 5h2v3h10V5h2v5h2V5c0-1.1-.9-2-2-2h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v-2H5V5zm7-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"},"0"),C.jsx("path",{d:"M20.3 18.9c.4-.7.7-1.5.7-2.4 0-2.5-2-4.5-4.5-4.5S12 14 12 16.5s2 4.5 4.5 4.5c.9 0 1.7-.3 2.4-.7l2.7 2.7 1.4-1.4-2.7-2.7zm-3.8.1c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"},"1")],"ContentPasteSearch"),sh=jt(C.jsx("path",{d:"M12 3C8.5 3 5 9.33 5 14c0 3.87 3.13 7 7 7s7-3.13 7-7c0-4.67-3.5-11-7-11zm1 15c-3 0-5-1.99-5-5 0-.55.45-1 1-1s1 .45 1 1c0 2.92 2.42 3 3 3 .55 0 1 .45 1 1s-.45 1-1 1z"}),"Egg"),Ra=jt(C.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen"),ah=jt(C.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print"),Ba=jt(C.jsx("path",{d:"M21 5.47 12 12 7.62 7.62 3 11V8.52L7.83 5l4.38 4.38L21 3v2.47zM21 15h-4.7l-4.17 3.34L6 12.41l-3 2.13V17l2.8-2 6.2 6 5-4h4v-2z"}),"SsidChart");var oh=function(n){Lo(e,n);function e(i,r){var s;return s=n.call(this)||this,s.client=i,s.queries=[],s.result=[],s.observers=[],s.observersMap={},r&&s.setQueries(r),s}var t=e.prototype;return t.onSubscribe=function(){var r=this;this.listeners.length===1&&this.observers.forEach(function(s){s.subscribe(function(a){r.onUpdate(s,a)})})},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.destroy=function(){this.listeners=[],this.observers.forEach(function(r){r.destroy()})},t.setQueries=function(r,s){this.queries=r,this.updateObservers(s)},t.getCurrentResult=function(){return this.result},t.getOptimisticResult=function(r){return this.findMatchingObservers(r).map(function(s){return s.observer.getOptimisticResult(s.defaultedQueryOptions)})},t.findMatchingObservers=function(r){var s=this,a=this.observers,o=r.map(function(g){return s.client.defaultQueryObserverOptions(g)}),l=o.flatMap(function(g){var p=a.find(function(b){return b.options.queryHash===g.queryHash});return p!=null?[{defaultedQueryOptions:g,observer:p}]:[]}),h=l.map(function(g){return g.defaultedQueryOptions.queryHash}),u=o.filter(function(g){return!h.includes(g.queryHash)}),c=a.filter(function(g){return!l.some(function(p){return p.observer===g})}),f=u.map(function(g,p){if(g.keepPreviousData){var b=c[p];if(b!==void 0)return{defaultedQueryOptions:g,observer:b}}return{defaultedQueryOptions:g,observer:s.getObserver(g)}}),d=function(p,b){return o.indexOf(p.defaultedQueryOptions)-o.indexOf(b.defaultedQueryOptions)};return l.concat(f).sort(d)},t.getObserver=function(r){var s=this.client.defaultQueryObserverOptions(r),a=this.observersMap[s.queryHash];return a??new $o(this.client,s)},t.updateObservers=function(r){var s=this;hn.batch(function(){var a=s.observers,o=s.findMatchingObservers(s.queries);o.forEach(function(f){return f.observer.setOptions(f.defaultedQueryOptions,r)});var l=o.map(function(f){return f.observer}),h=Object.fromEntries(l.map(function(f){return[f.options.queryHash,f]})),u=l.map(function(f){return f.getCurrentResult()}),c=l.some(function(f,d){return f!==a[d]});a.length===l.length&&!c||(s.observers=l,s.observersMap=h,s.result=u,s.hasListeners()&&(qn(a,l).forEach(function(f){f.destroy()}),qn(l,a).forEach(function(f){f.subscribe(function(d){s.onUpdate(f,d)})}),s.notify()))})},t.onUpdate=function(r,s){var a=this.observers.indexOf(r);a!==-1&&(this.result=Po(this.result,a,s),this.notify())},t.notify=function(){var r=this;hn.batch(function(){r.listeners.forEach(function(s){s(r.result)})})},e}(Mo);function lh(n){var e=Te.useRef(!1),t=Te.useState(0),i=t[1],r=Oo(),s=W.useMemo(function(){return n.map(function(h){var u=r.defaultQueryObserverOptions(h);return u.optimisticResults=!0,u})},[n,r]),a=Te.useState(function(){return new oh(r,s)}),o=a[0],l=o.getOptimisticResult(s);return Te.useEffect(function(){e.current=!0;var h=o.subscribe(hn.batchCalls(function(){e.current&&i(function(u){return u+1})}));return function(){e.current=!1,h()}},[o]),Te.useEffect(function(){o.setQueries(s,{listeners:!1})},[s,o]),l}var Ia=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Mr=function(n){Ia(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.moduleName="series",e.complexTemplate={"dataLabel.template":"dataLabel.template"},e}(ha),Da=function(n){Ia(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.propertyName="series",e.moduleName="seriesCollection",e}(ha),ms=10,hh=function(){function n(e){this.chart=e,this.padding=5}return n.prototype.measureAxis=function(e){var t=this.chart,i=t.chartArea.width?Ko(t.chartArea.width,t.availableSize.width):null;this.crossAt(t),this.seriesClipRect=new he(e.x,e.y,e.width,e.height),this.initialClipRect=e,this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.initialClipRect=fr(this.initialClipRect,new dr(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.initialClipRect=fr(this.initialClipRect,new dr(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||this.calculateAxisSize(this.initialClipRect),this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.seriesClipRect=fr(this.seriesClipRect,new dr(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.seriesClipRect=fr(this.seriesClipRect,new dr(0,0,this.topSize,this.bottomSize)),i&&this.calculateFixedChartArea(t,i),this.chart.delayRedraw||(t.refreshAxis(),this.calculateAxisSize(this.seriesClipRect))},n.prototype.calculateFixedChartArea=function(e,t){this.seriesClipRect.width=t,this.seriesClipRect.x=e.availableSize.width-e.margin.right-t-(e.legendSettings.position==="Right"?e.legendModule.legendBounds.width:0);for(var i=0,r=e.rows;i<r.length;i++){var s=r[i];this.seriesClipRect.x-=Ve(s.farSizes)}},n.prototype.measureRowAxis=function(e,t){var i;this.calculateRowSize(t);for(var r=0,s=e.rows;r<s.length;r++){var a=s[r];i=a,i.nearSizes=[],i.farSizes=[],i.insideNearSizes=[],i.insideFarSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new lt(e.availableSize.width,i.computedHeight)),this.leftSize<Ve(i.nearSizes)&&(this.leftSize=Ve(i.nearSizes)),this.rightSize<Ve(i.farSizes)&&(this.rightSize=Ve(i.farSizes))}},n.prototype.measureColumnAxis=function(e,t){var i;this.calculateColumnSize(t);for(var r=0,s=e.columns;r<s.length;r++){var a=s[r];i=a,i.farSizes=[],i.nearSizes=[],i.insideNearSizes=[],i.insideFarSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new lt(i.computedWidth,e.availableSize.height)),this.bottomSize<Ve(i.nearSizes)&&(this.bottomSize=Ve(i.nearSizes)),this.topSize<Ve(i.farSizes)&&(this.topSize=Ve(i.farSizes))}},n.prototype.measureDefinition=function(e,t,i){for(var r,s=0,a=e.axes;s<a.length;s++){var o=a[s];r=o.scrollbarSettings.height,o.scrollBarHeight=t.scrollBarModule&&t.zoomModule&&t.zoomSettings.enableScrollbar&&o.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(o.zoomFactor<1||o.zoomPosition>0)?r:0,o.scrollBarHeight=t.scrollBarModule&&(t.zoomModule&&t.zoomSettings.enableScrollbar&&o.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(o.zoomFactor<1||o.zoomPosition>0)||o.scrollbarSettings.enable)?r:0,o.getModule(t),o.baseModule.calculateRangeAndInterval(i,o),e.computeSize(o,o.scrollBarHeight,e,t)}e.farSizes.length>0&&(e.farSizes[e.farSizes.length-1]-=ms),e.nearSizes.length>0&&(e.nearSizes[e.nearSizes.length-1]-=ms)},n.prototype.calculateAxisSize=function(e){var t=this.chart,i,r,s,a,o=0,l=0,h=0,u,c,f;this.calculateRowSize(e);for(var d=0,g=t.rows.length;d<g;d++){i=t.rows[d],o=0,l=0;for(var p=0,b=i.axes.length;p<b;p++){if(a=i.axes[p],f=a.plotOffset,a.rect.height===0){a.rect.height=i.computedHeight,h=0;for(var y=d+1,T=d+a.span;y<T;y++)s=t.rows[y],h+=s.computedHeight;a.rect.y=i.computedTop-h+(a.plotOffsetTop?a.plotOffsetTop:f),a.rect.height=a.rect.height+h-this.getAxisOffsetValue(a.plotOffsetTop,a.plotOffsetBottom,a.plotOffset),a.rect.width=0}a.isAxisOpposedPosition?(a.labelPosition==="Inside"&&a.orientation==="Vertical"?u=e.x+e.width-Ve(Ut(i.insideFarSizes,l)):u=e.x+e.width+Ve(Ut(i.farSizes,l)),a.rect.x=a.rect.x>=u?a.rect.x:u,l++):(a.labelPosition==="Inside"&&a.orientation==="Vertical"?u=e.x+Ve(Ut(i.insideNearSizes,o)):u=e.x-Ve(Ut(i.nearSizes,o)),a.rect.x=a.rect.x<=u?a.rect.x:u,o++)}}this.calculateColumnSize(e);for(var d=0,g=t.columns.length;d<g;d++){r=t.columns[d],o=0,l=0;for(var p=0,w=r.axes.length;p<w;p++){if(a=r.axes[p],f=a.plotOffset,a.rect.width===0){for(var y=d,E=d+a.span;y<E;y++)s=t.columns[y],a.rect.width+=s.computedWidth;a.rect.x=r.computedLeft+(a.plotOffsetLeft?a.plotOffsetLeft:f),a.rect.width-=this.getAxisOffsetValue(a.plotOffsetLeft,a.plotOffsetRight,a.plotOffset),a.rect.height=0}a.isAxisOpposedPosition?(a.labelPosition==="Inside"&&a.orientation==="Horizontal"?c=e.y+Ve(Ut(r.insideFarSizes,l)):c=e.y-Ve(Ut(r.farSizes,l)),a.rect.y=a.rect.y<=c?a.rect.y:c,l++):(a.labelPosition==="Inside"&&a.orientation==="Horizontal"?c=e.y+e.height-Ve(Ut(r.insideNearSizes,o)):c=e.y+e.height+Ve(Ut(r.nearSizes,o)),a.rect.y=a.rect.y>=c?a.rect.y:c,o++)}}},n.prototype.measure=function(){for(var e=this.chart,t,i,r,s,a,o=0,l=e.axisCollections;o<l.length;o++){var h=l[o];if(h.orientation==="Vertical"){e.verticalAxes.push(h),s=this.getActualRow(h),t=e.rows[s],this.pushAxis(t,h),a=s+h.span>e.rows.length?e.rows.length:s+h.span;for(var u=s+1;u<a;u++)r=e.rows[u],r.axes[t.axes.length-1]=h,e.rows[u]=r;e.rows[s]=t}else{e.horizontalAxes.push(h),s=this.getActualColumn(h),i=e.columns[s],this.pushAxis(i,h),a=s+h.span>e.columns.length?e.columns.length:s+h.span;for(var u=s+1;u<a;u++)r=e.columns[u],r.axes[i.axes.length-1]=h,e.columns[u]=r;e.columns[s]=i}h.isRTLEnabled=e.enableRtl,h.setIsInversedAndOpposedPosition()}},n.prototype.getAxisOffsetValue=function(e,t,i){var r=e?e+(t||i):t?t+i:2*i;return r},n.prototype.crossAt=function(e){for(var t=0,i=e.axisCollections;t<i.length;t++){var r=i[t];if(r.crossesAt!==null)if(r.crossesInAxis){for(var s=2,a=e.axisCollections.length;s<a;s++)if(r.crossesInAxis===e.axisCollections[s].name){r.crossInAxis=e.axisCollections[s],r.crossAt=this.updateCrossAt(r.crossInAxis,r.crossesAt);continue}}else{e.requireInvertedAxis?r.crossInAxis=r.orientation==="Horizontal"?e.primaryXAxis:e.primaryYAxis:r.crossInAxis=r.orientation==="Horizontal"?e.primaryYAxis:e.primaryXAxis,r.crossAt=this.updateCrossAt(r.crossInAxis,r.crossesAt);continue}}},n.prototype.updateCrossAt=function(e,t){switch(e.valueType){case"DateTime":{var i={skeleton:"full",type:"dateTime"},r=this.chart.intl.getDateParser(i),s=this.chart.intl.getDateFormat(i);return Date.parse(r(s(new Date(Er.parse.parseJson({val:t}).val))))}case"Category":return parseFloat(t)?parseFloat(t):e.labels.indexOf(t);case"Logarithmic":return Jn(t,e.logBase);default:return t}},n.prototype.pushAxis=function(e,t){for(var i=0,r=e.axes.length;i<=r;i++)if(!e.axes[i]){e.axes[i]=t;break}},n.prototype.arrangeAxis=function(e){for(var t=[],i=0,r=e.axes.length;i<=r;i++)e.axes[i]&&t.push(e.axes[i]);e.axes=t},n.prototype.getActualColumn=function(e){var t=this.chart.columns.length,i=e.columnIndex,r=i>=t?t-1:i<0?0:i;return r},n.prototype.getActualRow=function(e){var t=this.chart.rows.length,i=e.rowIndex,r=i>=t?t-1:i<0?0:i;return r},n.prototype.calculateRowSize=function(e){for(var t=this.chart,i,r=e.y+e.height,s=0,a=Math.max(0,e.height),o=0,l=t.rows.length;o<l;o++)i=t.rows[o],i.height.indexOf("%")!==-1?s=Math.min(a,e.height*parseInt(i.height,10)/100):s=Math.min(a,parseInt(i.height,10)),s=o!==l-1?s:a,i.computedHeight=s,r-=s,i.computedTop=r,a-=s},n.prototype.calculateColumnSize=function(e){for(var t=this.chart,i,r=e.x,s=0,a=Math.max(0,e.width),o=0,l=t.columns.length;o<l;o++)i=t.columns[o],i.width.indexOf("%")!==-1?s=Math.min(a,e.width*parseInt(i.width,10)/100):s=Math.min(a,parseInt(i.width,10)),s=o!==l-1?s:a,i.computedWidth=s,i.computedLeft=r,r+=s,a-=s},n.prototype.renderAxes=function(){var e=this.chart,t,i=e.renderer.createGroup({id:e.element.id+"AxisInsideCollection"}),r=e.renderer.createGroup({id:e.element.id+"AxisOutsideCollection"});r&&r.setAttribute("aria-hidden","true");for(var s,a,o=0,l=e.axisCollections.length;o<l;o++){var h=!0;t=e.axisCollections[o],this.element=e.renderer.createGroup({id:e.element.id+"AxisGroup"+o+"Inside"}),this.element&&this.element.setAttribute("aria-hidden","true"),s=e.renderer.createGroup({id:e.element.id+"AxisGroup"+o+"Outside"}),s&&s.setAttribute("aria-hidden","true");for(var u=0,c=t.series;u<c.length;u++){var f=c[u];if(t.name===f.yAxisName||t.name===f.xAxisName){if(h=f.visible,f.category==="Pareto"&&!f.paretoOptions.showAxis&&f.type==="Line"&&(h=!1),h)break;continue}}h&&(a=this.findAxisPosition(t),this.drawAxis(t,o,a,s,i,r))}return this.drawPaneLines(e,i),te(e.enableCanvas,e.svgObject,i,e.redraw),r},n.prototype.renderScrollbar=function(e,t){var i=U(e.zoomModule)?!1:e.zoomModule.isZoomed;t.zoomingScrollBar||e.scrollBarModule.injectTo(t,e),(i&&(t.zoomFactor<1||t.zoomPosition>0)||t.scrollbarSettings.enable&&(t.zoomFactor<=1||t.zoomPosition>=0))&&!t.zoomingScrollBar.isScrollUI?(e.scrollElement||(e.scrollElement=Rt(e.redraw,e.element.id+"_scrollElement")||Pi("div",{id:e.element.id+"_scrollElement"})),te(!1,e.scrollElement,t.zoomingScrollBar.render(!0),!0)):t.zoomFactor===1&&t.zoomPosition===0&&t.zoomingScrollBar.svgObject&&!t.scrollbarSettings.enable?t.zoomingScrollBar.destroy():t.zoomingScrollBar.svgObject&&(t.zoomingScrollBar.svgObject.style.top=(t.isAxisOpposedPosition&&t.orientation==="Horizontal"?-16:0)+t.rect.y+Math.max(.5,t.lineStyle.width/2)+"px",t.zoomingScrollBar.svgObject.style.left=(t.isAxisOpposedPosition&&t.orientation!=="Horizontal"?16:0)+t.rect.x-(t.orientation==="Vertical"?t.scrollbarSettings.height:0)+"px"),t.zoomingScrollBar.isScrollUI&&(t.zoomingScrollBar.isScrollUI=!1)},n.prototype.drawPaneLines=function(e,t){this.element=e.renderer.createGroup({id:e.element.id+"DefinitionLine"});for(var i=0,r=e.rows.length;i<r;i++){var s=e.rows[i];s.border.color&&this.drawBottomLine(s,i,!0)}for(var i=0,r=e.columns.length;i<r;i++){var a=e.columns[i];a.border.color&&this.drawBottomLine(a,i,!1)}t=t||G(e.element.id+"AxisInsideCollection"),this.chart.enableCanvas||t.appendChild(this.element)},n.prototype.drawAxis=function(e,t,i,r,s,a){e.updateCrossValue();var o="";e.orientation==="Horizontal"?(e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,t,e.plotOffset,0,0,0,e.plotOffsetLeft,e.plotOffsetRight,i?r:this.element,e.updatedRect),o="X"):(e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,t,0,e.plotOffset,e.plotOffsetBottom,e.plotOffsetTop,0,0,i?r:this.element,e.updatedRect),o="Y"),(e.majorGridLines.width>0||e.majorTickLines.width>0||e.minorTickLines.width>0||e.minorGridLines.width>0)&&this["draw"+o+"AxisGridLine"](e,t,i||e.tickPosition==="Inside"?r:this.element,e.updatedRect),e.visible&&e.internalVisibility&&(this["draw"+o+"AxisLabels"](e,t,i||e.labelPosition==="Inside"?r:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this["draw"+o+"AxisBorder"](e,t,i||e.labelPosition==="Inside"?r:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this["draw"+o+"AxisTitle"](e,t,i?r:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect)),this.chart.enableCanvas||(s.appendChild(this.element),r&&r.childNodes.length>0&&a.appendChild(r)),this.chart.scrollBarModule&&(this.chart.zoomSettings.enableScrollbar&&e.enableScrollbarOnZooming||e.scrollbarSettings.enable)?this.renderScrollbar(this.chart,e):e.zoomingScrollBar&&e.zoomingScrollBar.destroy()},n.prototype.findAxisPosition=function(e){return e.crossAt!==null&&e.isInside(e.crossInAxis.visibleRange)},n.prototype.drawBottomLine=function(e,t,i){var r=this.chart,s={},a,o,l,h,u;i?(e=e,l=h=e.computedTop+e.computedHeight,a=this.seriesClipRect.x,o=a+this.seriesClipRect.width,u="Row"):(e=e,a=o=e.computedLeft,l=this.seriesClipRect.y,h=l+this.seriesClipRect.height,u="Column"),s={id:r.element.id+"_AxisBottom_"+u+t,x1:a,y1:l,x2:o,y2:h,"stroke-width":e.border.width,stroke:e.border.color},this.htmlObject=r.renderer.drawLine(s),te(r.enableCanvas,this.element,this.htmlObject)},n.prototype.drawAxisLine=function(e,t,i,r,s,a,o,l,h,u){var c=this.chart,f={},d=G(c.element.id+"AxisLine_"+t),g=d?d.getAttribute("d"):"";d=null,f={id:c.element.id+"AxisLine_"+t,d:"M "+(u.x-i-o)+" "+(u.y-r-a)+" L "+(u.x+u.width+i+l)+" "+(u.y+u.height+r+s),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||c.themeStyle.axisLine},this.htmlObject=c.renderer.drawPath(f),te(c.enableCanvas,h,this.htmlObject,c.redraw,!0,"x","y",null,g,null,null,null,c.duration)},n.prototype.drawYAxisGridLine=function(e,t,i,r){var s=e.valueType==="Logarithmic",a=e.valueType.indexOf("Category")>-1,o,l=0,h="",u="",c,f=e.isAxisOpposedPosition,d=f?e.majorTickLines.height:-e.majorTickLines.height,g=f?e.lineStyle.width*.5:-e.lineStyle.width*.5,p=e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?.5:0,b=U(e.crossesAt)?f?e.scrollBarHeight:-e.scrollBarHeight:0,y=e.tickPosition==="Inside",T=y?r.x-d-g:r.x+d+g+b,w=e.visibleLabels.length,E=this.chart.themeStyle,S=1;e.valueType.indexOf("Category")>-1&&e.labelPlacement==="BetweenTicks"&&w>0&&!this.chart.stockChart&&(w+=1);for(var L=e.minorGridLines,M=e.minorTickLines,O=0;O<w;O++)o=e.visibleLabels[O]?e.visibleLabels[O].value-p:e.visibleLabels[O-1].value+e.visibleRange.interval-p,l=Ct(o,e)*r.height,l=l*-1+(r.y+r.height),l>=r.y&&r.y+r.height>=l&&(this.chart.redraw&&!this.chart.enableCanvas&&this.chart.zoomRedraw&&e.visible&&e.majorGridLines.width&&O!==0&&!G(this.chart.element.id+"_MajorGridLine_"+t+"_"+O)&&(h="M "+this.seriesClipRect.x+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(O||1)*S:-(this.seriesClipRect.height/(O||1)*S)))+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(O||1)*S:-(this.seriesClipRect.height/(O||1)*S))),this.updateAxisElement(e,t,h,O,"_MajorGridLine_",this.element,!1),G(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1])),(pr(o,e.visibleRange)||this.isBorder(e,O,l))&&(h="M "+this.seriesClipRect.x+" "+l+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+l,this.renderGridLine(e,t,h,e.majorGridLines,"_MajorGridLine_",O,this.element,E.majorGridLine,e.majorGridLines.dashArray)),this.chart.redraw&&this.chart.zoomRedraw&&e.majorTickLines.width&&O!==0&&!G(this.chart.element.id+"_MajorTickLine_"+t+"_"+O)&&!this.chart.enableCanvas&&e.visible&&(u="M "+this.seriesClipRect.x+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(O||1)*S:-(this.seriesClipRect.height/(O||1)*S)))+" L "+T+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(O||1)*S:-(this.seriesClipRect.height/(O||1)*S))),this.updateAxisElement(e,t,u,O,"_MajorTickLine_",i,!1),G(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1]),S+=1),u="M "+(r.x+g+(y?b:0))+" "+l+" L "+T+" "+l,this.renderGridLine(e,t,u,e.majorTickLines,"_MajorTickLine_",O,i,E.majorTickLine),(L.width>0||M.width>0)&&e.minorTicksPerInterval>0&&(O===0&&Yi(e)&&!s&&!a&&this.renderMinorGridOnZooming(e,o,r,O,t,E,i),c=this.drawAxisMinorLine(e,o,r,O),this.renderGridLine(e,t,c[0],L,"_MinorGridLine_",O,this.element,E.minorGridLine,L.dashArray),this.renderGridLine(e,t,c[1],M,"_MinorTickLine_",O,i,E.minorTickLine),O===w-1&&Yi(e)&&s&&!a&&this.renderMinorGridOnZooming(e,o+e.visibleRange.interval,r,O,t,E,i)));if(w&&this.previousYLabel>w&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&this.chart.redraw)for(var O=w;O<this.previousYLabel;O++){var _=this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height/w*(O-w+1)+this.seriesClipRect.height:-(this.seriesClipRect.height/w*(O-w+1)));e.majorGridLines.width&&(h="M "+this.seriesClipRect.x+" "+ +_+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+_,this.updateAxisElement(e,t,h,O,"_MajorGridLine_",this.element,!0)),e.majorTickLines.width&&(u="M "+this.seriesClipRect.x+" "+_+" L "+T+" "+_,this.updateAxisElement(e,t,u,O,"_MajorTickLine_",i,!0))}},n.prototype.isBorder=function(e,t,i){var r=this.chart.chartArea.border,s=this.seriesClipRect,a=e.orientation,o=a==="Horizontal"?s.x:s.y,l=a==="Horizontal"?s.width:s.height,h=a==="Horizontal"?0:e.visibleLabels.length-1,u=a==="Horizontal"?e.visibleLabels.length-1:0;return e.plotOffset>0||(i===o||i===o+l)&&(r.width<=0||r.color==="transparent")?!0:i!==o&&t===h||i!==o+l&&t===u},n.prototype.drawYAxisLabels=function(e,t,i,r){var s=this.chart,a,o=0,l=0,h,u=e.labelPadding,c,f,d=e.labelPosition==="Inside",g=e.isAxisOpposedPosition,p,b=e.labelPosition===e.tickPosition?e.majorTickLines.height:0,y=b+u+e.lineStyle.width*.5,T=e.angle%360,w=T===-90||T===90||T===270||T===-270;y+=w?d?5:-5:0,y=g?y:-y;var E=s.renderer.createGroup({id:s.element.id+"AxisLabels"+t}),S=U(e.crossesAt)?e.scrollBarHeight*(g?1:-1):0,L,M,O,_=10,R=e.isAxisInverse,z=1,H=R?r.y:r.y+r.height,j,I,Y,J,fe=!g&&!d||g&&d;d?j=fe?y:-y:j=fe?y+(s.enableRtl?-S:S):-y+(s.enableRtl?-S:S);var Ie=[],re=[];e.visibleLabels.map(function(Ge){Ie.push(Ge.size.width),re.push(Ge.breakLabelSize.width)});var pe=Math.max.apply(Math,Ie),ue=Math.max.apply(Math,re);p=pe,T>=-45&&T<=45&&T!==0&&(p=pe*Math.cos(T*Math.PI/180),p<0&&(p=-p));for(var $=0,Oe=e.visibleLabels.length;$<Oe;$++){switch(a=e.visibleLabels[$],f=$r(e.visibleLabels[$].originalText),h=f?e.visibleLabels[$].breakLabelSize:e.visibleLabels[$].size,l=Ct(e.visibleLabels[$].value,e)*r.height+(s.stockChart?7:0),l=Math.floor(l*-1+(r.y+r.height)),L=h.height/8*e.visibleLabels[$].text.length/2,M=s.requireInvertedAxis&&e.labelPosition==="Inside"?0:h.height/4*3+3,I=r.height/e.visibleLabels.length,Y=(e.labelIntersectAction==="Trim"||e.labelIntersectAction==="Wrap")&&T!==0&&h.width>I?I:h.width,l=f?e.labelPosition==="Inside"?l-h.height/2-L+M:l-L:e.labelPosition==="Inside"?l+M:l,e.labelPosition==="Inside"&&($===0&&!e.isInversed||$===Oe-1&&e.isInversed)&&(s.stockChart?l-=M:l-=M-(s.requireInvertedAxis&&e.labelPosition==="Inside"?0:e.opposedPosition?-y:y)),e.majorGridLines.width>e.majorTickLines.width?O=e.majorGridLines.width:O=e.majorTickLines.width,e.labelStyle.textAlignment==="Far"?l=l-O-_:e.labelStyle.textAlignment==="Near"&&(l=l+O+_),d?J=j+(T===0?h.width:f?ue:pe)/2:J=j-(T===0?h.width:f?ue:p)/2,o=g?e.scrollBarHeight!==0?r.x+e.scrollBarHeight+y-J:r.x-J:r.x+J,w&&(o+=g?5:-5),J=j,c=new oi(s.element.id+t+"_AxisLabel_"+$,o,l,"middle",a.text,"","middle",T),e.edgeLabelPlacement){case"None":break;case"Hide":(($===0||R&&$===Oe-1)&&c.y>r.y||($===Oe-1||R&&$===0)&&c.y-h.height*.5<r.y)&&(c.text="");break;case"Shift":($===0||R&&$===Oe-1)&&c.y>r.y+r.height?c.y=l=r.y+r.height:($===Oe-1||R&&$===0)&&(c.y<r.y||c.y-h.height*.5<=0)&&(c.y=l=r.y+h.height*.5);break}var ke=c.y,q=c.y-Y;if(f&&(ke=c.y-Y/2,q=c.y+Y/2),!((T===90||T===270)&&e.labelIntersectAction==="Hide"&&$!==0&&(R?q<=H:ke>=H))){if(H=R?ke:q,c.transform="rotate("+T+","+o+","+l+")",this.chart.redraw&&this.chart.zoomRedraw&&!G(c.id)&&!this.chart.enableCanvas&&e.visible){var Ue=c.y;c.y=this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/($||1)*z:-(this.seriesClipRect.height/($||1)*z)),this.updateAxisElement(e,t,"",$,"_AxisLabel_",E,!1,c,a),c.y=Ue,z+=1}Ft(s.renderer,c,a.labelStyle,a.labelStyle.color||s.themeStyle.axisLabelFont.color,E,!1,s.redraw,!0,!0,s.duration,null,null,null,s.enableCanvas,null,s.themeStyle.axisLabelFont,new ge(o,l))}}if(this.previousYLabel&&e.visibleLabels.length&&this.previousYLabel>e.visibleLabels.length&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&s.redraw&&c.text)for(var $=e.visibleLabels.length;$<this.previousYLabel;$++)c.y=this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/e.visibleLabels.length*($-e.visibleLabels.length+1):-(this.seriesClipRect.height/e.visibleLabels.length*($-e.visibleLabels.length+1))),c.id=s.element.id+t+"_AxisLabel_"+$,this.updateAxisElement(e,t,"",$,"_AxisLabel_",E,!0,c,a);else this.previousYLabel=e.visibleLabels.length;this.chart.enableCanvas||(s.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,E,e,t,r):te(s.enableCanvas,i,E,s.redraw))},n.prototype.rangeAnimate=function(e,t,i,r,s,a,o){var l=this;t&&new er({}).animate(t,{duration:i,progress:function(){var h=G(t.id);if(h.style.animation="",r)it(parseFloat(h.getAttribute("x")),parseFloat(h.getAttribute("y")),s)?h.style.visibility="visible":h.style.visibility="hidden";else{var u=h.getAttribute("d").split(" ");it(parseFloat(u[1]),parseFloat(u[2]),s)?h.style.visibility="visible":h.style.visibility="hidden"}},end:function(){var h=G(t.id);h.style.visibility="",a&&o>=e.visibleLabels.length&&(ze(h),r&&(e.orientation==="Vertical"?l.previousYLabel=e.visibleLabels.length:l.previousXLabel=e.visibleLabels.length))}})},n.prototype.getAxisLabelXvalue=function(e,t,i){var r=t.lineBreakAlignment,s=t.labelPosition==="Inside",a=t.isAxisOpposedPosition;return a&&s||!a&&!s?r==="Right"?e:r==="Center"?e-i/2:e-i:r==="Left"?e:r==="Center"?e+i/2:e+i},n.prototype.drawYAxisBorder=function(e,t,i,r){if(e.border.width>0){var s=void 0,a=void 0,o=e.labelPosition==="Outside"?e.scrollBarHeight:0,l=e.isAxisOpposedPosition;o=(l?1:-1)*o;for(var h=r.height/e.visibleRange.delta*(e.valueType==="DateTime"?e.dateTimeInterval:e.visibleRange.interval),u=void 0,c=e.maxLabelSize.width+10+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),f="",d=e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?-.5:0,g=l&&e.labelPosition==="Inside"||!l&&e.labelPosition==="Outside"?r.x-c+o:r.x+c+o,p=0,b=e.visibleLabels.length;p<b;p++)switch(a=Ct(e.visibleLabels[p].value+d,e),a=(e.isAxisInverse?1-a:a)*r.height,e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?(s=a*-1+(r.y+r.height),u=a*-1-h+(r.y+r.height)):(s=a*-1+h/2+(r.y+r.height),u=a*-1-h/2+(r.y+r.height)),e.border.type){case"Rectangle":case"WithoutTopBorder":s>r.y+r.height?f+="M "+g+" "+(r.y+r.height)+" L "+g+" "+u+" ":Math.floor(r.y)>u?f+="M "+(r.x+o)+" "+s+" L "+g+" "+s+" L "+g+" "+r.y+" ":(f+="M "+(r.x+o)+" "+s+" L "+g+" "+s+" L "+g+" "+u+" ",p===e.visibleLabels.length-1&&(f+="M "+(r.x+o)+" "+u+" L "+g+" "+u+" "));break;case"WithoutTopandBottomBorder":!(s>r.y+r.height)&&!(u<Math.floor(r.y))&&(f+="M "+(r.x+o)+" "+s+" L "+g+" "+s+" M "+g+" "+u+" L "+(r.x+o)+" "+u);break}f+=e.border.type==="Rectangle"?"M "+(r.x+o)+" "+r.y+" L "+(r.x+o)+" "+(r.y+r.height)+" ":"",f!==""&&this.createAxisBorderElement(e,t,f,i)}for(var p=0;p<this.chart.visibleSeries.length;p++)if(e.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule&&this.chart.visibleSeries[p].visible){this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(e,t,i,r);break}},n.prototype.drawYAxisTitle=function(e,t,i,r){if(e.title){var s=this.chart,a=!1,o=e.isAxisOpposedPosition,l=(e.titleRotation==null?o?90:-90:e.titleRotation)%360,h=(e.tickPosition==="Inside"?0:e.majorTickLines.height+e.titlePadding)+(e.labelPosition==="Inside"?0:e.maxLabelSize.width+e.multiLevelLabelHeight+this.padding);h=o?h+e.scrollBarHeight:-h-e.scrollBarHeight,(l!==-90&&!o||l!==90&&o)&&(h+=e.isAxisOpposedPosition?e.titleSize.width/2+e.labelPadding:-e.titleSize.width/2-e.labelPadding,a=!0);var u=r.x+h,c=void 0,f=void 0;e.titleStyle.textAlignment==="Center"?(f="middle",c=r.y+r.height*.5):e.titleStyle.textAlignment==="Near"?(f=e.opposedPosition?"end":"start",c=r.height+r.y):(f=e.opposedPosition?"start":"end",c=r.y);var d=e.titleSize.height*(e.titleCollection.length-1),g=new oi(s.element.id+"_AxisTitle_"+t,u,c+(a?-d:-e.labelPadding-d),f,e.titleCollection,"rotate("+l+","+u+","+c+")",null,l),p=Ft(s.renderer,g,e.titleStyle,e.titleStyle.color||s.themeStyle.axisTitleFont.color,i,null,null,null,null,null,null,null,null,s.enableCanvas,null,s.themeStyle.axisTitleFont,new ge(u,c));p.setAttribute("aria-hidden","true")}},n.prototype.drawXAxisGridLine=function(e,t,i,r){var s=e.valueType==="Logarithmic",a=e.valueType.indexOf("Category")>-1,o,l=0,h="",u="",c,f=1,d=e.isAxisOpposedPosition,g=d?-e.majorTickLines.height:e.majorTickLines.height,p=d?-e.lineStyle.width*.5:e.lineStyle.width*.5,b=U(e.crossesAt)?d?-e.scrollBarHeight:e.scrollBarHeight:0,y=e.valueType.indexOf("Category")>-1&&e.labelPlacement==="BetweenTicks"&&!this.chart.stockChart?.5:0,T=e.visibleLabels.length,w=e.tickPosition==="Inside",E=w?r.y-g-p:r.y+g+p+b,S=this.chart.themeStyle;e.valueType.indexOf("Category")>-1&&T>0&&e.labelPlacement==="BetweenTicks"&&!this.chart.stockChart&&(T+=1);for(var L=this.calculateGridLineId(i,T),M=0;M<T;M++)if(e.valueType!=="DateTimeCategory"?o=e.visibleLabels[M]?e.visibleLabels[M].value-y:e.visibleLabels[M-1].value+e.visibleRange.interval-y:o=e.visibleLabels[M]?e.visibleLabels[M].value-y:e.visibleRange.max,l=Ct(o,e)*r.width+r.x,l>=r.x&&r.x+r.width>=l){if(pr(o,e.visibleRange)||this.isBorder(e,M,l)){if(this.chart.redraw&&(this.chart.pointsAdded&&!this.chart.pointsRemoved||this.chart.zoomRedraw)&&e.majorGridLines.width&&M!==0&&e.visible&&!G(this.chart.element.id+"_MajorGridLine_"+t+"_"+M)&&!this.chart.enableCanvas){var O=this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/T*f):this.seriesClipRect.width+this.seriesClipRect.width/(M||1)*f);h="M "+O+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+O+" "+this.seriesClipRect.y,this.renderGridLine(e,t,h,e.majorGridLines,"_MajorGridLine_",M,this.element,S.majorGridLine,e.majorGridLines.dashArray,L.MajorGridLine&&L.MajorGridLine.ids?L.MajorGridLine.ids[M]:null,L.MajorGridLine?L.MajorGridLine.isPointRemoved:!1),this.rangeAnimate(e,this.element.childNodes[this.element.childNodes.length-1],this.chart.duration,!1,new he(this.seriesClipRect.x,e.rect.y,this.seriesClipRect.x+this.seriesClipRect.width,this.chart.availableSize.height),!1,M),G(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1])}h="M "+l+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+l+" "+this.seriesClipRect.y,this.renderGridLine(e,t,h,e.majorGridLines,"_MajorGridLine_",M,this.element,S.majorGridLine,e.majorGridLines.dashArray,L.MajorGridLine&&L.MajorGridLine.ids?L.MajorGridLine.ids[M]:null,L.MajorGridLine?L.MajorGridLine.isPointRemoved:!1)}this.chart.redraw&&this.chart.zoomRedraw&&e.majorTickLines.width&&!G(this.chart.element.id+"_MajorTickLine_"+t+"_"+M)&&!this.chart.enableCanvas&&e.visible&&(u="M "+(this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/T*f):this.seriesClipRect.width+this.seriesClipRect.width/(M||1)*f))+" "+(r.y+p+(w?b:0))+" L "+(this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/T*f):this.seriesClipRect.width+this.seriesClipRect.width/(M||1)*f))+" "+E,this.updateAxisElement(e,t,u,M,"_MajorTickLine_",i,!1),G(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1]),f+=1),u="M "+l+" "+(r.y+p+(w?b:0))+" L "+l+" "+E,this.renderGridLine(e,t,u,e.majorTickLines,"_MajorTickLine_",M,i,S.majorTickLine,null,L.MajorTickLine&&L.MajorTickLine.ids?L.MajorTickLine.ids[M]:null,L.MajorTickLine?L.MajorTickLine.isPointRemoved:!1),e.minorTicksPerInterval>0&&(e.minorGridLines.width>0||e.minorTickLines.width>0)&&(M===0&&Yi(e)&&!s&&!a&&this.renderMinorGridOnZooming(e,o,r,M,t,S,i),c=this.drawAxisMinorLine(e,o,r,M),this.renderGridLine(e,t,c[0],e.minorGridLines,"_MinorGridLine_",M,this.element,S.minorGridLine,e.minorGridLines.dashArray,L.MinorGridLine&&L.MinorGridLine.ids?L.MinorGridLine.ids[M]:null,L.MinorGridLine?L.MinorGridLine.isPointRemoved:!1),this.renderGridLine(e,t,c[1],e.minorTickLines,"_MinorTickLine_",M,i,S.minorTickLine,null,L.MinorTickLine&&L.MinorTickLine.ids?L.MinorTickLine.ids[M]:null,L.MinorTickLine?L.MinorTickLine.isPointRemoved:!1),M===T-1&&Yi(e)&&s&&!a&&this.renderMinorGridOnZooming(e,o+e.visibleRange.interval,r,M,t,S,i))}if(T&&this.previousXLabel>T&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&this.chart.redraw)for(var M=T;M<this.previousXLabel;M++){var O=this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/T*(M-T+1)):this.seriesClipRect.width+this.seriesClipRect.width/T*(M-T+1));e.majorGridLines.width&&(h="M "+O+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+O+" "+this.seriesClipRect.y,this.updateAxisElement(e,t,h,M,"_MajorGridLine_",this.element,!0)),e.majorTickLines.width&&(u="M "+O+" "+(r.y+p+(w?b:0))+" L "+O+" "+E,this.updateAxisElement(e,t,u,M,"_MajorTickLine_",i,!0))}},n.prototype.calculateGridLineId=function(e,t){var i=this,r={};if(this.chart.pointsRemoved){var s=["MajorGridLine","MajorTickLine","MinorGridLine","MinorTickLine"];s.forEach(function(a){for(var o=G(e.id),l=o.querySelectorAll('[id*="_'+a+'_"]'),h=[],u=0;u<l.length;u++)h.push(l[u]);var c=a==="MajorGridLine"&&i.chart.chartArea.border.width?t-2:t;if(c=a==="MinorGridLine"||a==="MinorTickLine"?t-1:c,h.length>0&&h.length>c){for(var f=h.length,d=0;d<f-c;d++)h[d]&&o.removeChild(h[d]),h.shift();var g=h.map(function(p){var b=p.id.split("_");return parseInt(b[b.length-1],10)});r[a]={ids:g,isPointRemoved:!0}}})}return r},n.prototype.renderMinorGridOnZooming=function(e,t,i,r,s,a,o){var l=this.drawAxisMinorLine(e,t,i,r,!0);this.renderGridLine(e,s,l[0],e.minorGridLines,"_MinorGridLine_",-1,this.element,a.minorGridLine,e.minorGridLines.dashArray),this.renderGridLine(e,s,l[1],e.minorTickLines,"_MinorTickLine_",-1,o,a.minorTickLine)},n.prototype.drawAxisMinorLine=function(e,t,i,r,s){var a=t,o=0,l=0,h=e.visibleRange,u=e.tickPosition==="Inside",c=[],f=e.isAxisOpposedPosition?-e.minorTickLines.height:e.minorTickLines.height,d,g,p=1,b=1,y=u?i.y-f:i.y+f,T=u?i.x+f:i.x-f,w="",E="",S=e.isAxisInverse;if(e.valueType==="Logarithmic"&&(d=Math.pow(e.logBase,a-h.interval),g=Math.pow(e.logBase,a),p=(g-d)/(e.minorTicksPerInterval+1),b=d+p),e.orientation==="Horizontal")for(var L=0;L<e.minorTicksPerInterval;L++)a=this.findLogNumeric(e,b,a,r,s),b+=p,pr(a,h)&&(l=(a-h.min)/(h.max-h.min),l=Math.ceil((S?1-l:l)*i.width),o=Math.floor(l+i.x),w=w.concat("M "+o+" "+this.seriesClipRect.y+"L "+o+" "+(this.seriesClipRect.y+this.seriesClipRect.height)),o=Math.floor(l+i.x),E=E.concat("M "+o+" "+i.y+"L "+o+" "+(y+e.scrollBarHeight)));else for(var L=0;L<e.minorTicksPerInterval;L++)a=this.findLogNumeric(e,b,a,r,s),pr(a,h)&&(l=(a-h.min)/(h.max-h.min),l=Math.ceil((S?1-l:l)*i.height)*-1,o=Math.floor(l+i.y+i.height),w=w.concat("M "+this.seriesClipRect.x+" "+o+"L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+o+" "),o=Math.floor(l+i.y+i.height),E=E.concat("M "+i.x+" "+o+"L "+(T-e.scrollBarHeight)+" "+o+" ")),b+=p;return c.push(w),c.push(E),c},n.prototype.findLogNumeric=function(e,t,i,r,s){var a=e.visibleRange,o;if(e.valueType==="Logarithmic")i=Jn(t,e.logBase);else if(e.valueType==="DateTime")o=e.dateTimeInterval/(e.minorTicksPerInterval+1),i=s?i-o:i+o;else if(e.valueType==="DateTimeCategory"){var l=e.labelPlacement==="BetweenTicks"?.5:0;i+=((e.visibleLabels[r+1]?e.visibleLabels[r+1].value-l:e.visibleRange.max)-(e.visibleLabels[r]?e.visibleLabels[r].value-l:e.visibleRange.min))/(e.minorTicksPerInterval+1)}else o=a.interval/(e.minorTicksPerInterval+1),i=s?i-o:i+o;return i},n.prototype.drawXAxisLabels=function(e,t,i,r){var s=this.chart,a=0,o=0,l=e.labelPadding,h,u,c,f,d=10,g=s.renderer.createGroup({id:s.element.id+"AxisLabels"+t}),p=e.labelPosition==="Inside",b=e.isAxisOpposedPosition,y=e.labelPosition===e.tickPosition?e.majorTickLines.height:0,T=y+l+e.lineStyle.width*.5,w=e.angle%360,E=w===0||w===-180||w===180,S,L,M=e.isAxisInverse,O,_=1,R=M?r.x+r.width:r.x,z=0,H=e.visibleLabels.length,j,I,Y,J=e.scrollbarSettings.enable||!p&&U(e.crossesAt)&&(e.zoomFactor<1||e.zoomPosition>0)?e.scrollBarHeight:0,fe=[],Ie=!1,re=[],pe=new lt(0,0);T+=w===90||w===270||w===-90||w===-270?p?5:-5:0;for(var ue=!b&&!p||b&&p,$=G(s.element.id+"AxisLabels"+t),Oe=this.removeAxisLabelElements(e,$),ke=ue?360>=w&&w>=180||-1>=w&&w>=-180:1<=w&&w<=180||-181>=w&&w>=-360,q=0,Ue=H;q<Ue;q++){I=e.visibleLabels[q],Y=$r(I.originalText)||e.labelIntersectAction==="Wrap"&&I.text.length>1,a=Ct(I.value,e)*r.width+r.x,u=I.size,j=r.width/H,L=Y?I.breakLabelSize.width:u.width,z=(e.labelIntersectAction==="Trim"||e.labelIntersectAction==="Wrap")&&w===0&&L>j?j:L,h=u.height/4,a-=Y||w!==0?0:z/2,w!==0&&(Y?a-=e.lineBreakAlignment==="Left"?I.breakLabelSize.width/2:e.lineBreakAlignment==="Right"?-(I.breakLabelSize.width/2):0:a-=w===-90||w===270?-h:w===90||w===-270?h:0),e.labelStyle.textAlignment==="Far"?a=a+z-d:e.labelStyle.textAlignment==="Near"&&(a=a-z+d),Y&&e.lineBreakAlignment!=="Center"&&w===0&&(a+=e.lineBreakAlignment==="Left"?-(z/2):z/2);var Ge=Y?E?e.opposedPosition||p?0:u.height:I.breakLabelSize.width/2:0;if(T=Y?y+l+e.lineStyle.width*.5:T,p&&w?Y?o=b?r.y+T+Ge:r.y-T-Ge:o=b?r.y+T+h:r.y-T-h:(Y?c=ue?T+J+(w?Ge:3*h):-(T+J+Ge):c=ue?T+J+(w?1:3)*h:-(T+J+(w?h:I.index>1?2*h:0)),o=r.y+c*I.index),Y?f=this.getAnchor(e):f=s.enableRtl?ke?"":"end":s.isRtlEnabled||ke?"end":"",S=new oi(s.element.id+t+"_AxisLabel_"+q,a,o,f),S.id=Oe&&$&&$.children[q]?$.children[q].id:S.id,w!==0&&(pe=ua(I.labelStyle,I.originalText,w,s,s.themeStyle.axisLabelFont),O=w<0&&w>-90||w<-180&&w>-270||w>90&&w<180||w>270&&w<360),e.edgeLabelPlacement)switch(e.edgeLabelPlacement){case"None":break;case"Hide":if((q===0||M&&q===Ue-1)&&S.x<r.x||(q===Ue-1||M&&q===0)&&S.x+(w===0?z:pe.width)>r.x+r.width)continue;break;case"Shift":if((q===0||M&&q===Ue-1)&&(S.x<r.x||w!==0&&O&&S.x-pe.width<=r.x||e.lineBreakAlignment==="Center"&&S.x-I.size.width/I.text.length/2<r.x&&w===0))if(j-=r.x-S.x,f===""&&!M&&w===0)S.x<=0?a=S.x=0:a=S.x,j=r.width/H;else if(O&&w!==0)j=r.width/H,r.x+j>S.x+pe.width?S.x=a=r.x+T:S.x=a=r.x+j-T;else if(Y&&e.lineBreakAlignment==="Center"&&e.labelPlacement==="OnTicks"&&w===0){for(var Qt=0,Jt=0;Jt<I.text.length;Jt++){var bt=Xe(I.text[Jt],e.labelStyle,s.themeStyle.axisLabelFont).width;bt>Qt&&(Qt=bt)}S.x=a=r.x+Qt/2}else f==="start"&&S.x>0||(S.x=a=E?r.x:r.x+T);else(q===Ue-1||M&&q===0)&&(S.x+z>r.x+r.width&&f!=="end"&&w===0||w!==0&&!O&&S.x+pe.width>r.x+r.width||f==="end"&&S.x>r.x+r.width)&&(u.width>j&&e.labelIntersectAction==="Trim"&&w===0?j-=S.x+z-(r.x+r.width):w!==0?pe.width<j&&(j=pe.width):j=z,w!==0?S.x=a=r.x+r.width-j+T:S.x=a=E?r.x+r.width-j:r.x+r.width-j/2);break}S.text=this.getLabelText(I,e,j),S.labelRotation=w;var st=void 0,Ke=void 0;if(Y&&w===0?e.lineBreakAlignment==="Right"?(st=S.x-z,Ke=S.x):e.lineBreakAlignment==="Center"?(st=S.x-z/2,Ke=S.x+z/2):(st=S.x,Ke=S.x+z):(st=S.x,Ke=S.x+z),!(w===0&&e.labelIntersectAction==="Hide"&&q!==0&&(M?Ke>=R:st<=R))){if(Y?e.lineBreakAlignment==="Right"?R=M?S.x-z:S.x:e.lineBreakAlignment==="Center"?R=M?S.x-z/2:S.x+z/2:R=M?S.x:S.x+z:R=M?S.x:S.x+z,w!==0){var ut=void 0,ct=void 0;if(Y){var Pt=0,je=0;ut=I.breakLabelSize.height,je=I.breakLabelSize.height-4,e.lineBreakAlignment==="Center"?Pt=-(I.breakLabelSize.width/2):e.lineBreakAlignment==="Right"&&(Pt=-I.breakLabelSize.width),ue&&(je=I.breakLabelSize.height/(S.text.length+1)),ct=new he(S.x+Pt,S.y-je,I.breakLabelSize.width,ut)}else ut=o-(S.y-I.size.height/2),ct=new he(S.x,S.y-(I.size.height/2-5),I.size.width,ut);var Ye=this.getRectanglePoints(ct),x=Y?ct.x+ct.width/2:a,m=Y?ct.y+ct.height/2:o-ut/2;if(Y?S.transform="rotate("+w+","+x+","+m+")":S.transform="rotate("+w+","+a+","+o+")",fe.push(es(Ye,x,m,w)),Ie=!1,e.labelIntersectAction!=="None"){for(var v=q;v>0;v--)if(fe[q]&&fe[v-1]&&ca(fe[q],fe[v-1])){Ie=!0,fe[q]=null;break}}var A=w>0&&w<90||w>180&&w<270||w<-90&&w>-180||w<-270&&w>-360,k=new he(S.x,S.y-(u.height/2+T/2),I.size.width,ut),F=this.getRectanglePoints(k),V=[];V.push(new ge(A?this.chart.availableSize.width:this.padding,e.rect.y)),V.push(new ge(A?this.chart.availableSize.width:this.padding,e.rect.y+e.maxLabelSize.height)),re.push(es(F,x,m,w));for(var ne=new he(0,e.rect.y,this.chart.availableSize.width,e.maxLabelSize.height*2),de=0;de<re[q].length;de++)if(!e.opposedPosition&&!it(re[q][de].x,re[q][de].y,ne)&&typeof S.text=="string"){var be=this.calculateIntersection(re[q][0],re[q][1],V[0],V[1]),De=A?this.chart.availableSize.width-a:a,Se=be.y-e.rect.y,pi=Math.sqrt(De*De+Se*Se);S.text=un(pi,I.text,I.labelStyle,s.enableRtl,s.themeStyle.axisLabelFont)}}if(this.chart.redraw&&(s.pointsAdded&&!s.pointsRemoved||this.chart.zoomRedraw)&&!G(S.id)&&q!==0&&!this.chart.enableCanvas&&e.visible){var or=S.x;S.x=this.seriesClipRect.x+(s.enableRtl!==e.isInversed?-(this.seriesClipRect.width/(q||1)*_):this.seriesClipRect.width+this.seriesClipRect.width/(q||1)*_);var lr=S.transform;S.transform=w?"rotate("+w+","+S.x+","+parseFloat(S.transform.split(",")[2])+")":"";var Ao=Ft(s.renderer,S,I.labelStyle,I.labelStyle.color||s.themeStyle.axisLabelFont.color,g,e.isAxisOpposedPosition!==(e.labelPosition==="Inside"),s.redraw,!0,null,s.duration,null,I.size,Ie,s.enableCanvas,null,s.themeStyle.axisLabelFont);this.rangeAnimate(e,Ao,this.chart.duration,!0,new he(this.seriesClipRect.x,e.rect.y,this.seriesClipRect.x+this.seriesClipRect.width,this.chart.availableSize.height),!1,q),S.x=or,S.transform=lr,_+=1}var Eo=Ft(s.renderer,S,I.labelStyle,I.labelStyle.color||s.themeStyle.axisLabelFont.color,g,e.isAxisOpposedPosition!==(e.labelPosition==="Inside"),s.redraw,!0,null,s.duration,null,I.size,Ie,s.enableCanvas,null,s.themeStyle.axisLabelFont,new ge(parseFloat(S.transform.split(",")[1]),parseFloat(S.transform.split(",")[2])));Oe&&(Eo.id=s.element.id+t+"_AxisLabel_"+q)}}if(this.previousXLabel&&H&&this.previousXLabel>H&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&this.chart.redraw&&S.text)for(var q=H;q<this.previousXLabel;q++)S.x=this.seriesClipRect.x+(s.enableRtl!==e.isInversed?-(this.seriesClipRect.width/H*(q-H+1)):this.seriesClipRect.width+this.seriesClipRect.width/H*(q-H+1)),S.id=s.element.id+t+"_AxisLabel_"+q,S.transform=w?"rotate("+w+","+S.x+","+parseFloat(S.transform.split(",")[2])+")":"",this.updateAxisElement(e,t,"",q,"_AxisLabel_",g,!0,S,I);else this.previousXLabel=H;this.chart.enableCanvas||(s.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,g,e,t,r):i.appendChild(g))},n.prototype.updateAxisElement=function(e,t,i,r,s,a,o,l,h){var u,c=s.indexOf("Grid")>-1,f=s.indexOf("Label")>-1;f?u=Ft(this.chart.renderer,l,h.labelStyle,h.labelStyle.color||this.chart.themeStyle.axisLabelFont.color,a,e.isAxisOpposedPosition!==(e.labelPosition==="Inside"),this.chart.redraw,!0,null,this.chart.duration,null,null,null,this.chart.enableCanvas,null,this.chart.themeStyle.axisLabelFont):(this.renderGridLine(e,t,i,c?e.majorGridLines:e.majorTickLines,s,r,this.element,c?this.chart.themeStyle.majorGridLine:this.chart.themeStyle.majorTickLine,c?e.majorGridLines.dashArray:null),this.element&&a.childNodes&&(u=this.element.childNodes[a.childNodes.length-1])),this.rangeAnimate(e,u,this.chart.duration,f,new he(e.orientation==="Vertical"?0:this.seriesClipRect.x,e.orientation==="Vertical"?this.seriesClipRect.y:e.rect.y,this.seriesClipRect.width,this.seriesClipRect.height),o,r)},n.prototype.removeAxisLabelElements=function(e,t){if(this.chart.pointsRemoved&&t&&t.childNodes.length){var i=!1;if(e.valueType.indexOf("Category")>-1){var r=[];e.visibleLabels.map(function(l){typeof l.text!="string"?r.push(l.text.join("")):r.push(l.text)});for(var s=t.childNodes.length-1;s>=0;s--){var a=t.childNodes[s];r.indexOf(a.textContent.trim())===-1&&(t.removeChild(a),i=!0)}}else if(t.childNodes.length>e.visibleLabels.length)for(var o=0;o<t.childNodes.length-e.visibleLabels.length;o++)t.removeChild(t.childNodes[o]),i=!0;return i}return!1},n.prototype.calculateIntersection=function(e,t,i,r){var s=i.x-r.x,a=e.x-t.x,o=i.y-r.y,l=e.y-t.y,h=a*o-l*s,u=e.x*t.y-e.y*t.x,c=i.x*r.y-i.y*r.x,f=(u*s-a*c)/h,d=(u*o-l*c)/h,g={x:f,y:d};return g},n.prototype.getAnchor=function(e){return e.lineBreakAlignment==="Center"?"middle":this.chart.enableRtl?e.lineBreakAlignment==="Left"?"end":"start":e.lineBreakAlignment==="Left"?"start":"end"},n.prototype.getRectanglePoints=function(e){var t=new ge(e.x,e.y),i=new ge(e.x+e.width,e.y),r=new ge(e.x+e.width,e.y+e.height),s=new ge(e.x,e.y+e.height);return[t,i,r,s]},n.prototype.getLabelText=function(e,t,i){if($r(e.originalText)){for(var r=[],s=void 0,a=0;a<e.text.length;a++)s=this.findAxisLabel(t,e.text[a],i),r.push(s);return r}else return this.findAxisLabel(t,e.text,i)},n.prototype.drawXAxisBorder=function(e,t,i,r){if(e.border.width>0){for(var s=e.labelPosition==="Outside"?e.scrollBarHeight:0,a=e.isAxisOpposedPosition,o=void 0,l=r.y+(a?-1:1)*s,h=10,u=void 0,c=r.width/e.visibleRange.delta*(e.valueType==="DateTime"?e.dateTimeInterval:e.visibleRange.interval),f=void 0,d=e.maxLabelSize.height+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),g="",p=e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?-.5:0,b=a&&e.labelPosition==="Inside"||!a&&e.labelPosition==="Outside"?r.y+d+h+s:r.y-d-h-s,y=0,T=e.visibleLabels.length;y<T;y++)switch(u=Ct(e.visibleLabels[y].value+p,e),u=(e.isAxisInverse?1-u:u)*r.width,e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?(o=u+r.x,f=u+c+r.x):(o=u-c*.5+r.x,f=u+c*.5+r.x),e.border.type){case"Rectangle":case"WithoutTopBorder":o<r.x&&e.labelPlacement!=="OnTicks"?g+="M "+r.x+" "+b+" L "+f+" "+b+" ":Math.floor(f)>r.width+r.x&&e.visibleLabels.length!==1&&y!==e.visibleLabels.length-1?g+="M "+o+" "+l+" L "+o+" "+b+" L "+(r.width+r.x)+" "+b+" ":(o=y===0&&e.labelPlacement==="OnTicks"?r.x:o,f=y===e.visibleLabels.length-1&&e.labelPlacement==="OnTicks"?f-c*.5:f,g+="M "+o+" "+l+" L "+o+" "+b+" L "+f+" "+b+" ",y===0&&(g+="M "+o+" "+l+" L "+o+" "+b+" M "+o+" "+b+" L "+r.x+" "+b),y===e.visibleLabels.length-1&&(g+="M "+f+" "+l+" L "+f+" "+b+" M "+f+" "+b+" L "+(r.width+r.x)+" "+b));break;case"WithoutTopandBottomBorder":!(o<r.x)&&!(Math.floor(f)>r.width+r.x)&&(g+="M "+o+" "+l+" L "+o+" "+b+" M "+f+" "+l+" L "+f+" "+b);break}g+=e.border.type==="Rectangle"?"M  "+r.x+" "+l+"L "+(r.x+r.width)+" "+l:"",g!==""&&this.createAxisBorderElement(e,t,g,i)}for(var y=0;y<this.chart.visibleSeries.length;y++)if(this.chart.multiLevelLabelModule&&e.multiLevelLabels.length>0&&this.chart.visibleSeries[y].visible){this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(e,t,i,r);break}},n.prototype.createAxisBorderElement=function(e,t,i,r){var s=G(this.chart.element.id+"_BorderLine_"+t),a=s?s.getAttribute("d"):"",o=this.chart.renderer.drawPath(new Bi(this.chart.element.id+"_BorderLine_"+t,"transparent",e.border.width,e.border.color||this.chart.themeStyle.axisLine,1,"",i));o.style.pointerEvents="none",te(this.chart.enableCanvas,r,o,this.chart.redraw,!1,"x","y",null,a,!0,null,null,this.chart.duration)},n.prototype.findAxisLabel=function(e,t,i){return e.labelIntersectAction==="Trim"&&e.angle%360===0&&!e.enableTrim?un(i,t,e.labelStyle,this.chart.enableRtl,this.chart.themeStyle.axisLabelFont):t},n.prototype.drawXAxisTitle=function(e,t,i,r){if(e.title){var s=this.chart,a=Xe(e.title,e.titleStyle,this.chart.themeStyle.axisTitleFont),o=U(e.crossesAt)?e.scrollBarHeight:0,l=(e.tickPosition==="Inside"?0:e.majorTickLines.height+e.titlePadding)+(e.labelPosition==="Inside"?0:e.maxLabelSize.height+e.multiLevelLabelHeight+e.labelPadding),h=e.titleSize.height*(e.titleCollection.length-1);l=e.isAxisOpposedPosition?-(l+a.height/4+o+h):l+3*a.height/4+o;var u=e.titleRotation?e.titleRotation:0,c=void 0,f=r.y+l,d=void 0;e.titleStyle.textAlignment==="Center"?(d="middle",c=r.x+r.width*.5):e.titleStyle.textAlignment==="Near"?(d="start",c=r.x):(d="end",c=r.x+r.width),u!==0&&(f+=e.opposedPosition?-(e.titleSize.height/2+a.height/4):e.titleSize.height/2-a.height/4);var g=new oi(s.element.id+"_AxisTitle_"+t,c,f,d,e.titleCollection,"rotate("+u+","+c+","+f+")",null,u),p=Ft(s.renderer,g,e.titleStyle,e.titleStyle.color||s.themeStyle.axisTitleFont.color,i,null,s.redraw,s.redraw,null,null,null,null,null,s.enableCanvas,null,s.themeStyle.axisTitleFont,new ge(c,f));p.setAttribute("aria-hidden","true")}},n.prototype.renderGridLine=function(e,t,i,r,s,a,o,l,h,u,c){h===void 0&&(h=null),u===void 0&&(u=null),c===void 0&&(c=!1);var f=this.chart,d,g;r.width>0&&e.visible&&e.internalVisibility&&i&&(g=G(f.element.id+s+t+"_"+(c?u:a)),d=g?g.getAttribute("d"):null,g=null,this.htmlObject=f.renderer.drawPath(new Bi(f.element.id+s+t+"_"+(c?u:a),"transparent",r.width,r.color||l,null,h,i)),te(f.enableCanvas,o,this.htmlObject,f.redraw,!0,"x","y",null,d,!0,null,null,f.duration),c&&(this.htmlObject.id=f.element.id+s+t+"_"+a))},n.prototype.findParentNode=function(e,t,i){return document.getElementById(e+"AxisGroup"+i+"Inside").contains(document.getElementById(t.id))?document.getElementById(e+"AxisGroup"+i+"Inside"):document.getElementById(e+"AxisGroup"+i+"Outside")},n.prototype.createZoomingLabel=function(e,t,i,r,s){var a=this.findParentNode(e.element.id,t,r);t.setAttribute("opacity","0.3");var o=e.renderer.createGroup({id:e.element.id+"AxisLabels_Zoom"+r});o=Qo(e,i,o,r,i.orientation==="Vertical",s),a.replaceChild(t,document.getElementById(t.id)),G(e.element.id+"AxisLabels_Zoom"+r)?a.replaceChild(o,document.getElementById(o.id)):a.appendChild(o)},n}(),Ht=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),B=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(a=n[o])&&(s=(r<3?a(s):r>3?a(e,t,s):a(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},uh=function(n){Ht(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return B([P(!1)],e.prototype,"visible",void 0),B([P(!0)],e.prototype,"showZero",void 0),B([P(null)],e.prototype,"name",void 0),B([P("transparent")],e.prototype,"fill",void 0),B([P(null)],e.prototype,"format",void 0),B([P(1)],e.prototype,"opacity",void 0),B([P(0)],e.prototype,"angle",void 0),B([P(!1)],e.prototype,"enableRotation",void 0),B([P("Auto")],e.prototype,"position",void 0),B([P(5)],e.prototype,"rx",void 0),B([P(5)],e.prototype,"ry",void 0),B([P("Center")],e.prototype,"alignment",void 0),B([ae({width:null,color:null},ar)],e.prototype,"border",void 0),B([ae({left:5,right:5,top:5,bottom:5},fa)],e.prototype,"margin",void 0),B([ae({size:null,color:null,fontStyle:null,fontWeight:null,fontFamily:null},Jo)],e.prototype,"font",void 0),B([P(null)],e.prototype,"template",void 0),B([P("Hide")],e.prototype,"labelIntersectAction",void 0),e}(yt),zn=function(n){Ht(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return B([P(!1)],e.prototype,"visible",void 0),B([P(null)],e.prototype,"shape",void 0),B([P("")],e.prototype,"imageUrl",void 0),B([P(5)],e.prototype,"height",void 0),B([P(!1)],e.prototype,"isFilled",void 0),B([P(5)],e.prototype,"width",void 0),B([ae({width:2,color:null},ar)],e.prototype,"border",void 0),B([ae({x:0,y:0},el)],e.prototype,"offset",void 0),B([P(null)],e.prototype,"fill",void 0),B([P(!0)],e.prototype,"allowHighlight",void 0),B([P(1)],e.prototype,"opacity",void 0),B([ae({},uh)],e.prototype,"dataLabel",void 0),e}(yt),ch=function(n){Ht(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return B([P(null)],e.prototype,"fill",void 0),B([P(1)],e.prototype,"width",void 0),B([P("0")],e.prototype,"dashArray",void 0),B([ae(null,zn)],e.prototype,"marker",void 0),B([P(!0)],e.prototype,"showAxis",void 0),e}(yt),pn=function(){function n(){this.symbolLocations=null,this.regions=null,this.percentage=null,this.regionData=null,this.isSelect=!1,this.marker={visible:!1},this.isPointInRange=!0,this.verticalError=null,this.verticalNegativeError=null,this.horizontalError=null,this.horizontalNegativeError=null,this.verticalPositiveError=null,this.horizontalPositiveError=null}return n}(),fh=function(n){Ht(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.clipRect=new he(0,0,0,0),t}return e.prototype.setDataSource=function(t,i){t&&(this.points=t.points),i.trendLineModule.initDataSource(this),i.visibleSeriesCount++},B([P("")],e.prototype,"name",void 0),B([P("")],e.prototype,"dashArray",void 0),B([P(!0)],e.prototype,"visible",void 0),B([P("Linear")],e.prototype,"type",void 0),B([P(2)],e.prototype,"period",void 0),B([P(2)],e.prototype,"polynomialOrder",void 0),B([P(0)],e.prototype,"backwardForecast",void 0),B([P(0)],e.prototype,"forwardForecast",void 0),B([ae({},da)],e.prototype,"animation",void 0),B([ae({},zn)],e.prototype,"marker",void 0),B([P(!0)],e.prototype,"enableTooltip",void 0),B([P(null)],e.prototype,"intercept",void 0),B([P("")],e.prototype,"fill",void 0),B([P(1)],e.prototype,"width",void 0),B([P("SeriesType")],e.prototype,"legendShape",void 0),e}(yt),dh=function(n){Ht(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return B([P(1)],e.prototype,"width",void 0),B([P(10)],e.prototype,"length",void 0),B([P(null)],e.prototype,"color",void 0),B([P(1)],e.prototype,"opacity",void 0),e}(yt),ph=function(n){Ht(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return B([P(null)],e.prototype,"value",void 0),B([P(null)],e.prototype,"color",void 0),B([P("0")],e.prototype,"dashArray",void 0),e}(yt),gh=function(n){Ht(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return B([P(!1)],e.prototype,"visible",void 0),B([P("Fixed")],e.prototype,"type",void 0),B([P("Both")],e.prototype,"direction",void 0),B([P("Vertical")],e.prototype,"mode",void 0),B([P(null)],e.prototype,"color",void 0),B([P(1)],e.prototype,"verticalError",void 0),B([P(1)],e.prototype,"width",void 0),B([P(1)],e.prototype,"horizontalError",void 0),B([P(3)],e.prototype,"verticalPositiveError",void 0),B([P(3)],e.prototype,"verticalNegativeError",void 0),B([P(1)],e.prototype,"horizontalPositiveError",void 0),B([P(1)],e.prototype,"horizontalNegativeError",void 0),B([ae(null,dh)],e.prototype,"errorBarCap",void 0),B([P("")],e.prototype,"errorBarColorMapping",void 0),e}(yt),Fa=function(n){Ht(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.rangeColorPoints=[],t.isAdvancedColor=void 0,t.currentViewData=[],t.clipRect=new he(0,0,0,0),t.seriesType="XY",t.isRectTypeSeries=!1,t.removedPointIndex=null,t.isLegendClicked=!1,t}return e.prototype.processJsonData=function(){var t=0,i=new pn,r=this instanceof Be&&this.type==="Histogram"?"x":this.xName,s=this instanceof Be&&this.marker.dataLabel.name?this.marker.dataLabel.name:"";this instanceof Be&&((this.type==="Waterfall"||this.type==="Histogram")&&(this.currentViewData=this.chart[Je(this.type)+"SeriesModule"].processInternalData(_e([],this.currentViewData,null,!0),this)),this.category==="Pareto"&&(this.currentViewData=_e([],this.currentViewData,null,!0),this.type==="Line"&&(this.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.currentViewData,this))),this.isRectTypeSeries=this.type.indexOf("Column")>-1||this.type.indexOf("Bar")>-1||this.type.indexOf("Histogram")>-1);var a=(this.currentViewData||[]).length;if(this.points=[],this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0,this.sizeMax=-1/0,this.getSeriesType(),this.xAxis.valueType==="Category")for(;t<a;)this.pushCategoryPoint(i,t,s,r),t++;else if(this.xAxis.valueType.indexOf("DateTime")>-1)for(var o={skeleton:"full",type:"dateTime"},l=this.chart.intl.getDateParser(o),h=this.chart.intl.getDateFormat(o);t<a;)this.pushDateTimePoint(i,t,s,r,l,h),t++;else for(;t<a;)this.pushDoublePoint(i,t,s,r),t++;this.updateSplineValue()},e.prototype.pushCategoryPoint=function(t,i,r,s){t=this.dataPoint(i,r,s),this.pushCategoryData(t,i,t.x),this.pushData(t,i),this.setEmptyPoint(t,i),this.rangeColorsInterior(t)},e.prototype.pushDoublePoint=function(t,i,r,s){t=this.dataPoint(i,r,s),t.xValue=t.x,this.pushData(t,i),this.setEmptyPoint(t,i)},e.prototype.pushDateTimePoint=function(t,i,r,s,a,o){t=this.dataPoint(i,r,s),!U(t.x)&&t.x!==""?(t.x=new Date(Er.parse.parseJson({val:t.x}).val),this.xAxis.valueType==="DateTime"?t.xValue=Date.parse(t.x.toString()):this.chart.isBlazor?this.pushCategoryData(t,i,Date.parse(t.x.toString()).toString()):this.pushCategoryData(t,i,Date.parse(a(o(t.x))).toString()),this.pushData(t,i),this.setEmptyPoint(t,i)):t.visible=!1},e.prototype.updateSplineValue=function(){if(this instanceof Be&&!(this.chart.stockChart&&this.xAxis.valueType==="DateTimeCategory")){if(this.type.indexOf("Spline")>-1||this.drawType.indexOf("Spline")>-1&&this.chart.chartAreaType==="PolarRadar"){var t=this.type.indexOf("Area")>-1||this.drawType.indexOf("Area")>-1,i=this.type.indexOf("Range")>-1;this.chart["spline"+(t?i?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(this)}else this.type.indexOf("Histogram")>-1&&(this.xAxis.maximum||this.xAxis.minimum)&&this.chart.histogramSeriesModule.calculateBinValues(this);this.type.indexOf("Histogram")>-1&&this.points.length===1&&(this.xMin=this.xMin-this.histogramValues.binWidth,this.xMax=this.xMax+this.histogramValues.binWidth)}},e.prototype.rangeColorsInterior=function(t){this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0&&this.chart.visibleSeries.length===1&&(this.chart.series[0].type==="Column"||this.chart.series[0].type==="Bar"||this.chart.series[0].type==="Scatter"||this.chart.series[0].type==="Bubble")&&(this.rangeColorPoints[t.interior]?this.rangeColorPoints[t.interior]!==void 0&&this.rangeColorPoints[t.interior].push(t):this.rangeColorPoints[t.interior]=[])},e.prototype.pushData=function(t,i){t.index=i,t.yValue=t.y,t.series=this,this.xMin=Math.min(this.xMin,t.xValue),this.xMax=Math.max(this.xMax,t.xValue),this.xData.push(t.xValue)},e.prototype.dataPoint=function(t,i,r){this.points[t]=new pn;var s=this.points[t],a=this.currentViewData[t],o=this.enableComplexProperty?sr:this.getObjectValue;return s.x=o(r,a),s.high=o(this.high,a),s.low=o(this.low,a),s.open=o(this.open,a),s.close=o(this.close,a),s.volume=o(this.volume,a),s.interior=o(this.pointColorMapping,a),this instanceof Be&&(this.errorBar.visible&&(s.errorBarColor=o(this.errorBar.errorBarColorMapping,a),s.verticalError=typeof this.errorBar.verticalError=="string"?o(this.errorBar.verticalError,a):this.errorBar.verticalError,s.horizontalError=typeof this.errorBar.horizontalError=="string"?o(this.errorBar.horizontalError,a):this.errorBar.horizontalError,s.verticalNegativeError=typeof this.errorBar.verticalNegativeError=="string"?o(this.errorBar.verticalNegativeError,a):this.errorBar.verticalNegativeError,s.verticalPositiveError=typeof this.errorBar.verticalPositiveError=="string"?o(this.errorBar.verticalPositiveError,a):this.errorBar.verticalPositiveError,s.horizontalNegativeError=typeof this.errorBar.horizontalNegativeError=="string"?o(this.errorBar.horizontalNegativeError,a):this.errorBar.horizontalNegativeError,s.horizontalPositiveError=typeof this.errorBar.horizontalPositiveError=="string"?o(this.errorBar.horizontalPositiveError,a):this.errorBar.horizontalPositiveError),s.y=o(this.yName,a),s.size=o(this.size,a),s.text=o(i,a),s.tooltip=o(this.tooltipMappingName,a),this.isAdvancedColorSupported()&&(this.rangeColorName=this.colorName.length>0?this.colorName:this.yName,s.colorValue=o(this.rangeColorName,a),s.interior=this.getPointFillColor(s.interior,s.colorValue))),s},e.prototype.isAdvancedColorSupported=function(){return U(this.isAdvancedColor)&&(this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0&&(this.chart.series[0].type==="Column"||this.chart.series[0].type==="Bar"||this.chart.series[0].type==="Scatter"||this.chart.series[0].type==="Bubble")?this.isAdvancedColor=!0:this.isAdvancedColor=!1),this.isAdvancedColor},e.prototype.getPointFillColor=function(t,i){var r=t;if(i&&this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0)for(var s=0,a=this.chart.rangeColorSettings;s<a.length;s++){var o=a[s];i>=o.start&&i<=o.end&&(o.colors.length>1?r=tl(o,i):r=o.colors[0])}return r},e.prototype.getObjectValue=function(t,i){return i[t]},e.prototype.setEmptyPoint=function(t,i){if(!this.findVisibility(t))return t.visible=!0,null;t.isEmpty=!0;var r=this instanceof Be&&t.isPointInRange?this.emptyPointSettings.mode:"Drop";switch(r){case"Zero":t.visible=!0,this instanceof Be&&this.seriesType.indexOf("HighLow")>-1?(t.high=t.low=0,this.seriesType.indexOf("HighLowOpenClose")>-1&&(t.open=t.close=0)):t.y=t.yValue=this.yData[i]=0;break;case"Average":this instanceof Be&&(this.seriesType.indexOf("HighLow")>-1?(t.high=U(t.high)||isNaN(+t.high)?this.getAverage(this.high,i):t.high,t.low=U(t.low)||isNaN(+t.low)?this.getAverage(this.low,i):t.low,this.seriesType.indexOf("HighLowOpenClose")>-1&&(t.open=U(t.open)||isNaN(+t.open)?this.getAverage(this.open,i):t.open,t.close=U(t.close)||isNaN(+t.close)?this.getAverage(this.close,i):t.close)):t.y=t.yValue=this.yData[i]=this.getAverage(this.yName,i)),t.visible=!0;break;case"Drop":case"Gap":this.yData[i]=null,t.visible=!1;break}},e.prototype.findVisibility=function(t){var i=this instanceof Be?this.seriesType:"HighLowOpenClose",r,s=this.yAxis.minimum,a=this.yAxis.maximum;switch(i){case"XY":return this.chart.chartAreaType==="PolarRadar"&&(!U(s)&&t.yValue<s||!U(a)&&t.yValue>a)?(t.isPointInRange=!1,!0):(this.setXYMinMax(t.yValue),this.yData.push(t.yValue),this instanceof Be&&this.type==="Bubble"&&(this.sizeMax=Math.max(this.sizeMax,U(t.size)||isNaN(+t.size)?this.sizeMax:t.size)),U(t.x)||U(t.y)||isNaN(+t.y));case"HighLow":return this.setHiloMinMax(t.high,t.low),U(t.x)||U(t.low)||isNaN(+t.low)||U(t.high)||isNaN(+t.high);case"HighLowOpenClose":return this.setHiloMinMax(t.high,t.low),U(t.x)||U(t.low)||isNaN(+t.low)||U(t.open)||isNaN(+t.open)||U(t.close)||isNaN(+t.close)||U(t.high)||isNaN(+t.high);case"BoxPlot":return r=(t.y||[null]).filter(function(o){return!U(o)&&!isNaN(o)}).sort(function(o,l){return o-l}),t.y=r,this.yMin=Math.min(this.yMin,Math.min.apply(Math,r)),this.yMax=Math.max(this.yMax,Math.max.apply(Math,r)),!r.length}},e.prototype.setXYMinMax=function(t){var i=this.yAxis.valueType==="Logarithmic"||this.xAxis.valueType==="Logarithmic",r=t<0||this.yAxis.rangePadding==="None",s;this.isRectTypeSeries&&!ft(this.yAxis)?s=i||r?t:0:s=t,this.yMin=i?Math.min(this.yMin,U(s)||isNaN(s)||s===0||s.toString()==="0"||s.toString()===""?this.yMin:s):Math.min(this.yMin,U(s)||isNaN(s)?this.yMin:s),this.yMax=Math.max(this.yMax,U(t)||isNaN(t)?this.yMax:t)},e.prototype.setHiloMinMax=function(t,i){this.yMin=Math.min(this.yMin,Math.min(U(i)||isNaN(i)?this.yMin:i,U(t)||isNaN(t)?this.yMin:t)),this.yMax=Math.max(this.yMax,Math.max(U(i)||isNaN(i)?this.yMax:i,U(t)||isNaN(t)?this.yMax:t))},e.prototype.getSeriesType=function(){var t;if(this instanceof Be){var i=this.chart.chartAreaType==="PolarRadar"?this.drawType:this.type;if(i)switch(i){case"RangeColumn":case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"Hilo":t="HighLow";break;case"HiloOpenClose":case"Candle":t="HighLowOpenClose";break;case"BoxAndWhisker":t="BoxPlot";break;default:t="XY"}}this.seriesType=t},e.prototype.pushCategoryData=function(t,i,r){if(!this.chart.tooltip.shared&&!this.visible)return null;this.xAxis.isIndexed?(this.xAxis.labels[i]?this.xAxis.labels[i]+=", "+r:this.xAxis.labels.push(r),t.xValue=i):(this.xAxis.indexLabels[r]===void 0&&(this.xAxis.indexLabels[r]=this.xAxis.labels.length,this.xAxis.labels.push(r)),t.xValue=this.xAxis.indexLabels[r])},e.prototype.getAverage=function(t,i,r){r===void 0&&(r=this.currentViewData);var s=r[i-1]&&r[i-1][t]||0,a=r[i+1]&&r[i+1][t]||0;return(s+a)/2},e.prototype.refreshDataManager=function(t){var i=this;this.chart=t;var r,s="isAngular";if(t[s]?r=Object.keys(this.dataSource).length?this.dataSource:t.dataSource:r=this.dataSource||t.dataSource,!(r instanceof il)&&U(this.query)){this.dataManagerSuccess({result:r,count:r.length},!1);return}var a=this.dataModule.getData(this.dataModule.generateQuery().requiresCount());a.then(function(o){return i.dataManagerSuccess(o)})},e.prototype.dataManagerSuccess=function(t,i){if(i===void 0&&(i=!0),this.currentViewData=t.count?t.result:[],this.chart.allowServerDataBinding=!1,this instanceof Be){this.chart.stockChart&&(this.chart.stockChart.series[this.index].localData=this.currentViewData);var r={name:ts,series:this,data:this.currentViewData,fill:this.interior};this.chart.trigger(ts,r),this.interior=r.fill,this.currentViewData=r.data}this.chart.stockChart&&!(this instanceof Be)&&(this.currentViewData=this.chart.stockChart.findCurrentData(this.chart.stockChart.series[0].localData,this.chart.stockChart.series[0].xName)),this.processJsonData(),this.recordsCount=t.count,this.refreshChart(i),this.currentViewData=null},e.prototype.refreshChart=function(t){var i=this.chart;if(this instanceof Be&&(i.visibleSeriesCount+=t?1:0),i.refreshTechnicalIndicator(this),this instanceof Be&&this.category!=="TrendLine")for(var r=0,s=this.trendlines;r<s.length;r++){var a=s[r];a.setDataSource(this,i)}i.visibleSeries.length===i.visibleSeriesCount&&(i.refreshBound(),i.trigger("loaded",{chart:i.isBlazor?{}:i}),this.chart.stockChart&&this.chart.stockChart.initialRender&&(this.chart.stockChart.initialRender=!1,this.chart.stockChart.stockChartDataManagerSuccess())),this instanceof Be&&(i.visibleSeriesCount+=t?0:1)},B([P("")],e.prototype,"xName",void 0),B([P("")],e.prototype,"colorName",void 0),B([P("")],e.prototype,"high",void 0),B([P("")],e.prototype,"low",void 0),B([P("")],e.prototype,"open",void 0),B([P("")],e.prototype,"close",void 0),B([P("")],e.prototype,"volume",void 0),B([P("")],e.prototype,"pointColorMapping",void 0),B([P(!0)],e.prototype,"visible",void 0),B([P(null)],e.prototype,"xAxisName",void 0),B([P(null)],e.prototype,"yAxisName",void 0),B([ae(null,da)],e.prototype,"animation",void 0),B([P(null)],e.prototype,"fill",void 0),B([P(1)],e.prototype,"width",void 0),B([P("")],e.prototype,"dashArray",void 0),B([P("")],e.prototype,"dataSource",void 0),B([P()],e.prototype,"query",void 0),B([St([],ph)],e.prototype,"segments",void 0),B([P("X")],e.prototype,"segmentAxis",void 0),B([P(!1)],e.prototype,"enableComplexProperty",void 0),e}(yt),Be=function(n){Ht(e,n);function e(t,i,r,s){var a=n.call(this,t,i,r,s)||this;return a.visibleSeriesCount=0,a.category="Series",a.isRectSeries=!1,a.drawPoints=[],a.lowDrawPoints=[],a.delayedAnimation=!1,a.rangeColorName=a.colorName.length>0?a.colorName:a.yName,a.currentData=[],a}return e.prototype.refreshAxisLabel=function(){if(this.xAxis.valueType.indexOf("Category")===-1)return null;this.xAxis.labels=[],this.xAxis.indexLabels={};for(var t={skeleton:"full",type:"dateTime"},i=this.chart.intl.getDateParser(t),r=this.chart.intl.getDateFormat(t),s=0,a=this.xAxis.series;s<a.length;s++){var o=a[s];if(o.visible&&o.category!=="TrendLine"){o.xMin=1/0,o.xMax=-1/0;for(var l=0,h=o.points;l<h.length;l++){var u=h[l];o.pushCategoryData(u,u.index,this.xAxis.valueType==="DateTimeCategory"?Date.parse(i(r(u.x))).toString():u.x),o.xMin=Math.min(o.xMin,u.xValue),o.xMax=Math.max(o.xMax,u.xValue)}}}},e.prototype.findSeriesCollection=function(t,i,r){for(var s=[],a=0,o=i.axes;a<o.length;a++)for(var l=o[a],h=0,u=l.series;h<u.length;h++)for(var c=u[h],f=0,d=t.axes;f<d.length;f++)for(var g=d[f],p=0,b=g.series;p<b.length;p++){var y=b[p];y===c&&y.visible&&this.rectSeriesInChart(y,r)&&s.push(y)}return s},e.prototype.rectSeriesInChart=function(t,i){var r=t.type.toLowerCase();return r.indexOf("column")!==-1||r.indexOf("bar")!==-1||r.indexOf("histogram")!==-1||r.indexOf("hiloopenclose")!==-1||r.indexOf("candle")!==-1||r.indexOf("pareto")!==-1||r.indexOf("hilo")!==-1||t.drawType.indexOf("Column")!==-1||r.indexOf("waterfall")!==-1||r.indexOf("boxandwhisker")!==-1||i},e.prototype.calculateStackedValue=function(t,i){for(var r=0,s=i.columns;r<s.length;r++)for(var a=s[r],o=0,l=i.rows;o<l.length;o++){var h=l[o];this.calculateStackingValues(this.findSeriesCollection(a,h,!0),t)}},e.prototype.calculateStackingValues=function(t,i){var r,s,a=[],o=[],l=[],h,u,c,f=[];i&&(f=this.findFrequencies(t));for(var d=[],g=[],p=0;p<t.length;p++){var b=t[p];d[b.stackingGroup]?d[b.stackingGroup]!==void 0&&d[b.stackingGroup].push(b):(d[b.stackingGroup]=[],d[b.stackingGroup].push(b))}for(var y=Object.keys(d),T=0;T<y.length;T++){for(var w=[],E=[],S=d[y[T]],L=0,M=S;L<M.length;L++){var b=M[L];if(b.type.indexOf("Stacking")!==-1||b.drawType.indexOf("Stacking")!==-1&&b.chart.chartAreaType==="PolarRadar"){h=b.type.indexOf("StackingArea")!==-1?"StackingArea100":b.type.indexOf("StackingLine")!==-1?"StackingLine100":b.stackingGroup,o[h]||(o[h]=[],l[h]=[]),a=b.yData,r=[],s=[],w.push(b),g=Ci(b);for(var O=0,_=g.length;O<_;O++)u=0,c=+a[O],o[h][g[O].xValue]===void 0&&(o[h][g[O].xValue]=0),l[h][g[O].xValue]===void 0&&(l[h][g[O].xValue]=0),i?(c=c/f[h][g[O].xValue]*100,c=isNaN(c)?0:c,g[O].percentage=+c.toFixed(2)):E[O]=E[O]?E[O]+Math.abs(c):Math.abs(c),c>=0?(u=o[h][g[O].xValue],o[h][g[O].xValue]+=c):(u=l[h][g[O].xValue],l[h][g[O].xValue]+=c),r.push(u),s.push(c+u),i&&s[O]>100&&(s[O]=100);b.stackedValues=new rl(r,s);var R=b.yAxis.valueType==="Logarithmic",z=b.type.indexOf("Column")!==-1||b.type.indexOf("Bar")!==-1;b.yMin=R&&z&&b.yMin<1?b.yMin:b.yAxis.startFromZero&&b.yAxis.rangePadding==="Auto"&&b.yMin>=0?0:parseFloat(Math.min.apply(0,i?r:s).toFixed(10)),b.yMax=Math.max.apply(0,s),b.yMin>Math.min.apply(0,s)&&(b.yMin=i?-100:R&&z&&b.yMin<1?b.yMin:Math.min.apply(0,s)),b.yMax<Math.max.apply(0,r)&&(b.yMax=0)}}this.findPercentageOfStacking(w,E,i)}},e.prototype.findPercentageOfStacking=function(t,i,r){for(var s=0,a=t;s<a.length;s++){var o=a[s];if(r)return null;for(var l=0,h=Ci(o);l<h.length;l++){var u=h[l];u.percentage=Math.abs(+(u.y/i[u.index]*100).toFixed(2))}}},e.prototype.findFrequencies=function(t){for(var i=[],r,s=[],a=0,o=t;a<o.length;a++){var l=o[a];if(l.yAxis.isStack100=l.type.indexOf("100")!==-1,s=Ci(l),l.type.indexOf("Stacking")!==-1){r=l.type.indexOf("StackingArea")!==-1?"StackingArea100":l.type.indexOf("StackingLine")!==-1?"StackingLine100":l.stackingGroup,i[r]||(i[r]=[]);for(var h=0,u=s.length;h<u;h++)i[r][s[h].xValue]===void 0&&(i[r][s[h].xValue]=0),l.yData[h]>0?i[r][s[h].xValue]+=l.yData[h]:i[r][s[h].xValue]-=l.yData[h]}}return i},e.prototype.renderSeries=function(t){if(this.chart.stockChart&&this.xAxis.valueType==="DateTimeCategory"){for(var i=0;i<this.points.length;i++){var r=this.xAxis.labels.indexOf(Date.parse(this.points[i].x.toString()).toString());this.points[i].xValue=r,t.series.length>1&&(this.xData[i]=r,this.xMin=this.xMin>r?r:this.xMin,this.xMax=this.xMax<r?r:this.xMax)}if(this instanceof e&&this.type.indexOf("Spline")>-1){var s=this.type.indexOf("Area")>-1,a=this.type.indexOf("Range")>-1;this.chart["spline"+(s?a?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(this)}}var o=Je(this.type);o=o.replace("100",""),t[o+"SeriesModule"]&&(this.category!=="Indicator"&&this.category!=="TrendLine"&&this.createSeriesElements(t),this.visiblePoints=Ci(this),this.chart.enableCanvas?(this.chart.canvasRender.ctx.save(),this.chart.canvasRender.ctx.beginPath(),t.requireInvertedAxis?this.chart.canvasRender.ctx.rect(this.yAxis.rect.x,this.xAxis.rect.y,this.yAxis.rect.width,this.xAxis.rect.height):this.chart.canvasRender.ctx.rect(this.xAxis.rect.x,this.yAxis.rect.y,this.xAxis.rect.width,this.yAxis.rect.height),this.chart.canvasRender.ctx.clip(),t[o+"SeriesModule"].render(this,this.xAxis,this.yAxis,t.requireInvertedAxis),this.chart.canvasRender.ctx.restore()):t[o+"SeriesModule"].render(this,this.xAxis,this.yAxis,t.requireInvertedAxis),this.category!=="Indicator"&&(this.errorBar.visible&&this.chart.errorBarModule.render(this),this.marker.dataLabel.visible&&(this.chart.enableCanvas?(this.chart.canvasRender.ctx.save(),this.chart.canvasRender.ctx.beginPath(),t.requireInvertedAxis?this.chart.canvasRender.ctx.rect(this.yAxis.rect.x,this.xAxis.rect.y,this.yAxis.rect.width,this.xAxis.rect.height):this.chart.canvasRender.ctx.rect(this.xAxis.rect.x,this.yAxis.rect.y,this.xAxis.rect.width,this.yAxis.rect.height),this.chart.canvasRender.ctx.clip(),t.dataLabelModule.render(this,this.chart,this.marker.dataLabel),this.chart.canvasRender.ctx.restore()):t.dataLabelModule.render(this,this.chart,this.marker.dataLabel)),this.appendSeriesElement(t.seriesElements,t)),this.chart.enableCanvas||this.performAnimation(t,o,this.errorBar,this.marker,this.marker.dataLabel))},e.prototype.createSeriesElements=function(t){if(this.category!=="Indicator"){var i=t.element.id,r=this.marker.border.width+8+5,s=this.type==="Bubble"||!this.marker.visible&&t.tooltip.shared&&t.enableCanvas?t.svgRenderer:t.renderer,a=this.index===void 0?this.category:this.index,o=void 0,l=void 0,h=void 0;if(this.type==="Scatter"||this.drawType==="Scatter"?(o=(this.marker.height+r)/2,l=(this.marker.width+r)/2):(o=0,l=0),t.chartAreaType==="PolarRadar"){var u=this.drawType==="Scatter"?Math.max(this.marker.width,this.marker.height):0;h=new pa(i+"_ChartSeriesClipRect_"+a,"transparent",{width:1,color:"Gray"},1,this.clipRect.width/2+this.clipRect.x,this.clipRect.height/2+this.clipRect.y,t.radius+u),this.clipRectElement=Ii(t.redraw,h,s,"drawCircularClipPath")}else h=new hi(i+"_ChartSeriesClipRect_"+a,"transparent",{width:1,color:"Gray"},1,{x:this.xAxis.columnIndex===0?-l:0,y:this.yAxis.rowIndex===t.rows.length-1?-o:0,width:this.clipRect.width+(this.xAxis.columnIndex===t.columns.length-1?l*2:l),height:this.clipRect.height+(this.yAxis.rowIndex===0?o*2:o)}),this.clipRectElement=Ii(t.redraw,h,s);var c=t.chartAreaType==="Cartesian"?"translate("+this.clipRect.x+","+this.clipRect.y+")":"";this.symbolElement=null,this.seriesElement=s.createGroup({id:i+"SeriesGroup"+a,transform:c,"clip-path":"url(#"+i+"_ChartSeriesClipRect_"+a+")"}),this.seriesElement&&(this.seriesElement.setAttribute("role","region"),this.seriesElement.setAttribute("aria-label",this.name+","+this.type+" series with "+this.points.length+" data points"),this.seriesElement.setAttribute("aria-hidden","false")),(!this.chart.enableCanvas||this.type==="Bubble")&&(this.seriesElement.setAttribute("tabindex",a===0?"0":this.checkTabindex(t.visibleSeries,a)?"":"0"),this.seriesElement.setAttribute("style","outline: none"),this.seriesElement.appendChild(this.clipRectElement))}},e.prototype.checkTabindex=function(t,i){for(var r=0;r<i;r++)if(t[r].visible)return!0;return!1},e.prototype.appendSeriesElement=function(t,i){var r=this.marker,s=r.dataLabel,a=i.redraw;if(this.category!=="TrendLine"){te(i.enableCanvas,i.seriesElements,this.seriesElement,a);var o=this.errorBar;o.visible&&(i.chartAreaType==="PolarRadar"?te(i.enableCanvas,i.seriesElements,this.seriesElement,a):te(i.enableCanvas,i.seriesElements,this.errorBarElement,a))}r.visible&&(i.chartAreaType==="Cartesian"||this.drawType!=="Scatter"&&i.chartAreaType==="PolarRadar")&&this.type!=="Scatter"&&this.type!=="Bubble"&&this.type!=="Candle"&&this.type!=="Hilo"&&this.type!=="HiloOpenClose"&&this.symbolElement&&te(i.enableCanvas,i.seriesElements,this.symbolElement,a),s.visible&&this.textElement&&(te(i.enableCanvas,i.dataLabelElements,this.shapeElement,a),te(i.enableCanvas,i.dataLabelElements,this.textElement,a)),!i.enableCanvas&&i.dataLabelElements.hasChildNodes()&&i.seriesElements.appendChild(i.dataLabelElements)},e.prototype.performAnimation=function(t,i,r,s,a){(this.animation.enable&&ki!=="Disable"||ki==="Enable")&&t.animateSeries&&(!t.stockChart||!t.stockChart.isStockChartRendered)&&(t[i+"SeriesModule"].doAnimation(this),r.visible&&t.errorBarModule.doErrorBarAnimation(this),s.visible&&(this.isRectSeries||this.type==="Line"||this.type==="Polar"||this.type==="Radar")&&t.markerRender.doMarkerAnimation(this),a.visible&&se.info.name!=="edge"&&!se.isIE&&t.dataLabelModule.doDataLabelAnimation(this))},e.prototype.setPointColor=function(t,i){return i=t.interior||i,t.isEmpty&&this.emptyPointSettings.fill||i},e.prototype.setBorderColor=function(t,i){return i.width=t.isEmpty&&this.emptyPointSettings.border.width||i.width,i.color=t.isEmpty&&this.emptyPointSettings.border.color||i.color,i},e.prototype.addPoint=function(t,i){var r=this.yMin,s=this.yMax;if(this.removeTrackballElements(),this.dataSource.push(t),this.type==="Radar"||this.type==="Polar")return this.chart.refresh();if(this.type==="Histogram"){this.currentViewData=this.chart[Je(this.type)+"SeriesModule"].processInternalData(_e([],this.dataSource,null,!0),this);for(var a=0;a<this.currentViewData.length;a++)this.updatePoint(a)}else{this.currentViewData=this.dataSource;var o=this.points.length===0?0:this.points[this.points.length-1].index+1;this.updatePoint(o)}if(this.category==="Pareto"){var l=_e([],this.dataSource,null,!0),h=this.chart.visibleSeries[this.index+this.chart.series.length];h.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(l,this);for(var a=0;a<h.currentViewData.length;a++)h.points[a]||h.updatePoint(a),h.points[a].y=h.points[a].yValue=h.currentViewData[a][h.yName]}this.updateSplineValue(),this.chart.calculateStackValues(),this.chart.redraw=this.chart.enableAnimation;var u=this.chart.duration;if(this.chart.duration=U(i)?500:i,this.chart.animateSeries=!1,this.chart.pointsAdded=!0,this.chart.enableAnimation&&!(this.isRectSeries||this.type==="Bubble"||this.type==="Scatter")&&this.type.indexOf("step")===-1&&this.marker&&this.marker.visible&&this.visible){for(var a=this.points.length-2;a>=0;a--)if(this.points[a]&&this.points[a].symbolLocations[0]!==void 0){this.chart.markerRender.renderMarker(this,this.points[this.points.length-2],this.points[a].symbolLocations[0],null,!0);break}}this.yMin>=r&&this.yMax<=s&&(ft(this.xAxis)||(this.xAxis.baseModule.calculateRangeAndInterval(new lt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis()),this.chart.pointsAdded=!1,this.updateSeries(!0,!1)),(this.yMin<r||this.yMax>s)&&(this.updateChartAxis(),this.chart.pointsAdded=!1,this.updateSeries(!0,!0)),this.chart.redraw=!1,this.chart.duration=u},e.prototype.removePoint=function(t,i){var r=_e([],this.dataSource,null,!0),s=this.chart.duration;if(r.length>0&&t>=0&&t<r.length){if(r.splice(t,1),this.dataSource.splice(t,1),this.removeTrackballElements(t),this.type==="Radar"||this.type==="Polar")return this.chart.refresh();if(this.chart.redraw=this.chart.enableAnimation,this.chart.animateSeries=!1,this.chart.pointsAdded=!0,this.chart.duration=U(i)?500:i,this.type==="Histogram"){var a=this.points.length;this.points=[],this.visiblePoints=[],this.currentViewData=this.chart[Je(this.type)+"SeriesModule"].processInternalData(_e([],this.dataSource,null,!0),this);for(var o=0;o<this.currentViewData.length;o++)this.updatePoint(o);a>this.points.length&&(this.removedPointIndex=t)}else this.removedPointIndex=t,this.points.splice(t,1),this.visiblePoints.splice(t,1);this.yData=[],this.xData=[];var l=this.yMin,h=this.yMax;this.yMin=1/0,this.xMin=1/0,this.yMax=-1/0,this.xMax=-1/0,this.xAxis.valueType.indexOf("Category")>-1&&this.chart.series.length===1&&(this.xAxis.labels=[],this.xAxis.indexLabels={}),t===0&&(this.chart.pointsRemoved=this.chart.enableAnimation);for(var o=0;o<this.points.length;o++)this.updatePointsAfterRemoval(o);if(this.category==="Pareto"){var u=this.chart.visibleSeries[this.index+this.chart.series.length];u.yMin=1/0,u.xMin=1/0,u.yMax=-1/0,u.xMax=-1/0,u.points.splice(t,1),u.visiblePoints.splice(t,1),u.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.dataSource,this);for(var o=0;o<u.currentViewData.length;o++)u.points[o].y=u.points[o].yValue=u.currentViewData[o][u.yName],u.updatePointsAfterRemoval(o)}this.updateSplineValue(),this.chart.calculateStackValues(),!ft(this.xAxis)&&h===this.yMax&&l===this.yMin?(this.xAxis.baseModule.calculateRangeAndInterval(new lt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis(),this.createSeriesElements(this.chart),this.chart.pointsAdded=!1,this.updateSeries(!0,!1)):(h<this.yMax||l>this.yMin||h>this.yMax||l<this.yMin)&&(this.updateChartAxis(),this.createSeriesElements(this.chart),this.chart.pointsAdded=!1,this.updateSeries(!0,!0))}te(this.chart.enableCanvas,this.chart.seriesElements,this.seriesElement,!0),this.chart.redraw=!1,this.chart.duration=s,this.chart.pointsRemoved=!1,this.removedPointIndex=null},e.prototype.updatePointsAfterRemoval=function(t){var i=this.points[t],r={skeleton:"full",type:"dateTime"},s=this.chart.intl.getDateParser(r),a=this.chart.intl.getDateFormat(r);this.xAxis.valueType==="Category"&&this.chart.series.length===1?this.pushCategoryData(i,t,i.x):this.xAxis.valueType==="DateTimeCategory"&&this.chart.series.length===1&&this.pushCategoryData(i,t,Date.parse(s(a(i.x))).toString()),this.pushData(i,t),this.setEmptyPoint(this.points[t],t)},e.prototype.removeTrackballElements=function(t){if(this.marker.visible)if(t!==void 0){var i=this.chart.element.id+"_Series_"+this.index+"_Point_"+t+"_Trackball_",r=G(i+"0");r&&r.remove();var s=G(i+"1");s&&s.remove();var a=G(this.chart.element.id+"_Series_"+this.index+"_Point_"+t+"_Symbol");a&&a.setAttribute("visibility","visible")}else{var o=this.chart.element.id+"_EJ2-Trackball_Series_"+this.index+"_Point_",l=document.querySelectorAll('[class*="'+o+'"]');if(l[0]){var h=l[0].id.match(/_Point_(\d+)_/),u=h?parseInt(h[1],10):null;l[0].remove();var a=G(this.chart.element.id+"_Series_"+this.index+"_Point_"+u+"_Symbol");a&&a.setAttribute("visibility","visible")}l[1]&&l[1].remove()}if(this.chart.tooltip.enable){this.chart.tooltipModule.previousPoints=[];var c=G(this.chart.element.id+"_tooltip");c&&c.remove()}},e.prototype.setData=function(t,i){var r=this;if(!t)return null;var s=[];if(this.dataSource.length===t.length){for(var a=0;a<t.length;a++)if(t[a][this.xName]instanceof Date?s.push(t[a][this.xName].getTime()):s.push(t[a][this.xName]),this.currentData.length<this.dataSource.length){var o=_e([],this.dataSource,null,!0);o[a][this.xName]instanceof Date?this.currentData.push(o[a][this.xName].getTime()):this.currentData.push(o[a][this.xName])}}var l=s.every(function(O){return r.currentData.indexOf(O)!==-1});this.currentViewData&&(l=!0);var h=!1,u=this.yMin,c=this.yMax;this.yMin=1/0,this.yMax=-1/0;var f=[];this.chart.dataLabelCollections=[],this.chart.rotatedDataLabelCollections=[];var d=!1,g=null;if(this.dataSource.length===t.length&&!(this.type==="Radar"||this.type==="Polar")&&l)if(d=!0,this.yData=[],this.type==="Histogram"&&this.dataSource.length===t.length){var p=this.chart[Je(this.type)+"SeriesModule"].processInternalData(_e([],t,null,!0),this);this.currentViewData=p;for(var b=0;b<p.length;b++)this.updatePoint(b)}else for(var a=0;a<t.length;a++){var y=t[a][this.xName];this.dataSource[a][this.xName],t[a][this.xName]instanceof Date&&(y=t[a][this.xName].getTime(),this.dataSource[a][this.xName].getTime()),this.currentData[a]!==y&&(h=!0);var T=this.points[a],w=this.enableComplexProperty?sr:this.getObjectValue,E=this.dataSource[a],S=t[a];this.seriesType==="XY"||this.seriesType==="BoxPlot"?(T.y=w(this.yName,S),this.type==="Bubble"&&E[this.size]!==S[this.size]&&(T.size=w(this.size,S)),f.push(a)):(E[this.high]!==S[this.high]||E[this.low]!==S[this.low]||E[this.open]!==S[this.open]||E[this.close]!==S[this.close]||E[this.volume]!==S[this.volume])&&(T.high=w(this.high,S),T.low=w(this.low,S),T.open=w(this.open,S),T.close=w(this.close,S),T.volume=w(this.volume,S),f.push(a)),T.yValue=T.y,T.x=w(this.xName,S),this.currentViewData||(T.index=this.xAxis.valueType==="DateTime"&&typeof T.x!="number"?this.currentData.indexOf(T.x.getTime()):this.currentData.indexOf(T.x)),(this.xAxis.valueType==="Category"||this.xAxis.valueType==="DateTimeCategory")&&a<this.xAxis.visibleLabels.length&&(this.xAxis.visibleLabels[a].value=s.indexOf(this.currentData[a*this.xAxis.visibleRange.interval]),this.xAxis.labels[a]=String(s[a])),this.setEmptyPoint(T,a),this.dataSource[a]=t[a]}if(!d)this.dataSource=t;else{this.chart.redraw=this.chart.enableAnimation,this.chart.animateSeries=!1,this.chart.pointsAdded=!0;var L=this.chart.duration;if(this.chart.duration=U(i)?500:i,this.type.indexOf("Stacking")!==-1&&this.chart.calculateStackValues(),this.updateSplineValue(),c===this.yMax&&u===this.yMin&&this.visible)this.chart.pointsAdded=!1,this.chart[Je(this.category==="Pareto"?"Column":this.type.replace("100",""))+"SeriesModule"].updateDirection(this,f,this.chart.requireInvertedAxis),this.chart.annotationModule&&this.chart.annotationModule.renderAnnotations(G(this.chart.element.id+"_Secondary_Element")),!ft(this.xAxis)&&h&&this.xAxis.updateAxis();else if((c<this.yMax||u>this.yMin||c>this.yMax||u<this.yMin)&&this.visible){var M=this.yAxis.maxLabelSize.width;this.yAxis.baseModule.calculateRangeAndInterval(new lt(this.chart.availableSize.width,this.yAxis.rect.height),this.yAxis),M<this.yAxis.maxLabelSize.width?(this.chart.calculateBounds(),this.chart.axisCollections.forEach(function(O){ft(O)||O.updateAxis()}),this.chart.chartAxisLayoutPanel.drawPaneLines(this.chart),this.chart.renderAreaBorder()):(ft(this.yAxis)||this.yAxis.updateAxis(),!ft(this.xAxis)&&h&&this.xAxis.updateAxis(),this.type==="Histogram"&&!ft(this.xAxis)&&(this.xAxis.baseModule.calculateRangeAndInterval(new lt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis())),this.chart.pointsAdded=!1,h&&(this.chart[Je(this.category==="Pareto"?"Column":this.type.replace("100",""))+"SeriesModule"].updateDirection(this,f,this.chart.requireInvertedAxis),g=this.index),this.updateSeries(!1,!0,g),this.chart.stripLineModule&&this.chart.stripLineModule.renderStripLine(this.chart,"Behind",this.chart.axisCollections)}this.chart.redraw=!1,this.chart.pointsRemoved=!1,this.chart.duration=L}},e.prototype.updateChartAxis=function(){var t=this.yAxis.maxLabelSize.width;this.yAxis.baseModule.calculateRangeAndInterval(new lt(this.chart.availableSize.width,this.yAxis.rect.height),this.yAxis),t<this.yAxis.maxLabelSize.width?(this.chart.calculateBounds(),this.chart.axisCollections.forEach(function(i){ft(i)||i.updateAxis()}),this.chart.chartAxisLayoutPanel.drawPaneLines(this.chart),this.chart.renderAreaBorder()):(ft(this.xAxis)||(this.xAxis.baseModule.calculateRangeAndInterval(new lt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis()),ft(this.yAxis)||this.yAxis.updateAxis()),this.chart.stripLineModule&&this.chart.stripLineModule.renderStripLine(this.chart,"Behind",this.chart.axisCollections)},e.prototype.updateSeries=function(t,i,r){var s=[];if(t&&i){var a=new Set(this.xAxis.series.concat(this.yAxis.series));a.forEach(function(c){s.push(c)})}else s=t?this.xAxis.series.slice():this.yAxis.series.slice();for(var o=0,l=s;o<l.length;o++){var h=l[o];if(h.visible&&h.index!==r){cn(h,this.chart.enableCanvas);var u="translate("+this.clipRect.x+","+this.clipRect.y+")";h.seriesElement.setAttribute("transform",u),h.chart[Je(h.type.replace("100",""))+"SeriesModule"].render(h,h.xAxis,h.yAxis,h.chart.requireInvertedAxis,h.chart.enableAnimation),h.marker.visible&&h.chart.chartAreaType==="Cartesian"&&h.type!=="Scatter"&&h.type!=="Bubble"&&h.type!=="Candle"&&h.type!=="Hilo"&&h.type!=="HiloOpenClose"&&h.symbolElement&&(h.symbolElement.setAttribute("transform",u),te(h.chart.enableCanvas,h.chart.seriesElements,h.symbolElement,!0)),h.marker.dataLabel.visible&&h.chart.dataLabelModule&&(h.chart.dataLabelCollections=[],h.chart.dataLabelModule.render(h,h.chart,h.marker.dataLabel),h.textElement&&(h.shapeElement&&h.shapeElement.setAttribute("transform",u),te(h.chart.enableCanvas,h.chart.dataLabelElements,h.shapeElement,!0),h.textElement.setAttribute("transform",u),te(h.chart.enableCanvas,h.chart.dataLabelElements,h.textElement,!0))),h.chart.annotationModule&&h.chart.annotationModule.renderAnnotations(G(h.chart.element.id+"_Secondary_Element"))}}},e.prototype.updatePoint=function(t){var i=new pn,r=this instanceof e&&this.marker.dataLabel.name?this.marker.dataLabel.name:"",s=this instanceof e&&this.type==="Histogram"?"x":this.xName;if(this.xAxis.valueType==="Category")this.pushCategoryPoint(i,t,r,s);else if(this.xAxis.valueType.indexOf("DateTime")>-1){var a=this.points[t],o={skeleton:"full",type:"dateTime"},l=this.chart.intl.getDateParser(o),h=this.chart.intl.getDateFormat(o);this.pushDateTimePoint(a,t,r,s,l,h)}else this.pushDoublePoint(i,t,r,s)},B([P("")],e.prototype,"name",void 0),B([P("")],e.prototype,"yName",void 0),B([P("Line")],e.prototype,"drawType",void 0),B([P(!0)],e.prototype,"isClosed",void 0),B([P(null)],e.prototype,"bearFillColor",void 0),B([P(null)],e.prototype,"bullFillColor",void 0),B([P(!1)],e.prototype,"enableSolidCandles",void 0),B([P("")],e.prototype,"size",void 0),B([P(null)],e.prototype,"binInterval",void 0),B([P(!1)],e.prototype,"showNormalDistribution",void 0),B([P("")],e.prototype,"stackingGroup",void 0),B([ae({color:null,width:0},ar)],e.prototype,"border",void 0),B([P(1)],e.prototype,"opacity",void 0),B([P(0)],e.prototype,"zOrder",void 0),B([P("")],e.prototype,"groupName",void 0),B([P("Line")],e.prototype,"type",void 0),B([ae(null,gh)],e.prototype,"errorBar",void 0),B([ae(null,zn)],e.prototype,"marker",void 0),B([ae(null,ch)],e.prototype,"paretoOptions",void 0),B([ae({},nl)],e.prototype,"dragSettings",void 0),B([St([],fh)],e.prototype,"trendlines",void 0),B([P(!0)],e.prototype,"enableTooltip",void 0),B([P("")],e.prototype,"tooltipFormat",void 0),B([P("")],e.prototype,"tooltipMappingName",void 0),B([P("SeriesType")],e.prototype,"legendShape",void 0),B([P("")],e.prototype,"legendImageUrl",void 0),B([P(null)],e.prototype,"selectionStyle",void 0),B([P(null)],e.prototype,"unSelectedStyle",void 0),B([P(null)],e.prototype,"nonHighlightStyle",void 0),B([P(1)],e.prototype,"minRadius",void 0),B([P(3)],e.prototype,"maxRadius",void 0),B([P("Natural")],e.prototype,"splineType",void 0),B([P(.5)],e.prototype,"cardinalSplineTension",void 0),B([ae(null,sl)],e.prototype,"emptyPointSettings",void 0),B([P(!0)],e.prototype,"showMean",void 0),B([P("Normal")],e.prototype,"boxPlotMode",void 0),B([P(null)],e.prototype,"columnWidth",void 0),B([P(null)],e.prototype,"columnWidthInPixel",void 0),B([P("Rectangle")],e.prototype,"columnFacet",void 0),B([P(0)],e.prototype,"columnSpacing",void 0),B([P("#C64E4A")],e.prototype,"negativeFillColor",void 0),B([P("#4E81BC")],e.prototype,"summaryFillColor",void 0),B([P()],e.prototype,"intermediateSumIndexes",void 0),B([P()],e.prototype,"sumIndexes",void 0),B([P("Left")],e.prototype,"step",void 0),B([P(!1)],e.prototype,"noRisers",void 0),B([ae({color:"black",width:2},$i)],e.prototype,"connector",void 0),B([ae(null,al)],e.prototype,"cornerRadius",void 0),e}(Fa),mh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vh=function(n){mh(e,n);function e(t){var i=n.call(this,t)||this;return i.elementId=t.element.id,i.commonXvalues=[],i}return e.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(se.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(se.touchEndEvent,this.mouseUpHandler,this))},e.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(se.touchMoveEvent,this.mouseMoveHandler),this.chart.off(se.touchEndEvent,this.mouseUpHandler))},e.prototype.mouseUpHandler=function(){var t=this.chart;t.isTouch&&!t.crosshair.enable&&!this.isSelected(t)&&!(this.chart.zoomModule&&G(this.elementId+"_ZoomArea"))&&this.markerMove(!0)},e.prototype.mouseMoveHandler=function(){var t=this.chart;(t.highlightMode!=="None"||t.tooltip.enable)&&(!t.isTouch||t.startMove)&&!this.isSelected(t)&&!(this.chart.zoomModule&&G(this.elementId+"_ZoomArea"))&&this.markerMove(!1)},e.prototype.markerMove=function(t){var i=this,r=this.chart;this.currentPoints=[];var s,a,o,l;if(!r.tooltip.shared||!r.tooltip.enable)s=this.getData(),l=s.series,a=this.previousPoints[0],o=l&&(l.type==="Bubble"||l.drawType==="Scatter"||l.type==="Scatter"||l.type!=="Candle"&&l.type!=="Hilo"&&l.type!=="HiloOpenClose"&&l.marker.visible&&l.marker.width!==0&&l.marker.height!==0),s.lierIndex=this.lierIndex,s.point&&o&&(!a||a.point!==s.point||a&&a.lierIndex>3&&a.lierIndex!==this.lierIndex)&&this.currentPoints.push(s),s.point&&o&&r.isPointMouseDown&&this.currentPoints.push(s);else{if(!it(r.mouseX,r.mouseY,r.chartAxisLayoutPanel.seriesClipRect))return null;if(r.tooltip.enable){var h=r.chartAreaType==="PolarRadar"?this.getData():null;if(!this.chart.tooltip.showNearestPoint)this.currentPoints=this.chart.tooltipModule.currentPoints;else for(var u=0,c=r.visibleSeries;u<c.length;u++){var f=c[u];!f.enableTooltip||f.category==="Indicator"||(r.chartAreaType==="Cartesian"&&f.visible?s=this.getClosestX(r,f,this.commonXValue(this.chart.visibleSeries)):r.chartAreaType==="PolarRadar"&&f.visible&&h.point!==null&&(s=new ga(f.points[h.point.index],f)),s&&(this.currentPoints.push(s),s=null))}}}var d=this.previousPoints.length;if((this.currentPoints.length>0||d>0&&r.tooltip.shared)&&(d===0||r.isPointMouseDown||d>0&&(this.currentPoints.length===0||this.previousPoints[0].point!==this.currentPoints[0].point))){if(d>0)for(var g=0,p=this.previousPoints;g<p.length;g++){var b=p[g];U(b)||this.removeHighlightedMarker(b.series,b.point)}for(var y=function(L){(L&&L.point||l.type!=="Candle"&&l.type!=="Hilo"&&l.type!=="HiloOpenClose")&&(ol(T.markerExplode),T.isRemove=!0,L.point.symbolLocations.map(function(M,O){L.series.marker.allowHighlight&&(!L.series.isRectSeries||L.point.marker.visible)&&i.drawTrackBall(L.series,L.point,M,O)}))},T=this,w=0,E=this.currentPoints;w<E.length;w++){var S=E[w];y(S)}this.previousPoints=_e([],this.currentPoints,null,!0)}!r.tooltip.enable&&(this.currentPoints.length===0&&this.isRemove||t&&this.isRemove||!it(r.mouseX,r.mouseY,r.chartAxisLayoutPanel.seriesClipRect))&&(this.isRemove=!1,U(this.previousPoints[0])||(this.markerExplode=+setTimeout(function(){i.previousPoints[0]&&i.removeHighlightedMarker(i.previousPoints[0].series,i.previousPoints[0].point)},2e3))),this.currentPoints=[]},e.prototype.animationDuration=function(){var t=200;return this.chart.maxPointCount>100?t=10:this.chart.maxPointCount>50&&(t=100),t},e.prototype.drawTrackBall=function(t,i,r,s){var a=i.marker,o=t.marker,l=a.shape||o.shape||"Circle",h;if(l==="None"||l==="Image")return null;var u=t.symbolElement||t.seriesElement,c;this.chart.highlightModule&&this.chart.highlightMode!=="None"&&(c=this.chart.highlightModule.generateStyle(t)),this.chart.selectionModule&&this.chart.selectionMode!=="None"&&(c=this.chart.selectionModule.generateStyle(t));var f=this.elementId+"_Series_"+t.index+"_Point_"+i.index+"_Trackball"+(s||""),d=new lt((a.width||o.width)+3,(a.height||o.height)+3),g=a.border||t.border,p=t.type==="BoxAndWhisker"||t.type==="Bubble"||t.type==="Scatter",b=g.color&&g.color!=="transparent"?g.color:a.fill||i.interior||(p?i.color:t.interior),y=fn(tr(b)),T=a.border?a.border.width:o.border.width,w=t.chart.themeStyle.markerShadow||"rgba("+y.r+","+y.g+","+y.b+",0.2)",E=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+i.index+"_Symbol");if(U(E)||E.setAttribute("visibility","hidden"),this.chart.enableCanvas){var S=document.getElementById(this.chart.element.id+"_Secondary_Element");h=this.chart.svgRenderer.createSvg({id:this.chart.element.id+"_trackball_svg",width:this.chart.availableSize.width,height:this.chart.availableSize.height}),h.style.cssText="position: absolute; display:block; pointer-events: none",S.appendChild(h)}for(var L=0;L<2;L++){var M=new Bi(f+"_"+L,L?a.fill||i.color||(p?t.interior:"#ffffff"):"transparent",T+(L?0:8),L?b:w,a.opacity||o.opacity,t.marker.border.dashArray,""),O=ma(r,l,d,a.imageUrl,M,"",this.chart.svgRenderer,t.clipRect);O.setAttribute("class",this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index);var _=u.id.indexOf("Symbol")!==-1?"_Symbol":"",R=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+i.index+_);c!==""&&!U(c)&&!U(R)&&R.hasAttribute("class")&&c===R.getAttribute("class")&&O.classList.add(c),O.setAttribute("clip-path",u.getAttribute("clip-path")),O.setAttribute("transform",u.getAttribute("transform")),this.chart.enableCanvas?h.appendChild(O):this.chart.svgObject.appendChild(O)}this.doAnimation(t,i,!1)},e.prototype.doAnimation=function(t,i,r){r===void 0&&(r=!1);for(var s=this.animationDuration(),a=0,o=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index),l=0,h=o.length;l<h;l++)this.trackballAnimate(o[l],a,s,t,i.index,i.symbolLocations[0],!1,r)},e.prototype.trackballAnimate=function(t,i,r,s,a,o,l,h){var u=o.x,c=o.y,f=s.type!=="Polar"&&s.type!=="Radar"?s.clipRect.x:0,d=s.type!=="Polar"&&s.type!=="Radar"?s.clipRect.y:0,g=t.getAttribute("transform");new er({}).animate(t,{duration:r,delay:i,progress:function(p){p.timeStamp>p.delay&&(p.element.style.visibility="visible",t.setAttribute("transform","translate("+(u+f)+" "+(c+d)+") scale(1) translate("+-u+" "+-c+")"))},end:function(){t.style.visibility="",t.setAttribute("transform",g),!l&&a===s.points.length-1&&s.chart.trigger("animationComplete",{series:s.chart.isBlazor?{}:s}),h&&qe(t)}})},e.prototype.removeHighlightedMarker=function(t,i,r){if(t===void 0&&(t=null),i===void 0&&(i=null),r===void 0&&(r=!1),!U(t)&&!U(i)){var s=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+i.index+"_Symbol"),a=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index);if(a.length===0){var o=document.querySelectorAll('[class*="'+(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index)+'"]');o[1]&&o[1].remove(),o[0]&&o[0].remove()}for(var l=0,h=a.length;l<h;l++)qe(a[0]);U(s)||s.setAttribute("visibility","visible")}else for(var u=0,c=t.points;u<c.length;u++)for(var f=c[u],o=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+f.index),s=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+f.index+"_Symbol"),l=0,h=o.length;l<h;l++)U(s)||s.setAttribute("visibility","visible"),qe(o[0]);r&&(this.previousPoints=[])},e}(va),yh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Na=["Circle","Triangle","Diamond","Rectangle","Pentagon","InvertedTriangle","VerticalLine","Cross","Plus","HorizontalLine","Star"],bh=function(n){yh(e,n);function e(t){var i=n.call(this,t)||this;return i.addEventListener(),i}return e.prototype.render=function(t){var i=this,r=t.chart.redraw;this.createElement(t,r);for(var s=function(h){h.visible&&h.symbolLocations&&h.symbolLocations.length&&h.symbolLocations.map(function(u,c){t.marker.shape!=="None"&&i.renderMarker(t,h,u,c,r)})},a=0,o=t.points;a<o.length;a++){var l=o[a];s(l)}},e.prototype.renderMarker=function(t,i,r,s,a){var o=t.index===void 0?t.category:t.index,l=t.marker;t.marker.shape=t.marker.shape?t.marker.shape:Na[o%10];var h={color:l.border.color,width:l.border.width},u=l.border.color,c,f,d,g;r.x=r.x+l.offset.x,r.y=r.y-l.offset.y;var p=t.type==="BoxAndWhisker",b=l.fill||(p||t.marker.isFilled?i.interior||t.interior:"#ffffff"),y,T=p&&!this.chart.enableCanvas?ll(t.seriesElement.childNodes,"Series_"+t.index+"_Point_"+i.index):t.symbolElement;h.color=u||t.setPointColor(i,t.interior);var w=this.elementId+"_Series_"+o+"_Point_"+(t.removedPointIndex!==null&&t.removedPointIndex<=i.index||this.chart.pointsAdded?i.index+1:i.index)+"_Symbol"+(s||""),E={cancel:!1,name:Lr,series:t,point:i,fill:i.isEmpty&&t.emptyPointSettings.fill||b,border:{color:t.type==="BoxAndWhisker"?!U(u)&&u!=="transparent"?u:hl(b,-.6):h.color,width:h.width},height:l.height,width:l.width,shape:l.shape};if(E.border=t.setBorderColor(i,{width:E.border.width,color:E.border.color}),(!t.isRectSeries||t.type==="BoxAndWhisker")&&(this.chart.trigger(Lr,E),i.color=E.fill),i.color=E.fill,E.cancel)r=null,i.marker={visible:!1};else{var S=void 0;t.type==="RangeArea"||t.type==="RangeColumn"||t.drawType==="RangeColumn"||t.type==="SplineRangeArea"||t.type==="RangeStepArea"?S=s?i.low:i.high:p?S=i.outliers[s]:S=i.y;var L=E.point.marker.fill||E.fill,M=void 0;U(E.point.marker.border)?M={color:E.border.color,width:E.border.width}:M={color:E.point.marker.border.color||E.border.color,width:E.point.marker.border.width||E.border.width};var O=E.point.marker.width||E.width,_=E.point.marker.height||E.height,R=E.point.marker.opacity||l.opacity,z=E.point.marker.shape||E.shape,H=E.point.marker.imageUrl||l.imageUrl;g=new Bi(w,L,M.width,M.color,R,t.marker.border.dashArray),(T!=null||this.chart.enableCanvas)&&(a&&G(g.id)&&(y=G(g.id),d=z==="Circle"?"c":"",c={x:+y.getAttribute(d+"x"),y:+y.getAttribute(d+"y")},f=y.getAttribute("d")),y=ma(r,z,new lt(O,_),H,g,i.x.toString()+":"+S.toString(),this.chart.renderer,t.clipRect),y&&(y.setAttribute("role","img"),y.setAttribute("aria-label",i.x+": "+i.y+", "+t.name)),te(this.chart.enableCanvas,T,y,a,!0,d+"x",d+"y",c,f,!1,!1,null,t.chart.duration),t.removedPointIndex!==null&&t.removedPointIndex<=i.index&&(T.lastChild.id=this.elementId+"_Series_"+o+"_Point_"+i.index+"_Symbol"+(s||""))),i.marker={border:M,fill:L,height:_,visible:!0,shape:z,width:O,imageUrl:H}}},e.prototype.createElement=function(t,i){var r,s=t.marker,a=s.border.width+8+5,o=t.chart.svgRenderer,l=t.index===void 0?t.category:t.index,h,u=t.chart.chartAreaType==="Cartesian"?"translate("+t.clipRect.x+","+t.clipRect.y+")":"";if(s.visible){var c=(s.height+a)/2,f=(s.width+a)/2;if(t.chart.chartAreaType==="Cartesian"?(h=new hi(this.elementId+"_ChartMarkerClipRect_"+l,"transparent",{width:1,color:"Gray"},1,{x:-f,y:-c,width:t.clipRect.width+f*2,height:t.clipRect.height+c*2},0,0,"",t.marker.border.dashArray),r=Ii(i,h,o)):(h=new pa(this.elementId+"_ChartMarkerClipRect_"+l,"transparent",{width:1,color:"Gray"},1,t.clipRect.width/2+t.clipRect.x,t.clipRect.height/2+t.clipRect.y,t.chart.radius+Math.max(c,f)),r=Ii(i,h,o,"drawCircularClipPath")),h={id:this.elementId+"SymbolGroup"+l,transform:u,"clip-path":"url(#"+this.elementId+"_ChartMarkerClipRect_"+l+")"},t.symbolElement=o.createGroup(h),t.symbolElement.appendChild(r),this.chart.enableCanvas){var d=document.getElementById(this.chart.element.id+"_tooltip_svg");d.appendChild(t.symbolElement)}}},e.prototype.getRangeLowPoint=function(t,i){var r=t.x,s=t.y;return i.chart.requireInvertedAxis?(s+=t.height/2,r+=i.yAxis.isAxisInverse?t.width:0):(s+=i.yAxis.isAxisInverse?0:t.height,r+=t.width/2),{x:r,y:s}},e.prototype.calculateDistance=function(t,i){var r=i.x-t.x,s=i.y-t.y;return Math.sqrt(r*r+s*s)},e.prototype.doMarkerAnimation=function(t){if(!(t.type==="Scatter"||t.type==="Bubble"||t.type==="Candle"||t.type==="Hilo"||t.type==="HiloOpenClose"||t.chart.chartAreaType==="PolarRadar"&&t.drawType==="Scatter")){for(var i=t.symbolElement.childNodes,r=t.animation.delay+(t.animation.duration===0&&ki==="Enable"?1e3:t.animation.duration),s=t.chart.animated?t.chart.duration:200,a=r,o=t.pathElement?t.pathElement.getTotalLength():0,l=[],h=1;t.type==="Line"&&h<t.points.length;h++)if(t.points[h-1].symbolLocations[0]&&t.points[h].symbolLocations[0]){var u=this.calculateDistance(t.points[h-1].symbolLocations[0],t.points[h].symbolLocations[0]);l.push(u)}for(var c=1,f=t.type==="RangeArea"||t.type==="RangeColumn"||t.type==="SplineRangeArea"||t.type==="RangeStepArea"?2:1,h=0;h<t.points.length;h++)if(t.points[h].symbolLocations){if(!t.points[h].symbolLocations.length||!i[c])continue;if(t.type==="Line"&&(h===0&&(a=0),h>0&&(a+=l[h-1]/o*r,s=0)),Pr(i[c],a,s,t,h,t.points[h].symbolLocations[0],!1),f===2){var d=this.getRangeLowPoint(t.points[h].regions[0],t);Pr(i[c+1],a,s,t,h,d,!1)}c+=f}}},e}(vh),wh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Re=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(a=n[o])&&(s=(r<3?a(s):r>3?a(e,t,s):a(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},vs=function(n){wh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.clipRect=new he(0,0,0,0),t}return e.prototype.setDataSource=function(t,i){t&&(this.xData=t.xData,this.yData=t.yData,this.points=t.points);var r=Je(this.type);this.visible&&i[r+"IndicatorModule"].initDataSource(this,i),i.visibleSeriesCount+=this.targetSeries.length},Re([P("Sma")],e.prototype,"type",void 0),Re([P(14)],e.prototype,"period",void 0),Re([P(14)],e.prototype,"kPeriod",void 0),Re([P(3)],e.prototype,"dPeriod",void 0),Re([P(80)],e.prototype,"overBought",void 0),Re([P(20)],e.prototype,"overSold",void 0),Re([P(2)],e.prototype,"standardDeviation",void 0),Re([P("Close")],e.prototype,"field",void 0),Re([P(12)],e.prototype,"slowPeriod",void 0),Re([P(26)],e.prototype,"fastPeriod",void 0),Re([P(!0)],e.prototype,"showZones",void 0),Re([ae({color:"#ff9933",width:2},$i)],e.prototype,"macdLine",void 0),Re([P("Both")],e.prototype,"macdType",void 0),Re([P("#2ecd71")],e.prototype,"macdPositiveColor",void 0),Re([P("#e74c3d")],e.prototype,"macdNegativeColor",void 0),Re([P("rgba(211,211,211,0.25)")],e.prototype,"bandColor",void 0),Re([ae({color:"#ffb735",width:1},$i)],e.prototype,"upperLine",void 0),Re([ae({color:"#f2ec2f",width:1},$i)],e.prototype,"lowerLine",void 0),Re([ae({color:"#f2ec2f",width:1},$i)],e.prototype,"periodLine",void 0),Re([P("")],e.prototype,"seriesName",void 0),e}(Fa),Wr=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),N=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(a=n[o])&&(s=(r<3?a(s):r>3?a(e,t,s):a(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},Sh=function(n){Wr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return N([P()],e.prototype,"start",void 0),N([P()],e.prototype,"end",void 0),N([P([])],e.prototype,"colors",void 0),N([P("")],e.prototype,"label",void 0),e}(yt),xh=function(n){Wr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return N([P(!1)],e.prototype,"enable",void 0),N([P("")],e.prototype,"dashArray",void 0),N([ae({color:null,width:1},ar)],e.prototype,"line",void 0),N([P("Both")],e.prototype,"lineType",void 0),N([P("")],e.prototype,"verticalLineColor",void 0),N([P("")],e.prototype,"horizontalLineColor",void 0),N([P(1)],e.prototype,"opacity",void 0),e}(yt),Ch=function(n){Wr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return N([P(!1)],e.prototype,"enableSelectionZooming",void 0),N([P(!1)],e.prototype,"enablePinchZooming",void 0),N([P(!1)],e.prototype,"showToolbar",void 0),N([P(!1)],e.prototype,"enableMouseWheelZooming",void 0),N([P(!0)],e.prototype,"enableDeferredZooming",void 0),N([P("XY")],e.prototype,"mode",void 0),N([P(["Zoom","ZoomIn","ZoomOut","Pan","Reset"])],e.prototype,"toolbarItems",void 0),N([P(!1)],e.prototype,"enablePan",void 0),N([P(!1)],e.prototype,"enableScrollbar",void 0),N([P(!1)],e.prototype,"enableAnimation",void 0),e}(yt),Th=function(n){Wr(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.rotatedDataLabelCollections=[],r.animated=!1,r.isPointMouseDown=!1,r.isScrolling=!1,r.checkResize=0,r.visible=0,r.clickCount=0,r.maxPointCount=0,r.singleClickTimer=0,r.chartAreaType="Cartesian",r.isRtlEnabled=!1,r.isCrosshair=!0,r.chartid=57723,r.isLegendClicked=!1,r.isZoomed=!1,r.previousTargetId="",r.currentPointIndex=0,r.currentSeriesIndex=0,r.currentLegendIndex=0,r.previousPageX=null,r.previousPageY=null,r.allowPan=!1,r.pointsRemoved=!1,r.pointsAdded=!1,r.zoomRedraw=!1,ko("mergePersistData",r.mergePersistChartData,r),r}return e.prototype.mergePersistChartData=function(){var t=window.localStorage.getItem(this.getModuleName()+this.element.id);if(!(U(t)||t==="")){var i=JSON.parse(t),r=Object.keys(i);this.isProtectedOnChange=!0;for(var s=0,a=r;s<a.length;s++){var o=a[s];typeof this[o]=="object"&&!U(this[o])?_e(this[o],i[o]):this[o]=i[o]}this.isProtectedOnChange=!1}},e.prototype.isIdHasSpecialCharacter=function(t){var i=/^[A-Za-z ]+$/,r=/^[0-9 ]+$/,s="";if(i.test(t))return t;var a=0;r.test(t[0])&&(s+="\\3"+t[0],a=1);for(var o=a;o<t.length;o++)!i.test(t[o])&&t.indexOf("-")===-1&&t.indexOf("_")===-1&&t.indexOf("\\")===-1&&!r.test(t[o])?s+="\\"+t[o]:s+=t[o];return s},e.prototype.preRender=function(){this.element.id=this.isIdHasSpecialCharacter(this.element.id);var t="Blazor";this.isBlazor=window[t],this.allowServerDataBinding=!1,this.markerIndex=0,this.unWireEvents(),this.initPrivateVariable(),this.setCulture(),this.wireEvents(),this.stockChart&&(this.stockChart.tooltip.header===null&&(this.tooltip.header="<b>${point.x}</b>"),this.stockChart.tooltip.format===null&&(this.tooltip.format="High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>")),this.element.setAttribute("dir",this.enableRtl?"rtl":"ltr")},e.prototype.initPrivateVariable=function(){if(this.animateSeries=!0,this.delayRedraw=!1,this.dragY=null,this.horizontalAxes=[],this.verticalAxes=[],this.refreshAxis(),this.refreshDefinition(this.rows),this.refreshDefinition(this.columns),this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.element.setAttribute("role","region"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-label",this.description||this.title+". Syncfusion interactive chart."),this.element.classList.contains("e-chart-focused")||this.element.setAttribute("class",this.element.getAttribute("class")+" e-chart-focused"),this.element.id===""){for(var t=document.getElementsByClassName("e-chart").length,i="chart_"+this.chartid+"_"+t;document.getElementById(i);)t++,i="chart_"+this.chartid+"_"+t;this.element.id="chart_"+this.chartid+"_"+t}this.svgId=this.stockChart?this.stockChart.element.id+"_stockChart_chart":this.element.id+(this.enableCanvas?"_canvas":"_svg")},e.prototype.render=function(){var t=this;this.svgRenderer=new dn(this.element.id);var i={chart:this.isBlazor?{}:this,theme:this.theme,name:is,cancel:!1};this.stockChart?(this.isRtlEnabled=window.getComputedStyle(document.querySelector("body")).direction==="rtl",this.cartesianChartRendering(i)):this.trigger(is,i,function(){i.cancel||t.cartesianChartRendering(i)}),this.applyZoomkit()},e.prototype.cartesianChartRendering=function(t){this.theme=this.isBlazor?t.theme:this.theme,this.setTheme(),this.createChartSvg(),this.markerRender=new bh(this),this.calculateAreaType(),this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.calculateVisibleAxis(),this.processData(),this.renderComplete(),this.mouseMoveEvent(),this.allowServerDataBinding=!0},e.prototype.getLocalizedLabel=function(t){return this.localeObject.getConstant(t)},e.prototype.animate=function(t){if(this.redraw=!0,this.animated=!0,this.duration=t||1e3,this.tooltipModule)this.tooltipModule.removeHighlightedMarker(this.tooltipModule.previousPoints,!0);else if(this.markerRender.previousPoints)for(var i=0;i<this.markerRender.previousPoints.length;i++)this.markerRender.removeHighlightedMarker(this.markerRender.previousPoints[i].series,this.markerRender.previousPoints[i].point)},e.prototype.refreshBound=function(){if(this.rotatedDataLabelCollections=[],this.legendModule&&this.legendSettings.visible&&this.legendModule.getLegendOptions(this.visibleSeries,this),this.tooltip.enable&&this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.calculateStackValues(),this.calculateBounds(),this.stockChart&&!this.stockChart.rangeFound&&(this.stockChart.enablePeriodSelector||this.stockChart.enableSelector))return null;this.renderElements(),ze("chartmeasuretext"),this.removeSelection(),this.markerRender&&this.markerRender.mergeXvalues(this.visibleSeries)},e.prototype.calculateStackValues=function(){for(var t,i=!1,r=0,s=this.visibleSeries.length;r<s;r++)t=this.visibleSeries[r],t.visible&&(t.position=t.rectCount=void 0),(t.type.indexOf("Stacking")!==-1||t.drawType.indexOf("Stacking")!==-1&&this.chartAreaType==="PolarRadar")&&!i&&(t.calculateStackedValue(t.type.indexOf("100")>-1,this),i=!0)},e.prototype.removeSelection=function(){for(var t=0,i=this.visibleSeries;t<i.length;t++){var r=i[t];if(r.visible)for(var s=0,a=r.points;s<a.length;s++){var o=a[s];o.isSelect=!1}}G(this.element.id+"_ej2_drag_multi_group")?(this.selectionMode.indexOf("Drag")>-1&&(this.selectionModule.filterArray=[]),ze(this.element.id+"_ej2_drag_multi_group"),this.selectionModule.calculateDragSelectedElements(this,new he(0,0,0,0),!0)):G(this.element.id+"_ej2_drag_group")&&(this.selectionMode!=="Lasso"&&(this.selectionModule.filterArray=[]),ze(this.element.id+"_ej2_drag_group"),this.selectionModule.calculateDragSelectedElements(this,new he(0,0,0,0),!0))},e.prototype.renderElements=function(){this.renderBorder(),this.renderTitle(),this.renderAreaBorder(),this.renderSeriesElements(this.renderAxes()),this.renderLegend(),this.applyZoomkit(),this.performSelection(),this.setSecondaryElementPosition();for(var t=0,i=this.visibleSeries;t<i.length;t++){var r=i[t];Ro(this.element.id+"_DataLabel","Template",r.marker.dataLabel)}this.renderAnnotation()},e.prototype.renderAxes=function(){this.yAxisElements=this.renderer.createGroup({id:this.element.id+"yAxisCollection"});var t;return this.rows.length>0&&this.columns.length>0&&(t=this.chartAxisLayoutPanel.renderAxes()),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Behind",this.axisCollections),t},e.prototype.renderLegend=function(){if(this.legendModule&&this.legendModule.legendCollections.length&&this.legendSettings.visible){this.legendModule.calTotalPage=!0;var t=this.legendSettings.border.width,i=this.legendModule.legendBounds,r=new he(i.x,i.y,i.width,i.height);this.enableCanvas&&(this.canvasRender.ctx.beginPath(),r=new he(r.x-t/2,r.y-t/2,r.width+t,r.height+t),this.renderer.canvasClip(r)),this.legendModule.renderLegend(this,this.legendSettings,i),this.enableCanvas&&this.renderer.canvasRestore()}this.redraw||(this.stockChart?G(this.stockChart.chartObject.id)||this.stockChart.mainObject.appendChild(this.svgObject):this.element.appendChild(this.svgObject))},e.prototype.setSecondaryElementPosition=function(){var t=G(this.element.id+"_Secondary_Element");if(t){var i=this.element.getBoundingClientRect(),r=G(this.svgId).getBoundingClientRect();t.style.left=Math.max((r.left-i.left)/this.scaleX,0)+"px",t.style.top=Math.max((r.top-i.top)/this.scaleY,0)+"px"}},e.prototype.initializeModuleElements=function(){this.dataLabelCollections=[];var t=this.element.id;this.series.length&&(this.seriesElements=this.svgRenderer.createGroup({id:t+"SeriesCollection"})),this.indicators.length&&(this.indicatorElements=this.renderer.createGroup({id:t+"IndicatorCollection"})),this.hasTrendlines()&&(this.trendLineElements=this.renderer.createGroup({id:t+"TrendLineCollection"})),this.dataLabelElements=this.renderer.createGroup({id:t+"DataLabelCollection"})},e.prototype.hasTrendlines=function(){for(var t,i=0,r=this.series;i<r.length;i++){var s=r[i];if(t=!!s.trendlines.length,t)break}return t},e.prototype.renderSeriesElements=function(t){this.initializeModuleElements();var i=this.element.id;if(this.element.tagName!=="g"){var r=Rt(this.redraw,i+"_Secondary_Element")||this.createElement("div");r.id=i+"_Secondary_Element",r.style.cssText="position: relative",te(!1,this.element,r,this.redraw)}if(this.enableCanvas){var s=document.getElementById(i+"_Secondary_Element");s=s||this.createElement("div",{id:i+"_Secondary_Element",attrs:{style:"position: relative; left:0px; top:0px"}});var a=this.svgRenderer.createSvg({id:i+"_tooltip_svg",width:this.availableSize.width,height:this.availableSize.height});a.style.cssText="position: absolute; pointer-events: none",s.appendChild(a)}this.tooltip.enable&&!this.stockChart&&te(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:i+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.rows.length>0&&this.columns.length>0&&(this.initializeIndicator(),this.initializeTrendLine(),this.renderSeries(),this.trendLineElements&&te(this.enableCanvas,this.svgObject,this.trendLineElements,this.redraw),this.appendElementsAfterSeries(t))},e.prototype.renderSeries=function(){var t;this.enableCanvas&&this.renderer.canvasClip(this.chartAxisLayoutPanel.seriesClipRect);for(var i=0,r=this.visibleSeries;i<r.length;i++){var s=r[i];s.category==="TrendLine"?t=this.series[s.sourceIndex].trendlines[s.index].visible:t=s.visible,t?(this.visible++,cn(s,this.enableCanvas),this.enableCanvas&&this.renderCanvasSeries(),s.renderSeries(this)):s.isLegendClicked&&(s.type.indexOf("StackingArea")>-1||s.type.indexOf("StackingBar")>-1||s.type.indexOf("StackingColumn")>-1)&&(cn(s,this.enableCanvas),s.renderSeries(this))}this.enableCanvas&&this.renderer.canvasRestore(),this.visible=0;var a={id:this.element.id+"_ChartAreaClipRect_",x:this.chartAxisLayoutPanel.seriesClipRect.x,y:this.chartAxisLayoutPanel.seriesClipRect.y,width:this.chartAxisLayoutPanel.seriesClipRect.width,height:this.chartAxisLayoutPanel.seriesClipRect.height,fill:"transparent","stroke-width":1,stroke:"Gray"};if(!(!this.seriesElements||a.height<0||a.width<0)){var o;this.chartAreaType==="PolarRadar"?o=Ii(this.redraw,a,this.renderer,"drawCircularClipPath"):o=Ii(this.redraw,a,this.renderer),this.enableCanvas||this.seriesElements.appendChild(o);var l=document.getElementById(this.element.id+"_series_svg");l?te(!1,l,this.seriesElements,this.redraw):te(this.enableCanvas,this.svgObject,this.seriesElements,this.redraw)}},e.prototype.renderCanvasSeries=function(){this.enableCanvas||this.svgObject},e.prototype.initializeIndicator=function(){for(var t=0,i=this.indicators;t<i.length;t++){var r=i[t];this[Je(r.type)+"IndicatorModule"]&&this[Je(r.type)+"IndicatorModule"].createIndicatorElements(this,r,r.index)}this.indicatorElements&&te(this.enableCanvas,this.svgObject,this.indicatorElements,this.redraw)},e.prototype.initializeTrendLine=function(){for(var t=0,i=this.visibleSeries;t<i.length;t++){var r=i[t];r.trendlines.length&&this.trendLineModule.getTrendLineElements(r,this)}},e.prototype.appendElementsAfterSeries=function(t){this.chartAreaType==="PolarRadar"&&te(this.enableCanvas,this.svgObject,this.yAxisElements,this.redraw),te(this.enableCanvas,this.svgObject,t,this.redraw),(this.zoomModule&&this.zoomSettings.enableScrollbar&&this.scrollElement.childElementCount||this.scrollElement&&this.scrollElement.childElementCount)&&te(!1,G(this.element.id+"_Secondary_Element"),this.scrollElement,this.redraw),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Over",this.axisCollections),(!this.tooltip.enable||this.stockChart)&&te(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:this.element.id+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.stockChart&&this.stockChart.calculateStockEvents()},e.prototype.applyZoomkit=function(){this.chartAreaType!=="PolarRadar"&&(!this.redraw||this.zoomRedraw)&&this.zoomModule&&(!this.zoomSettings.enablePan||this.zoomModule.performedUI||this.zoomSettings.showToolbar)&&this.zoomModule.applyZoomToolkit(this,this.axisCollections)},e.prototype.renderAnnotation=function(){this.annotationModule&&this.annotationModule.renderAnnotations(G((this.stockChart?this.stockChart.element.id:this.element.id)+"_Secondary_Element"))},e.prototype.performSelection=function(){var t=[];this.selectionModule&&(t=_e([],this.selectionModule.selectedDataIndexes,null,!0),this.selectionModule.invokeSelection(this)),this.highlightModule&&this.highlightModule.invokeHighlight(this),t.length>0&&(this.selectionModule.selectedDataIndexes=t,this.selectionModule.redrawSelection(this,this.selectionMode))},e.prototype.processData=function(t){t===void 0&&(t=!0),this.visibleSeriesCount=0;for(var i=!0,r=0,s=0,a=this.visibleSeries;s<a.length;s++){var o=a[s];if(!o.visible&&!this.legendSettings.visible){this.visibleSeriesCount++;continue}o.category!=="Indicator"&&o.category!=="TrendLine"&&this.initializeDataModule(o)}for(var l=0,h=this.indicators;l<h.length;l++){var u=h[l];if(u.dataSource){var c=u;this.initializeDataModule(c),i=!1}}if(t&&(!this.visibleSeries.length||this.visibleSeriesCount===this.visibleSeries.length&&i)&&(this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),!this.stockChart&&this.visibleSeries.length>0)for(var f=0,d=this.visibleSeries;f<d.length;f++){var o=d[f];U(o.points)||(this.maxPointCount=Math.max(r,o.points.length),r=o.points.length)}},e.prototype.initializeDataModule=function(t){t.xData=[],t.yData=[];var i,r="isAngular";this[r]?i=Object.keys(t.dataSource).length?t.dataSource:this.dataSource:i=t.dataSource||this.dataSource,t.dataModule=new ul(i,t.query),t.points=[],t.refreshDataManager(this)},e.prototype.calculateBounds=function(){var t=this.margin,i=0,r=0,s=this.titleStyle.position==="Top"||this.titleStyle.position==="Bottom"&&!this.legendSettings.visible?15:5,a=t.left+this.border.width,o=this.availableSize.width-a-t.right-this.border.width,l=0;this.titleCollection=[],this.subTitleCollection=[],this.title?(this.titleCollection=rs(this.title,this.titleStyle,o,this.enableRtl,this.themeStyle.chartTitleFont),i=Xe(this.title,this.titleStyle,this.themeStyle.chartTitleFont).height*this.titleCollection.length+s,this.subTitle&&(this.subTitleCollection=rs(this.subTitle,this.subTitleStyle,o,this.enableRtl,this.themeStyle.chartSubTitleFont),r=Xe(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont).height*this.subTitleCollection.length+s)):this.legendSettings.position!=="Top"&&this.border.width&&(l=10);var h=t.top+l+this.border.width+this.chartArea.border.width*.5,u=this.availableSize.height-h-this.border.width-t.bottom,c=r+i+this.titleStyle.border.width+this.subTitleStyle.border.width;switch(this.titleStyle.position){case"Top":h+=c,u-=c;break;case"Bottom":u-=c;break;case"Left":a+=c,o-=c;break;case"Right":a-=this.titleStyle.border.width+this.subTitleStyle.border.width,o-=c;break}this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&(this.stockChart.legendSettings.position==="Top"?h+=this.stockChart.stockLegendModule.legendBounds.height:this.stockChart.legendSettings.position==="Left"&&(a+=this.stockChart.stockLegendModule.legendBounds.width)),this.initialClipRect=new he(a,h,o,u),this.legendModule&&this.legendSettings.visible&&this.legendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null),this.chartAxisLayoutPanel.measureAxis(this.initialClipRect)},e.prototype.print=function(t){var i=new Il(this),r=this.width;this.getModuleName()==="chart"&&parseInt(this.width,10)>=80&&this.width.indexOf("%")>-1&&(this.width="80%",this.dataBind()),i.print(t),this.getModuleName()==="chart"&&parseInt(this.width,10)>=80&&this.width.indexOf("%")>-1&&(this.width=r,this.dataBind())},e.prototype.initTrendLines=function(){this.isProtectedOnChange=!0;for(var t=0,i=this.visibleSeries;t<i.length;t++)for(var r=i[t],s=0,a=0,o=r.trendlines;a<o.length;a++){var l=o[a],h=l;this.trendLineModule&&(h.index=s,h.sourceIndex=r.index,this.trendLineModule.initSeriesCollection(h,this),h.targetSeries&&(h.targetSeries.xAxisName=r.xAxisName,h.targetSeries.yAxisName=r.yAxisName,this.visibleSeries.push(h.targetSeries))),s++}this.isProtectedOnChange=!1},e.prototype.calculateAreaType=function(){var t=this.series[0];this.chartArea.border.width=this.stockChart?0:this.chartArea.border.width,t&&(this.requireInvertedAxis=t.type.indexOf("Bar")!==-1&&!this.isTransposed||t.type.indexOf("Bar")===-1&&this.isTransposed&&this.chartAreaType!=="PolarRadar"),this.chartAxisLayoutPanel=this.chartAreaType==="PolarRadar"?this.polarSeriesModule||this.radarSeriesModule:new hh(this)},e.prototype.calculateVisibleAxis=function(){var t,i=[this.primaryXAxis,this.primaryYAxis];i=this.chartAreaType==="Cartesian"?i.concat(this.axes):i,this.paretoSeriesModule&&this.series[0].type==="Pareto"&&(i=i.concat(this.paretoSeriesModule.paretoAxes)),this.axisCollections=[],this.zoomModule&&(this.zoomModule.isPanning=this.zoomModule.isAxisZoomed(i)&&this.zoomSettings.enablePan,this.svgObject.setAttribute("cursor",this.zoomModule.isPanning?"pointer":"auto"),this.scrollBarModule&&(this.scrollBarModule.axes=i)),this.scrollSettingEnabled&&this.scrollBarModule&&(this.scrollBarModule.axes=i);for(var r=0,s=i.length;r<s;r++){t=i[r],t.series=[],t.labels=[],t.indexLabels={},t.orientation=r===0?this.requireInvertedAxis?"Vertical":"Horizontal":r===1?this.requireInvertedAxis?"Horizontal":"Vertical":t.orientation;for(var a=0,o=this.visibleSeries;a<o.length;a++){var l=o[a];this.initAxis(l,t,!0),l.category==="Pareto"&&l.type==="Line"&&l.yAxis&&(l.yAxis.internalVisibility=l.paretoOptions.showAxis)}for(var h=0,u=this.indicators;h<u.length;h++){var c=u[h];this.initAxis(c,t,!1)}this.scrollBarModule&&!t.zoomingScrollBar&&this.scrollBarModule.injectTo(t,this),t.orientation!=null&&this.axisCollections.push(t)}this.rows.length>0&&this.columns.length>0&&this.chartAxisLayoutPanel.measure()},e.prototype.initAxis=function(t,i,r){t.xAxisName===i.name||t.xAxisName==null&&i.name==="primaryXAxis"?(i.orientation=this.requireInvertedAxis?"Vertical":"Horizontal",t.xAxis=i,r&&i.series.push(t)):(t.yAxisName===i.name||t.yAxisName==null&&i.name==="primaryYAxis")&&(i.orientation=this.requireInvertedAxis?"Horizontal":"Vertical",t.yAxis=i,r&&i.series.push(t))},e.prototype.initTechnicalIndicators=function(){for(var t=0,i=0,r=this.indicators;i<r.length;i++){var s=r[i],a=s,o=Je(a.type);if(this[o+"IndicatorModule"]){a.index=t,this[o+"IndicatorModule"].initSeriesCollection(a,this);for(var l=0,h=a.targetSeries;l<h.length;l++){var u=h[l];(s.seriesName||s.dataSource)&&this.visibleSeries.push(u)}}t++}},e.prototype.refreshTechnicalIndicator=function(t){if(this.indicators.length){var i=null;if(t instanceof Be&&t.category!=="Indicator")for(var r=0,s=this.indicators;r<s.length;r++){var a=s[r];a.seriesName===t.name&&!a.dataSource&&(i=a,i.setDataSource(t,this))}else t instanceof vs&&(i=t,i.setDataSource(t instanceof Be?t:null,this))}},e.prototype.calculateVisibleSeries=function(){var t;this.visibleSeries=[];for(var i=this.palettes.length?this.palettes:cl(this.theme),r=i.length,s=this.series.sort(function(l,h){return l.zOrder-h.zOrder}),a=0,o=s.length;a<o;a++){switch(t=s[a],t.category=s[0].type==="Pareto"?"Pareto":"Series",t.index=a,t.interior=t.fill||i[a%r],!t.marker.shape&&(t.marker.visible||t.type==="Scatter"||t.drawType==="Scatter")&&(t.marker.shape=Na[this.markerIndex%10],this.markerIndex++),this.isSecondaryAxis(t.xAxis)&&(t.xAxis.internalVisibility=t.xAxis.series.some(function(l){return l.visible})),this.isSecondaryAxis(t.yAxis)&&(t.yAxis.internalVisibility=t.yAxis.series.some(function(l){return l.visible})),t.type){case"Bar":case"StackingBar":case"StackingBar100":if(s[0].type.indexOf("Bar")===-1)continue;break;case"Polar":case"Radar":if(this.chartAreaType!=="PolarRadar"||this.chartAreaType==="PolarRadar"&&(t.xAxisName!==null&&this.primaryXAxis.name!==t.xAxisName||t.yAxisName!==null&&this.primaryYAxis.name!==t.yAxisName))continue;break;case"Pareto":this.visibleSeries.push(t),this.paretoSeriesModule.initSeries(t,this);continue;default:if(this.chartAreaType==="PolarRadar"||s[0].type.indexOf("Bar")>-1)continue;break}this.visibleSeries.push(t),s[a]=t}},e.prototype.isSecondaryAxis=function(t){return this.axes.indexOf(t)>-1},e.prototype.renderTitle=function(){var t,i=this.margin,r=5;if(this.title){var s=Xr(this.titleStyle.textAlignment,this.enableRtl),a=Xe(this.title,this.titleStyle,this.themeStyle.chartTitleFont);t=new he(i.left,0,this.availableSize.width-i.left-i.right,0);var o=this.titleStyle.border.width,l=this.margin.top+a.height*3/4,h=qr(t,this.titleStyle||this.themeStyle.chartTitleFont)+o,u=void 0,c=this.titleStyle.textAlignment,f=Xe(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont);switch(this.titleStyle.position){case"Top":l+=o*.5,h+=s==="start"?o*.5+this.border.width:s==="end"?-o*2-this.border.width:0;break;case"Bottom":h+=s==="start"?o*.5+this.border.width:s==="end"?-o*2-this.border.width:0,l=this.availableSize.height-this.margin.bottom-f.height-a.height/2-o*.5-this.subTitleStyle.border.width*.5;break;case"Left":h=this.margin.left+a.height*3/4+o*.5,l=c==="Near"?i.bottom+o*.5+this.border.width:c==="Far"?this.availableSize.height-i.bottom-o*.5-this.border.width:this.availableSize.height/2,s=c==="Near"?"end":c==="Far"?"start":"middle",s=this.enableRtl?s==="end"?"start":s==="start"?"end":s:s,u="rotate(-90,"+h+","+l+")";break;case"Right":h=this.availableSize.width-this.margin.right-a.height*3/4-o*.5,l=c==="Near"?i.bottom+o*.5+this.border.width:c==="Far"?this.availableSize.height-i.bottom-o*.5-this.border.width:this.availableSize.height/2,s=c==="Near"?"start":c==="Far"?"end":"middle",s=this.enableRtl?s==="end"?"start":s==="start"?"end":s:s,u="rotate(90,"+h+","+l+")";break;case"Custom":h=this.titleStyle.x,l=this.titleStyle.y,s="middle";break}var d={id:this.element.id+"_ChartTitleBorder",x:h-(s==="middle"?a.width/2+r:s==="end"?a.width+r:r),y:l-a.height+a.height/4,rx:this.titleStyle.border.cornerRadius,ry:this.titleStyle.border.cornerRadius,width:a.width+r*2,height:a.height*this.titleCollection.length,fill:this.titleStyle.background,"stroke-width":o,stroke:this.titleStyle.border.color,transform:u||"",d:""},g=Rt(this.redraw,this.element.id+"_ChartTitleBorder",d,this.renderer)||this.renderer.drawRectangle(d);te(this.enableCanvas,this.svgObject,g,this.redraw);var p=new oi(this.element.id+"_ChartTitle",h,l,s,this.titleCollection,u,"auto"),b=Rt(this.redraw,this.element.id+"_ChartTitle",p,this.renderer)||Ft(this.renderer,p,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitleFont.color,this.svgObject,null,null,null,null,null,null,null,null,this.enableCanvas,null,this.themeStyle.chartTitleFont);b&&(b.setAttribute("tabindex","0"),b.setAttribute("class","e-chart-focused")),this.subTitle&&this.renderSubTitle(p)}},e.prototype.renderSubTitle=function(t){for(var i=0,r=0,s=10,a=this.titleStyle.textAlignment,o=0,l=this.titleCollection;o<l.length;o++){var h=l[o];r=Xe(h,this.titleStyle,this.themeStyle.chartTitleFont).width,i=r>i?r:i}var u=Xe(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont).width;i=Math.max(r,u);var c=Xe(this.subTitleCollection.reduce(function(w,E){return w.length>E.length?w:E}),this.subTitleStyle,this.themeStyle.chartSubTitleFont),f=Xr(this.subTitleStyle.textAlignment,this.enableRtl),d=new he(a==="Center"?t.x-i*.5:a==="Far"?t.x-i:t.x,0,i,0);this.titleStyle.position==="Left"&&(d.x=a==="Center"?t.x-i*.5:a==="Far"?this.margin.left+c.height*3/4:t.x-i);var g=Xe(this.title,this.titleStyle,this.themeStyle.chartTitleFont),p=t.y*t.text.length+c.height+s/2+this.titleStyle.border.width+this.subTitleStyle.border.width*.5;this.titleStyle.position==="Bottom"&&(p=t.y*t.text.length+s/2+g.height/2+c.height/2);var b={id:this.element.id+"_ChartSubTitleBorder",x:qr(d,this.subTitleStyle)-(f==="middle"?c.width/2+s/2:f==="end"?c.width+s/2:s/2),y:p-c.height+c.height/4,rx:this.subTitleStyle.border.cornerRadius,ry:this.subTitleStyle.border.cornerRadius,width:c.width+s,height:c.height*this.subTitleCollection.length,fill:this.subTitleStyle.background,"stroke-width":this.subTitleStyle.border.width,stroke:this.subTitleStyle.border.color,transform:t.transform,d:""},y=Rt(this.redraw,this.element.id+"_ChartSubTitleBorder",b,this.renderer)||this.renderer.drawRectangle(b);te(this.enableCanvas,this.svgObject,y,this.redraw);var T=new oi(this.element.id+"_ChartSubTitle",qr(d,this.subTitleStyle),p,Xr(this.subTitleStyle.textAlignment,this.enableRtl),this.subTitleCollection,t.transform,"auto");Rt(this.redraw,this.element.id+"_ChartSubTitle",T,this.renderer)||Ft(this.renderer,T,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartSubTitleFont.color,this.svgObject,null,null,null,null,null,null,null,null,this.enableCanvas,null,this.themeStyle.chartSubTitleFont)},e.prototype.renderBorder=function(){var t=0,i=0,r=this.border.width,s=this.backgroundImage,a=s?"transparent":this.background||this.themeStyle.background;this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&(this.stockChart.legendSettings.position==="Top"?i+=this.stockChart.stockLegendModule.legendBounds.height:this.stockChart.legendSettings.position==="Left"&&(t+=this.stockChart.stockLegendModule.legendBounds.width));var o=new hi(this.element.id+"_ChartBorder",a,this.border,1,new he(r*.5+t,r*.5+i,this.availableSize.width-r,this.availableSize.height-r),0,0,"",this.border.dashArray);if(this.htmlObject=Rt(this.redraw,this.element.id+"_ChartBorder",o,this.renderer)||this.renderer.drawRectangle(o),this.htmlObject.setAttribute("aria-hidden","true"),te(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw),s){var l=new ns(this.availableSize.height-r,this.availableSize.width-r,s,0,0,this.element.id+"_ChartBackground","visible","none");this.htmlObject=Rt(this.redraw,this.element.id+"_ChartBackground",l,this.renderer)||this.renderer.drawImage(l),te(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw)}},e.prototype.renderAreaBorder=function(){if(this.chartAreaType==="PolarRadar")return null;var t=G(this.element.id+"_ChartAreaBorder"),i=t?new he(+t.getAttribute("x"),+t.getAttribute("y"),+t.getAttribute("width"),+t.getAttribute("height")):null,r=new hi(this.element.id+"_ChartAreaBorder",this.chartArea.background,{width:this.chartArea.border.width,color:this.chartArea.border.color||this.themeStyle.areaBorder},this.chartArea.opacity,this.chartAxisLayoutPanel.seriesClipRect,0,0,"",this.chartArea.border.dashArray);if(r.height<0||r.width<0)return null;this.htmlObject=this.renderer.drawRectangle(r),this.htmlObject.setAttribute("aria-hidden","true"),te(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0,i),this.htmlObject=null;var s=this.chartArea.backgroundImage;if(s){var a=this.chartArea.border.width,o=new ns(this.initialClipRect.height-a,this.initialClipRect.width-a,s,this.initialClipRect.x,this.initialClipRect.y,this.element.id+"_ChartAreaBackground","visible","none");this.htmlObject=this.renderer.drawImage(o),te(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0)}},e.prototype.addSeries=function(t){for(var i=window.pageYOffset||document.documentElement.scrollTop,r=0,s=t;r<s.length;r++){var a=s[r];a=new Be(this,"series",a),this.series.push(a)}this.refresh(),window.scrollTo(0,i)},e.prototype.removeSeries=function(t){this.redraw=!1;var i=window.pageYOffset||document.documentElement.scrollTop;this.visibleSeries[t]&&(this.visibleSeries[t].xAxis.orientation=null,this.visibleSeries[t].yAxis.orientation=null);for(var r=0;r<this.axes.length;r++)this.axes[r].orientation===null&&this.axes.splice(r,1);this.series.splice(t,1),this.refresh(),window.scrollTo(0,i)},e.prototype.clearSeries=function(){this.series=[];var t=window.pageYOffset||document.documentElement.scrollTop;this.refresh(),window.scrollTo(0,t)},e.prototype.addAxes=function(t){for(var i=0,r=t;i<r.length;i++){var s=r[i];s=new gr(this,"axes",s),this.isBlazor&&(s.interval=isNaN(s.interval)?null:s.interval,s.desiredIntervals=isNaN(s.desiredIntervals)?null:s.desiredIntervals),this.axes.push(s)}this.refresh()},e.prototype.removeAxis=function(t){this.redraw=!1,this.axes.splice(t,1),this.refresh()},e.prototype.destroy=function(){this.scrollBarModule&&this.scrollBarModule.destroy(),this.markerRender&&(this.markerRender.removeEventListener(),this.markerRender=null),this.horizontalAxes=[],this.verticalAxes=[],this.visibleSeries=[],this.axisCollections=[],this.rotatedDataLabelCollections=[],this.seriesElements=null,this.chartAxisLayoutPanel=null,this.dataLabelCollections=null,this.dataLabelElements=null,this.yAxisElements=null;var t=document.getElementById(this.element.id+"Keyboard_chart_focus");t&&t.remove();var i=document.getElementById(this.element.id+"_ej2_chart_highlight");i&&i.remove(),ze("chartmeasuretext"),this.element&&(this.unWireEvents(),this.isReact&&this.clearTemplate(),n.prototype.destroy.call(this),this.enableCanvas||(this.removeSvg(),this.svgObject=null))},e.prototype.getModuleName=function(){return"chart"},e.prototype.getPersistData=function(){var t=["loaded","animationComplete","primaryXAxis","primaryYAxis"];return this.addOnPersist(t)},e.prototype.createChartSvg=function(){this.removeSvg(),fl(this)},e.prototype.unWireEvents=function(){var t=se.touchStartEvent,i=se.touchMoveEvent,r=se.touchEndEvent,s=se.isPointer?"pointerleave":"mouseleave";le.remove(this.element,t,this.chartOnMouseDown),le.remove(this.element,i,this.mouseMove),le.remove(this.element,r,this.mouseEnd),le.remove(this.element,"click",this.chartOnMouseClick),le.remove(this.element,"dblclick",this.chartOnDoubleClick),le.remove(this.element,"contextmenu",this.chartRightClick),le.remove(this.element,s,this.mouseLeave),le.remove(this.element,"keydown",this.chartKeyDown),le.remove(document.body,"keydown",this.documentKeyHandler),le.remove(this.element,"keyup",this.chartKeyUp),window.removeEventListener(se.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.touchObject&&(this.touchObject.destroy(),this.touchObject=null)},e.prototype.wireEvents=function(){if(this.element){var t=se.isPointer?"pointerleave":"mouseleave";le.add(this.element,se.touchStartEvent,this.chartOnMouseDown,this),le.add(this.element,se.touchMoveEvent,this.mouseMove,this),le.add(this.element,se.touchEndEvent,this.mouseEnd,this),le.add(this.element,"click",this.chartOnMouseClick,this),le.add(this.element,"dblclick",this.chartOnDoubleClick,this),le.add(this.element,"contextmenu",this.chartRightClick,this),le.add(this.element,t,this.mouseLeave,this),le.add(this.element,"keydown",this.chartKeyDown,this),le.add(document.body,"keydown",this.documentKeyHandler,this),le.add(this.element,"keyup",this.chartKeyUp,this),this.resizeBound=this.chartResize.bind(this),window.addEventListener(se.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.longPressBound=this.longPress.bind(this),this.touchObject=new Bo(this.element,{tapHold:this.longPressBound,tapHoldThreshold:500}),this.setStyle(this.element)}},e.prototype.chartRightClick=function(t){return this.crosshair.enable&&this.crosshairModule&&(t.buttons===2||t.which===0||t.pointerType==="touch")?(t.preventDefault(),t.stopPropagation(),!1):!0},e.prototype.setStyle=function(t){var i=this.zoomSettings,r=i.enableSelectionZooming||i.enablePinchZooming||this.selectionMode!=="None"||this.highlightMode!=="None";t.style.touchAction=r?"none":"element",t.style.msTouchAction=r?"none":"element",t.style.msContentZooming="none",t.style.msUserSelect="none",t.style.webkitUserSelect="none",t.style.position="relative",t.style.display="block",t.style.overflow="hidden",t.style.height=t.style.height||this.height&&this.height.indexOf("%")===-1?t.style.height:"inherit"},e.prototype.isOrientation=function(){return"orientation"in window&&"onorientationchange"in window},e.prototype.longPress=function(t){return this.mouseX=t&&t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].clientX:0,this.mouseY=t&&t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].clientY:0,this.startMove=!0,this.allowPan=this.stockChart?!1:this.allowPan,this.setMouseXY(this.mouseX,this.mouseY),this.notify("tapHold",t),!1},e.prototype.setMouseXY=function(t,i){if(G(this.svgId)){var r=G(this.svgId).getBoundingClientRect(),s=this.element.getBoundingClientRect();this.scaleX=r.width/this.availableSize.width,this.scaleY=r.height/this.availableSize.height,this.mouseY=(i-s.top-Math.max(r.top-s.top,0))/this.scaleY,this.mouseX=(t-s.left-Math.max(r.left-s.left,0))/this.scaleX,this.stockChart&&(this.mouseX+=this.stockChart.legendSettings.position==="Left"?this.stockChart.stockLegendModule.legendBounds.width:0,this.mouseY+=this.stockChart.legendSettings.position==="Top"?this.stockChart.stockLegendModule.legendBounds.height:0)}},e.prototype.export=function(t,i){this.exportModule&&(this.exportModule.export(t,i),this.afterExport&&this.exportModule.getDataUrl(this))},e.prototype.chartResize=function(){var t=this;this.animateSeries=!1;var i={chart:this,name:ss,currentSize:new lt(0,0),previousSize:new lt(this.availableSize.width,this.availableSize.height)},r={name:"beforeResize",cancelResizedEvent:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(dl,r),r.cancelResizedEvent||(this.resizeTo=+setTimeout(function(){if(t.isDestroyed||t.stockChart){clearTimeout(t.resizeTo);return}t.createChartSvg(),i.currentSize=t.availableSize,t.trigger(ss,i),t.refreshAxis(),t.refreshBound(),t.trigger("loaded",{chart:t.isBlazor?{}:t})},500)),!1},e.prototype.mouseMove=function(t){var i,r,s;return this.allowPan||(t.type==="touchmove"?(this.isTouch=!0,s=t,i=s.changedTouches[0].clientX,r=s.changedTouches[0].clientY):(this.isTouch=t.pointerType==="touch"||t.pointerType==="2"||this.isTouch,i=t.clientX,r=t.clientY),this.previousPageX=i,this.previousPageY=r,G(this.svgId)&&(this.setMouseXY(i,r),this.chartOnMouseMove(t))),!1},e.prototype.mouseLeave=function(t){var i,r,s;return this.stockChart&&this.stockChart.onPanning||(t.type==="touchleave"?(this.isTouch=!0,s=t,i=s.changedTouches[0].clientX,r=s.changedTouches[0].clientY):(this.isTouch=t.pointerType==="touch"||t.pointerType==="2",i=t.clientX,r=t.clientY),this.previousPageX=null,this.previousPageY=null,this.setMouseXY(i,r),this.chartOnMouseLeave(t)),!1},e.prototype.chartOnMouseLeave=function(t){var i=t.target,r=se.isPointer?"pointerleave":"mouseleave";return this.trigger(pl,{target:i.id,x:this.mouseX,y:this.mouseY}),ze(this.element.id+"_EJ2_AxisLabel_Tooltip"),this.isChartDrag=this.isPointMouseDown=!1,this.notify(r,t),!1},e.prototype.chartOnDoubleClick=function(t){var i=t.target;return this.trigger(gl,{target:i.id,x:this.mouseX,y:this.mouseY}),!1},e.prototype.chartKeyDown=function(t){var i="";return(this.isZoomed&&t.code==="Tab"||t.code==="Space")&&t.preventDefault(),this.tooltip.enable&&(t.code==="Tab"&&this.previousTargetId.indexOf("Series")>-1||t.code==="Escape")&&(i="ESC"),this.highlightMode!=="None"&&t.code==="Tab"&&this.previousTargetId.indexOf("_chart_legend_")>-1&&this.highlightModule&&this.highlightModule.removeLegendHighlightStyles(),t.ctrlKey&&(t.key==="+"||t.code==="Equal"||t.key==="-"||t.code==="Minus")?(t.preventDefault(),this.isZoomed=this.zoomModule&&(this.zoomSettings.enableDeferredZooming||this.zoomSettings.enableSelectionZooming||this.zoomSettings.enablePinchZooming||this.zoomSettings.enableMouseWheelZooming),i=this.isZoomed?t.code:""):t.keyCode===82&&this.isZoomed?(t.preventDefault(),this.isZoomed=!1,i="R"):t.code.indexOf("Arrow")>-1&&(t.preventDefault(),i=this.isZoomed?t.code:""),t.ctrlKey&&t.key==="p"&&(t.preventDefault(),i="CtrlP"),i!==""&&this.chartKeyboardNavigations(t,t.target.id,i),!1},e.prototype.chartKeyUp=function(t){var i="",r=t.target.id,s,a,o=t.target,l=G(this.element.id+"_ChartTitle"),h=G(this.element.id+"SeriesCollection"),u=G(this.element.id+"_chart_legend_translate_g"),c=G(this.element.id+"_chart_legend_pageup");if(l&&l.setAttribute("class","e-chart-focused"),h&&h.firstElementChild&&h.firstElementChild.children[1]){var f=h.firstElementChild.children[1],d=f.getAttribute("class");d&&d.indexOf("e-chart-focused")===-1?d=d+" e-chart-focused":d||(d="e-chart-focused"),f.setAttribute("class",d)}if(u){var f=u.firstElementChild,d=f.getAttribute("class");d&&d.indexOf("e-chart-focused")===-1?d=d+" e-chart-focused":d||(d="e-chart-focused"),f.setAttribute("class",d)}if(c&&c.setAttribute("class","e-chart-focused"),t.code==="Tab"){if(this.previousTargetId!=="")if(this.previousTargetId.indexOf("_Series_")>-1&&r.indexOf("_Series_")===-1){s=G(this.element.id+"SeriesCollection");var g=this.previousTargetId.indexOf("_Symbol")>-1?G(this.element.id+"SymbolGroup"+this.currentSeriesIndex).children[this.currentPointIndex+1]:this.previousTargetId.indexOf("_Point_")>-1?s.children[this.currentSeriesIndex].children[this.currentPointIndex+1]:s.children[this.currentSeriesIndex];this.setTabIndex(g,s.firstElementChild),this.currentPointIndex=0,this.currentSeriesIndex=0}else this.previousTargetId.indexOf("_chart_legend_page")>-1&&r.indexOf("_chart_legend_page")===-1&&r.indexOf("_chart_legend_g_")===-1?this.setTabIndex(t.target,G(this.element.id+"_chart_legend_pageup")):this.previousTargetId.indexOf("_chart_legend_g_")>-1&&r.indexOf("_chart_legend_g_")===-1&&(s=G(this.element.id+"_chart_legend_translate_g"),this.setTabIndex(s.children[this.currentLegendIndex],s.firstElementChild));this.previousTargetId=r,r.indexOf("SeriesGroup")>-1&&(this.currentSeriesIndex=+r.split("SeriesGroup")[1],o.removeAttribute("tabindex"),o.blur(),o.children[1].id.indexOf("_Point_")===-1&&(a=G(this.element.id+"SymbolGroup"+r.split("SeriesGroup")[1])),r=this.focusChild(a!=null?a.children[1]:o.children[1])),i=this.highlightMode!=="None"||this.tooltip.enable?"Tab":""}else if(t.code.indexOf("Arrow")>-1){if(t.preventDefault(),this.previousTargetId=r,r.indexOf("_chart_legend_page")>-1)t.code==="ArrowLeft"?(G(this.element.id+"_chart_legend_pagedown").removeAttribute("tabindex"),this.focusChild(G(this.element.id+"_chart_legend_pageup"))):t.code==="ArrowRight"&&(G(this.element.id+"_chart_legend_pageup").removeAttribute("tabindex"),this.focusChild(G(this.element.id+"_chart_legend_pagedown")));else if(r.indexOf("_chart_legend_")>-1){var p=o.parentElement.children;p[this.currentLegendIndex].removeAttribute("tabindex"),this.currentLegendIndex+=t.code==="ArrowUp"||t.code==="ArrowRight"?1:-1,this.currentLegendIndex=this.getActualIndex(this.currentLegendIndex,p.length);var b=p[this.currentLegendIndex];this.focusChild(b),r=b.children[1].id,i=this.highlightMode!=="None"?"ArrowMove":""}else if(r.indexOf("_Series_")>-1){s=o.parentElement.parentElement;var y=t.target;if(o.removeAttribute("tabindex"),o.blur(),t.code==="ArrowRight"||t.code==="ArrowLeft"){for(var T=[],w=0;w<s.children.length;w++)s.children[w].id.indexOf("SeriesGroup")>-1&&T.push(+s.children[w].id.split("SeriesGroup")[1]);this.currentSeriesIndex=T.indexOf(this.currentSeriesIndex)+(t.code==="ArrowRight"?1:-1),this.currentSeriesIndex=T[this.getActualIndex(this.currentSeriesIndex,T.length)]}else this.currentPointIndex+=t.code==="ArrowUp"?1:-1;r.indexOf("_Symbol")>-1?(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,G(this.element.id+"SymbolGroup"+this.currentSeriesIndex).childElementCount-1),y=G(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex+"_Symbol")):r.indexOf("_Point_")>-1&&(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,G(this.element.id+"SeriesGroup"+this.currentSeriesIndex).childElementCount-1),y=G(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex)),r=this.focusChild(y),i=this.tooltip.enable||this.highlightMode!=="None"?"ArrowMove":""}}else(t.code==="Enter"||t.code==="Space")&&(r.indexOf("_chart_legend_")>-1||r.indexOf("_Point_")>-1)&&(r=r.indexOf("_chart_legend_page")>-1?r:r.indexOf("_chart_legend_")>-1?o.children[1].id:r,i="Enter");return i!==""&&this.chartKeyboardNavigations(t,r,i),!1},e.prototype.setTabIndex=function(t,i){t&&t.removeAttribute("tabindex"),i&&i.setAttribute("tabindex","0")},e.prototype.getActualIndex=function(t,i){return t>i-1?0:t<0?i-1:t},e.prototype.focusChild=function(t){t.setAttribute("tabindex","0");var i=t.getAttribute("class");return t.setAttribute("tabindex","0"),i&&i.indexOf("e-chart-focused")===-1?i="e-chart-focused "+i:i||(i="e-chart-focused"),t.setAttribute("class",i),t.focus(),t.id},e.prototype.documentKeyHandler=function(t){t.altKey&&t.keyCode===74&&!U(this.element)&&this.element.focus()},e.prototype.chartKeyboardNavigations=function(t,i,r){switch(this.isLegendClicked=!1,r){case"Tab":case"ArrowMove":if(this.highlightModule&&this.highlightModule.removeLegendHighlightStyles(),i.indexOf("_Point_")>-1){var s=+i.split("_Series_")[1].split("_Point_")[0],a=+i.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],o=this.visibleSeries[s].points[a].symbolLocations[0];this.mouseX=o.x+this.initialClipRect.x,this.mouseY=o.y+this.initialClipRect.y,this.highlightModule&&(this.highlightModule.highlightChart(document.getElementById(i),"mousemove"),this.highlightModule.completeSelection(document.getElementById(i),"mousemove")),this.tooltipModule&&this.tooltipModule.tooltip()}if(this.highlightModule&&this.highlightMode!=="None"){i=i.indexOf("_chart_legend_g_")>-1?document.getElementById(i).firstChild.id:i;for(var l=this.element.id+"_chart_legend",h=[l+"_text_",l+"_shape_marker_",l+"_shape_"],u=0;u<h.length;u++){var c=h[u];if(i.indexOf(c)>-1){document.getElementById(i).setAttribute("class",""),this.highlightModule.legendSelection(this,parseInt(i.split(c)[1],10),document.getElementById(i),"mousemove");break}}}break;case"Enter":case"Space":i.indexOf("_chart_legend_")>-1?(this.isLegendClicked=!0,this.legendModule.click(t),this.focusChild(document.getElementById(i).parentElement)):this.selectionModule.calculateSelectedElements(document.getElementById(i),"click");break;case"CtrlP":this.print();break;case"ESC":this.tooltipModule.removeTooltip(1);break;case"Equal":case"Minus":this.zoomModule.isZoomed=this.zoomModule.performedUI=!0,this.zoomModule.isPanning=this.isChartDrag=!1,r==="Equal"?this.zoomModule.toolkit.zoomInOutCalculation(1,this,this.axisCollections,this.zoomSettings.mode):this.zoomModule.toolkit.zoomInOutCalculation(-1,this,this.axisCollections,this.zoomSettings.mode),this.zoomModule.performZoomRedraw(this),this.element.focus();break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{var f=r==="ArrowUp"?10:r==="ArrowDown"?-10:0,d=r==="ArrowLeft"?-10:r==="ArrowRight"?10:0;this.zoomModule.isPanning=this.isChartDrag=!0,this.zoomModule.doPan(this,this.axisCollections,d,f),this.zoomModule.performZoomRedraw(this),this.element.focus();break}case"R":this.zoomModule.toolkit.reset(t);break}},e.prototype.chartOnMouseClick=function(t){var i=this,r=t.target,s=this;this.clickCount++;var a=this.FindXYPointValue(s.mouseX,s.mouseY),o=400;this.clickCount===1?this.singleClickTimer=+setTimeout(function(){s.clickCount=0,s.trigger(ml,{target:r.id,x:s.mouseX,y:s.mouseY,axisData:a})},o):this.clickCount===2&&!this.pointDoubleClick&&(clearTimeout(this.singleClickTimer),this.clickCount=0);var l="isAngular";if(this[l]){var h="observers";o=this.pointDoubleClick[h].length>0?400:0}else o=this.pointDoubleClick?400:0;return this.clickCount===1&&this.pointClick?this.singleClickTimer=+setTimeout(function(){i.clickCount=0,i.triggerPointEvent(vl,t)},o):this.clickCount===2&&this.pointDoubleClick&&(clearTimeout(this.singleClickTimer),this.clickCount=0,this.triggerPointEvent(yl,t)),this.axisLabelClick&&this.triggerAxisLabelClickEvent(bl,t),this.notify("click",t),!1},e.prototype.FindXYPointValue=function(t,i){if(it(t,i,this.chartAxisLayoutPanel.seriesClipRect)&&this.series.some(function(u){return u.visible})){for(var r=void 0,s=void 0,a=void 0,o={},l=0,h=this.axisCollections.length;l<h;l++)r=this.axisCollections[l],r.orientation==="Horizontal"?(s=wl(Math.abs(t-r.rect.x),r.rect.width,r),o[this.axisCollections[l].name]=s):(a=Sl(Math.abs(i-r.rect.y),r.rect.height,r),o[this.axisCollections[l].name]=a);return o}return null},e.prototype.triggerPointEvent=function(t,i){var r=i,s=new va(this),a=s.getData();a.series&&a.point&&this.trigger(t,{series:this.isBlazor?{}:a.series,point:a.point,seriesIndex:a.series.index,pointIndex:a.point.index,x:this.mouseX,y:this.mouseY,pageX:r.pageX,pageY:r.pageY})},e.prototype.triggerAxisLabelClickEvent=function(t,i){var r=i.target,s=i;if(r.id.indexOf("_AxisLabel_")!==-1){var a=r.id.split("_AxisLabel_"),o=+a[0].slice(-1),l=+a[1],h=this.axisCollections[o];h.visible&&(o===0||o===1)&&this.trigger(t,{chart:this,axis:h,text:h.visibleLabels[l].text,labelID:r.id,index:l,location:new ge(s.pageX,s.pageY),value:h.visibleLabels[l].value})}},e.prototype.chartOnMouseMove=function(t){var i=t.target,r=this.FindXYPointValue(this.mouseX,this.mouseY);return this.trigger(xl,{target:i.id,x:this.mouseX,y:this.mouseY,axisData:r}),this.pointMove&&this.triggerPointEvent(Cl,t),this.isTouch||(this.titleTooltip(t,this.mouseX,this.mouseY),this.axisTooltip(t,this.mouseX,this.mouseY)),this.dataEditingModule&&this.dataEditingModule.pointMouseMove(t),this.crosshair.enable&&this.startMove&&t.preventDefault(),this.notify(se.touchMoveEvent,t),this.isTouch=!1,!1},e.prototype.titleTooltip=function(t,i,r,s){var a=t.target.id,o=a===this.element.id+"_ChartTitle"||a===this.element.id+"_ChartSubTitle"||a.indexOf("_AxisTitle")>-1||a.indexOf("_legend_title")>-1,l=0;if(a.indexOf("_AxisTitle")>-1&&(l=parseInt(a.replace(this.element.id,"").replace("AxisLabel_","").split("_")[2],10)),o&&t.target.textContent.indexOf("...")>-1){var h=a===this.element.id+"_ChartTitle"?this.title:a.indexOf("_AxisTitle")>-1?this.axisCollections[l].title:a.indexOf("_ChartSubTitle")>-1?this.subTitle:this.legendSettings.title;as(h,i,r,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",G(this.element.id+"_Secondary_Element"),s)}else ze(this.element.id+"_EJ2_Title_Tooltip")},e.prototype.axisTooltip=function(t,i,r,s){var a=t.target.id;if((a.indexOf("AxisLabel")>-1||a.indexOf("Axis_MultiLevelLabel")>-1)&&t.target.textContent.indexOf("...")>-1){var o=this.legendSettings.visible||this.primaryXAxis.title==="";as(this.findAxisLabel(a),i,r,this.element.offsetWidth,this.element.id+"_EJ2_AxisLabel_Tooltip",G(this.element.id+"_Secondary_Element"),s,o)}else ze(this.element.id+"_EJ2_AxisLabel_Tooltip")},e.prototype.findAxisLabel=function(t){var i;return t.indexOf("AxisLabel")>-1?(i=t.replace(this.element.id,"").replace("AxisLabel_","").split("_"),this.axisCollections[parseInt(i[0],10)].visibleLabels[parseInt(i[1],10)].originalText):(i=t.replace(this.element.id,"").replace("Axis_MultiLevelLabel_Level_","").replace("Text_","").split("_"),this.axisCollections[parseInt(i[0],10)].multiLevelLabels[parseInt(i[1],10)].categories[parseInt(i[2],10)].text)},e.prototype.chartOnMouseDown=function(t){var i,r,s,a,o=this.FindXYPointValue(this.mouseX,this.mouseY),l=se.isDevice?20:30,h=this.element.getBoundingClientRect(),u=t.target;this.stockChart&&this.stockChart.zoomSettings.enablePan&&(this.allowPan=!0),this.trigger(Tl,{target:u.id,x:this.mouseX,y:this.mouseY,axisData:o}),t.type==="touchstart"?(this.isTouch=!0,a=t,i=a.changedTouches[0].clientX,r=a.changedTouches[0].clientY,s=a.target):(this.isTouch=t.pointerType==="touch",i=t.clientX,r=t.clientY,s=t.target);var c=G(this.svgId).getBoundingClientRect();return this.mouseDownX=this.previousMouseMoveX=i-h.left-Math.max(c.left-h.left,0),this.mouseDownY=this.previousMouseMoveY=r-h.top-Math.max(c.top-h.top,0),this.isTouch&&(this.isDoubleTap=new Date().getTime()<this.threshold&&s.id.indexOf(this.element.id+"_Zooming_")===-1&&(this.mouseDownX-l>=this.mouseX||this.mouseDownX+l>=this.mouseX)&&(this.mouseDownY-l>=this.mouseY||this.mouseDownY+l>=this.mouseY)&&(this.mouseX-l>=this.mouseDownX||this.mouseX+l>=this.mouseDownX)&&(this.mouseY-l>=this.mouseDownY||this.mouseY+l>=this.mouseDownY)),this.dataEditingModule&&this.dataEditingModule.pointMouseDown(),this.notify(se.touchStartEvent,t),!1},e.prototype.mouseEnd=function(t){var i,r,s;return t.type==="touchend"?(s=t,r=s.changedTouches[0].clientX,this.isTouch=!0,i=s.changedTouches[0].clientY):(i=t.clientY,r=t.clientX,this.isTouch=t.pointerType==="touch"||t.pointerType==="2"),this.setMouseXY(r,i),this.chartOnMouseUp(t),!1},e.prototype.chartOnMouseUp=function(t){var i=t.target,r=this.FindXYPointValue(this.mouseX,this.mouseY);return this.trigger(Al,{target:i.id,x:this.mouseX,y:this.mouseY,axisData:r}),this.isChartDrag=!1,this.allowPan=!1,this.isTouch&&(this.titleTooltip(t,this.mouseX,this.mouseY,this.isTouch),this.axisTooltip(t,this.mouseX,this.mouseY,this.isTouch),this.threshold=new Date().getTime()+300),this.dataEditingModule&&this.dataEditingModule.pointMouseUp(),!this.enableCanvas&&this.seriesElements&&this.seriesElements.removeAttribute("clip-path"),this.notify(se.touchEndEvent,t),!1},e.prototype.setCulture=function(){this.intl=new Mn,this.setLocaleConstants(),this.localeObject=new Io(this.getModuleName(),this.defaultLocalConstants,this.locale)},e.prototype.setAnnotationValue=function(t,i){var r=G(this.element.id+"_Annotation_Collections"),s=this.annotations[t],a;i!==null&&(s.content=i,r?(ze(this.element.id+"_Annotation_"+t),a=this.createElement("div"),this.annotationModule.processAnnotation(s,t,a),r.appendChild(a.children[0])):this.annotationModule.renderAnnotations(G(this.element.id+"_Secondary_Element")))},e.prototype.setLocaleConstants=function(){this.defaultLocalConstants={ZoomIn:"Zoom in",Zoom:"Zoom",ZoomOut:"Zoom out",Pan:"Pan",Reset:"Reset",ResetZoom:"Reset Zoom"}},e.prototype.setTheme=function(){if(this.themeStyle=El(this.theme,this.enableCanvas,this),!document.getElementById(this.element.id+"Keyboard_chart_focus")){var t=document.createElement("style");t.setAttribute("id",this.element.id+"Keyboard_chart_focus"),t.innerText=".e-chart-focused:focus, path[class*=_ej2_chart_selection_series]:focus,path[id*=_Point_]:focus, text[id*=_ChartTitle]:focus {outline: none } .e-chart-focused:focus-visible, path[class*=_ej2_chart_selection_series]:focus-visible,path[id*=_Point_]:focus-visible, text[id*=_ChartTitle]:focus-visible {outline: 1.5px "+this.themeStyle.tabColor+" solid}",document.body.appendChild(t)}},e.prototype.requiredModules=function(){var t=this,i=[],r=this.series,s=!1,a,o=!1,l=!1,h=!1,u=this.zoomSettings;return this.chartAreaType=r.length>0&&(r[0].type==="Polar"||r[0].type==="Radar")?"PolarRadar":"Cartesian",this.tooltip.enable&&i.push({member:"Tooltip",args:[this]}),r.map(function(c){t.isLegend=t.legendSettings.visible&&(c.name!==""||!!t.isLegend),a=c.type.indexOf("100")!==-1?c.type.replace("100","")+"Series":c.type+"Series",o=c.errorBar.visible||o,h=c.marker.dataLabel.visible||h||c.type==="Pareto"&&c.paretoOptions.marker.dataLabel.visible,l=c.dragSettings.enable||l,i.some(function(f){return f.member===a})||i.push({member:a,args:[t,r]}),t.chartAreaType==="PolarRadar"&&i.push({member:c.drawType+"Series",args:[t,r]}),c.type==="Pareto"&&(i.push({member:"ColumnSeries",args:[t,r]}),i.push({member:"LineSeries",args:[t,r]}))}),this.findIndicatorModules(i),this.findTrendLineModules(i),i=this.findAxisModule(i),s=this.annotations.some(function(c){return c.content!==null}),o&&i.push({member:"ErrorBar",args:[this,r]}),this.isLegend&&i.push({member:"Legend",args:[this]}),(this.enableExport||this.allowExport)&&i.push({member:"Export",args:[this]}),this.chartAreaType!=="PolarRadar"&&this.crosshair.enable&&i.push({member:"Crosshair",args:[this]}),this.chartAreaType!=="PolarRadar"&&!this.scrollSettingEnabled&&(u.enableSelectionZooming||u.enableMouseWheelZooming||u.enablePinchZooming||u.enablePan||u.enableScrollbar||u.showToolbar)&&(i.push({member:"Zoom",args:[this,this.zoomSettings]}),u.enableScrollbar&&i.push({member:"ScrollBar",args:[this]})),this.selectionMode!=="None"&&!(this.chartAreaType==="PolarRadar"&&this.selectionMode.indexOf("Drag")>-1)&&i.push({member:"Selection",args:[this]}),(this.highlightMode!=="None"||this.legendSettings.enableHighlight)&&i.push({member:"Highlight",args:[this]}),h&&i.push({member:"DataLabel",args:[this,r]}),l&&i.push({member:"DataEditing",args:[this]}),s&&i.push({member:"Annotation",args:[this]}),i},e.prototype.findAxisModule=function(t){var i=[];i.push(this.primaryXAxis),i.push(this.primaryYAxis),i=i.concat(this.axes);for(var r=!1,s=!1,a=!1,o=!1,l=!1,h=!1,u=0,c=i;u<c.length;u++){var f=c[u];r=f.valueType==="DateTime"||r,s=f.valueType==="Category"||s,a=f.valueType==="Logarithmic"||a,l=f.valueType==="DateTimeCategory"||l,o=this.findStriplineVisibility(f.stripLines)||o,h=f.multiLevelLabels.length>0||h,this.scrollSettingEnabled=f.scrollbarSettings.enable?!0:this.scrollSettingEnabled}return r&&t.push({member:"DateTime",args:[this]}),s&&t.push({member:"Category",args:[this]}),a&&t.push({member:"Logarithmic",args:[this]}),o&&t.push({member:"StripLine",args:[this]}),h&&t.push({member:"MultiLevelLabel",args:[this]}),l&&t.push({member:"DateTimeCategory",args:[this]}),this.scrollSettingEnabled&&t.push({member:"ScrollBar",args:[this]}),t},e.prototype.findIndicatorModules=function(t){var i,r,s=this.indicators;if(this.indicators.length){t.push({member:"LineSeries",args:[this]}),s.map(function(h){i=i||h.type==="Macd",r=r||h.type==="BollingerBands"}),i&&t.push({member:"ColumnSeries",args:[this]}),r&&t.push({member:"RangeAreaSeries",args:[this]}),r&&t.push({member:"SplineRangeAreaSeries",args:[this]});for(var a=0,o=this.indicators;a<o.length;a++){var l=o[a];t.push({member:l.type+"Indicator",args:[this]})}}},e.prototype.findTrendLineModules=function(t){for(var i,r,s=function(u){var c;u.trendlines.map(function(f){c=c||f.marker.visible,i=!!(i||f.type==="Linear"||f.type==="MovingAverage"),r=!!(r||!i||f.type==="Exponential"||f.type==="Logarithmic"||f.type==="Power"||f.type==="Polynomial")}),c&&t.push({member:"Marker",args:[a,u]})},a=this,o=0,l=this.series;o<l.length;o++){var h=l[o];s(h)}(i||r)&&t.push({member:"TrendLine",args:[this]}),i&&t.push({member:"LineSeries",args:[this]}),r&&t.push({member:"SplineSeries",args:[this]})},e.prototype.findStriplineVisibility=function(t){for(var i=!1,r=0,s=t;r<s.length;r++){var a=s[r];if(a.visible){i=!0;break}}return i},e.prototype.removeSvg=function(){if(this.redraw)return null;if(ya(this),this.enableCanvas&&this.svgObject&&this.svgObject.tagName==="CANVAS")return this.renderer.clearRect(new he(0,0,this.availableSize.width,this.availableSize.height)),this.svgObject.parentNode&&qe(this.svgObject),null;ze(this.element.id+"_Secondary_Element"),this.isReact&&this.clearTemplate();var t=0;if(this.zoomModule&&this.zoomModule.pinchTarget&&(this.zoomModule.pinchTarget.id="",this.zoomModule.pinchTarget.setAttribute("opacity","0"),this.svgObject.appendChild(this.zoomModule.pinchTarget),t=1),!U(this.resizeTo)){if(this.resizeTo!==this.checkResize&&this.isBlazor&&this.element.childElementCount)for(var i=document.querySelectorAll(".e-chart"),r=0;r<i.length;r++)for(var s=i[r];s.firstChild;)qe(s.firstChild);this.checkResize=this.resizeTo}if(this.svgObject){for(;this.svgObject.childNodes.length>t;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&!this.stockChart&&qe(this.svgObject)}},e.prototype.refreshDefinition=function(t){for(var i=0,r=t;i<r.length;i++){var s=r[i];s.axes=[]}},e.prototype.refreshAxis=function(){var t=this.primaryXAxis;t.rect=new he(void 0,void 0,0,0),t=this.primaryYAxis,t.isStack100=!1,t.rect=new he(void 0,void 0,0,0);for(var i=0,r=this.axes;i<r.length;i++){var s=r[i];t=s,t.rect=new he(void 0,void 0,0,0),t.isStack100=!1}if(this.paretoSeriesModule&&this.series[0].type==="Pareto")for(var a=0,o=this.paretoSeriesModule.paretoAxes;a<o.length;a++){var s=o[a];t=s,t.rect=new he(void 0,void 0,0,0),t.isStack100=!1}},e.prototype.axisChange=function(t){return!t.name&&!t.valueType?!1:(this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(),!0)},e.prototype.getVisibleSeries=function(t,i){for(var r=0,s=t;r<s.length;r++){var a=s[r];if(i===a.index)return a}return null},e.prototype.refreshLiveData=function(){this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),this.isBlazor||(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))},e.prototype.removeStyles=function(){ze(this.element.id+"_ej2_chart_selection"),ze(this.element.id+"_ej2_chart_highlight")},e.prototype.mouseMoveEvent=function(){if(this.tooltip.enable&&this.previousPageX!==null&&this.previousPageY!==null){var t=document.createEvent("MouseEvent");t.initMouseEvent("mousemove",!0,!1,window,1,100,100,this.previousPageX,this.previousPageY,!1,!1,!1,!1,0,null),this.element.dispatchEvent(t)}},e.prototype.showTooltip=function(t,i,r){if(r===void 0&&(r=!1),r)for(var s=0,a=this.visibleSeries;s<a.length;s++)for(var o=a[s],l=0,h=o.points;l<h.length;l++){var u=h[l],c=o.xAxis.valueType==="DateTime"?u.xValue:u.x,f=t;if(o.xAxis.valueType==="DateTime"&&(f=new Date(f).getTime()),t===c&&i===u.yValue){this.mouseX=u.regions[0].x+this.chartAxisLayoutPanel.seriesClipRect.x,this.mouseY=u.regions[0].y+this.chartAxisLayoutPanel.seriesClipRect.y,this.tooltipModule.tooltip(),this.markerRender.mouseMoveHandler();break}}else this.isTouch&&(this.startMove=!0),this.mouseX=t,this.mouseY=i,this.tooltipModule.mouseMoveHandler(),this.markerRender.mouseMoveHandler()},e.prototype.hideTooltip=function(){this.tooltipModule.removeTooltip(se.isDevice?2e3:1e3)},e.prototype.showCrosshair=function(t,i){this.mouseX=t,this.mouseY=i,this.isCrosshair=!1,it(this.mouseX,this.mouseY,this.chartAxisLayoutPanel.seriesClipRect)?this.crosshairModule.crosshair():this.hideCrosshair(),this.isCrosshair=!0},e.prototype.hideCrosshair=function(){this.crosshairModule.removeCrosshair(se.isDevice?2e3:1e3)},e.prototype.sanitize=function(t){return this.enableHtmlSanitizer?Do.sanitize(t):t},e.prototype.onPropertyChanged=function(t,i){var r=!1,s=!1;this.animateSeries=!1;var a;if(!this.delayRedraw&&!this.zoomRedraw){for(var o=0,l=Object.keys(t);o<l.length;o++){var h=l[o];switch(h){case"primaryXAxis":a=t.primaryXAxis,s=this.axisChange(a),t.primaryXAxis.edgeLabelPlacement&&(r=!0),t.primaryXAxis.crosshairTooltip||(s=!0),t.primaryXAxis.scrollbarSettings&&(s=!0),(!U(a.isInversed)||!U(a.opposedPosition))&&this.primaryXAxis.setIsInversedAndOpposedPosition();break;case"primaryYAxis":a=t.primaryYAxis,s=this.axisChange(a),t.primaryYAxis.edgeLabelPlacement&&(r=!0),t.primaryYAxis.crosshairTooltip||(s=!0),t.primaryYAxis.scrollbarSettings&&(s=!0),(!U(a.isInversed)||!U(a.opposedPosition))&&this.primaryYAxis.setIsInversedAndOpposedPosition();break;case"axes":for(var u=0,c=Object.keys(t.axes);u<c.length;u++){var f=c[u];a=t.axes[f],s=s||this.axisChange(a),a.crosshairTooltip||(s=!0),a.scrollbarSettings&&(s=!0),(!U(a.isInversed)||!U(a.opposedPosition))&&this.axes[f].setIsInversedAndOpposedPosition()}break;case"height":case"width":this.createChartSvg(),s=!0;break;case"subTitle":case"title":s=!0;break;case"titleStyle":t.titleStyle&&(t.titleStyle.size||t.titleStyle.textOverflow)?s=!0:r=!0;break;case"subTitleStyle":t.subTitleStyle&&(t.subTitleStyle.size||t.subTitleStyle.textOverflow)?s=!0:r=!0;break;case"border":r=!0;break;case"dataSource":this.processData(!1),s=!0;break;case"enableCanvas":this.refresh();break;case"series":{for(var d=this.series.length,g=!1,p=void 0,b=void 0,y=0;y<d;y++)p=t.series[y],this.isBlazor&&p&&(p.visible!==i.series[y].visible||p.isClosed||p.marker||p.emptyPointSettings||p.type||p.boxPlotMode||p.showMean)&&(b=!0),!U(p)&&(p.dataSource||p.query||p.errorBar||p.xName||p.yName||p.size||p.high||p.low||p.open||p.close||p.trendlines||p.fill||p.name||p.marker||p.width||p.binInterval||p.type||p.visible!==i.series[y].visible||b)&&(_e(this.getVisibleSeries(this.visibleSeries,y),p,null,!0),g=!0);g&&(this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),s=!0);break}case"indicators":s=!0;break;case"zoomSettings":(t.zoomSettings.enableScrollbar||i.zoomSettings.enableScrollbar)&&(s=!0),r=!0;break;case"background":r=!0;break;case"chartArea":t.chartArea.border&&t.chartArea.border.width&&(s=!0),r=!0;break;case"legendSettings":(!t.legendSettings.background||!t.legendSettings.opacity)&&(s=!0),r=!0;break;case"palettes":this.calculateVisibleSeries(),r=!0;break;case"selectedDataIndexes":this.selectionModule?(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.selectedDataIndexes=this.selectedDataIndexes,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode,!0)):this.highlightModule&&(this.highlightModule.currentMode=this.highlightMode,this.highlightModule.highlightDataIndexes=this.selectedDataIndexes,this.highlightModule.styleId=this.element.id+"_ej2_chart_highlight",this.highlightModule.redrawSelection(this,i.selectionMode,!0));break;case"selectionMode":this.selectionModule&&t.selectionMode&&t.selectionMode.indexOf("Drag")===-1&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode,!0));break;case"isMultiSelect":this.selectionModule&&!t.isMultiSelect&&this.selectionModule.selectedDataIndexes.length>1&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode));break;case"highlightMode":case"selectionPattern":case"highlightPattern":this.removeStyles(),r=!0;break;case"theme":this.animateSeries=!0;break;case"enableRtl":case"locale":case"currencyCode":this.isBlazor?(this.setCulture(),r=!0):this.refresh();break;case"tooltip":this.tooltipModule&&(this.tooltipModule.previousPoints=[],this.tooltip.template&&(this.tooltipModule.template=this.tooltip.template));break}}!s&&r&&(this.rotatedDataLabelCollections=[],this.removeSvg(),this.renderElements(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),s&&(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.isReact&&this.clearTemplate(),this.dragY=null,this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}),this.redraw=!1,this.animated=!1)}this.zoomRedraw=!1},N([P(null)],e.prototype,"width",void 0),N([P(null)],e.prototype,"height",void 0),N([P("")],e.prototype,"title",void 0),N([P("")],e.prototype,"dataSource",void 0),N([ae({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},os)],e.prototype,"titleStyle",void 0),N([P("")],e.prototype,"subTitle",void 0),N([ae({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},os)],e.prototype,"subTitleStyle",void 0),N([ae({},fa)],e.prototype,"margin",void 0),N([ae({color:"#DDDDDD",width:0},ar)],e.prototype,"border",void 0),N([P(null)],e.prototype,"background",void 0),N([ae({border:{color:null,width:.5},background:"transparent"},Ll)],e.prototype,"chartArea",void 0),N([P(!1)],e.prototype,"enableHtmlSanitizer",void 0),N([ae({name:"primaryXAxis"},gr)],e.prototype,"primaryXAxis",void 0),N([ae({name:"primaryYAxis"},gr)],e.prototype,"primaryYAxis",void 0),N([St([{}],Pl)],e.prototype,"rows",void 0),N([St([{}],Ml)],e.prototype,"columns",void 0),N([St([{}],gr)],e.prototype,"axes",void 0),N([St([{}],Be)],e.prototype,"series",void 0),N([St([{}],Ol)],e.prototype,"annotations",void 0),N([P([])],e.prototype,"palettes",void 0),N([P("Material")],e.prototype,"theme",void 0),N([ae({},kl)],e.prototype,"tooltip",void 0),N([ae({},xh)],e.prototype,"crosshair",void 0),N([ae({},Rl)],e.prototype,"legendSettings",void 0),N([St([{}],Sh)],e.prototype,"rangeColorSettings",void 0),N([ae({},Ch)],e.prototype,"zoomSettings",void 0),N([P("")],e.prototype,"highlightColor",void 0),N([P("None")],e.prototype,"selectionMode",void 0),N([P("None")],e.prototype,"highlightMode",void 0),N([P("None")],e.prototype,"selectionPattern",void 0),N([P("None")],e.prototype,"highlightPattern",void 0),N([P(!1)],e.prototype,"isMultiSelect",void 0),N([P(!1)],e.prototype,"allowMultiSelection",void 0),N([P(!0)],e.prototype,"enableExport",void 0),N([P(!1)],e.prototype,"allowExport",void 0),N([St([],Bl)],e.prototype,"selectedDataIndexes",void 0),N([P(!1)],e.prototype,"useGroupingSeparator",void 0),N([P(!1)],e.prototype,"enableAutoIntervalOnBothAxis",void 0),N([P(!1)],e.prototype,"isTransposed",void 0),N([P(!1)],e.prototype,"enableCanvas",void 0),N([P(null)],e.prototype,"backgroundImage",void 0),N([St([],vs)],e.prototype,"indicators",void 0),N([P(!0)],e.prototype,"enableAnimation",void 0),N([P(null)],e.prototype,"description",void 0),N([P(1)],e.prototype,"tabIndex",void 0),N([P(!0)],e.prototype,"enableSideBySidePlacement",void 0),N([K()],e.prototype,"resized",void 0),N([K()],e.prototype,"beforeResize",void 0),N([K()],e.prototype,"annotationRender",void 0),N([K()],e.prototype,"beforePrint",void 0),N([K()],e.prototype,"loaded",void 0),N([K()],e.prototype,"beforeExport",void 0),N([K()],e.prototype,"afterExport",void 0),N([K()],e.prototype,"load",void 0),N([K()],e.prototype,"animationComplete",void 0),N([K()],e.prototype,"legendRender",void 0),N([K()],e.prototype,"textRender",void 0),N([K()],e.prototype,"pointRender",void 0),N([K()],e.prototype,"seriesRender",void 0),N([K()],e.prototype,"axisLabelRender",void 0),N([K()],e.prototype,"axisLabelClick",void 0),N([K()],e.prototype,"axisRangeCalculated",void 0),N([K()],e.prototype,"axisMultiLabelRender",void 0),N([K()],e.prototype,"legendClick",void 0),N([K()],e.prototype,"multiLevelLabelClick",void 0),N([K()],e.prototype,"tooltipRender",void 0),N([K()],e.prototype,"sharedTooltipRender",void 0),N([K()],e.prototype,"chartMouseMove",void 0),N([K()],e.prototype,"chartMouseClick",void 0),N([K()],e.prototype,"chartDoubleClick",void 0),N([K()],e.prototype,"pointClick",void 0),N([K()],e.prototype,"pointDoubleClick",void 0),N([K()],e.prototype,"pointMove",void 0),N([K()],e.prototype,"chartMouseLeave",void 0),N([K()],e.prototype,"chartMouseDown",void 0),N([K()],e.prototype,"chartMouseUp",void 0),N([K()],e.prototype,"dragComplete",void 0),N([K()],e.prototype,"selectionComplete",void 0),N([K()],e.prototype,"zoomComplete",void 0),N([K()],e.prototype,"onZooming",void 0),N([K()],e.prototype,"scrollStart",void 0),N([K()],e.prototype,"scrollEnd",void 0),N([K()],e.prototype,"scrollChanged",void 0),N([K()],e.prototype,"dragStart",void 0),N([K()],e.prototype,"drag",void 0),N([K()],e.prototype,"dragEnd",void 0),N([P("USD")],e.prototype,"currencyCode",void 0),e=N([ia],e),e}(ra),Ah=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_a=function(n){Ah(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.calculateDateTimeNiceInterval=function(t,i,r,s,a){a===void 0&&(a=!0);var o=24*60*60*1e3,l=new Date(r),h=new Date(s),u=Math.abs((l.getTime()-h.getTime())/o),c;t.actualIntervalType=t.intervalType;var f=t.intervalType;switch(f){case"Years":c=this.calculateNumericNiceInterval(t,u/365,i);break;case"Quarter":c=this.calculateNumericNiceInterval(t,u/365*4,i);break;case"Months":c=this.calculateNumericNiceInterval(t,u/30,i);break;case"Weeks":c=this.calculateNumericNiceInterval(t,u/7,i);break;case"Days":c=this.calculateNumericNiceInterval(t,u,i);break;case"Hours":c=this.calculateNumericNiceInterval(t,u*24,i);break;case"Minutes":c=this.calculateNumericNiceInterval(t,u*24*60,i);break;case"Seconds":c=this.calculateNumericNiceInterval(t,u*24*60*60,i);break;case"Auto":return c=this.calculateNumericNiceInterval(t,u/365,i),c>=1?(t.actualIntervalType="Years",c):(c=this.calculateNumericNiceInterval(t,u/30,i),c>=1?(t.actualIntervalType="Months",c):(c=this.calculateNumericNiceInterval(t,u/7,i),c>=1&&!a?(t.actualIntervalType="Weeks",c):(c=this.calculateNumericNiceInterval(t,u,i),c>=1?(t.actualIntervalType="Days",c):(c=this.calculateNumericNiceInterval(t,u*24,i),c>=1?(t.actualIntervalType="Hours",c):(c=this.calculateNumericNiceInterval(t,u*24*60,i),c>=1?(t.actualIntervalType="Minutes",c):(c=this.calculateNumericNiceInterval(t,u*24*60*60,i),t.actualIntervalType="Seconds",c))))))}return c},e.prototype.getSkeleton=function(t,i,r,s){var a,o=t.actualIntervalType;return t.skeleton?t.skeleton:(o==="Years"?s?a=(t.isChart&&t.valueType==="DateTime","y"):a=t.isChart?t.valueType==="DateTime"&&t.isIntervalInDecimal?"y":"yMMM":"y":o==="Quarter"?a=s?"y":"yMMM":o==="Months"?s?a=(t.isChart,"m"):a=t.isChart?"MMMd":"MMM":o==="Weeks"?a=s?"m":"MEd":o==="Days"?s?a="d":a=t.isChart?t.valueType==="DateTime"?"MMMd":"yMd":"MMMd":o==="Hours"?s?a="t":a=t.isChart?t.valueType==="DateTime"?"Hm":"EHm":"h":o==="Minutes"?s?a="T":a=t.isChart?"Hms":"hm":s?a="T":a=t.isChart?"Hms":"hms",a)},e.prototype.findCustomFormats=function(t){var i=t.labelFormat?t.labelFormat:"";return t.isChart&&!t.skeleton&&t.actualIntervalType==="Months"&&!i&&(i=t.valueType==="DateTime"?"MMM yyyy":"yMMM"),i},e}(Dl),Eh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Va=function(n){Eh(e,n);function e(t){return n.call(this,t)||this}return e.prototype.calculateRangeAndInterval=function(t,i){this.calculateRange(i),this.getActualRange(i,t),this.applyRangePadding(i,t),this.calculateVisibleLabels(i,this.chart)},e.prototype.getActualRange=function(t,i){var r={skeleton:"full",type:"dateTime"},s=this.chart.intl.getDateParser(r),a=this.chart.intl.getDateFormat(r);t.minimum!==null?this.min=this.chart.isBlazor?Date.parse(t.minimum.toString()):Date.parse(s(a(new Date(Er.parse.parseJson({val:t.minimum}).val)))):(this.min===null||this.min===Number.POSITIVE_INFINITY)&&(this.min=Date.parse(s(a(new Date(1970,1,1))))),t.maximum!==null?this.max=this.chart.isBlazor?Date.parse(t.maximum.toString()):Date.parse(s(a(new Date(Er.parse.parseJson({val:t.maximum}).val)))):(this.max===null||this.max===Number.NEGATIVE_INFINITY)&&(this.max=Date.parse(s(a(new Date(1970,5,1))))),this.min===this.max&&(this.max=this.max+2592e6,this.min=this.min-2592e6),t.actualRange={},t.doubleRange=new Nt(this.min,this.max);var o=this.calculateDateTimeNiceInterval(t,i,t.doubleRange.start,t.doubleRange.end);t.interval?t.actualRange.interval=t.interval:t.actualRange.interval=o,t.actualRange.min=t.doubleRange.start,t.actualRange.max=t.doubleRange.end},e.prototype.applyRangePadding=function(t,i){this.min=t.actualRange.min,this.max=t.actualRange.max;var r,s,a=t.actualRange.interval;if(!ft(t)){var o=t.getRangePadding(this.chart);r=new Date(this.min),s=new Date(this.max);var l=t.actualIntervalType;if(o==="None")this.min=r.getTime(),this.max=s.getTime();else if(o==="Additional"||o==="Round")switch(l){case"Years":this.getYear(r,s,o,a);break;case"Months":this.getMonth(r,s,o,a);break;case"Days":this.getDay(r,s,o,a);break;case"Hours":this.getHour(r,s,o,a);break;case"Minutes":{var h=r.getMinutes()/a*a,u=s.getMinutes()+(r.getMinutes()-h);o==="Round"?(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),h,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),u,59).getTime()):(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),h+-a,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),u+a,0).getTime());break}case"Seconds":{var c=r.getSeconds()/a*a,f=s.getSeconds()+(r.getSeconds()-c);o==="Round"?(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),c,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),f,0).getTime()):(this.min=new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),c+-a,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),f+a,0).getTime());break}}}t.actualRange.min=t.minimum!=null?this.min:this.min,t.actualRange.max=t.maximum!=null?this.max:this.max,t.actualRange.delta=t.actualRange.max-t.actualRange.min,t.doubleRange=new Nt(t.actualRange.min,t.actualRange.max),this.calculateVisibleRange(i,t)},e.prototype.getYear=function(t,i,r,s){var a=t.getFullYear(),o=i.getFullYear();r==="Additional"?(this.min=new Date(a-s,1,1,0,0,0).getTime(),this.max=new Date(o+s,1,1,0,0,0).getTime()):(this.min=new Date(a,0,0,0,0,0).getTime(),this.max=new Date(o,11,30,23,59,59).getTime())},e.prototype.getMonth=function(t,i,r,s){var a=t.getMonth(),o=i.getMonth();r==="Round"?(this.min=new Date(t.getFullYear(),a,0,0,0,0).getTime(),this.max=new Date(i.getFullYear(),o,new Date(i.getFullYear(),i.getMonth(),0).getDate(),23,59,59).getTime()):(this.min=new Date(t.getFullYear(),a+-s,1,0,0,0).getTime(),this.max=new Date(i.getFullYear(),o+s,o===2?28:30,0,0,0).getTime())},e.prototype.getDay=function(t,i,r,s){var a=t.getDate(),o=i.getDate();r==="Round"?(this.min=new Date(t.getFullYear(),t.getMonth(),a,0,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),o,23,59,59).getTime()):(this.min=new Date(t.getFullYear(),t.getMonth(),a+-s,0,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),o+s,0,0,0).getTime())},e.prototype.getHour=function(t,i,r,s){var a=t.getHours()/s*s,o=i.getHours()+(t.getHours()-a);r==="Round"?(this.min=new Date(t.getFullYear(),t.getMonth(),t.getDate(),a,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),i.getDate(),o,59,59).getTime()):(this.min=new Date(t.getFullYear(),t.getMonth(),t.getDate(),a+-s,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),i.getDate(),o+s,0,0).getTime())},e.prototype.calculateVisibleRange=function(t,i){i.visibleRange={min:i.actualRange.min,max:i.actualRange.max,interval:i.actualRange.interval,delta:i.actualRange.delta};var r=U(i.zoomingScrollBar)?!1:i.zoomingScrollBar.isLazyLoad;Yi(i)&&!r&&(i.calculateVisibleRangeOnZooming(),i.visibleRange.interval=i.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(i,t,i.visibleRange.min,i.visibleRange.max):i.visibleRange.interval),i.dateTimeInterval=this.increaseDateTimeInterval(i,i.visibleRange.min,i.visibleRange.interval).getTime()-i.visibleRange.min,i.triggerRangeRender(this.chart,i.visibleRange.min,i.visibleRange.max,i.visibleRange.interval)},e.prototype.calculateVisibleLabels=function(t,i){t.visibleLabels=[];var r=t.visibleRange.min,s,a,o=i.getModuleName()==="chart"?i.isBlazor:!1,l=t.visibleLabels;for(t.minimum===null&&(r=this.alignRangeStart(t,r,t.visibleRange.interval).getTime()),this.startValue&&this.startValue<r&&i.zoomModule&&i.zoomModule.isPanning?r=this.startValue:this.startValue=r;r<=t.visibleRange.max;){if(s=_e({},sr("properties",t.labelStyle),null,!0),a=l.length?t.visibleLabels[l.length-1].value:r,t.format=i.intl.getDateFormat({format:this.findCustomFormats(t)||this.blazorCustomFormat(t),type:Je(t.skeletonType),skeleton:this.getSkeleton(t,r,a,o)}),t.startLabel=t.format(new Date(t.visibleRange.min)),t.endLabel=t.format(new Date(t.visibleRange.max)),Xi(r,t.visibleRange)){var h=this.increaseDateTimeInterval(t,r,t.visibleRange.interval).getTime();h>t.visibleRange.max&&(t.endLabel=t.format(new Date(r))),ba(i,r,t.format(new Date(r)),s,t)}var u=r;if(r=this.increaseDateTimeInterval(t,r,t.visibleRange.interval).getTime(),u===r)break}(t.actualIntervalType==="Months"||t.actualIntervalType==="Days")&&t.isChart&&(t.format=i.intl.getDateFormat({format:t.labelFormat||(t.actualIntervalType==="Months"&&!t.skeleton?"y MMM":""),type:Je(t.skeletonType),skeleton:t.skeleton||(t.actualIntervalType==="Days"?"MMMd":"")})),t.getMaxLabelWidth&&t.getMaxLabelWidth(this.chart)},e.prototype.blazorCustomFormat=function(t){return this.chart.isBlazor?t.actualIntervalType==="Years"?t.isIntervalInDecimal?"yyyy":"MMM y":t.actualIntervalType==="Days"&&!t.isIntervalInDecimal?"ddd HH tt":"":""},e.prototype.increaseDateTimeInterval=function(t,i,r){var s=new Date(i);t.interval?(t.isIntervalInDecimal=r%1===0,t.visibleRange.interval=r):(r=Math.ceil(r),t.visibleRange.interval=r);var a=t.actualIntervalType;if(t.isIntervalInDecimal)switch(a){case"Years":return s.setFullYear(s.getFullYear()+r),s;case"Quarter":return s.setMonth(s.getMonth()+3*r),s;case"Months":return s.setMonth(s.getMonth()+r),s;case"Weeks":return s.setDate(s.getDate()+r*7),s;case"Days":return s.setDate(s.getDate()+r),s;case"Hours":return s.setHours(s.getHours()+r),s;case"Minutes":return s.setMinutes(s.getMinutes()+r),s;case"Seconds":return s.setSeconds(s.getSeconds()+r),s}else s=this.getDecimalInterval(s,r,a);return s},e.prototype.alignRangeStart=function(t,i,r){var s=new Date(i);switch(t.actualIntervalType){case"Years":{var a=Math.floor(Math.floor(s.getFullYear()/r)*r);return s=new Date(a,s.getMonth(),s.getDate(),0,0,0),s}case"Months":{var o=Math.floor(Math.floor(s.getMonth()/r)*r);return s=new Date(s.getFullYear(),o,s.getDate(),0,0,0),s}case"Days":{var l=Math.floor(Math.floor(s.getDate()/r)*r);return s=new Date(s.getFullYear(),s.getMonth(),l,0,0,0),s}case"Hours":{var h=Math.floor(Math.floor(s.getHours()/r)*r);return s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),h,0,0),s}case"Minutes":{var u=Math.floor(Math.floor(s.getMinutes()/r)*r);return s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),u,0,0),s}case"Seconds":{var c=Math.floor(Math.floor(s.getSeconds()/r)*r);return s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),c,0),s}}return s},e.prototype.getDecimalInterval=function(t,i,r){var s=Math.floor(i),a=i-s;switch(r){case"Years":{var o=Math.round(12*a);return t.setFullYear(t.getFullYear()+s),t.setMonth(t.getMonth()+o),t}case"Quarter":return t.setMonth(t.getMonth()+3*i),t;case"Months":{var l=Math.round(30*a);return t.setMonth(t.getMonth()+s),t.setDate(t.getDate()+l),t}case"Weeks":return t.setDate(t.getDate()+i*7),t;case"Days":{var h=Math.round(24*a);return t.setDate(t.getDate()+s),t.setHours(t.getHours()+h),t}case"Hours":{var u=Math.round(60*a);return t.setHours(t.getHours()+s),t.setMinutes(t.getMinutes()+u),t}case"Minutes":{var c=Math.round(60*a);return t.setMinutes(t.getMinutes()+s),t.setSeconds(t.getSeconds()+c),t}case"Seconds":{var f=Math.round(1e3*a);return t.setSeconds(t.getSeconds()+s),t.setMilliseconds(t.getMilliseconds()+f),t}}return t},e.prototype.getModuleName=function(){return"DateTime"},e.prototype.destroy=function(){},e}(_a),Lh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),za=function(n){Lh(e,n);function e(t){return n.call(this,t)||this}return e.prototype.calculateRangeAndInterval=function(t,i){this.calculateRange(i),this.getActualRange(i,t),this.applyRangePadding(i,t),this.calculateVisibleLabels(i)},e.prototype.getActualRange=function(t,i){this.initializeDoubleRange(t),t.actualRange={},t.interval?t.actualRange.interval=Math.ceil(t.interval):t.actualRange.interval=Math.max(1,Math.floor(t.doubleRange.delta/Fl(i,t))),t.actualRange.min=t.doubleRange.start,t.actualRange.max=t.doubleRange.end,t.actualRange.delta=t.doubleRange.delta},e.prototype.applyRangePadding=function(t,i){var r;t.series.forEach(function(a){r||(r=(a.type.indexOf("Column")>-1||a.type.indexOf("Bar")>-1)&&!(t.zoomFactor<1||t.zoomPosition>0)&&U(t.minimum)&&U(t.maximum))});var s=(t.labelPlacement==="BetweenTicks"||r)&&!this.chart.stockChart&&this.chart.chartAreaType!=="PolarRadar"?.5:0;s>0?(t.actualRange.min-=s,t.actualRange.max+=s):t.actualRange.max+=t.actualRange.max?0:.5,t.doubleRange=new Nt(t.actualRange.min,t.actualRange.max),t.actualRange.delta=t.doubleRange.delta,this.calculateVisibleRange(i,t)},e.prototype.calculateVisibleLabels=function(t){t.visibleLabels=[],t.visibleRange.interval=t.visibleRange.interval<1?1:t.visibleRange.interval;var i=Math.ceil(t.visibleRange.min),r;(t.zoomFactor<1||t.zoomPosition>0)&&(i=t.visibleRange.min-t.visibleRange.min%t.visibleRange.interval);var s;for(t.startLabel=t.labels[Math.round(t.visibleRange.min)],t.endLabel=t.labels[Math.floor(t.visibleRange.max)];i<=t.visibleRange.max;i+=t.visibleRange.interval)r=_e({},sr("properties",t.labelStyle),null,!0),Xi(i,t.visibleRange)&&t.labels.length>0&&(s=Math.round(i),ba(this.chart,s,t.labels[s]?t.labels[s].toString():"",r,t));t.getMaxLabelWidth&&t.getMaxLabelWidth(this.chart)},e.prototype.getModuleName=function(){return"Category"},e.prototype.destroy=function(){},e}(_a),Ph=function(){function n(e){this.chart=e}return n.prototype.enableComplexProperty=function(e){var t=[],i=[],r=e.xAxis.visibleRange,s=e.yAxis.visibleRange,a=e.points,o=e.clipRect,l=this.chart&&this.chart.zoomRedraw&&this.chart.redraw?this.previousX:Math.abs(r.delta/o.width),h=this.chart&&this.chart.zoomRedraw&&this.chart.redraw?this.previousY:Math.abs(s.delta/o.height),u=a[0]&&a[0].xValue>l?0:l,c=a[0]&&a[0].y>h?0:h;this.previousX=l,this.previousY=h;for(var f=0,d=0,g=0,p=a;g<p.length;g++){var b=p[g];b.symbolLocations=[],f=U(b.xValue)?r.min:b.xValue,d=U(b.yValue)?s.min:b.yValue,(Math.abs(u-f)>=l||Math.abs(c-d)>=h)&&(t.push(b),u=f,c=d)}for(var y,T=0;T<t.length;T++)y=t[T],!(U(y.x)||e.category==="Indicator"&&(isNaN(y.xValue)||isNaN(y.yValue)))&&i.push(y);return i},n.prototype.getLineDirection=function(e,t,i,r,s,a){var o="";if(e!=null){var l=s(e.xValue,e.yValue,i.xAxis,i.yAxis,r,i),h=s(t.xValue,t.yValue,i.xAxis,i.yAxis,r,i);o=a+" "+l.x+" "+l.y+" L "+h.x+" "+h.y+" "}return o},n.prototype.appendLinePath=function(e,t,i){var r=this.appendPathElement(e,t,i);wa(r.element,e.d,t.chart.redraw,r.previousDirection,r.chart.duration)},n.prototype.appendPathElement=function(e,t,i){var r=G(e.id),s=t.chart,a=r?r.getAttribute("d"):null,o=t.chart.renderer.drawPath(e,new Int32Array([t.clipRect.x,t.clipRect.y]));return o&&o.setAttribute("clip-path",i),t.pathElement=o,t.chart.enableCanvas||t.seriesElement.appendChild(o),t.isRectSeries=!1,{element:r,previousDirection:a,chart:s}},n.prototype.addPath=function(e,t,i){var r=this.appendPathElement(e,t,i);if(r.previousDirection!==""&&e.d!==""){var s=r.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),a=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),o=Math.max(s.length,a.length),l=Math.min(s.length,a.length);if(s.length<a.length){for(var h=l;h<o;h++)a.length!==s.length&&s.push(s[s.length-1].replace("M","L"));gi(r.element,e.d,t.chart.redraw,s.join(" "),this.chart.duration)}else if(s.length>a.length){for(var h=l;h<o;h++)a.length!==s.length&&(t.removedPointIndex===t.points.length?a.push(a[a.length-1].replace("M","L")):a.splice(1,0,a[0].replace("M","L")));gi(r.element,a.join(""),t.chart.redraw,r.previousDirection,this.chart.duration,e.d)}else gi(r.element,e.d,t.chart.redraw,r.previousDirection,this.chart.duration)}},n.prototype.addAreaPath=function(e,t,i){var r=this.appendPathElement(e,t,i);if(r.previousDirection!==""&&e.d!==""){var s=r.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),a=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),o=Math.max(s.length,a.length),l=Math.min(s.length,a.length);if(l<a.length){for(var h=l;h<o;h++)a.length!==s.length&&a.length!==s.length&&(s.length===1?s.push(s[s.length-(e.id.indexOf("border")!==-1?1:2)].replace("M","L")):s.splice(s.length-1,0,s[s.length-(e.id.indexOf("border")!==-1?1:2)]));gi(r.element,e.d,t.chart.redraw,s.join(" "),this.chart.duration)}else if(s.length>a.length){for(var h=l;h<o;h++)a.length!==s.length&&(t.removedPointIndex===t.points.length?a.length===1?a.push(a[a.length-(e.id.indexOf("border")!==-1?1:2)].replace("M","L")):a.splice(a.length-1,0,a[a.length-(e.id.indexOf("border")!==-1?1:2)]):a.splice(1,0,a[1]?a[1]:a[0]));gi(r.element,a.join(""),t.chart.redraw,r.previousDirection,this.chart.duration,e.d)}else gi(r.element,e.d,t.chart.redraw,r.previousDirection,this.chart.duration)}},n.prototype.renderMarker=function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)},n.prototype.doProgressiveAnimation=function(e,t){var i=new er({}),r=e.pathElement,s=r.getAttribute("stroke-dasharray"),a=e.pathElement.getTotalLength(),o;r.style.visibility="hidden",i.animate(r,{duration:t.duration===0&&ki==="Enable"?1e3:t.duration,delay:t.delay,progress:function(l){r.style.visibility="visible",o=Math.abs(Math.round(l.timeStamp*a/l.duration)),r.setAttribute("stroke-dasharray",o+","+a)},end:function(){var l=G(e.chart.element.id+"_Annotation_Collections");l&&(l.style.visibility="visible"),r.setAttribute("stroke-dasharray",s),r.style.visibility="",e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})},n.prototype.storePointLocation=function(e,t,i,r){var s=t.marker&&t.marker.width?t.marker.width:0,a=t.marker&&t.marker.height?t.marker.height:0;e.symbolLocations.push(r(e.xValue,e.yValue,t.xAxis,t.yAxis,i,t)),e.regions.push(new he(e.symbolLocations[0].x-s,e.symbolLocations[0].y-a,2*s,2*a))},n.prototype.withinYRange=function(e,t){return e.yValue>=t.visibleRange.min&&e.yValue<=t.visibleRange.max},n.prototype.GetStepLineDirection=function(e,t,i,r,s,a){r===void 0&&(r="L");var o=s.noRisers&&a?" M ":" L ";if(i==="Right")return r=s.noRisers&&a?"M":"L",r+" "+t.x+" "+e.y+" L "+e.x+" "+e.y+" ";if(i==="Center"){var l=t.x+(e.x-t.x)/2;return r+" "+l+" "+t.y+o+l+" "+e.y+" L "+e.x+" "+e.y+" "}else return r+" "+e.x+" "+t.y+o+e.x+" "+e.y+" "},n.prototype.getFirstLastVisiblePoint=function(e){for(var t=null,i=null,r=0,s=e;r<s.length;r++){var a=s[r];t===null&&a.visible&&(t=i=a),i=a.visible?a:i}return{first:t||e[0],last:i||e[e.length-1]}},n.prototype.getBorderDirection=function(e){var t=e.split(" ");return t.length>3&&!this.chart.stackingAreaSeriesModule&&!this.chart.stackingStepAreaSeriesModule?t.splice(t.length-4,3):(this.chart.stackingAreaSeriesModule||this.chart.stackingStepAreaSeriesModule)&&(t.splice(t.length/2+1,t.length/2+1),(t[t.length-1]==="L"||t[t.length-1]==="M")&&t.splice(t.length-1,1)),t.join(" ")},n.prototype.removeEmptyPointsBorder=function(e){var t=0,i=e.split(" "),r;if(i.length===4)return i.join(" ");do r=i.indexOf("M",t),r>-1&&(i.splice(r+1,3),t=r+1,r-6>0&&(i.splice(r-6,6),t-=6));while(r!==-1);return i.join(" ")},n.prototype.doLinearAnimation=function(e,t){var i=e.clipRectElement.childNodes[0].childNodes[0],r=e.chart.animated?e.chart.duration:t.duration,s=Sa("Linear"),a=+i.getAttribute("height"),o=+i.getAttribute("width"),l=+i.getAttribute("x"),h=e.chart.requireInvertedAxis?+i.getAttribute("height")+ +i.getAttribute("y"):+i.getAttribute("y"),u;if(i.style.visibility="hidden",this.animateRect(e,t,i,r,s,a,o,l,h,u),e.marker&&e.marker.visible&&e.symbolElement){var c=e.symbolElement.childNodes[0].childNodes[0];c.style.visibility="hidden",this.animateRect(e,t,c,r,s,a,o,l,h,u)}},n.prototype.animateRect=function(e,t,i,r,s,a,o,l,h,u){new er({}).animate(i,{duration:r===0&&ki==="Enable"?1e3:r,delay:t.delay,progress:function(c){i.style.visibility="visible",e.chart.requireInvertedAxis?(u=s(c.timeStamp,0,a,c.duration),i.setAttribute("transform","translate("+l+" "+h+") scale(1,"+u/a+") translate("+-l+" "+-h+")")):(u=s(c.timeStamp,0,o,c.duration),i.setAttribute("transform","translate("+l+" "+h+") scale("+u/o+", 1) translate("+-l+" "+-h+")"))},end:function(){var c=G(e.chart.element.id+"_Annotation_Collections");c&&(c.style.visibility="visible"),i.setAttribute("transform","translate(0,0)"),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})},n}(),Mh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ja=function(n){Mh(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,i,r,s,a,o){for(var l,h,u="",c=null,f="M",d=t.chart&&t.chart.chartAreaType==="PolarRadar",g=t.emptyPointSettings&&t.emptyPointSettings.mode==="Drop",p=d?Nl:_t,b=t.category==="TrendLine"?t.points:this.enableComplexProperty(t),y=0,T=b;y<T.length;y++){var w=T[y];w.regions=[],w.symbolLocations=[],w.visible&&xa(b[w.index-1],w,b[w.index+1],t)?(u+=this.getLineDirection(c,w,t,s,p,f),f=c?"L":f,c=w,this.storePointLocation(w,t,s,p),u===""&&b.length===1&&(u="M "+w.symbolLocations[0].x+" "+w.symbolLocations[0].y)):(c=g?c:null,f=g?f:"M")}if(d&&t.isClosed){var E=this.getFirstLastVisiblePoint(b);h=p(E.last.xValue,E.last.yValue,i,r,s,t),l=p(E.first.xValue,E.first.yValue,i,r,s,t),u=u.concat(f+" "+h.x+" "+h.y+" L "+l.x+" "+l.y)}var S=t.category==="Indicator"?t.chart.element.id+"_Indicator_"+t.index+"_"+t.name:t.category==="TrendLine"?t.chart.element.id+"_Series_"+t.sourceIndex+"_TrendLine_"+t.index:t.chart.element.id+"_Series_"+(t.index===void 0?t.category:t.index),L=new Bi(S,"none",t.width,t.interior,t.opacity,t.dashArray,u);this[a?"addPath":"appendLinePath"](L,t,""),o||this.renderMarker(t)},e.prototype.updateDirection=function(t,i){this.render(t,t.xAxis,t.yAxis,t.chart.requireInvertedAxis,!1,!0);for(var r=0;r<i.length;r++)t.marker&&t.marker.visible&&t.chart.markerRender.renderMarker(t,t.points[i[r]],t.points[i[r]].symbolLocations[0],null,!0),t.marker.dataLabel.visible&&t.chart.dataLabelModule&&(t.chart.dataLabelModule.commonId=t.chart.element.id+"_Series_"+t.index+"_Point_",t.chart.dataLabelModule.renderDataLabel(t,t.points[i[r]],null,t.marker.dataLabel))},e.prototype.doAnimation=function(t){var i=t.animation;this.doProgressiveAnimation(t,i)},e.prototype.getModuleName=function(){return"LineSeries"},e.prototype.destroy=function(){},e}(Ph),Oh=function(){function n(){}return n.prototype.getSideBySideInfo=function(e){if(e.chart.enableSideBySidePlacement&&!e.position&&this.getSideBySidePositions(e),e.columnWidthInPixel)return new Nt(0,0);var t=e.type==="Histogram"||!e.chart.enableSideBySidePlacement?0:e.position,i=e.type==="Histogram"||!e.chart.enableSideBySidePlacement?1:e.rectCount;e.isRectSeries=!0;var r=e.chart.visibleSeries,s=e.chart.enableSideBySidePlacement?e.columnSpacing:0,a=e.columnWidth===null||isNaN(+e.columnWidth)?e.type==="Histogram"?1:.7:Math.min(e.columnWidth,1),o=_l(e.xAxis,r),l=o*a,h,u=t/i-.5,c=new Nt(u,u+1/i);if(!(isNaN(c.start)||isNaN(c.end))){if(e.groupName&&e.type.indexOf("Stacking")===-1){var f=.7;e.chart.series.filter(function(b){b.columnWidth>f&&(f=b.columnWidth)});var d=o*f,g=new Nt(c.start*d,c.end*d),p=(g.delta-(c.end*l-c.start*l))/2;c=new Nt(g.start+p,g.end-p)}else c=new Nt(c.start*l,c.end*l);h=s*c.delta,c=new Nt(c.start+h/2,c.end-h/2)}return c},n.prototype.getRectangle=function(e,t,i,r,s){var a=_t(e,t,s.xAxis,s.yAxis,s.chart.requireInvertedAxis),o=_t(i,r,s.xAxis,s.yAxis,s.chart.requireInvertedAxis);return new he(Math.min(a.x,o.x),Math.min(a.y,o.y),Math.abs(o.x-a.x),Math.abs(o.y-a.y))},n.prototype.drawCylinder=function(e,t,i,r,s){var a=r.width,o=r.height;if(s.chart.enableCanvas){var l=s.chart.canvasRender.ctx,h=l;l.save();var u=tr(e.fill),c=r.x+s.clipRect.x,f=r.y+s.clipRect.y,d=2*Math.PI+.1,g=void 0,p=void 0,b=void 0,y=void 0,T=void 0,w=void 0,E=void 0,S=void 0,L=void 0,M=void 0,O=void 0,_=void 0,R=void 0,z=void 0,H=void 0,j=void 0,I=void 0,Y=void 0,J=void 0,fe=0,Ie=0,re=0,pe=0,ue=0;l.fillStyle=ei(u,.9),l.lineWidth=0,l.strokeStyle=ei(u,.9),l.globalAlpha=e.opacity,i.isColumn?(fe=c,Ie=a+c,g=a/2,p=g/4,y=b=c+g,M=T=f-p,S=c,E=c+a,w=L=f+o-p,I=Math.PI,Y=-g,J=p,i.stacking&&(i.isLastSeries||(M=T=f+p))):(pe=o+f,re=f,p=o/2,g=p/4,S=b=c+g,E=y=c+a+g,L=f+o,M=f,w=T=f+p,ue=Math.PI/2,I=Math.PI*1.5,i.stacking&&(i.isLastSeries||(E=y=c+a-g)),p=-p,g=-g,Y=g,J=-p);var $=ei(u,.7),Oe=l.createLinearGradient(fe,re,Ie,pe);Oe.addColorStop(0,u),Oe.addColorStop(.3,$),Oe.addColorStop(.7,$),Oe.addColorStop(1,u);for(var ke=1;ke<=4;ke++){var q=0;for(ke<4&&l.beginPath(),ke%2===0?(O=y,_=w,R=S,z=M):(O=b,_=T,R=E,z=L),ke===4&&(g=Y,p=J,l.fillStyle=Oe),ke>2&&(q=ue,d=I);q<=d;q+=.1)H=O-g*Math.cos(q),j=_+p*Math.sin(q),q===0?l.moveTo(H,j):l.lineTo(H,j);ke>2&&l.lineTo(R,z),ke!==3&&(l.stroke(),l.fill())}e.id.indexOf("Series")>=0&&(l.clip(),l.restore(),l=h)}else{var Ue=s.chart,c=r.x,f=r.y,Ge=e.id,u=e.fill,Qt=u,Jt=Vl(u);Jt||(u=tr(u));var bt=0,st=0,Ke=0,ut=0,ct=0,Pt=0,je=void 0,Ye=void 0,x=void 0,m=void 0,v=void 0,A=void 0,g=void 0,p=void 0,q=2;for(i.isColumn?(g=a/2,p=g/4,je=x=c,Ye=p<f?f-p:i.stacking?f+p:f-p,m=Ye,bt=2*g,ut=p<f||o<2*p?o:i.stacking?o-2*p:o,v=je,A=p<f?Ye+o:o<Ye?o+Ye:i.stacking?o+(f-p):o+Ye,ct=100,i.stacking&&(i.isLastSeries||(Ye=m=f+p,ut=o<g/2?o:o-g/2))):(p=o/2,g=p/4,Ye=m=f,je=x=Math.abs(c-g),st=2*p,Ke=a,v=je+a,A=Ye,Pt=100,i.stacking&&(i.isLastSeries||(v=je+a-g*2,Ke=a-g*2))),qe(this.element);q--;)e.d="M"+je.toString()+","+Ye.toString()+"a"+g.toString()+","+p.toString()+" 0 1,0 "+bt.toString()+","+st.toString()+"a"+g.toString()+","+p.toString()+" 0 1,0 "+(-1*bt).toString()+","+(-1*st).toString(),e.id=Ge+"_Region_"+q,e.fill=ei(u,.9),q%2===0&&s.type!=="StackingBar100"&&s.type!=="StackingBar"&&s.type!=="Bar"&&(e.fill=e.fill+"10"),this.element=Ue.renderer.drawPath(this.options,new Int32Array([s.clipRect.x,s.clipRect.y])),te(s.chart.enableCanvas,s.seriesElement,this.element,Ue.redraw),je=v,Ye=A;e.d="M"+x.toString()+","+m.toString()+"a"+g.toString()+","+p.toString()+" 0 1,0 "+bt.toString()+","+st.toString()+"l"+Ke.toString()+" "+ut.toString()+"a"+g.toString()+","+p.toString()+" 0 1,1 "+(-1*bt).toString()+","+(-1*st).toString()+" z",e.id=Ge+"_Region_2",e.fill=ei(u,.7);var k=void 0;if(Qt.indexOf("url")===-1){if(!document.getElementById(Ge)){k={id:Ge,x1:"0%",y1:"0%",x2:ct.toString()+"%",y2:Pt.toString()+"%"};var F=[{colorStop:"0%",color:u},{colorStop:"30%",color:ei(u,.7)},{colorStop:"70%",color:ei(u,.7)},{colorStop:"100%",color:u}];this.drawGradient(k,F,s)}e.fill="url(#"+k.id+")"}this.element=Ue.renderer.drawPath(this.options,new Int32Array([s.clipRect.x,s.clipRect.y])),te(s.chart.enableCanvas,s.seriesElement,this.element,Ue.redraw)}},n.prototype.drawGradient=function(e,t,i){var r=i.chart,s=r.renderer.createDefs(),a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"linearGradient");o.setAttribute("id",e.id),o.setAttribute("x1",e.x1),o.setAttribute("y1",e.y1),o.setAttribute("x2",e.x2),o.setAttribute("y2",e.y2);for(var l=0;l<t.length;l++){var h=document.createElementNS(a,"stop");h.setAttribute("offset",t[l].colorStop),h.setAttribute("stop-color",t[l].color),h.setAttribute("stop-opacity","1"),o.appendChild(h)}i.seriesElement.appendChild(s),s.appendChild(o)},n.prototype.getSideBySidePositions=function(e){for(var t=e.chart,i=0,r=t.columns;i<r.length;i++)for(var s=r[i],a=0,o=t.rows;a<o.length;a++){var l=o[a];this.findRectPosition(e.findSeriesCollection(s,l,!1))}},n.prototype.findRectPosition=function(e){for(var t=[],i={rectCount:0,position:null},r=0;r<e.length;r++){var s=e[r];if(s.type.indexOf("Stacking")!==-1||s.groupName!==""){var a=s.type.indexOf("Stacking")!==-1?s.stackingGroup:s.type+s.groupName;a?t[a]===void 0?(s.position=i.rectCount,t[a]=i.rectCount++):s.position=t[a]:i.position===null?(s.position=i.rectCount,i.position=i.rectCount++):s.position=i.position}else s.position=i.rectCount++}for(var r=0;r<e.length;r++){var s=e[r];s.rectCount=i.rectCount}},n.prototype.updateSymbolLocation=function(e,t,i){i.chart.requireInvertedAxis?this.updateYRegion(e,t,i):this.updateXRegion(e,t,i),i.type==="Histogram"&&(e.minimum=+e.x-i.histogramValues.binWidth/2,e.maximum=+e.x+i.histogramValues.binWidth/2)},n.prototype.updateXRegion=function(e,t,i){e.symbolLocations.push({x:t.x+t.width/2,y:i.seriesType==="BoxPlot"||i.seriesType.indexOf("HighLow")!==-1||e.yValue>=0==!i.yAxis.isAxisInverse?t.y:t.y+t.height}),this.getRegion(e,t,i),i.type==="RangeColumn"&&e.symbolLocations.push({x:t.x+t.width/2,y:t.y+t.height})},n.prototype.updateYRegion=function(e,t,i){e.symbolLocations.push({x:i.seriesType==="BoxPlot"||i.seriesType.indexOf("HighLow")!==-1||e.yValue>=0==!i.yAxis.isAxisInverse?t.x+t.width:t.x,y:t.y+t.height/2}),this.getRegion(e,t,i),i.type==="RangeColumn"&&e.symbolLocations.push({x:t.x,y:t.y+t.height/2})},n.prototype.renderMarker=function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)},n.prototype.getRegion=function(e,t,i){if(e.y===0){var r=i.marker&&i.marker.width?i.marker.width:0,s=i.marker&&i.marker.height?i.marker.height:0;e.regions.push(new he(e.symbolLocations[0].x-r,e.symbolLocations[0].y-s,2*r,2*s))}else e.regions.push(t)},n.prototype.triggerEvent=function(e,t,i,r){var s={cancel:!1,name:Lr,series:e,point:t,fill:e.setPointColor(t,i),border:e.setBorderColor(t,r)};return e.chart.trigger(Lr,s),t.color=s.fill,s},n.prototype.drawRectangle=function(e,t,i,r){var s=e.chart,a=s.requireInvertedAxis?i.height:i.width;if(a<=0)return null;var o;t.y===0?o=this.calculateRoundedRectPath(i,0,0,0,0):o=this.calculateRoundedRectPath(i,e.cornerRadius.topLeft,e.cornerRadius.topRight,e.cornerRadius.bottomLeft,e.cornerRadius.bottomRight,s.requireInvertedAxis);var l=e.category==="Indicator"?s.element.id+"_Indicator_"+e.index+"_"+e.name+"_Point_"+t.index:s.element.id+"_Series_"+e.index+"_Point_"+(e.removedPointIndex!==null&&e.removedPointIndex<=t.index?t.index+1:t.index),h=Rt(s.redraw,l),u=h?h.getAttribute("d"):"";switch(this.options=new Bi(l,r.fill,r.border.width,r.border.color,e.opacity,e.border.dashArray,e.columnFacet==="Cylinder"?"":o),this.element=s.renderer.drawPath(this.options,new Int32Array([e.clipRect.x,e.clipRect.y])),e.removedPointIndex!==null&&e.removedPointIndex<=t.index&&(this.element.id=s.element.id+"_Series_"+e.index+"_Point_"+t.index),e.seriesType){case"XY":this.element.setAttribute("role","img"),this.element.setAttribute("aria-label",t.x+":"+t.yValue+", "+e.name);break;case"HighLow":this.element.setAttribute("role","img"),this.element.setAttribute("aria-label",t.x+":"+t.high+", "+t.low+", "+e.name);break}e.columnFacet==="Cylinder"&&(s.redraw||!s.enableAnimation)&&e.seriesElement.querySelector("#"+this.element.id)||te(e.chart.enableCanvas,e.seriesElement,this.element,s.redraw),e.chart.enableCanvas||wa(this.element,e.columnFacet==="Cylinder"?"":o,s.redraw,u,s.duration)},n.prototype.animate=function(e){for(var t=e.seriesElement.childNodes,i=e.category==="Indicator"?0:1,r=Ci(e),s=0,a=r;s<a.length;s++){var o=a[s];if(!(!o.symbolLocations.length&&!(e.type==="BoxAndWhisker"&&o.regions.length)))if((e.type==="Column"||e.type==="Bar"||e.type==="StackingColumn"||e.type==="StackingColumn100"||e.type==="StackingBar"||e.type==="StackingBar100")&&e.columnFacet==="Cylinder")for(var l=0;l<t.length;l++)this.animateRect(t[l],e,o);else this.animateRect(t[i],e,o),i++}},n.prototype.animateRect=function(e,t,i){var r=t.animation,s=t.chart.animated?t.chart.duration:r.duration,a=Sa("Linear"),o=i.yValue<0,l,h,u=+i.regions[0].height,c=+i.regions[0].width,f,d;t.chart.requireInvertedAxis?(h=+i.regions[0].y,t.type.indexOf("Stacking")>-1?(l=Ct(0,t.yAxis)*t.yAxis.rect.width,f=l,d=h):(l=+i.regions[0].x,d=o?h:h+u,f=t.seriesType.indexOf("HighLow")!==-1||t.type.indexOf("Waterfall")!==-1?l+c/2:o!==t.yAxis.isAxisInverse?l+c:l)):(l=+i.regions[0].x,t.type.indexOf("Stacking")>-1?(h=(1-Ct(0,t.yAxis))*t.yAxis.rect.height,f=l,d=h):(h=+i.regions[0].y,d=t.seriesType.indexOf("HighLow")!==-1||t.type.indexOf("Waterfall")!==-1?h+u/2:o!==t.yAxis.isAxisInverse?h:h+u,f=o?l:l+c));var g;U(e)||(e.style.visibility="hidden",new er({}).animate(e,{duration:s===0&&ki==="Enable"?1e3:s,delay:r.delay,progress:function(p){p.timeStamp>=p.delay&&(e.style.visibility="visible",t.chart.requireInvertedAxis?(c=c||1,g=a(p.timeStamp-p.delay,0,c,p.duration),e.setAttribute("transform","translate("+f+" "+d+") scale("+g/c+", 1) translate("+-f+" "+-d+")")):(u=u||1,g=a(p.timeStamp-p.delay,0,u,p.duration),e.setAttribute("transform","translate("+f+" "+d+") scale(1,"+g/u+") translate("+-f+" "+-d+")")))},end:function(){var p=document.getElementById(t.chart.element.id+"_Annotation_Collections");p&&(p.style.visibility="visible"),e.setAttribute("transform","translate(0,0)");var b=t.seriesElement;if((e===b.lastElementChild||i.index===t.points.length-1||t.type==="Waterfall"&&e===b.children[b.childElementCount-2])&&(t.chart.trigger("animationComplete",{series:t.chart.isBlazor?{}:t}),t.type==="Waterfall"))for(var y=b.childNodes,T=0;T<y.length;T++)y[T].id.indexOf("Connector")!==-1&&(y[T].style.visibility="visible",y[T].setAttribute("transform","translate(0,0)"))}}))},n.prototype.calculateRoundedRectPath=function(e,t,i,r,s,a){a===void 0&&(a=!1);var o=a?e.width/2:e.height/2;return t=Math.min(t,o),i=Math.min(i,o),r=Math.min(r,o),s=Math.min(s,o),"M "+e.x+" "+(t+e.y)+" Q "+e.x+" "+e.y+" "+(e.x+t)+" "+e.y+" L "+(e.x+e.width-i)+" "+e.y+" Q "+(e.x+e.width)+" "+e.y+" "+(e.x+e.width)+" "+(e.y+i)+" L "+(e.x+e.width)+" "+(e.y+e.height-s)+" Q "+(e.x+e.width)+" "+(e.y+e.height)+" "+(e.x+e.width-s)+" "+(e.y+e.height)+" L "+(e.x+r)+" "+(e.y+e.height)+" Q "+e.x+" "+(e.y+e.height)+" "+e.x+" "+(e.y+e.height-r)+" L "+e.x+" "+(t+e.y)+" Z"},n}(),kh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ha=function(n){kh(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.sideBySideInfo=[],t}return e.prototype.render=function(t){this.sideBySideInfo[t.index]=this.getSideBySideInfo(t);for(var i=Math.max(t.yAxis.visibleRange.min,0),r=0,s=t.points;r<s.length;r++){var a=s[r];this.renderPoint(t,a,this.sideBySideInfo[t.index],i)}this.renderMarker(t)},e.prototype.renderPoint=function(t,i,r,s){if(i.symbolLocations=[],i.regions=[],i.visible&&xa(t.points[i.index-1],i,t.points[i.index+1],t)){this.rect=this.getRectangle(i.xValue+r.start,i.yValue,i.xValue+r.end,s,t),this.rect.width=t.columnWidthInPixel?t.columnWidthInPixel-(t.chart.enableSideBySidePlacement?t.columnWidthInPixel*t.columnSpacing:0):this.rect.width,this.rect.x=t.columnWidthInPixel?this.rect.x-(t.columnWidthInPixel/2*t.rectCount-t.columnWidthInPixel*t.index):this.rect.x;var a=t.category==="Indicator"?i.color:t.interior,o=this.triggerEvent(t,i,a,{width:t.border.width,color:t.border.color});if(!o.cancel&&(this.updateSymbolLocation(i,this.rect,t),this.drawRectangle(t,i,this.rect,o),t.columnFacet==="Cylinder")){var l={isColumn:!0,stacking:!1,isLastSeries:!0};this.drawCylinder(this.options,this.element,l,this.rect,t)}}},e.prototype.updateDirection=function(t,i){for(var r=Math.max(t.yAxis.visibleRange.min,0),s=0;s<i.length;s++)this.renderPoint(t,t.points[i[s]],this.sideBySideInfo[t.index],r),t.marker&&t.marker.visible&&t.chart.markerRender.renderMarker(t,t.points[i[s]],t.points[i[s]].symbolLocations[0],null,!0),t.marker.dataLabel.visible&&t.chart.dataLabelModule&&(t.chart.dataLabelModule.commonId=t.chart.element.id+"_Series_"+t.index+"_Point_",t.chart.dataLabelModule.renderDataLabel(t,t.points[i[s]],null,t.marker.dataLabel))},e.prototype.doAnimation=function(t){this.animate(t)},e.prototype.getModuleName=function(){return"ColumnSeries"},e.prototype.destroy=function(){},e}(Oh),Rh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wa=function(n){Rh(e,n);function e(t){var i=n.call(this,t)||this;return i.commonXvalues=[],i.addEventListener(),i}return e.prototype.addEventListener=function(){if(!this.chart.isDestroyed){var t=se.isPointer?"pointerleave":"mouseleave";this.chart.on(t,this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this),this.chart.on(se.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(se.touchEndEvent,this.mouseUpHandler,this)}},e.prototype.mouseUpHandler=function(){var t=this.control,i=this.getData();i.lierIndex=this.lierIndex,t.isTouch&&!this.isSelected(t)&&(it(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)&&t.tooltip.shared||!t.tooltip.shared)?t.crosshair.enable?t.startMove&&t.tooltip.fadeOutMode==="Move"&&this.removeTooltip(2e3):(this.tooltip(),t.tooltip.fadeOutMode==="Move"&&this.removeTooltip(t.tooltip.fadeOutDuration)):!this.findData(i,this.previousPoints[0])&&t.tooltip.fadeOutMode==="Click"&&this.removeTooltip(0)},e.prototype.mouseLeaveHandler=function(){this.removeTooltip(this.chart.tooltip.fadeOutDuration)},e.prototype.mouseMoveHandler=function(){var t=this.chart;t.stockChart&&t.stockChart.onPanning&&(t.mouseY<t.chartAxisLayoutPanel.seriesClipRect.y?t.mouseY=t.chartAxisLayoutPanel.seriesClipRect.y:t.mouseY>t.chartAxisLayoutPanel.seriesClipRect.y+t.chartAxisLayoutPanel.seriesClipRect.height&&(t.mouseY=t.chartAxisLayoutPanel.seriesClipRect.y+t.chartAxisLayoutPanel.seriesClipRect.height)),!t.disableTrackTooltip&&!this.isSelected(t)&&(!t.tooltip.shared&&(!t.isTouch||t.startMove)&&this.tooltip(),it(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?t.tooltip.shared&&(!t.isTouch||t.startMove)&&this.tooltip():t.tooltip.shared&&t.tooltip.fadeOutMode==="Move"&&this.removeTooltip(this.chart.tooltip.fadeOutDuration))},e.prototype.longPress=function(){var t=this.chart;return t.crosshair.enable&&it(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)&&(this.tooltip(),t.markerRender.markerMove(!1)),!1},e.prototype.tooltip=function(){var t=this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg",i=this.getElement(t),r=this.chart.stockChart&&i&&i.firstChild.childNodes.length>1,s=i&&parseInt(i.getAttribute("opacity"),10)>0&&!r,a=this.getTooltipElement(s);this.chart.enableCanvas&&a&&(document.getElementById(this.chart.element.id+"_Secondary_Element").appendChild(a),a.appendChild(document.getElementById(this.chart.element.id+"_tooltip_svg"))),this.chart.tooltip.shared?this.renderGroupedTooltip(this.chart,!s,a):this.renderSeriesTooltip(this.chart,!s,a)},e.prototype.findHeader=function(t){return this.header===""?"":(this.header=this.parseTemplate(t.point,t.series,this.header,t.series.xAxis,t.series.yAxis),this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()!==""?this.header:"")},e.prototype.findShapes=function(){if(!this.chart.tooltip.enableMarker)return[];for(var t=[],i=0,r=this.currentPoints;i<r.length;i++){var s=r[i];t.push(s.point.marker.shape||s.series.marker.shape||"Circle")}return t},e.prototype.renderSeriesTooltip=function(t,i,r){var s=this.getData();if(s.lierIndex=this.lierIndex,this.currentPoints=[],this.findData(s,this.previousPoints[0])){if(!(t.dataEditingModule&&t.dataEditingModule.isPointDragging)&&this.previousPoints[0]&&s.point.index===this.previousPoints[0].point.index&&s.series.index===this.previousPoints[0].series.index)return null;this.pushData(s,i,r,!0)&&this.triggerTooltipRender(s,i,this.getTooltipText(s),this.findHeader(s))}else if(!s.point&&this.isRemove&&t.tooltip.fadeOutMode==="Move")this.removeTooltip(this.chart.tooltip.fadeOutDuration),this.isRemove=!1;else for(var a=this.mergeXvalues(this.chart.visibleSeries),o=0,l=t.visibleSeries;o<l.length;o++){var h=l[o];h.visible&&h.category!=="TrendLine"&&(s=this.getClosestX(t,h,a)||s)}s&&s.point&&this.findMouseValue(s,t)},e.prototype.triggerTooltipRender=function(t,i,r,s){var a=this,o,l={cancel:!1,name:ls,text:r,headerText:s,template:o,series:this.chart.isBlazor?{}:t.series,textStyle:this.textStyle,point:t.point,data:{pointX:t.point.x,pointY:t.point.y,seriesIndex:t.series.index,seriesName:t.series.name,pointIndex:t.point.index,pointText:t.point.text}},h=this.chart.border.width,u=3,c=this.chart.tooltip,f=function(d){if(d.cancel)a.removeHighlight(),qe(a.getElement(a.element.id+"_tooltip"));else{t.series.type==="BoxAndWhisker"&&(a.removeText(),i=!0),a.headerText=d.headerText,a.formattedText=a.formattedText.concat(d.text),a.text=a.formattedText;var g=a.getSymbolLocation(t);g=g||new ge(null,null),g.x=c.location.x!==null?c.location.x:g.x,g.y=c.location.y!==null?c.location.y:g.y,g=g.x===null&&g.y===null?null:g,a.createTooltip(a.chart,i,g,t.series.clipRect,t.point,a.findShapes(),a.findMarkerHeight(a.currentPoints[0]),new he(h,h,a.chart.availableSize.width-u-h*2,a.chart.availableSize.height-u-h*2),a.chart.crosshair.enable,null,a.getTemplateText(t),a.template?d.template:"")}a.isRemove=!0};f.bind(this,t),this.chart.trigger(ls,l,f)},e.prototype.findMarkerHeight=function(t){var i=0,r=t.series;return i=(r.marker.visible||this.chart.tooltip.shared&&(!r.isRectSeries||r.marker.visible)||r.type==="Scatter"||r.drawType==="Scatter")&&!(r.type==="Candle"||r.type==="Hilo"||r.type==="HiloOpenClose")?(r.marker.height+2)/2+2*r.marker.border.width:0,i},e.prototype.findData=function(t,i){return t.point&&(!i||i.point!==t.point||i&&i.lierIndex>3&&i.lierIndex!==this.lierIndex||i.point===t.point)},e.prototype.getSymbolLocation=function(t){var i;if(t.series.type!=="BoxAndWhisker"){if(!t.point.symbolLocations[0])return null;i=new ge(t.point.symbolLocations[0].x,t.point.symbolLocations[0].y)}switch(t.series.type){case"BoxAndWhisker":return this.getBoxLocation(t);case"Waterfall":return this.getWaterfallRegion(t,i);case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"RangeColumn":return this.getRangeArea(t,i);default:return i}},e.prototype.getRangeArea=function(t,i){return t.point.regions[0]&&(this.inverted?i.x=t.point.regions[0].x+t.point.regions[0].width/2:i.y=t.point.regions[0].y+t.point.regions[0].height/2,t.series.type==="RangeStepArea"&&(i.y=t.point.regions[0].y+t.point.regions[0].height/2+t.point.regions[0].width)),i},e.prototype.getWaterfallRegion=function(t,i){return this.inverted?i.x=t.point.y<0?i.x+(this.chart.enableRtl?-t.point.regions[0].width:t.point.regions[0].width):i.x:i.y=t.point.y<0?i.y-t.point.regions[0].height:i.y,i},e.prototype.getTooltipText=function(t){var i=t.series;return this.parseTemplate(t.point,i,this.getFormat(this.chart,i),i.xAxis,i.yAxis)},e.prototype.getTemplateText=function(t){if(this.template=this.chart.enableHtmlSanitizer?this.chart.sanitize(this.template):this.template,this.template&&this.chart.tooltip.shared){for(var i=[],r=0;r<t.length;r++)i[r]=_e({},t[r].point),i[r].x=this.formatPointValue(t[r].point,t[r].series.xAxis,"x",!0,!1),t[r].series.seriesType==="XY"?i[r].y=this.formatPointValue(t[r].point,t[r].series.yAxis,"y",!1,!0):(i[r].low=this.formatPointValue(t[r].point,t[r].series.yAxis,"low",!1,!0),i[r].high=this.formatPointValue(t[r].point,t[r].series.yAxis,"high",!1,!0));return i}else if(this.template){var i=_e({},t.point);return i.x=this.formatPointValue(t.point,t.series.xAxis,"x",!0,!1),t.series.seriesType==="XY"?i.y=this.formatPointValue(t.point,t.series.yAxis,"y",!1,!0):(i.low=this.formatPointValue(t.point,t.series.yAxis,"low",!1,!0),i.high=this.formatPointValue(t.point,t.series.yAxis,"high",!1,!0)),i}else return t.point},e.prototype.findMouseValue=function(t,i){i.requireInvertedAxis?(this.valueY=(1-Ct(t.point.xValue,t.series.xAxis))*t.series.xAxis.rect.height+t.series.xAxis.rect.y,this.valueX=i.mouseX):(i.chartAreaType==="PolarRadar"?this.valueX=zl(t.point.xValue,t.series.xAxis)*t.series.xAxis.rect.width+t.series.xAxis.rect.x:this.valueX=t.series.category==="TrendLine"&&i.tooltip.shared?this.valueX:Ct(t.point.xValue,t.series.xAxis)*t.series.xAxis.rect.width+t.series.xAxis.rect.x,this.valueY=i.mouseY)},e.prototype.renderGroupedTooltip=function(t,i,r){var s,a=[],o,l=t.chartAreaType==="PolarRadar"?this.getData():null;this.stopAnimation(),this.removeHighlight(),this.currentPoints=[];var h=[],u=Number.MAX_VALUE,c=Number.MAX_VALUE,f,d,g;i&&(t.stockChart?r&&!Ca(r.id)&&document.getElementById(t.stockChart.element.id+"_Secondary_Element").appendChild(r):r&&document.getElementById(this.element.id+"_Secondary_Element").appendChild(r)),this.removeText();for(var p={text:[],cancel:!1,name:Zr,data:[],point:[],series:[],headerText:"",textStyle:this.textStyle,template:[]},b=0,y=0,T=t.visibleSeries;y<T.length;y++){var w=T[y];!w.enableTooltip||!w.visible||(t.chartAreaType==="Cartesian"&&w.visible?s=this.getClosestX(t,w,this.commonXValue(this.chart.visibleSeries)):t.chartAreaType==="PolarRadar"&&w.visible&&l.point!==null&&(s=new ga(w.points[l.point.index],w)),t.tooltip.showNearestPoint&&!s&&(s=this.getClosestX(t,w,this.commonXValue([w]))),s&&(p.data.push({pointX:s.point.x,pointY:s.point.y,seriesIndex:s.series.index,seriesName:s.series.name,pointIndex:s.point.index,pointText:s.point.text}),p.series[b]=s.series,p.point[b]=s.point,p.headerText=this.findHeader(s),this.currentPoints.push(s),this.template!=null&&p.template.push(t.enableHtmlSanitizer?t.sanitize(this.template.toString()):this.template.toString()),p.text.push(this.getTooltipText(s)),f=t.requireInvertedAxis?t.mouseY-s.series.clipRect.y:t.mouseX-s.series.clipRect.x,d=t.mouseY-s.series.clipRect.y,s.point.symbolLocations&&s.point.symbolLocations.length&&Math.abs(f-s.point.symbolLocations[0].x)<=u&&Math.abs(s.point.symbolLocations[0].y-d)<Math.abs(c-d)&&(u=Math.abs(f-s.point.symbolLocations[0].x),c=s.point.symbolLocations[0].y,g=s),o=s.series.category==="TrendLine"&&t.tooltip.shared?o:g||s,a.push(s)),b++)}if(!t.tooltip.showNearestPoint){var E=[];this.currentPoints=[],p.point=[],p.series=[],p.data=[],p.text=[];for(var S=0,L=a;S<L.length;S++){var M=L[S];(M.point.symbolLocations[0].x===o.point.symbolLocations[0].x||(M.series.type.indexOf("Column")!==-1||o.series.type.indexOf("Column")!==-1)&&M.point.xValue===o.point.xValue)&&(p.point.push(M.point),p.series.push(M.series),p.text.push(this.getTooltipText(M)),p.headerText=this.findHeader(M),E.push(M),p.data.push({pointX:M.point.x,pointY:M.point.y,seriesIndex:M.series.index,seriesName:M.series.name,pointIndex:M.point.index,pointText:M.point.text}))}a=E,this.currentPoints=E}a.length>0&&this.currentPoints.length>0?this.triggerSharedTooltip(p,o,h,t,i,a):this.getElement(this.element.id+"_tooltip_path")&&this.getElement(this.element.id+"_tooltip_path").setAttribute("d","")},e.prototype.triggerSharedTooltip=function(t,i,r,s,a,o){var l=this,h=t.template,u={cancel:!1,name:Zr,text:t.text,headerText:t.headerText,textStyle:t.textStyle,template:h,point:t.point,series:t.series,data:t.data},c=this.chart.border.width,f=3,d,g,p=[];s.stockChart&&(d=s.stockChart.enablePeriodSelector?s.stockChart.toolbarHeight:0,g=Xe(this.chart.stockChart.title,this.chart.stockChart.titleStyle,this.chart.themeStyle.tooltipLabelFont).height+10);var b=function(y){if(y.cancel)ze(l.element.id+"_tooltip"),r.push(i);else{i.series.type==="BoxAndWhisker"&&(l.removeText(),a=!0);for(var T=0;T<y.text.length;T++)y.text[T]&&p.push(l.currentPoints[T]);l.currentPoints=p,l.formattedText=l.formattedText.concat(y.text),l.text=y.text,l.headerText=y.headerText,typeof y.template!="object"?(y.template=y.template.split(","),y.template.length>p.length&&(y.template=y.template.splice(y.template.length-1))):y.template.length>p.length&&y.template.splice(y.template.length-1);var w=l.chart.tooltip;l.findMouseValue(i,l.chart);var E=l.findSharedLocation();E=E||new ge(null,null),E.x=w.location.x!==null?w.location.x:E.x,E.y=w.location.y!==null?w.location.y:E.y,E=E.x===null&&E.y===null?null:E,l.createTooltip(s,a,E,l.currentPoints.length===1?l.currentPoints[0].series.clipRect:null,o.length===1?o[0].point:null,l.findShapes(),l.findMarkerHeight(l.currentPoints[0]),new he(c,s.stockChart?d+g+c:c,l.chart.availableSize.width-f-c*2,l.chart.availableSize.height-f-c*2),l.chart.crosshair.enable,r,l.template?l.getTemplateText(o):null,l.template?y.template.join(""):""),i=null}};b.bind(this,i,r),this.chart.trigger(Zr,u,b)},e.prototype.findSharedLocation=function(){var t=this.chart.stockChart;if(t){this.text.length===1&&this.text.push("");var i=t.enablePeriodSelector?t.toolbarHeight:0,r=document.getElementById(t.element.id+"_ChartTitle"),s=t.title!==""?r.getBoundingClientRect().height+10:0;return t.tooltip.position==="Nearest"?new ge(this.valueX,this.valueY+i+s):new ge(this.chart.chartAxisLayoutPanel.seriesClipRect.x+5,this.chart.chartAxisLayoutPanel.seriesClipRect.y+i+5+s)}else return this.currentPoints.length>1?new ge(this.valueX,this.valueY):this.getSymbolLocation(this.currentPoints[0])},e.prototype.getBoxLocation=function(t){var i=this.lierIndex>3?t.point.outliers.length>0?t.point.symbolLocations[this.lierIndex-4]:null:{x:t.point.regions[0].x+t.point.regions[0].width/2,y:t.point.regions[0].y+t.point.regions[0].height/2};return i},e.prototype.parseTemplate=function(t,i,r,s,a){for(var o,l,h=RegExp,u=0,c=Object.keys(t);u<c.length;u++){var f=c[u];o=new h("${point."+f+"}","gm"),r=r.replace(o.source,this.formatPointValue(t,o.source==="${point.x}"?s:a,f,o.source==="${point.x}",o.source==="${point.high}"||o.source==="${point.open}"||o.source==="${point.close}"||o.source==="${point.low}"||o.source==="${point.y}"||o.source==="${point.minimum}"||o.source==="${point.maximum}"||o.source==="${point.outliers}"||o.source==="${point.upperQuartile}"||o.source==="${point.lowerQuartile}"||o.source==="${point.median}"))}for(var d=0,g=Object.keys(Object.getPrototypeOf(i));d<g.length;d++){var f=g[d];o=new h("${series."+f+"}","gm"),l=i[f],r=r.replace(o.source,l)}return r},e.prototype.formatPointValue=function(t,i,r,s,a){var o,l,h;if(i.valueType!=="Category"&&s){l=i.labelFormat&&i.labelFormat.match("{value}")!==null;var u=i.valueType==="Double"?+t[r]:t[r];o=l?i.labelFormat.replace("{value}",i.format(u)):i.format(u)}else if(a&&!U(t[r]))l=i.labelFormat&&i.labelFormat.match("{value}")!==null,h=r==="outliers"?i.format(t[r][this.lierIndex-4]):i.format(+t[r]),o=l?i.labelFormat.replace("{value}",h):h;else if(r==="size"){var c=this.chart.intl.getNumberFormat({format:"",useGrouping:this.chart.useGroupingSeparator});o=typeof t[r]=="number"?c(t[r]):t[r]}else o=t[r];return o},e.prototype.getFormat=function(t,i){if(i.tooltipFormat)return i.seriesType==="XY"&&i.category==="Indicator"?this.getIndicatorTooltipFormat(i,t,t.tooltip.format):i.tooltipFormat;if(!i.tooltipFormat&&t.tooltip.format)return i.seriesType==="XY"&&i.category==="Indicator"?this.getIndicatorTooltipFormat(i,t,t.tooltip.format):t.tooltip.format;var r=i.type==="Histogram"?"${point.minimum}-${point.maximum}":"${point.x}",s=t.tooltip.shared?"${series.name}":r;switch(i.seriesType){case"XY":return i.category==="Indicator"&&this.getIndicatorTooltipFormat(i,t,t.tooltip.format),s+" : "+(i.type==="Bubble"?"<b>${point.y}</b>  Size : <b>${point.size}</b>":"<b>${point.y}</b>");case"HighLow":return s+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>";case"HighLowOpenClose":return s+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>";case"BoxPlot":return s+"<br/>"+(this.lierIndex>3?"Outliers : <b>${point.outliers}</b>":"Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>")}},e.prototype.getIndicatorTooltipFormat=function(t,i,r){var s;return t.seriesType==="XY"?s=t.name+" : <b>${point.y}</b>":s=r,s},e.prototype.removeHighlightedMarker=function(t,i){for(var r=0,s=t;r<s.length;r++){var a=s[r];ze(this.element.id+"_Series_"+a.series.index+"_Point_"+a.point.index+"_Trackball"),this.chart.markerRender&&this.chart.markerRender.removeHighlightedMarker(a.series,a.point,i)}this.previousPoints=[]},e.prototype.getModuleName=function(){return"Tooltip"},e.prototype.destroy=function(){},e}(jl),Ua=function(){function n(e){this.errorHeight=0,this.chart=e}return n.prototype.initPrivateVariables=function(e,t){var i="",r="",s=e.chart.renderer,a=e.index===void 0?e.category:e.index;e.chart.chartAreaType==="Cartesian"&&(i="translate("+e.clipRect.x+","+e.clipRect.y+")",r="url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+a+")"),t.dataLabel.visible&&!this.chart.enableCanvas&&(e.shapeElement=s.createGroup({id:this.chart.element.id+"ShapeGroup"+a,transform:i,"clip-path":"url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+a+")"}),e.textElement=s.createGroup({id:this.chart.element.id+"TextGroup"+a,transform:i,"clip-path":r}),e.textElement.setAttribute("aria-hidden","true")),this.markerHeight=e.type==="Scatter"||t.visible?t.height/2:0,this.commonId=this.chart.element.id+"_Series_"+a+"_Point_",this.calculateErrorHeight(e,e.marker.dataLabel.position),this.chartBackground=this.chart.chartArea.background==="transparent"?this.chart.background||this.chart.themeStyle.background:this.chart.chartArea.background},n.prototype.calculateErrorHeight=function(e,t){if(e.errorBar.visible)if(e.errorBar.visible&&this.chart.chartAreaType!=="PolarRadar"){var i=e.errorBar.direction,r=this.chart.errorBarModule.positiveHeight,s=this.chart.errorBarModule.negativeHeight;this.isRectSeries(e)?((t==="Top"||t==="Auto")&&(i==="Both"||i==="Minus"?this.errorHeight=s:this.errorHeight=0),(t==="Outer"||t==="Auto")&&(i==="Both"||i==="Plus"?this.errorHeight=r:this.errorHeight=0)):((t==="Top"||t==="Outer"||t==="Auto")&&((i==="Both"||i==="Plus")&&!e.chart.isTransposed?this.errorHeight=r:this.errorHeight=0),(t==="Bottom"||t==="Auto")&&(i==="Both"||i==="Minus"?this.errorHeight=s:this.errorHeight=0))}else this.errorHeight=0;else return null},n.prototype.isRectSeries=function(e){return e.isRectSeries||e.type==="RangeArea"||e.type==="SplineRangeArea"||e.type==="RangeStepArea"},n.prototype.render=function(e,t,i){this.initPrivateVariables(e,e.marker),this.inverted=t.requireInvertedAxis,this.yAxisInversed=e.yAxis.isAxisInverse;var r=t.element.id+"_Series_"+(e.index===void 0?e.category:e.index)+"_DataLabelCollections",s=Pi("div",{id:r}),a=Ci(e);if(e.visible)for(var o=0;o<a.length;o++)this.renderDataLabel(e,a[o],s,i);s.childElementCount&&(t.enableCanvas?G(t.element.id+"_Secondary_Element").appendChild(s):te(t.enableCanvas,G(t.element.id+"_Secondary_Element"),s,t.redraw,!1,"x","y",null,"",!1,!1,null,t.duration))},n.prototype.renderDataLabel=function(e,t,i,r){if(!r.showZero&&(t.y===0||t.y===0&&e.emptyPointSettings.mode==="Zero"))return null;this.margin=r.margin;var s=[],a,o,l,h,u,c,f=!0,d,g,p={x:0,y:0},b,y=e.clipRect,T,w=!1,E=[];r.angle=r.labelIntersectAction==="Rotate90"?90:r.angle,r.enableRotation=r.labelIntersectAction==="Rotate90"?!0:r.enableRotation;var S=c=r.angle,L={width:r.border.width,color:r.border.color},M=_e({},sr("properties",r.font),null,!0);if(t.symbolLocations.length&&t.symbolLocations[0]||e.type==="BoxAndWhisker"&&t.regions.length){s=t.text!==null?Hl(t,e,this.chart):[],a=s.length;for(var O=0;O<a;O++){var _={cancel:!1,name:hs,series:e,point:t,text:s[O],border:L,color:r.fill,template:r.template,font:M,location:p,textSize:Xe(s[O],r.font,this.chart.themeStyle.datalabelFont)};if(this.chart.trigger(hs,_),!_.cancel)if(this.fontBackground=_.color,this.isDataLabelShape(_),this.markerHeight=e.type==="Bubble"?t.regions[0].height/2:this.markerHeight,_.template!==null)this.createDataLabelTemplate(i,e,r,t,_,O,this.chart.redraw);else{r.enableRotation?b=ua(r.font,_.text,r.angle,this.chart,this.chart.themeStyle.datalabelFont):b=Xe(_.text,r.font,this.chart.themeStyle.datalabelFont);var R=this.calculateTextPosition(t,e,b,r,O);if(this.chart.chartAreaType==="PolarRadar")for(var z=0,H=this.chart.chartAxisLayoutPanel.visibleAxisLabelRect;z<H.length;z++){var j=H[z];if(Wl(new he(R.x,R.y,R.width,R.height),j)){f=!1;break}}var I=new he(R.x+y.x,R.y+y.y,R.width,R.height);if(r.enableRotation){var Y=this.getRectanglePoints(R);if(d=R.x+R.width/2,g=R.y+R.height/2,w=r.labelIntersectAction==="Rotate90"||S===-90?!1:this.isDataLabelOverlapWithChartBound(Y,this.chart,y),!w){this.chart.rotatedDataLabelCollections.push(Y);for(var J=this.chart.rotatedDataLabelCollections.length-1,fe=J;fe>=0;fe--)if(this.chart.rotatedDataLabelCollections[J]&&this.chart.rotatedDataLabelCollections[fe-1]&&ca(this.chart.rotatedDataLabelCollections[J],this.chart.rotatedDataLabelCollections[fe-1])){w=!0,this.chart.rotatedDataLabelCollections[J]=null;break}}}else w=zi(R,this.chart.dataLabelCollections,y);if((!w||r.labelIntersectAction==="None")&&f){this.chart.dataLabelCollections.push(I),this.isShape&&(T=this.chart.renderer.drawRectangle(new hi(this.commonId+t.index+"_TextShape_"+O,_.color,_.border,r.opacity,R,r.rx,r.ry,"",r.border.dashArray),new Int32Array([y.x,y.y])),e.shapeElement&&e.shapeElement.appendChild(T));var Ie=this.fontBackground==="transparent"?this.chart.theme.indexOf("Dark")>-1||this.chart.theme.indexOf("HighContrast")>-1?"black":"white":this.fontBackground,re=fn(tr(Ie)),pe=Math.round((re.r*299+re.g*587+re.b*114)/1e3);o=R.x+this.margin.left+b.width/2+p.x,l=r.enableRotation&&this.chart.chartAreaType!=="PolarRadar"?R.y+this.margin.top+b.height/2+b.width/4+(r.position==="Auto"?t.regions[0].width/10:0)+p.y:R.y+this.margin.top+b.height*3/4+p.y,p={x:0,y:0},S!==0&&r.enableRotation?(h=d,u=g,c=S>360?S-360:S<-360?S+360:S):(c=0,h=R.x,u=R.y,o-=this.chart.chartAreaType==="Cartesian"&&o+b.width/2>y.width?!this.chart.requireInvertedAxis&&o>y.width?0:o+b.width/2-y.width:0,l-=l+b.height>y.y+y.height&&!(e.type.indexOf("Bar")>-1)?l+b.height-(y.y+y.height):0);var ue=r.labelIntersectAction==="Rotate90"?r.position==="Top"?"start":r.position==="Middle"?"middle":"end":S===-90&&r.enableRotation?r.position==="Top"?"end":r.position==="Middle"?"middle":"start":"middle",$=void 0;this.chart.redraw&&document.getElementById(this.commonId+t.index+"_Text_"+O)&&($=document.getElementById(this.commonId+t.index+"_Text_"+O).textContent),E.push(Ft(this.chart.renderer,new oi(this.commonId+(e.removedPointIndex!==null&&e.removedPointIndex<=t.index?t.index+1:t.index)+"_Text_"+O,o,l,ue,_.text,"rotate("+c+","+h+","+u+")","auto",c),_.font,_.font.color||(this.chart.theme==="Bootstrap5"?"#212529":this.chart.theme==="Bootstrap5Dark"?"#DEE2E6":pe>=128||e.type==="Hilo"||e.type==="HiloOpenClose"?"black":"white"),e.textElement,!1,this.chart.redraw,!0,!1,e.chart.duration,e.clipRect,null,null,this.chart.enableCanvas,null,this.chart.themeStyle.datalabelFont,new ge(h,u))),e.removedPointIndex!==null&&e.removedPointIndex<=t.index&&(e.textElement.lastChild.id=this.commonId+t.index+"_Text_"+O),this.chart.redraw&&$!==_.text&&Ul(e.textElement.querySelector("#"+this.commonId+t.index+"_Text_"+O),this.chart.duration,parseFloat($),parseFloat(_.text),e.marker.dataLabel.format||e.yAxis.labelFormat)}else G(this.commonId+t.index+"_Text_0")&&e.chart.redraw&&e.currentData&&G(this.commonId+t.index+"_Text_0").remove()}}}return E},n.prototype.getRectanglePoints=function(e){var t=new ge(e.x,e.y),i=new ge(e.x+e.width,e.y),r=new ge(e.x+e.width,e.y+e.height),s=new ge(e.x,e.y+e.height);return[t,i,r,s]},n.prototype.isDataLabelOverlapWithChartBound=function(e,t,i){for(var r=0;r<e.length;r++)if(!it(e[r].x+i.x,e[r].y+i.y,t.initialClipRect))return!0;return!1},n.prototype.createDataLabelTemplate=function(e,t,i,r,s,a,o){this.margin={left:0,right:0,bottom:0,top:0};var l=t.clipRect,h=Gl(Pi("div",{id:this.chart.element.id+"_Series_"+(t.index===void 0?t.category:t.index)+"_DataLabel_"+r.index+(a?"_"+a:""),styles:"position: absolute;background-color:"+s.color+";"+Yl(i.font,this.chart.themeStyle.datalabelFont)+";border:"+s.border.width+"px solid "+s.border.color+";"}),r.index,this.chart.enableHtmlSanitizer?this.chart.sanitize(s.template):s.template,this.chart,r,t,this.chart.element.id+"_DataLabel",a);this.calculateTemplateLabelSize(e,h,r,t,i,a,l,o)},n.prototype.calculateTemplateLabelSize=function(e,t,i,r,s,a,o,l,h){var u=$l(t,l,h),c=this.calculateTextPosition(i,r,{width:u.width,height:u.height},s,a),f=0,d=0,g=!1;h&&(g=u.width===0||u.height===0),t.style.left=(this.chart.chartAreaType==="PolarRadar"?0:r.clipRect.x)+c.x-f+"px",t.style.top=(this.chart.chartAreaType==="PolarRadar"?0:r.clipRect.y)+c.y+d+"px";var p=this.fontBackground==="transparent"?this.chart.theme.indexOf("Dark")>-1?"black":"white":this.fontBackground,b=fn(tr(p)),y=r.chart.requireInvertedAxis?r.xAxis:r.yAxis,T=r.chart.requireInvertedAxis?r.yAxis:r.xAxis;t.style.color=s.font.color||(this.chart.theme==="Bootstrap5"?"#212529":this.chart.theme==="Bootstrap5Dark"?"#DEE2E6":Math.round((b.r*299+b.g*587+b.b*114)/1e3)>=128?"black":"white"),t.childElementCount&&!g&&(!zi(c,this.chart.dataLabelCollections,o)||s.labelIntersectAction==="None")&&(r.seriesType!=="XY"||i.yValue===void 0||Xi(i.yValue,r.yAxis.visibleRange)||r.type.indexOf("Stacking")>-1||r.type.indexOf("100")>-1&&Xi(r.stackedValues.endValues[i.index],r.yAxis.visibleRange))&&Xi(i.xValue,r.xAxis.visibleRange)&&parseFloat(t.style.top)>=y.rect.y&&parseFloat(t.style.left)>=T.rect.x&&parseFloat(t.style.top)<=y.rect.y+y.rect.height&&parseFloat(t.style.left)<=T.rect.x+T.rect.width&&(this.chart.dataLabelCollections.push(new he(c.x+o.x,c.y+o.y,c.width,c.height)),te(this.chart.enableCanvas,e,t,l,!0,"left","top"),r.animation.enable&&this.chart.animateSeries&&!this.chart.enableCanvas?this.doDataLabelAnimation(r,t):this.chart.enableCanvas&&e.appendChild(t))},n.prototype.calculateTextPosition=function(e,t,i,r,s){var a=s>1&&t.type==="Candle"?e.regions[1]:e.regions[0];s>1&&t.type==="HiloOpenClose"&&(a=s===2?e.regions[1]:e.regions[2]);var o;o=this.getLabelLocation(e,t,i,s);var l=5,h=t.clipRect;if(!this.chart.requireInvertedAxis||!this.isRectSeries(t)||t.type==="BoxAndWhisker"){this.locationX=o.x;var u=i.height+this.borderWidth*2+this.markerHeight+this.margin.bottom+this.margin.top+l;o.x=r.position==="Auto"?o.x:this.calculateAlignment(u,o.x,r.alignment,this.isRectSeries(t)?e.yValue<0:!1),o.y=!this.isRectSeries(t)||t.type==="BoxAndWhisker"?this.calculatePathPosition(o.y,r.position,t,e,i,s):this.calculateRectPosition(o.y,a,e.yValue<0!==this.yAxisInversed,r.position,t,i,s,e),this.isRectSeries(t)&&this.chart.chartAreaType==="PolarRadar"&&(o=this.calculatePolarRectPosition(o,r.position,t,e,i,s,r.alignment,u))}else{this.locationY=o.y;var u=i.width+this.borderWidth+this.margin.left+this.margin.right-l;o.x=r.position==="Auto"?o.x:this.calculateAlignment(u,o.x,r.alignment,e.yValue<0),o.x=this.calculateRectPosition(o.x,a,e.yValue<0!==this.yAxisInversed,r.position,t,i,s,e)}var c=mr(o,i,this.margin);!(r.enableRotation===!0&&r.angle!==0)&&!(c.y>h.y+h.height||c.x>h.x+h.width||c.x+c.width<0||c.y+c.height<0)&&(c.x=c.x<0?l:c.x,c.y=c.y<0&&r.labelIntersectAction!=="None"?l:c.y,c.x-=c.x+c.width>h.x+h.width?c.x+c.width-(h.x+h.width)+l:0,c.y-=c.y+c.height>h.y+h.height?c.y+c.height-(h.y+h.height)+l:0,this.fontBackground=this.fontBackground==="transparent"?this.chartBackground:this.fontBackground);var f;return this.inverted&&t.isRectSeries&&c.x+c.width>a.x+a.width&&(f=!0),this.fontBackground=f?this.chartBackground:this.fontBackground,c},n.prototype.calculatePolarRectPosition=function(e,t,i,r,s,a,o,l){var h=5,u,c=this.chart.availableSize.width,f=o==="Center"?0:o==="Far"?1:-1,d=r.regionData.startAngle-.5*Math.PI+(r.regionData.endAngle-r.regionData.startAngle)/2;return a===0?u=r.regionData.radius<r.regionData.innerRadius?r.regionData.innerRadius:r.regionData.radius:u=r.regionData.radius>r.regionData.innerRadius?r.regionData.innerRadius:r.regionData.radius,this.fontBackground=this.fontBackground==="transparent"?this.chartBackground:this.fontBackground,i.drawType.indexOf("Stacking")>-1?t=t==="Outer"?"Top":t:i.drawType.indexOf("Range")>-1&&(t=t==="Outer"||t==="Top"?t:"Auto"),t==="Outer"?u=a===0?u+2*h+this.markerHeight:u-2*h-this.markerHeight:t==="Middle"?(u=u/2+h,i.drawType==="StackingColumn"&&(u=r.regionData.innerRadius+(r.regionData.radius-r.regionData.innerRadius)/2+h-s.height/2)):t==="Top"?u=a===0?u-2*h-this.markerHeight:u+2*h+this.markerHeight:t==="Bottom"?(u=2*h,u+=i.drawType==="StackingColumn"?r.regionData.innerRadius+this.markerHeight:0):a===0?u=u>=i.chart.radius?u-h:i.drawType==="StackingColumn"?u-2*h:u+2*h:u=u>=i.chart.radius?u+h:u-2*h,u+=l*f,e.x=i.clipRect.width/2+i.clipRect.x+u*Math.cos(d),i.drawType==="StackingColumn"?e.x=e.x<c/2?e.x+s.width/2:e.x>c/2?e.x-s.width/2:e.x:i.drawType==="Column"&&(e.x=e.x<c/2?e.x-s.width/2:e.x>c/2?e.x+s.width/2:e.x),e.y=i.clipRect.height/2+i.clipRect.y+u*Math.sin(d),e},n.prototype.getLabelLocation=function(e,t,i,r){var s=new ge(0,0),a=t.type==="Candle"&&r>1?e.regions[1]:e.regions[0];t.type==="HiloOpenClose"&&(a=r===2?e.regions[1]:e.regions[2]);var o=t.xAxis,l=t.yAxis,h=t.chart.requireInvertedAxis;if(t.type==="BoxAndWhisker"){switch(this.markerHeight=0,r){case 0:s=_t(e.xValue,e.median,o,l,h);break;case 1:s=_t(e.xValue,e.maximum,o,l,h);break;case 2:s=_t(e.xValue,e.minimum,o,l,h);break;case 3:s=_t(e.xValue,e.upperQuartile,o,l,h);break;case 4:s=_t(e.xValue,e.lowerQuartile,o,l,h);break;default:{s=_t(e.xValue,e.outliers[r-5],o,l,h),this.markerHeight=t.marker.height/2;break}}h?s.y=e.regions[0].y+e.regions[0].height/2:s.x=e.regions[0].x+e.regions[0].width/2}else r===0||r===1?s=new ge(e.symbolLocations[0].x,e.symbolLocations[0].y):(r===2||r===3)&&t.type==="Candle"?s=new ge(e.symbolLocations[1].x,e.symbolLocations[1].y):h?s={x:a.x+a.width/2,y:a.y}:s={x:a.x+a.width,y:a.y+a.height/2};if(r>1&&t.type==="HiloOpenClose")if(t.chart.requireInvertedAxis){var u=a.height;s.y=a.y+u/2+2*(r===2?1:-1)}else{var c=a.width;s.x=a.x+c/2+2*(r===2?1:-1)}return s},n.prototype.calculateRectPosition=function(e,t,i,r,s,a,o,l){if(s.chart.chartAreaType==="PolarRadar")return null;var h=5,u=this.margin,c=s.marker.dataLabel.enableRotation||this.inverted?a.width:a.height;switch(this.extraSpace=this.borderWidth+c/2+(r!=="Outer"&&s.type.indexOf("Column")>-1&&Math.abs(t.height-a.height)<h?0:h),s.type==="StackingColumn100"||s.type==="StackingBar100"?r=r==="Outer"?"Top":r:s.type.indexOf("Range")>-1?r=r==="Outer"||r==="Top"?r:"Auto":s.type==="Waterfall"&&(r=r==="Auto"?"Middle":r),r){case"Bottom":e=this.inverted?i?e+(s.type==="Waterfall"?+this.extraSpace+u.left+this.markerHeight:+t.width-this.extraSpace-u.left):e-t.width+this.extraSpace+u.right:i?e+(s.type==="Waterfall"?-this.extraSpace-u.top-this.markerHeight:-t.height+this.extraSpace+u.top):e+t.height-this.extraSpace-u.bottom;break;case"Middle":e=e=this.inverted?i?e+t.width/2:e-t.width/2:i?e-t.height/2:e+t.height/2;break;case"Auto":e=this.calculateRectActualPosition(e,t,i,s,a,o,l);break;default:this.extraSpace+=this.errorHeight,e=this.calculateTopAndOuterPosition(e,t,r,s,o,this.extraSpace,i,l);break}var f=this.inverted?e<t.x||e>t.x+t.width:e<t.y||e>t.y+t.height;this.fontBackground=f?this.fontBackground==="transparent"?this.chartBackground:this.fontBackground:this.fontBackground==="transparent"?l.color||s.interior:this.fontBackground;var d=s.chart.series.length;if(r==="Outer"&&s.type.indexOf("Stacking")>-1&&d-1>s.index){for(var g=void 0,p=void 0,b=s.index+1;b<d;b++)if(g=s.chart.series[b],p=g.points[l.index],g.type.indexOf("Stacking")>-1&&g.type.indexOf("100")===-1){this.fontBackground=p&&(p.yValue<0&&l.yValue<0||p.yValue>0&&l.yValue>0)?p?p.color:g.interior:this.fontBackground;break}}return e},n.prototype.calculatePathPosition=function(e,t,i,r,s,a){var o=5;switch(i.type.indexOf("Area")>-1&&i.type!=="RangeArea"&&i.type!=="SplineRangeArea"&&i.type!=="RangeStepArea"&&this.yAxisInversed&&i.marker.dataLabel.position!=="Auto"&&(t=t==="Top"?"Bottom":t==="Bottom"?"Top":t),this.fontBackground=this.fontBackground==="transparent"?this.chartBackground:this.fontBackground,t){case"Top":case"Outer":e=e-this.markerHeight-this.borderWidth-s.height/2-this.margin.bottom-o-this.errorHeight;break;case"Bottom":e=e+this.markerHeight+this.borderWidth+s.height/2+this.margin.top+o+this.errorHeight;break;case"Auto":e=this.calculatePathActualPosition(e,this.markerHeight,i,r,s,a);break}return e},n.prototype.isDataLabelShape=function(e){this.isShape=e.color!=="transparent"||e.border.width>0,this.borderWidth=e.border.width,this.isShape||(this.margin={left:0,right:0,bottom:0,top:0})},n.prototype.calculateRectActualPosition=function(e,t,i,r,s,a,o){for(var l,h,u=!0,c=0,f=this.chart.dataLabelCollections,d=r.type.indexOf("Range")!==-1||r.type==="Hilo"?2:4;u&&c<d;){var g=this.getPosition(c);this.fontBackground=r.marker.dataLabel.fill,r.type.indexOf("Stacking")>-1&&g==="Outer"&&(g="Top",c++),l=this.calculateRectPosition(e,t,i,g,r,s,a,o),this.inverted?(h=mr(new ge(l,this.locationY),s,this.margin),u=h.x<0||zi(h,f,r.clipRect)||h.x+h.width>r.clipRect.width):(r.marker.dataLabel.enableRotation&&(s.width=s.width-o.regions[0].width/10),h=mr(new ge(this.locationX,l),s,this.margin),u=h.y<0||zi(h,f,r.clipRect)||h.y>r.clipRect.height,r.marker.dataLabel.template===null&&u!==!0&&(u=h.y/2+s.height+(g==="Outer"?o.regions[0].height+this.extraSpace:o.regions[0].height-2*this.extraSpace)>r.clipRect.height)),c++}return l},n.prototype.calculateAlignment=function(e,t,i,r){switch(i){case"Far":t=this.inverted?r?t-e:t+e:r?t+e:t-e;break;case"Near":t=this.inverted?r?t+e:t-e:r?t-e:t+e;break}return t},n.prototype.calculateTopAndOuterPosition=function(e,t,i,r,s,a,o,l){var h=this.margin,u;switch(r.type){case"RangeColumn":case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"Hilo":u=s===0&&!this.yAxisInversed||s===1&&this.yAxisInversed,e=this.updateLabelLocation(i,e,a,h,t,u);break;case"Candle":u=(s===0||s===2)&&!this.yAxisInversed||(s===1||s===3)&&this.yAxisInversed,e=this.updateLabelLocation(i,e,a,h,t,u,s>1);break;case"HiloOpenClose":s<=1?(u=s===0&&!this.yAxisInversed||s===1&&this.yAxisInversed,e=this.updateLabelLocation(i,e,a,h,t,u)):this.yAxisInversed?e=this.inverted?e-a-h.right:e+a+h.top:e=this.inverted?e+a+h.left:e-a-h.bottom;break;default:o&&i==="Top"||!o&&i==="Outer"||i==="Top"&&r.visiblePoints[l.index].yValue===0?e=this.inverted?e+(o&&r.type==="Waterfall"?+t.width-a-h.left:+a+h.left+this.markerHeight):e+(o&&r.type==="Waterfall"?-t.height+a+h.bottom:-a-h.bottom-this.markerHeight):e=this.inverted?e+(o&&r.type==="Waterfall"?+t.width+a+h.top:-a-h.right-this.markerHeight):e+(o&&r.type==="Waterfall"?-t.height-a-h.top:+a+h.top+this.markerHeight);break}return e},n.prototype.updateLabelLocation=function(e,t,i,r,s,a,o){return o===void 0&&(o=!1),this.inverted?a?t=e==="Outer"&&!o?t+i+r.left+this.markerHeight:t-i-r.right-this.markerHeight:t=e==="Outer"&&!o?t-s.width-i-r.right-this.markerHeight:t-s.width+i+r.left+this.markerHeight:a?t=e==="Outer"&&!o?t-i-r.bottom-this.markerHeight:t+i+r.top+this.markerHeight:t=e==="Outer"&&!o?t+s.height+i+r.top+this.markerHeight:t+s.height-i-r.bottom-this.markerHeight,t},n.prototype.calculatePathActualPosition=function(e,t,i,r,s,a){var o=i.points,l=r.index,h=o[l].yValue,u,c=o.length-1>l?o[l+1]:null,f=l>0?o[l-1]:null,d,g=!0,p,b,y,T=this.chart.dataLabelCollections;if(i.type==="Bubble")u="Top";else if(i.type.indexOf("Step")>-1)u="Top",l&&(u=!f||!f.visible||h>f.yValue!==this.yAxisInversed||h===f.yValue?"Top":"Bottom");else if(i.type==="BoxAndWhisker")a===1||a===3||a>4?u=i.yAxis.isAxisInverse?"Bottom":"Top":a===2||a===4?u=i.yAxis.isAxisInverse?"Top":"Bottom":(g=!1,u="Middle",d=this.calculatePathPosition(e,u,i,r,s,a));else if(l===0)u=!c||!c.visible||h>c.yValue||h<c.yValue&&this.yAxisInversed?"Top":"Bottom";else if(l===o.length-1)u=!f||!f.visible||h>f.yValue||h<f.yValue&&this.yAxisInversed?"Top":"Bottom";else if(!c.visible&&!(f&&f.visible))u="Top";else if(!c.visible||!f)u=c.yValue>h||f&&f.yValue>h?"Bottom":"Top";else{var w=(c.yValue-f.yValue)/2,E=w*l+(c.yValue-w*(l+1));u=this.yAxisInversed?E<h?"Bottom":"Top":E<h?"Top":"Bottom"}for(b=u==="Bottom",y=["Outer","Top","Bottom","Middle","Auto"].indexOf(u);g&&y<4;)d=this.calculatePathPosition(e,this.getPosition(y),i,r,s,a),p=mr(new ge(this.locationX,d),s,this.margin),g=p.y<0||zi(p,T,i.clipRect)||p.y+p.height>i.clipRect.height,y=b?y-1:y+1,b=!1;return d},n.prototype.doDataLabelAnimation=function(e,t){for(var i=e.shapeElement.childNodes,r=e.textElement.childNodes,s=e.animation.delay+e.animation.duration,a=e.chart.animated?e.chart.duration:200,o,l=t?1:r.length,h,u=0;u<l;u++)h=r[u],t?(t.style.visibility="hidden",Xl(t,s,a,"ZoomIn")):(o=new ge(+h.getAttribute("x")+ +h.getAttribute("width")/2,+h.getAttribute("y")+ +h.getAttribute("height")/2),Pr(h,s,a,e,null,o,!0),i[u]&&(h=i[u],o=new ge(+h.getAttribute("x")+ +h.getAttribute("width")/2,+h.getAttribute("y")+ +h.getAttribute("height")/2),Pr(h,s,a,e,null,o,!0)))},n.prototype.getPosition=function(e){return["Outer","Top","Bottom","Middle","Auto"][e]},n.prototype.getModuleName=function(){return"DataLabel"},n.prototype.destroy=function(){},n}(),Bh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ga=function(n){Bh(e,n);function e(t){var i=n.call(this,t)||this;return i.library=i,i.addEventListener(),i}return e.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(se.touchMoveEvent,this.mouseMove,this),this.chart.on("click",this.click,this),this.chart.on(se.touchEndEvent,this.mouseEnd,this))},e.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(se.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(se.touchEndEvent,this.mouseEnd))},e.prototype.mouseMove=function(t){if(this.chart.legendSettings.visible&&!this.chart.isTouch&&(this.move(t),this.chart.highlightModule&&(this.chart.highlightMode!=="None"||this.chart.legendSettings.enableHighlight)))for(var i=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_",this.legendID+"_g_"],r=t.target.id,s=void 0,a=0,o=i;a<o.length;a++){var l=o[a];if(r.indexOf(l)>-1){s=parseInt(r.split(l)[1],10),this.chart.highlightModule.legendSelection(this.chart,s,t.target,t.type);break}}},e.prototype.mouseEnd=function(t){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(t)},e.prototype.getLegendOptions=function(t,i){this.legendCollections=[];var r,s,a,o=[];this.isRtlEnable=i.enableRtl,this.isReverse=!this.isRtlEnable&&i.legendSettings.reverse,t.length>1&&(this.legend.mode="Series");for(var l=0,h=t;l<h.length;l++){var u=h[l];if(this.legend.mode==="Series")u.category!=="Indicator"&&(r=i.chartAreaType==="PolarRadar"?u.drawType:u.type,a=!u.marker.visible&&r.indexOf("Line")>-1&&r.indexOf("Area")===-1?u.dashArray:"",s=u.pointColorMapping&&u.points.length>0&&u.points[0].interior?u.points[0].interior:u.interior,this.legendCollections.push(new ji(u.name,s,u.legendShape,u.category==="TrendLine"?this.chart.series[u.sourceIndex].trendlines[u.index].visible:u.visible,r,u.legendImageUrl?u.legendImageUrl:u.type==="Scatter"&&u.marker.shape==="Image"?u.marker.imageUrl:"",u.marker.shape,u.marker.visible,null,null,a)));else if(this.legend.mode==="Point")for(var c=0,f=u.points;c<f.length;c++){var d=f[c];r=i.chartAreaType==="PolarRadar"?u.drawType:u.type,s=d.interior?d.interior:u.interior,this.legendCollections.push(new ji(d.x.toString(),s,u.legendShape,u.category==="TrendLine"?this.chart.series[u.sourceIndex].trendlines[u.index].visible:d.visible,r,u.type==="Scatter"&&u.marker.shape==="Image"?u.marker.imageUrl:"",u.marker.shape,u.marker.visible))}else if(this.legend.mode==="Range")for(var g=0,p=u.points;g<p.length;g++){var d=p[g];r=i.chartAreaType==="PolarRadar"?u.drawType:u.type,s=d.interior?d.interior:u.interior;var b="Others";if(o.indexOf(s)<0&&(o.push(s),i.rangeColorSettings.length>=1&&i.rangeColorSettings[0].colors.length===1)){for(var y=0,T=i.rangeColorSettings;y<T.length;y++){var w=T[y];w.colors[0]===s&&(b=w.label)}this.legendCollections.push(new ji(b,s,u.legendShape,u.category==="TrendLine"?this.chart.series[u.sourceIndex].trendlines[u.index].visible:d.visible,r,u.type==="Scatter"&&u.marker.shape==="Image"?u.marker.imageUrl:"",u.marker.shape,u.marker.visible))}}else if(this.legendCollections.length===0&&i.rangeColorSettings.length>0){var E=i.rangeColorSettings[0].start.toString(),S=i.rangeColorSettings[i.rangeColorSettings.length-1].end.toString();this.legendCollections.push(new ji(E,u.interior,"Rectangle",!0,r,"",u.marker.shape,u.marker.visible)),this.legendCollections.push(new ji(S,u.interior,"Rectangle",!0,r,"",u.marker.shape,u.marker.visible))}}this.isReverse&&i.legendSettings.mode!=="Gradient"&&this.legendCollections.reverse()},e.prototype.getLegendBounds=function(t,i,r){this.calculateLegendTitle(r,i),this.isTitle=!!r.title,this.chartRowCount=1,this.rowHeights=[],this.columnHeights=[],this.pageHeights=[];var s=r.padding,a=r.titlePosition,o=0,l,h=0,u=this.arrowWidth,c=this.arrowHeight,f=this.isVertical&&!r.enablePages?c:0,d=this.isTitle&&a==="Top"?this.legendTitleSize.height+this.fivePixel:0;d=this.isTitle&&this.isVertical&&a!=="Top"?this.legendTitleSize.height+this.fivePixel:d,this.isVertical?h=r.width?0:t.width/100*5:o=r.height?0:t.height/100*5,i.height+=o,i.width+=h;var g=r.shapeWidth,p=r.shapePadding,b=0,y=0,T=0,w=0,E=0,S=0,L=0,M,O=!1;this.maxItemHeight=Math.max(Xe("MeasureText",r.textStyle,this.chart.themeStyle.legendLabelFont).height,r.shapeHeight);for(var _=0;_<this.legendCollections.length;_++)if(l=this.legendCollections[_],us.test(l.text)&&(l.text=cs(l.text,us)),fs.test(l.text)&&(l.text=cs(l.text,fs)),M={fill:l.fill,text:l.text,shape:l.shape,markerShape:l.markerShape,name:ds,cancel:!1},this.chart.trigger(ds,M),l.render=!M.cancel,l.text=M.text,l.fill=M.fill,l.shape=M.shape,l.markerShape=M.markerShape,l.textSize=Xe(l.text,r.textStyle,this.chart.themeStyle.legendLabelFont),g=l.text?r.shapeWidth:0,p=l.text?r.shapePadding:0,l.render&&l.text){O=!0,T=g+p+(r.maximumLabelWidth?r.maximumLabelWidth:l.textSize.width)+(this.isVertical||_===0?s:this.itemPadding),y=y+T,!r.enablePages&&!this.isVertical&&(L=this.isTitle&&a!=="Top"?this.legendTitleSize.width+this.fivePixel:0,L+=u),this.getLegendHeight(l,r,i,y,this.maxItemHeight,s),(i.width<s+y+L||this.isVertical)&&(b=Math.max(b,y+s+L-(this.isVertical?0:T)),S===0&&T!==y&&(S=1),y=this.isVertical?0:T,S++,E=0,w=f);var R=S>0?S-1:0;this.rowHeights[R]=Math.max(this.rowHeights[R]?this.rowHeights[R]:0,l.textSize.height),this.columnHeights[E]=(this.columnHeights[E]?this.columnHeights[E]:0)+l.textSize.height+(this.isVertical?_===0?s:this.itemPadding:s),E++}w=Math.max.apply(null,this.columnHeights)+s+d,w=Math.max(w,this.maxItemHeight+s+s+d),this.isPaging=i.height<w,this.isPaging&&!r.enablePages&&(this.isVertical||(w=this.maxItemHeight+s+s+(a==="Top"?d:0))),this.totalPages=S,!this.isPaging&&!this.isVertical&&(y+=this.isTitle&&a!=="Top"?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0),O?this.setBounds(Math.max(y+s,b),w,r,i):this.setBounds(0,0,r,i)},e.prototype.getLegendHeight=function(t,i,r,s,a,o){var l=t.textSize.width,h=i.shapePadding+o*2+i.shapeWidth;switch(i.textWrap){case"Wrap":case"AnyWhere":l>i.maximumLabelWidth||l+s>r.width?t.textCollection=ql(t.text,i.maximumLabelWidth?Math.min(i.maximumLabelWidth,r.width-h):r.width-h,i.textStyle,this.chart.enableRtl,null,null,this.chart.themeStyle.legendLabelFont):t.textCollection.push(t.text),t.textSize.height=a*t.textCollection.length;break}},e.prototype.getRenderPoint=function(t,i,r,s,a,o,l){var h=this.legend.padding,u=r+(this.legend.maximumLabelWidth?this.legend.maximumLabelWidth:s.textSize.width),c=s.location.x+(this.isRtlEnable?-u:u);this.isWithinBounds(c,(this.legend.maximumLabelWidth?this.legend.maximumLabelWidth:t.textSize.width)+r-this.itemPadding,a)||this.isVertical?(t.location.x=i.x,o!==l&&this.chartRowCount++,t.location.y=o===l?s.location.y:s.location.y+(this.isVertical?s.textSize.height:this.rowHeights[this.chartRowCount-2])+(this.isVertical?this.itemPadding:h)):(t.location.x=o===l?s.location.x:c,t.location.y=s.location.y);var f=this.isRtlEnable?t.location.x-r+this.itemPadding+this.legend.shapeWidth/2-this.legendBounds.x:this.legendBounds.x+this.legendBounds.width-(t.location.x+r-this.itemPadding-this.legend.shapeWidth/2);!this.isVertical&&this.isPaging&&!this.legend.enablePages&&(f=this.legendBounds.width-t.location.x-this.fivePixel),f=this.legend.maximumLabelWidth?Math.min(this.legend.maximumLabelWidth,f):f,this.legend.textOverflow==="Ellipsis"&&this.legend.textWrap==="Normal"&&(t.text=un(+f.toFixed(4),t.text,this.legend.textStyle,this.chart.enableRtl,this.chart.themeStyle.legendLabelFont))},e.prototype.isWithinBounds=function(t,i,r){return this.isRtlEnable?t-i<r.x-this.legend.shapeWidth/2:t+i>r.x+r.width+this.legend.shapeWidth/2},e.prototype.LegendClick=function(t,i){var r=this.chart,s=r.legendSettings.mode==="Series"?t:0,a=this.isReverse?this.legendCollections.length-1-t:t,o=r.visibleSeries[s],l=this.legendCollections[a],h="isProtectedOnChange";if(r.legendSettings.mode==="Series"){var u={legendText:l.text,legendShape:l.shape,chart:r.isBlazor?{}:r,series:o,points:o.points,name:mi,cancel:!1};this.chart.trigger(mi,u),o.legendShape=u.legendShape,u.cancel||(o.fill!==null&&(r.visibleSeries[t].interior=o.fill),r.legendSettings.toggleVisibility?(o.chart[h]=!0,o.category==="TrendLine"?!r.series[o.sourceIndex].trendlines[o.index].visible&&r.series[o.sourceIndex].visible?r.series[o.sourceIndex].trendlines[o.index].visible=!0:r.series[o.sourceIndex].trendlines[o.index].visible=!1:this.changeSeriesVisiblity(o,o.visible),l.visible=o.category==="TrendLine"?r.series[o.sourceIndex].trendlines[o.index].visible:o.visible,this.refreshLegendToggle(r,o),r.highlightModule&&r.legendSettings.enableHighlight&&r.highlightModule.legendSelection(r,t,i.target,"mousemove")):r.highlightModule?r.highlightModule.legendSelection(r,t,i.target,i.type):r.selectionModule&&r.selectionModule.legendSelection(r,t,i.target,i.type),o.chart[h]=!1)}else if(r.legendSettings.mode==="Point"){var c=o.points[t],u={legendText:l.text,legendShape:l.shape,chart:r.isBlazor?{}:r,series:o,points:[c],name:mi,cancel:!1};if(this.chart.trigger(mi,u),r.legendSettings.toggleVisibility&&!u.cancel){c.visible=!c.visible;var f=this.legendCollections[t];f.visible=c.visible,this.refreshLegendToggle(r,o)}}else if(r.legendSettings.mode==="Range"){for(var d=[],f=this.legendCollections[t],g=0,p=o.points;g<p.length;g++){var c=p[g];f.fill===(c.interior||o.interior)&&d.push(c)}var u={legendText:l.text,legendShape:l.shape,chart:r.isBlazor?{}:r,series:o,points:d,name:mi,cancel:!1};if(this.chart.trigger(mi,u),r.legendSettings.toggleVisibility&&!u.cancel){f.visible=!f.visible;for(var b=0,y=d;b<y.length;b++){var c=y[b];c.visible=!c.visible}this.refreshLegendToggle(r,o)}}},e.prototype.refreshLegendToggle=function(t,i){var r=[];if(t.selectionModule&&(r=_e([],t.selectionModule.selectedDataIndexes,null,!0)),t.svgObject.childNodes.length>0&&!t.enableAnimation&&!t.enableCanvas){for(;t.svgObject.lastChild;)t.svgObject.removeChild(t.svgObject.lastChild);qe(t.svgObject)}t.animateSeries=!1,t.redraw=t.enableAnimation,i.isLegendClicked=!0,t.rotatedDataLabelCollections=[],ze(Ca(t.element.id+"_Secondary_Element").querySelectorAll(".ejSVGTooltip")[0]),ya(t),this.redrawSeriesElements(i,t),t.removeSvg(),t.refreshAxis(),i.refreshAxisLabel(),this.refreshSeries(t.visibleSeries);for(var s=0,a=t.visibleSeries;s<a.length;s++){var o=a[s];U(o)||t.markerRender.removeHighlightedMarker(o,null,!0)}t.refreshBound(),t.trigger("loaded",{chart:t}),r.length>0&&(t.selectionModule.selectedDataIndexes=r,t.selectionModule.redrawSelection(t,t.selectionMode)),!t.enableCanvas&&t.highlightModule&&(t.highlightMode!=="None"||t.legendSettings.enableHighlight)&&t.highlightModule.redrawSelection(t,t.highlightMode),t.redraw=!1,i.isLegendClicked=!1},e.prototype.changeSeriesVisiblity=function(t,i){t.visible=!i,this.isSecondaryAxis(t.xAxis)&&(t.xAxis.internalVisibility=t.xAxis.series.some(function(r){return r.visible})),(this.isSecondaryAxis(t.yAxis)||t.category==="Pareto"&&t.type==="Line")&&(t.yAxis.internalVisibility=t.yAxis.series.some(function(r){return r.visible})),t.trendlines.length&&t.visible&&t.trendlines.forEach(function(r){r.visible=!0})},e.prototype.isSecondaryAxis=function(t){return this.chart.axes.indexOf(t)>-1},e.prototype.redrawSeriesElements=function(t,i){if(!i.redraw)return null;ze(i.element.id+"_Series_"+(t.index===void 0?t.category:t.index)+"_DataLabelCollections")},e.prototype.refreshSeries=function(t){for(var i=0,r=t;i<r.length;i++){var s=r[i];if(s.type.indexOf("Spline")>-1){var a=s.type.indexOf("Area")>-1||s.drawType.indexOf("Area")>-1,o=s.type.indexOf("Range")>-1;this.chart["spline"+(a?o?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(s)}s.visible&&(s.position=void 0)}},e.prototype.click=function(t){var i=this;if(this.chart.legendSettings.visible){for(var r=this.chart.mouseX,s=this.chart.mouseY,a=[],o=t.target.id.indexOf("_chart_legend_g_")>-1?t.target.firstChild.id:t.target.id,l=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"],h,u=0,c=l;u<c.length;u++){var f=c[u];if(o.indexOf(f)>-1){h=parseInt(o.split(f)[1],10),this.LegendClick(h,t);break}}o.indexOf(this.legendID+"_pageup")>-1?this.changePage(t,!0):o.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(t,!1),this.chart.enableCanvas&&this.pagingRegions.length&&this.checkWithinBounds(r,s),a=this.legendRegions.filter(function(d){return it(r,s+(i.isPaging?(i.currentPageNumber-1)*i.translatePage(i.chart.enableCanvas,null,1,2):0),d.rect)}),a.length&&this.chart.enableCanvas&&this.LegendClick(a[0].index,t)}},e.prototype.checkWithinBounds=function(t,i){var r=this.chart.renderer,s=this.legendBounds,a=this.chart.legendSettings.border.width,o=new he(s.x,s.y,s.width,s.height);if(o.x=o.x-a/2,o.y=o.y-a/2,o.width=o.width+a,o.height=o.height+a,it(t,i,this.pagingRegions[0]))return this.isRtlEnable?this.canvasPageUp(r,o,s):this.canvasPageDown(r,o,s),null;if(it(t,i,this.pagingRegions[1]))return this.isRtlEnable?this.canvasPageDown(r,o,s):this.canvasPageUp(r,o,s),null},e.prototype.canvasPageDown=function(t,i,r){--this.currentPageNumber>0?(this.legendRegions=[],t.clearRect(i),t.canvasClip(new hi("legendClipPath","transparent",{width:0,color:""},null,i)),this.renderLegend(this.chart,this.legend,r),t.canvasRestore()):++this.currentPageNumber},e.prototype.canvasPageUp=function(t,i,r){++this.currentPageNumber>0&&this.currentPageNumber<=this.totalNoOfPages?(this.legendRegions=[],t.clearRect(i),t.canvasClip(new hi("legendClipPath","transpaent",{width:0,color:""},null,i)),this.renderLegend(this.chart,this.legend,r),t.canvasRestore()):--this.currentPageNumber},e.prototype.getModuleName=function(){return"Legend"},e.prototype.destroy=function(){this.removeEventListener()},e}(Zl);function Ih(n){return Object.prototype.toString.call(n)==="[object String]"?"$s"+n:"$o"+n.toString()}var xe=function(){function n(e){this.table={},this.nElements=0,this.toStr=e||Ih}return n.prototype.getValue=function(e){var t=this.table["$"+this.toStr(e)];if(!(typeof t>"u"))return t.value},n.prototype.setValue=function(e,t){var i,r="$"+this.toStr(e);return this.table[r],this.nElements++,i=void 0,this.table[r]={key:e,value:t},i},n.prototype.remove=function(e){var t="$"+this.toStr(e),i=this.table[t];return delete this.table[t],this.nElements--,i.value},n.prototype.keys=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var r=this.table[t[i]];e.push(r.key)}return e},n.prototype.values=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var r=this.table[t[i]];e.push(r.value)}return e},n.prototype.containsKey=function(e){var t=!0;return typeof this.getValue(e)>"u"?t=!0:t=!1,!t},n.prototype.clear=function(){this.table={},this.nElements=0},n.prototype.size=function(){return this.nElements},n}(),Q=function(){function n(e){this.stringStartMark="/",this.internalValue="",this.isSaving6=!1,this.position6=-1,this.internalValue=this.normalizeValue(e)}return Object.defineProperty(n.prototype,"status",{get:function(){return this.status6},set:function(e){this.status6=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving6},set:function(e){this.isSaving6=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index6},set:function(e){this.index6=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position6},set:function(e){this.position6=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.internalValue},set:function(e){var t=e;e!==null&&e.length>0?(t=e,this.internalValue=this.normalizeValue(t)):this.internalValue=t},enumerable:!0,configurable:!0}),n.prototype.save=function(e){e.write(this.toString())},n.prototype.toString=function(){return this.stringStartMark+this.escapeString(this.value)},n.prototype.clone=function(e){var t=new n;return t.value=this.internalValue,t},n.prototype.escapeString=function(e){for(var t="",i=0,r=e.length;i<r;i++){var s=e[i];n.delimiters.indexOf(s),t=t+s}return t},n.prototype.normalizeValue=function(e,t){return e},n.delimiters="()<>[]{}/%}",n.replacements=[" ","	",`
`,"\r"],n}(),D=function(){function n(){this.forTest="test",this.forTest=n.obj}return n.obj="obj",n.endObj="endobj",n.r="R",n.whiteSpace=" ",n.slash="/",n.newLine=`\r
`,n.stream="stream",n.endStream="endstream",n.xref="xref",n.f="f",n.n="n",n.trailer="trailer",n.startxref="startxref",n.eof="%%EOF",n.header="%PDF-1.5",n.beginText="BT",n.endText="ET",n.beginPath="m",n.appendLineSegment="l",n.stroke="S",n.fill="f",n.fillEvenOdd="f*",n.fillStroke="B",n.fillStrokeEvenOdd="B*",n.appendbeziercurve="c",n.appendRectangle="re",n.saveState="q",n.restoreState="Q",n.paintXObject="Do",n.modifyCtm="cm",n.modifyTM="Tm",n.setLineWidth="w",n.setLineCapStyle="J",n.setLineJoinStyle="j",n.setDashPattern="d",n.setFlatnessTolerance="i",n.closePath="h",n.closeStrokePath="s",n.closeFillStrokePath="b",n.setCharacterSpace="Tc",n.setWordSpace="Tw",n.setHorizontalScaling="Tz",n.setTextLeading="TL",n.setFont="Tf",n.setRenderingMode="Tr",n.setTextRise="Ts",n.setTextScaling="Tz",n.setCoords="Td",n.goToNextLine="T*",n.setText="Tj",n.setTextWithFormatting="TJ",n.setTextOnNewLine="'",n.selectcolorspaceforstroking="CS",n.selectcolorspacefornonstroking="cs",n.setrbgcolorforstroking="RG",n.setrbgcolorfornonstroking="rg",n.setcmykcolorforstroking="K",n.setcmykcolorfornonstroking="k",n.setgraycolorforstroking="G",n.setgraycolorfornonstroking="g",n.clipPath="W",n.clipPathEvenOdd="W*",n.endPath="n",n.setGraphicsState="gs",n.comment="%",n.evenOdd="*",n.setMiterLimit="M",n.setColorAndPattern="scn",n.setColorAndPatternStroking="SCN",n}(),Me=function(){function n(){this.pages="Pages",this.kids="Kids",this.count="Count",this.resources="Resources",this.type="Type",this.size="Size",this.mediaBox="MediaBox",this.parent="Parent",this.root="Root",this.decodeParms="DecodeParms",this.filter="Filter",this.font="Font",this.type1="Type1",this.baseFont="BaseFont",this.encoding="Encoding",this.subtype="Subtype",this.contents="Contents",this.procset="ProcSet",this.colorSpace="ColorSpace",this.extGState="ExtGState",this.pattern="Pattern",this.xObject="XObject",this.length="Length",this.width="Width",this.height="Height",this.bitsPerComponent="BitsPerComponent",this.image="Image",this.dctdecode="DCTDecode",this.columns="Columns",this.blackIs1="BlackIs1",this.k="K",this.s="S",this.predictor="Predictor",this.deviceRgb="DeviceRGB",this.next="Next",this.action="Action",this.link="Link",this.a="A",this.annot="Annot",this.p="P",this.c="C",this.rect="Rect",this.uri="URI",this.annots="Annots",this.ca="ca",this.CA="CA",this.xyz="XYZ",this.fit="Fit",this.dest="Dest",this.BM="BM",this.flatedecode="FlateDecode",this.rotate="Rotate",this.bBox="BBox",this.form="Form",this.w="W",this.cIDFontType2="CIDFontType2",this.cIDToGIDMap="CIDToGIDMap",this.identity="Identity",this.dw="DW",this.fontDescriptor="FontDescriptor",this.cIDSystemInfo="CIDSystemInfo",this.fontName="FontName",this.flags="Flags",this.fontBBox="FontBBox",this.missingWidth="MissingWidth",this.stemV="StemV",this.italicAngle="ItalicAngle",this.capHeight="CapHeight",this.ascent="Ascent",this.descent="Descent",this.leading="Leading",this.avgWidth="AvgWidth",this.fontFile2="FontFile2",this.maxWidth="MaxWidth",this.xHeight="XHeight",this.stemH="StemH",this.registry="Registry",this.ordering="Ordering",this.supplement="Supplement",this.type0="Type0",this.identityH="Identity-H",this.toUnicode="ToUnicode",this.descendantFonts="DescendantFonts",this.background="Background",this.shading="Shading",this.matrix="Matrix",this.antiAlias="AntiAlias",this.function="Function",this.extend="Extend",this.shadingType="ShadingType",this.coords="Coords",this.domain="Domain",this.range="Range",this.functionType="FunctionType",this.bitsPerSample="BitsPerSample",this.patternType="PatternType",this.paintType="PaintType",this.tilingType="TilingType",this.xStep="XStep",this.yStep="YStep",this.viewerPreferences="ViewerPreferences",this.centerWindow="CenterWindow",this.displayTitle="DisplayTitle",this.fitWindow="FitWindow",this.hideMenuBar="HideMenubar",this.hideToolBar="HideToolbar",this.hideWindowUI="HideWindowUI",this.pageMode="PageMode",this.pageLayout="PageLayout",this.duplex="Duplex",this.printScaling="PrintScaling"}return n}(),ve=function(){function n(e){if(this.position7=-1,this.primitiveItems=new xe,this.prefix="<<",this.suffix=">>",this.resources=[],this.object=null,this.archive=!0,this.isResource=!1,typeof e>"u")this.primitiveItems=new xe,this.encrypt=!0,this.dictionaryProperties=new Me;else{this.primitiveItems=new xe;for(var t=e.items.keys(),i=e.items.values(),r=0;r<e.items.size();r++)this.primitiveItems.setValue(t[r],i[r]);this.status=e.status,this.freezeChanges(this),this.encrypt=!0,this.dictionaryProperties=new Me}}return Object.defineProperty(n.prototype,"items",{get:function(){return this.primitiveItems},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.status7},set:function(e){this.status7=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving7},set:function(e){this.isSaving7=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index7},set:function(e){this.index7=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position7},set:function(e){this.position7=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Count",{get:function(){return this.primitiveItems.size()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Dictionary",{get:function(){return this},enumerable:!0,configurable:!0}),n.prototype.getArchive=function(){return this.archive},n.prototype.setArchive=function(e){this.archive=e},n.prototype.setEncrypt=function(e){this.encrypt=e,this.modify()},n.prototype.getEncrypt=function(){return this.encrypt},n.prototype.freezeChanges=function(e){this.bChanged=!1},n.prototype.clone=function(e){var t=new n;return t},n.prototype.modify=function(){this.bChanged=!0},n.prototype.remove=function(e){typeof e!="string"?(this.primitiveItems.remove(e.value),this.modify()):this.remove(new Q(e))},n.prototype.containsKey=function(e){var t=!1;return t=this.primitiveItems.containsKey(e.toString()),t},n.prototype.onBeginSave=function(){this.beginSave.sender.beginSave()},n.prototype.onFontDictionaryBeginSave=function(){this.fontDictionaryBeginSave.sender.fontDictionaryBeginSave()},n.prototype.onDescendantFontBeginSave=function(){this.descendantFontBeginSave.sender.descendantFontBeginSave()},n.prototype.onTemplateBeginSave=function(){this.pageBeginDrawTemplate.sender.pageBeginSave()},n.prototype.onBeginAnnotationSave=function(){this.annotationBeginSave.sender.beginSave()},n.prototype.onSectionBeginSave=function(e){var t=this.sectionBeginSave;t.sender.beginSave(t.state,e)},n.prototype.save=function(e,t){typeof t>"u"?this.save(e,!0):(e.write(this.prefix),typeof this.beginSave<"u"&&this.onBeginSave(),typeof this.descendantFontBeginSave<"u"&&this.onDescendantFontBeginSave(),typeof this.fontDictionaryBeginSave<"u"&&this.onFontDictionaryBeginSave(),typeof this.annotationBeginSave<"u"&&this.onBeginAnnotationSave(),typeof this.sectionBeginSave<"u"&&this.onSectionBeginSave(e),typeof this.pageBeginDrawTemplate<"u"&&this.onTemplateBeginSave(),this.Count>0&&this.saveItems(e),e.write(this.suffix),e.write(D.newLine))},n.prototype.saveItems=function(e){e.write(D.newLine);for(var t=this.primitiveItems.keys(),i=this.primitiveItems.values(),r=0;r<t.length;r++){var s=t[r],a=new Q(s);a.save(e),e.write(D.whiteSpace);var o=i[r];o.save(e),e.write(D.newLine)}},n}(),Dh=function(){function n(e){this.sender=e}return n}(),Fh=function(){function n(e){this.sender=e}return n}(),Nh=function(){function n(e){this.sender=e}return n}(),_h=function(){function n(e,t){this.sender=e,this.state=t}return n}(),Vh=function(){function n(e){this.sender=e}return n}(),Z=function(){function n(e){this.position5=-1,this.value=e}return Object.defineProperty(n.prototype,"intValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInteger",{get:function(){return this.integer},set:function(e){this.integer=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.status5},set:function(e){this.status5=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving5},set:function(e){this.isSaving5=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index5},set:function(e){this.index5=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position5},set:function(e){this.position5=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){var e=null;return e},enumerable:!0,configurable:!0}),n.prototype.save=function(e){e.write(this.intValue.toString())},n.prototype.clone=function(e){var t=new n(this.value);return t},n.floatToString=function(e){var t=e.toFixed(2);return t==="0.00"&&(t=".00"),t},n.min=function(e,t,i){var r=Math.min(e,t);return Math.min(i,r)},n}(),Le=function(){function n(e){if(this.startMark="[",this.endMark="]",this.position9=-1,this.clonedObject9=null,this.isFont=!1,typeof e>"u")this.internalElements=[];else if(typeof e<"u"&&!(e instanceof n))for(var t=e,i=0;i<t.length;i++){var r=new Z(t[i]);this.add(r)}else{var s=e;this.internalElements=[];for(var i=0;i<s.elements.length;i++)this.internalElements.push(s.elements[i])}}return n.prototype.items=function(e){return this.internalElements[e]},Object.defineProperty(n.prototype,"count",{get:function(){return this.internalElements.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.status9},set:function(e){this.status9=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving9},set:function(e){this.isSaving9=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){return this.clonedObject9},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position9},set:function(e){this.position9=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index9},set:function(e){this.index9=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CrossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"elements",{get:function(){return this.internalElements},enumerable:!0,configurable:!0}),n.prototype.add=function(e){typeof this.internalElements>"u"&&(this.internalElements=[]),this.internalElements.push(e),this.markedChange()},n.prototype.markedChange=function(){this.bChanged=!0},n.prototype.contains=function(e){for(var t=!1,i=0;i<this.internalElements.length;i++){var r=this.internalElements[i],s=e;if(r!=null&&typeof r<"u"&&s!=null&&typeof s<"u"&&r.value===s.value)return!0}return t},n.prototype.getItems=function(e){return this.internalElements[e]},n.prototype.save=function(e){e.write(this.startMark);for(var t=0,i=this.count;t<i;t++)this.getItems(t).save(e),t+1!==i&&e.write(D.whiteSpace);e.write(this.endMark)},n.prototype.clone=function(e){this.clonedObject9=null;for(var t=new n,i=0;i<this.internalElements.length;i++){var r=this.internalElements[i];t.add(r.clone(e))}return t.pdfCrossTable=e,this.clonedObject9=t,t},n.fromRectangle=function(e){var t=[e.x,e.y,e.width,e.height],i=new n(t);return i},n.prototype.insert=function(e,t){if(e<this.internalElements.length&&e>0){for(var i=[],r=0;r<e;r++)i.push(this.internalElements[r]);i.push(t);for(var r=e;r<this.internalElements.length;r++)i.push(this.internalElements[r]);this.internalElements=i}else this.internalElements.push(t);this.markChanged()},n.prototype.indexOf=function(e){return this.internalElements.indexOf(e)},n.prototype.remove=function(e){var t=this.internalElements.indexOf(e);this.internalElements[t]=null,this.markChanged()},n.prototype.removeAt=function(e){if(this.internalElements.length>e){for(var t=[],i=0;i<e;i++)t.push(this.internalElements[i]);for(var i=e+1;i<this.internalElements.length;i++)t.push(this.internalElements[i]);this.internalElements=t}this.markChanged()},n.prototype.clear=function(){this.internalElements=[],this.markChanged()},n.prototype.markChanged=function(){this.bChanged=!0},n}(),Or=function(){function n(){}return n.save=function(e,t){if(e==null||e==="")throw new Error("ArgumentException: fileName cannot be undefined, null or empty");var i=e.substring(e.lastIndexOf(".")+1,e.length),r=this.getMimeType(i);if(r!==""&&(t=new Blob([t],{type:r})),this.isMicrosoftBrowser)navigator.msSaveBlob(t,e);else{var s=document.createElementNS("http://www.w3.org/1999/xhtml","a");this.saveInternal(e,i,t,s,"download"in s)}},n.saveInternal=function(e,t,i,r,s){if(s){r.download=e;var a=window.URL.createObjectURL(i);r.href=a;var o=document.createEvent("MouseEvent");o.initEvent("click",!0,!0),r.dispatchEvent(o),setTimeout(function(){window.URL.revokeObjectURL(a),a=void 0})}else if(t!=="docx"&&t!=="xlsx"){var l=window.URL.createObjectURL(i),h=window.open(l,"_blank");h||(window.location.href=l)}else{var u=new FileReader;u.onloadend=function(){var c=window.open(u.result,"_blank");c||(window.location.href=u.result)},u.readAsDataURL(i)}},n.getMimeType=function(e){var t="";switch(e){case"html":t="text/html";break;case"pdf":t="application/pdf";break;case"docx":t="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"txt":t="text/plain";break}return t},n}(),Di=function(){function n(e){this.emitBOM=!0,this.encodingType="Ansi",this.initBOM(e)}return Object.defineProperty(n.prototype,"includeBom",{get:function(){return this.emitBOM},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this.encodingType},set:function(e){this.encodingType=e},enumerable:!0,configurable:!0}),n.prototype.initBOM=function(e){e==null?this.emitBOM=!0:this.emitBOM=e},n.prototype.getByteCount=function(e){if(Bt(e,"string"),e===""){var t=this.utf8Len(e.charCodeAt(0));return t}return(this.type===null||this.type===void 0)&&(this.type="Ansi"),this.getByteCountInternal(e,0,e.length)},n.prototype.utf8Len=function(e){var t=e<=127?1:e<=2047?2:e<=65535?3:e<=2097151?4:0;return t},n.prototype.isHighSurrogate=function(e){return e>=55296&&e<=56319},n.prototype.toCodepoint=function(e,t){e=(1023&e)<<10;var i=e|1023&t;return i+65536},n.prototype.getByteCountInternal=function(e,t,i){var r=0;if(this.encodingType==="Utf8"||this.encodingType==="Unicode"){for(var s=this.encodingType==="Utf8",a=0;a<i;a++){var o=e.charCodeAt(s?t:t++);if(this.isHighSurrogate(o))if(s){var l=o,h=e.charCodeAt(++t);r+=this.utf8Len(this.toCodepoint(l,h))}else r+=4,++a;else s?r+=this.utf8Len(o):r+=2;s&&t++}return r}else return r=i,r},n.prototype.getBytes=function(e,t,i){if(Bt(e,"string"),Bt(t,"charIndex"),Bt(i,"charCount"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: charIndex or charCount is less than zero");if(e.length-t<i)throw new RangeError("Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string");var r;if(e==="")return r=new ArrayBuffer(0),r;(this.type===null||this.type===void 0)&&(this.type="Ansi");var s=this.getByteCountInternal(e,t,i);switch(this.type){case"Utf8":return r=this.getBytesOfUtf8Encoding(s,e,t,i),r;case"Unicode":return r=this.getBytesOfUnicodeEncoding(s,e,t,i),r;default:return r=this.getBytesOfAnsiEncoding(s,e,t,i),r}},n.prototype.getString=function(e,t,i){if(Bt(e,"bytes"),Bt(t,"index"),Bt(i,"count"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: index or count is less than zero");if(e.byteLength-t<i)throw new RangeError("Argument Out Of Range Exception: index and count do not denote a valid range in bytes");if(e.byteLength===0||i===0)return"";(this.type===null||this.type===void 0)&&(this.type="Ansi");var r="",s=new Uint8Array(e);switch(this.type){case"Utf8":var a=this.getStringOfUtf8Encoding(s,t,i);return a;case"Unicode":var o=new Uint16Array(e);return r=this.getStringofUnicodeEncoding(o,t,i),r;default:for(var l=t,h=0;h<i;h++){var u=s[l];r+=String.fromCharCode(u),l++}return r}},n.prototype.getBytesOfAnsiEncoding=function(e,t,i,r){for(var s=new ArrayBuffer(e),a=new Uint8Array(s),o=0,l=0;l<r;l++){var h=t.charCodeAt(i++);h<2048?a[o]=h:a[o]=63,o++}return s},n.prototype.getBytesOfUtf8Encoding=function(e,t,i,r){for(var s=new ArrayBuffer(e),a=new Uint8Array(s),o=i,l=0,h=0;h<r;h++){var u=t.charCodeAt(o);u<=127?a[l]=u:u<2048?(a[l]=192|u>>6,a[++l]=128|u&63):u<55296||u>=57344?(a[l]=224|u>>12,a[++l]=128|u>>6&63,a[++l]=128|u&63):(a[l]=239,a[++l]=191,a[++l]=189),++l,++o}return s},n.prototype.getBytesOfUnicodeEncoding=function(e,t,i,r){for(var s=new ArrayBuffer(e),a=new Uint16Array(s),o=0;o<r;o++){var l=t.charCodeAt(o);a[o]=l}return s},n.prototype.getStringOfUtf8Encoding=function(e,t,i){var r=0,s=t,a="";for(r;r<i;r++){for(var o=e[s++];s>e.length;)return a;o>127&&(o>191&&o<224&&s<i?o=(o&31)<<6|e[s]&63:o>223&&o<240&&s<e.byteLength?o=(o&15)<<12|(e[s]&63)<<6|e[++s]&63:o>239&&o<248&&s<e.byteLength&&(o=(o&7)<<18|(e[s]&63)<<12|(e[++s]&63)<<6|e[++s]&63),++s),a+=String.fromCharCode(o)}return a},n.prototype.getStringofUnicodeEncoding=function(e,t,i){if(i>e.length)throw new RangeError("ArgumentOutOfRange_Count");for(var r=new Uint16Array(i),s="",a=0;a<i&&a<e.length;a++)r[a]=e[t++];return s=String.fromCharCode.apply(null,r),s},n.prototype.destroy=function(){this.emitBOM=void 0,this.encodingType=void 0},n}();function Bt(n,e){if(n==null)throw new Error("ArgumentException: "+e+" cannot be null or undefined")}var ys=function(){function n(e){this.bufferBlob=new Blob([""]),this.bufferText="",this.init(e),Or.isMicrosoftBrowser=!!navigator.msSaveBlob}return Object.defineProperty(n.prototype,"buffer",{get:function(){return this.flush(),this.bufferBlob},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"encoding",{get:function(){return this.enc},enumerable:!0,configurable:!0}),n.prototype.init=function(e){e==null?(this.enc=new Di(!1),this.enc.type="Utf8"):(this.enc=e,this.setBomByte())},n.prototype.setBomByte=function(){if(this.encoding.includeBom)switch(this.encoding.type){case"Unicode":var e=new ArrayBuffer(2),t=new Uint8Array(e);t[0]=255,t[1]=254,this.bufferBlob=new Blob([e]);break;case"Utf8":var i=new ArrayBuffer(3),r=new Uint8Array(i);r[0]=239,r[1]=187,r[2]=191,this.bufferBlob=new Blob([i]);break;default:this.bufferBlob=new Blob([""]);break}},n.prototype.save=function(e){this.bufferText!==""&&this.flush(),Or.save(e,this.buffer)},n.prototype.write=function(e){if(this.encoding===void 0)throw new Error("Object Disposed Exception: current writer is disposed");Bt(e,"string"),this.bufferText+=e,this.bufferText.length>=10240&&this.flush()},n.prototype.flush=function(){if(!(this.bufferText===void 0||this.bufferText===null||this.bufferText.length===0)){var e=this.encoding.getBytes(this.bufferText,0,this.bufferText.length);this.bufferText="",this.bufferBlob=new Blob([this.bufferBlob,e])}},n.prototype.writeLine=function(e){if(this.encoding===void 0)throw new Error("Object Disposed Exception: current writer is disposed");Bt(e,"string"),this.bufferText=this.bufferText+e+`\r
`,this.bufferText.length>=10240&&this.flush()},n.prototype.destroy=function(){this.bufferBlob=void 0,this.bufferText=void 0,this.enc instanceof Di&&this.enc.destroy(),this.enc=void 0},n}(),Pe=function(){function n(){}return n.bitReverse=function(e){return n.reverseBits[e&15]<<12|n.reverseBits[e>>4&15]<<8|n.reverseBits[e>>8&15]<<4|n.reverseBits[e>>12]},n.bitConverterToInt32=function(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24},n.bitConverterToInt16=function(e,t){return e[t]|e[t+1]<<8},n.bitConverterToUInt32=function(e){var t=new Uint32Array(1);return t[0]=e,t[0]},n.bitConverterToUInt16=function(e,t){var i=new Uint16Array(1);return i[0]=e[t]|e[t+1]<<8,i[0]},n.bitConverterUintToInt32=function(e){var t=new Int32Array(1);return t[0]=e,t[0]},n.bitConverterInt32ToUint=function(e){var t=new Uint32Array(1);return t[0]=e,t[0]},n.bitConverterInt32ToInt16=function(e){var t=new Int16Array(1);return t[0]=e,t[0]},n.byteToString=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},n.byteIntToString=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},n.arrayCopy=function(e,t,i,r,s){var a=new Uint8Array(e.buffer,t),o=a.subarray(0,s);i.set(o,r)},n.mergeArray=function(e,t){var i=new Uint8Array(e.length+t.length);return i.set(e),i.set(t,e.length),i},n.encodedString=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,r,s,a,o,l,h,u=0,c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var f=e.length*3/4;if(e.charAt(e.length-1)===t.charAt(64)&&f--,e.charAt(e.length-2)===t.charAt(64)&&f--,f%1!==0)throw new Error("Invalid base64 input, bad content length.");for(var d=new Uint8Array(f|0);u<e.length;)a=t.indexOf(e.charAt(u++)),o=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),h=t.indexOf(e.charAt(u++)),i=a<<2|o>>4,r=(o&15)<<4|l>>2,s=(l&3)<<6|h,d[c++]=i,l!==64&&(d[c++]=r),h!==64&&(d[c++]=s);return d},n.reverseBits=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],n.huffCodeLengthOrders=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n}(),yr=[],Hi=4,vi=2,zh=101010256,jh=12,Hh=33639248,br=4096,He=function(){function n(){yr.length===0&&n.initCrc32Table(),this.files=[],this.level="Normal",Or.isMicrosoftBrowser=!!navigator.msSaveBlob}return Object.defineProperty(n.prototype,"items",{get:function(){return this.files},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"compressionLevel",{get:function(){return this.level},set:function(e){this.level=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this.files===void 0?0:this.files.length},enumerable:!0,configurable:!0}),n.prototype.addItem=function(e){if(e==null)throw new Error("ArgumentException: item cannot be null or undefined");for(var t=0;t<this.files.length;t++){var i=this.files[t];if(i instanceof Ti&&i.name===e.name)throw new Error("item with same name already exist")}this.files.push(e)},n.prototype.addDirectory=function(e){if(e==null)throw new Error("ArgumentException: string cannot be null or undefined");if(e.length===0)throw new Error("ArgumentException: string cannot be empty");if(e.slice(-1)!=="/"&&(e+="/"),this.files.indexOf(e)!==-1)throw new Error("item with same name already exist");this.files.push(e)},n.prototype.getItem=function(e){if(e>=0&&e<this.files.length)return this.files[e]},n.prototype.contains=function(e){return this.files.indexOf(e)!==-1},n.prototype.open=function(e){var t=Pe.encodedString(e);if(t.length==0)throw new DOMException("stream");var i=new kr(t),r=n.findValueFromEnd(i,zh,65557);if(r<0)throw new DOMException("Can't locate end of central directory record. Possible wrong file format or archive is corrupt.");i.position=r+jh;var s=n.ReadInt32(i),a=r-s;i.position=a,this.readCentralDirectoryDataAndExtractItems(i)},n.prototype.readCentralDirectoryDataAndExtractItems=function(e){if(e==null)throw new DOMException("stream");for(var t;n.ReadInt32(e)==Hh;)t=new Wh,t.readCentralDirectoryData(e);t.readData(e,t.checkCrc),t.decompressData(),this.files.push(new Ti(t.unCompressedStream.buffer,t.name))},n.prototype.save=function(e){if(e==null||e.length===0)throw new Error("ArgumentException: fileName cannot be null or undefined");if(this.files.length===0)throw new Error("InvalidOperation");var t=this;return new Promise(function(i,r){t.saveInternal(e,!1).then(function(){i(t)})})},n.prototype.saveAsBlob=function(){var e=this;return new Promise(function(t,i){e.saveInternal("",!0).then(function(r){t(r)})})},n.prototype.saveInternal=function(e,t){var i=this,r=this;return new Promise(function(s,a){for(var o=[],l=0,h=0;h<r.files.length;h++){var u=i.getCompressedData(i.files[h]);u.then(function(c){if(l=r.constructZippedObject(o,c,l,c.isDirectory),o.length===r.files.length){var f=r.writeZippedContent(e,o,l,t);s(f)}})}})},n.prototype.destroy=function(){if(this.files!==void 0&&this.files.length>0){for(var e=0;e<this.files.length;e++){var t=this.files[e];t instanceof Ti&&t.destroy(),t=void 0}this.files=[]}this.files=void 0,this.level=void 0},n.prototype.getCompressedData=function(e){var t=this,i=new Promise(function(r,s){if(e instanceof Ti){var a=new FileReader;a.onload=function(){var l=new Uint8Array(a.result),h={fileName:e.name,crc32Value:0,compressedData:[],compressedSize:void 0,uncompressedDataSize:l.length,compressionType:void 0,isDirectory:!1};if(t.level==="Normal"){t.compressData(l,h,yr);for(var u=0,c=0;c<h.compressedData.length;c++)u+=h.compressedData[c].length;h.compressedSize=u,h.compressionType="\b\0"}else h.compressedSize=l.length,h.crc32Value=t.calculateCrc32Value(0,l,yr),h.compressionType="\0\0",h.compressedData.push(l);r(h)},a.readAsArrayBuffer(e.data)}else{var o={fileName:e,crc32Value:0,compressedData:"",compressedSize:0,uncompressedDataSize:0,compressionType:"\0\0",isDirectory:!0};r(o)}});return i},n.prototype.compressData=function(e,t,i){var r=new Ya(!0),s=0,a=0;do{if(s>=e.length){r.close();break}a=Math.min(e.length,s+16384);var o=e.subarray(s,a);t.crc32Value=this.calculateCrc32Value(t.crc32Value,o,i),r.write(o,0,a-s),s=a}while(s<=e.length);t.compressedData=r.compressedData,r.destroy()},n.prototype.constructZippedObject=function(e,t,i,r){var s=0,a=new Date;r&&(s=s|16),s=s|0;var o=this.writeHeader(t,a),l="PK"+o+t.fileName,h=this.writeCentralDirectory(t,o,i,s);return e.push({localHeader:l,centralDir:h,compressedData:t}),i+l.length+t.compressedSize},n.prototype.writeHeader=function(e,t){var i="";return i+=`
\0\0\0`,i+=e.compressionType,i+=this.getBytes(this.getModifiedTime(t),2),i+=this.getBytes(this.getModifiedDate(t),2),i+=this.getBytes(e.crc32Value,4),i+=this.getBytes(e.compressedSize,4),i+=this.getBytes(e.uncompressedDataSize,4),i+=this.getBytes(e.fileName.length,2),i+=this.getBytes(0,2),i},n.prototype.writeZippedContent=function(e,t,i,r){for(var s=0,a=[],o=0;o<t.length;o++){var l=t[o];for(s+=l.centralDir.length,a.push(this.getArrayBuffer(l.localHeader));l.compressedData.compressedData.length;)a.push(l.compressedData.compressedData.shift().buffer)}for(var o=0;o<t.length;o++)a.push(this.getArrayBuffer(t[o].centralDir));a.push(this.getArrayBuffer(this.writeFooter(t,s,i)));var h=new Blob(a,{type:"application/zip"});return r||Or.save(e,h),h},n.prototype.writeCentralDirectory=function(e,t,i,r){var s="PK"+this.getBytes(20,2)+t+this.getBytes(0,2)+"\0\0\0\0"+this.getBytes(r,4)+this.getBytes(i,4)+e.fileName;return s},n.prototype.writeFooter=function(e,t,i){var r="PK\0\0\0\0"+this.getBytes(e.length,2)+this.getBytes(e.length,2)+this.getBytes(t,4)+this.getBytes(i,4)+this.getBytes(0,2);return r},n.prototype.getArrayBuffer=function(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;++i)t[i]=e.charCodeAt(i)&255;return t.buffer},n.prototype.getBytes=function(e,t){for(var i="",r=0;r<t;r++)i+=String.fromCharCode(e&255),e=e>>>8;return i},n.prototype.getModifiedTime=function(e){var t=e.getHours();return t=t<<6,t=t|e.getMinutes(),t=t<<5,t=t|e.getSeconds()/2},n.prototype.getModifiedDate=function(e){var t=e.getFullYear()-1980;return t=t<<4,t=t|e.getMonth()+1,t=t<<5,t=t|e.getDate()},n.prototype.calculateCrc32Value=function(e,t,i){e^=-1;for(var r=0;r<t.length;r++)e=e>>>8^i[(e^t[r])&255];return e^-1},n.initCrc32Table=function(){for(var e,t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;yr[t]=e}},n.findValueFromEnd=function(e,t,i){if(e==null)throw new DOMException("stream");var r=e.inputStream.buffer.byteLength;if(r<4)return-1;var s=new Uint8Array(4),a=Math.max(0,r-i),o=r-1-Hi;e.position=o,e.read(s,0,Hi);var l=s[0],h=l==t;if(!h){for(;o>a;)if(l<<=8,o--,e.position=o,l+=e.readByte(),l==t){h=!0;break}}return h?o:-1},n.ReadInt32=function(e){var t=new Uint8Array(Hi);if(e.read(t,0,Hi)!=Hi)throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return Pe.bitConverterToInt32(t,0)},n.ReadInt16=function(e){var t=new Uint8Array(vi);if(e.read(t,0,vi)!=vi)throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return Pe.bitConverterToInt16(t,0)},n.ReadUInt16=function(e){{var t=new Uint8Array(vi);if(e.read(t,0,vi)!=vi)throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return Pe.bitConverterToInt16(t,0)}},n}(),Wh=function(){function n(){this.headerSignature=67324752,this.checkCrc=!0,this.crc32=0}return n.prototype.readCentralDirectoryData=function(e){e.position+=4,this.options=He.ReadInt16(e),this.compressionMethod=He.ReadInt16(e),this.checkCrc=this.compressionMethod!=99,He.ReadInt32(e),this.crc32=Pe.bitConverterToUInt32(He.ReadInt32(e)),this.compressedSize=He.ReadInt32(e),this.originalSize=He.ReadInt32(e);var t=He.ReadInt16(e),i=He.ReadInt16(e),r=He.ReadInt16(e);e.position+=4,this.externalAttributes=He.ReadInt32(e),this.localHeaderOffset=He.ReadInt32(e);var s=new Uint8Array(t);e.read(s,0,t);var a=Pe.byteToString(s);a=a.replace("\\","/"),this.name=a,e.position+=i+r,this.options!=0&&(this.options=0)},n.prototype.readData=function(e,t){if(e.length==0)throw new DOMException("stream");e.position=this.localHeaderOffset,this.checkCrc=t,this.readLocalHeader(e),this.readCompressedData(e)},n.prototype.decompressData=function(){this.compressionMethod==8&&this.originalSize>0&&this.decompressDataOld()},n.prototype.decompressDataOld=function(){var e=new Yh(this.compressedStream,!0),t;this.originalSize>0&&(t=new kr(new Uint8Array(this.originalSize)));for(var i=new Uint8Array(br),r;(r=e.read(i,0,br))>0;)t.write(i.subarray(0,r),0,r);this.unCompressedStream=t.toByteArray(),this.checkCrc},n.prototype.readLocalHeader=function(e){if(e.length==0)throw new DOMException("stream");if(He.ReadInt32(e)!=this.headerSignature)throw new DOMException("Can't find local header signature - wrong file format or file is corrupt.");e.position+=22;var t=He.ReadInt16(e),i=He.ReadUInt16(e);if(this.compressionMethod!=99)if(i>2){e.position+=t;var r=He.ReadInt16(e);if(r==23)throw new DOMException("UnSupported");e.position+=i-2}else e.position+=t+i},n.prototype.readCompressedData=function(e){var t;if(this.compressedSize>0){var i=this.compressedSize;t=new kr(new Uint8Array(i));for(var r=new Uint8Array(br);i>0;){var s=Math.min(i,br);if(e.read(r,0,s)!=s)throw new DOMException("End of file reached - wrong file format or file is corrupt.");t.write(r.subarray(0,s),0,s),i-=s}this.compressedStream=new Uint8Array(t.inputStream)}else this.compressedSize<0||this.compressedSize==0},n}(),Ti=function(){function n(e,t){if(e==null)throw new Error("ArgumentException: data cannot be null or undefined");if(t==null)throw new Error("ArgumentException: string cannot be null or undefined");if(t.length===0)throw new Error("string cannot be empty");this.data=e,this.name=t}return Object.defineProperty(n.prototype,"dataStream",{get:function(){return this.decompressedStream},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.fileName},set:function(e){this.fileName=e},enumerable:!0,configurable:!0}),n.prototype.destroy=function(){this.fileName=void 0,this.data=void 0},n}(),Wi=new Int16Array(286),yi=new Uint8Array(286),bs=new Int16Array(30),Kr=new Uint8Array(30),Ya=function(){function n(e){this.pendingBuffer=new Uint8Array(65536),this.pendingBufLength=0,this.pendingBufCache=0,this.pendingBufBitsInCache=0,this.bufferPosition=0,this.extraBits=0,this.currentHash=0,this.matchStart=0,this.matchLength=0,this.matchPrevAvail=!1,this.blockStart=0,this.stringStart=0,this.lookAhead=0,this.totalBytesIn=0,this.inputOffset=0,this.inputEnd=0,this.windowSize=32768,this.windowMask=this.windowSize-1,this.hashSize=32768,this.hashMask=this.hashSize-1,this.hashShift=Math.floor((15+3-1)/3),this.maxDist=this.windowSize-262,this.checkSum=1,this.noWrap=!1,n.isHuffmanTreeInitiated||(n.initHuffmanTree(),n.isHuffmanTreeInitiated=!0),this.treeLiteral=new wt(this,286,257,15),this.treeDistances=new wt(this,30,1,15),this.treeCodeLengths=new wt(this,19,4,7),this.arrDistances=new Uint16Array(16384),this.arrLiterals=new Uint8Array(16384),this.stream=[],this.dataWindow=new Uint8Array(2*this.windowSize),this.hashHead=new Int16Array(this.hashSize),this.hashPrevious=new Int16Array(this.windowSize),this.blockStart=this.stringStart=1,this.noWrap=e,e||this.writeZLibHeader()}return Object.defineProperty(n.prototype,"compressedData",{get:function(){return this.stream},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getCompressedString",{get:function(){var e="";if(this.stream!==void 0)for(var t=0;t<this.stream.length;t++)e+=String.fromCharCode.apply(null,this.stream[t]);return e},enumerable:!0,configurable:!0}),n.prototype.write=function(e,t,i){if(e==null)throw new Error("ArgumentException: data cannot null or undefined");var r=t+i;if(0>t||t>r||r>e.length)throw new Error("ArgumentOutOfRangeException: Offset or length is incorrect");if(typeof e=="string"){var s=new Di(!1);s.type="Utf8",e=new Uint8Array(s.getBytes(e,0,e.length)),r=t+e.length}for(this.inputBuffer=e,this.inputOffset=t,this.inputEnd=r,this.noWrap||(this.checkSum=Uh.checksumUpdate(this.checkSum,this.inputBuffer,this.inputOffset,r));this.inputEnd!==this.inputOffset||this.pendingBufLength!==0;)this.pendingBufferFlush(),this.compressData(!1)},n.prototype.writeZLibHeader=function(){var e=30720;e|=64,e+=31-e%31,this.pendingBufferWriteShortBytes(e)},n.prototype.pendingBufferWriteShortBytes=function(e){this.pendingBuffer[this.pendingBufLength++]=e>>8,this.pendingBuffer[this.pendingBufLength++]=e},n.prototype.compressData=function(e){var t;do{this.fillWindow();var i=e&&this.inputEnd===this.inputOffset;t=this.compressSlow(i,e)}while(this.pendingBufLength===0&&t);return t},n.prototype.compressSlow=function(e,t){if(this.lookAhead<262&&!e)return!1;for(;this.lookAhead>=262||e;){if(this.lookAhead===0)return this.lookAheadCompleted(t);this.stringStart>=2*this.windowSize-262&&this.slideWindow();var i=this.matchStart,r=this.matchLength;if(this.lookAhead>=3&&this.discardMatch(),r>=3&&this.matchLength<=r?r=this.matchPreviousBest(i,r):this.matchPreviousAvailable(),this.bufferPosition>=16384)return this.huffmanIsFull(t)}return!0},n.prototype.discardMatch=function(){var e=this.insertString();e!==0&&this.stringStart-e<=this.maxDist&&this.findLongestMatch(e)&&this.matchLength<=5&&this.matchLength===3&&this.stringStart-this.matchStart>4096&&(this.matchLength=3-1)},n.prototype.matchPreviousAvailable=function(){this.matchPrevAvail&&this.huffmanTallyLit(this.dataWindow[this.stringStart-1]&255),this.matchPrevAvail=!0,this.stringStart++,this.lookAhead--},n.prototype.matchPreviousBest=function(e,t){this.huffmanTallyDist(this.stringStart-1-e,t),t-=2;do this.stringStart++,this.lookAhead--,this.lookAhead>=3&&this.insertString();while(--t>0);return this.stringStart++,this.lookAhead--,this.matchPrevAvail=!1,this.matchLength=3-1,t},n.prototype.lookAheadCompleted=function(e){return this.matchPrevAvail&&this.huffmanTallyLit(this.dataWindow[this.stringStart-1]&255),this.matchPrevAvail=!1,this.huffmanFlushBlock(this.dataWindow,this.blockStart,this.stringStart-this.blockStart,e),this.blockStart=this.stringStart,!1},n.prototype.huffmanIsFull=function(e){var t=this.stringStart-this.blockStart;this.matchPrevAvail&&t--;var i=e&&this.lookAhead===0&&!this.matchPrevAvail;return this.huffmanFlushBlock(this.dataWindow,this.blockStart,t,i),this.blockStart+=t,!i},n.prototype.fillWindow=function(){for(this.stringStart>=this.windowSize+this.maxDist&&this.slideWindow();this.lookAhead<262&&this.inputOffset<this.inputEnd;){var e=2*this.windowSize-this.lookAhead-this.stringStart;e>this.inputEnd-this.inputOffset&&(e=this.inputEnd-this.inputOffset),this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset,this.inputOffset+e),this.stringStart+this.lookAhead),this.inputOffset+=e,this.totalBytesIn+=e,this.lookAhead+=e}this.lookAhead>=3&&this.updateHash()},n.prototype.slideWindow=function(){this.dataWindow.set(this.dataWindow.subarray(this.windowSize,this.windowSize+this.windowSize),0),this.matchStart-=this.windowSize,this.stringStart-=this.windowSize,this.blockStart-=this.windowSize;for(var e=0;e<this.hashSize;++e){var t=this.hashHead[e]&65535;this.hashHead[e]=t>=this.windowSize?t-this.windowSize:0}for(var e=0;e<this.windowSize;e++){var t=this.hashPrevious[e]&65535;this.hashPrevious[e]=t>=this.windowSize?t-this.windowSize:0}},n.prototype.insertString=function(){var e,t=(this.currentHash<<this.hashShift^this.dataWindow[this.stringStart+2])&this.hashMask;return this.hashPrevious[this.stringStart&this.windowMask]=e=this.hashHead[t],this.hashHead[t]=this.stringStart,this.currentHash=t,e&65535},n.prototype.findLongestMatch=function(e){var t=4096,i=258,r=this.stringStart,s,a=this.stringStart+this.matchLength,o=Math.max(this.matchLength,3-1),l=Math.max(this.stringStart-this.maxDist,0),h=this.stringStart+258-1,u=this.dataWindow[a-1],c=this.dataWindow[a],f=this.dataWindow;o>=32&&(t>>=2),i>this.lookAhead&&(i=this.lookAhead);do if(!(f[e+o]!==c||f[e+o-1]!==u||f[e]!==f[r]||f[e+1]!==f[r+1])){for(s=e+2,r+=2;f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&r<h;);if(r>a){if(this.matchStart=e,a=r,o=r-this.stringStart,o>=i)break;u=f[a-1],c=f[a]}r=this.stringStart}while((e=this.hashPrevious[e&this.windowMask]&65535)>l&&--t!==0);return this.matchLength=Math.min(o,this.lookAhead),this.matchLength>=3},n.prototype.updateHash=function(){this.currentHash=this.dataWindow[this.stringStart]<<this.hashShift^this.dataWindow[this.stringStart+1]},n.prototype.huffmanTallyLit=function(e){return this.arrDistances[this.bufferPosition]=0,this.arrLiterals[this.bufferPosition++]=e,this.treeLiteral.codeFrequencies[e]++,this.bufferPosition>=16384},n.prototype.huffmanTallyDist=function(e,t){this.arrDistances[this.bufferPosition]=e,this.arrLiterals[this.bufferPosition++]=t-3;var i=this.huffmanLengthCode(t-3);this.treeLiteral.codeFrequencies[i]++,i>=265&&i<285&&(this.extraBits+=Math.floor((i-261)/4));var r=this.huffmanDistanceCode(e-1);return this.treeDistances.codeFrequencies[r]++,r>=4&&(this.extraBits+=Math.floor(r/2-1)),this.bufferPosition>=16384},n.prototype.huffmanFlushBlock=function(e,t,i,r){this.treeLiteral.codeFrequencies[256]++,this.treeLiteral.buildTree(),this.treeDistances.buildTree(),this.treeLiteral.calculateBLFreq(this.treeCodeLengths),this.treeDistances.calculateBLFreq(this.treeCodeLengths),this.treeCodeLengths.buildTree();for(var s=4,a=18;a>s;a--)this.treeCodeLengths.codeLengths[wt.huffCodeLengthOrders[a]]>0&&(s=a+1);for(var o=14+s*3+this.treeCodeLengths.getEncodedLength()+this.treeLiteral.getEncodedLength()+this.treeDistances.getEncodedLength()+this.extraBits,l=this.extraBits,a=0;a<286;a++)l+=this.treeLiteral.codeFrequencies[a]*yi[a];for(var a=0;a<30;a++)l+=this.treeDistances.codeFrequencies[a]*Kr[a];o>=l&&(o=l),t>=0&&i+4<o>>3?this.huffmanFlushStoredBlock(e,t,i,r):o==l?(this.pendingBufferWriteBits(2+(r?1:0),3),this.treeLiteral.setStaticCodes(Wi,yi),this.treeDistances.setStaticCodes(bs,Kr),this.huffmanCompressBlock(),this.huffmanReset()):(this.pendingBufferWriteBits(4+(r?1:0),3),this.huffmanSendAllTrees(s),this.huffmanCompressBlock(),this.huffmanReset())},n.prototype.huffmanFlushStoredBlock=function(e,t,i,r){this.pendingBufferWriteBits(0+(r?1:0),3),this.pendingBufferAlignToByte(),this.pendingBufferWriteShort(i),this.pendingBufferWriteShort(~i),this.pendingBufferWriteByteBlock(e,t,i),this.huffmanReset()},n.prototype.huffmanLengthCode=function(e){if(e===255)return 285;for(var t=257;e>=8;)t+=4,e>>=1;return t+e},n.prototype.huffmanDistanceCode=function(e){for(var t=0;e>=4;)t+=2,e>>=1;return t+e},n.prototype.huffmanSendAllTrees=function(e){this.treeCodeLengths.buildCodes(),this.treeLiteral.buildCodes(),this.treeDistances.buildCodes(),this.pendingBufferWriteBits(this.treeLiteral.treeLength-257,5),this.pendingBufferWriteBits(this.treeDistances.treeLength-1,5),this.pendingBufferWriteBits(e-4,4);for(var t=0;t<e;t++)this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[wt.huffCodeLengthOrders[t]],3);this.treeLiteral.writeTree(this.treeCodeLengths),this.treeDistances.writeTree(this.treeCodeLengths)},n.prototype.huffmanReset=function(){this.bufferPosition=0,this.extraBits=0,this.treeLiteral.reset(),this.treeDistances.reset(),this.treeCodeLengths.reset()},n.prototype.huffmanCompressBlock=function(){for(var e=0;e<this.bufferPosition;e++){var t=this.arrLiterals[e]&255,i=this.arrDistances[e];if(i--!==0){var r=this.huffmanLengthCode(t);this.treeLiteral.writeCodeToStream(r);var s=Math.floor((r-261)/4);s>0&&s<=5&&this.pendingBufferWriteBits(t&(1<<s)-1,s);var a=this.huffmanDistanceCode(i);this.treeDistances.writeCodeToStream(a),s=Math.floor(a/2-1),s>0&&this.pendingBufferWriteBits(i&(1<<s)-1,s)}else this.treeLiteral.writeCodeToStream(t)}this.treeLiteral.writeCodeToStream(256)},n.prototype.pendingBufferWriteBits=function(e,t){var i=new Uint32Array(1);i[0]=this.pendingBufCache|e<<this.pendingBufBitsInCache,this.pendingBufCache=i[0],this.pendingBufBitsInCache+=t,this.pendingBufferFlushBits()},n.prototype.pendingBufferFlush=function(e){if(this.pendingBufferFlushBits(),this.pendingBufLength>0){var t=new Uint8Array(this.pendingBufLength);t.set(this.pendingBuffer.subarray(0,this.pendingBufLength),0),this.stream.push(t)}this.pendingBufLength=0},n.prototype.pendingBufferFlushBits=function(){for(var e=0;this.pendingBufBitsInCache>=8&&this.pendingBufLength<65536;)this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache,this.pendingBufCache>>=8,this.pendingBufBitsInCache-=8,e++;return e},n.prototype.pendingBufferWriteByteBlock=function(e,t,i){var r=e.subarray(t,t+i);this.pendingBuffer.set(r,this.pendingBufLength),this.pendingBufLength+=i},n.prototype.pendingBufferWriteShort=function(e){this.pendingBuffer[this.pendingBufLength++]=e,this.pendingBuffer[this.pendingBufLength++]=e>>8},n.prototype.pendingBufferAlignToByte=function(){this.pendingBufBitsInCache>0&&(this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache),this.pendingBufCache=0,this.pendingBufBitsInCache=0},n.initHuffmanTree=function(){for(var e=0;e<144;)Wi[e]=wt.bitReverse(48+e<<8),yi[e++]=8;for(;e<256;)Wi[e]=wt.bitReverse(400-144+e<<7),yi[e++]=9;for(;e<280;)Wi[e]=wt.bitReverse(0-256+e<<9),yi[e++]=7;for(;e<286;)Wi[e]=wt.bitReverse(192-280+e<<8),yi[e++]=8;for(e=0;e<30;e++)bs[e]=wt.bitReverse(e<<11),Kr[e]=5},n.prototype.close=function(){do this.pendingBufferFlush(!0),this.compressData(!0)||(this.pendingBufferFlush(!0),this.pendingBufferAlignToByte(),this.noWrap||(this.pendingBufferWriteShortBytes(this.checkSum>>16),this.pendingBufferWriteShortBytes(this.checkSum&65535)),this.pendingBufferFlush(!0));while(this.inputEnd!==this.inputOffset||this.pendingBufLength!==0)},n.prototype.destroy=function(){this.stream=[],this.stream=void 0,this.pendingBuffer=void 0,this.treeLiteral=void 0,this.treeDistances=void 0,this.treeCodeLengths=void 0,this.arrLiterals=void 0,this.arrDistances=void 0,this.hashHead=void 0,this.hashPrevious=void 0,this.dataWindow=void 0,this.inputBuffer=void 0,this.pendingBufLength=void 0,this.pendingBufCache=void 0,this.pendingBufBitsInCache=void 0,this.bufferPosition=void 0,this.extraBits=void 0,this.currentHash=void 0,this.matchStart=void 0,this.matchLength=void 0,this.matchPrevAvail=void 0,this.blockStart=void 0,this.stringStart=void 0,this.lookAhead=void 0,this.totalBytesIn=void 0,this.inputOffset=void 0,this.inputEnd=void 0,this.windowSize=void 0,this.windowMask=void 0,this.hashSize=void 0,this.hashMask=void 0,this.hashShift=void 0,this.maxDist=void 0,this.checkSum=void 0,this.noWrap=void 0},n.isHuffmanTreeInitiated=!1,n}(),wt=function(){function n(e,t,i,r){this.writer=e,this.codeMinCount=i,this.maxLength=r,this.codeFrequency=new Uint16Array(t),this.lengthCount=new Int32Array(r)}return Object.defineProperty(n.prototype,"treeLength",{get:function(){return this.codeCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"codeLengths",{get:function(){return this.codeLength},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"codeFrequencies",{get:function(){return this.codeFrequency},enumerable:!0,configurable:!0}),n.prototype.setStaticCodes=function(e,t){var i=new Int16Array(e.length);i.set(e,0),this.codes=i;var r=new Uint8Array(t.length);r.set(t,0),this.codeLength=r},n.prototype.reset=function(){for(var e=0;e<this.codeFrequency.length;e++)this.codeFrequency[e]=0;this.codes=void 0,this.codeLength=void 0},n.prototype.writeCodeToStream=function(e){this.writer.pendingBufferWriteBits(this.codes[e]&65535,this.codeLength[e])},n.prototype.buildCodes=function(){var e=new Int32Array(this.maxLength);this.codes=new Int16Array(this.codeCount);for(var t=0,i=0;i<this.maxLength;i++)e[i]=t,t+=this.lengthCount[i]<<15-i;for(var r=0;r<this.codeCount;r++){var s=this.codeLength[r];s>0&&(this.codes[r]=n.bitReverse(e[s-1]),e[s-1]+=1<<16-s)}},n.bitReverse=function(e){return n.reverseBits[e&15]<<12|n.reverseBits[e>>4&15]<<8|n.reverseBits[e>>8&15]<<4|n.reverseBits[e>>12]},n.prototype.getEncodedLength=function(){for(var e=0,t=0;t<this.codeFrequency.length;t++)e+=this.codeFrequency[t]*this.codeLength[t];return e},n.prototype.calculateBLFreq=function(e){for(var t,i,r,s=-1,a=0;a<this.codeCount;){r=1;var o=this.codeLength[a];for(o===0?(t=138,i=3):(t=6,i=3,s!==o&&(e.codeFrequency[o]++,r=0)),s=o,a++;a<this.codeCount&&s===this.codeLength[a]&&(a++,!(++r>=t)););r<i?e.codeFrequency[s]+=r:s!==0?e.codeFrequency[16]++:r<=10?e.codeFrequency[17]++:e.codeFrequency[18]++}},n.prototype.writeTree=function(e){for(var t,i,r,s=-1,a=0;a<this.codeCount;){r=1;var o=this.codeLength[a];for(o===0?(t=138,i=3):(t=6,i=3,s!==o&&(e.writeCodeToStream(o),r=0)),s=o,a++;a<this.codeCount&&s===this.codeLength[a]&&(a++,!(++r>=t)););if(r<i)for(;r-- >0;)e.writeCodeToStream(s);else s!==0?(e.writeCodeToStream(16),this.writer.pendingBufferWriteBits(r-3,2)):r<=10?(e.writeCodeToStream(17),this.writer.pendingBufferWriteBits(r-3,3)):(e.writeCodeToStream(18),this.writer.pendingBufferWriteBits(r-11,7))}},n.prototype.buildTree=function(){for(var e=this.codeFrequency.length,t=new Int32Array(e),i=0,r=0,s=0;s<e;s++){var a=this.codeFrequency[s];if(a!==0){for(var o=i++,l=0;o>0&&this.codeFrequency[t[l=Math.floor((o-1)/2)]]>a;)t[o]=t[l],o=l;t[o]=s,r=s}}for(;i<2;)t[i++]=r<2?++r:0;this.codeCount=Math.max(r+1,this.codeMinCount);for(var h=i,u=h,c=new Int32Array(4*i-2),f=new Int32Array(2*i-1),d=0;d<i;d++){var g=t[d],p=2*d;c[p]=g,c[p+1]=-1,f[d]=this.codeFrequency[g]<<8,t[d]=d}this.constructHuffmanTree(t,i,f,u,c),this.buildLength(c)},n.prototype.constructHuffmanTree=function(e,t,i,r,s){do{for(var a=e[0],o=e[--t],l=i[o],h=0,u=1;u<t;)u+1<t&&i[e[u]]>i[e[u+1]]&&u++,e[h]=e[u],h=u,u=h*2+1;for(;(u=h)>0&&i[e[h=Math.floor((u-1)/2)]]>l;)e[u]=e[h];e[u]=o;var c=e[0];o=r++,s[2*o]=a,s[2*o+1]=c;var f=Math.min(i[a]&255,i[c]&255);for(i[o]=l=i[a]+i[c]-f+1,h=0,u=1;u<t;)u+1<t&&i[e[u]]>i[e[u+1]]&&u++,e[h]=e[u],h=u,u=h*2+1;for(;(u=h)>0&&i[e[h=Math.floor((u-1)/2)]]>l;)e[u]=e[h];e[u]=o}while(t>1)},n.prototype.buildLength=function(e){this.codeLength=new Uint8Array(this.codeFrequency.length);for(var t=Math.floor(e.length/2),i=Math.floor((t+1)/2),r=0,s=0;s<this.maxLength;s++)this.lengthCount[s]=0;if(r=this.calculateOptimalCodeLength(e,r,t),r!==0){var a=this.maxLength-1;do{for(;this.lengthCount[--a]===0;);do this.lengthCount[a]--,this.lengthCount[++a]++,r-=1<<this.maxLength-1-a;while(r>0&&a<this.maxLength-1)}while(r>0);this.recreateTree(e,r,i)}},n.prototype.recreateTree=function(e,t,i){this.lengthCount[this.maxLength-1]+=t,this.lengthCount[this.maxLength-2]-=t;for(var r=2*i,s=this.maxLength;s!==0;s--)for(var a=this.lengthCount[s-1];a>0;){var o=2*e[r++];e[o+1]===-1&&(this.codeLength[e[o]]=s,a--)}},n.prototype.calculateOptimalCodeLength=function(e,t,i){var r=new Int32Array(i);r[i-1]=0;for(var s=i-1;s>=0;s--){var a=2*s+1;if(e[a]!==-1){var o=r[s]+1;o>this.maxLength&&(o=this.maxLength,t++),r[e[a-1]]=r[e[a]]=o}else{var o=r[s];this.lengthCount[o-1]++,this.codeLength[e[a-1]]=r[s]}}return t},n.reverseBits=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],n.huffCodeLengthOrders=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n}(),Uh=function(){function n(){}return n.checksumUpdate=function(e,t,i,r){var s=new Uint32Array(1);s[0]=e;for(var a=s[0],o=s[0]=a&65535,l=s[0]=a>>n.checkSumBitOffset;r>0;){var h=Math.min(r,n.checksumIterationCount);for(r-=h;--h>=0;)o=o+(s[0]=t[i++]&255),l=l+o;o%=n.checksumBase,l%=n.checksumBase}return a=l<<n.checkSumBitOffset|o,a},n.checkSumBitOffset=16,n.checksumBase=65521,n.checksumIterationCount=3800,n}(),bi=function(){function n(e){this.buildTree(e)}return n.init=function(){var e,t;for(e=new Uint8Array(288),t=0;t<144;)e[t++]=8;for(;t<256;)e[t++]=9;for(;t<280;)e[t++]=7;for(;t<288;)e[t++]=8;for(n.m_LengthTree=new n(e),e=new Uint8Array(32),t=0;t<32;)e[t++]=5;n.m_DistanceTree=new n(e)},n.prototype.prepareData=function(e,t,i){for(var r=0,s=512,a=0;a<i.length;a++){var o=i[a];o>0&&e[o]++}for(var l=1;l<=n.MAX_BITLEN;l++)if(t[l]=r,r+=e[l]<<16-l,l>=10){var h=t[l]&130944,u=r&130944;s+=u-h>>16-l}return{code:r,treeSize:s}},n.prototype.treeFromData=function(e,t,i,r,s){for(var a=new Int16Array(s),o=512,l=128,h=n.MAX_BITLEN;h>=10;h--){var u=r&130944;r-=e[h]<<16-h;for(var c=r&130944,f=c;f<u;f+=l)a[Pe.bitReverse(f)]=Pe.bitConverterInt32ToInt16(-o<<4|h),o+=1<<h-9}for(var f=0;f<i.length;f++){var h=i[f];if(h!=0){r=t[h];var d=Pe.bitReverse(r);if(h<=9)do a[d]=Pe.bitConverterInt32ToInt16(f<<4|h),d+=1<<h;while(d<512);else{var g=a[d&511],p=1<<(g&15);g=-(g>>4);do a[g|d>>9]=Pe.bitConverterInt32ToInt16(f<<4|h),d+=1<<h;while(d<p)}t[h]=r+(1<<16-h)}}return a},n.prototype.buildTree=function(e){var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=this.prepareData(t,i,e);this.m_Tree=this.treeFromData(t,i,e,r.code,r.treeSize)},n.prototype.unpackSymbol=function(e){var t,i;if((t=e.peekBits(9))>=0){if((i=this.m_Tree[t])>=0)return e.skipBits(i&15),i>>4;var r=-(i>>4),s=i&15;if((t=e.peekBits(s))>=0)return i=this.m_Tree[r|t>>9],e.skipBits(i&15),i>>4;var a=e.availableBits;return t=e.peekBits(a),i=this.m_Tree[r|t>>9],(i&15)<=a?(e.skipBits(i&15),i>>4):-1}else{var a=e.availableBits;return t=e.peekBits(a),i=this.m_Tree[t],i>=0&&(i&15)<=a?(e.skipBits(i&15),i>>4):-1}},Object.defineProperty(n,"lengthTree",{get:function(){return this.m_LengthTree},enumerable:!0,configurable:!0}),Object.defineProperty(n,"distanceTree",{get:function(){return this.m_DistanceTree},enumerable:!0,configurable:!0}),n.MAX_BITLEN=15,n}(),Gh=function(){function n(){}return n.ChecksumUpdate=function(e,t,i,r){for(var s=e,a=s&65535,o=s>>this.DEF_CHECKSUM_BIT_OFFSET;r>0;){var l=Math.min(r,this.DEF_CHECKSUM_ITERATIONSCOUNT);for(r-=l;--l>=0;)a=a+(t[i++]&255),o=o+a;a%=this.DEF_CHECKSUM_BASE,o%=this.DEF_CHECKSUM_BASE}s=o<<this.DEF_CHECKSUM_BIT_OFFSET|a,e=s},n.ChecksumGenerate=function(e,t,i){var r=1;return n.ChecksumUpdate(r,e,t,i),r},n.DEF_CHECKSUM_BIT_OFFSET=16,n.DEF_CHECKSUM_BASE=65521,n.DEF_CHECKSUM_ITERATIONSCOUNT=3800,n}(),Yh=function(){function n(e,t){if(this.defaultHuffmanDynamicTree=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],this.DEF_HEADER_METHOD_MASK=3840,this.DEF_HEADER_INFO_MASK=61440,this.DEF_HEADER_FLAGS_FCHECK=31,this.DEF_HEADER_FLAGS_FDICT=32,this.DEF_HEADER_FLAGS_FLEVEL=192,this.DEF_MAX_WINDOW_SIZE=65535,this.DEF_HUFFMAN_REPEATE_MAX=258,this.DEF_HUFFMAN_END_BLOCK=256,this.DEF_HUFFMAN_LENGTH_MINIMUMCODE=257,this.DEF_HUFFMAN_LENGTH_MAXIMUMCODE=285,this.DEF_HUFFMAN_DISTANCE_MAXIMUMCODE=29,this.mCheckSum=1,this.tBuffer=0,this.mBufferedBits=0,this.mTempBuffer=new Uint8Array(4),this.mBlockBuffer=new Uint8Array(this.DEF_MAX_WINDOW_SIZE),this.mbNoWrap=!1,this.mWindowSize=0,this.mCurrentPosition=0,this.mDataLength=0,this.mbCanReadNextBlock=!0,this.mbCanReadMoreData=!0,this.mbCheckSumRead=!1,e==null)throw new DOMException("stream");if(e.length===0)throw new DOMException("stream - string can not be empty");bi.init(),this.mInputStream=new kr(e),this.mbNoWrap=t,this.mbNoWrap||this.readZLibHeader(),this.decodeBlockHeader()}return Object.defineProperty(n.prototype,"mBuffer",{get:function(){return this.tBuffer},set:function(e){this.tBuffer=e},enumerable:!0,configurable:!0}),n.prototype.peekBits=function(e){if(e<0)throw new DOMException("count","Bits count can not be less than zero.");if(e>32)throw new DOMException("count","Count of bits is too large.");if(this.mBufferedBits<e&&this.fillBuffer(),this.mBufferedBits<e)return-1;var t=~(4294967295<<e),i=Pe.bitConverterUintToInt32(this.mBuffer&t);return i},n.prototype.fillBuffer=function(){var e=4-(this.mBufferedBits>>3)-(this.mBufferedBits&7?1:0);if(e!==0)for(var t=this.mInputStream.read(this.mTempBuffer,0,e),i=0;i<t;i++)this.mBuffer=Pe.bitConverterInt32ToUint(this.mBuffer|Pe.bitConverterInt32ToUint(this.mTempBuffer[i]<<this.mBufferedBits)),this.mBufferedBits+=8},n.prototype.skipBits=function(e){if(e<0)throw new DOMException("count","Bits count can not be less than zero.");e!==0&&(e>=this.mBufferedBits?(e-=this.mBufferedBits,this.mBufferedBits=0,this.mBuffer=0,e>0&&(this.mInputStream.position+=e>>3,e&=7,e>0&&(this.fillBuffer(),this.mBufferedBits-=e,this.mBuffer=Pe.bitConverterInt32ToUint(this.mBuffer>>>e)))):(this.mBufferedBits-=e,this.mBuffer=Pe.bitConverterInt32ToUint(this.mBuffer>>>e)))},Object.defineProperty(n.prototype,"availableBits",{get:function(){return this.mBufferedBits},enumerable:!0,configurable:!0}),n.prototype.readZLibHeader=function(){var e=this.readInt16();if(e===-1)throw new DOMException("Header of the stream can not be read.");if(e%31!==0)throw new DOMException("Header checksum illegal");if((e&this.DEF_HEADER_METHOD_MASK)!==2048)throw new DOMException("Unsupported compression method.");if(this.mWindowSize=Math.pow(2,((e&this.DEF_HEADER_INFO_MASK)>>12)+8),this.mWindowSize>65535)throw new DOMException("Unsupported window size for deflate compression method.");if((e&this.DEF_HEADER_FLAGS_FDICT)>>5===1)throw new DOMException("Custom dictionary is not supported at the moment.")},n.prototype.readInt16=function(){var e=this.readBits(8)<<8;return e|=this.readBits(8),e},n.prototype.readBits=function(e){var t=this.peekBits(e);return t===-1?-1:(this.mBufferedBits-=e,this.mBuffer=Pe.bitConverterInt32ToUint(this.mBuffer>>>e),t)},n.prototype.decodeBlockHeader=function(){if(!this.mbCanReadNextBlock)return!1;var e=this.readBits(1);if(e===-1)return!1;var t=this.readBits(2);if(t===-1)return!1;switch(this.mbCanReadNextBlock=e===0,t){case 0:this.mbReadingUncompressed=!0,this.skipToBoundary();var i=this.readInt16Inverted(),r=this.readInt16Inverted();if(i!==(r^65535))throw new DOMException("Wrong block length.");if(i>65535)throw new DOMException("Uncompressed block length can not be more than 65535.");this.mUncompressedDataLength=i,this.mCurrentLengthTree=null,this.mCurrentDistanceTree=null;break;case 1:this.mbReadingUncompressed=!1,this.mUncompressedDataLength=-1,this.mCurrentLengthTree=bi.lengthTree,this.mCurrentDistanceTree=bi.distanceTree;break;case 2:this.mbReadingUncompressed=!1,this.mUncompressedDataLength=-1;var s=this.decodeDynamicHeader(this.mCurrentLengthTree,this.mCurrentDistanceTree);this.mCurrentLengthTree=s.lengthTree,this.mCurrentDistanceTree=s.distanceTree;break;default:throw new DOMException("Wrong block type.")}return!0},n.prototype.skipToBoundary=function(){this.mBuffer=Pe.bitConverterInt32ToUint(this.mBuffer>>>(this.mBufferedBits&7)),this.mBufferedBits&=-8},n.prototype.readInt16Inverted=function(){var e=this.readBits(8);return e|=this.readBits(8)<<8,e},n.prototype.decodeDynamicHeader=function(e,t){var i=0,r=this.readBits(5),s=this.readBits(5),a=this.readBits(4);if(r<0||s<0||a<0)throw new DOMException("Wrong dynamic huffman codes.");r+=257,s+=1;var o=r+s,l=new Uint8Array(o),h=new Uint8Array(19);a+=4;for(var u=0;u<a;){var c=this.readBits(3);if(c<0)throw new DOMException("Wrong dynamic huffman codes.");h[this.defaultHuffmanDynamicTree[u++]]=c}var f=new bi(h);for(u=0;;){var d=void 0,g=!1;for(d=f.unpackSymbol(this);!(d&-16);){if(l[u++]=i=d,u===o){g=!0;break}d=f.unpackSymbol(this)}if(g)break;if(d<0)throw new DOMException("Wrong dynamic huffman codes.");if(d>=17)i=0;else if(u===0)throw new DOMException("Wrong dynamic huffman codes.");var p=d-16,b=n.DEF_HUFFMAN_DYNTREE_REPEAT_BITS[p],y=this.readBits(b);if(y<0)throw new DOMException("Wrong dynamic huffman codes.");if(y+=n.DEF_HUFFMAN_DYNTREE_REPEAT_MINIMUMS[p],u+y>o)throw new DOMException("Wrong dynamic huffman codes.");for(;y-- >0;)l[u++]=i;if(u===o)break}var T=new Uint8Array(r);return T.set(l.subarray(0,r),0),e=new bi(T),T=l.slice(r,r+s),t=new bi(T),{lengthTree:e,distanceTree:t}},n.prototype.readHuffman=function(){for(var e=this.DEF_MAX_WINDOW_SIZE-(this.mDataLength-this.mCurrentPosition),t=!1,i={};e>=this.DEF_HUFFMAN_REPEATE_MAX;){var r=void 0;for(r=this.mCurrentLengthTree.unpackSymbol(this);!(r&-256);){if(i[(this.mDataLength+1)%this.DEF_MAX_WINDOW_SIZE]=r,this.mBlockBuffer[this.mDataLength++%this.DEF_MAX_WINDOW_SIZE]=r,t=!0,--e<this.DEF_HUFFMAN_REPEATE_MAX)return!0;r=this.mCurrentLengthTree.unpackSymbol(this)}if(r<this.DEF_HUFFMAN_LENGTH_MINIMUMCODE){if(r<this.DEF_HUFFMAN_END_BLOCK)throw new DOMException("Illegal code.");var s=t?1:0;this.mbCanReadMoreData=this.decodeBlockHeader();var a=this.mbCanReadMoreData?1:0;return!!(s|a)}if(r>this.DEF_HUFFMAN_LENGTH_MAXIMUMCODE)throw new DOMException("Illegal repeat code length.");var o=n.DEF_HUFFMAN_REPEAT_LENGTH_BASE[r-this.DEF_HUFFMAN_LENGTH_MINIMUMCODE],l=n.DEF_HUFFMAN_REPEAT_LENGTH_EXTENSION[r-this.DEF_HUFFMAN_LENGTH_MINIMUMCODE];if(l>0){var h=this.readBits(l);if(h<0)throw new DOMException("Wrong data.");o+=h}if(r=this.mCurrentDistanceTree.unpackSymbol(this),r<0||r>n.DEF_HUFFMAN_REPEAT_DISTANCE_BASE.length)throw new DOMException("Wrong distance code.");var u=n.DEF_HUFFMAN_REPEAT_DISTANCE_BASE[r];if(l=n.DEF_HUFFMAN_REPEAT_DISTANCE_EXTENSION[r],l>0){var h=this.readBits(l);if(h<0)throw new DOMException("Wrong data.");u+=h}for(var c=0;c<o;c++)this.mBlockBuffer[this.mDataLength%this.DEF_MAX_WINDOW_SIZE]=this.mBlockBuffer[(this.mDataLength-u)%this.DEF_MAX_WINDOW_SIZE],this.mDataLength++,e--;t=!0}return t},n.prototype.read=function(e,t,i){if(e==null)throw new DOMException("buffer");if(t<0||t>e.length-1)throw new DOMException("offset","Offset does not belong to specified buffer.");if(i<0||i>e.length-t)throw new DOMException("length","Length is illegal.");for(var r=i;i>0;)if(this.mCurrentPosition<this.mDataLength){var s=this.mCurrentPosition%this.DEF_MAX_WINDOW_SIZE,a=Math.min(this.DEF_MAX_WINDOW_SIZE-s,this.mDataLength-this.mCurrentPosition);a=Math.min(a,i),Pe.arrayCopy(this.mBlockBuffer,s,e,t,a),this.mCurrentPosition+=a,t+=a,i-=a}else{if(!this.mbCanReadMoreData)break;var o=this.mDataLength;if(this.mbReadingUncompressed)if(this.mUncompressedDataLength===0){if(this.mbCanReadMoreData=this.decodeBlockHeader(),!this.mbCanReadMoreData)break}else{var s=this.mDataLength%this.DEF_MAX_WINDOW_SIZE,l=Math.min(this.mUncompressedDataLength,this.DEF_MAX_WINDOW_SIZE-s),h=this.readPackedBytes(this.mBlockBuffer,s,l);if(l!==h)throw new DOMException("Not enough data in stream.");this.mUncompressedDataLength-=h,this.mDataLength+=h}else if(!this.readHuffman())break;if(o<this.mDataLength){var u=o%this.DEF_MAX_WINDOW_SIZE,c=this.mDataLength%this.DEF_MAX_WINDOW_SIZE;u<c?this.checksumUpdate(this.mBlockBuffer,u,c-u):(this.checksumUpdate(this.mBlockBuffer,u,this.DEF_MAX_WINDOW_SIZE-u),c>0&&this.checksumUpdate(this.mBlockBuffer,0,c))}}if(!this.mbCanReadMoreData&&!this.mbCheckSumRead&&!this.mbNoWrap){this.skipToBoundary();var f=this.readInt32();if(f!==this.mCheckSum)throw new DOMException("Checksum check failed.");this.mbCheckSumRead=!0}return r-i},n.prototype.readPackedBytes=function(e,t,i){if(e==null)throw new DOMException("buffer");if(t<0||t>e.length-1)throw new DOMException('offset", "Offset can not be less than zero or greater than buffer length - 1.');if(i<0)throw new DOMException('length", "Length can not be less than zero.');if(i>e.length-t)throw new DOMException('length", "Length is too large.');if(this.mBufferedBits&7)throw new DOMException("Reading of unalligned data is not supported.");if(i===0)return 0;for(var r=0;this.mBufferedBits>0&&i>0;)e[t++]=this.mBuffer,this.mBufferedBits-=8,this.mBuffer=Pe.bitConverterInt32ToUint(this.mBuffer>>>8),i--,r++;return i>0&&(r+=this.mInputStream.read(e,t,i)),r},n.prototype.readInt32=function(){var e=this.readBits(8)<<24;return e|=this.readBits(8)<<16,e|=this.readBits(8)<<8,e|=this.readBits(8),e},n.prototype.checksumUpdate=function(e,t,i){Gh.ChecksumUpdate(this.mCheckSum,e,t,i)},n.DEF_REVERSE_BITS=new Uint8Array([0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]),n.DEF_HUFFMAN_DYNTREE_REPEAT_MINIMUMS=[3,3,11],n.DEF_HUFFMAN_DYNTREE_REPEAT_BITS=[2,3,7],n.DEF_HUFFMAN_REPEAT_LENGTH_BASE=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],n.DEF_HUFFMAN_REPEAT_LENGTH_EXTENSION=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],n.DEF_HUFFMAN_REPEAT_DISTANCE_BASE=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],n.DEF_HUFFMAN_REPEAT_DISTANCE_EXTENSION=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],n}(),kr=function(){function n(e){this.position=0,this.inputStream=new Uint8Array(e.buffer)}return Object.defineProperty(n.prototype,"length",{get:function(){return this.inputStream.buffer.byteLength},enumerable:!0,configurable:!0}),n.prototype.read=function(e,t,i){var r=new Uint8Array(this.inputStream.buffer,this.position+t),s=r.subarray(0,i);return e.set(s,0),this.position+=s.byteLength,s.byteLength},n.prototype.readByte=function(){return this.inputStream[this.position++]},n.prototype.write=function(e,t,i){Pe.arrayCopy(e,0,this.inputStream,this.position+t,i),this.position+=i},n.prototype.toByteArray=function(){return new Uint8Array(this.inputStream.buffer)},n}(),$h=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),rt=function(n){$h(e,n);function e(t,i){var r=n.call(this,t)||this;return r.dicPrefix="stream",r.dicSuffix="endstream",r.clonedObject2=null,r.bCompress=!0,typeof t<"u"||typeof i<"u"?(r.dataStream2=[],r.dataStream2=i,r.bCompress2=!1):(r.dataStream2=[],r.bCompress2=!0),r}return Object.defineProperty(e.prototype,"internalStream",{get:function(){return this.dataStream2},set:function(t){this.dataStream2=[],this.dataStream2=t,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compress",{get:function(){return this.bCompress},set:function(t){this.bCompress=t,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.dataStream2},set:function(t){this.dataStream2=[],this.dataStream2=t,this.modify()},enumerable:!0,configurable:!0}),e.prototype.clearStream=function(){this.internalStream=[],this.items.containsKey(this.dictionaryProperties.filter)&&this.remove(this.dictionaryProperties.filter),this.bCompress=!0,this.modify()},e.prototype.write=function(t){if(t==null)throw new Error("ArgumentNullException:text");if(t.length<=0)throw new Error("ArgumentException: Can not write an empty string, text");this.dataStream2.push(t),this.modify()},e.prototype.writeBytes=function(t){if(t===null)throw new Error("ArgumentNullException:data");if(t.length<=0)throw new Error("ArgumentException: Can not write an empty bytes, data");for(var i="",r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);this.dataStream2.push(i),this.modify()},e.prototype.onCmapBeginSave=function(){this.cmapBeginSave.sender.cmapBeginSave()},e.prototype.onFontProgramBeginSave=function(){this.fontProgramBeginSave.sender.fontProgramBeginSave()},e.prototype.compressContent=function(t,i){if(this.bCompress){for(var r=[],s=0;s<t.length;s++)r.push(t.charCodeAt(s));var a=new Uint8Array(r),o=new Ya;o.write(a,0,a.length),o.close(),t=o.getCompressedString,this.addFilter(this.dictionaryProperties.flatedecode)}return t},e.prototype.addFilter=function(t){var i=this.items.getValue(this.dictionaryProperties.filter);if(i instanceof ye){var r=i;i=r.object}var s=i,a=i;a!=null&&(s=new Le,s.insert(0,a),this.items.setValue(this.dictionaryProperties.filter,s)),a=new Q(t),s==null?this.items.setValue(this.dictionaryProperties.filter,a):s.insert(0,a)},e.prototype.save=function(t){typeof this.cmapBeginSave<"u"&&this.onCmapBeginSave(),typeof this.fontProgramBeginSave<"u"&&this.onFontProgramBeginSave();for(var i="",r=0;r<this.data.length;r++)i=i+this.data[r];i.length>1&&!this.isResource&&(i=`q\r
`+i+`Q\r
`),i=this.compressContent(i,t);var s=i.length;this.items.setValue(this.dictionaryProperties.length,new Z(s)),n.prototype.save.call(this,t,!1),t.write(this.dicPrefix),t.write(D.newLine),i.length>0&&t.write(i),t.write(D.newLine),t.write(this.dicSuffix),t.write(D.newLine)},e.bytesToString=function(t){for(var i="",r=0;r<t.length;r++)i=i+String.fromCharCode(t[r]);return i},e}(ve),Xh=function(){function n(e){this.sender=e}return n}(),qh=function(){function n(e){this.sender=e}return n}(),ir;(function(n){(function(t){t[t.None=0]="None",t[t.Ascii=1]="Ascii",t[t.Unicode=2]="Unicode"})(n.ForceEncoding||(n.ForceEncoding={}));var e;(function(t){t[t.StringValue=0]="StringValue",t[t.ByteBuffer=1]="ByteBuffer"})(e||(e={}))})(ir||(ir={}));var Ze=function(){function n(e){if(this.bHex=!1,this.position1=-1,this.clonedObject1=null,this.bDecrypted=!1,this.isParentDecrypted=!1,this.isPacked=!1,this.isFormField=!1,this.isColorSpace=!1,this.isHexString=!0,typeof e>"u")this.bHex=!1;else if(!(e.length>0&&e[0]==="0xfeff")){this.stringValue=e,this.data=[];for(var t=0;t<e.length;++t)this.data.push(e.charCodeAt(t))}}return Object.defineProperty(n.prototype,"hex",{get:function(){return this.bHex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.stringValue},set:function(e){this.stringValue=e,this.data=null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.status1},set:function(e){this.status1=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving1},set:function(e){this.isSaving1=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index1},set:function(e){this.index1=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){return this.clonedObject1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position1},set:function(e){this.position1=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"CrossTable",{get:function(){return this.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"converted",{get:function(){return this.bConverted},set:function(e){this.bConverted=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"encode",{get:function(){return this.bForceEncoding},set:function(e){this.bForceEncoding=e},enumerable:!0,configurable:!0}),n.bytesToHex=function(e){if(e==null)return"";var t="";return t},n.prototype.save=function(e){if(e===null)throw new Error("ArgumentNullException : writer");this.encode!==void 0&&this.encode===ir.ForceEncoding.Ascii?e.write(this.pdfEncode()):e.write(n.stringMark[0]+this.value+n.stringMark[1])},n.prototype.pdfEncode=function(){var e="";if(this.encode!==void 0&&this.encode===ir.ForceEncoding.Ascii){for(var t=this.escapeSymbols(this.value),i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);e=n.stringMark[0]+e+n.stringMark[1]}else e=this.value;return e},n.prototype.escapeSymbols=function(e){for(var t=[],i=0;i<e.length;i++){var r=e.charCodeAt(i);switch(r){case 40:case 41:t.push(92),t.push(r);break;case 13:t.push(92),t.push(114);break;case 92:t.push(92),t.push(r);break;default:t.push(r);break}}return t},n.prototype.clone=function(e){if(this.clonedObject1!==null&&this.clonedObject1.CrossTable===e)return this.clonedObject1;this.clonedObject1=null;var t=new n(this.stringValue);return t.bHex=this.bHex,t.crossTable=e,t.isColorSpace=this.isColorSpace,this.clonedObject1=t,t},n.toUnicodeArray=function(e,t){if(e==null)throw new Error("Argument Null Exception : value");for(var i=[],r=0;r<e.length;r++){var s=e.charCodeAt(r);i.push(s/256>>>0),i.push(s&255)}return i},n.byteToString=function(e){if(e==null)throw new Error("Argument Null Exception : stream");for(var t="",i=0;i<e.length;++i)t+=String.fromCharCode(e[i]);return t},n.stringMark="()",n.hexStringMark="<>",n.hexFormatPattern="{0:X2}",n}(),gn=function(){function n(e,t){this.index3=-1,this.position3=-1,this.objNumber=0,this.genNumber=0,typeof e=="number"&&typeof t=="number"?(this.objNumber=e,this.genNumber=t):(this.objNumber=Number(e),this.genNumber=Number(t))}return Object.defineProperty(n.prototype,"status",{get:function(){return this.status3},set:function(e){this.status3=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving3},set:function(e){this.isSaving3=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index3},set:function(e){this.index3=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position3},set:function(e){this.position3=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){var e=null;return e},enumerable:!0,configurable:!0}),n.prototype.save=function(e){e.write(this.toString())},n.prototype.toString=function(){return this.objNumber.toString()+" "+this.genNumber.toString()+" R"},n.prototype.clone=function(e){return null},n}(),ye=function(){function n(e,t){this.index4=-1,this.position4=-1,this.objectIndex=-1,this.dictionaryProperties=new Me,this.initialize(e)}return Object.defineProperty(n.prototype,"status",{get:function(){return this.status4},set:function(e){this.status4=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.isSaving4},set:function(e){this.isSaving4=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index4},set:function(e){this.index4=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.position4},set:function(e){this.position4=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"object",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this.objectIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),n.prototype.initialize=function(e){if(e instanceof Le||e instanceof ve||e instanceof Q||e instanceof Z||e instanceof rt||e instanceof gn||e instanceof Ze)this.primitiveObject=e;else{var t=e;this.initialize(t.element)}},n.prototype.save=function(e){e.position;var t=e.document.crossTable;this.object.isSaving=!0;var i=null;i=t.getReference(this.object),i.save(e)},n.prototype.clone=function(e){return null},n}(),ws;(function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right"})(ws||(ws={}));var Yt;(function(n){n[n.Top=0]="Top",n[n.Middle=1]="Middle",n[n.Bottom=2]="Bottom"})(Yt||(Yt={}));var vt;(function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right",n[n.Justify=3]="Justify"})(vt||(vt={}));var Vt;(function(n){n[n.Fill=0]="Fill",n[n.Stroke=1]="Stroke",n[n.FillStroke=2]="FillStroke",n[n.None=3]="None",n[n.ClipFlag=4]="ClipFlag",n[n.ClipFill=4]="ClipFill",n[n.ClipStroke=5]="ClipStroke",n[n.ClipFillStroke=6]="ClipFillStroke",n[n.Clip=7]="Clip"})(Vt||(Vt={}));var Ss;(function(n){n[n.Miter=0]="Miter",n[n.Round=1]="Round",n[n.Bevel=2]="Bevel"})(Ss||(Ss={}));var xs;(function(n){n[n.Flat=0]="Flat",n[n.Round=1]="Round",n[n.Square=2]="Square"})(xs||(xs={}));var xt;(function(n){n[n.Solid=0]="Solid",n[n.Dash=1]="Dash",n[n.Dot=2]="Dot",n[n.DashDot=3]="DashDot",n[n.DashDotDot=4]="DashDotDot",n[n.Custom=5]="Custom"})(xt||(xt={}));var ti;(function(n){n[n.Winding=0]="Winding",n[n.Alternate=1]="Alternate"})(ti||(ti={}));var Ae;(function(n){n[n.Rgb=0]="Rgb",n[n.Cmyk=1]="Cmyk",n[n.GrayScale=2]="GrayScale",n[n.Indexed=3]="Indexed"})(Ae||(Ae={}));var Rr;(function(n){n[n.Normal=0]="Normal",n[n.Multiply=1]="Multiply",n[n.Screen=2]="Screen",n[n.Overlay=3]="Overlay",n[n.Darken=4]="Darken",n[n.Lighten=5]="Lighten",n[n.ColorDodge=6]="ColorDodge",n[n.ColorBurn=7]="ColorBurn",n[n.HardLight=8]="HardLight",n[n.SoftLight=9]="SoftLight",n[n.Difference=10]="Difference",n[n.Exclusion=11]="Exclusion",n[n.Hue=12]="Hue",n[n.Saturation=13]="Saturation",n[n.Color=14]="Color",n[n.Luminosity=15]="Luminosity"})(Rr||(Rr={}));var Ai;(function(n){n[n.Centimeter=0]="Centimeter",n[n.Pica=1]="Pica",n[n.Pixel=2]="Pixel",n[n.Point=3]="Point",n[n.Inch=4]="Inch",n[n.Document=5]="Document",n[n.Millimeter=6]="Millimeter"})(Ai||(Ai={}));var Cs;(function(n){n[n.Fit=0]="Fit",n[n.Center=1]="Center",n[n.Stretch=2]="Stretch",n[n.Tile=3]="Tile"})(Cs||(Cs={}));var Tt;(function(n){n[n.None=0]="None",n[n.LeftToRight=1]="LeftToRight",n[n.RightToLeft=2]="RightToLeft"})(Tt||(Tt={}));var ui=function(){function n(e,t,i,r){typeof e>"u"?typeof t<"u"&&typeof i<"u"&&typeof r<"u"?this.assignRGB(t,i,r):this.filled=!1:e instanceof n?(this.redColor=e.r,this.greenColor=e.g,this.blueColor=e.b,this.grayColor=e.gray,this.alpha=e.alpha,this.filled=this.alpha!==0):typeof e=="number"&&typeof t>"u"&&typeof i>"u"&&typeof r>"u"?(e<0&&(e=0),e>1&&(e=1),this.redColor=e*n.maxColourChannelValue,this.greenColor=e*n.maxColourChannelValue,this.blueColor=e*n.maxColourChannelValue,this.cyanColor=e,this.magentaColor=e,this.yellowColor=e,this.blackColor=e,this.grayColor=e,this.alpha=n.maxColourChannelValue,this.filled=!0):typeof r>"u"?this.assignRGB(e,t,i):this.assignRGB(t,i,r,e)}return n.prototype.assignRGB=function(e,t,i,r){typeof e>"u"||typeof t>"u"||typeof i>"u"?this.filled=!1:(this.cyanColor=0,this.magentaColor=0,this.yellowColor=0,this.blackColor=0,this.grayColor=0,this.redColor=e,this.greenColor=t,this.blueColor=i,typeof r>"u"?this.alpha=n.maxColourChannelValue:this.alpha=r,this.filled=!0,this.assignCMYK(e,t,i))},n.prototype.assignCMYK=function(e,t,i){var r=e/n.maxColourChannelValue,s=t/n.maxColourChannelValue,a=i/n.maxColourChannelValue,o=Z.min(1-r,1-s,1-a),l=o===1?0:(1-r-o)/(1-o),h=o===1?0:(1-s-o)/(1-o),u=o===1?0:(1-a-o)/(1-o);this.blackColor=o,this.cyanColor=l,this.magentaColor=h,this.yellowColor=u},Object.defineProperty(n.prototype,"r",{get:function(){return this.redColor},set:function(e){this.redColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"red",{get:function(){return this.r/n.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"b",{get:function(){return this.blueColor},set:function(e){this.blueColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"blue",{get:function(){return this.b/n.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"c",{get:function(){return this.cyanColor},set:function(e){e<0?this.cyanColor=0:e>1?this.cyanColor=1:this.cyanColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"k",{get:function(){return this.blackColor},set:function(e){e<0?this.blackColor=0:e>1?this.blackColor=1:this.blackColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"m",{get:function(){return this.magentaColor},set:function(e){e<0?this.magentaColor=0:e>1?this.magentaColor=1:this.magentaColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this.yellowColor},set:function(e){e<0?this.yellowColor=0:e>1?this.yellowColor=1:this.yellowColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"g",{get:function(){return this.greenColor},set:function(e){this.greenColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"green",{get:function(){return this.g/n.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gray",{get:function(){return(this.redColor+this.greenColor+this.blueColor)/(n.maxColourChannelValue*3)},set:function(e){e<0?this.grayColor=0:e>1?this.grayColor=1:this.grayColor=e,this.r=this.grayColor*n.maxColourChannelValue,this.g=this.grayColor*n.maxColourChannelValue,this.b=this.grayColor*n.maxColourChannelValue,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return!this.filled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"a",{get:function(){return this.alpha},set:function(e){e<0?this.alpha=0:this.alpha=e,this.filled=!0},enumerable:!0,configurable:!0}),n.prototype.toString=function(e,t){if(this.isEmpty)return"";var i="";switch(e){case Ae.Rgb:i=this.rgbToString(t);break;case Ae.GrayScale:i=this.grayScaleToString(t);break;case Ae.Cmyk:i=this.cmykToString(t);break}return i},n.prototype.grayScaleToString=function(e){var t=this.gray,i="",r=null;return r=e?n.grayStringsSroke.containsKey(t)?n.grayStringsSroke.getValue(t):null:n.grayStringsFill.containsKey(t)?n.grayStringsFill.getValue(t):null,r==null?e&&(i=t.toString()+" G",n.grayStringsSroke.setValue(t,i)):i=r.toString(),i+D.newLine},n.prototype.rgbToString=function(e){var t=this.r,i=this.g,r=this.b,s=(t<<16)+(i<<8)+r;e&&(s+=1<<24);var a="",o=null;if(n.rgbStrings.containsKey(s)&&(o=n.rgbStrings.getValue(s)),o==null){var l=t/n.maxColourChannelValue,h=i/n.maxColourChannelValue,u=r/n.maxColourChannelValue;e?a=l.toString()+" "+h.toString()+" "+u.toString()+" RG":a=l.toString()+" "+h.toString()+" "+u.toString()+" rg",n.rgbStrings.setValue(s,a)}else a=o.toString();return a+D.newLine},n.prototype.cmykToString=function(e){var t=this.c,i=this.m,r=this.y,s=this.b,a="";return a=t.toString()+" "+i.toString()+" "+r.toString()+" "+s.toString()+" K",a+D.newLine},n.prototype.toArray=function(e){var t=new Le;switch(e){case Ae.Rgb:t.add(new Z(this.red)),t.add(new Z(this.green)),t.add(new Z(this.blue));break}return t},n.rgbStrings=new xe,n.grayStringsSroke=new xe,n.grayStringsFill=new xe,n.maxColourChannelValue=255,n}(),oe=function(){function n(e,t){typeof e>"u"?(this.x=0,this.y=0):(e!==null?this.x=e:this.x=0,t!==null?this.y=t:this.y=0)}return n}(),X=function(){function n(e,t){typeof t>"u"?(this.height=0,this.width=0):(t!==null?this.height=t:this.height=0,e!==null?this.width=e:this.width=0)}return n}(),me=function(){function n(e,t,i,r){if(typeof e==typeof e&&typeof e>"u")this.x=0,this.y=0,this.height=0,this.width=0;else if(e instanceof oe&&t instanceof X&&typeof i>"u"){var s=e;this.x=s.x,this.y=s.y;var a=t;this.height=a.height,this.width=a.width}else{var o=e,l=t,h=i,u=r;this.x=o,this.y=l,this.height=u,this.width=h}}return n}(),mn=function(){function n(e,t,i,r){this.left=e,this.top=t,this.right=i,this.bottom=r}return Object.defineProperty(n.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topLeft",{get:function(){return new oe(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return new X(this.width,this.height)},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this.topLeft+"x"+this.size},n}(),ci=function(){function n(){}return n.prototype.clone=function(){return this},n}(),Zh=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fi=function(n){Zh(e,n);function e(t){var i=n.call(this)||this;return i.pdfColor=t,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this.pdfColor},set:function(t){this.pdfColor=t},enumerable:!0,configurable:!0}),e.prototype.monitorChanges=function(t,i,r,s,a){if(i==null)throw new Error("ArgumentNullException:streamWriter");var o=!1;return t==null?(o=!0,i.setColorAndSpace(this.pdfColor,a,!1),o):(o=!0,i.setColorAndSpace(this.pdfColor,a,!1),o)},e.prototype.resetChanges=function(t){t.setColorAndSpace(new ui(0,0,0),Ae.Rgb,!1)},e}(ci),Ce;(function(n){n[n.Regular=0]="Regular",n[n.Bold=1]="Bold",n[n.Italic=2]="Italic",n[n.Underline=4]="Underline",n[n.Strikeout=8]="Strikeout"})(Ce||(Ce={}));var et;(function(n){n[n.Helvetica=0]="Helvetica",n[n.Courier=1]="Courier",n[n.TimesRoman=2]="TimesRoman",n[n.Symbol=3]="Symbol",n[n.ZapfDingbats=4]="ZapfDingbats"})(et||(et={}));var Ts;(function(n){n[n.Standard=0]="Standard",n[n.TrueType=1]="TrueType",n[n.TrueTypeEmbedded=2]="TrueTypeEmbedded"})(Ts||(Ts={}));var At;(function(n){n[n.None=0]="None",n[n.Word=1]="Word",n[n.WordOnly=2]="WordOnly",n[n.Character=3]="Character"})(At||(At={}));var Xt;(function(n){n[n.None=0]="None",n[n.SuperScript=1]="SuperScript",n[n.SubScript=2]="SubScript"})(Xt||(Xt={}));var vn;(function(n){n[n.Unknown=0]="Unknown",n[n.StandardEncoding=1]="StandardEncoding",n[n.MacRomanEncoding=2]="MacRomanEncoding",n[n.MacExpertEncoding=3]="MacExpertEncoding",n[n.WinAnsiEncoding=4]="WinAnsiEncoding",n[n.PdfDocEncoding=5]="PdfDocEncoding",n[n.IdentityH=6]="IdentityH"})(vn||(vn={}));var qi;(function(n){n[n.Apple=0]="Apple",n[n.Microsoft=4]="Microsoft",n[n.Trimmed=6]="Trimmed"})(qi||(qi={}));var Qe;(function(n){n[n.Unknown=0]="Unknown",n[n.Symbol=1]="Symbol",n[n.Unicode=2]="Unicode",n[n.Macintosh=3]="Macintosh"})(Qe||(Qe={}));var ii;(function(n){n[n.AppleUnicode=0]="AppleUnicode",n[n.Macintosh=1]="Macintosh",n[n.Iso=2]="Iso",n[n.Microsoft=3]="Microsoft"})(ii||(ii={}));var Br;(function(n){n[n.Undefined=0]="Undefined",n[n.Unicode=1]="Unicode"})(Br||(Br={}));var yn;(function(n){n[n.Roman=0]="Roman",n[n.Japanese=1]="Japanese",n[n.Chinese=2]="Chinese"})(yn||(yn={}));var ri;(function(n){n[n.FixedPitch=1]="FixedPitch",n[n.Serif=2]="Serif",n[n.Symbolic=4]="Symbolic",n[n.Script=8]="Script",n[n.Nonsymbolic=32]="Nonsymbolic",n[n.Italic=64]="Italic",n[n.ForceBold=262144]="ForceBold"})(ri||(ri={}));var ni;(function(n){n[n.Arg1And2AreWords=1]="Arg1And2AreWords",n[n.ArgsAreXyValues=2]="ArgsAreXyValues",n[n.RoundXyToGrid=4]="RoundXyToGrid",n[n.WeHaveScale=8]="WeHaveScale",n[n.Reserved=16]="Reserved",n[n.MoreComponents=32]="MoreComponents",n[n.WeHaveAnXyScale=64]="WeHaveAnXyScale",n[n.WeHaveTwoByTwo=128]="WeHaveTwoByTwo",n[n.WeHaveInstructions=256]="WeHaveInstructions",n[n.UseMyMetrics=512]="UseMyMetrics"})(ni||(ni={}));var Tr=function(){function n(e,t){this.scalingFactor=100,this.wordWrapType=At.Word,this.internalLineLimit=!0,this.wordWrapType=At.Word,typeof e<"u"&&typeof e!="string"&&(this.textAlignment=e),typeof t<"u"&&(this.verticalAlignment=t)}return Object.defineProperty(n.prototype,"alignment",{get:function(){return this.textAlignment},set:function(e){this.textAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textDirection",{get:function(){return this.direction},set:function(e){this.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineAlignment",{get:function(){return typeof this.verticalAlignment>"u"||this.verticalAlignment==null?Yt.Top:this.verticalAlignment},set:function(e){this.verticalAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightToLeft",{get:function(){return typeof this.isRightToLeft>"u"||this.isRightToLeft==null?!1:this.isRightToLeft},set:function(e){this.isRightToLeft=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"characterSpacing",{get:function(){return typeof this.internalCharacterSpacing>"u"||this.internalCharacterSpacing==null?0:this.internalCharacterSpacing},set:function(e){this.internalCharacterSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wordSpacing",{get:function(){return typeof this.internalWordSpacing>"u"||this.internalWordSpacing==null?0:this.internalWordSpacing},set:function(e){this.internalWordSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineSpacing",{get:function(){return typeof this.leading>"u"||this.leading==null?0:this.leading},set:function(e){this.leading=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clipPath",{get:function(){return typeof this.clip>"u"||this.clip==null?!1:this.clip},set:function(e){this.clip=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"subSuperScript",{get:function(){return typeof this.pdfSubSuperScript>"u"||this.pdfSubSuperScript==null?Xt.None:this.pdfSubSuperScript},set:function(e){this.pdfSubSuperScript=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paragraphIndent",{get:function(){return typeof this.internalParagraphIndent>"u"||this.internalParagraphIndent==null?0:this.internalParagraphIndent},set:function(e){this.internalParagraphIndent=e,this.firstLineIndent=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineLimit",{get:function(){return this.internalLineLimit},set:function(e){this.internalLineLimit=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"measureTrailingSpaces",{get:function(){return typeof this.trailingSpaces>"u"||this.trailingSpaces==null?!1:this.trailingSpaces},set:function(e){this.trailingSpaces=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"noClip",{get:function(){return typeof this.isNoClip>"u"||this.isNoClip==null?!1:this.isNoClip},set:function(e){this.isNoClip=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this.wordWrapType},set:function(e){this.wordWrapType=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalScalingFactor",{get:function(){return this.scalingFactor},set:function(e){if(e<=0)throw new Error("ArgumentOutOfRangeException:The scaling factor cant be less of equal to zero, ScalingFactor");this.scalingFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstLineIndent",{get:function(){return typeof this.initialLineIndent>"u"||this.initialLineIndent==null?0:this.initialLineIndent},set:function(e){this.initialLineIndent=e},enumerable:!0,configurable:!0}),n.prototype.clone=function(){var e=this;return e},n}(),tt=function(){function n(e){if(this.currentPosition=0,e==null)throw new Error("ArgumentNullException:text");this.text=e}return Object.defineProperty(n.prototype,"length",{get:function(){return this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"end",{get:function(){return this.currentPosition===this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.currentPosition},set:function(e){this.currentPosition=e},enumerable:!0,configurable:!0}),n.getCharsCount=function(e,t){if(typeof t=="string"){if(e==null)throw new Error("ArgumentNullException:wholeText");for(var i=0,r=0;r=e.indexOf(t,r),r!==-1;)i++,r++;return i}else{if(e==null)throw new Error("ArgumentNullException:text");if(t==null)throw new Error("ArgumentNullException:symbols");for(var s=0,a=0,o=e.length;a<o;a++){var l=e[a];this.contains(t,l)&&s++}return s}},n.prototype.readLine=function(){for(var e=this.currentPosition;e<this.length;){var t=this.text[e];switch(t){case"\r":case`
`:{var i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,t==="\r"&&this.currentPosition<this.length&&this.text[this.currentPosition]===`
`&&this.currentPosition++,i}}e++}if(e>this.currentPosition){var r=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,r}return null},n.prototype.peekLine=function(){var e=this.currentPosition,t=this.readLine();return this.currentPosition=e,t},n.prototype.readWord=function(){for(var e=this.currentPosition;e<this.length;){var t=this.text[e];switch(t){case"\r":case`
`:var i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,t==="\r"&&this.currentPosition<this.length&&this.text[this.currentPosition]===`
`&&this.currentPosition++,i;case" ":case"	":{e===this.currentPosition&&e++;var r=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,r}}e++}if(e>this.currentPosition){var s=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,s}return null},n.prototype.peekWord=function(){var e=this.currentPosition,t=this.readWord();return this.currentPosition=e,t},n.prototype.read=function(e){if(typeof e>"u"){var t="0";return this.end||(t=this.text[this.currentPosition],this.currentPosition++),t}else{for(var i=0,r="";!this.end&&i<e;){var t=this.read();r=r+t,i++}return r}},n.prototype.peek=function(){var e="0";return this.end||(e=this.text[this.currentPosition]),e},n.prototype.close=function(){this.text=null},n.prototype.readToEnd=function(){var e;return this.currentPosition===0?e=this.text:e=this.text.substr(this.currentPosition,this.length-this.currentPosition),this.currentPosition=this.length,e},n.contains=function(e,t){for(var i=!1,r=0;r<e.length;r++)if(e[r]===t){i=!0;break}return i},n.whiteSpace=" ",n.tab="	",n.spaces=[n.whiteSpace,n.tab],n.whiteSpacePattern="^[ 	]+$",n}(),jn=function(){function n(){this.isOverloadWithPosition=!1}return n.prototype.layout=function(e,t,i,r,s,a,o){if(r instanceof me){this.initialize(e,t,i,r,s),this.isOverloadWithPosition=a,this.clientSize=o;var l=this.doLayout();return this.clear(),l}else{this.initialize(e,t,i,r),this.isOverloadWithPosition=s,this.clientSize=a;var l=this.doLayout();return this.clear(),l}},n.prototype.initialize=function(e,t,i,r,s){if(typeof s=="number"){if(e==null)throw new Error("ArgumentNullException:text");if(t==null)throw new Error("ArgumentNullException:font");this.text=e,this.font=t,this.format=i,this.size=new X(r.width,r.height),this.rectangle=r,this.pageHeight=s,this.reader=new tt(e)}else this.initialize(e,t,i,new me(new oe(0,0),r),0)},n.prototype.clear=function(){this.font=null,this.format=null,this.reader.close(),this.reader=null,this.text=null},n.prototype.doLayout=function(){for(var e=new Qr,t=new Qr,i=[],r=this.reader.peekLine(),s=this.getLineIndent(!0);r!=null;){if(t=this.layoutLine(r,s),t!==null||typeof t<"u"){var a=0,o=this.copyToResult(e,t,i,a),l=o.success;if(a=o.numInserted,!l){this.reader.read(a);break}}this.reader.readLine(),r=this.reader.peekLine(),s=this.getLineIndent(!1)}return this.finalizeResult(e,i),e},n.prototype.getLineIndent=function(e){var t=0;return this.format!=null&&(t=e?this.format.firstLineIndent:this.format.paragraphIndent,t=this.size.width>0?Math.min(this.size.width,t):t),t},n.prototype.getLineHeight=function(){var e=this.font.height;return this.format!=null&&this.format.lineSpacing!==0&&(e=this.format.lineSpacing+this.font.height),e},n.prototype.getLineWidth=function(e){var t=this.font.getLineWidth(e,this.format);return t},n.prototype.layoutLine=function(e,t){var i=new Qr;i.layoutLineHeight=this.getLineHeight();var r=[],s=this.size.width,a=this.getLineWidth(e)+t,o=pt.FirstParagraphLine,l=!0;if(s<=0||Math.round(a)<=Math.round(s))this.addToLineResult(i,r,e,a,pt.NewLineBreak|o);else{var h="",u="";a=t;var c=t,f=new tt(e),d=f.peekWord();for(d.length!==f.length&&d===" "&&(u=u+d,h=h+d,f.position+=1,d=f.peekWord());d!=null;){u=u+d;var g=this.getLineWidth(u.toString())+c;if(u.toString()===" "&&(u="",g=0),g>s){if(this.getWrapType()===At.None)break;if(u.length===d.length)if(this.getWrapType()===At.WordOnly){i.textRemainder=e.substring(f.position);break}else if(u.length===1){h=h+d;break}else{l=!1,u="",d=f.peek().toString();continue}else{if(this.getLineWidth(d.toString())>s?this.format.wordWrap=At.Character:typeof this.format<"u"&&this.format!==null&&(this.format.wordWrap=At.Word),this.getWrapType()!==At.Character||!l){var p=h.toString();p!==" "&&this.addToLineResult(i,r,p,a,pt.LayoutBreak|o),this.isOverloadWithPosition&&(s=this.clientSize.width),u="",h="",a=0,c=0,g=0,o=pt.None,d=l?d:f.peekWord(),l=!0}else l=!1,u="",u=u+h.toString(),d=f.peek().toString();continue}}h=h+d,a=g,l?(f.readWord(),d=f.peekWord()):(f.read(),d=f.peek().toString())}if(h.length>0){var p=h.toString();this.addToLineResult(i,r,p,a,pt.NewLineBreak|pt.LastParagraphLine)}f.close()}i.layoutLines=[];for(var b=0;b<r.length;b++)i.layoutLines.push(r[b]);return r=[],i},n.prototype.addToLineResult=function(e,t,i,r,s){var a=new Kh;a.text=i,a.width=r,a.lineType=s,t.push(a);var o=e.actualSize;o.height+=this.getLineHeight(),o.width=Math.max(o.width,r),e.size=o},n.prototype.copyToResult=function(e,t,i,r){var s=!0,a=this.format!=null&&!this.format.lineLimit,o=e.actualSize.height,l=this.size.height;if(this.pageHeight>0&&l+this.rectangle.y>this.pageHeight&&(l=this.rectangle.y-this.pageHeight,l=Math.max(l,-l)),r=0,t.lines!=null)for(var h=0,u=t.lines.length;h<u;h++){var c=o+t.lineHeight;if(c<=l||l<=0||a){var f=t.lines[h];r+=f.text.length,f=this.trimLine(f,i.length===0),i.push(f);var d=e.actualSize;d.width=Math.max(d.width,f.width),e.size=d,o=c}else{s=!1;break}}if(o!=e.size.height){var g=e.actualSize;g.height=o,e.size=g}return{success:s,numInserted:r}},n.prototype.finalizeResult=function(e,t){e.layoutLines=[];for(var i=0;i<t.length;i++)e.layoutLines.push(t[i]);e.layoutLineHeight=this.getLineHeight(),this.reader.end||(e.textRemainder=this.reader.readToEnd()),t=[]},n.prototype.trimLine=function(e,t){var i=e.text,r=e.width;e.lineType&pt.FirstParagraphLine;var s=this.format==null||!this.format.rightToLeft;return i=i.trim(),i.length!==e.text.length&&(r=this.getLineWidth(i),(e.lineType&pt.FirstParagraphLine)>0&&(r+=this.getLineIndent(t))),e.text=i,e.width=r,e},n.prototype.getWrapType=function(){var e=this.format!=null?this.format.wordWrap:At.Word;return e},n}(),Qr=function(){function n(){}return Object.defineProperty(n.prototype,"remainder",{get:function(){return this.textRemainder},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualSize",{get:function(){return typeof this.size>"u"&&(this.size=new X(0,0)),this.size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lines",{get:function(){return this.layoutLines},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this.layoutLineHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return this.layoutLines==null||this.layoutLines.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineCount",{get:function(){var e=this.empty?0:this.layoutLines.length;return e},enumerable:!0,configurable:!0}),n}(),Kh=function(){function n(){}return Object.defineProperty(n.prototype,"lineType",{get:function(){return this.type},set:function(e){this.type=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this.content},set:function(e){this.content=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.lineWidth},set:function(e){this.lineWidth=e},enumerable:!0,configurable:!0}),n}(),pt;(function(n){n[n.None=0]="None",n[n.NewLineBreak=1]="NewLineBreak",n[n.LayoutBreak=2]="LayoutBreak",n[n.FirstParagraphLine=4]="FirstParagraphLine",n[n.LastParagraphLine=8]="LastParagraphLine"})(pt||(pt={}));var qt=function(){function n(e,t){this.fontStyle=Ce.Regular,typeof e=="number"&&typeof t>"u"?this.fontSize=e:(this.fontSize=e,this.setStyle(t))}return Object.defineProperty(n.prototype,"name",{get:function(){return this.metrics.name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.metrics.getHeight(null)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this.fontStyle},set:function(e){this.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bold",{get:function(){return(this.style&Ce.Bold)>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){return(this.style&Ce.Italic)>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strikeout",{get:function(){return(this.style&Ce.Strikeout)>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"underline",{get:function(){return(this.style&Ce.Underline)>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"metrics",{get:function(){return this.fontMetrics},set:function(e){this.fontMetrics=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.pdfFontInternals},enumerable:!0,configurable:!0}),n.prototype.measureString=function(e,t,i,r,s){if(typeof e=="string"&&typeof t>"u")return this.measureString(e,null);if(typeof e=="string"&&(t instanceof Tr||t==null)&&typeof i>"u"&&typeof r>"u"){var a=t,o=0,l=0;return this.measureString(e,a,o,l)}else if(typeof e=="string"&&(t instanceof Tr||t==null)&&typeof i=="number"&&typeof r=="number"){var a=t;return this.measureString(e,0,a,i,r)}else if(typeof e=="string"&&typeof t=="number"&&(i instanceof Tr||i==null)&&typeof r=="number"&&typeof s=="number"){var h=new X(t,0),u=i;return this.measureString(e,h,u,r,s)}else{if(e==null)throw Error('ArgumentNullException("text")');var a=t,u=i,c=new jn,f=c.layout(e,this,u,a,!1,new X(0,0));return r=e.length,s=f.empty?0:f.lines.length,f.actualSize}},n.prototype.equalsTo=function(e){var t=this.equalsToFont(e);return t},n.prototype.getInternals=function(){return this.pdfFontInternals},n.prototype.setInternals=function(e){if(e==null)throw new Error("ArgumentNullException:internals");this.pdfFontInternals=e},n.prototype.setStyle=function(e){this.fontStyle=e},n.prototype.applyFormatSettings=function(e,t,i){var r=i;if(t!=null&&i>0&&(t.characterSpacing!==0&&(r+=(e.length-1)*t.characterSpacing),t.wordSpacing!==0)){var s=tt.spaces,a=tt.getCharsCount(e,s);r+=a*t.wordSpacing}return r},n.charSizeMultiplier=.001,n.syncObject=new Object,n}(),As=function(){function n(e){this.streamWriter=e}return Object.defineProperty(n.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stream",{get:function(){return this.streamWriter},enumerable:!0,configurable:!0}),n.prototype.write=function(e){var t=e;this.streamWriter.write(t)},n}(),Qh=function(){function n(){this.buffer=new Jh}return n.prototype.write=function(e){this.buffer.write(e)},n.prototype.destroy=function(){this.buffer&&(this.buffer.destroy(),this.buffer=void 0)},n}(),Jh=function(){function n(){this.buffer=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0}),n.prototype.write=function(e){for(var t=0;t<e.length;t++)this.buffer.push(e.charCodeAt(t)&255)},n.prototype.destroy=function(){this.buffer&&(this.buffer=[],this.buffer=void 0)},n}(),rr;(function(n){n[n.None=0]="None",n[n.Registered=1]="Registered"})(rr||(rr={}));var eu=function(){function n(){this.objectCollections=[],this.mainObjectCollection=new xe,this.primitiveObjectCollection=new xe}return Object.defineProperty(n.prototype,"count",{get:function(){return this.objectCollections.length},enumerable:!0,configurable:!0}),n.prototype.items=function(e){return this.objectCollections[e]},Object.defineProperty(n.prototype,"outIsNew",{get:function(){return this.isNew},enumerable:!0,configurable:!0}),n.prototype.add=function(e){var t=new tu(e);this.objectCollections.push(t),this.primitiveObjectCollection.containsKey(e)||this.primitiveObjectCollection.setValue(e,this.objectCollections.length-1),e.position=this.index=this.objectCollections.length-1,e.status=rr.Registered},n.prototype.lookFor=function(e){var t=-1;if(e.position!==-1)return e.position;if(this.primitiveObjectCollection.containsKey(e)&&this.count===this.primitiveObjectCollection.size())t=this.primitiveObjectCollection.getValue(e);else for(var i=this.count-1;i>=0;i--){var r=this.objectCollections[i];if(r.object===e){t=i;break}}return t},n.prototype.getReference=function(e,t){this.index=this.lookFor(e);var i;this.isNew=!1;var r=this.objectCollections[this.index];i=r.reference;var s={reference:i,wasNew:t};return s},n.prototype.trySetReference=function(e,t,i){var r=!0;this.index=this.lookFor(e);var s=this.objectCollections[this.index];return s.setReference(t),r},n.prototype.destroy=function(){for(var e=0,t=this.objectCollections;e<t.length;e++){var i=t[e];i!==void 0&&(i.pdfObject.position=-1,i.pdfObject.isSaving=void 0,i.pdfObject.objectCollectionIndex=void 0,i.pdfObject.position=void 0)}this.objectCollections=[],this.mainObjectCollection=new xe,this.primitiveObjectCollection=new xe},n}(),tu=function(){function n(e,t){this.pdfObject=e,this.pdfReference=t}return Object.defineProperty(n.prototype,"object",{get:function(){return this.pdfObject},set:function(e){this.pdfObject=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),n.prototype.setReference=function(e){this.pdfReference=e},n}(),iu=function(){function n(e){this.isStreamCopied=!1,e instanceof Ur&&(this.document=e)}return Object.defineProperty(n.prototype,"pdfObjects",{get:function(){return this.objects},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"crossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentSavingObj",{get:function(){return this.currentSavingObject},set:function(e){this.currentSavingObject=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"catalog",{get:function(){return this.pdfCatalog},set:function(e){this.pdfCatalog=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewerPreferences",{get:function(){return this.pdfCatalog.viewerPreferences},enumerable:!0,configurable:!0}),n.prototype.setMainObjectCollection=function(e){this.objects=e},n.prototype.setCrossTable=function(e){this.pdfCrossTable=e},n.prototype.setCatalog=function(e){this.pdfCatalog=e},n.prototype.save=function(e){var t=this,i=new Di(!0),r=new ys(i);if(typeof e>"u"){var s=new Di(!0),a=new ys(s);return new Promise(function(o,l){var h={};h.blobData=new Blob([t.document.docSave(a,!0)],{type:"application/pdf"}),o(h)})}else this.document.docSave(r,e,!0)},n.prototype.clone=function(){return this.document},n.prototype._save=function(){return this.document._docSave()},n}(),nr;(function(n){n[n.Free=0]="Free",n[n.Normal=1]="Normal",n[n.Packed=2]="Packed"})(nr||(nr={}));var zt=function(){function n(e){this.currentPosition=-1,this.value=e}return Object.defineProperty(n.prototype,"status",{get:function(){return this.objectStatus},set:function(e){this.objectStatus=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSaving",{get:function(){return this.saving},set:function(e){this.saving=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollectionIndex",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return this.currentPosition},set:function(e){this.currentPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clonedObject",{get:function(){var e=null;return e},enumerable:!0,configurable:!0}),n.prototype.save=function(e){e.write(this.boolToStr(this.value))},n.prototype.clone=function(e){var t=new n(this.value);return t},n.prototype.boolToStr=function(e){return e?"true":"false"},n}(),ru=function(){function n(e){this._dictionaryProperties=new Me,this._centerWindow=!1,this._fitWindow=!1,this._displayTitle=!1,this._splitWindow=!1,this._hideMenuBar=!1,this._hideToolBar=!1,this._hideWindowUI=!1,this._pageMode=It.UseNone,this._pageLayout=Dt.SinglePage,this._dictionary=new ve,this._duplex=si.None,this._catalog=e}return Object.defineProperty(n.prototype,"centerWindow",{get:function(){return this._centerWindow},set:function(e){this._centerWindow=e,this._dictionary.items.setValue(this._dictionaryProperties.centerWindow,new zt(this._centerWindow))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayTitle",{get:function(){return this._displayTitle},set:function(e){this._displayTitle=e,this._dictionary.items.setValue(this._dictionaryProperties.displayTitle,new zt(this._displayTitle))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fitWindow",{get:function(){return this._fitWindow},set:function(e){this._fitWindow=e,this._dictionary.items.setValue(this._dictionaryProperties.fitWindow,new zt(this._fitWindow))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideMenuBar",{get:function(){return this._hideMenuBar},set:function(e){this._hideMenuBar=e,this._dictionary.items.setValue(this._dictionaryProperties.hideMenuBar,new zt(this._hideMenuBar))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideToolBar",{get:function(){return this._hideToolBar},set:function(e){this._hideToolBar=e,this._dictionary.items.setValue(this._dictionaryProperties.hideToolBar,new zt(this._hideToolBar))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideWindowUI",{get:function(){return this._hideWindowUI},set:function(e){this._hideWindowUI=e,this._dictionary.items.setValue(this._dictionaryProperties.hideWindowUI,new zt(this._hideWindowUI))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageMode",{get:function(){return this._pageMode},set:function(e){this._pageMode=e,this._catalog.items.setValue(this._dictionaryProperties.pageMode,new Q(this._mapPageMode(this._pageMode)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"duplex",{get:function(){return this._duplex},set:function(e){this._duplex=e,this._catalog.items.setValue(this._dictionaryProperties.duplex,new Q(this._mapDuplexMode(this._duplex)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageLayout",{get:function(){return this._pageLayout},set:function(e){this._pageLayout=e,this._catalog.items.setValue(this._dictionaryProperties.pageLayout,new Q(this._mapPageLayout(this._pageLayout)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageScaling",{get:function(){return this._pageScaling},set:function(e){this._pageScaling=e,this._pageScaling===Ir.AppDefault&&this._dictionary.items.containsKey(this._dictionaryProperties.printScaling)?this._dictionary.items.remove(this._dictionaryProperties.printScaling):this._pageScaling===Ir.None&&this._dictionary.items.setValue(this._dictionaryProperties.printScaling,new Q("None"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this._dictionary},enumerable:!0,configurable:!0}),n.prototype._mapDuplexMode=function(e){switch(e){case si.Simplex:return"Simplex";case si.DuplexFlipShortEdge:return"DuplexFlipShortEdge";case si.DuplexFlipLongEdge:return"DuplexFlipLongEdge";case si.None:return"None"}},n.prototype._mapPageMode=function(e){switch(e){case It.UseNone:return"UseNone";case It.UseOutlines:return"UseOutlines";case It.UseThumbs:return"UseThumbs";case It.FullScreen:return"FullScreen";case It.UseOC:return"UseOC";case It.UseAttachments:return"UseAttachments"}},n.prototype._mapPageLayout=function(e){switch(e){case Dt.SinglePage:return"SinglePage";case Dt.OneColumn:return"OneColumn";case Dt.TwoColumnLeft:return"TwoColumnLeft";case Dt.TwoColumnRight:return"TwoColumnRight";case Dt.TwoPageLeft:return"TwoPageLeft";case Dt.TwoPageRight:return"TwoPageRight"}},n}(),It;(function(n){n[n.UseNone=0]="UseNone",n[n.UseOutlines=1]="UseOutlines",n[n.UseThumbs=2]="UseThumbs",n[n.FullScreen=3]="FullScreen",n[n.UseOC=4]="UseOC",n[n.UseAttachments=5]="UseAttachments"})(It||(It={}));var Dt;(function(n){n[n.SinglePage=0]="SinglePage",n[n.OneColumn=1]="OneColumn",n[n.TwoColumnLeft=2]="TwoColumnLeft",n[n.TwoColumnRight=3]="TwoColumnRight",n[n.TwoPageLeft=4]="TwoPageLeft",n[n.TwoPageRight=5]="TwoPageRight"})(Dt||(Dt={}));var si;(function(n){n[n.Simplex=0]="Simplex",n[n.DuplexFlipShortEdge=1]="DuplexFlipShortEdge",n[n.DuplexFlipLongEdge=2]="DuplexFlipLongEdge",n[n.None=3]="None"})(si||(si={}));var Ir;(function(n){n[n.AppDefault=0]="AppDefault",n[n.None=1]="None"})(Ir||(Ir={}));var nu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$a=function(n){nu(e,n);function e(){var t=n.call(this)||this;return t.sections=null,t.tempDictionaryProperties=new Me,t.items.setValue(new Me().type,new Q("Catalog")),t}return Object.defineProperty(e.prototype,"pages",{get:function(){return this.sections},set:function(t){t.element,this.sections=t,this.items.setValue(this.tempDictionaryProperties.pages,new ye(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewerPreferences",{get:function(){return(this._viewerPreferences===null||typeof this._viewerPreferences>"u")&&(this._viewerPreferences=new ru(this),this.items.setValue(this.tempDictionaryProperties.viewerPreferences,new ye(this._viewerPreferences.element))),this._viewerPreferences},enumerable:!0,configurable:!0}),e}(ve),Xa=function(){function n(){this.objects=new xe,this.maxGenNumIndex=0,this.objectCount=0,this.dictionaryProperties=new Me}return Object.defineProperty(n.prototype,"isMerging",{get:function(){return this.merging},set:function(e){this.merging=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"trailer",{get:function(){return this.internalTrailer==null&&(this.internalTrailer=new rt),this.internalTrailer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e,this.items=this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pdfObjects",{get:function(){return this.items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectCollection",{get:function(){return this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this.objectCount},set:function(e){this.objectCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nextObjNumber",{get:function(){return this.count=this.count+1,this.count},enumerable:!0,configurable:!0}),n.prototype.save=function(e,t){if(this._saveProcess(e),typeof t>"u")return e.stream.buffer;e.stream.save(t)},n.prototype._saveProcess=function(e){this.saveHead(e),this.mappedReferences=null,this.objects.clear(),this.markTrailerReferences(),this.saveObjects(e);var t=this.count,i=e.position;this.registerObject(0,new gn(0,-1),!0);var r=0;e.write(D.xref),e.write(D.newLine),this.saveSections(e),this.saveTrailer(e,this.count,r),this.saveTheEndess(e,i),this.count=t;for(var s=0;s<this.objectCollection.count;++s){var a=this.objectCollection.items(s);a.object.isSaving=!1}},n.prototype._save=function(e){return this._saveProcess(e),new Uint8Array(e.stream.buffer.buffer)},n.prototype.saveTheEndess=function(e,t){e.write(D.newLine+D.startxref+D.newLine),e.write(t.toString()+D.newLine),e.write(D.eof+D.newLine)},n.prototype.saveTrailer=function(e,t,i){e.write(D.trailer+D.newLine);var r=this.trailer;r.items.setValue(this.dictionaryProperties.size,new Z(this.objectCount+1)),r=new ve(r),r.setEncrypt(!1),r.save(e)},n.prototype.saveSections=function(e){var t=0,i=0;do i=this.prepareSubsection(t),this.saveSubsection(e,t,i),t+=i;while(i!==0)},n.prototype.saveSubsection=function(e,t,i){if(!(i<=0||t>=this.count)){e.write(t+" "+(i+1)+D.newLine);for(var r=t;r<=t+i;++r){var s=this.objects.getValue(r),a="";s.type===nr.Free?a=this.getItem(s.offset,65535,!0):a=this.getItem(s.offset,s.generation,!1),e.write(a)}}},n.prototype.getItem=function(e,t,i){var r="",s=10-e.toString().length;t<=0&&(t=0);for(var a=5-t.toString().length<=0?0:5-t.toString().length,o=0;o<s;o++)r=r+"0";r=r+e.toString()+" ";for(var o=0;o<a;o++)r=r+"0";return r=r+t.toString()+" ",r=r+(i?D.f:D.n)+D.newLine,r},n.prototype.prepareSubsection=function(e){for(var t=0,i,r=this.count,s=0;s<this.document.pdfObjects.count;s++){var a=this.document.pdfObjects.items(s).reference,o=a.toString();o.split(" ")}if(e>=r)return t;for(i=e;i<r;++i)break;for(e=i;i<r;++i)++t;return t},n.prototype.markTrailerReferences=function(){this.trailer.items.keys(),this.trailer.items.values()},n.prototype.saveHead=function(e){var t=this.generateFileVersion(e.document);e.write("%PDF-"+t),e.write(D.newLine)},n.prototype.generateFileVersion=function(e){var t=4,i="1."+t.toString();return i},n.prototype.getReference=function(e,t){if(typeof t>"u"){var i=!1;return this.getReference(e,i)}else return this.getSubReference(e,t)},n.prototype.getSubReference=function(e,t){var i=!1,r,s=null;if(this.items.count>0&&e.objectCollectionIndex>0&&this.items.count>e.objectCollectionIndex-1){var a=this.document.pdfObjects.getReference(e,r);s=a.reference,r=a.wasNew}if(s==null?e.status===rr.Registered?r=!1:r=!0:r=!1,s==null){var o=this.nextObjNumber;s=new gn(o,0);var l=void 0;if(r){this.document.pdfObjects.add(e),this.document.pdfObjects.trySetReference(e,s,l);var h=this.document.pdfObjects.count-1,u=this.document.pdfObjects.objectCollections[h].reference.objNumber,c=this.document.pdfObjects.objectCollections[this.document.pdfObjects.count-1];this.document.pdfObjects.mainObjectCollection.setValue(u,c),e.position=-1}else this.document.pdfObjects.trySetReference(e,s,l);e.objectCollectionIndex=s.objNumber,e.status=rr.None,i=!0}return i||this.bForceNew,s},n.prototype.saveObjects=function(e){for(var t=this.objectCollection,i=0;i<t.count;++i){var r=t.items(i),s=r.object;s.isSaving=!0,this.saveIndirectObject(s,e)}},n.prototype.saveIndirectObject=function(e,t){var i=this.getReference(e);e instanceof $a&&this.trailer.items.setValue(this.dictionaryProperties.root,i),this.pdfDocument.currentSavingObj=i,e.getArchive(),this.registerObject(t.position,i),this.doSaveObject(e,i,t)},n.prototype.doSaveObject=function(e,t,i){i.write(t.objNumber.toString()),i.write(D.whiteSpace),i.write(t.genNumber.toString()),i.write(D.whiteSpace),i.write(D.obj),i.write(D.newLine),e.save(i),i.write(D.endObj),i.write(D.newLine)},n.prototype.registerObject=function(e,t,i){typeof i=="boolean"?(this.objects.setValue(t.objNumber,new Es(e,t,i)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber)):typeof i>"u"&&(this.objects.setValue(t.objNumber,new Es(e,t)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber))},n.dereference=function(e){var t=e;return t!=null&&(e=t.object),e},n}(),Es=function(){function n(e,t,i){var r=e;this.offsetNumber=r;var s=t;this.generation=s.genNumber,this.object=s.objNumber,typeof i>"u"?this.type=nr.Normal:this.type=nr.Free}return Object.defineProperty(n.prototype,"objectNumber",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offset",{get:function(){var e;return e=this.offsetNumber,e},enumerable:!0,configurable:!0}),n}(),su=function(){function n(){}return n.letter=new X(612,792),n.note=new X(540,720),n.legal=new X(612,1008),n.a0=new X(2380,3368),n.a1=new X(1684,2380),n.a2=new X(1190,1684),n.a3=new X(842,1190),n.a4=new X(595,842),n.a5=new X(421,595),n.a6=new X(297,421),n.a7=new X(210,297),n.a8=new X(148,210),n.a9=new X(105,148),n.a10=new X(74,105),n.b0=new X(2836,4008),n.b1=new X(2004,2836),n.b2=new X(1418,2004),n.b3=new X(1002,1418),n.b4=new X(709,1002),n.b5=new X(501,709),n.archE=new X(2592,3456),n.archD=new X(1728,2592),n.archC=new X(1296,1728),n.archB=new X(864,1296),n.archA=new X(648,864),n.flsa=new X(612,936),n.halfLetter=new X(396,612),n.letter11x17=new X(792,1224),n.ledger=new X(1224,792),n}(),li;(function(n){n[n.Portrait=0]="Portrait",n[n.Landscape=1]="Landscape"})(li||(li={}));var bn;(function(n){n[n.RotateAngle0=0]="RotateAngle0",n[n.RotateAngle90=1]="RotateAngle90",n[n.RotateAngle180=2]="RotateAngle180",n[n.RotateAngle270=3]="RotateAngle270"})(bn||(bn={}));var Ls;(function(n){n[n.None=0]="None",n[n.Numeric=1]="Numeric",n[n.LowerLatin=2]="LowerLatin",n[n.LowerRoman=3]="LowerRoman",n[n.UpperLatin=4]="UpperLatin",n[n.UpperRoman=5]="UpperRoman"})(Ls||(Ls={}));var Ee;(function(n){n[n.None=0]="None",n[n.Bottom=1]="Bottom",n[n.Top=2]="Top",n[n.Left=3]="Left",n[n.Right=4]="Right",n[n.Fill=5]="Fill"})(Ee||(Ee={}));var ee;(function(n){n[n.None=0]="None",n[n.TopLeft=1]="TopLeft",n[n.TopCenter=2]="TopCenter",n[n.TopRight=3]="TopRight",n[n.MiddleLeft=4]="MiddleLeft",n[n.MiddleCenter=5]="MiddleCenter",n[n.MiddleRight=6]="MiddleRight",n[n.BottomLeft=7]="BottomLeft",n[n.BottomCenter=8]="BottomCenter",n[n.BottomRight=9]="BottomRight"})(ee||(ee={}));var ie;(function(n){n[n.None=0]="None",n[n.Top=1]="Top",n[n.Bottom=2]="Bottom",n[n.Left=3]="Left",n[n.Right=4]="Right"})(ie||(ie={}));var au=function(){function n(){this.pdfMargin=40,this.setMargins(this.pdfMargin)}return Object.defineProperty(n.prototype,"left",{get:function(){return this.leftMargin},set:function(e){this.leftMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.topMargin},set:function(e){this.topMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.rightMargin},set:function(e){this.rightMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.bottomMargin},set:function(e){this.bottomMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"all",{set:function(e){this.setMargins(e)},enumerable:!0,configurable:!0}),n.prototype.setMargins=function(e,t,i,r){typeof t>"u"?this.leftMargin=this.topMargin=this.rightMargin=this.bottomMargin=e:typeof i>"u"?(this.leftMargin=this.rightMargin=e,this.bottomMargin=this.topMargin=t):(this.leftMargin=e,this.topMargin=t,this.rightMargin=i,this.bottomMargin=r)},n.prototype.clone=function(){return this},n}(),ou=function(){function n(e){this.pageMargins=new au,this.pageSize=su.a4,this.rotateAngle=bn.RotateAngle0,this.pageOrientation=li.Portrait,this.pageOrigin=new oe(0,0),this.isRotation=!1,typeof e=="number"&&this.pageMargins.setMargins(e)}return Object.defineProperty(n.prototype,"size",{get:function(){return this.pageSize},set:function(e){this.setSize(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(e){this.pageOrientation!==e&&(this.pageOrientation=e,this.updateSize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"margins",{get:function(){return this.pageMargins},set:function(e){this.pageMargins=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.pageSize.width},set:function(e){this.pageSize.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.pageSize.height},set:function(e){this.pageSize.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"origin",{get:function(){return this.pageOrigin},set:function(e){this.pageOrigin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotate",{get:function(){return this.rotateAngle},set:function(e){this.rotateAngle=e,this.isRotation=!0},enumerable:!0,configurable:!0}),n.prototype.updateSize=function(e){var t=Math.min(this.pageSize.width,this.pageSize.height),i=Math.max(this.pageSize.width,this.pageSize.height);switch(e){case li.Portrait:this.pageSize=new X(t,i);break;case li.Landscape:this.pageSize=new X(i,t);break}},n.prototype.clone=function(){var e=this;return e.pageMargins=this.pageMargins.clone(),e},n.prototype.getActualSize=function(){var e=this.width-(this.margins.left+this.margins.right),t=this.height-(this.margins.top+this.margins.bottom),i=new X(e,t);return i},n.prototype.setSize=function(e){var t=Math.min(e.width,e.height),i=Math.max(e.width,e.height);this.orientation===li.Portrait?this.pageSize=new X(t,i):this.pageSize=new X(i,t)},n}(),Ps=function(){function n(e){if(e==null)throw new Error("ArgumentNullException:stream");this.stream=e}return n.prototype.clear=function(){this.stream.clearStream()},n.prototype.setGraphicsState=function(e){e instanceof Q?(this.stream.write(e.toString()),this.stream.write(D.whiteSpace),this.writeOperator(D.setGraphicsState)):(this.stream.write(D.slash),this.stream.write(e),this.stream.write(D.whiteSpace),this.writeOperator(D.setGraphicsState))},n.prototype.executeObject=function(e){this.stream.write(e.toString()),this.stream.write(D.whiteSpace),this.writeOperator(D.paintXObject),this.stream.write(D.newLine)},n.prototype.closePath=function(){this.writeOperator(D.closePath)},n.prototype.clipPath=function(e){this.stream.write(D.clipPath),e&&this.stream.write(D.evenOdd),this.stream.write(D.whiteSpace),this.stream.write(D.endPath),this.stream.write(D.newLine)},n.prototype.closeFillStrokePath=function(e){this.stream.write(D.closeFillStrokePath),e?(this.stream.write(D.evenOdd),this.stream.write(D.newLine)):this.stream.write(D.newLine)},n.prototype.fillStrokePath=function(e){this.stream.write(D.fillStroke),e?(this.stream.write(D.evenOdd),this.stream.write(D.newLine)):this.stream.write(D.newLine)},n.prototype.fillPath=function(e){this.stream.write(D.fill),e?(this.stream.write(D.evenOdd),this.stream.write(D.newLine)):this.stream.write(D.newLine)},n.prototype.endPath=function(){this.writeOperator(D.n)},n.prototype.closeFillPath=function(e){this.writeOperator(D.closePath),this.stream.write(D.fill),e?(this.stream.write(D.evenOdd),this.stream.write(D.newLine)):this.stream.write(D.newLine)},n.prototype.closeStrokePath=function(){this.writeOperator(D.closeStrokePath)},n.prototype.setTextScaling=function(e){this.stream.write(Z.floatToString(e)),this.stream.write(D.whiteSpace),this.writeOperator(D.setTextScaling)},n.prototype.strokePath=function(){this.writeOperator(D.stroke)},n.prototype.restoreGraphicsState=function(){this.writeOperator(D.restoreState)},n.prototype.saveGraphicsState=function(){this.writeOperator(D.saveState)},n.prototype.startNextLine=function(e,t){typeof e>"u"?this.writeOperator(D.goToNextLine):e instanceof oe?(this.writePoint(e),this.writeOperator(D.setCoords)):(this.writePoint(e,t),this.writeOperator(D.setCoords))},n.prototype.showText=function(e){this.checkTextParam(e),this.writeText(e),this.writeOperator(D.setText)},n.prototype.setLeading=function(e){this.stream.write(Z.floatToString(e)),this.stream.write(D.whiteSpace),this.writeOperator(D.setTextLeading)},n.prototype.beginPath=function(e,t){this.writePoint(e,t),this.writeOperator(D.beginPath)},n.prototype.beginText=function(){this.writeOperator(D.beginText)},n.prototype.endText=function(){this.writeOperator(D.endText)},n.prototype.appendRectangle=function(e,t,i,r){e instanceof me?this.appendRectangle(e.x,e.y,e.width,e.height):(this.writePoint(e,t),this.writePoint(i,r),this.writeOperator(D.appendRectangle))},n.prototype.appendLineSegment=function(e,t){e instanceof oe?this.appendLineSegment(e.x,e.y):(this.writePoint(e,t),this.writeOperator(D.appendLineSegment))},n.prototype.setTextRenderingMode=function(e){this.stream.write(e.toString()),this.stream.write(D.whiteSpace),this.writeOperator(D.setRenderingMode)},n.prototype.setCharacterSpacing=function(e){this.stream.write(Z.floatToString(e)),this.stream.write(D.whiteSpace),this.stream.write(D.setCharacterSpace),this.stream.write(D.newLine)},n.prototype.setWordSpacing=function(e){this.stream.write(Z.floatToString(e)),this.stream.write(D.whiteSpace),this.writeOperator(D.setWordSpace)},n.prototype.showNextLineText=function(e,t){e instanceof Ze?(this.checkTextParam(e),this.writeText(e),this.writeOperator(D.setTextOnNewLine)):(this.checkTextParam(e),this.writeText(e,t),this.writeOperator(D.setTextOnNewLine))},n.prototype.setColorSpace=function(e,t){if(e instanceof Q&&typeof t=="boolean"){var i=e,r=t,s=r?D.selectcolorspaceforstroking:D.selectcolorspacefornonstroking;this.stream.write(i.toString()),this.stream.write(D.whiteSpace),this.stream.write(s),this.stream.write(D.newLine)}else{var i=e,r=t;this.setColorSpace(new Q(i),r)}},n.prototype.modifyCtm=function(e){if(e==null)throw new Error("ArgumentNullException:matrix");this.stream.write(e.toString()),this.stream.write(D.whiteSpace),this.writeOperator(D.modifyCtm)},n.prototype.setFont=function(e,t,i){if(typeof t=="string")this.setFont(e,new Q(t),i);else{if(e==null)throw new Error("ArgumentNullException:font");this.stream.write(t.toString()),this.stream.write(D.whiteSpace),this.stream.write(Z.floatToString(i)),this.stream.write(D.whiteSpace),this.writeOperator(D.setFont)}},n.prototype.writeOperator=function(e){this.stream.write(e),this.stream.write(D.newLine)},n.prototype.checkTextParam=function(e){if(e==null)throw new Error("ArgumentNullException:text");if(typeof e=="string"&&e==="")throw new Error("ArgumentException:The text can not be an empty string, text")},n.prototype.writeText=function(e,t){if(e instanceof Ze&&typeof t>"u")this.stream.write(e.pdfEncode());else{var i=void 0,r=void 0;t?(i=Ze.hexStringMark[0],r=Ze.hexStringMark[1]):(i=Ze.stringMark[0],r=Ze.stringMark[1]),this.stream.write(i),this.stream.write(e),this.stream.write(r)}},n.prototype.writePoint=function(e,t){if(e instanceof oe&&typeof t>"u")this.writePoint(e.x,e.y);else{var i=e;this.stream.write(Z.floatToString(i)),this.stream.write(D.whiteSpace),t=this.updateY(t),this.stream.write(Z.floatToString(t)),this.stream.write(D.whiteSpace)}},n.prototype.updateY=function(e){return-e},n.prototype.write=function(e){var t="";t+=e,t+=D.newLine,this.writeOperator(t)},n.prototype.writeComment=function(e){if(e!=null&&e.length>0){var t="";t+=D.comment,t+=D.whiteSpace,t+=e,this.writeOperator(t)}else throw new Error("Invalid comment")},n.prototype.setColorAndSpace=function(e,t,i){e.isEmpty||(this.stream.write(e.toString(t,i)),this.stream.write(D.newLine))},n.prototype.setLineDashPattern=function(e,t){this.setLineDashPatternHelper(e,t)},n.prototype.setLineDashPatternHelper=function(e,t){var i="[";if(e.length>1)for(var r=0;r<e.length;r++)r===e.length-1?i+=e[r].toString():i+=e[r].toString()+" ";i+="] ",i+=t.toString(),i+=" "+D.setDashPattern,this.stream.write(i),this.stream.write(D.newLine)},n.prototype.setMiterLimit=function(e){this.stream.write(Z.floatToString(e)),this.stream.write(D.whiteSpace),this.writeOperator(D.setMiterLimit)},n.prototype.setLineWidth=function(e){this.stream.write(Z.floatToString(e)),this.stream.write(D.whiteSpace),this.writeOperator(D.setLineWidth)},n.prototype.setLineCap=function(e){this.stream.write(e.toString()),this.stream.write(D.whiteSpace),this.writeOperator(D.setLineCapStyle)},n.prototype.setLineJoin=function(e){this.stream.write(e.toString()),this.stream.write(D.whiteSpace),this.writeOperator(D.setLineJoinStyle)},Object.defineProperty(n.prototype,"position",{get:function(){return this.stream.position},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){var e=0;if(this.stream.data.length!==0&&this.stream.data.length!==-1)for(var t=0;t<this.stream.data.length;t++)e+=this.stream.data[t].length;return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"document",{get:function(){return null},enumerable:!0,configurable:!0}),n.prototype.appendBezierSegment=function(e,t,i,r,s,a){e instanceof oe&&t instanceof oe&&i instanceof oe?(this.writePoint(e.x,e.y),this.writePoint(t.x,t.y),this.writePoint(i.x,i.y)):(this.writePoint(e,t),this.writePoint(i,r),this.writePoint(s,a)),this.writeOperator(D.appendbeziercurve)},n.prototype.setColourWithPattern=function(e,t,i){if(e!=null){var r=e.length,s=0;for(s=0;s<r;++s)this.stream.write(e[s].toString()),this.stream.write(D.whiteSpace)}t!=null&&(this.stream.write(t.toString()),this.stream.write(D.whiteSpace)),i?this.writeOperator(D.setColorAndPatternStroking):this.writeOperator(D.setColorAndPattern)},n}(),wr=function(){function n(e,t){this.pdfColor=new ui(0,0,0),this.dashOffsetValue=0,this.penDashPattern=[0],this.pdfDashStyle=xt.Solid,this.pdfLineCap=0,this.pdfLineJoin=0,this.penWidth=1,this.internalMiterLimit=0,this.colorSpace=Ae.Rgb,e instanceof ci?this.setBrush(e):e instanceof ui&&(this.color=e),typeof t=="number"&&(this.width=t)}return Object.defineProperty(n.prototype,"color",{get:function(){return this.pdfColor},set:function(e){this.pdfColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dashOffset",{get:function(){return typeof this.dashOffsetValue>"u"||this.dashOffsetValue==null?0:this.dashOffsetValue},set:function(e){this.dashOffsetValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dashPattern",{get:function(){return this.penDashPattern},set:function(e){this.penDashPattern=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dashStyle",{get:function(){return this.pdfDashStyle},set:function(e){if(this.pdfDashStyle!==e)switch(this.pdfDashStyle=e,this.pdfDashStyle){case xt.Custom:break;case xt.Dash:this.penDashPattern=[3,1];break;case xt.Dot:this.penDashPattern=[1,1];break;case xt.DashDot:this.penDashPattern=[3,1,1,1];break;case xt.DashDotDot:this.penDashPattern=[3,1,1,1,1,1];break;case xt.Solid:break;default:this.pdfDashStyle=xt.Solid,this.penDashPattern=[0];break}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineCap",{get:function(){return this.pdfLineCap},set:function(e){this.pdfLineCap=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this.pdfLineJoin},set:function(e){this.pdfLineJoin=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"miterLimit",{get:function(){return this.internalMiterLimit},set:function(e){this.internalMiterLimit=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.penWidth},set:function(e){this.penWidth=e},enumerable:!0,configurable:!0}),n.prototype.clone=function(){var e=this;return e},n.prototype.setBrush=function(e){var t=e;t!=null&&t instanceof Fi&&(this.color=t.color,this.pdfBrush=t),this.color=t.color,this.pdfBrush=t},n.prototype.monitorChanges=function(e,t,i,r,s,a){var o=!1;r=!0,e==null&&(o=!0),o=this.dashControl(e,r,t),t.setLineWidth(this.width),t.setLineJoin(this.lineJoin),t.setLineCap(this.lineCap);var l=this.miterLimit;return l>0&&(t.setMiterLimit(l),o=!0),this.pdfBrush,t.setColorAndSpace(this.color,s,!0),o=!0,o},n.prototype.dashControl=function(e,t,i){t=!0;var r=this.width,s=this.getPattern();return i.setLineDashPattern(s,this.dashOffset*r),t},n.prototype.getPattern=function(){for(var e=this.dashPattern,t=0;t<e.length;++t)e[t]*=this.width;return e},n}(),Ot=function(){function n(e){this.radDegFactor=180/Math.PI,typeof e>"u"?this.transformationMatrix=new wn(1,0,0,1,0,0):this.transformationMatrix=new wn(1,0,0,-1,0,0)}return Object.defineProperty(n.prototype,"matrix",{get:function(){return this.transformationMatrix},set:function(e){this.transformationMatrix=e},enumerable:!0,configurable:!0}),n.prototype.translate=function(e,t){this.transformationMatrix.translate(e,t)},n.prototype.scale=function(e,t){this.transformationMatrix.elements[0]=e,this.transformationMatrix.elements[3]=t},n.prototype.rotate=function(e){e=e*Math.PI/180,this.transformationMatrix.elements[0]=Math.cos(e),this.transformationMatrix.elements[1]=Math.sin(e),this.transformationMatrix.elements[2]=-Math.sin(e),this.transformationMatrix.elements[3]=Math.cos(e)},n.prototype.toString=function(){for(var e="",t=" ",i=0,r=this.transformationMatrix.elements.length;i<r;i++)this.matrix.elements[i],e+=Z.floatToString(this.transformationMatrix.elements[i]),e+=t;return e},n.prototype.multiply=function(e){this.transformationMatrix.multiply(e.matrix)},n.degreesToRadians=function(e){return this.degRadFactor*e},n.prototype.radiansToDegrees=function(e){return this.radDegFactor*e},n.prototype.clone=function(){return this},n.degRadFactor=Math.PI/180,n}(),wn=function(){function n(e,t,i,r,s,a){typeof e>"u"?this.metrixElements=[]:typeof e=="number"?(this.metrixElements=[],this.metrixElements.push(e),this.metrixElements.push(t),this.metrixElements.push(i),this.metrixElements.push(r),this.metrixElements.push(s),this.metrixElements.push(a)):this.metrixElements=e}return Object.defineProperty(n.prototype,"elements",{get:function(){return this.metrixElements},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offsetX",{get:function(){return this.metrixElements[4]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offsetY",{get:function(){return this.metrixElements[5]},enumerable:!0,configurable:!0}),n.prototype.translate=function(e,t){this.metrixElements[4]=e,this.metrixElements[5]=t},n.prototype.transform=function(e){var t=e.x,i=e.y,r=t*this.elements[0]+i*this.elements[2]+this.offsetX,s=t*this.elements[1]+i*this.elements[3]+this.offsetY;return new oe(r,s)},n.prototype.multiply=function(e){var t=[];t.push(this.elements[0]*e.elements[0]+this.elements[1]*e.elements[2]),t[1]=this.elements[0]*e.elements[1]+this.elements[1]*e.elements[3],t[2]=this.elements[2]*e.elements[0]+this.elements[3]*e.elements[2],t[3]=this.elements[2]*e.elements[1]+this.elements[3]*e.elements[3],t[4]=this.offsetX*e.elements[0]+this.offsetY*e.elements[2]+e.offsetX,t[5]=this.offsetX*e.elements[1]+this.offsetY*e.elements[3]+e.offsetY;for(var i=0;i<t.length;i++)this.elements[i]=t[i]},n.prototype.dispose=function(){this.metrixElements=null},n.prototype.clone=function(){var e=new n(this.metrixElements);return e},n}(),lu=function(){function n(){this.pdf="PDF",this.text="Text",this.imageB="ImageB",this.imageC="ImageC",this.imageI="ImageI"}return n}(),qa=function(){function n(){this.mKeys=[],this.mValues=[]}return n.prototype.size=function(){return this.mKeys.length},n.prototype.add=function(e,t){if(e==null||t===void 0||t===null)throw new ReferenceError("Provided key or value is not valid.");var i=this.mKeys.indexOf(e);if(i<0)return this.mKeys.push(e),this.mValues.push(t),1;throw new RangeError("An item with the same key has already been added.")},n.prototype.keys=function(){return this.mKeys},n.prototype.values=function(){return this.mValues},n.prototype.getValue=function(e){if(e==null)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mValues[t]},n.prototype.setValue=function(e,t){if(e==null)throw new ReferenceError("Provided key is not valid.");var i=this.mKeys.indexOf(e);i<0?(this.mKeys.push(e),this.mValues.push(t)):this.mValues[i]=t},n.prototype.remove=function(e){if(e==null)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mKeys.splice(t,1),this.mValues.splice(t,1),!0},n.prototype.containsKey=function(e){if(e==null)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);return!(t<0)},n.prototype.clear=function(){this.mKeys=[],this.mValues=[]},n}(),Sn=function(){function n(e,t,i){this.dictionary=new ve,this.dictionaryProperties=new Me,this.dictionary.items.setValue(this.dictionaryProperties.CA,new Z(e)),this.dictionary.items.setValue(this.dictionaryProperties.ca,new Z(t)),this.dictionary.items.setValue(this.dictionaryProperties.BM,new Q(i.toString()))}return Object.defineProperty(n.prototype,"element",{get:function(){return this.dictionary},enumerable:!0,configurable:!0}),n}(),hu=function(){function n(){this.automaticFieldsInformation=[]}return Object.defineProperty(n.prototype,"automaticFields",{get:function(){return this.automaticFieldsInformation},enumerable:!0,configurable:!0}),n.prototype.add=function(e){return this.automaticFields.push(e)},n}(),uu=function(){function n(){}return n.prototype.drawHelper=function(e,t,i){var r=t!==0||i!==0,s=null;r&&(s=e.save(),e.translateTransform(t,i)),this.drawInternal(e),r&&e.restore(s)},n}(),cu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fu=function(n){cu(e,n);function e(){var t=n.call(this)||this;return t.internalBounds=new me(0,0,0,0),t.internalTemplateSize=new X(0,0),t}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.internalBounds},set:function(t){this.internalBounds=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return new X(this.bounds.width,this.bounds.height)},set:function(t){this.bounds.width=t.width,this.bounds.height=t.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return new oe(this.bounds.x,this.bounds.y)},set:function(t){this.bounds.x=t.x,this.bounds.y=t.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.internalFont},set:function(t){this.internalFont=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brush",{get:function(){return this.internalBrush},set:function(t){this.internalBrush=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pen",{get:function(){return this.internalPen},set:function(t){this.internalPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringFormat",{get:function(){return this.internalStringFormat},set:function(t){this.internalStringFormat=t},enumerable:!0,configurable:!0}),e.prototype.performDrawHelper=function(t,i,r,s){if(this.bounds.height===0||this.bounds.width===0){var a=this.getValue(t);this.internalTemplateSize=this.getFont().measureString(a,this.size,this.stringFormat)}},e.prototype.draw=function(t,i,r){if(typeof i>"u"){var s=new oe(0,0);this.draw(t,s)}else if(i instanceof oe)this.draw(t,i.x,i.y);else{this.drawHelper(t,i,r);var a=new Za(this,new oe(i,r));t.automaticFields.add(a)}},e.prototype.getSize=function(){return this.bounds.height===0||this.bounds.width===0?this.internalTemplateSize:this.size},e.prototype.drawInternal=function(t){},e.prototype.getBrush=function(){return typeof this.internalBrush>"u"||this.internalBrush==null?new Fi(new ui(0,0,0)):this.internalBrush},e.prototype.getFont=function(){return typeof this.internalFont>"u"||this.internalFont==null?Ur.defaultFont:this.internalFont},e.prototype.getPageFromGraphics=function(t){if(typeof t.page<"u"&&t.page!==null){var i=t.page;return i}else{var i=t.currentPage;return i}},e}(uu),Za=function(){function n(e,t,i,r){this.pageNumberFieldLocation=new oe,this.pageNumberField=null,this.scaleX=1,this.scaleY=1,typeof t>"u"&&e instanceof n?(this.pageNumberField=e.field,this.pageNumberFieldLocation=e.location,this.scaleX=e.scalingX,this.scaleY=e.scalingY):typeof i>"u"&&t instanceof oe&&e instanceof fu?(this.pageNumberField=e,this.pageNumberFieldLocation=t):(this.pageNumberField=e,this.pageNumberFieldLocation=t,this.scaleX=i,this.scaleY=r)}return Object.defineProperty(n.prototype,"location",{get:function(){return this.pageNumberFieldLocation},set:function(e){this.pageNumberFieldLocation=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"field",{get:function(){return this.pageNumberField},set:function(e){this.pageNumberField=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingX",{get:function(){return this.scaleX},set:function(e){this.scaleX=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scalingY",{get:function(){return this.scaleY},set:function(e){this.scaleY=e},enumerable:!0,configurable:!0}),n}(),Zi=function(){function n(e){this.mPosition=0,this.buffer=new Uint8Array(e),this.dataView=new DataView(this.buffer.buffer)}return Object.defineProperty(n.prototype,"position",{get:function(){return this.mPosition},set:function(e){this.mPosition=e},enumerable:!0,configurable:!0}),n.prototype.read=function(e,t,i){for(var r=t;r<i;r++){var s=this.position;e.buffer[r]=this.readByte(s),this.position++}},n.prototype.getBuffer=function(e){return this.buffer[e]},n.prototype.writeFromBase64String=function(e){var t=this.encodedString(e);this.buffer=t},n.prototype.encodedString=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,r,s,a,o,l,h,u=0,c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var f=e.length*3/4;e.charAt(e.length-1)===t.charAt(64)&&f--;for(var d=new Uint8Array(f|0);u<e.length;)a=t.indexOf(e.charAt(u++)),o=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),h=t.indexOf(e.charAt(u++)),i=a<<2|o>>4,r=(o&15)<<4|l>>2,s=(l&3)<<6|h,d[c++]=i,d[c++]=r,d[c++]=s;return d},n.prototype.readByte=function(e){return this.buffer[e]},Object.defineProperty(n.prototype,"internalBuffer",{get:function(){return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this.buffer.byteLength},enumerable:!0,configurable:!0}),n.prototype.readNextTwoBytes=function(e){var t=e.readByte(this.position);return this.position++,t<<=8,t|=e.readByte(this.position),this.position++,t},n}(),Ei;(function(n){n[n.Unknown=0]="Unknown",n[n.Bmp=1]="Bmp",n[n.Emf=2]="Emf",n[n.Gif=3]="Gif",n[n.Jpeg=4]="Jpeg",n[n.Png=5]="Png",n[n.Wmf=6]="Wmf",n[n.Icon=7]="Icon"})(Ei||(Ei={}));var du=function(){function n(e){this.sof1Marker=193,this.sof2Marker=194,this.sof3Marker=195,this.sof5Marker=197,this.sof6Marker=198,this.sof7Marker=199,this.sof9Marker=201,this.sof10Marker=202,this.sof11Marker=203,this.sof13Marker=205,this.sof14Marker=206,this.sof15Marker=207,this.mFormat=Ei.Unknown,this.mbitsPerComponent=8,this.dictionaryProperties=new Me,this.mStream=e,this.initialize()}return Object.defineProperty(n.prototype,"height",{get:function(){return this.mHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.mWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bitsPerComponent",{get:function(){return this.mbitsPerComponent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.mImageData.count},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageData",{get:function(){return this.mImageData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageDataAsNumberArray",{get:function(){return this.mImageData.internalBuffer.buffer},enumerable:!0,configurable:!0}),n.prototype.initialize=function(){if(this.mFormat===Ei.Unknown&&this.checkIfJpeg())this.mFormat=Ei.Jpeg,this.parseJpegImage();else throw new TypeError("Only the JPEG format is supported");this.reset(),this.mImageData=new Zi(this.mStream.count),this.mStream.read(this.mImageData,0,this.mImageData.count)},n.prototype.reset=function(){this.mStream.position=0},n.prototype.parseJpegImage=function(){this.reset();var e=new Zi(this.mStream.count);this.mStream.read(e,0,e.count);for(var t=4,i=!1,r=e.getBuffer(t)*256+e.getBuffer(t+1);t<e.count;)if(t+=r,t<e.count)if(e.getBuffer(t+1)===192){this.mHeight=e.getBuffer(t+5)*256+e.getBuffer(t+6),this.mWidth=e.getBuffer(t+7)*256+e.getBuffer(t+8);return}else t+=2,r=e.getBuffer(t)*256+e.getBuffer(t+1);else{i=!0;break}i&&(this.mStream.position=0,this.skip(this.mStream,2),this.readExceededJPGImage(this.mStream))},Object.defineProperty(n.prototype,"format",{get:function(){return this.mFormat},enumerable:!0,configurable:!0}),n.prototype.checkIfJpeg=function(){this.reset();for(var e=0;e<n.mJpegHeader.length;e++){if(n.mJpegHeader[e]!==this.mStream.readByte(e))return!1;this.mStream.position++}return!0},n.prototype.getImageDictionary=function(){if(this.mFormat===Ei.Jpeg){this.imageData.internalBuffer.length,this.imageStream=new rt,this.imageStream.isResource=!0;for(var e="",t="",i=0;i<this.imageDataAsNumberArray.byteLength;i++)e+=String.fromCharCode(null,this.mStream.readByte(i));for(var i=0;i<e.length;i++)i%2!==0&&(t+=e[i]);return this.imageStream.data=[t],this.imageStream.compress=!1,this.imageStream.items.setValue(this.dictionaryProperties.type,new Q(this.dictionaryProperties.xObject)),this.imageStream.items.setValue(this.dictionaryProperties.subtype,new Q(this.dictionaryProperties.image)),this.imageStream.items.setValue(this.dictionaryProperties.width,new Z(this.width)),this.imageStream.items.setValue(this.dictionaryProperties.height,new Z(this.height)),this.imageStream.items.setValue(this.dictionaryProperties.bitsPerComponent,new Z(this.bitsPerComponent)),this.imageStream.items.setValue(this.dictionaryProperties.filter,new Q(this.dictionaryProperties.dctdecode)),this.imageStream.items.setValue(this.dictionaryProperties.colorSpace,new Q(this.getColorSpace())),this.imageStream.items.setValue(this.dictionaryProperties.decodeParms,this.getDecodeParams()),this.imageStream}else return this.imageStream},n.prototype.getColorSpace=function(){return this.dictionaryProperties.deviceRgb},n.prototype.getDecodeParams=function(){var e=new ve;return e.items.setValue(this.dictionaryProperties.columns,new Z(this.width)),e.items.setValue(this.dictionaryProperties.blackIs1,new zt(!0)),e.items.setValue(this.dictionaryProperties.k,new Z(-1)),e.items.setValue(this.dictionaryProperties.predictor,new Z(15)),e.items.setValue(this.dictionaryProperties.bitsPerComponent,new Z(this.bitsPerComponent)),e},n.prototype.readExceededJPGImage=function(e){this.mStream=e;for(var t=!0;t;){var i=this.getMarker(e);switch(i){case this.sof1Marker:case this.sof2Marker:case this.sof3Marker:case this.sof5Marker:case this.sof6Marker:case this.sof7Marker:case this.sof9Marker:case this.sof10Marker:case this.sof11Marker:case this.sof13Marker:case this.sof14Marker:case this.sof15Marker:e.position+=3,this.mHeight=this.mStream.readNextTwoBytes(e),this.mWidth=this.mStream.readNextTwoBytes(e),t=!1;break;default:this.skipStream(e);break}}},n.prototype.skip=function(e,t){this.mStream=e;var i=new Zi(t);this.mStream.read(i,0,i.count)},n.prototype.getMarker=function(e){var t=32;for(t=e.readByte(this.mStream.position),e.position++;t!==255;)t=e.readByte(this.mStream.position),e.position++;do t=e.readByte(this.mStream.position),e.position++;while(t===255);return t},n.prototype.skipStream=function(e){var t=this.mStream.readNextTwoBytes(e)-2;t>0&&(e.position+=t)},n.mPngHeader=[137,80,78,71,13,10,26,10],n.mJpegHeader=[255,216],n.GIF_HEADER="G,I,F,8",n.BMP_HEADER="B,M",n}(),Sr=function(){function n(e){this.updateProportionsHelper(e)}return n.prototype.convertUnits=function(e,t,i){return this.convertFromPixels(this.convertToPixels(e,t),i)},n.prototype.convertToPixels=function(e,t){var i=t,r=e*this.proportions[i];return r},n.prototype.convertFromPixels=function(e,t){var i=t,r=e/this.proportions[i];return r},n.prototype.updateProportionsHelper=function(e){this.proportions=[e/2.54,e/6,1,e/72,e,e/300,e/25.4]},n.horizontalResolution=96,n.verticalResolution=96,n}(),Ka=function(){function n(){}return Object.defineProperty(n.prototype,"width",{get:function(){return this.imageWidth},set:function(e){this.imageWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.imageHeight},set:function(e){this.imageHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{set:function(e){this.width=e.width,this.height=e.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"physicalDimension",{get:function(){return this.imagePhysicalDimension=this.getPointSize(this.width,this.height,this.horizontalResolution,this.verticalResolution),new X(this.width,this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.imageStream},enumerable:!0,configurable:!0}),n.prototype.getPointSize=function(e,t,i,r){if(typeof i>"u"){var s=Sr.horizontalResolution,a=Sr.verticalResolution,o=this.getPointSize(e,t,s,a);return o}else{var l=new Sr(i),h=new Sr(r),u=l.convertUnits(e,Ai.Pixel,Ai.Point),c=h.convertUnits(t,Ai.Pixel,Ai.Point),o=new X(u,c);return o}},n}(),pu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Qa=function(n){pu(e,n);function e(t){var i=n.call(this)||this;return i.imageStatus=!0,i.dictionaryProperties=new Me,i.loadImage(t),i}return e.prototype.loadImage=function(t){this.initializeAsync(t)},e.prototype.initializeAsync=function(t){var i=new Zi(t.length);i.writeFromBase64String(t),this.decoder=new du(i),this.height=this.decoder.height,this.width=this.decoder.width,this.bitsPerComponent=this.decoder.bitsPerComponent},e.prototype.save=function(){this.imageStatus=!0,this.imageStream=this.decoder.getImageDictionary()},e}(Ka),Ms=function(){function n(){}return Object.defineProperty(n.prototype,"empty",{get:function(){var e=this.offset===this.length&&this.length===this.checksum&&this.checksum===0;return e},enumerable:!0,configurable:!0}),n}(),gu=function(){function n(){}return n}(),mu=function(){function n(){}return n}(),vu=function(){function n(){}return n}(),Os=function(){function n(){}return Object.defineProperty(n.prototype,"isItalic",{get:function(){return(this.macStyle&2)!==0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isBold",{get:function(){return(this.macStyle&1)!==0},enumerable:!0,configurable:!0}),n}(),yu=function(){function n(){}return n}(),bu=function(){function n(){}return n}(),wu=function(){function n(){}return n}(),Su=function(){function n(){}return n}(),xu=function(){function n(){}return n}(),Cu=function(){function n(){}return n}(),Ui=function(){function n(){}return Object.defineProperty(n.prototype,"empty",{get:function(){var e=this.index===this.width&&this.width===this.charCode&&this.charCode===0;return e},enumerable:!0,configurable:!0}),n.prototype.compareTo=function(e){var t=e;return this.index-t.index},n}(),Tu=function(){function n(){}return n}(),Au=function(){function n(){}return n}(),Eu=function(){function n(){}return n}(),Lu=function(){function n(){}return n}(),Pu=function(){function n(){}return n}(),ks=function(){function n(e){this.int32Size=4,this.int16Size=2,this.int64Size=8,this.bufferLength=e,this.buffer=[]}return Object.defineProperty(n.prototype,"data",{get:function(){if(this.buffer.length<this.bufferLength)for(var e=this.bufferLength-this.buffer.length,t=0;t<e;t++)this.buffer.push(0);return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"position",{get:function(){return(this.internalPosition===void 0||this.internalPosition===null)&&(this.internalPosition=0),this.internalPosition},enumerable:!0,configurable:!0}),n.prototype.writeShort=function(e){var t=[(e&65280)>>8,e&255];this.flush(t)},n.prototype.writeInt=function(e){var t=[(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255];this.flush(t)},n.prototype.writeUInt=function(e){var t=[(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255];this.flush(t)},n.prototype.writeString=function(e){if(e==null)throw new Error("Argument Null Exception : value");for(var t=[],i=0;i<e.length;i++)t.push(e.charCodeAt(i));this.flush(t)},n.prototype.writeBytes=function(e){this.flush(e)},n.prototype.flush=function(e){if(e===null)throw new Error("Argument Null Exception : buff");for(var t=this.position,i=0;i<e.length;i++)this.buffer[t]=e[i],t++;this.internalPosition+=e.length},n}(),Mu=function(){function n(e){this.int32Size=4,this.isTtcFont=!1,this.isMacTtf=!1,this.metricsName="",this.isMacTTF=!1,this.missedGlyphs=0,this.tableNames=["cvt ","fpgm","glyf","head","hhea","hmtx","loca","maxp","prep"],this.entrySelectors=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4],this.fontData=e,this.initialize()}return Object.defineProperty(n.prototype,"macintosh",{get:function(){return(this.macintoshDictionary===null||this.macintoshDictionary===void 0)&&(this.macintoshDictionary=new xe),this.macintoshDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"microsoft",{get:function(){return(this.microsoftDictionary===null||this.microsoftDictionary===void 0)&&(this.microsoftDictionary=new xe),this.microsoftDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"macintoshGlyphs",{get:function(){return(this.internalMacintoshGlyphs===null||this.internalMacintoshGlyphs===void 0)&&(this.internalMacintoshGlyphs=new xe),this.internalMacintoshGlyphs},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"microsoftGlyphs",{get:function(){return(this.internalMicrosoftGlyphs===null||this.internalMicrosoftGlyphs===void 0)&&(this.internalMicrosoftGlyphs=new xe),this.internalMicrosoftGlyphs},enumerable:!0,configurable:!0}),n.prototype.initialize=function(){this.metrics===void 0&&(this.metrics=new Os),this.readFontDictionary();var e=this.readNameTable(),t=this.readHeadTable();this.initializeFontName(e),this.metrics.macStyle=t.macStyle},n.prototype.readFontDictionary=function(){this.offset=0,this.checkPreambula();var e=this.readInt16(this.offset);this.readInt16(this.offset),this.readInt16(this.offset),this.readInt16(this.offset),this.tableDirectory===void 0&&(this.tableDirectory=new xe);for(var t=0;t<e;++t){var i=new Ms,r=this.readString(this.int32Size);i.checksum=this.readInt32(this.offset),i.offset=this.readInt32(this.offset),i.length=this.readInt32(this.offset),this.tableDirectory.setValue(r,i)}this.lowestPosition=this.offset,this.isTtcFont||this.fixOffsets()},n.prototype.fixOffsets=function(){for(var e=Number.MAX_VALUE,t=this.tableDirectory.keys(),i=0;i<t.length;i++){var r=this.tableDirectory.getValue(t[i]),s=r.offset;if(e>s&&(e=s,e<=this.lowestPosition))break}var a=e-this.lowestPosition;if(a!==0){for(var o=new xe,i=0;i<t.length;i++){var r=this.tableDirectory.getValue(t[i]);r.offset-=a,o.setValue(t[i],r)}this.tableDirectory=o}},n.prototype.checkPreambula=function(){var e=this.readInt32(this.offset);if(this.isMacTtf=e===1953658213,e!==65536&&e!==1953658213&&e!==1330926671){this.isTtcFont=!0,this.offset=0;var t=this.readString(4);if(t!=="ttcf")throw new Error("Can not read TTF font data");this.offset+=4;var i=this.readInt32(this.offset);if(i<0)throw new Error("Can not read TTF font data");this.offset=this.readInt32(this.offset),e=this.readInt32(this.offset)}return e},n.prototype.readNameTable=function(){var e=this.getTable("name");this.offset=e.offset;var t=new gu;t.formatSelector=this.readUInt16(this.offset),t.recordsCount=this.readUInt16(this.offset),t.offset=this.readUInt16(this.offset),t.nameRecords=[];for(var i=12,r=this.offset,s=0;s<t.recordsCount;s++){this.offset=r;var a=new mu;a.platformID=this.readUInt16(this.offset),a.encodingID=this.readUInt16(this.offset),a.languageID=this.readUInt16(this.offset),a.nameID=this.readUInt16(this.offset),a.length=this.readUInt16(this.offset),a.offset=this.readUInt16(this.offset),this.offset=e.offset+t.offset+a.offset;var o=a.platformID===0||a.platformID===3;a.name=this.readString(a.length,o),t.nameRecords[s]=a,r+=i}return t},n.prototype.readHeadTable=function(){var e=this.getTable("head");this.offset=e.offset;var t=new vu;return t.version=this.readFixed(this.offset),t.fontRevision=this.readFixed(this.offset),t.checkSumAdjustment=this.readUInt32(this.offset),t.magicNumber=this.readUInt32(this.offset),t.flags=this.readUInt16(this.offset),t.unitsPerEm=this.readUInt16(this.offset),t.created=this.readInt64(this.offset),t.modified=this.readInt64(this.offset),t.xMin=this.readInt16(this.offset),t.yMin=this.readInt16(this.offset),t.xMax=this.readInt16(this.offset),t.yMax=this.readInt16(this.offset),t.macStyle=this.readUInt16(this.offset),t.lowestReadableSize=this.readUInt16(this.offset),t.fontDirectionHint=this.readInt16(this.offset),t.indexToLocalFormat=this.readInt16(this.offset),t.glyphDataFormat=this.readInt16(this.offset),t},n.prototype.readHorizontalHeaderTable=function(){var e=this.getTable("hhea");this.offset=e.offset;var t=new yu;return t.version=this.readFixed(this.offset),t.ascender=this.readInt16(this.offset),t.descender=this.readInt16(this.offset),t.lineGap=this.readInt16(this.offset),t.advanceWidthMax=this.readUInt16(this.offset),t.minLeftSideBearing=this.readInt16(this.offset),t.minRightSideBearing=this.readInt16(this.offset),t.xMaxExtent=this.readInt16(this.offset),t.caretSlopeRise=this.readInt16(this.offset),t.caretSlopeRun=this.readInt16(this.offset),this.offset+=10,t.metricDataFormat=this.readInt16(this.offset),t.numberOfHMetrics=this.readUInt16(this.offset),t},n.prototype.readOS2Table=function(){var e=this.getTable("OS/2");this.offset=e.offset;var t=new bu;return t.version=this.readUInt16(this.offset),t.xAvgCharWidth=this.readInt16(this.offset),t.usWeightClass=this.readUInt16(this.offset),t.usWidthClass=this.readUInt16(this.offset),t.fsType=this.readInt16(this.offset),t.ySubscriptXSize=this.readInt16(this.offset),t.ySubscriptYSize=this.readInt16(this.offset),t.ySubscriptXOffset=this.readInt16(this.offset),t.ySubscriptYOffset=this.readInt16(this.offset),t.ySuperscriptXSize=this.readInt16(this.offset),t.ySuperscriptYSize=this.readInt16(this.offset),t.ySuperscriptXOffset=this.readInt16(this.offset),t.ySuperscriptYOffset=this.readInt16(this.offset),t.yStrikeoutSize=this.readInt16(this.offset),t.yStrikeoutPosition=this.readInt16(this.offset),t.sFamilyClass=this.readInt16(this.offset),t.panose=this.readBytes(10),t.ulUnicodeRange1=this.readUInt32(this.offset),t.ulUnicodeRange2=this.readUInt32(this.offset),t.ulUnicodeRange3=this.readUInt32(this.offset),t.ulUnicodeRange4=this.readUInt32(this.offset),t.vendorIdentifier=this.readBytes(4),t.fsSelection=this.readUInt16(this.offset),t.usFirstCharIndex=this.readUInt16(this.offset),t.usLastCharIndex=this.readUInt16(this.offset),t.sTypoAscender=this.readInt16(this.offset),t.sTypoDescender=this.readInt16(this.offset),t.sTypoLineGap=this.readInt16(this.offset),t.usWinAscent=this.readUInt16(this.offset),t.usWinDescent=this.readUInt16(this.offset),t.ulCodePageRange1=this.readUInt32(this.offset),t.ulCodePageRange2=this.readUInt32(this.offset),t.version>1?(t.sxHeight=this.readInt16(this.offset),t.sCapHeight=this.readInt16(this.offset),t.usDefaultChar=this.readUInt16(this.offset),t.usBreakChar=this.readUInt16(this.offset),t.usMaxContext=this.readUInt16(this.offset)):(t.sxHeight=0,t.sCapHeight=0,t.usDefaultChar=0,t.usBreakChar=0,t.usMaxContext=0),t},n.prototype.readPostTable=function(){var e=this.getTable("post");this.offset=e.offset;var t=new wu;return t.formatType=this.readFixed(this.offset),t.italicAngle=this.readFixed(this.offset),t.underlinePosition=this.readInt16(this.offset),t.underlineThickness=this.readInt16(this.offset),t.isFixedPitch=this.readUInt32(this.offset),t.minType42=this.readUInt32(this.offset),t.maxType42=this.readUInt32(this.offset),t.minType1=this.readUInt32(this.offset),t.maxType1=this.readUInt32(this.offset),t},n.prototype.readWidthTable=function(e,t){var i=this.getTable("hmtx");this.offset=i.offset;for(var r=[],s=0;s<e;s++){var a=new Su;a.advanceWidth=this.readUInt16(this.offset),a.lsb=this.readInt16(this.offset);var o=a.advanceWidth*1e3/t;r.push(Math.floor(o))}return r},n.prototype.readCmapTable=function(){var e=this.getTable("cmap");this.offset=e.offset;var t=new Cu;t.version=this.readUInt16(this.offset),t.tablesCount=this.readUInt16(this.offset);for(var i=this.offset,r=[],s=0;s<t.tablesCount;s++){this.offset=i;var a=new xu;a.platformID=this.readUInt16(this.offset),a.encodingID=this.readUInt16(this.offset),a.offset=this.readUInt32(this.offset),i=this.offset,this.readCmapSubTable(a),r[s]=a}return r},n.prototype.readCmapSubTable=function(e){var t=this.getTable("cmap");this.offset=t.offset+e.offset;var i=this.readUInt16(this.offset),r=this.getCmapEncoding(e.platformID,e.encodingID);if(r===Qe.Macintosh?ii.Macintosh:ii.Microsoft,r!==Qe.Unknown)switch(i){case qi.Apple:this.readAppleCmapTable(e,r);break;case qi.Microsoft:this.readMicrosoftCmapTable(e,r);break;case qi.Trimmed:this.readTrimmedCmapTable(e,r);break}},n.prototype.readAppleCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var r=new Au;r.format=this.readUInt16(this.offset),r.length=this.readUInt16(this.offset),r.version=this.readUInt16(this.offset),(this.maxMacIndex===null||this.maxMacIndex===void 0)&&(this.maxMacIndex=0);for(var s=0;s<256;++s){var a=new Ui;a.index=this.readByte(this.offset),a.width=this.getWidth(a.index),a.charCode=s,this.macintosh.setValue(s,a),this.addGlyph(a,t),this.maxMacIndex=Math.max(s,this.maxMacIndex)}},n.prototype.readMicrosoftCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var r=t===Qe.Unicode?this.microsoft:this.macintosh,s=new Eu;s.format=this.readUInt16(this.offset),s.length=this.readUInt16(this.offset),s.version=this.readUInt16(this.offset),s.segCountX2=this.readUInt16(this.offset),s.searchRange=this.readUInt16(this.offset),s.entrySelector=this.readUInt16(this.offset),s.rangeShift=this.readUInt16(this.offset);var a=s.segCountX2/2;s.endCount=this.readUshortArray(a),s.reservedPad=this.readUInt16(this.offset),s.startCount=this.readUshortArray(a),s.idDelta=this.readUshortArray(a),s.idRangeOffset=this.readUshortArray(a);var o=s.length/2-8-a*4;s.glyphID=this.readUshortArray(o);for(var l=0,h=0,u=0;u<a;u++)for(var c=s.startCount[u];c<=s.endCount[u]&&c!==65535;c++){if(s.idRangeOffset[u]===0)l=c+s.idDelta[u]&65535;else{if(h=u+s.idRangeOffset[u]/2-a+c-s.startCount[u],h>=s.glyphID.length)continue;l=s.glyphID[h]+s.idDelta[u]&65535}var f=new Ui;f.index=l,f.width=this.getWidth(f.index);var d=t===Qe.Symbol&&(c&65280)===61440?c&255:c;f.charCode=d,r.setValue(d,f),this.addGlyph(f,t)}},n.prototype.readTrimmedCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var r=new Lu;r.format=this.readUInt16(this.offset),r.length=this.readUInt16(this.offset),r.version=this.readUInt16(this.offset),r.firstCode=this.readUInt16(this.offset),r.entryCount=this.readUInt16(this.offset);for(var s=0;s<r.entryCount;++s){var a=new Ui;a.index=this.readUInt16(this.offset),a.width=this.getWidth(a.index),a.charCode=s+r.firstCode,this.macintosh.setValue(s,a),this.addGlyph(a,t),this.maxMacIndex=Math.max(s,this.maxMacIndex)}},n.prototype.initializeFontName=function(e){for(var t=0;t<e.recordsCount;t++){var i=e.nameRecords[t];if(i.nameID===1?this.metrics.fontFamily=i.name:i.nameID===6&&(this.metrics.postScriptName=i.name),this.metrics.fontFamily!==null&&this.metrics.fontFamily!==void 0&&this.metrics.postScriptName!==null&&this.metrics.postScriptName!==void 0)break}},n.prototype.getTable=function(e){var t=new Ms,i;return this.tableDirectory.containsKey(e)&&(i=this.tableDirectory.getValue(e)),i!=null&&(t=i),t},n.prototype.getWidth=function(e){return e=e<this.width.length?e:this.width.length-1,this.width[e]},n.prototype.getCmapEncoding=function(e,t){var i=Qe.Unknown;return e==ii.Microsoft&&t==Br.Undefined?i=Qe.Symbol:e==ii.Microsoft&&t==Br.Unicode?i=Qe.Unicode:e==ii.Macintosh&&t==yn.Roman&&(i=Qe.Macintosh),i},n.prototype.addGlyph=function(e,t){var i=null;switch(t){case Qe.Unicode:i=this.microsoftGlyphs;break;case Qe.Macintosh:case Qe.Symbol:i=this.macintoshGlyphs;break}i.setValue(e.index,e)},n.prototype.initializeMetrics=function(e,t,i,r,s,a){this.initializeFontName(e);for(var o=!1,l=0;l<a.length;l++){var h=a[l],u=this.getCmapEncoding(h.platformID,h.encodingID);if(u===Qe.Symbol){o=!0;break}}this.metrics.isSymbol=o,this.metrics.macStyle=t.macStyle,this.metrics.isFixedPitch=s.isFixedPitch!==0,this.metrics.italicAngle=s.italicAngle;var c=1e3/t.unitsPerEm;this.metrics.winAscent=r.sTypoAscender*c,this.metrics.macAscent=i.ascender*c,this.metrics.capHeight=r.sCapHeight!==0?r.sCapHeight:.7*t.unitsPerEm*c,this.metrics.winDescent=r.sTypoDescender*c,this.metrics.macDescent=i.descender*c,this.metrics.leading=(r.sTypoAscender-r.sTypoDescender+r.sTypoLineGap)*c,this.metrics.lineGap=Math.ceil(i.lineGap*c);var f=t.xMin*c,d=Math.ceil(this.metrics.macAscent+this.metrics.lineGap),g=t.xMax*c,p=this.metrics.macDescent;this.metrics.fontBox=new mn(f,d,g,p),this.metrics.stemV=80,this.metrics.widthTable=this.updateWidth(),this.metrics.contains=this.tableDirectory.containsKey("CFF"),this.metrics.subScriptSizeFactor=t.unitsPerEm/r.ySubscriptYSize,this.metrics.superscriptSizeFactor=t.unitsPerEm/r.ySuperscriptYSize},n.prototype.updateWidth=function(){var e=256,t=[];if(this.metrics.isSymbol)for(var i=0;i<e;i++){var r=this.getGlyph(String.fromCharCode(i));t[i]=r.empty?0:r.width}else for(var s=[],a="?",o=String.fromCharCode(32),i=0;i<e;i++){s[0]=i;var l=this.getString(s,0,s.length),h=l.length>0?l[0]:a,r=this.getGlyph(h);r.empty?(r=this.getGlyph(o),t[i]=r.empty?0:r.width):t[i]=r.width}return t},n.prototype.getDefaultGlyph=function(){var e=this.getGlyph(tt.whiteSpace);return e},n.prototype.getString=function(e,t,i){for(var r="",s=0;s<i;s++)r+=String.fromCharCode(e[s+t]);return r},n.prototype.readLocaTable=function(e){var t=this.getTable("loca");this.offset=t.offset;var i=new Tu,r=null;if(e){var s=t.length/2;r=[];for(var a=0;a<s;a++)r[a]=this.readUInt16(this.offset)*2}else{var s=t.length/4;r=[];for(var a=0;a<s;a++)r[a]=this.readUInt32(this.offset)}return i.offsets=r,i},n.prototype.updateGlyphChars=function(e,t){e.containsKey(0)||e.setValue(0,0);for(var i=new xe,r=e.keys(),s=0;s<r.length;s++)i.setValue(r[s],e.getValue(r[s]));for(var s=0;s<r.length;s++){var a=r[s];this.processCompositeGlyph(e,a,t)}},n.prototype.processCompositeGlyph=function(e,t,i){if(t<i.offsets.length-1){var r=i.offsets[t];if(r!==i.offsets[t+1]){var s=this.getTable("glyf");this.offset=s.offset+r;var a=new Pu;if(a.numberOfContours=this.readInt16(this.offset),a.xMin=this.readInt16(this.offset),a.yMin=this.readInt16(this.offset),a.xMax=this.readInt16(this.offset),a.yMax=this.readInt16(this.offset),a.numberOfContours<0)for(var o=0,l=!0;l;){var h=this.readUInt16(this.offset),u=this.readUInt16(this.offset);if(e.containsKey(u)||e.setValue(u,0),!(h&ni.MoreComponents))break;o=h&ni.Arg1And2AreWords?4:2,h&ni.WeHaveScale?o+=2:h&ni.WeHaveAnXyScale?o+=4:h&ni.WeHaveTwoByTwo&&(o+=2*4),this.offset+=o}}}},n.prototype.generateGlyphTable=function(e,t,i,r){i=[];var s=e.keys();s.sort(function(b,y){return b-y});for(var a=0,o=0;o<s.length;o++){var l=s[o];t.offsets.length>0&&(a+=t.offsets[l+1]-t.offsets[l])}var h=this.align(a);r=[];for(var o=0;o<h;o++)r.push(0);for(var u=0,c=0,f=this.getTable("glyf"),o=0;o<t.offsets.length;o++)if(i.push(u),c<s.length&&s[c]===o){++c,i[o]=u;var d=t.offsets[o],g=t.offsets[o+1]-d;if(g>0){this.offset=f.offset+d;var p=this.read(r,u,g);r=p.buffer,u+=g}}return{glyphTableSize:a,newLocaTable:i,newGlyphTable:r}},n.prototype.updateLocaTable=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : newLocaTable");for(var r=t?e.length*2:e.length*4,s=this.align(r),a=new ks(s),o=0;o<e.length;o++){var l=e[o];t?(l/=2,a.writeShort(l)):a.writeInt(l)}return{newLocaUpdated:a.data,newLocaSize:r}},n.prototype.align=function(e){return e+3&-4},n.prototype.getFontProgram=function(e,t,i,r){if(e===null)throw new Error("Argument Null Exception : newLocaTableOut");if(t===null)throw new Error("Argument Null Exception : newGlyphTable");this.tableNames;var s=this.getFontProgramLength(e,t,0),a=s.fontProgramLength,o=s.numTables,l=new ks(a);l.writeInt(65536),l.writeShort(o);var h=this.entrySelectors[o];return l.writeShort((1<<(h&31))*16),l.writeShort(h),l.writeShort((o-(1<<(h&31)))*16),this.writeCheckSums(l,o,e,t,i,r),this.writeGlyphs(l,e,t),l.data},n.prototype.getFontProgramLength=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : newLocaTableOut");if(t===null)throw new Error("Argument Null Exception : newGlyphTable");i=2;for(var r=this.tableNames,s=0,a=0;a<r.length;a++){var o=r[a];if(o!=="glyf"&&o!=="loca"){var l=this.getTable(o);l.empty||(++i,s+=this.align(l.length))}}s+=e.length,s+=t.length;var h=i*16+3*4;return s+=h,{fontProgramLength:s,numTables:i}},n.prototype.writeCheckSums=function(e,t,i,r,s,a){if(e===null)throw new Error("Argument Null Exception : writer");if(i===null)throw new Error("Argument Null Exception : newLocaTableOut");if(r===null)throw new Error("Argument Null Exception : newGlyphTable");for(var o=this.tableNames,l=t*16+3*4,h=0,u=0;u<o.length;u++){var c=o[u],f=this.getTable(c);if(!f.empty){if(e.writeString(c),c==="glyf"){var d=this.calculateCheckSum(r);e.writeInt(d),h=s}else if(c==="loca"){var d=this.calculateCheckSum(i);e.writeInt(d),h=a}else e.writeInt(f.checksum),h=f.length;e.writeUInt(l),e.writeUInt(h),l+=this.align(h)}}},n.prototype.calculateCheckSum=function(e){if(e===null)throw new Error("Argument Null Exception : bytes");for(var t=0,i=0,r=0,s=0,a=0,o=0;o<(e.length+1)/4;o++)a+=e[t++]&255,s+=e[t++]&255,r+=e[t++]&255,i+=e[t++]&255;var l=i;return l+=r<<8,l+=s<<16,l+=a<<24,l},n.prototype.writeGlyphs=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : writer");if(t===null)throw new Error("Argument Null Exception : newLocaTableOut");if(i===null)throw new Error("Argument Null Exception : newGlyphTable");for(var r=this.tableNames,s=0;s<r.length;s++){var a=r[s],o=this.getTable(a);if(!o.empty)if(a==="glyf")e.writeBytes(i);else if(a==="loca")e.writeBytes(t);else{for(var l=this.align(o.length),h=[],u=0;u<l;u++)h.push(0);this.offset=o.offset;var c=this.read(h,0,o.length);e.writeBytes(c.buffer)}}},n.prototype.setOffset=function(e){this.offset=e},n.prototype.createInternals=function(){this.metrics=new Os;var e=this.readNameTable(),t=this.readHeadTable();this.bIsLocaShort=t.indexToLocalFormat===0;var i=this.readHorizontalHeaderTable(),r=this.readOS2Table(),s=this.readPostTable();this.width=this.readWidthTable(i.numberOfHMetrics,t.unitsPerEm);var a=this.readCmapTable();this.initializeMetrics(e,t,i,r,s,a)},n.prototype.getGlyph=function(e){if(typeof e=="number"){var t=null;!this.metrics.isSymbol&&this.microsoftGlyphs!=null?this.microsoftGlyphs.containsKey(e)&&(t=this.microsoftGlyphs.getValue(e)):this.metrics.isSymbol&&this.macintoshGlyphs!=null&&this.macintoshGlyphs.containsKey(e)&&(t=this.macintoshGlyphs.getValue(e));var i=t??this.getDefaultGlyph();return i}else{var r=null,s=e.charCodeAt(0);!this.metrics.isSymbol&&this.microsoft!==null?this.microsoft.containsKey(s)?(r=this.microsoft.getValue(s),s!==tt.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!0)):s!==tt.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!1):(this.metrics.isSymbol&&this.macintosh!==null||this.isMacTTF)&&(this.maxMacIndex!==0?s%=this.maxMacIndex+1:s=(s&65280)===61440?s&255:s,this.macintosh.containsKey(s)&&(r=this.macintosh.getValue(s),this.isFontPresent=!0)),e===tt.whiteSpace&&r===null&&(r=new Ui);var i=r!==null?r:this.getDefaultGlyph();return i}},n.prototype.getGlyphChars=function(e){if(e==null)throw new Error("Argument Null Exception : chars");for(var t=new xe,i=e.keys(),r=0;r<i.length;r++){var s=i[r],a=this.getGlyph(s);a.empty||t.setValue(a.index,s.charCodeAt(0))}return t},n.prototype.getAllGlyphs=function(){for(var e=[],t=new Ui,i=0,r=0;r<this.width.length;r++){var s=this.width[r];t.index=i,t.width=s,e.push(t),i++}return e},n.prototype.readFontProgram=function(e){var t=this.getGlyphChars(e),i=this.readLocaTable(this.bIsLocaShort);t.size()<e.size()&&(this.missedGlyphs=e.size()-t.size()),this.updateGlyphChars(t,i);var r=this.generateGlyphTable(t,i,null,null),s=r.glyphTableSize,a=r.newLocaTable,o=r.newGlyphTable,l=this.updateLocaTable(a,this.bIsLocaShort,null),h=l.newLocaSize,u=l.newLocaUpdated,c=this.getFontProgram(u,o,s,h);return c},n.prototype.convertString=function(e){if(e===null)throw new Error("Argument Null Exception : text");for(var t="",i=0;i<e.length;i++){var r=e[i],s=this.getGlyph(r);s.empty||(t+=String.fromCharCode(s.index))}return t},n.prototype.getCharWidth=function(e){var t=this.getGlyph(e);t=t.empty?this.getDefaultGlyph():t;var i=t.empty?0:t.width;return i},n.prototype.readString=function(e,t){if(t===void 0)return this.readString(e,!1);var i="";if(t)for(var r=0;r<e;r++)r%2!==0&&(i+=String.fromCharCode(this.fontData[this.offset])),this.offset+=1;else for(var r=0;r<e;r++)i+=String.fromCharCode(this.fontData[this.offset]),this.offset+=1;return i},n.prototype.readFixed=function(e){var t=this.readInt16(e),i=this.readInt16(e+2),r=i/16384;return t+r},n.prototype.readInt32=function(e){var t=this.fontData[e+3],i=this.fontData[e+2],r=this.fontData[e+1],s=this.fontData[e];return this.offset+=4,t+(i<<8)+(r<<16)+(s<<24)},n.prototype.readUInt32=function(e){var t=this.fontData[e+3],i=this.fontData[e+2],r=this.fontData[e+1],s=this.fontData[e];return this.offset+=4,t|i<<8|r<<16|s<<24},n.prototype.readInt16=function(e){var t=(this.fontData[e]<<8)+this.fontData[e+1];return t=t&32768?t-65536:t,this.offset+=2,t},n.prototype.readInt64=function(e){var t=this.readInt32(e+4),i=this.readInt32(e)*4294967296+t;return t<0&&(i+=4294967296),i},n.prototype.readUInt16=function(e){var t=this.fontData[e]<<8|this.fontData[e+1];return this.offset+=2,t},n.prototype.readUshortArray=function(e){for(var t=[],i=0;i<e;i++)t[i]=this.readUInt16(this.offset);return t},n.prototype.readBytes=function(e){for(var t=[],i=0;i<e;i++)t.push(this.fontData[this.offset]),this.offset+=1;return t},n.prototype.readByte=function(e){var t=this.fontData[e];return this.offset+=1,t},n.prototype.read=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : buffer");var r=0,s=0;do{for(var a=0;a<i-r&&this.offset+a<this.fontData.length;a++)e[t+a]=this.fontData[this.offset+a];s=i-r,this.offset+=s,r+=s}while(r<i);return{buffer:e,written:r}},n}(),Ou=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xi=function(){function n(){this.lineGap=0}return n.prototype.getAscent=function(e){var t=this.ascent*qt.charSizeMultiplier*this.getSize(e);return t},n.prototype.getDescent=function(e){var t=this.descent*qt.charSizeMultiplier*this.getSize(e);return t},n.prototype.getLineGap=function(e){var t=this.lineGap*qt.charSizeMultiplier*this.getSize(e);return t},n.prototype.getHeight=function(e){var t;return this.getDescent(e)<0?t=this.getAscent(e)-this.getDescent(e)+this.getLineGap(e):t=this.getAscent(e)+this.getDescent(e)+this.getLineGap(e),t},n.prototype.getSize=function(e){var t=this.size;if(e!=null)switch(e.subSuperScript){case Xt.SubScript:t/=this.subScriptSizeFactor;break;case Xt.SuperScript:t/=this.superscriptSizeFactor;break}return t},n.prototype.clone=function(){var e=this;return e.widthTable=Ja.clone(),e},Object.defineProperty(n.prototype,"widthTable",{get:function(){return this.internalWidthTable},set:function(e){this.internalWidthTable=e},enumerable:!0,configurable:!0}),n}(),Ja=function(){function n(){}return n.clone=function(){return null},n}(),$e=function(n){Ou(e,n);function e(t){var i=n.call(this)||this;if(t==null)throw new Error("ArgumentNullException:widths");return i.widths=t,i}return e.prototype.items=function(t){if(t<0||t>=this.widths.length)throw new Error("ArgumentOutOfRangeException:index, The character is not supported by the font.");var i=this.widths[t];return i},Object.defineProperty(e.prototype,"length",{get:function(){return this.widths.length},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=this;return t.widths=this.widths,t},e.prototype.toArray=function(){var t=new Le(this.widths);return t},e}(Ja),ku=function(){function n(e,t){if(this.nameString="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.dictionaryProperties=new Me,this.isCompress=!1,this.isEmbedFont=!1,this.cmapPrefix=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap`+D.newLine+`/CIDSystemInfo << /Registry (Adobe)/Ordering (UCS)/Supplement 0>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange`+D.newLine,this.cmapEndCodespaceRange="endcodespacerange"+D.newLine,this.cmapBeginRange="beginbfrange"+D.newLine,this.cmapEndRange="endbfrange"+D.newLine,this.cmapSuffix=`endbfrange
endcmap
CMapName currentdict /CMap defineresource pop
end end`+D.newLine,e==null)throw new Error("ArgumentNullException:base64String");this.fontSize=t,this.fontString=e,this.Initialize()}return n.prototype.getCharWidth=function(e){var t=this.ttfReader.getCharWidth(e);return t},n.prototype.getLineWidth=function(e){for(var t=0,i=0,r=e.length;i<r;i++){var s=e[i],a=this.getCharWidth(s);t+=a}return t},n.prototype.Initialize=function(){var e=new Zi(this.fontString.length);e.writeFromBase64String(this.fontString),this.fontData=e.internalBuffer,this.ttfReader=new Mu(this.fontData),this.ttfMetrics=this.ttfReader.metrics},n.prototype.createInternals=function(){this.fontDictionary=new ve,this.fontProgram=new rt,this.cmap=new rt,this.descendantFont=new ve,this.metrics=new xi,this.ttfReader.createInternals(),this.ttfMetrics=this.ttfReader.metrics,this.initializeMetrics(),this.subsetName=this.getFontName(),this.createDescendantFont(),this.createCmap(),this.createFontDictionary(),this.createFontProgram()},n.prototype.getInternals=function(){return this.fontDictionary},n.prototype.initializeMetrics=function(){var e=this.ttfReader.metrics;this.metrics.ascent=e.macAscent,this.metrics.descent=e.macDescent,this.metrics.height=e.macAscent-e.macDescent+e.lineGap,this.metrics.name=e.fontFamily,this.metrics.postScriptName=e.postScriptName,this.metrics.size=this.fontSize,this.metrics.widthTable=new $e(e.widthTable),this.metrics.lineGap=e.lineGap,this.metrics.subScriptSizeFactor=e.subScriptSizeFactor,this.metrics.superscriptSizeFactor=e.superscriptSizeFactor,this.metrics.isBold=e.isBold},n.prototype.getFontName=function(){for(var e="",t,i=0;i<6;i++){var r=Math.floor(Math.random()*26)+0;e+=this.nameString[r]}return e+="+",e+=this.ttfReader.metrics.postScriptName,t=e.toString(),t=this.formatName(t),t},n.prototype.formatName=function(e){var t=e.replace("(","#28");return t=t.replace(")","#29"),t=t.replace("[","#5B"),t=t.replace("]","#5D"),t=t.replace("<","#3C"),t=t.replace(">","#3E"),t=t.replace("{","#7B"),t=t.replace("}","#7D"),t=t.replace("/","#2F"),t=t.replace("%","#25"),t.replace(" ","#20")},n.prototype.createDescendantFont=function(){this.descendantFont.isResource=!0,this.descendantFont.descendantFontBeginSave=new Fh(this),this.descendantFont.items.setValue(this.dictionaryProperties.type,new Q(this.dictionaryProperties.font)),this.descendantFont.items.setValue(this.dictionaryProperties.subtype,new Q(this.dictionaryProperties.cIDFontType2)),this.descendantFont.items.setValue(this.dictionaryProperties.baseFont,new Q(this.subsetName)),this.descendantFont.items.setValue(this.dictionaryProperties.cIDToGIDMap,new Q(this.dictionaryProperties.identity)),this.descendantFont.items.setValue(this.dictionaryProperties.dw,new Z(1e3)),this.fontDescriptor=this.createFontDescriptor(),this.descendantFont.items.setValue(this.dictionaryProperties.fontDescriptor,new ye(this.fontDescriptor));var e=this.createSystemInfo();this.descendantFont.items.setValue(this.dictionaryProperties.cIDSystemInfo,e)},n.prototype.createFontDescriptor=function(){var e=new ve,t=this.ttfReader.metrics;return e.isResource=!0,e.items.setValue(this.dictionaryProperties.type,new Q(this.dictionaryProperties.fontDescriptor)),e.items.setValue(this.dictionaryProperties.fontName,new Q(this.subsetName)),e.items.setValue(this.dictionaryProperties.flags,new Z(this.getDescriptorFlags())),e.items.setValue(this.dictionaryProperties.fontBBox,Le.fromRectangle(this.getBoundBox())),e.items.setValue(this.dictionaryProperties.missingWidth,new Z(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.stemV,new Z(t.stemV)),e.items.setValue(this.dictionaryProperties.italicAngle,new Z(t.italicAngle)),e.items.setValue(this.dictionaryProperties.capHeight,new Z(t.capHeight)),e.items.setValue(this.dictionaryProperties.ascent,new Z(t.winAscent)),e.items.setValue(this.dictionaryProperties.descent,new Z(t.winDescent)),e.items.setValue(this.dictionaryProperties.leading,new Z(t.leading)),e.items.setValue(this.dictionaryProperties.avgWidth,new Z(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.fontFile2,new ye(this.fontProgram)),e.items.setValue(this.dictionaryProperties.maxWidth,new Z(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.xHeight,new Z(0)),e.items.setValue(this.dictionaryProperties.stemH,new Z(0)),e},n.prototype.createCmap=function(){this.cmap.cmapBeginSave=new Xh(this)},n.prototype.createFontDictionary=function(){this.fontDictionary.isResource=!0,this.fontDictionary.fontDictionaryBeginSave=new Nh(this),this.fontDictionary.items.setValue(this.dictionaryProperties.type,new Q(this.dictionaryProperties.font)),this.fontDictionary.items.setValue(this.dictionaryProperties.baseFont,new Q(this.subsetName)),this.fontDictionary.items.setValue(this.dictionaryProperties.subtype,new Q(this.dictionaryProperties.type0)),this.fontDictionary.items.setValue(this.dictionaryProperties.encoding,new Q(this.dictionaryProperties.identityH));var e=new Le,t=new ye(this.descendantFont);e.isFont=!0,e.add(t),this.fontDictionary.items.setValue(this.dictionaryProperties.descendantFonts,e)},n.prototype.createFontProgram=function(){this.fontProgram.fontProgramBeginSave=new qh(this)},n.prototype.createSystemInfo=function(){var e=new ve;return e.items.setValue(this.dictionaryProperties.registry,new Ze("Adobe")),e.items.setValue(this.dictionaryProperties.ordering,new Ze(this.dictionaryProperties.identity)),e.items.setValue(this.dictionaryProperties.supplement,new Z(0)),e},n.prototype.descendantFontBeginSave=function(){if(this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0){var e=this.getDescendantWidth();e!==null&&this.descendantFont.items.setValue(this.dictionaryProperties.w,e)}},n.prototype.cmapBeginSave=function(){this.generateCmap()},n.prototype.fontDictionaryBeginSave=function(){this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0&&!this.fontDictionary.containsKey(this.dictionaryProperties.toUnicode)&&this.fontDictionary.items.setValue(this.dictionaryProperties.toUnicode,new ye(this.cmap))},n.prototype.fontProgramBeginSave=function(){this.isCompress=!0,this.generateFontProgram()},n.prototype.getDescendantWidth=function(){var e=new Le;if(this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0){for(var t=[],i=this.usedChars.keys(),r=0;r<i.length;r++){var s=i[r],a=this.ttfReader.getGlyph(s);a.empty||t.push(a)}t.sort(function(c,f){return c.index-f.index});for(var o=0,l=0,h=!1,u=new Le,r=0;r<t.length;r++){var a=t[r];h||(h=!0,o=a.index,l=a.index-1),(l+1!==a.index||r+1===t.length)&&t.length>1&&(e.add(new Z(o)),r!==0&&e.add(u),o=a.index,u=new Le),u.add(new Z(a.width)),r+1===t.length&&(e.add(new Z(o)),e.add(u)),l=a.index}}return e},n.prototype.generateCmap=function(){if(this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0){var e=this.ttfReader.getGlyphChars(this.usedChars);if(e.size()>0){var t=e.keys().sort(),i=t[0],r=t[t.length-1],s=this.toHexString(i,!1)+this.toHexString(r,!1)+D.newLine,a="";a+=this.cmapPrefix,a+=s,a+=this.cmapEndCodespaceRange;for(var o=0,l=0;l<t.length;l++){o===0&&(l!==0&&(a+=this.cmapEndRange),o=Math.min(100,t.length-l),a+=o,a+=D.whiteSpace,a+=this.cmapBeginRange),o-=1;var h=t[l];a+=this.toHexString(h,!0)+this.toHexString(h,!0)+this.toHexString(e.getValue(h),!0)+`
`}a+=this.cmapSuffix,this.cmap.clearStream(),this.cmap.isResource=!0,this.cmap.write(a)}}},n.prototype.generateFontProgram=function(){var e=null;this.usedChars=this.usedChars===null||this.usedChars===void 0?new xe:this.usedChars,this.ttfReader.setOffset(0),e=this.ttfReader.readFontProgram(this.usedChars),this.fontProgram.clearStream(),this.fontProgram.isResource=!0,this.fontProgram.writeBytes(e)},n.prototype.getDescriptorFlags=function(){var e=0,t=this.ttfReader.metrics;return t.isFixedPitch&&(e|=ri.FixedPitch),t.isSymbol?e|=ri.Symbolic:e|=ri.Nonsymbolic,t.isItalic&&(e|=ri.Italic),t.isBold&&(e|=ri.ForceBold),e},n.prototype.getBoundBox=function(){var e=this.ttfReader.metrics.fontBox,t=Math.abs(e.right-e.left),i=Math.abs(e.top-e.bottom),r=new me(e.left,e.bottom,t,i);return r},n.prototype.toHexString=function(e,t){var i=e.toString(16);return t&&(i=i.toUpperCase()),"<0000".substring(0,5-i.length)+i+">"},n.prototype.setSymbols=function(e){if(e===null)throw new Error("Argument Null Exception : text");(this.usedChars===null||this.usedChars===void 0)&&(this.usedChars=new xe);for(var t=0;t<e.length;t++){var i=e[t];this.usedChars.setValue(i,String.fromCharCode(0))}this.isEmbedFont===!1&&this.getDescendantWidth()},n}(),Rs=function(){function n(){this.arabicCharTable=[["ء","ﺀ"],["آ","ﺁ","ﺂ"],["أ","ﺃ","ﺄ"],["ؤ","ﺅ","ﺆ"],["إ","ﺇ","ﺈ"],["ئ","ﺉ","ﺊ","ﺋ","ﺌ"],["ا","ﺍ","ﺎ"],["ب","ﺏ","ﺐ","ﺑ","ﺒ"],["ة","ﺓ","ﺔ"],["ت","ﺕ","ﺖ","ﺗ","ﺘ"],["ث","ﺙ","ﺚ","ﺛ","ﺜ"],["ج","ﺝ","ﺞ","ﺟ","ﺠ"],["ح","ﺡ","ﺢ","ﺣ","ﺤ"],["خ","ﺥ","ﺦ","ﺧ","ﺨ"],["د","ﺩ","ﺪ"],["ذ","ﺫ","ﺬ"],["ر","ﺭ","ﺮ"],["ز","ﺯ","ﺰ"],["س","ﺱ","ﺲ","ﺳ","ﺴ"],["ش","ﺵ","ﺶ","ﺷ","ﺸ"],["ص","ﺹ","ﺺ","ﺻ","ﺼ"],["ض","ﺽ","ﺾ","ﺿ","ﻀ"],["ط","ﻁ","ﻂ","ﻃ","ﻄ"],["ظ","ﻅ","ﻆ","ﻇ","ﻈ"],["ع","ﻉ","ﻊ","ﻋ","ﻌ"],["غ","ﻍ","ﻎ","ﻏ","ﻐ"],["ـ","ـ","ـ","ـ","ـ"],["ف","ﻑ","ﻒ","ﻓ","ﻔ"],["ق","ﻕ","ﻖ","ﻗ","ﻘ"],["ك","ﻙ","ﻚ","ﻛ","ﻜ"],["ل","ﻝ","ﻞ","ﻟ","ﻠ"],["م","ﻡ","ﻢ","ﻣ","ﻤ"],["ن","ﻥ","ﻦ","ﻧ","ﻨ"],["ه","ﻩ","ﻪ","ﻫ","ﻬ"],["و","ﻭ","ﻮ"],["ى","ﻯ","ﻰ","ﯨ","ﯩ"],["ي","ﻱ","ﻲ","ﻳ","ﻴ"],["ٱ","ﭐ","ﭑ"],["ٹ","ﭦ","ﭧ","ﭨ","ﭩ"],["ٺ","ﭞ","ﭟ","ﭠ","ﭡ"],["ٻ","ﭒ","ﭓ","ﭔ","ﭕ"],["پ","ﭖ","ﭗ","ﭘ","ﭙ"],["ٿ","ﭢ","ﭣ","ﭤ","ﭥ"],["ڀ","ﭚ","ﭛ","ﭜ","ﭝ"],["ڃ","ﭶ","ﭷ","ﭸ","ﭹ"],["ڄ","ﭲ","ﭳ","ﭴ","ﭵ"],["چ","ﭺ","ﭻ","ﭼ","ﭽ"],["ڇ","ﭾ","ﭿ","ﮀ","ﮁ"],["ڈ","ﮈ","ﮉ"],["ڌ","ﮄ","ﮅ"],["ڍ","ﮂ","ﮃ"],["ڎ","ﮆ","ﮇ"],["ڑ","ﮌ","ﮍ"],["ژ","ﮊ","ﮋ"],["ڤ","ﭪ","ﭫ","ﭬ","ﭭ"],["ڦ","ﭮ","ﭯ","ﭰ","ﭱ"],["ک","ﮎ","ﮏ","ﮐ","ﮑ"],["ڭ","ﯓ","ﯔ","ﯕ","ﯖ"],["گ","ﮒ","ﮓ","ﮔ","ﮕ"],["ڱ","ﮚ","ﮛ","ﮜ","ﮝ"],["ڳ","ﮖ","ﮗ","ﮘ","ﮙ"],["ں","ﮞ","ﮟ"],["ڻ","ﮠ","ﮡ","ﮢ","ﮣ"],["ھ","ﮪ","ﮫ","ﮬ","ﮭ"],["ۀ","ﮤ","ﮥ"],["ہ","ﮦ","ﮧ","ﮨ","ﮩ"],["ۅ","ﯠ","ﯡ"],["ۆ","ﯙ","ﯚ"],["ۇ","ﯗ","ﯘ"],["ۈ","ﯛ","ﯜ"],["ۉ","ﯢ","ﯣ"],["ۋ","ﯞ","ﯟ"],["ی","ﯼ","ﯽ","ﯾ","ﯿ"],["ې","ﯤ","ﯥ","ﯦ","ﯧ"],["ے","ﮮ","ﮯ"],["ۓ","ﮰ","ﮱ"]],this.alef="ا",this.alefHamza="أ",this.alefHamzaBelow="إ",this.alefMadda="آ",this.lam="ل",this.hamza="ء",this.zeroWidthJoiner="‍",this.hamzaAbove="ٔ",this.hamzaBelow="ٕ",this.wawHamza="ؤ",this.yehHamza="ئ",this.waw="و",this.alefMaksura="ى",this.yeh="ي",this.farsiYeh="ی",this.shadda="ّ",this.madda="ٓ",this.lwa="ﻻ",this.lwawh="ﻷ",this.lwawhb="ﻹ",this.lwawm="ﻵ",this.bwhb="ۓ",this.fathatan="ً",this.superScriptalef="ٰ",this.vowel=1,this.arabicMapTable=new xe;for(var e=0;e<this.arabicCharTable.length;e++)this.arabicMapTable.setValue(this.arabicCharTable[e][0],this.arabicCharTable[e])}return n.prototype.getCharacterShape=function(e,t){if(e>=this.hamza&&e<=this.bwhb){var i=[];if(this.arabicMapTable.getValue(e))return i=this.arabicMapTable.getValue(e),i[t+1]}else if(e>=this.lwawm&&e<=this.lwa)return e;return e},n.prototype.shape=function(e,t){for(var i="",r="",s=0;s<e.length;s++){var a=e[s];if(a>="؀"&&a<="ۿ")r=r+a;else{if(r.length>0){var o=this.doShape(r.toString(),0);i=i+o,r=""}i=i+a}}if(r.length>0){var o=this.doShape(r.toString(),0);i=i+o}return i.toString()},n.prototype.doShape=function(e,t){for(var i="",r=0,s=0,a=0,o="",l=new Jr,h=new Jr;a<e.length;)if(o=e[a++],r=this.ligature(o,h),r===0){var u=this.getShapeCount(o);s=u===1?0:2,l.Shapes>2&&(s+=1),s=s%h.Shapes,h.Value=this.getCharacterShape(h.Value,s),i=this.append(i,l,t),l=h,h=new Jr,h.Value=o,h.Shapes=u,h.Ligature++}return s=l.Shapes>2?1:0,s=s%h.Shapes,h.Value=this.getCharacterShape(h.Value,s),i=this.append(i,l,t),i=this.append(i,h,t),i.toString()},n.prototype.append=function(e,t,i){return t.Value!==""&&(e=e+t.Value,t.Ligature-=1,t.Type!==""&&(i&this.vowel||(e=e+t.Type),t.Ligature-=1),t.vowel!==""&&(i&this.vowel||(e=e+t.vowel),t.Ligature-=1)),e},n.prototype.ligature=function(e,t){if(t.Value!==""){var i=0;if(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef){if(i=1,t.vowel!==""&&e!==this.shadda&&(i=2),e===this.shadda)if(t.Type==null)t.Type=this.shadda;else return 0;else e===this.hamzaBelow?t.Value===this.alef?(t.Value=this.alefHamzaBelow,i=2):e===this.lwa?(t.Value=this.lwawhb,i=2):t.Type=this.hamzaBelow:e===this.hamzaAbove?t.Value===this.alef?(t.Value=this.alefHamza,i=2):t.Value===this.lwa?(t.Value=this.lwawh,i=2):t.Value===this.waw?(t.Value=this.wawHamza,i=2):t.Value===this.yeh||t.Value===this.alefMaksura||t.Value===this.farsiYeh?(t.Value=this.yehHamza,i=2):t.Type=this.hamzaAbove:e===this.madda?t.Value===this.alef&&(t.Value=this.alefMadda,i=2):t.vowel=e;return i===1&&t.Ligature++,i}return t.vowel!==""?0:(t.Value===this.lam&&(e===this.alef?(t.Value=this.lwa,t.Shapes=2,i=3):e===this.alefHamza?(t.Value=this.lwawh,t.Shapes=2,i=3):e===this.alefHamzaBelow?(t.Value=this.lwawhb,t.Shapes=2,i=3):e===this.alefMadda&&(t.Value=this.lwawm,t.Shapes=2,i=3)),i)}else return 0},n.prototype.getShapeCount=function(e){if(e>=this.hamza&&e<=this.bwhb&&!(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef)){var t=[];if(this.arabicMapTable.getValue(e))return t=this.arabicMapTable.getValue(e),t.length-1}else if(e===this.zeroWidthJoiner)return 4;return 1},n}(),Jr=function(){function n(){this.shapeValue="",this.shapeType="",this.shapeVowel="",this.shapeLigature=0,this.shapeShapes=1}return Object.defineProperty(n.prototype,"Value",{get:function(){return this.shapeValue},set:function(e){this.shapeValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Type",{get:function(){return this.shapeType},set:function(e){this.shapeType=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"vowel",{get:function(){return this.shapeVowel},set:function(e){this.shapeVowel=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Ligature",{get:function(){return this.shapeLigature},set:function(e){this.shapeLigature=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Shapes",{get:function(){return this.shapeShapes},set:function(e){this.shapeShapes=e},enumerable:!0,configurable:!0}),n}(),Ru=function(){function n(){this.indexes=[],this.indexLevels=[],this.mirroringShapeCharacters=new xe,this.update()}return n.prototype.doMirrorShaping=function(e){for(var t=[],i=0;i<e.length;i++)(this.indexLevels[i]&1)===1&&this.mirroringShapeCharacters.containsKey(e[i].charCodeAt(0))?t[i]=String.fromCharCode(this.mirroringShapeCharacters.getValue(e[i].charCodeAt(0))):t[i]=e[i].toString();for(var r="",s=0;s<t.length;s++)r=r+t[s];return r},n.prototype.getLogicalToVisualString=function(e,t){var i=new Bu;this.indexLevels=i.getVisualOrder(e,t),this.setDefaultIndexLevel(),this.doOrder(0,this.indexLevels.length-1);for(var r=this.doMirrorShaping(e),s="",a=0;a<this.indexes.length;a++){var o=this.indexes[a];s+=r[o]}return s.toString()},n.prototype.setDefaultIndexLevel=function(){for(var e=0;e<this.indexLevels.length;e++)this.indexes[e]=e},n.prototype.doOrder=function(e,t){for(var i=this.indexLevels[e],r=i,s=i,a=i,o=e+1;o<=t;++o){var l=this.indexLevels[o];l>i?i=l:l<r&&(r=l),s&=l,a|=l}if(a&1){if((s&1)===1){this.reArrange(e,t+1);return}for(r|=1;i>=r;){for(var h=e;;){for(;h<=t&&!(this.indexLevels[h]>=i);)h+=1;if(h>t)break;for(var u=h+1;u<=t&&!(this.indexLevels[u]<i);)u+=1;this.reArrange(h,u),h=u+1}i-=1}}},n.prototype.reArrange=function(e,t){var i=(e+t)/2;for(--t;e<i;++e,--t){var r=this.indexes[e];this.indexes[e]=this.indexes[t],this.indexes[t]=r}},n.prototype.update=function(){this.mirroringShapeCharacters.setValue(40,41),this.mirroringShapeCharacters.setValue(41,40),this.mirroringShapeCharacters.setValue(60,62),this.mirroringShapeCharacters.setValue(62,60),this.mirroringShapeCharacters.setValue(91,93),this.mirroringShapeCharacters.setValue(93,91),this.mirroringShapeCharacters.setValue(123,125),this.mirroringShapeCharacters.setValue(125,123),this.mirroringShapeCharacters.setValue(171,187),this.mirroringShapeCharacters.setValue(187,171),this.mirroringShapeCharacters.setValue(8249,8250),this.mirroringShapeCharacters.setValue(8250,8249),this.mirroringShapeCharacters.setValue(8261,8262),this.mirroringShapeCharacters.setValue(8262,8261),this.mirroringShapeCharacters.setValue(8317,8318),this.mirroringShapeCharacters.setValue(8318,8317),this.mirroringShapeCharacters.setValue(8333,8334),this.mirroringShapeCharacters.setValue(8334,8333),this.mirroringShapeCharacters.setValue(8712,8715),this.mirroringShapeCharacters.setValue(8713,8716),this.mirroringShapeCharacters.setValue(8714,8717),this.mirroringShapeCharacters.setValue(8715,8712),this.mirroringShapeCharacters.setValue(8716,8713),this.mirroringShapeCharacters.setValue(8717,8714),this.mirroringShapeCharacters.setValue(8725,10741),this.mirroringShapeCharacters.setValue(8764,8765),this.mirroringShapeCharacters.setValue(8765,8764),this.mirroringShapeCharacters.setValue(8771,8909),this.mirroringShapeCharacters.setValue(8786,8787),this.mirroringShapeCharacters.setValue(8787,8786),this.mirroringShapeCharacters.setValue(8788,8789),this.mirroringShapeCharacters.setValue(8789,8788),this.mirroringShapeCharacters.setValue(8804,8805),this.mirroringShapeCharacters.setValue(8805,8804),this.mirroringShapeCharacters.setValue(8806,8807),this.mirroringShapeCharacters.setValue(8807,8806),this.mirroringShapeCharacters.setValue(8808,8809),this.mirroringShapeCharacters.setValue(8809,8808),this.mirroringShapeCharacters.setValue(8810,8811),this.mirroringShapeCharacters.setValue(8811,8810),this.mirroringShapeCharacters.setValue(8814,8815),this.mirroringShapeCharacters.setValue(8815,8814),this.mirroringShapeCharacters.setValue(8816,8817),this.mirroringShapeCharacters.setValue(8817,8816),this.mirroringShapeCharacters.setValue(8818,8819),this.mirroringShapeCharacters.setValue(8819,8818),this.mirroringShapeCharacters.setValue(8820,8821),this.mirroringShapeCharacters.setValue(8821,8820),this.mirroringShapeCharacters.setValue(8822,8823),this.mirroringShapeCharacters.setValue(8823,8822),this.mirroringShapeCharacters.setValue(8824,8825),this.mirroringShapeCharacters.setValue(8825,8824),this.mirroringShapeCharacters.setValue(8826,8827),this.mirroringShapeCharacters.setValue(8827,8826),this.mirroringShapeCharacters.setValue(8828,8829),this.mirroringShapeCharacters.setValue(8829,8828),this.mirroringShapeCharacters.setValue(8830,8831),this.mirroringShapeCharacters.setValue(8831,8830),this.mirroringShapeCharacters.setValue(8832,8833),this.mirroringShapeCharacters.setValue(8833,8832),this.mirroringShapeCharacters.setValue(8834,8835),this.mirroringShapeCharacters.setValue(8835,8834),this.mirroringShapeCharacters.setValue(8836,8837),this.mirroringShapeCharacters.setValue(8837,8836),this.mirroringShapeCharacters.setValue(8838,8839),this.mirroringShapeCharacters.setValue(8839,8838),this.mirroringShapeCharacters.setValue(8840,8841),this.mirroringShapeCharacters.setValue(8841,8840),this.mirroringShapeCharacters.setValue(8842,8843),this.mirroringShapeCharacters.setValue(8843,8842),this.mirroringShapeCharacters.setValue(8847,8848),this.mirroringShapeCharacters.setValue(8848,8847),this.mirroringShapeCharacters.setValue(8849,8850),this.mirroringShapeCharacters.setValue(8850,8849),this.mirroringShapeCharacters.setValue(8856,10680),this.mirroringShapeCharacters.setValue(8866,8867),this.mirroringShapeCharacters.setValue(8867,8866),this.mirroringShapeCharacters.setValue(8870,10974),this.mirroringShapeCharacters.setValue(8872,10980),this.mirroringShapeCharacters.setValue(8873,10979),this.mirroringShapeCharacters.setValue(8875,10981),this.mirroringShapeCharacters.setValue(8880,8881),this.mirroringShapeCharacters.setValue(8881,8880),this.mirroringShapeCharacters.setValue(8882,8883),this.mirroringShapeCharacters.setValue(8883,8882),this.mirroringShapeCharacters.setValue(8884,8885),this.mirroringShapeCharacters.setValue(8885,8884),this.mirroringShapeCharacters.setValue(8886,8887),this.mirroringShapeCharacters.setValue(8887,8886),this.mirroringShapeCharacters.setValue(8905,8906),this.mirroringShapeCharacters.setValue(8906,8905),this.mirroringShapeCharacters.setValue(8907,8908),this.mirroringShapeCharacters.setValue(8908,8907),this.mirroringShapeCharacters.setValue(8909,8771),this.mirroringShapeCharacters.setValue(8912,8913),this.mirroringShapeCharacters.setValue(8913,8912),this.mirroringShapeCharacters.setValue(8918,8919),this.mirroringShapeCharacters.setValue(8919,8918),this.mirroringShapeCharacters.setValue(8920,8921),this.mirroringShapeCharacters.setValue(8921,8920),this.mirroringShapeCharacters.setValue(8922,8923),this.mirroringShapeCharacters.setValue(8923,8922),this.mirroringShapeCharacters.setValue(8924,8925),this.mirroringShapeCharacters.setValue(8925,8924),this.mirroringShapeCharacters.setValue(8926,8927),this.mirroringShapeCharacters.setValue(8927,8926),this.mirroringShapeCharacters.setValue(8928,8929),this.mirroringShapeCharacters.setValue(8929,8928),this.mirroringShapeCharacters.setValue(8930,8931),this.mirroringShapeCharacters.setValue(8931,8930),this.mirroringShapeCharacters.setValue(8932,8933),this.mirroringShapeCharacters.setValue(8933,8932),this.mirroringShapeCharacters.setValue(8934,8935),this.mirroringShapeCharacters.setValue(8935,8934),this.mirroringShapeCharacters.setValue(8936,8937),this.mirroringShapeCharacters.setValue(8937,8936),this.mirroringShapeCharacters.setValue(8938,8939),this.mirroringShapeCharacters.setValue(8939,8938),this.mirroringShapeCharacters.setValue(8940,8941),this.mirroringShapeCharacters.setValue(8941,8940),this.mirroringShapeCharacters.setValue(8944,8945),this.mirroringShapeCharacters.setValue(8945,8944),this.mirroringShapeCharacters.setValue(8946,8954),this.mirroringShapeCharacters.setValue(8947,8955),this.mirroringShapeCharacters.setValue(8948,8956),this.mirroringShapeCharacters.setValue(8950,8957),this.mirroringShapeCharacters.setValue(8951,8958),this.mirroringShapeCharacters.setValue(8954,8946),this.mirroringShapeCharacters.setValue(8955,8947),this.mirroringShapeCharacters.setValue(8956,8948),this.mirroringShapeCharacters.setValue(8957,8950),this.mirroringShapeCharacters.setValue(8958,8951),this.mirroringShapeCharacters.setValue(8968,8969),this.mirroringShapeCharacters.setValue(8969,8968),this.mirroringShapeCharacters.setValue(8970,8971),this.mirroringShapeCharacters.setValue(8971,8970),this.mirroringShapeCharacters.setValue(9001,9002),this.mirroringShapeCharacters.setValue(9002,9001),this.mirroringShapeCharacters.setValue(10088,10089),this.mirroringShapeCharacters.setValue(10089,10088),this.mirroringShapeCharacters.setValue(10090,10091),this.mirroringShapeCharacters.setValue(10091,10090),this.mirroringShapeCharacters.setValue(10092,10093),this.mirroringShapeCharacters.setValue(10093,10092),this.mirroringShapeCharacters.setValue(10094,10095),this.mirroringShapeCharacters.setValue(10095,10094),this.mirroringShapeCharacters.setValue(10096,10097),this.mirroringShapeCharacters.setValue(10097,10096),this.mirroringShapeCharacters.setValue(10098,10099),this.mirroringShapeCharacters.setValue(10099,10098),this.mirroringShapeCharacters.setValue(10100,10101),this.mirroringShapeCharacters.setValue(10101,10100),this.mirroringShapeCharacters.setValue(10197,10198),this.mirroringShapeCharacters.setValue(10198,10197),this.mirroringShapeCharacters.setValue(10205,10206),this.mirroringShapeCharacters.setValue(10206,10205),this.mirroringShapeCharacters.setValue(10210,10211),this.mirroringShapeCharacters.setValue(10211,10210),this.mirroringShapeCharacters.setValue(10212,10213),this.mirroringShapeCharacters.setValue(10213,10212),this.mirroringShapeCharacters.setValue(10214,10215),this.mirroringShapeCharacters.setValue(10215,10214),this.mirroringShapeCharacters.setValue(10216,10217),this.mirroringShapeCharacters.setValue(10217,10216),this.mirroringShapeCharacters.setValue(10218,10219),this.mirroringShapeCharacters.setValue(10219,10218),this.mirroringShapeCharacters.setValue(10627,10628),this.mirroringShapeCharacters.setValue(10628,10627),this.mirroringShapeCharacters.setValue(10629,10630),this.mirroringShapeCharacters.setValue(10630,10629),this.mirroringShapeCharacters.setValue(10631,10632),this.mirroringShapeCharacters.setValue(10632,10631),this.mirroringShapeCharacters.setValue(10633,10634),this.mirroringShapeCharacters.setValue(10634,10633),this.mirroringShapeCharacters.setValue(10635,10636),this.mirroringShapeCharacters.setValue(10636,10635),this.mirroringShapeCharacters.setValue(10637,10640),this.mirroringShapeCharacters.setValue(10638,10639),this.mirroringShapeCharacters.setValue(10639,10638),this.mirroringShapeCharacters.setValue(10640,10637),this.mirroringShapeCharacters.setValue(10641,10642),this.mirroringShapeCharacters.setValue(10642,10641),this.mirroringShapeCharacters.setValue(10643,10644),this.mirroringShapeCharacters.setValue(10644,10643),this.mirroringShapeCharacters.setValue(10645,10646),this.mirroringShapeCharacters.setValue(10646,10645),this.mirroringShapeCharacters.setValue(10647,10648),this.mirroringShapeCharacters.setValue(10648,10647),this.mirroringShapeCharacters.setValue(10680,8856),this.mirroringShapeCharacters.setValue(10688,10689),this.mirroringShapeCharacters.setValue(10689,10688),this.mirroringShapeCharacters.setValue(10692,10693),this.mirroringShapeCharacters.setValue(10693,10692),this.mirroringShapeCharacters.setValue(10703,10704),this.mirroringShapeCharacters.setValue(10704,10703),this.mirroringShapeCharacters.setValue(10705,10706),this.mirroringShapeCharacters.setValue(10706,10705),this.mirroringShapeCharacters.setValue(10708,10709),this.mirroringShapeCharacters.setValue(10709,10708),this.mirroringShapeCharacters.setValue(10712,10713),this.mirroringShapeCharacters.setValue(10713,10712),this.mirroringShapeCharacters.setValue(10714,10715),this.mirroringShapeCharacters.setValue(10715,10714),this.mirroringShapeCharacters.setValue(10741,8725),this.mirroringShapeCharacters.setValue(10744,10745),this.mirroringShapeCharacters.setValue(10745,10744),this.mirroringShapeCharacters.setValue(10748,10749),this.mirroringShapeCharacters.setValue(10749,10748),this.mirroringShapeCharacters.setValue(10795,10796),this.mirroringShapeCharacters.setValue(10796,10795),this.mirroringShapeCharacters.setValue(10797,10796),this.mirroringShapeCharacters.setValue(10798,10797),this.mirroringShapeCharacters.setValue(10804,10805),this.mirroringShapeCharacters.setValue(10805,10804),this.mirroringShapeCharacters.setValue(10812,10813),this.mirroringShapeCharacters.setValue(10813,10812),this.mirroringShapeCharacters.setValue(10852,10853),this.mirroringShapeCharacters.setValue(10853,10852),this.mirroringShapeCharacters.setValue(10873,10874),this.mirroringShapeCharacters.setValue(10874,10873),this.mirroringShapeCharacters.setValue(10877,10878),this.mirroringShapeCharacters.setValue(10878,10877),this.mirroringShapeCharacters.setValue(10879,10880),this.mirroringShapeCharacters.setValue(10880,10879),this.mirroringShapeCharacters.setValue(10881,10882),this.mirroringShapeCharacters.setValue(10882,10881),this.mirroringShapeCharacters.setValue(10883,10884),this.mirroringShapeCharacters.setValue(10884,10883),this.mirroringShapeCharacters.setValue(10891,10892),this.mirroringShapeCharacters.setValue(10892,10891),this.mirroringShapeCharacters.setValue(10897,10898),this.mirroringShapeCharacters.setValue(10898,10897),this.mirroringShapeCharacters.setValue(10899,10900),this.mirroringShapeCharacters.setValue(10900,10899),this.mirroringShapeCharacters.setValue(10901,10902),this.mirroringShapeCharacters.setValue(10902,10901),this.mirroringShapeCharacters.setValue(10903,10904),this.mirroringShapeCharacters.setValue(10904,10903),this.mirroringShapeCharacters.setValue(10905,10906),this.mirroringShapeCharacters.setValue(10906,10905),this.mirroringShapeCharacters.setValue(10907,10908),this.mirroringShapeCharacters.setValue(10908,10907),this.mirroringShapeCharacters.setValue(10913,10914),this.mirroringShapeCharacters.setValue(10914,10913),this.mirroringShapeCharacters.setValue(10918,10919),this.mirroringShapeCharacters.setValue(10919,10918),this.mirroringShapeCharacters.setValue(10920,10921),this.mirroringShapeCharacters.setValue(10921,10920),this.mirroringShapeCharacters.setValue(10922,10923),this.mirroringShapeCharacters.setValue(10923,10922),this.mirroringShapeCharacters.setValue(10924,10925),this.mirroringShapeCharacters.setValue(10925,10924),this.mirroringShapeCharacters.setValue(10927,10928),this.mirroringShapeCharacters.setValue(10928,10927),this.mirroringShapeCharacters.setValue(10931,10932),this.mirroringShapeCharacters.setValue(10932,10931),this.mirroringShapeCharacters.setValue(10939,10940),this.mirroringShapeCharacters.setValue(10940,10939),this.mirroringShapeCharacters.setValue(10941,10942),this.mirroringShapeCharacters.setValue(10942,10941),this.mirroringShapeCharacters.setValue(10943,10944),this.mirroringShapeCharacters.setValue(10944,10943),this.mirroringShapeCharacters.setValue(10945,10946),this.mirroringShapeCharacters.setValue(10946,10945),this.mirroringShapeCharacters.setValue(10947,10948),this.mirroringShapeCharacters.setValue(10948,10947),this.mirroringShapeCharacters.setValue(10949,10950),this.mirroringShapeCharacters.setValue(10950,10949),this.mirroringShapeCharacters.setValue(10957,10958),this.mirroringShapeCharacters.setValue(10958,10957),this.mirroringShapeCharacters.setValue(10959,10960),this.mirroringShapeCharacters.setValue(10960,10959),this.mirroringShapeCharacters.setValue(10961,10962),this.mirroringShapeCharacters.setValue(10962,10961),this.mirroringShapeCharacters.setValue(10963,10964),this.mirroringShapeCharacters.setValue(10964,10963),this.mirroringShapeCharacters.setValue(10965,10966),this.mirroringShapeCharacters.setValue(10966,10965),this.mirroringShapeCharacters.setValue(10974,8870),this.mirroringShapeCharacters.setValue(10979,8873),this.mirroringShapeCharacters.setValue(10980,8872),this.mirroringShapeCharacters.setValue(10981,8875),this.mirroringShapeCharacters.setValue(10988,10989),this.mirroringShapeCharacters.setValue(10989,10988),this.mirroringShapeCharacters.setValue(10999,11e3),this.mirroringShapeCharacters.setValue(11e3,10999),this.mirroringShapeCharacters.setValue(11001,11002),this.mirroringShapeCharacters.setValue(11002,11001),this.mirroringShapeCharacters.setValue(12296,12297),this.mirroringShapeCharacters.setValue(12297,12296),this.mirroringShapeCharacters.setValue(12298,12299),this.mirroringShapeCharacters.setValue(12299,12298),this.mirroringShapeCharacters.setValue(12300,12301),this.mirroringShapeCharacters.setValue(12301,12300),this.mirroringShapeCharacters.setValue(12302,12303),this.mirroringShapeCharacters.setValue(12303,12302),this.mirroringShapeCharacters.setValue(12304,12305),this.mirroringShapeCharacters.setValue(12305,12304),this.mirroringShapeCharacters.setValue(12308,12309),this.mirroringShapeCharacters.setValue(12309,12308),this.mirroringShapeCharacters.setValue(12310,12311),this.mirroringShapeCharacters.setValue(12311,12310),this.mirroringShapeCharacters.setValue(12312,12313),this.mirroringShapeCharacters.setValue(12313,12312),this.mirroringShapeCharacters.setValue(12314,12315),this.mirroringShapeCharacters.setValue(12315,12314),this.mirroringShapeCharacters.setValue(65288,65289),this.mirroringShapeCharacters.setValue(65289,65288),this.mirroringShapeCharacters.setValue(65308,65310),this.mirroringShapeCharacters.setValue(65310,65308),this.mirroringShapeCharacters.setValue(65339,65341),this.mirroringShapeCharacters.setValue(65341,65339),this.mirroringShapeCharacters.setValue(65371,65373),this.mirroringShapeCharacters.setValue(65373,65371),this.mirroringShapeCharacters.setValue(65375,65376),this.mirroringShapeCharacters.setValue(65376,65375),this.mirroringShapeCharacters.setValue(65378,65379),this.mirroringShapeCharacters.setValue(65379,65378)},n}(),Bu=function(){function n(){this.types=[],this.textOrder=-1,this.rtlCharacterTypes=new Array(65536),this.L=0,this.LRE=1,this.LRO=2,this.R=3,this.AL=4,this.RLE=5,this.RLO=6,this.PDF=7,this.EN=8,this.ES=9,this.ET=10,this.AN=11,this.CS=12,this.NSM=13,this.BN=14,this.B=15,this.S=16,this.WS=17,this.ON=18,this.charTypes=[this.L,this.EN,this.BN,this.ES,this.ES,this.S,this.ET,this.ET,this.B,this.AN,this.AN,this.S,this.CS,this.CS,this.WS,this.NSM,this.NSM,this.B,this.BN,27,this.BN,28,30,this.B,31,31,this.S,32,32,this.WS,33,34,this.ON,35,37,this.ET,38,42,this.ON,43,43,this.ET,44,44,this.CS,45,45,this.ET,46,46,this.CS,47,47,this.CS,48,57,this.EN,58,58,this.CS,59,64,this.ON,65,90,this.L,91,96,this.ON,97,122,this.L,123,126,this.ON,127,132,this.BN,133,133,this.B,134,159,this.BN,160,160,this.CS,161,161,this.ON,162,165,this.ET,166,169,this.ON,170,170,this.L,171,175,this.ON,176,177,this.ET,178,179,this.EN,180,180,this.ON,181,181,this.L,182,184,this.ON,185,185,this.EN,186,186,this.L,187,191,this.ON,192,214,this.L,215,215,this.ON,216,246,this.L,247,247,this.ON,248,696,this.L,697,698,this.ON,699,705,this.L,706,719,this.ON,720,721,this.L,722,735,this.ON,736,740,this.L,741,749,this.ON,750,750,this.L,751,767,this.ON,768,855,this.NSM,856,860,this.L,861,879,this.NSM,880,883,this.L,884,885,this.ON,886,893,this.L,894,894,this.ON,895,899,this.L,900,901,this.ON,902,902,this.L,903,903,this.ON,904,1013,this.L,1014,1014,this.ON,1015,1154,this.L,1155,1158,this.NSM,1159,1159,this.L,1160,1161,this.NSM,1162,1417,this.L,1418,1418,this.ON,1419,1424,this.L,1425,1441,this.NSM,1442,1442,this.L,1443,1465,this.NSM,1466,1466,this.L,1467,1469,this.NSM,1470,1470,this.R,1471,1471,this.NSM,1472,1472,this.R,1473,1474,this.NSM,1475,1475,this.R,1476,1476,this.NSM,1477,1487,this.L,1488,1514,this.R,1515,1519,this.L,1520,1524,this.R,1525,1535,this.L,1536,1539,this.AL,1540,1547,this.L,1548,1548,this.CS,1549,1549,this.AL,1550,1551,this.ON,1552,1557,this.NSM,1558,1562,this.L,1563,1563,this.AL,1564,1566,this.L,1567,1567,this.AL,1568,1568,this.L,1569,1594,this.AL,1595,1599,this.L,1600,1610,this.AL,1611,1624,this.NSM,1625,1631,this.L,1632,1641,this.AN,1642,1642,this.ET,1643,1644,this.AN,1645,1647,this.AL,1648,1648,this.NSM,1649,1749,this.AL,1750,1756,this.NSM,1757,1757,this.AL,1758,1764,this.NSM,1765,1766,this.AL,1767,1768,this.NSM,1769,1769,this.ON,1770,1773,this.NSM,1774,1775,this.AL,1776,1785,this.EN,1786,1805,this.AL,1806,1806,this.L,1807,1807,this.BN,1808,1808,this.AL,1809,1809,this.NSM,1810,1839,this.AL,1840,1866,this.NSM,1867,1868,this.L,1869,1871,this.AL,1872,1919,this.L,1920,1957,this.AL,1958,1968,this.NSM,1969,1969,this.AL,1970,2304,this.L,2305,2306,this.NSM,2307,2363,this.L,2364,2364,this.NSM,2365,2368,this.L,2369,2376,this.NSM,2377,2380,this.L,2381,2381,this.NSM,2382,2384,this.L,2385,2388,this.NSM,2389,2401,this.L,2402,2403,this.NSM,2404,2432,this.L,2433,2433,this.NSM,2434,2491,this.L,2492,2492,this.NSM,2493,2496,this.L,2497,2500,this.NSM,2501,2508,this.L,2509,2509,this.NSM,2510,2529,this.L,2530,2531,this.NSM,2532,2545,this.L,2546,2547,this.ET,2548,2560,this.L,2561,2562,this.NSM,2563,2619,this.L,2620,2620,this.NSM,2621,2624,this.L,2625,2626,this.NSM,2627,2630,this.L,2631,2632,this.NSM,2633,2634,this.L,2635,2637,this.NSM,2638,2671,this.L,2672,2673,this.NSM,2674,2688,this.L,2689,2690,this.NSM,2691,2747,this.L,2748,2748,this.NSM,2749,2752,this.L,2753,2757,this.NSM,2758,2758,this.L,2759,2760,this.NSM,2761,2764,this.L,2765,2765,this.NSM,2766,2785,this.L,2786,2787,this.NSM,2788,2800,this.L,2801,2801,this.ET,2802,2816,this.L,2817,2817,this.NSM,2818,2875,this.L,2876,2876,this.NSM,2877,2878,this.L,2879,2879,this.NSM,2880,2880,this.L,2881,2883,this.NSM,2884,2892,this.L,2893,2893,this.NSM,2894,2901,this.L,2902,2902,this.NSM,2903,2945,this.L,2946,2946,this.NSM,2947,3007,this.L,3008,3008,this.NSM,3009,3020,this.L,3021,3021,this.NSM,3022,3058,this.L,3059,3064,this.ON,3065,3065,this.ET,3066,3066,this.ON,3067,3133,this.L,3134,3136,this.NSM,3137,3141,this.L,3142,3144,this.NSM,3145,3145,this.L,3146,3149,this.NSM,3150,3156,this.L,3157,3158,this.NSM,3159,3259,this.L,3260,3260,this.NSM,3261,3275,this.L,3276,3277,this.NSM,3278,3392,this.L,3393,3395,this.NSM,3396,3404,this.L,3405,3405,this.NSM,3406,3529,this.L,3530,3530,this.NSM,3531,3537,this.L,3538,3540,this.NSM,3541,3541,this.L,3542,3542,this.NSM,3543,3632,this.L,3633,3633,this.NSM,3634,3635,this.L,3636,3642,this.NSM,3643,3646,this.L,3647,3647,this.ET,3648,3654,this.L,3655,3662,this.NSM,3663,3760,this.L,3761,3761,this.NSM,3762,3763,this.L,3764,3769,this.NSM,3770,3770,this.L,3771,3772,this.NSM,3773,3783,this.L,3784,3789,this.NSM,3790,3863,this.L,3864,3865,this.NSM,3866,3892,this.L,3893,3893,this.NSM,3894,3894,this.L,3895,3895,this.NSM,3896,3896,this.L,3897,3897,this.NSM,3898,3901,this.ON,3902,3952,this.L,3953,3966,this.NSM,3967,3967,this.L,3968,3972,this.NSM,3973,3973,this.L,3974,3975,this.NSM,3976,3983,this.L,3984,3991,this.NSM,3992,3992,this.L,3993,4028,this.NSM,4029,4037,this.L,4038,4038,this.NSM,4039,4140,this.L,4141,4144,this.NSM,4145,4145,this.L,4146,4146,this.NSM,4147,4149,this.L,4150,4151,this.NSM,4152,4152,this.L,4153,4153,this.NSM,4154,4183,this.L,4184,4185,this.NSM,4186,5759,this.L,5760,5760,this.WS,5761,5786,this.L,5787,5788,this.ON,5789,5905,this.L,5906,5908,this.NSM,5909,5937,this.L,5938,5940,this.NSM,5941,5969,this.L,5970,5971,this.NSM,5972,6001,this.L,6002,6003,this.NSM,6004,6070,this.L,6071,6077,this.NSM,6078,6085,this.L,6086,6086,this.NSM,6087,6088,this.L,6089,6099,this.NSM,6100,6106,this.L,6107,6107,this.ET,6108,6108,this.L,6109,6109,this.NSM,6110,6127,this.L,6128,6137,this.ON,6138,6143,this.L,6144,6154,this.ON,6155,6157,this.NSM,6158,6158,this.WS,6159,6312,this.L,6313,6313,this.NSM,6314,6431,this.L,6432,6434,this.NSM,6435,6438,this.L,6439,6443,this.NSM,6444,6449,this.L,6450,6450,this.NSM,6451,6456,this.L,6457,6459,this.NSM,6460,6463,this.L,6464,6464,this.ON,6465,6467,this.L,6468,6469,this.ON,6470,6623,this.L,6624,6655,this.ON,6656,8124,this.L,8125,8125,this.ON,8126,8126,this.L,8127,8129,this.ON,8130,8140,this.L,8141,8143,this.ON,8144,8156,this.L,8157,8159,this.ON,8160,8172,this.L,8173,8175,this.ON,8176,8188,this.L,8189,8190,this.ON,8191,8191,this.L,8192,8202,this.WS,8203,8205,this.BN,8206,8206,this.L,8207,8207,this.R,8208,8231,this.ON,8232,8232,this.WS,8233,8233,this.B,8234,8234,this.LRE,8235,8235,this.RLE,8236,8236,this.PDF,8237,8237,this.LRO,8238,8238,this.RLO,8239,8239,this.WS,8240,8244,this.ET,8245,8276,this.ON,8277,8278,this.L,8279,8279,this.ON,8280,8286,this.L,8287,8287,this.WS,8288,8291,this.BN,8292,8297,this.L,8298,8303,this.BN,8304,8304,this.EN,8305,8307,this.L,8308,8313,this.EN,8314,8315,this.ET,8316,8318,this.ON,8319,8319,this.L,8320,8329,this.EN,8330,8331,this.ET,8332,8334,this.ON,8335,8351,this.L,8352,8369,this.ET,8370,8399,this.L,8400,8426,this.NSM,8427,8447,this.L,8448,8449,this.ON,8450,8450,this.L,8451,8454,this.ON,8455,8455,this.L,8456,8457,this.ON,8458,8467,this.L,8468,8468,this.ON,8469,8469,this.L,8470,8472,this.ON,8473,8477,this.L,8478,8483,this.ON,8484,8484,this.L,8485,8485,this.ON,8486,8486,this.L,8487,8487,this.ON,8488,8488,this.L,8489,8489,this.ON,8490,8493,this.L,8494,8494,this.ET,8495,8497,this.L,8498,8498,this.ON,8499,8505,this.L,8506,8507,this.ON,8508,8511,this.L,8512,8516,this.ON,8517,8521,this.L,8522,8523,this.ON,8524,8530,this.L,8531,8543,this.ON,8544,8591,this.L,8592,8721,this.ON,8722,8723,this.ET,8724,9013,this.ON,9014,9082,this.L,9083,9108,this.ON,9109,9109,this.L,9110,9168,this.ON,9169,9215,this.L,9216,9254,this.ON,9255,9279,this.L,9280,9290,this.ON,9291,9311,this.L,9312,9371,this.EN,9372,9449,this.L,9450,9450,this.EN,9451,9751,this.ON,9752,9752,this.L,9753,9853,this.ON,9854,9855,this.L,9856,9873,this.ON,9874,9887,this.L,9888,9889,this.ON,9890,9984,this.L,9985,9988,this.ON,9989,9989,this.L,9990,9993,this.ON,9994,9995,this.L,9996,10023,this.ON,10024,10024,this.L,10025,10059,this.ON,10060,10060,this.L,10061,10061,this.ON,10062,10062,this.L,10063,10066,this.ON,10067,10069,this.L,10070,10070,this.ON,10071,10071,this.L,10072,10078,this.ON,10079,10080,this.L,10081,10132,this.ON,10133,10135,this.L,10136,10159,this.ON,10160,10160,this.L,10161,10174,this.ON,10175,10191,this.L,10192,10219,this.ON,10220,10223,this.L,10224,11021,this.ON,11022,11903,this.L,11904,11929,this.ON,11930,11930,this.L,11931,12019,this.ON,12020,12031,this.L,12032,12245,this.ON,12246,12271,this.L,12272,12283,this.ON,12284,12287,this.L,12288,12288,this.WS,12289,12292,this.ON,12293,12295,this.L,12296,12320,this.ON,12321,12329,this.L,12330,12335,this.NSM,12336,12336,this.ON,12337,12341,this.L,12342,12343,this.ON,12344,12348,this.L,12349,12351,this.ON,12352,12440,this.L,12441,12442,this.NSM,12443,12444,this.ON,12445,12447,this.L,12448,12448,this.ON,12449,12538,this.L,12539,12539,this.ON,12540,12828,this.L,12829,12830,this.ON,12831,12879,this.L,12880,12895,this.ON,12896,12923,this.L,12924,12925,this.ON,12926,12976,this.L,12977,12991,this.ON,12992,13003,this.L,13004,13007,this.ON,13008,13174,this.L,13175,13178,this.ON,13179,13277,this.L,13278,13279,this.ON,13280,13310,this.L,13311,13311,this.ON,13312,19903,this.L,19904,19967,this.ON,19968,42127,this.L,42128,42182,this.ON,42183,64284,this.L,64285,64285,this.R,64286,64286,this.NSM,64287,64296,this.R,64297,64297,this.ET,64298,64310,this.R,64311,64311,this.L,64312,64316,this.R,64317,64317,this.L,64318,64318,this.R,64319,64319,this.L,64320,64321,this.R,64322,64322,this.L,64323,64324,this.R,64325,64325,this.L,64326,64335,this.R,64336,64433,this.AL,64434,64466,this.L,64467,64829,this.AL,64830,64831,this.ON,64832,64847,this.L,64848,64911,this.AL,64912,64913,this.L,64914,64967,this.AL,64968,65007,this.L,65008,65020,this.AL,65021,65021,this.ON,65022,65023,this.L,65024,65039,this.NSM,65040,65055,this.L,65056,65059,this.NSM,65060,65071,this.L,65072,65103,this.ON,65104,65104,this.CS,65105,65105,this.ON,65106,65106,this.CS,65107,65107,this.L,65108,65108,this.ON,65109,65109,this.CS,65110,65118,this.ON,65119,65119,this.ET,65120,65121,this.ON,65122,65123,this.ET,65124,65126,this.ON,65127,65127,this.L,65128,65128,this.ON,65129,65130,this.ET,65131,65131,this.ON,65132,65135,this.L,65136,65140,this.AL,65141,65141,this.L,65142,65276,this.AL,65277,65278,this.L,65279,65279,this.BN,65280,65280,this.L,65281,65282,this.ON,65283,65285,this.ET,65286,65290,this.ON,65291,65291,this.ET,65292,65292,this.CS,65293,65293,this.ET,65294,65294,this.CS,65295,65295,this.ES,65296,65305,this.EN,65306,65306,this.CS,65307,65312,this.ON,65313,65338,this.L,65339,65344,this.ON,65345,65370,this.L,65371,65381,this.ON,65382,65503,this.L,65504,65505,this.ET,65506,65508,this.ON,65509,65510,this.ET,65511,65511,this.L,65512,65518,this.ON,65519,65528,this.L,65529,65531,this.BN,65532,65533,this.ON,65534,65535,this.L];for(var e=0;e<this.charTypes.length;++e)for(var t=this.charTypes[e],i=this.charTypes[++e],r=this.charTypes[++e];t<=i;)this.rtlCharacterTypes[t++]=r}return n.prototype.getVisualOrder=function(e,t){this.types=this.getCharacterCode(e),this.textOrder=t?this.LRE:this.L,this.doVisualOrder();for(var i=[],r=0;r<this.levels.length;r++)i[r]=this.levels[r];return i},n.prototype.getCharacterCode=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=this.rtlCharacterTypes[e[i].charCodeAt(0)];return t},n.prototype.setDefaultLevels=function(){for(var e=0;e<this.length;e++)this.levels[e]=this.textOrder},n.prototype.setLevels=function(){this.setDefaultLevels();for(var e=0;e<this.length;++e){var t=this.levels[e];t&128&&(t&=127,this.result[e]=t&1?this.R:this.L),this.levels[e]=t}},n.prototype.updateLevels=function(e,t,i){if(t&1)for(var r=e;r<i;++r)this.result[r]!==this.R&&(this.levels[r]+=1);else for(var r=e;r<i;++r)this.result[r]===this.R?this.levels[r]+=1:this.result[r]!==this.L&&(this.levels[r]+=2)},n.prototype.doVisualOrder=function(){this.length=this.types.length,this.result=this.types,this.levels=[],this.setLevels(),this.length=this.getEmbeddedCharactersLength();for(var e=this.textOrder,t=0;t<this.length;){for(var i=this.levels[t],r=Math.max(e,i)&1?this.R:this.L,s=t+1;s<this.length&&this.levels[s]===i;)++s;var a=s<this.length?this.levels[s]:this.textOrder,o=Math.max(a,i)&1?this.R:this.L;this.checkNSM(t,s,i,r,o),this.updateLevels(t,i,s),e=i,t=s}this.checkEmbeddedCharacters(this.length)},n.prototype.getEmbeddedCharactersLength=function(){for(var e=0,t=0;t<this.length;++t)this.types[t]===this.LRE||this.types[t]===this.RLE||this.types[t]===this.LRO||this.types[t]===this.RLO||this.types[t]===this.PDF||this.types[t]===this.BN||(this.result[e]=this.result[t],this.levels[e]=this.levels[t],e++);return e},n.prototype.checkEmbeddedCharacters=function(e){for(var t=this.types.length-1;t>=0;--t)this.types[t]===this.LRE||this.types[t]===this.RLE||this.types[t]===this.LRO||this.types[t]===this.RLO||this.types[t]===this.PDF||this.types[t]===this.BN?(this.result[t]=this.types[t],this.levels[t]=-1):(e-=1,this.result[t]=this.result[e],this.levels[t]=this.levels[e]);for(var t=0;t<this.types.length;t++)this.levels[t]===-1&&(t===0?this.levels[t]=this.textOrder:this.levels[t]=this.levels[t-1])},n.prototype.checkNSM=function(e,t,i,r,s){for(var a=r,o=e;o<t;++o)this.result[o]===this.NSM?this.result[o]=a:a=this.result[o];this.checkEuropeanDigits(e,t,i,r,s)},n.prototype.checkEuropeanDigits=function(e,t,i,r,s){for(var a=e;a<t;++a)if(this.result[a]===this.EN){for(var o=a-1;o>=e;--o)if(this.result[o]===this.L||this.result[o]===this.R||this.result[o]===this.AL){this.result[o]===this.AL&&(this.result[a]=this.AN);break}}this.checkArabicCharacters(e,t,i,r,s)},n.prototype.checkArabicCharacters=function(e,t,i,r,s){for(var a=e;a<t;++a)this.result[a]===this.AL&&(this.result[a]=this.R);this.checkEuropeanNumberSeparator(e,t,i,r,s)},n.prototype.checkEuropeanNumberSeparator=function(e,t,i,r,s){for(var a=e+1;a<t-1;++a)if(this.result[a]===this.ES||this.result[a]===this.CS){var o=this.result[a-1],l=this.result[a+1];o===this.EN&&l===this.EN?this.result[a]=this.EN:this.result[a]===this.CS&&o===this.AN&&l===this.AN&&(this.result[a]=this.AN)}this.checkEuropeanNumberTerminator(e,t,i,r,s)},n.prototype.checkEuropeanNumberTerminator=function(e,t,i,r,s){for(var a=e;a<t;++a)if(this.result[a]===this.ET){var o=a,l=[];l.push(this.ET);var h=this.getLength(o,t,l),u=o===e?r:this.result[o-1];if(u!==this.EN&&(u=h===t?s:this.result[h]),u===this.EN)for(var c=o;c<h;++c)this.result[c]=this.EN;a=h}this.checkOtherNeutrals(e,t,i,r,s)},n.prototype.checkOtherNeutrals=function(e,t,i,r,s){for(var a=e;a<t;++a)(this.result[a]===this.ES||this.result[a]===this.ET||this.result[a]===this.CS)&&(this.result[a]=this.ON);this.checkOtherCharacters(e,t,i,r,s)},n.prototype.checkOtherCharacters=function(e,t,i,r,s){for(var a=e;a<t;++a)if(this.result[a]===this.EN){for(var o=r,l=a-1;l>=e;--l)if(this.result[l]===this.L||this.result[l]===this.R){o=this.result[l];break}o===this.L&&(this.result[a]=this.L)}this.checkCommanCharacters(e,t,i,r,s)},n.prototype.getLength=function(e,t,i){for(--e;++e<t;){for(var r=this.result[e],s=0;s<i.length;++s)r===i[s]&&(e=this.getLength(++e,t,i));return e}return t},n.prototype.checkCommanCharacters=function(e,t,i,r,s){for(var a=e;a<t;++a)if(this.result[a]===this.WS||this.result[a]===this.ON||this.result[a]===this.B||this.result[a]===this.S){var o=a,l=[this.B,this.S,this.WS,this.ON],h=this.getLength(o,t,l),u=0,c=0,f=0;o===e?u=r:(u=this.result[o-1],u===this.AN?u=this.R:u===this.EN&&(u=this.R)),h===t?c=s:(c=this.result[h],c===this.AN?c=this.R:c===this.EN&&(c=this.R)),u===c?f=u:f=i&1?this.R:this.L;for(var d=o;d<h;++d)this.result[d]=f;a=h}},n}(),Iu=function(){function n(){this.openBracket="(",this.closeBracket=")"}return n.prototype.layout=function(e,t,i,r,s){if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");var a=[];return t.Unicode?a=this.customLayout(e,i,s,t,r):(a=[],a[0]=e),a},n.prototype.splitLayout=function(e,t,i,r,s){if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");var a=[];return a=this.customSplitLayout(e,t,i,r,s),a},n.prototype.getGlyphIndex=function(e,t,i,r,s){var a=!0,o=!1;if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");if(r=null,e.length===0)return{success:o,glyphs:r};var l=new Rs,h=l.shape(e,0),u=t.fontInternal,c=u.ttfReader;r=new Uint16Array(h.length);for(var f=0,d=0,g=h.length;d<g;d++){var p=h[d],b=c.getGlyph(p);b!==null&&typeof b<"u"&&(r[f++]=b.index)}return{success:a,glyphs:r}},n.prototype.customLayout=function(e,t,i,r,s){if(s===null||typeof s>"u"){if(e==null)throw new Error("ArgumentNullException : line");var a=null;if(i!==null&&typeof i<"u"&&i.textDirection!==Tt.None){var o=new Ru;a=o.getLogicalToVisualString(e,t)}return a}else{if(e==null)throw new Error("ArgumentNullException : line");if(r==null)throw new Error("ArgumentNullException : font");var l=null;if(i!==null&&typeof i<"u"&&i.textDirection!==Tt.None){var h=new Rs,u=h.shape(e,0);l=this.customLayout(u,t,i)}var a=[];if(s){for(var c=l.split(""),f=c.length,d=0;d<f;d++)c[d]=this.addChars(r,c[d]);a=c}else a=[],a[0]=this.addChars(r,l);return a}},n.prototype.addChars=function(e,t){var i=t;if(e==null)throw new Error("ArgumentNullException : font");if(i==null)throw new Error("ArgumentNullException : line");var r=i,s=e.fontInternal,a=s.ttfReader;e.setSymbols(r),r=a.convertString(r);var o=Ze.toUnicodeArray(r,!1);return r=Ze.byteToString(o),r},n.prototype.customSplitLayout=function(e,t,i,r,s){if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");var a=this.customLayout(e,i,s),o=a.split("");return o},n}(),Bs;(function(n){n[n.Paginate=0]="Paginate",n[n.OnePage=1]="OnePage"})(Bs||(Bs={}));var Is;(function(n){n[n.FitPage=0]="FitPage",n[n.FitElement=1]="FitElement",n[n.FitColumnsToPage=2]="FitColumnsToPage"})(Is||(Is={}));var at;(function(n){n[n.Start=0]="Start",n[n.Line=1]="Line",n[n.Bezier3=3]="Bezier3",n[n.Bezier=3]="Bezier",n[n.PathTypeMask=7]="PathTypeMask",n[n.DashMode=16]="DashMode",n[n.PathMarker=32]="PathMarker",n[n.CloseSubpath=128]="CloseSubpath"})(at||(at={}));var Du=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Li=function(n){Du(e,n);function e(t){var i=n.call(this)||this;return i.mbackground=new ui(255,255,255),i.mbStroking=!1,i.mfunction=null,i.dictionaryProperties=new Me,i.mpatternDictionary=new ve,i.mpatternDictionary.items.setValue(i.dictionaryProperties.type,new Q(i.dictionaryProperties.pattern)),i.mpatternDictionary.items.setValue(i.dictionaryProperties.patternType,new Z(2)),i.shading=t,i.colorSpace=Ae.Rgb,i}return Object.defineProperty(e.prototype,"background",{get:function(){return this.mbackground},set:function(t){this.mbackground=t;var i=this.shading;t.isEmpty?i.remove(this.dictionaryProperties.background):i.items.setValue(this.dictionaryProperties.background,t.toArray(this.colorSpace))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"antiAlias",{get:function(){var t=this.shading,i=t.items.getValue(this.dictionaryProperties.antiAlias);return i.value},set:function(t){var i=this.shading,r=i.items.getValue(this.dictionaryProperties.antiAlias);r==null&&typeof r>"u"?(r=new zt(t),i.items.setValue(this.dictionaryProperties.antiAlias,r)):r.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"function",{get:function(){return this.mfunction},set:function(t){this.mfunction=t,t!=null&&typeof t<"u"?this.shading.items.setValue(this.dictionaryProperties.function,new ye(this.mfunction)):this.shading.remove(this.dictionaryProperties.function)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bBox",{get:function(){var t=this.shading,i=t.items.getValue(this.dictionaryProperties.bBox);return i},set:function(t){var i=this.shading;t==null&&typeof t>"u"?i.remove(this.dictionaryProperties.bBox):i.items.setValue(this.dictionaryProperties.bBox,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.mcolorSpace},set:function(t){var i=this.shading.items.getValue(this.dictionaryProperties.colorSpace);if(t!==this.mcolorSpace||i==null){this.mcolorSpace=t;var r=this.colorSpaceToDeviceName(t);this.shading.items.setValue(this.dictionaryProperties.colorSpace,new Q(r))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroking",{get:function(){return this.mbStroking},set:function(t){this.mbStroking=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patternDictionary",{get:function(){return this.mpatternDictionary==null&&(this.mpatternDictionary=new ve),this.mpatternDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shading",{get:function(){return this.mshading},set:function(t){if(t==null)throw new Error("ArgumentNullException : Shading");t!==this.mshading&&(this.mshading=t,this.patternDictionary.items.setValue(this.dictionaryProperties.shading,new ye(this.mshading)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.mmatrix},set:function(t){if(t==null)throw new Error("ArgumentNullException : Matrix");if(t!==this.mmatrix){this.mmatrix=t.clone();var i=new Le(this.mmatrix.matrix.elements);this.mpatternDictionary.items.setValue(this.dictionaryProperties.matrix,i)}},enumerable:!0,configurable:!0}),e.prototype.monitorChanges=function(t,i,r,s,a){var o=!1;if(t instanceof e){this.colorSpace!==a&&(this.colorSpace=a,this.resetFunction()),i.setColorSpace("Pattern",this.mbStroking);var l=r.getResources(),h=l.getName(this);i.setColourWithPattern(null,h,this.mbStroking),o=!0}return o},e.prototype.resetChanges=function(t){},e.prototype.colorSpaceToDeviceName=function(t){var i;switch(t){case Ae.Rgb:i="DeviceRGB";break}return i},e.prototype.resetPatternDictionary=function(t){this.mpatternDictionary=t},e.prototype.cloneAntiAliasingValue=function(t){if(t==null)throw new Error("ArgumentNullException : brush");var i=this.shading,r=i.items.getValue(this.dictionaryProperties.antiAlias);r!=null&&t.shading.items.setValue(this.dictionaryProperties.antiAlias,new zt(r.value))},e.prototype.cloneBackgroundValue=function(t){var i=this.background;i.isEmpty||(t.background=i)},Object.defineProperty(e.prototype,"element",{get:function(){return this.patternDictionary},enumerable:!0,configurable:!0}),e}(ci),xn=function(){function n(e,t){if(this.dictionaryProperties=new Me,this.writeTransformation=!0,!(typeof e>"u"))if(e instanceof X&&typeof t>"u"){this.content=new rt;var i=new X(e.width,e.height);this.setSize(i),this.initialize()}else this.content=new rt,this.setSize(new X(e,t)),this.initialize()}return Object.defineProperty(n.prototype,"size",{get:function(){return this.templateSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"graphics",{get:function(){if(this.pdfGraphics==null||typeof this.pdfGraphics>"u"){var e=new Wn(this),t=new Hn(this.size,e,this.content);this.pdfGraphics=t,this.pdfGraphics.initializeCoordinates()}return this.pdfGraphics},enumerable:!0,configurable:!0}),n.prototype.getResources=function(){return this.resources==null&&(this.resources=new Ki,this.content.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},n.prototype.initialize=function(){this.addType(),this.addSubType()},n.prototype.addType=function(){var e=new Q(this.dictionaryProperties.xObject);this.content.items.setValue(this.dictionaryProperties.type,e)},n.prototype.addSubType=function(){var e=new Q(this.dictionaryProperties.form);this.content.items.setValue(this.dictionaryProperties.subtype,e)},n.prototype.reset=function(e){typeof e>"u"?(this.resources!=null&&(this.resources=null,this.content.remove(this.dictionaryProperties.resources)),this.graphics!=null&&this.graphics.reset(this.size)):(this.setSize(e),this.reset())},n.prototype.setSize=function(e){var t=new me(new oe(0,0),e),i=Le.fromRectangle(t);this.content.items.setValue(this.dictionaryProperties.bBox,i),this.templateSize=e},Object.defineProperty(n.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),n}(),Fu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ki=function(n){Fu(e,n);function e(t){var i=n.call(this,t)||this;return i.properties=new ve,i}return Object.defineProperty(e.prototype,"names",{get:function(){return this.getNames()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.pdfDocument},set:function(t){this.pdfDocument=t},enumerable:!0,configurable:!0}),e.prototype.getName=function(t){var i=t.element,r=null;if(this.names.containsKey(i)&&(r=this.names.getValue(i)),r==null){var s=this.generateName();r=new Q(s),this.names.setValue(i,r),t instanceof qt?this.add(t,r):t instanceof xn?this.add(t,r):t instanceof Li||t instanceof ai?this.add(t,r):t instanceof Sn?this.add(t,r):(t instanceof Ka||t instanceof Qa)&&this.add(t,r)}return r},e.prototype.getNames=function(){this.pdfNames==null&&(this.pdfNames=new qa);var t=this.items.getValue(this.dictionaryProperties.font);return t!=null&&Xa.dereference(t),this.pdfNames},e.prototype.requireProcedureSet=function(t){if(t==null)throw new Error("ArgumentNullException:procedureSetName");var i=this.items.getValue(this.dictionaryProperties.procset);i==null&&(i=new Le,this.items.setValue(this.dictionaryProperties.procset,i));var r=new Q(t);i.contains(r)||i.add(r)},e.prototype.removeFont=function(t){for(var i=null,r=this.pdfNames.keys(),s=0;s<this.pdfNames.size();s++)if(this.pdfNames.getValue(r[s])===new Q(t)){i=r[s];break}i!=null&&this.pdfNames.remove(i)},e.prototype.generateName=function(){var t=Nu.getNewGuidString();return t},e.prototype.add=function(t,i){if(t instanceof qt){var r=null,s=this.items.getValue(this.dictionaryProperties.font);if(s!=null){var a=s;r=s,r=s}else r=new ve,this.items.setValue(this.dictionaryProperties.font,r);r.items.setValue(i.value,new ye(t.element))}else if(t instanceof xn){var o=void 0;o=this.items.getValue(this.dictionaryProperties.xObject),o==null&&(o=new ve,this.items.setValue(this.dictionaryProperties.xObject,o)),o.items.setValue(i.value,new ye(t.element))}else if(t instanceof ci){if(t instanceof Li||t instanceof ai){var l=t.element;if(l!=null){var h=this.items.getValue(this.dictionaryProperties.pattern);h==null&&(h=new ve,this.items.setValue(this.dictionaryProperties.pattern,h)),h.items.setValue(i.value,new ye(l))}}}else if(t instanceof Sn){var l=t.element,u=null;u=this.items.getValue(this.dictionaryProperties.extGState),u==null&&(u=new ve,this.items.setValue(this.dictionaryProperties.extGState,u)),u.items.setValue(i.value,new ye(l))}else{var o=this.Dictionary.items.getValue(this.dictionaryProperties.xObject),c=void 0;typeof this.pdfDocument<"u"&&(c=this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject)),this.Dictionary.items.values();var f=!1,d=void 0;if(typeof this.pdfDocument<"u"&&(typeof c===void 0||c==null))c=new ve,this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject,c);else if(typeof this.pdfDocument<"u")for(var g=c.items.values(),p=0;p<g.length;p++)typeof g[p]<"u"&&typeof g[p].element<"u"&&g[p].element.data[0]===t.element.data[0]&&(d=g[p],f=!0);if(o==null&&(o=new ve,this.Dictionary.items.setValue(this.dictionaryProperties.xObject,o)),f&&typeof d<"u")o.items.setValue(i.value,d);else{var a=new ye(t.element);o.items.setValue(i.value,a),typeof this.pdfDocument<"u"&&c.items.setValue(i.value,a)}}},e}(ve),Nu=function(){function n(){}return n.getNewGuidString=function(){return"aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa".replace(/[ab]/g,function(e){var t=Math.random()*16|0,i=e==="a"?t:t&3|8;return i.toString(16)})},n}(),_u=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ai=function(n){_u(e,n);function e(t,i){var r=n.call(this)||this;r.mStroking=!1,r.mLocation=new oe(0,0),r.mDictionaryProperties=new Me;var s=null;return t instanceof mn?s=t:t instanceof X&&(s=new mn(0,0,t.width,t.height)),i!==null&&i instanceof Zt&&(r.mPage=i),r.brushStream=new rt,r.mResources=new Ki,r.brushStream.items.setValue(r.mDictionaryProperties.resources,r.mResources),r.setBox(s),r.setObligatoryFields(),i!==null&&i instanceof Zt&&(r.mPage=i,r.graphics.colorSpace=i.document.colorSpace),r}return e.prototype.initialize=function(t,i,r,s){this.mPage=i,this.mLocation=r,this.mTransformationMatrix=s,this.tempBrushStream=this.brushStream,this.brushStream=new rt;var a=new Ki;return this.brushStream.items.setValue(this.mDictionaryProperties.resources,a),this.setBox(t),this.setObligatoryFields(),this},Object.defineProperty(e.prototype,"location",{get:function(){return this.mLocation},set:function(t){this.mLocation=t},enumerable:!0,configurable:!0}),e.prototype.setObligatoryFields=function(){if(this.brushStream.items.setValue(this.mDictionaryProperties.patternType,new Z(1)),this.brushStream.items.setValue(this.mDictionaryProperties.paintType,new Z(1)),this.brushStream.items.setValue(this.mDictionaryProperties.tilingType,new Z(1)),this.brushStream.items.setValue(this.mDictionaryProperties.xStep,new Z(this.mBox.right-this.mBox.left)),this.brushStream.items.setValue(this.mDictionaryProperties.yStep,new Z(this.mBox.bottom-this.mBox.top)),this.mPage!=null&&this.mLocation!=null)if(this.mTransformationMatrix==null&&typeof this.mTransformationMatrix>"u"){var t=this.mPage.size.height%this.rectangle.size.height-this.mLocation.y;this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new Le([1,0,0,1,this.mLocation.x,t]))}else{var t=0,i=this.mTransformationMatrix.matrix.elements;this.mPage.size.height>this.rectangle.size.height?t=this.mTransformationMatrix.matrix.offsetY-this.mPage.size.height%this.rectangle.size.height:t=this.mPage.size.height%this.rectangle.size.height+this.mTransformationMatrix.matrix.offsetY,this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new Le([i[0],i[1],i[2],i[3],i[4],t]))}},e.prototype.setBox=function(t){this.mBox=t;var i=new me(this.mBox.left,this.mBox.top,this.mBox.right,this.mBox.bottom);this.brushStream.items.setValue(this.mDictionaryProperties.bBox,Le.fromRectangle(i))},Object.defineProperty(e.prototype,"rectangle",{get:function(){return this.mBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.mBox.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){if(this.mGraphics==null&&typeof this.mGraphics>"u"){var t=new Wn(this),i=new Hn(this.size,t,this.brushStream);this.mGraphics=i,this.mResources=this.getResources(),this.mGraphics.initializeCoordinates()}return this.mGraphics},enumerable:!0,configurable:!0}),e.prototype.getResources=function(){return this.mResources},Object.defineProperty(e.prototype,"stroking",{get:function(){return this.mStroking},set:function(t){this.mStroking=t},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=this.initialize(this.rectangle,this.mPage,this.location,this.mTransformationMatrix);return this.mTransformationMatrix!=null&&this.mTransformationMatrix.matrix!=null&&t.brushStream.items.setValue(this.mDictionaryProperties.matrix,new Le(this.mTransformationMatrix.matrix.elements)),t.brushStream.data=this.tempBrushStream.data,t.mResources=new Ki(this.mResources),t.brushStream.items.setValue(this.mDictionaryProperties.resources,t.mResources),t},e.prototype.monitorChanges=function(t,i,r,s,a){var o=!1;if(t!==this){i.setColorSpace("Pattern",this.mStroking);var l=r.getResources(),h=l.getName(this);i.setColourWithPattern(null,h,this.mStroking),o=!0}else if(t instanceof e){i.setColorSpace("Pattern",this.mStroking);var u=r.getResources(),c=u.getName(this);i.setColourWithPattern(null,c,this.mStroking),o=!0}return o},e.prototype.resetChanges=function(t){},Object.defineProperty(e.prototype,"element",{get:function(){return this.brushStream},enumerable:!0,configurable:!0}),e}(ci),Hn=function(){function n(e,t,i){this.currentColorSpace=Ae.Rgb,this.previousTextRenderingMode=Vt.Fill,this.previousCharacterSpacing=0,this.previousWordSpacing=0,this.previousTextScaling=100,this.procedureSets=new lu,this.isNormalRender=!0,this.isUseFontSize=!1,this.isItalic=!1,this.isEmfTextScaled=!1,this.isEmf=!1,this.isEmfPlus=!1,this.isBaselineFormat=!0,this.emfScalingFactor=new X(0,0),this.colorSpaceChanged=!1,this.dictionaryProperties=new Me,this.isOverloadWithPosition=!1,this.isPointOverload=!1,this.currentColorSpaces=["RGB","CMYK","GrayScale","Indexed"],this.isImageOptimized=!1,this.graphicsState=[],this.istransparencySet=!1,this.internalAutomaticFields=null,this.startCutIndex=-1,this.getResources=t,this.canvasSize=e,i instanceof Ps?this.pdfStreamWriter=i:this.pdfStreamWriter=new Ps(i),this.initialize()}return Object.defineProperty(n.prototype,"stringLayoutResult",{get:function(){return this.pdfStringLayoutResult},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.canvasSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaBoxUpperRightBound",{get:function(){return typeof this.internalMediaBoxUpperRightBound>"u"&&(this.internalMediaBoxUpperRightBound=0),this.internalMediaBoxUpperRightBound},set:function(e){this.internalMediaBoxUpperRightBound=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clientSize",{get:function(){return new X(this.clipBounds.width,this.clipBounds.height)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorSpace",{get:function(){return this.currentColorSpace},set:function(e){this.currentColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"streamWriter",{get:function(){return this.pdfStreamWriter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this.transformationMatrix==null&&(this.transformationMatrix=new Ot),this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layer",{get:function(){return this.pageLayer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){return this.pageLayer.page},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"automaticFields",{get:function(){return(this.internalAutomaticFields==null||typeof this.internalAutomaticFields>"u")&&(this.internalAutomaticFields=new hu),this.internalAutomaticFields},enumerable:!0,configurable:!0}),n.prototype.initialize=function(){this.bStateSaved=!1,this.currentPen=null,this.currentBrush=null,this.currentFont=null,this.currentColorSpace=Ae.Rgb,this.bCSInitialized=!1,this.transformationMatrix=null,this.previousTextRenderingMode=-1,this.previousCharacterSpacing=-1,this.previousWordSpacing=-1,this.previousTextScaling=-100,this.currentStringFormat=null,this.clipBounds=new me(new oe(0,0),this.size),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)},n.prototype.drawPdfTemplate=function(e,t,i){if(typeof i>"u"){if(e==null)throw Error("ArgumentNullException-template");this.drawPdfTemplate(e,t,e.size)}else{if(e==null)throw Error("ArgumentNullException-template");var r=e.width>0?i.width/e.width:1,s=e.height>0?i.height/e.height:1,a=!(r===1&&s===1),o=this.save(),l=new Ot;this.pageLayer!=null&&this.getTranslateTransform(t.x,t.y+i.height,l),a&&this.getScaleTransform(r,s,l),this.pdfStreamWriter.modifyCtm(l);var h=this.getResources.getResources(),u=h.getName(e);this.pdfStreamWriter.executeObject(u),this.restore(o);var c=e.graphics;if(c!=null)for(var f=0;f<c.automaticFields.automaticFields.length;f++){var d=c.automaticFields.automaticFields[f],g=new oe(d.location.x+t.x,d.location.y+t.y),p=e.size.width==0?0:i.width/e.size.width,b=e.size.height==0?0:i.height/e.size.height;this.automaticFields.add(new Za(d.field,g,p,b)),this.page.dictionary.modify()}this.getResources.getResources().requireProcedureSet(this.procedureSets.imageB),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageC),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageI),this.getResources.getResources().requireProcedureSet(this.procedureSets.text)}},n.prototype.drawString=function(e,t,i,r,s,a,o,l,h){if(typeof e=="string"&&t instanceof qt&&(i instanceof wr||i===null)&&(r instanceof ci||r===null)&&typeof s=="number"&&typeof a=="number"&&(o instanceof Tr||o===null)&&typeof l>"u")this.isOverloadWithPosition=!0,this.drawString(e,t,i,r,s,a,this.clientSize.width-s,0,o);else{var u=i,c=r,f=s,d=a,g=o,p=l,b=h,y=new jn,T=y.layout(e,t,b,new X(g,p),this.isOverloadWithPosition,this.clientSize);if(!T.empty){var w=this.checkCorrectLayoutRectangle(T.actualSize,f,d,b);g<=0&&(f=w.x,g=w.width),p<=0&&(d=w.y,p=w.height),this.drawStringLayoutResult(T,t,u,c,new me(f,d,g,p),b),this.isEmfTextScaled=!1,this.emfScalingFactor=new X(0,0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),this.isNormalRender=!0,this.pdfStringLayoutResult=T,this.isUseFontSize=!1}},n.prototype.drawLine=function(e,t,i,r,s){if(t instanceof oe){var a=t,o=i;this.drawLine(e,a.x,a.y,o.x,o.y)}else{var a=t,o=i,l=r,h=s;this.stateControl(e,null,null);var u=this.streamWriter;u.beginPath(a,o),u.appendLineSegment(l,h),u.strokePath(),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)}},n.prototype.drawRectangle=function(e,t,i,r,s,a){if(e instanceof wr&&typeof t=="number"){var o=i;this.drawRectangle(e,null,t,o,r,s)}else if(e instanceof ci&&typeof t=="number"){var o=i;this.drawRectangle(null,e,t,o,r,s)}else{var o=i,l=r,h=s,u=a;if(t instanceof ai){this.bCSInitialized=!1;var c=this.matrix.matrix.offsetX+o,f=void 0;this.layer!=null&&this.layer.page!=null?f=this.layer.page.size.height-this.matrix.matrix.offsetY+l:f=this.clientSize.height-this.matrix.matrix.offsetY+l,t.location=new oe(c,f),t.graphics.colorSpace=this.colorSpace}else t instanceof Li&&(t.colorSpace=this.colorSpace);t instanceof Fi&&t.color.isEmpty&&(t=null);var d=e,g=t;this.stateControl(d,g,null),this.streamWriter.appendRectangle(o,l,h,u),this.drawPathHelper(d,g,!1)}},n.prototype.drawRoundedRectangle=function(e,t,i,r,s,a,o){if(e===null)throw new Error("pen");if(t===null)throw new Error("brush");if(o===0)this.drawRectangle(e,t,i,r,s,a);else{var l=[i,r,s,a],h=o*2,u=[h,h],c=[l[0],l[1],u[0],u[1]];this._pathPoints=[],this._pathTypes=[];var f=!0;f=this._addArc(c[0],c[1],c[2],c[3],180,90,f),c[0]=l[0]+l[2]-h,f=this._addArc(c[0],c[1],c[2],c[3],270,90,f),c[1]=l[1]+l[3]-h,f=this._addArc(c[0],c[1],c[2],c[3],0,90,f),c[0]=l[0],f=this._addArc(c[0],c[1],c[2],c[3],90,90,f);var d=this._pathPoints.length-1,g=this._pathTypes[d];g=g|at.CloseSubpath,this._pathTypes[d]=g,this._drawPath(e,t,this._pathPoints,this._pathTypes,ti.Alternate),this._pathPoints=[],this._pathTypes=[]}},n.prototype._addArc=function(e,t,i,r,s,a,o){for(var l=this._getBezierArcPoints(e,t,e+i,t+r,s,a),h=0;h<l.length;h=h+8){var u=[l[h],l[h+1],l[h+2],l[h+3],l[h+4],l[h+5],l[h+6],l[h+7]];o=this._addArcPoints(u,at.Bezier3,o)}return o},n.prototype._addArcPoints=function(e,t,i){for(var r=0;r<e.length;r++){var s=new oe(e[r],e[r+1]);r===0?this._pathPoints.length===0||i?(this._addPoint(s,at.Start),i=!1):(s.x!==this._getLastPoint().x||s.y!==this._getLastPoint().y)&&this._addPoint(s,at.Line):this._addPoint(s,t),r++}return i},n.prototype._getLastPoint=function(){var e=new oe(0,0),t=this._pathPoints.length;return t>0&&(e.x=this._pathPoints[t-1].x,e.y=this._pathPoints[t-1].y),e},n.prototype._addPoint=function(e,t){this._pathPoints.push(e),this._pathTypes.push(t)},n.prototype._getBezierArcPoints=function(e,t,i,r,s,a){if(e>i){var o=void 0;o=e,e=i,i=o}if(r>t){var o=void 0;o=t,t=r,r=o}var l,h;Math.abs(a)<=90?(l=a,h=1):(h=Math.ceil(Math.abs(a)/90),l=a/h);for(var u=(e+i)/2,c=(t+r)/2,f=(i-e)/2,d=(r-t)/2,g=l*(Math.PI/360),p=Math.abs(4/3*(1-Math.cos(g))/Math.sin(g)),b=[],y=0;y<h;y++){var T=(s+y*l)*(Math.PI/180),w=(s+(y+1)*l)*(Math.PI/180),E=Math.cos(T),S=Math.cos(w),L=Math.sin(T),M=Math.sin(w);l>0?b.push(u+f*E,c-d*L,u+f*(E-p*L),c-d*(L+p*E),u+f*(S+p*M),c-d*(M-p*S),u+f*S,c-d*M):b.push(u+f*E,c-d*L,u+f*(E+p*L),c-d*(L-p*E),u+f*(S-p*M),c-d*(M+p*S),u+f*S,c-d*M)}return b},n.prototype.drawPathHelper=function(e,t,i,r){if(typeof i=="boolean"){var s=i;this.drawPathHelper(e,t,ti.Winding,s)}else{var s=i,a=e!=null,o=t!=null,l=s===ti.Alternate;a&&o?this.streamWriter.fillStrokePath(l):!a&&!o?this.streamWriter.endPath():a?this.streamWriter.strokePath():this.streamWriter.fillPath(l)}},n.prototype.drawImage=function(e,t,i,r,s){if(typeof t=="number"&&typeof i=="number"&&typeof r>"u"){var a=e.physicalDimension;this.drawImage(e,t,i,a.width,a.height)}else{var o=t,l=i,h=s;e.save();var u=new Ot;this.getTranslateTransform(o,l+h,u),this.getScaleTransform(r,s,u),this.pdfStreamWriter.write("q"),this.pdfStreamWriter.modifyCtm(u);var c=this.getResources.getResources();typeof this.pageLayer<"u"&&this.page!=null&&(c.document=this.page.document);var f=c.getName(e);typeof this.pageLayer<"u"&&this.page.setResources(c),this.pdfStreamWriter.executeObject(f),this.pdfStreamWriter.write(D.restoreState),this.pdfStreamWriter.write(D.newLine);var d=this.getResources.getResources();d.requireProcedureSet(this.procedureSets.imageB),d.requireProcedureSet(this.procedureSets.imageC),d.requireProcedureSet(this.procedureSets.imageI),d.requireProcedureSet(this.procedureSets.text)}},n.prototype.getLineBounds=function(e,t,i,r,s){var a;if(!t.empty&&e<t.lineCount&&e>=0){var o=t.lines[e],l=this.getTextVerticalAlignShift(t.actualSize.height,r.height,s),h=l+r.y+t.lineHeight*e,u=o.width,c=this.getHorizontalAlignShift(u,r.width,s),f=this.getLineIndent(o,s,r,e===0);c+=this.rightToLeft(s)?0:f;var d=r.x+c,g=this.shouldJustify(o,r.width,s)?r.width-f:u-f,p=t.lineHeight;a=new me(d,h,g,p)}else a=new me(0,0,0,0);return a},n.prototype.checkCorrectLayoutRectangle=function(e,t,i,r){var s=new me(t,i,e.width,e.width);if(r!=null){switch(r.alignment){case vt.Center:s.x-=s.width/2;break;case vt.Right:s.x-=s.width;break}switch(r.lineAlignment){case Yt.Middle:s.y-=s.height/2;break;case Yt.Bottom:s.y-=s.height;break}}return s},n.prototype.setLayer=function(e){this.pageLayer=e;var t=e.page;t!=null&&typeof t<"u"&&(t.beginSave=this.pageSave)},n.prototype.pageSave=function(e){if(e.graphics.automaticFields!=null)for(var t=0;t<e.graphics.automaticFields.automaticFields.length;t++){var i=e.graphics.automaticFields.automaticFields[t];i.field.performDraw(e.graphics,i.location,i.scalingX,i.scalingY)}},n.prototype.drawStringLayoutResult=function(e,t,i,r,s,a){if(e.empty)throw new Error("ArgumentNullException:result");this.applyStringSettings(t,i,r,a,s);var o=a!=null?a.horizontalScalingFactor:100;o!==this.previousTextScaling&&!this.isEmfTextScaled&&(this.pdfStreamWriter.setTextScaling(o),this.previousTextScaling=o);var l=a==null||a.lineSpacing===0?t.height:a.lineSpacing+t.height,h=a!=null&&a.subSuperScript===Xt.SubScript,u=0;u=h?l-(t.height+t.metrics.getDescent(a)):l-t.metrics.getAscent(a),this.shift=u,this.pdfStreamWriter.startNextLine(s.x,s.y-u),this.pdfStreamWriter.setLeading(+l);for(var c=0,f="",d=0;d<e.lines.length;d++)if(c+=e.lineHeight,s.y+c>this.clientSize.height){this.startCutIndex=d;break}for(var g=this.startCutIndex;g<e.lines.length&&g>=0;g++)f+=e.lines[g].text;var p=new me(s.x,s.y,s.width,s.height);if(this.drawLayoutResult(e,t,a,s),this.underlineStrikeoutText(i,r,e,t,p,a),this.isEmfPlus=!1,this.isUseFontSize=!1,this.startCutIndex!==-1){var b=this.getNextPage();b.graphics.drawString(f,t,i,r,s.x,0,s.width,0,a)}},n.prototype.getNextPage=function(){var e=this.currentPage.section,t=null,i=e.indexOf(this.currentPage);return i===e.count-1?t=e.add():t=e.getPages()[i+1],t},n.prototype.setClip=function(e,t){typeof t>"u"?this.setClip(e,ti.Winding):(this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.clipPath(t===ti.Alternate))},n.prototype.applyStringSettings=function(e,t,i,r,s){i instanceof ai?(this.bCSInitialized=!1,i.graphics.colorSpace=this.colorSpace):i instanceof Li&&(this.bCSInitialized=!1,i.colorSpace=this.colorSpace);var a=this.getTextRenderingMode(t,i,r);this.stateControl(t,i,e,r),this.pdfStreamWriter.beginText(),a!==this.previousTextRenderingMode&&(this.pdfStreamWriter.setTextRenderingMode(a),this.previousTextRenderingMode=a);var o=r!=null?r.characterSpacing:0;o!==this.previousCharacterSpacing&&!this.isEmfTextScaled&&(this.pdfStreamWriter.setCharacterSpacing(o),this.previousCharacterSpacing=o);var l=r!=null?r.wordSpacing:0;l!==this.previousWordSpacing&&(this.pdfStreamWriter.setWordSpacing(l),this.previousWordSpacing=l)},n.prototype.getTextVerticalAlignShift=function(e,t,i){var r=0;if(t>=0&&i!=null&&i.lineAlignment!==Yt.Top)switch(i.lineAlignment){case Yt.Middle:r=(t-e)/2;break;case Yt.Bottom:r=t-e;break}return r},n.prototype.drawLayoutResult=function(e,t,i,r){var s=this.getTextVerticalAlignShift(e.actualSize.height,r.height,i);s!==0&&this.pdfStreamWriter.startNextLine(0,s);var a=t,o=a!=null&&a.isUnicode;a!=null&&a.isEmbedFont;for(var l=e.lines,h=0,u=l.length;h<u&&h!==this.startCutIndex;h++){var c=l[h];c.text;var f=c.width,d=this.getHorizontalAlignShift(f,r.width,i),g=this.getLineIndent(c,i,r,h===0);d+=this.rightToLeft(i)?0:g,d!==0&&!this.isEmfTextScaled&&this.pdfStreamWriter.startNextLine(d,0),o?this.drawUnicodeLine(c,r,t,i):this.drawAsciiLine(c,r,t,i),d!==0&&!this.isEmfTextScaled&&this.pdfStreamWriter.startNextLine(-d,0),this.isOverloadWithPosition&&l.length>1&&(this.pdfStreamWriter.startNextLine(-r.x,0),r.x=0,r.width=this.clientSize.width,this.isOverloadWithPosition=!1,this.isPointOverload=!0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),s!==0&&this.pdfStreamWriter.startNextLine(0,-(s-e.lineHeight)),this.pdfStreamWriter.endText()},n.prototype.drawAsciiLine=function(e,t,i,r){this.justifyLine(e,t.width,r);var s="";if(e.text.indexOf("(")!==-1||e.text.indexOf(")")!==-1)for(var a=0;a<e.text.length;a++)e.text[a]==="("?s+="\\(":e.text[a]===")"?s+="\\)":s+=e.text[a];s===""&&(s=e.text);var o="("+s+")";this.pdfStreamWriter.showNextLineText(new Ze(o))},n.prototype.drawUnicodeLine=function(e,t,i,r){var s=e.text;e.width;var a=r!==null&&typeof r<"u"&&r.rightToLeft,o=r!==null&&typeof r<"u"&&(r.wordSpacing!==0||r.alignment===vt.Justify),l=i,h=this.justifyLine(e,t.width,r),u=new Iu;if(a||r!==null&&typeof r<"u"&&r.textDirection!==Tt.None){var c=null,f=r!==null&&typeof r<"u"&&r.alignment===vt.Right;r!==null&&typeof r<"u"&&r.textDirection!==Tt.None?c=u.layout(s,l,r.textDirection===Tt.RightToLeft,o,r):c=u.layout(s,l,f,o,r);var d=null;c.length>1?r!==null&&typeof r<"u"&&r.textDirection!==Tt.None?d=u.splitLayout(s,l,r.textDirection===Tt.RightToLeft,o,r):d=u.splitLayout(s,l,f,o,r):d=[s],this.drawUnicodeBlocks(c,d,l,r,h)}else if(o){var g=this.breakUnicodeLine(s,l,null),c=g.tokens,d=g.words;this.drawUnicodeBlocks(c,d,l,r,h)}else{var p=this.convertToUnicode(s,l),b=this.getUnicodeString(p);this.streamWriter.showNextLineText(b)}},n.prototype.drawUnicodeBlocks=function(e,t,i,r,s){if(e==null)throw new Error("Argument Null Exception : blocks");if(t==null)throw new Error("Argument Null Exception : words");if(i==null)throw new Error("Argument Null Exception : font");this.streamWriter.startNextLine();var a=0,o=0,l=0,h=0;try{r!==null&&typeof r<"u"&&(l=r.firstLineIndent,h=r.paragraphIndent,r.firstLineIndent=0,r.paragraphIndent=0);var u=i.getCharWidth(tt.whiteSpace,r)+s,c=r!=null?r.characterSpacing:0,f=r!==null&&typeof r<"u"&&s===0?r.wordSpacing:0;u+=c+f;for(var d=0;d<e.length;d++){var g=e[d],p=t[d],b=0;if(a!==0&&this.streamWriter.startNextLine(a,0),p.length>0){b+=i.measureString(p,r).width,b+=c;var y=this.getUnicodeString(g);this.streamWriter.showText(y)}d!==e.length-1&&(a=b+u,o+=a)}o>0&&this.streamWriter.startNextLine(-o,0)}finally{r!==null&&typeof r<"u"&&(r.firstLineIndent=l,r.paragraphIndent=h)}},n.prototype.breakUnicodeLine=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : line");i=e.split(null);for(var r=[],s=0;s<i.length;s++){var a=i[s],o=this.convertToUnicode(a,t);r[s]=o}return{tokens:r,words:i}},n.prototype.getUnicodeString=function(e){if(e===null)throw new Error("Argument Null Exception : token");var t=new Ze(e);return t.converted=!0,t.encode=ir.ForceEncoding.Ascii,t},n.prototype.convertToUnicode=function(e,t){var i=null;if(e==null)throw new Error("Argument Null Exception : text");if(t==null)throw new Error("Argument Null Exception : ttfFont");if(t.fontInternal instanceof ku){var r=t.fontInternal.ttfReader;t.setSymbols(e),i=r.convertString(e);var s=Ze.toUnicodeArray(i,!1);i=Ze.byteToString(s)}return i},n.prototype.justifyLine=function(e,t,i){var r=e.text,s=e.width,a=this.shouldJustify(e,t,i),o=i!=null&&i.wordSpacing!==0,l=tt.spaces,h=tt.getCharsCount(r,l),u=0;if(a){o&&(s-=h*i.wordSpacing);var c=t-s;u=c/h,this.pdfStreamWriter.setWordSpacing(u)}else o?this.pdfStreamWriter.setWordSpacing(i.wordSpacing):this.pdfStreamWriter.setWordSpacing(0);return u},n.prototype.reset=function(e){this.canvasSize=e,this.streamWriter.clear(),this.initialize(),this.initializeCoordinates()},n.prototype.shouldJustify=function(e,t,i){var r=e.text,s=e.width,a=i!=null&&i.alignment===vt.Justify,o=t>=0&&s<t,l=tt.spaces,h=tt.getCharsCount(r,l),u=h>0&&r[0]!==tt.whiteSpace,c=(e.lineType&pt.LayoutBreak)>0,f=a&&o&&u&&(c||i.alignment===vt.Justify);return f},n.prototype.underlineStrikeoutText=function(e,t,i,r,s,a){if(r.underline||r.strikeout){var o=this.createUnderlineStikeoutPen(e,t,r,a);if(o!=null){var l=this.getTextVerticalAlignShift(i.actualSize.height,s.height,a),h=0;h=s.y+l+r.metrics.getAscent(a)+1.5*o.width;for(var u=s.y+l+r.metrics.getHeight(a)/2+1.5*o.width,c=i.lines,f=0,d=i.lineCount;f<d;f++){var g=c[f];g.text;var p=g.width,b=this.getHorizontalAlignShift(p,s.width,a),y=this.getLineIndent(g,a,s,f===0);b+=this.rightToLeft(a)?0:y;var T=s.x+b,w=this.shouldJustify(g,s.width,a)?T+s.width-y:T+p-y;if(r.underline){var E=h;this.drawLine(o,T,E,w,E),h+=i.lineHeight}if(r.strikeout){var E=u;this.drawLine(o,T,E,w,E),u+=i.lineHeight}this.isPointOverload&&c.length>1&&(s.x=0,s.width=this.clientSize.width)}this.isPointOverload=!1}}},n.prototype.createUnderlineStikeoutPen=function(e,t,i,r){var s=i.metrics.getSize(r)/20,a=null;return e!=null?a=new wr(e.color,s):t!=null&&(a=new wr(t,s)),a},n.prototype.getTextRenderingMode=function(e,t,i){var r=Vt.None;return e!=null&&t!=null?r=Vt.FillStroke:e!=null?r=Vt.Stroke:r=Vt.Fill,i!=null&&i.clipPath&&(r|=Vt.ClipFlag),r},n.prototype.getLineIndent=function(e,t,i,r){var s=0,a=(e.lineType&pt.FirstParagraphLine)>0;return t!=null&&a&&(s=r?t.firstLineIndent:t.paragraphIndent,s=i.width>0?Math.min(i.width,s):s),s},n.prototype.getHorizontalAlignShift=function(e,t,i){var r=0;if(t>=0&&i!=null&&i.alignment!==vt.Left)switch(i.alignment){case vt.Center:r=(t-e)/2;break;case vt.Right:r=t-e;break}return r},n.prototype.rightToLeft=function(e){var t=e!==null&&typeof e<"u"&&e.rightToLeft;return e!==null&&typeof e<"u"&&e.textDirection!==Tt.None&&typeof e.textDirection<"u"&&(t=!0),t},n.prototype.stateControl=function(e,t,i,r){if(typeof r>"u")this.stateControl(e,t,i,null);else{t instanceof Li&&(this.bCSInitialized=!1,t.colorSpace=this.colorSpace),t instanceof ai&&(this.bCSInitialized=!1,t.graphics.colorSpace=this.colorSpace);var s=!1;t!==null?(typeof this.pageLayer<"u"&&this.pageLayer!=null&&this.colorSpaceChanged===!1&&(this.lastDocumentCS=this.pageLayer.page.document.colorSpace,this.lastGraphicsCS=this.pageLayer.page.graphics.colorSpace,this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace,this.colorSpaceChanged=!0),this.initCurrentColorSpace(this.currentColorSpace)):e!=null&&(typeof this.pageLayer<"u"&&this.pageLayer!=null&&(this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace),this.initCurrentColorSpace(this.currentColorSpace)),this.penControl(e,s),this.brushControl(t,s),this.fontControl(i,r,s)}},n.prototype.initCurrentColorSpace=function(e){this.getResources.getResources(),this.bCSInitialized||(this.currentColorSpace!=Ae.GrayScale?(this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!0),this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!1),this.bCSInitialized=!0):(this.pdfStreamWriter.setColorSpace("DeviceGray",!0),this.pdfStreamWriter.setColorSpace("DeviceGray",!1),this.bCSInitialized=!0))},n.prototype.penControl=function(e,t){e!=null&&(this.currentPen=e,e.monitorChanges(this.currentPen,this.pdfStreamWriter,this.getResources,t,this.colorSpace,this.matrix.clone()),this.currentPen=e.clone())},n.prototype.brushControl=function(e,t){if(e!=null&&typeof e<"u"){var i=e.clone(),r=i;if(r!==null&&typeof r<"u"&&!(e instanceof Fi)&&!(e instanceof ai)){var s=r.matrix,a=this.matrix.clone();s!=null&&(s.multiply(a),a=s),r.matrix=a}this.currentBrush=r,i.monitorChanges(this.currentBrush,this.pdfStreamWriter,this.getResources,t,this.colorSpace),this.currentBrush=e,e=null}},n.prototype.fontControl=function(e,t,i){if(e!=null){var r=t!=null?t.subSuperScript:Xt.None,s=this.currentStringFormat!=null?this.currentStringFormat.subSuperScript:Xt.None;if(i||e!==this.currentFont||r!==s){var a=this.getResources.getResources();this.currentFont=e,this.currentStringFormat=t;var o=e.metrics.getSize(t);this.isEmfTextScaled=!1;var l=a.getName(e);this.pdfStreamWriter.setFont(e,l,o)}}},n.prototype.setTransparency=function(e,t,i){if(typeof t>"u")this.istransparencySet=!0,this.setTransparency(e,e,Rr.Normal);else if(typeof t=="number"&&typeof i>"u")this.setTransparency(e,t,Rr.Normal);else{this.trasparencies==null&&(this.trasparencies=new qa);var r=null,s=new zu(e,t,i);this.trasparencies.containsKey(s)&&(r=this.trasparencies.getValue(s)),r==null&&(r=new Sn(e,t,i),this.trasparencies.setValue(s,r));var a=this.getResources.getResources(),o=a.getName(r),l=this.streamWriter;l.setGraphicsState(o)}},n.prototype.clipTranslateMargins=function(e,t,i,r,s,a){if(e instanceof me&&typeof t>"u")this.clipBounds=e,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e.x,e.y);else if(typeof e=="number"){var o=new me(i,r,this.size.width-i-s,this.size.height-r-a);this.clipBounds=o,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(o),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e,t)}},n.prototype.updateY=function(e){return-e},n.prototype.translateTransform=function(e,t){var i=new Ot;this.getTranslateTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},n.prototype.getTranslateTransform=function(e,t,i){return i.translate(e,this.updateY(t)),i},n.prototype.scaleTransform=function(e,t){var i=new Ot;this.getScaleTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},n.prototype.getScaleTransform=function(e,t,i){return i==null&&(i=new Ot),i.scale(e,t),i},n.prototype.rotateTransform=function(e){var t=new Ot;this.getRotateTransform(e,t),this.pdfStreamWriter.modifyCtm(t),this.matrix.multiply(t)},n.prototype.initializeCoordinates=function(){this.pdfStreamWriter.writeComment("Change co-ordinate system to left/top."),this.mediaBoxUpperRightBound!==-this.size.height&&this.cropBox==null&&(this.mediaBoxUpperRightBound===this.size.height||this.mediaBoxUpperRightBound===0?this.translateTransform(0,this.updateY(this.size.height)):this.translateTransform(0,this.updateY(this.mediaBoxUpperRightBound)))},n.prototype.getRotateTransform=function(e,t){return(t==null||typeof t>"u")&&(t=new Ot),t.rotate(this.updateY(e)),t},n.prototype.save=function(){var e=new Vu(this,this.matrix.clone());return e.brush=this.currentBrush,e.pen=this.currentPen,e.font=this.currentFont,e.colorSpace=this.currentColorSpace,e.characterSpacing=this.previousCharacterSpacing,e.wordSpacing=this.previousWordSpacing,e.textScaling=this.previousTextScaling,e.textRenderingMode=this.previousTextRenderingMode,this.graphicsState.push(e),this.pdfStreamWriter.saveGraphicsState(),e},n.prototype.restore=function(e){if(typeof e>"u")this.graphicsState.length>0&&this.doRestoreState();else if(this.graphicsState.indexOf(e)!==-1)for(;this.graphicsState.length!==0;){var t=this.doRestoreState();if(t===e)break}},n.prototype.doRestoreState=function(){var e=this.graphicsState.pop();return this.transformationMatrix=e.matrix,this.currentBrush=e.brush,this.currentPen=e.pen,this.currentFont=e.font,this.currentColorSpace=e.colorSpace,this.previousCharacterSpacing=e.characterSpacing,this.previousWordSpacing=e.wordSpacing,this.previousTextScaling=e.textScaling,this.previousTextRenderingMode=e.textRenderingMode,this.pdfStreamWriter.restoreGraphicsState(),e},n.prototype.drawPath=function(e,t,i){this._drawPath(e,t,i.pathPoints,i.pathTypes,i.fillMode)},n.prototype._drawPath=function(e,t,i,r,s){t instanceof ai?(this.bCSInitialized=!1,t.graphics.colorSpace=this.colorSpace):t instanceof Li&&(this.bCSInitialized=!1,t.colorSpace=this.colorSpace),this.stateControl(e,t,null),this.buildUpPath(i,r),this.drawPathHelper(e,t,s,!1)},n.prototype.drawArc=function(e,t,i,r,s,a,o){t instanceof me?this.drawArc(e,t.x,t.y,t.width,t.height,i,r):o!==0&&(this.stateControl(e,null,null),this.constructArcPath(t,i,t+r,i+s,a,o),this.drawPathHelper(e,null,!1))},n.prototype.buildUpPath=function(e,t){for(var i=e.length,r=0;r<i;++r){var s=0,a=e[r];switch(t[r]&n.pathTypesValuesMask){case at.Start:this.pdfStreamWriter.beginPath(a.x,a.y);break;case at.Bezier3:var o=new oe(0,0),l=new oe(0,0),h=this.getBezierPoints(e,t,r,o,l);this.pdfStreamWriter.appendBezierSegment(a,h.p2,h.p3),r=h.i;break;case at.Line:this.pdfStreamWriter.appendLineSegment(a);break;default:throw new Error("ArithmeticException - Incorrect path formation.")}s=t[r],this.checkFlags(s)}},n.prototype.getBezierPoints=function(e,t,i,r,s){if(++i,(t[i]&n.pathTypesValuesMask)===at.Bezier3)if(r=e[i],++i,(t[i]&n.pathTypesValuesMask)===at.Bezier3)s=e[i];else throw new Error("ArgumentException : errorMsg");else throw new Error("ArgumentException : errorMsg");return{i,p2:r,p3:s}},n.prototype.checkFlags=function(e){(e&at.CloseSubpath)===at.CloseSubpath&&this.pdfStreamWriter.closePath()},n.prototype.constructArcPath=function(e,t,i,r,s,a){var o=this.getBezierArc(e,t,i,r,s,a);if(o.length!==0){var l=[o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]];this.pdfStreamWriter.beginPath(l[0],l[1]);var h=0;for(h=0;h<o.length;h=h+8)l=[o[h],o[h+1],o[h+2],o[h+3],o[h+4],o[h+5],o[h+6],o[h+7]],this.pdfStreamWriter.appendBezierSegment(l[2],l[3],l[4],l[5],l[6],l[7])}},n.prototype.getBezierArc=function(e,t,i,r,s,a){if(e>i){var o=void 0;o=e,e=i,i=o}if(r>t){var o=void 0;o=t,t=r,r=o}var l,h;Math.abs(a)<=90?(l=a,h=1):(h=Math.ceil(Math.abs(a)/90),l=a/h);for(var u=(e+i)/2,c=(t+r)/2,f=(i-e)/2,d=(r-t)/2,g=l*(Math.PI/360),p=Math.abs(4/3*(1-Math.cos(g))/Math.sin(g)),b=[],y=0;y<h;y++){var T=(s+y*l)*(Math.PI/180),w=(s+(y+1)*l)*(Math.PI/180),E=Math.cos(T),S=Math.cos(w),L=Math.sin(T),M=Math.sin(w);l>0?b.push(u+f*E,c-d*L,u+f*(E-p*L),c-d*(L+p*E),u+f*(S+p*M),c-d*(M-p*S),u+f*S,c-d*M):b.push(u+f*E,c-d*L,u+f*(E+p*L),c-d*(L-p*E),u+f*(S-p*M),c-d*(M+p*S),u+f*S,c-d*M)}return b},n.pathTypesValuesMask=15,n.transparencyObject=!1,n}(),Wn=function(){function n(e){this.sender=e}return n.prototype.getResources=function(){return this.sender.getResources()},n}(),Vu=function(){function n(e,t){if(this.internalTextRenderingMode=Vt.Fill,this.internalCharacterSpacing=0,this.internalWordSpacing=0,this.internalTextScaling=100,this.pdfColorSpace=Ae.Rgb,typeof e<"u"){this.pdfGraphics=e;var i=[];e.matrix.matrix.elements.forEach(function(r){i.push(r)}),this.transformationMatrix=new Ot,this.transformationMatrix.matrix=new wn(i)}}return Object.defineProperty(n.prototype,"graphics",{get:function(){return this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"matrix",{get:function(){return this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"characterSpacing",{get:function(){return this.internalCharacterSpacing},set:function(e){this.internalCharacterSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wordSpacing",{get:function(){return this.internalWordSpacing},set:function(e){this.internalWordSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textScaling",{get:function(){return this.internalTextScaling},set:function(e){this.internalTextScaling=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pen",{get:function(){return this.pdfPen},set:function(e){this.pdfPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"brush",{get:function(){return this.pdfBrush},set:function(e){this.pdfBrush=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this.pdfFont},set:function(e){this.pdfFont=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(e){this.pdfColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textRenderingMode",{get:function(){return this.internalTextRenderingMode},set:function(e){this.internalTextRenderingMode=e},enumerable:!0,configurable:!0}),n}(),zu=function(){function n(e,t,i){this.alphaPen=e,this.alphaBrush=t,this.blendMode=i}return n}(),Dr=function(){function n(e,t){if(this.pdfColorSpace=Ae.Rgb,this.isVisible=!0,this.sublayer=!1,this.contentLength=0,this.dictionaryProperties=new Me,e===null)throw new Error("ArgumentNullException:page");if(this.pdfPage=e,this.clipPageTemplates=!0,typeof t>"u")this.content=new rt;else if(t instanceof rt||t===null){if(t===null)throw new Error("ArgumentNullException:stream");this.content=t}else this.content=new rt,this.clipPageTemplates=t}return Object.defineProperty(n.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(e){this.pdfColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layerId",{get:function(){return this.layerid},set:function(e){this.layerid=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.layerName},set:function(e){this.layerName=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this.isVisible},set:function(e){this.isVisible=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"graphics",{get:function(){return this.pdfGraphics==null&&this.initializeGraphics(this.page),this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layers",{get:function(){return this.layer==null?(this.layer=new eo(this.page),this.layer.sublayer=!0,this.layer):this.layer},enumerable:!0,configurable:!0}),n.prototype.add=function(){var e=new n(this.pdfPage);return e.name="",e},n.prototype.sign=function(e){return e===0?0:e>0?1:-1},n.prototype.initializeGraphics=function(e){var t=e,i=new Wn(this.page);if(this.pdfGraphics=new Hn(e.size,i,this.content),this.pdfGraphics.mediaBoxUpperRightBound=0,t!=null){var r=t.section.parent;r!=null&&(this.pdfGraphics.colorSpace=r.document.colorSpace,this.colorSpace=r.document.colorSpace)}var s=this.sign(e.origin.y)===this.sign(e.origin.x);(e.origin.x>=0&&e.origin.y>=0||!s)&&this.pdfGraphics.initializeCoordinates();var a=t.section.getActualBounds(t,!0),o=t.section.pageSettings.margins;this.clipPageTemplates?e.origin.x>=0&&e.origin.y>=0&&this.pdfGraphics.clipTranslateMargins(a):this.graphics.clipTranslateMargins(a.x,a.y,o.left,o.top,o.right,o.bottom),this.pdfGraphics.setLayer(this)},Object.defineProperty(n.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),n}(),ju=function(){function n(){}return Object.defineProperty(n.prototype,"count",{get:function(){return typeof this.collection>"u"&&(this.collection=[]),this.collection.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"list",{get:function(){return typeof this.collection>"u"&&(this.collection=[]),this.collection},enumerable:!0,configurable:!0}),n}(),Hu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),eo=function(n){Hu(e,n);function e(t){var i=n.call(this)||this;if(i.parentLayerCount=0,i.sublayer=!1,i.optionalContent=new ve,t instanceof to){i.page=t;var r=t;i.parseLayers(r)}return i}return e.prototype.items=function(t,i){if(typeof t=="number"&&typeof i>"u"){var r=this.list[t];return r}else{if(i==null)throw new Error("ArgumentNullException: layer");if(i.page!==this.page)throw new Error("ArgumentException: The layer belongs to another page")}},e.prototype.add=function(t,i){if(typeof t>"u"){var r=new Dr(this.page);return r.name="",this.add(r),r}else if(t instanceof Dr){var s=this.list.push(t);return this.addLayer(s,t),s}else return 0},e.prototype.addLayer=function(t,i){var r=new ye(i);this.page.contents.add(r)},e.prototype.insert=function(t,i){for(var r=[],s=this.list.length,a=t;a<s;a++)r.push(this.list.pop());this.list.push(i);for(var a=0;a<r.length;a++)this.list.push(r[a]);this.insertLayer(t,i)},e.prototype.insertLayer=function(t,i){if(i==null)throw new Error("ArgumentNullException:layer");var r=new ye(i);this.page.contents.insert(t,r)},e.prototype.parseLayers=function(t){var i=this.page.contents;this.page.getResources(),t.crossTable;var r=new rt,s=new rt,a="q",o="Q",l=[];l.push(a),r.data=l,i.insert(0,new ye(r)),l=[],l.push(o),s.data=l,i.insert(i.count,new ye(s))},e.prototype.indexOf=function(t){if(t==null)throw new Error("ArgumentNullException: layer");var i=this.list.indexOf(t);return i},e}(ju),to=function(){function n(e){this.defLayerIndex=-1,this.modified=!1,this.dictionaryProperties=new Me,this.pageDictionary=e}return Object.defineProperty(n.prototype,"section",{get:function(){return this.pdfSection},set:function(e){this.pdfSection=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dictionary",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defaultLayer",{get:function(){var e=this.layers,t=this.defaultLayerIndex,i=e.items(t);return i},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defaultLayerIndex",{get:function(){if(this.layerCollection.count===0||this.defLayerIndex===-1){var e=this.layerCollection.add();this.defLayerIndex=this.layerCollection.indexOf(e)}return this.defLayerIndex},set:function(e){if(e<0||e>this.layers.count-1)throw new Error("ArgumentOutOfRangeException : value, Index can not be less 0 and greater Layers.Count - 1");this.defLayerIndex=e,this.modified=!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layers",{get:function(){return(this.layerCollection==null||typeof this.layerCollection>"u")&&(this.layerCollection=new eo(this)),this.layerCollection},enumerable:!0,configurable:!0}),n.prototype.getResources=function(){return this.resources==null&&(this.resources=new Ki,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},Object.defineProperty(n.prototype,"contents",{get:function(){var e=this.pageDictionary.items.getValue(this.dictionaryProperties.contents),t=e;return t==null&&(t=new Le,this.pageDictionary.items.setValue(this.dictionaryProperties.contents,t)),t},enumerable:!0,configurable:!0}),n.prototype.setResources=function(e){this.resources=e,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources),this.modified=!0},n}(),Wu=function(){function n(e){this.alreadyExistsAnnotationError="This annotatation had been already added to page",this.missingAnnotationException="Annotation is not contained in collection.",this.dictionaryProperties=new Me,this.internalAnnotations=new Le,this.lists=[],typeof e<"u"&&(this.page=e)}return Object.defineProperty(n.prototype,"annotations",{get:function(){return this.internalAnnotations},set:function(e){this.internalAnnotations=e},enumerable:!0,configurable:!0}),n.prototype.add=function(e){this.doAdd(e)},n.prototype.doAdd=function(e){if(typeof e.destination<"u"){var t=new jn,i=t.layout(e.text,e.font,e.stringFormat,new X(e.bounds.width,0),!1,new X(0,0)),r=e.bounds.y;if(i.lines.length===1){var s=e.font.measureString(i.lines[0].text);e.bounds=new me(new oe(e.bounds.x,r),s),e.text=i.lines[0].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,e.bounds.y,e.bounds.width,e.bounds.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new ye(e)),this.lists.push(e)}else for(var a=0;a<i.lines.length;a++){var s=e.font.measureString(i.lines[a].text);if(a===0)e.bounds=new me(e.bounds.x,r,s.width,s.height),e.text=i.lines[a].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,r,s.width,s.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new ye(e)),this.lists.push(e),r+=e.bounds.height;else{var o=e.clone();o.bounds=new me(new oe(e.bounds.x,r),s),o.text=i.lines[a].text,this.page.graphics.drawString(o.text,o.font,null,o.brush,o.bounds.x,o.bounds.y,o.bounds.width,o.bounds.height,null),o.setPage(this.page),this.setColor(o),this.internalAnnotations.add(new ye(o)),this.lists.push(o),r+=o.bounds.height}}}else return e.setPage(this.page),this.internalAnnotations.add(new ye(e)),this.lists.push(e)},n.prototype.setColor=function(e){var t=Ae.Rgb,i=e.color.toArray(t);e.dictionary.items.setValue(this.dictionaryProperties.c,i)},Object.defineProperty(n.prototype,"element",{get:function(){return this.internalAnnotations},enumerable:!0,configurable:!0}),n}(),Uu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zt=function(n){Uu(e,n);function e(){var t=n.call(this,new ve)||this;return t.annotationCollection=null,t.beginSave=null,t.initialize(),t}return Object.defineProperty(e.prototype,"document",{get:function(){return this.section!==null&&this.section.parent!==null?this.section.parent.document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){var t=this.defaultLayer.graphics;return t.currentPage=this,t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crossTable",{get:function(){if(this.section===null)throw new Error("PdfDocumentException : Page is not created");return this.section.parent===null?this.section.parentDocument.crossTable:this.section.parent.document.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.section.pageSettings.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.section.pageSettings.origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"annotations",{get:function(){return this.annotationCollection==null&&(this.annotationCollection=new Wu(this),this.dictionary.items.setValue(this.dictionaryProperties.annots,this.annotationCollection.element),this.annotationCollection.annotations=this.dictionary.items.getValue(this.dictionaryProperties.annots)),this.annotationCollection},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.dictionary.items.setValue(this.dictionaryProperties.type,new Q("Page")),this.dictionary.pageBeginDrawTemplate=new Vh(this)},e.prototype.setSection=function(t){this.section=t,this.dictionary.items.setValue(this.dictionaryProperties.parent,new ye(t))},e.prototype.resetProgress=function(){this.isProgressOn=!1},e.prototype.getClientSize=function(){var t=this.section.getActualBounds(this,!0);return new X(t.width,t.height)},e.prototype.pageBeginSave=function(){var t=this.document;typeof t!==void 0&&t!=null&&this.drawPageTemplates(t),this.beginSave!=null&&typeof this.beginSave<"u"&&this.beginSave(this)},e.prototype.drawPageTemplates=function(t){var i=this.section.containsTemplates(t,this,!1);if(i){var r=new Dr(this,!1);if(this.layers.insert(0,r),this.section.drawTemplates(this,r,t,!1),r.graphics!==null&&typeof r.graphics<"u")for(var s=0;s<r.graphics.automaticFields.automaticFields.length;s++){var a=r.graphics.automaticFields.automaticFields[s];a.field.performDraw(r.graphics,a.location,a.scalingX,a.scalingY)}}var o=this.section.containsTemplates(t,this,!0);if(o){var l=new Dr(this,!1);this.layers.add(l),this.section.drawTemplates(this,l,t,!0)}},e}(to),Ds=function(){function n(e){typeof e<"u"?this.pdfPage=e:this.pdfPage=null}return Object.defineProperty(n.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),n}(),Gu=function(){function n(e){if(this.pdfSection=null,e==null)throw Error('ArgumentNullException("section")');this.section=e}return Object.defineProperty(n.prototype,"section",{get:function(){return this.pdfSection},set:function(e){this.pdfSection=e},enumerable:!0,configurable:!0}),n.prototype.contains=function(e){return this.section.contains(e)},n.prototype.remove=function(e){this.section.remove(e)},n.prototype.add=function(){return this.section.add()},n}(),io=function(){function n(){}return Object.defineProperty(n.prototype,"left",{get:function(){return this.leftTemplate},set:function(e){this.leftTemplate=this.checkElement(e,ie.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.topTemplate},set:function(e){this.topTemplate=this.checkElement(e,ie.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.rightTemplate},set:function(e){this.rightTemplate=this.checkElement(e,ie.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.bottomTemplate},set:function(e){this.bottomTemplate=this.checkElement(e,ie.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"EvenLeft",{get:function(){return this.evenLeft},set:function(e){this.evenLeft=this.checkElement(e,ie.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"EvenTop",{get:function(){return this.evenTop},set:function(e){this.evenTop=this.checkElement(e,ie.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"EvenRight",{get:function(){return this.evenRight},set:function(e){this.evenRight=this.checkElement(e,ie.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"EvenBottom",{get:function(){return this.evenBottom},set:function(e){this.evenBottom=this.checkElement(e,ie.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OddLeft",{get:function(){return this.oddLeft},set:function(e){this.oddLeft=this.checkElement(e,ie.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OddTop",{get:function(){return this.oddTop},set:function(e){this.oddTop=this.checkElement(e,ie.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OddRight",{get:function(){return this.oddRight},set:function(e){this.oddRight=this.checkElement(e,ie.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"OddBottom",{get:function(){return this.oddBottom},set:function(e){this.oddBottom=this.checkElement(e,ie.Bottom)},enumerable:!0,configurable:!0}),n.prototype.getLeft=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenLeft!=null?this.EvenLeft:this.left:t=this.OddLeft!=null?this.OddLeft:this.left,t},n.prototype.getTop=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenTop!=null?this.EvenTop:this.top:t=this.OddTop!=null?this.OddTop:this.top,t},n.prototype.getRight=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenRight!=null?this.EvenRight:this.right:t=this.OddRight!=null?this.OddRight:this.right,t},n.prototype.getBottom=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenBottom!=null?this.EvenBottom:this.bottom:t=this.OddBottom!=null?this.OddBottom:this.bottom,t},n.prototype.isEven=function(e){var t=e.section.document.pages,i=0;t.pageCollectionIndex.containsKey(e)?i=t.pageCollectionIndex.getValue(e)+1:i=t.indexOf(e)+1;var r=i%2===0;return r},n.prototype.checkElement=function(e,t){if(e!=null){if(typeof e.type<"u"&&e.type!==ie.None)throw new Error("NotSupportedException:Can not reassign the template element. Please, create new one.");e.type=t}return e},n}(),Yu=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$u=function(n){Yu(e,n);function e(){var t=n.call(this)||this;return t.leftValue=t.topValue=t.rightValue=t.bottomValue=t.stampValue=!0,t}return Object.defineProperty(e.prototype,"applyDocumentLeftTemplate",{get:function(){return this.leftValue},set:function(t){this.leftValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentTopTemplate",{get:function(){return this.topValue},set:function(t){this.topValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentRightTemplate",{get:function(){return this.rightValue},set:function(t){this.rightValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentBottomTemplate",{get:function(){return this.bottomValue},set:function(t){this.bottomValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentStamps",{get:function(){return this.stampValue},set:function(t){this.stampValue=t},enumerable:!0,configurable:!0}),e}(io),Xu=function(){function n(e,t){this.pageAdded=new Ds,this.pdfPages=[],this.dictionaryProperties=new Me,this.pdfDocument=e,typeof t>"u"?(this.settings=e.pageSettings.clone(),this.initialSettings=this.settings.clone()):(this.settings=t.clone(),this.initialSettings=this.settings.clone()),this.initialize()}return Object.defineProperty(n.prototype,"parent",{get:function(){return this.sectionCollection},set:function(e){this.sectionCollection=e,this.section.items.setValue(this.dictionaryProperties.parent,new ye(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentDocument",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageSettings",{get:function(){return this.settings},set:function(e){if(e!=null)this.settings=e;else throw Error("Value can not be null.")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.section},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this.pagesReferences.count},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"template",{get:function(){return this.pageTemplate==null&&(this.pageTemplate=new $u),this.pageTemplate},set:function(e){this.pageTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"document",{get:function(){return this.sectionCollection.document},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pages",{get:function(){return(this.pagesCollection==null||typeof this.pagesCollection>"u")&&(this.pagesCollection=new Gu(this)),this.pagesCollection},enumerable:!0,configurable:!0}),n.prototype.getPages=function(){return this.pdfPages},n.prototype.pointToNativePdf=function(e,t){var i=this.getActualBounds(e,!0);return t.x+=i.x,t.y=this.pageSettings.height-t.y,t},n.prototype.setPageSettings=function(e){this.settings=e,this.state.orientation=e.orientation,this.state.rotate=e.rotate,this.state.size=e.size,this.state.origin=e.origin},n.prototype.initialize=function(){this.pagesReferences=new Le,this.section=new ve,this.state=new qu(this.pdfDocument),this.section.sectionBeginSave=new _h(this,this.state),this.pageCount=new Z(0),this.section.items.setValue(this.dictionaryProperties.count,this.pageCount),this.section.items.setValue(this.dictionaryProperties.type,new Q(this.dictionaryProperties.pages)),this.section.items.setValue(this.dictionaryProperties.kids,this.pagesReferences)},n.prototype.containsTemplates=function(e,t,i){var r=this.getDocumentTemplates(e,t,i),s=this.getSectionTemplates(t,i);return r.length>0||s.length>0},n.prototype.getDocumentTemplates=function(e,t,i){var r=[];return this.template.applyDocumentTopTemplate&&e.template.getTop(t)!=null&&(!(e.template.getTop(t).foreground||i)||e.template.getTop(t).foreground&&i)&&r.push(e.template.getTop(t)),this.template.applyDocumentBottomTemplate&&e.template.getBottom(t)!=null&&(!(e.template.getBottom(t).foreground||i)||e.template.getBottom(t).foreground&&i)&&r.push(e.template.getBottom(t)),this.template.applyDocumentLeftTemplate&&e.template.getLeft(t)!=null&&(!(e.template.getLeft(t).foreground||i)||e.template.getLeft(t).foreground&&i)&&r.push(e.template.getLeft(t)),this.template.applyDocumentRightTemplate&&e.template.getRight(t)!=null&&(!(e.template.getRight(t).foreground||i)||e.template.getRight(t).foreground&&i)&&r.push(e.template.getRight(t)),r},n.prototype.getSectionTemplates=function(e,t){var i=[];if(this.template.getTop(e)!=null){var r=this.template.getTop(e);(!(r.foreground||t)||r.foreground&&t)&&i.push(r)}if(this.template.getBottom(e)!=null){var r=this.template.getBottom(e);(!(r.foreground||t)||r.foreground&&t)&&i.push(r)}if(this.template.getLeft(e)!=null){var r=this.template.getLeft(e);(!(r.foreground||t)||r.foreground&&t)&&i.push(r)}if(this.template.getRight(e)!=null){var r=this.template.getRight(e);(!(r.foreground||t)||r.foreground&&t)&&i.push(r)}return i},n.prototype.add=function(e){if(typeof e>"u"){var t=new Zt;return this.add(t),t}else{var i=this.checkPresence(e);this.pdfPages.push(e),this.pagesReferences.add(i),e.setSection(this),e.resetProgress(),this.pageAddedMethod(e)}},n.prototype.checkPresence=function(e){for(var t=new ye(e),i=!1,r=this.parent,s=0;s<r.section.length;s++){var a=r.section[s];i=i||a.contains(e)}return t},n.prototype.contains=function(e){var t=this.indexOf(e);return 0<=t},n.prototype.indexOf=function(e){for(var t=0;t<this.pdfPages.length;t++)if(this.pdfPages[t]===e)return this.pdfPages.indexOf(e);var i=new ye(e);return this.pagesReferences.indexOf(i)},n.prototype.pageAddedMethod=function(e){var t=new Ds(e);this.onPageAdded(t);var i=this.parent;i.document.pages.onPageAdded(t),this.pageCount.intValue=this.count},n.prototype.onPageAdded=function(e){},n.prototype.getActualBounds=function(e,t,i){if(e instanceof Zt&&typeof t=="boolean"){var r=void 0,s=this.parent.document;return r=this.getActualBounds(s,e,t),r}else{e=e,t=t,i=i;var a=new me(0,0,0,0);a.height=i?this.pageSettings.size.height:this.pageSettings.getActualSize().height,a.width=i?this.pageSettings.size.width:this.pageSettings.getActualSize().width;var o=this.getLeftIndentWidth(e,t,i),l=this.getTopIndentHeight(e,t,i),h=this.getRightIndentWidth(e,t,i),u=this.getBottomIndentHeight(e,t,i);return a.x+=o,a.y+=l,a.width-=o+h,a.height-=l+u,a}},n.prototype.getLeftIndentWidth=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.left:0,s=this.template.getLeft(t)!=null?this.template.getLeft(t).width:0,a=e.template.getLeft(t)!=null?e.template.getLeft(t).width:0;return r+=this.template.applyDocumentLeftTemplate?Math.max(s,a):s,r},n.prototype.getTopIndentHeight=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.top:0,s=this.template.getTop(t)!=null?this.template.getTop(t).height:0,a=e.template.getTop(t)!=null?e.template.getTop(t).height:0;return r+=this.template.applyDocumentTopTemplate?Math.max(s,a):s,r},n.prototype.getRightIndentWidth=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.right:0,s=this.template.getRight(t)!=null?this.template.getRight(t).width:0,a=e.template.getRight(t)!=null?e.template.getRight(t).width:0;return r+=this.template.applyDocumentRightTemplate?Math.max(s,a):s,r},n.prototype.getBottomIndentHeight=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var r=i?this.pageSettings.margins.bottom:0,s=this.template.getBottom(t)!=null?this.template.getBottom(t).height:0,a=e.template.getBottom(t)!=null?e.template.getBottom(t).height:0;return r+=this.template.applyDocumentBottomTemplate?Math.max(s,a):s,r},n.prototype.remove=function(e){if(e==null)throw Error('ArgumentNullException("page")');var t=this.pdfPages.indexOf(e);this.pagesReferences.removeAt(t);for(var i=[],r=0;r<t;r++)i.push(this.pdfPages[r]);for(var r=t+1;r<this.pdfPages.length;r++)i.push(this.pdfPages[r]);this.pdfPages=i},n.prototype.applyPageSettings=function(e,t,i){var r=new me(i.origin,i.size);e.items.setValue(this.dictionaryProperties.mediaBox,Le.fromRectangle(r));var s=0;s=ro.rotateFactor*i.rotate;var a=new Z(s);e.items.setValue(this.dictionaryProperties.rotate,a)},n.prototype.beginSave=function(e,t){var i=t.document;this.applyPageSettings(this.section,i.pageSettings,e)},n.prototype.drawTemplates=function(e,t,i,r){var s=this.getDocumentTemplates(i,e,r),a=this.getSectionTemplates(e,r);this.drawTemplatesHelper(t,i,s),this.drawTemplatesHelper(t,i,a)},n.prototype.drawTemplatesHelper=function(e,t,i){if(i!=null&&i.length>0)for(var r=i.length,s=0;s<r;s++){var a=i[s];a.draw(e,t)}},n}(),qu=function(){function n(e){this.pageOrientation=e.pageSettings.orientation,this.pageRotate=e.pageSettings.rotate,this.pageSize=e.pageSettings.size,this.pageOrigin=e.pageSettings.origin}return Object.defineProperty(n.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(e){this.pageOrientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rotate",{get:function(){return this.pageRotate},set:function(e){this.pageRotate=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.pageSize},set:function(e){this.pageSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"origin",{get:function(){return this.pageOrigin},set:function(e){this.pageOrigin=e},enumerable:!0,configurable:!0}),n}(),ro=function(){function n(e){this.sections=[],this.dictionaryProperties=new Me,this.pdfDocument=e.clone(),this.initialize()}return Object.defineProperty(n.prototype,"section",{get:function(){return this.sections},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"document",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"count",{get:function(){return this.sections.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.pages},enumerable:!0,configurable:!0}),n.prototype.initialize=function(){this.sectionCount=new Z(0),this.sectionCollection=new Le,this.pages=new ve,this.pages.beginSave=new Dh(this),this.pages.items.setValue(this.dictionaryProperties.type,new Q("Pages")),this.pages.items.setValue(this.dictionaryProperties.kids,this.sectionCollection),this.pages.items.setValue(this.dictionaryProperties.count,this.sectionCount),this.pages.items.setValue(this.dictionaryProperties.resources,new ve),this.setPageSettings(this.pages,this.pdfDocument.pageSettings)},n.prototype.pdfSectionCollection=function(e){if(e<0||e>=this.count)throw new Error("IndexOutOfRangeException()");return this.sections[e]},n.prototype.setPageSettings=function(e,t){var i=new me(new oe,t.size);e.items.setValue(this.dictionaryProperties.mediaBox,Le.fromRectangle(i))},n.prototype.add=function(e){if(typeof e>"u"){var t=new Xu(this.pdfDocument);return this.add(t),t}else{var i=this.checkSection(e);return this.sections.push(e),e.parent=this,this.sectionCollection.add(i),this.sections.indexOf(e)}},n.prototype.checkSection=function(e){var t=new ye(e);return this.sectionCollection.contains(t),t},n.prototype.countPages=function(){var e=0;return this.sections.forEach(function(t){return e+=t.count}),e},n.prototype.beginSave=function(){this.sectionCount.intValue=this.countPages()},n.rotateFactor=90,n}(),Zu=function(){function n(e){this.pdfPageCollectionIndex=new xe,this.document=e}return Object.defineProperty(n.prototype,"count",{get:function(){return this.countPages()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageCollectionIndex",{get:function(){return this.pdfPageCollectionIndex},enumerable:!0,configurable:!0}),n.prototype.add=function(e){if(typeof e>"u"){var t=new Zt;return this.add(t),t}else{var i=this.getLastSection();i.add(e)}},n.prototype.getLastSection=function(){var e=this.document.sections;e.section.length===0&&e.add();var t=e.section[e.section.length-1];return t},n.prototype.onPageAdded=function(e){},n.prototype.countPages=function(){for(var e=this.document.sections,t=0,i=0;i<e.section.length;i++)t+=e.section[i].count;return t},n.prototype.getPageByIndex=function(e){return this.getPage(e)},n.prototype.getPage=function(e){if(e<0||e>=this.count)throw Error('ArgumentOutOfRangeException("index", "Value can not be less 0")');for(var t=null,i=0,r=0,s=0,a=this.document.sections.count,o=0;o<a;o++){var l=this.document.sections.section[o];if(r=l.count,s=e-i,e>=i&&s<r){t=l.getPages()[s];break}i+=r}return t},n.prototype.indexOf=function(e){var t=-1;if(e==null)throw new Error("ArgumentNullException: page");for(var i=0,r=0,s=this.document.sections.count;r<s;r++){var a=this.document.sections.pdfSectionCollection(r);if(t=a.indexOf(e),t>=0){t+=i;break}else t=-1;i+=a.count}return t},n.prototype.remove=function(e){if(e==null)throw Error('ArgumentNullException("page")');for(var t=null,i=0,r=this.document.sections.count;i<r;i++)if(t=this.document.sections.pdfSectionCollection(i),t.pages.contains(e)){t.pages.remove(e);break}return t},n}(),Fs=function(){function n(){this.referenceObjects=[],this.pdfFontCollection=new xe}return n.prototype.search=function(e){var t=null,i=this.getGroup(e);return i==null?i=this.createNewGroup():i.length>0&&(t=i[0]),i.push(e),t},n.prototype.createNewGroup=function(){var e=[];return this.referenceObjects.push(e),e},n.prototype.getGroup=function(e){var t=null;if(e!==null)for(var i=this.referenceObjects.length,r=0;r<i;r++){if(this.referenceObjects.length>0){var s=this.referenceObjects[r];if(s.length>0){var a=s[0];if(e.equalsTo(a)){t=s;break}}else this.removeGroup(s)}i=this.referenceObjects.length}return t},n.prototype.removeGroup=function(e){if(e!==null){var t=this.referenceObjects.indexOf(e);this.referenceObjects.slice(t,t+1)}},n.prototype.destroy=function(){this.pdfFontCollection=void 0,this.referenceObjects=void 0},n}(),Ku=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ur=function(n){Ku(e,n);function e(t){var i=n.call(this)||this;i.defaultMargin=40,i.streamWriter=null,i.document=i;var r=!1;typeof t>"u"?(e.cacheCollection=new Fs,r=!1):r=t;var s=new eu;i.setMainObjectCollection(s);var a=new Xa;a.isMerging=r,a.document=i,i.setCrossTable(a);var o=new $a;return i.setCatalog(o),s.add(o),o.position=-1,i.sectionCollection=new ro(i),i.documentPageCollection=new Zu(i),o.pages=i.sectionCollection,i}return Object.defineProperty(e,"defaultFont",{get:function(){return this.defaultStandardFont==null&&(this.defaultStandardFont=new Cn(et.Helvetica,8)),this.defaultStandardFont},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sections",{get:function(){return this.sectionCollection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSettings",{get:function(){return this.settings==null&&(this.settings=new ou(this.defaultMargin)),this.settings},set:function(t){this.settings=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pages",{get:function(){return this.documentPageCollection},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cache",{get:function(){return typeof e.cacheCollection>"u"||e.cacheCollection==null?new Fs:e.cacheCollection},set:function(t){this.cacheCollection=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"enableCache",{get:function(){return this.isCacheEnabled},set:function(t){this.isCacheEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.pdfColorSpace===Ae.Rgb||this.pdfColorSpace===Ae.Cmyk||this.pdfColorSpace===Ae.GrayScale?this.pdfColorSpace:Ae.Rgb},set:function(t){t===Ae.Rgb||t===Ae.Cmyk||t===Ae.GrayScale?this.pdfColorSpace=t:this.pdfColorSpace=Ae.Rgb},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.pageTemplate==null&&(this.pageTemplate=new io),this.pageTemplate},set:function(t){this.pageTemplate=t},enumerable:!0,configurable:!0}),e.prototype.docSave=function(t,i,r){if(this.checkPagesPresence(),t===null)throw new Error("ArgumentNullException : stream");this.streamWriter=t;var s=new As(t);if(s.document=this,typeof i=="boolean"&&typeof r>"u")return this.crossTable.save(s);this.crossTable.save(s,i)},e.prototype._docSave=function(){var t=new Qh;if(this.checkPagesPresence(),t===null)throw new Error("ArgumentNullException : stream");this.streamWriter=t;var i=new As(t);return i.document=this,this.crossTable._save(i)},e.prototype.checkPagesPresence=function(){this.pages.count===0&&this.pages.add()},e.prototype.destroy=function(){this.catalog=void 0,this.colorSpace=void 0,this.currentSavingObj=void 0,this.documentPageCollection=void 0,this.isStreamCopied=void 0,this.pageSettings=void 0,this.pageTemplate=void 0,this.pdfColorSpace=void 0,this.sectionCollection=void 0,e.cache.destroy(),this.crossTable.pdfObjects.destroy(),e.cache=void 0,this.streamWriter&&this.streamWriter.destroy()},e.defaultStandardFont=null,e.isCacheEnabled=!0,e}(iu),Qu=function(){function n(){}return n.getMetrics=function(e,t,i){var r=null;switch(e){case et.Helvetica:r=this.getHelveticaMetrics(e,t,i);break;case et.Courier:r=this.getCourierMetrics(e,t,i);break;case et.TimesRoman:r=this.getTimesMetrics(e,t,i);break;case et.Symbol:r=this.getSymbolMetrics(e,t,i);break;case et.ZapfDingbats:r=this.getZapfDingbatsMetrics(e,t,i);break;default:r=this.getHelveticaMetrics(et.Helvetica,t,i);break}return r.name=e.toString(),r.subScriptSizeFactor=this.subSuperScriptFactor,r.superscriptSizeFactor=this.subSuperScriptFactor,r},n.getHelveticaMetrics=function(e,t,i){var r=new xi;return(t&Ce.Bold)>0&&(t&Ce.Italic)>0?(r.ascent=this.helveticaBoldItalicAscent,r.descent=this.helveticaBoldItalicDescent,r.postScriptName=this.helveticaBoldItalicName,r.size=i,r.widthTable=new $e(this.arialBoldWidth),r.height=r.ascent-r.descent):(t&Ce.Bold)>0?(r.ascent=this.helveticaBoldAscent,r.descent=this.helveticaBoldDescent,r.postScriptName=this.helveticaBoldName,r.size=i,r.widthTable=new $e(this.arialBoldWidth),r.height=r.ascent-r.descent):(t&Ce.Italic)>0?(r.ascent=this.helveticaItalicAscent,r.descent=this.helveticaItalicDescent,r.postScriptName=this.helveticaItalicName,r.size=i,r.widthTable=new $e(this.arialWidth),r.height=r.ascent-r.descent):(r.ascent=this.helveticaAscent,r.descent=this.helveticaDescent,r.postScriptName=this.helveticaName,r.size=i,r.widthTable=new $e(this.arialWidth),r.height=r.ascent-r.descent),r},n.getCourierMetrics=function(e,t,i){var r=new xi;return(t&Ce.Bold)>0&&(t&Ce.Italic)>0?(r.ascent=this.courierBoldItalicAscent,r.descent=this.courierBoldItalicDescent,r.postScriptName=this.courierBoldItalicName,r.size=i,r.widthTable=new $e(this.fixedWidth),r.height=r.ascent-r.descent):(t&Ce.Bold)>0?(r.ascent=this.courierBoldAscent,r.descent=this.courierBoldDescent,r.postScriptName=this.courierBoldName,r.size=i,r.widthTable=new $e(this.fixedWidth),r.height=r.ascent-r.descent):(t&Ce.Italic)>0?(r.ascent=this.courierItalicAscent,r.descent=this.courierItalicDescent,r.postScriptName=this.courierItalicName,r.size=i,r.widthTable=new $e(this.fixedWidth),r.height=r.ascent-r.descent):(r.ascent=this.courierAscent,r.descent=this.courierDescent,r.postScriptName=this.courierName,r.size=i,r.widthTable=new $e(this.fixedWidth),r.height=r.ascent-r.descent),r},n.getTimesMetrics=function(e,t,i){var r=new xi;return(t&Ce.Bold)>0&&(t&Ce.Italic)>0?(r.ascent=this.timesBoldItalicAscent,r.descent=this.timesBoldItalicDescent,r.postScriptName=this.timesBoldItalicName,r.size=i,r.widthTable=new $e(this.timesRomanBoldItalicWidths),r.height=r.ascent-r.descent):(t&Ce.Bold)>0?(r.ascent=this.timesBoldAscent,r.descent=this.timesBoldDescent,r.postScriptName=this.timesBoldName,r.size=i,r.widthTable=new $e(this.timesRomanBoldWidth),r.height=r.ascent-r.descent):(t&Ce.Italic)>0?(r.ascent=this.timesItalicAscent,r.descent=this.timesItalicDescent,r.postScriptName=this.timesItalicName,r.size=i,r.widthTable=new $e(this.timesRomanItalicWidth),r.height=r.ascent-r.descent):(r.ascent=this.timesAscent,r.descent=this.timesDescent,r.postScriptName=this.timesName,r.size=i,r.widthTable=new $e(this.timesRomanWidth),r.height=r.ascent-r.descent),r},n.getSymbolMetrics=function(e,t,i){var r=new xi;return r.ascent=this.symbolAscent,r.descent=this.symbolDescent,r.postScriptName=this.symbolName,r.size=i,r.widthTable=new $e(this.symbolWidth),r.height=r.ascent-r.descent,r},n.getZapfDingbatsMetrics=function(e,t,i){var r=new xi;return r.ascent=this.zapfDingbatsAscent,r.descent=this.zapfDingbatsDescent,r.postScriptName=this.zapfDingbatsName,r.size=i,r.widthTable=new $e(this.zapfDingbatsWidth),r.height=r.ascent-r.descent,r},n.subSuperScriptFactor=1.52,n.helveticaAscent=931,n.helveticaDescent=-225,n.helveticaName="Helvetica",n.helveticaBoldAscent=962,n.helveticaBoldDescent=-228,n.helveticaBoldName="Helvetica-Bold",n.helveticaItalicAscent=931,n.helveticaItalicDescent=-225,n.helveticaItalicName="Helvetica-Oblique",n.helveticaBoldItalicAscent=962,n.helveticaBoldItalicDescent=-228,n.helveticaBoldItalicName="Helvetica-BoldOblique",n.courierAscent=805,n.courierDescent=-250,n.courierName="Courier",n.courierBoldAscent=801,n.courierBoldDescent=-250,n.courierBoldName="Courier-Bold",n.courierItalicAscent=805,n.courierItalicDescent=-250,n.courierItalicName="Courier-Oblique",n.courierBoldItalicAscent=801,n.courierBoldItalicDescent=-250,n.courierBoldItalicName="Courier-BoldOblique",n.timesAscent=898,n.timesDescent=-218,n.timesName="Times-Roman",n.timesBoldAscent=935,n.timesBoldDescent=-218,n.timesBoldName="Times-Bold",n.timesItalicAscent=883,n.timesItalicDescent=-217,n.timesItalicName="Times-Italic",n.timesBoldItalicAscent=921,n.timesBoldItalicDescent=-218,n.timesBoldItalicName="Times-BoldItalic",n.symbolAscent=1010,n.symbolDescent=-293,n.symbolName="Symbol",n.zapfDingbatsAscent=820,n.zapfDingbatsDescent=-143,n.zapfDingbatsName="ZapfDingbats",n.arialWidth=[278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,0,556,0,222,556,333,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,222,222,333,333,350,556,1e3,333,1e3,500,333,944,0,500,667,0,333,556,556,556,556,260,556,333,737,370,556,584,0,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500],n.arialBoldWidth=[278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,0,556,0,278,556,500,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,278,278,500,500,350,556,1e3,333,1e3,556,333,944,0,500,667,0,333,556,556,556,556,280,556,333,737,370,556,584,0,737,333,400,584,333,333,333,611,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,584,611,611,611,611,611,556,611,556],n.fixedWidth=[600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600],n.timesRomanWidth=[250,333,408,500,500,833,778,180,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,0,500,0,333,500,444,1e3,500,500,333,1e3,556,333,889,0,611,0,0,333,333,444,444,350,500,1e3,333,980,389,333,722,0,444,722,0,333,500,500,500,500,200,500,333,760,276,500,564,0,760,333,400,564,300,300,333,500,453,250,333,300,310,500,750,750,750,444,722,722,722,722,722,722,889,667,611,611,611,611,333,333,333,333,722,722,722,722,722,722,722,564,722,722,722,722,722,722,556,500,444,444,444,444,444,444,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,564,500,500,500,500,500,500,500,500],n.timesRomanBoldWidth=[250,333,555,500,500,1e3,833,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1e3,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,1e3,0,667,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,444,722,0,333,500,500,500,500,220,500,333,747,300,500,570,0,747,333,400,570,300,300,333,556,540,250,333,300,330,500,750,750,750,500,722,722,722,722,722,722,1e3,722,667,667,667,667,389,389,389,389,722,722,778,778,778,778,778,570,778,722,722,722,722,722,611,556,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,500,556,500],n.timesRomanItalicWidth=[250,333,420,500,500,833,778,214,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,0,500,0,333,500,556,889,500,500,333,1e3,500,333,944,0,556,0,0,333,333,556,556,350,500,889,333,980,389,333,667,0,389,556,0,389,500,500,500,500,275,500,333,760,276,500,675,0,760,333,400,675,300,300,333,500,523,250,333,300,310,500,750,750,750,500,611,611,611,611,611,611,889,667,611,611,611,611,333,333,333,333,722,667,722,722,722,722,722,675,722,722,722,722,722,556,611,500,500,500,500,500,500,500,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,675,500,500,500,500,500,444,500,444],n.timesRomanBoldItalicWidths=[250,389,555,500,500,833,778,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,944,0,611,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,389,611,0,389,500,500,500,500,220,500,333,747,266,500,606,0,747,333,400,570,300,300,333,576,500,250,333,300,300,500,750,750,750,500,667,667,667,667,667,667,944,667,667,667,667,667,389,389,389,389,722,722,722,722,722,722,722,570,722,722,722,722,722,611,611,500,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,444,500,444],n.symbolWidth=[250,333,713,500,549,833,778,439,333,333,500,549,250,549,250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,549,722,667,722,612,611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,333,863,333,658,500,500,631,549,549,494,439,521,411,603,329,603,549,549,576,521,549,549,521,549,603,439,576,713,686,493,686,494,480,200,480,549,750,620,247,549,167,713,500,753,753,753,753,1042,987,603,987,603,400,549,411,549,549,713,494,460,549,549,549,549,1e3,603,1e3,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,549,250,713,603,603,1042,987,603,987,603,494,329,790,790,786,713,384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,-1],n.zapfDingbatsWidth=[278,974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918],n}(),Ju=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Cn=function(n){Ju(e,n);function e(t,i,r){var s=n.call(this,i,typeof r>"u"?t instanceof e?t.style:Ce.Regular:r)||this;return s.dictionaryProperties=new Me,s.encodings=["Unknown","StandardEncoding","MacRomanEncoding","MacExpertEncoding","WinAnsiEncoding","PDFDocEncoding","IdentityH"],typeof t>"u"?s.pdfFontFamily=et.Helvetica:t instanceof e?s.pdfFontFamily=t.fontFamily:s.pdfFontFamily=t,s.checkStyle(),s.initializeInternals(),s}return Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.pdfFontFamily},enumerable:!0,configurable:!0}),e.prototype.checkStyle=function(){if(this.fontFamily===et.Symbol||this.fontFamily===et.ZapfDingbats){var t=this.style;t&=~(Ce.Bold|Ce.Italic),this.setStyle(t)}},e.prototype.getLineWidth=function(t,i){if(t==null)throw new Error("ArgumentNullException:line");var r=0;this.name,t=e.convert(t);for(var s=0,a=t.length;s<a;s++){var o=t[s],l=this.getCharWidthInternal(o,i);r+=l}var h=this.metrics.getSize(i);return r*=qt.charSizeMultiplier*h,r=this.applyFormatSettings(t,i,r),r},e.prototype.equalsToFont=function(t){var i=!1,r=t;if(r!=null){var s=this.fontFamily===r.fontFamily,a=~(Ce.Underline|Ce.Strikeout),o=(this.style&a)===(r.style&a);i=s&&o}return i},e.prototype.initializeInternals=function(){Ur.cache.search(this);var t=null,i=Qu.getMetrics(this.pdfFontFamily,this.style,this.size);this.metrics=i,t=this.createInternals(),this.setInternals(t)},e.prototype.createInternals=function(){var t=new ve;if(t.items.setValue(this.dictionaryProperties.type,new Q(this.dictionaryProperties.font)),t.items.setValue(this.dictionaryProperties.subtype,new Q(this.dictionaryProperties.type1)),t.items.setValue(this.dictionaryProperties.baseFont,new Q(this.metrics.postScriptName)),this.fontFamily!==et.Symbol&&this.fontFamily!==et.ZapfDingbats){var i=this.encodings[vn.WinAnsiEncoding];t.items.setValue(this.dictionaryProperties.encoding,new Q(i))}return t},e.prototype.getCharWidthInternal=function(t,i){var r=0,s=0;s=t.charCodeAt(0),(this.name==="0"||this.name==="1"||this.name==="2"||this.name==="3"||this.name==="4")&&(s=s-e.charOffset),s=s>=0&&s!==128?s:0;var a=this.metrics,o=a.widthTable;return r=o.items(s),r},e.convert=function(t){return t},e.charOffset=32,e}(qt),Ns=function(){function n(e,t,i,r,s){e instanceof me&&typeof t>"u"?this.InitiateBounds(e.x,e.y,e.width,e.height,null):e instanceof me&&t instanceof Zt&&typeof i>"u"?this.InitiateBounds(e.x,e.y,e.width,e.height,t):e instanceof oe&&t instanceof X&&typeof i>"u"?this.InitiateBounds(e.x,e.y,t.width,t.height,null):e instanceof oe&&t instanceof X&&i instanceof Zt&&typeof r>"u"?this.InitiateBounds(e.x,e.y,t.width,t.height,i):e instanceof X&&typeof t>"u"?this.InitiateBounds(0,0,e.width,e.height,null):typeof e=="number"&&typeof t=="number"&&typeof i>"u"?this.InitiateBounds(0,0,e,t,null):typeof e=="number"&&typeof t=="number"&&i instanceof Zt&&typeof r>"u"?this.InitiateBounds(0,0,e,t,i):typeof e=="number"&&typeof t=="number"&&typeof i=="number"&&typeof r=="number"&&typeof s>"u"?this.InitiateBounds(e,t,i,r,null):this.InitiateBounds(e,t,i,r,null)}return Object.defineProperty(n.prototype,"dock",{get:function(){return this.dockStyle},set:function(e){this.dockStyle=e,this.resetAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this.alignmentStyle},set:function(e){this.setAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"foreground",{get:function(){return this.isForeground},set:function(e){this.isForeground=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"background",{get:function(){return!this.isForeground},set:function(e){this.isForeground=!e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"location",{get:function(){return this.currentLocation},set:function(e){this.type===ie.None&&(this.currentLocation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){var e=typeof this.currentLocation<"u"?this.currentLocation.x:0;return e},set:function(e){this.type===ie.None&&(this.currentLocation.x=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){var e=typeof this.currentLocation<"u"?this.currentLocation.y:0;return e},set:function(e){this.type===ie.None&&(this.currentLocation.y=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.template.size},set:function(e){this.type===ie.None&&this.template.reset(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.template.width},set:function(e){if(this.template.width!==e&&this.type===ie.None){var t=this.template.size;t.width=e,this.template.reset(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.template.height},set:function(e){if(this.template.height!==e&&this.type===ie.None){var t=this.template.size;t.height=e,this.template.reset(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"graphics",{get:function(){return this.template.graphics},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"template",{get:function(){return this.pdfTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{get:function(){return this.templateType},set:function(e){this.updateDocking(e),this.templateType=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bounds",{get:function(){return new me(new oe(this.x,this.y),this.size)},set:function(e){this.type===ie.None&&(this.location=new oe(e.x,e.y),this.size=new X(e.width,e.height))},enumerable:!0,configurable:!0}),n.prototype.InitiateBounds=function(e,t,i,r,s){this.x=e,this.y=t,this.pdfTemplate=new xn(i,r)},n.prototype.updateDocking=function(e){if(e!==ie.None){switch(e){case ie.Top:this.dock=Ee.Top;break;case ie.Bottom:this.dock=Ee.Bottom;break;case ie.Left:this.dock=Ee.Left;break;case ie.Right:this.dock=Ee.Right;break}this.resetAlignment()}},n.prototype.resetAlignment=function(){this.alignment=ee.None},n.prototype.setAlignment=function(e){if(this.dock===Ee.None)this.alignmentStyle=e;else{var t=!1;switch(this.dock){case Ee.Left:t=e===ee.TopLeft||e===ee.MiddleLeft||e===ee.BottomLeft||e===ee.None;break;case Ee.Top:t=e===ee.TopLeft||e===ee.TopCenter||e===ee.TopRight||e===ee.None;break;case Ee.Right:t=e===ee.TopRight||e===ee.MiddleRight||e===ee.BottomRight||e===ee.None;break;case Ee.Bottom:t=e===ee.BottomLeft||e===ee.BottomCenter||e===ee.BottomRight||e===ee.None;break;case Ee.Fill:t=e===ee.MiddleCenter||e===ee.None;break}t&&(this.alignmentStyle=e)}},n.prototype.draw=function(e,t){var i=e.page,r=this.calculateBounds(i,t);e.graphics.drawPdfTemplate(this.template,new oe(r.x,r.y),new X(r.width,r.height))},n.prototype.calculateBounds=function(e,t){var i=this.bounds;return this.alignmentStyle!==ee.None?i=this.getAlignmentBounds(e,t):this.dockStyle!==Ee.None&&(i=this.getDockBounds(e,t)),i},n.prototype.getAlignmentBounds=function(e,t){var i=this.bounds;return this.type===ie.None?i=this.getSimpleAlignmentBounds(e,t):i=this.getTemplateAlignmentBounds(e,t),i},n.prototype.getSimpleAlignmentBounds=function(e,t){var i=this.bounds,r=e.section,s=r.getActualBounds(t,e,!1),a=this.x,o=this.y;switch(this.alignmentStyle){case ee.TopLeft:a=0,o=0;break;case ee.TopCenter:a=(s.width-this.width)/2,o=0;break;case ee.TopRight:a=s.width-this.width,o=0;break;case ee.MiddleLeft:a=0,o=(s.height-this.height)/2;break;case ee.MiddleCenter:a=(s.width-this.width)/2,o=(s.height-this.height)/2;break;case ee.MiddleRight:a=s.width-this.width,o=(s.height-this.height)/2;break;case ee.BottomLeft:a=0,o=s.height-this.height;break;case ee.BottomCenter:a=(s.width-this.width)/2,o=s.height-this.height;break;case ee.BottomRight:a=s.width-this.width,o=s.height-this.height;break}return i.x=a,i.y=o,i},n.prototype.getTemplateAlignmentBounds=function(e,t){var i=this.bounds,r=e.section,s=r.getActualBounds(t,e,!1),a=this.x,o=this.y;switch(this.alignmentStyle){case ee.TopLeft:this.type===ie.Left?(a=this.convertSign(s.x),o=0):this.type===ie.Top&&(a=this.convertSign(s.x),o=this.convertSign(s.y));break;case ee.TopCenter:a=(s.width-this.width)/2,o=this.convertSign(s.y);break;case ee.TopRight:this.type===ie.Right?(a=s.width+r.getRightIndentWidth(t,e,!1)-this.width,o=0):this.type===ie.Top&&(a=s.width+r.getRightIndentWidth(t,e,!1)-this.width,o=this.convertSign(s.y));break;case ee.MiddleLeft:a=this.convertSign(s.x),o=(s.height-this.height)/2;break;case ee.MiddleCenter:a=(s.width-this.width)/2,o=(s.height-this.height)/2;break;case ee.MiddleRight:a=s.width+r.getRightIndentWidth(t,e,!1)-this.width,o=(s.height-this.height)/2;break;case ee.BottomLeft:this.type===ie.Left?(a=this.convertSign(s.x),o=s.height-this.height):this.type===ie.Bottom&&(a=this.convertSign(s.x),o=s.height+r.getBottomIndentHeight(t,e,!1)-this.height);break;case ee.BottomCenter:a=(s.width-this.width)/2,o=s.height+r.getBottomIndentHeight(t,e,!1)-this.height;break;case ee.BottomRight:this.type===ie.Right?(a=s.width+r.getRightIndentWidth(t,e,!1)-this.width,o=s.height-this.height):this.type===ie.Bottom&&(a=s.width+r.getRightIndentWidth(t,e,!1)-this.width,o=s.height+r.getBottomIndentHeight(t,e,!1)-this.height);break}return i.x=a,i.y=o,i},n.prototype.getDockBounds=function(e,t){var i=this.bounds;return this.type===ie.None?i=this.getSimpleDockBounds(e,t):i=this.getTemplateDockBounds(e,t),i},n.prototype.getSimpleDockBounds=function(e,t){var i=this.bounds,r=e.section,s=r.getActualBounds(t,e,!1),a=this.x,o=this.y,l=this.width,h=this.height;switch(this.dockStyle){case Ee.Left:a=0,o=0,l=this.width,h=s.height;break;case Ee.Top:a=0,o=0,l=s.width,h=this.height;break;case Ee.Right:a=s.width-this.width,o=0,l=this.width,h=s.height;break;case Ee.Bottom:a=0,o=s.height-this.height,l=s.width,h=this.height;break;case Ee.Fill:a=0,a=0,l=s.width,h=s.height;break}return i=new me(a,o,l,h),i},n.prototype.getTemplateDockBounds=function(e,t){var i=this.bounds,r=e.section,s=r.getActualBounds(t,e,!1),a=r.pageSettings.getActualSize(),o=this.x,l=this.y,h=this.width,u=this.height;switch(this.dockStyle){case Ee.Left:o=this.convertSign(s.x),l=0,h=this.width,u=s.height;break;case Ee.Top:o=this.convertSign(s.x),l=this.convertSign(s.y),h=a.width,u=this.height,s.height<0&&(l=a.height-s.y);break;case Ee.Right:o=s.width+r.getRightIndentWidth(t,e,!1)-this.width,l=0,h=this.width,u=s.height;break;case Ee.Bottom:o=this.convertSign(s.x),l=s.height+r.getBottomIndentHeight(t,e,!1)-this.height,h=a.width,u=this.height,s.height<0&&(l-=a.height);break;case Ee.Fill:o=0,o=0,h=s.width,u=s.height;break}return i=new me(o,l,h,u),i},n.prototype.convertSign=function(e){return e!==0||e===0&&1/e===-1/0?-e:e},n}(),_s=function(){function n(e){this.control=e}return n.prototype.export=function(e,t,i,r,s,a,o,l,h,u){var c=this,f=this.getControlsValue(r,o,u&&e==="PDF",e),d=[],g=[],p=[],b=!(se.userAgent.toString().indexOf("HeadlessChrome")>-1);i=U(i)?li.Landscape:i;for(var y=function(E){g.push(s||f[E].width),p.push(a||f[E].height);var S=r[E].svgObject,L=r[E].enableCanvas,M=void 0;L||(S=Pi("canvas",{id:"ej2-canvas",attrs:{width:g[E].toString(),height:p[E].toString()}}));var O='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+f[E].svg.outerHTML+"</svg>",_=window.URL.createObjectURL(new Blob(e==="SVG"?[O]:[new XMLSerializer().serializeToString(f[E].svg)],{type:"image/svg+xml"}));if(e==="SVG")if(se.info.name==="msie"){var R=new Blob([new XMLSerializer().serializeToString(f[E].svg)],{type:"application/octet-stream"});window.navigator.msSaveOrOpenBlob(R,t+"."+e.toLocaleLowerCase())}else T.triggerDownload(t,e,_,b);else if(se.info.name==="msie"){var z=S;L||(z=T.createCanvas()),M=z.toDataURL(),d.push(S),e==="PDF"?d.length===f.length&&T.exportPdf(d,i,g,p,b,t,l,h):T.doexport(e,M,t)}else{var H=new Image,j=S.getContext("2d");H.onload=function(){j.drawImage(H,0,0),window.URL.revokeObjectURL(_),d.push(S),e==="PDF"?d.length===f.length&&c.exportPdf(d,i,g,p,b,t,l,h):window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(S.toBlob(null),t+"."+e.toLocaleLowerCase()):c.triggerDownload(t,e,S.toDataURL("image/"+e.toLowerCase()),b)},H.src=_}L||ze(document.getElementById(r[E].element.id+"_canvas"))},T=this,w=0;w<f.length;w++)y(w)},n.prototype.getDataUrl=function(e){var t=this.getControlsValue([e]),i=this.control.svgObject,r=this.control.enableCanvas;r||(i=Pi("canvas",{id:"ej2-canvas",attrs:{width:t[0].width.toString(),height:t[0].height.toString()}}));var s=window.URL.createObjectURL(new Blob([new XMLSerializer().serializeToString(t[0].svg)],{type:"image/svg+xml"}));if(se.info.name==="msie"){var a=i;r||(a=this.createCanvas());var o={name:vr,cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger(vr,o),{element:a,dataUrl:a.toDataURL()}}else{var l=new Image,h=i.getContext("2d");return l.onload=function(){h.drawImage(l,0,0),window.URL.revokeObjectURL(s);var u={name:vr,cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger(vr,u),u.dataUrl},l.src=s,{element:i,blobUrl:s}}},n.prototype.triggerDownload=function(e,t,i,r){Pi("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(r?"click":"move",{view:window,bubbles:!1,cancelable:!0}))},n.prototype.getControlsValue=function(e,t,i,r){for(var s=0,a=0,o=new dn("").createSvg({id:"Svg_Export_Element",width:200,height:200}),l=[],h,u=0;u<e.length;u++){var c=e[u],f=c.enableCanvas,d=c.svgObject.cloneNode(!0),g=c.renderer.createGroup({style:U(t)||t?"transform: translateY("+a+"px)":"transform: translateX("+s+"px)"});if(h=d.childNodes[0]?d.childNodes[0].getAttribute("fill"):"transparent",h==="transparent"&&(c.theme.indexOf("Dark")>-1||c.theme.indexOf("HighContrast")>-1?h="rgba(0, 0, 0, 1)":h="rgba(255, 255, 255, 1)"),!f){if(c.getModuleName()==="stockChart"){d.childNodes[0].firstChild.setAttribute("fill",h);for(var p=1;p<d.childNodes.length;p++)d.childNodes[p].childNodes[0].setAttribute("fill",h)}else r==="SVG"&&d.childNodes[0].setAttribute("fill",h);g.appendChild(d)}var b=0,y=0;c.stockLegendModule&&c.legendSettings.visible&&(c.legendSettings.position==="Bottom"||c.legendSettings.position==="Top"||c.legendSettings.position==="Auto"?b+=c.stockLegendModule.legendBounds.height:(c.legendSettings.position==="Left"||c.legendSettings.position==="Right")&&(y+=c.stockLegendModule.legendBounds.width)),s=U(t)||t?Math.max(c.availableSize.width+y,s):s+c.availableSize.width+y,a=U(t)||t?a+c.availableSize.height+b:Math.max(c.availableSize.height+b,a),f||o.appendChild(g),(i||u===e.length-1)&&((!i&&!this.control.enableCanvas||i&&!f)&&(o.setAttribute("width",s+""),o.setAttribute("height",a+""),o.setAttribute("style","background-color: "+h+";")),l.push({width:s,height:a,svg:o})),i&&u<e.length&&(s=0,a=0,o=new dn("").createSvg({id:"Svg_Export_Element",width:200,height:200}))}return l},n.prototype.createCanvas=function(){var e=this.control;this.canvasRender(!0,e);var t=e.svgObject;return this.canvasRender(!1,e),t},n.prototype.canvasRender=function(e,t){t.enableCanvas=e,t.preRender(),t.render()},n.prototype.exportPdf=function(e,t,i,r,s,a,o,l){for(var h=new Ur,u=h.pageSettings.margins,c=h.pageSettings.width,f=h.pageSettings.height,d=0;e.length>d;d++){var g=e[d].toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");h.pageSettings.orientation=t;var p=c<i[d]?i[d]+u.left+u.right:c,b=t===0?i[d]+u.left+u.right:f<r[d]?r[d]+u.top+u.bottom:f;if(o!==void 0){var y=new Cn(1,o.fontSize||15),T=new Ns(p,40);T.graphics.drawString(o.content+"",y,null,new Fi(new ui(0,0,0)),o.x,o.y,null),h.template.top=T}if(l!==void 0){var y=new Cn(1,l.fontSize||15),w=new Ns(p,40);w.graphics.drawString(l.content+"",y,null,new Fi(new ui(0,0,0)),l.x,l.y,null),h.template.bottom=w}h.pageSettings.size=new X(p,b),g=g.slice(g.indexOf(",")+1),h.pages.add().graphics.drawImage(new Qa(g),0,0,i[d],r[d])}s&&(h.save(a+".pdf"),h.destroy())},n.prototype.doexport=function(e,t,i){var r=[],s=e||"JPG";r=[t],this.exportImage(r,i,s,t)},n.prototype.exportImage=function(e,t,i,r){for(var s=[],a=e instanceof HTMLElement?0:e.length,o=0;o<a;o++){r=e[o],r=r.replace(/^data:[a-z]*;,/,"");for(var l=r.split(","),h=atob(l[1]),u=new ArrayBuffer(h.length),c=new Uint8Array(u),f=0;f<h.length;f++)c[f]=h.charCodeAt(f);s.push(u)}for(var d=0;d<s.length;d++){var g=new Blob([s[d]],{type:"application/octet-stream"});se.info.name==="msie"&&window.navigator.msSaveOrOpenBlob(g,t+"."+i.toLocaleLowerCase())}},n}(),Gt=function(){function n(){this.numFmtId=0,this.backColor="none",this.fontName="Calibri",this.fontSize=10.5,this.fontColor="#000000",this.italic=!1,this.bold=!1,this.underline=!1,this.strikeThrough=!1,this.wrapText=!1,this.hAlign="general",this.vAlign="bottom",this.indent=0,this.rotation=0,this.numberFormat="GENERAL",this.type="datetime",this.borders=new no,this.isGlobalStyle=!1}return n}(),Vs=function(){function n(){this.sz=10.5,this.name="Calibri",this.u=!1,this.b=!1,this.i=!1,this.color="FF000000",this.strike=!1}return n}(),ec=function(){function n(){}return n}(),tc=function(){function n(){}return n}(),ic=function(){function n(){}return n}(),zs=function(){function n(){this.name="Normal",this.xfId=0}return n}(),js=function(){function n(e,t){this.numFmtId=e,this.formatCode=t}return n}(),Gi=function(){function n(e,t){this.lineStyle=e,this.color=t}return n}(),no=function(){function n(){this.left=new Gi("none","#FFFFFF"),this.right=new Gi("none","#FFFFFF"),this.top=new Gi("none","#FFFFFF"),this.bottom=new Gi("none","#FFFFFF"),this.all=new Gi("none","#FFFFFF")}return n}(),rc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Hs=function(){function n(){}return n}(),Ws=function(n){rc(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.add=function(i){for(var r=!1,s=0,a=0,o=t;a<o.length;a++){var l=o[a];l.index===i.index&&(t[s]=i,r=!0),s++}r||t.push(i)},t}return e}(Array),nc=function(){function n(){}return n}(),sc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Us=function(){function n(){}return n}(),ac=function(n){sc(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.add=function(i){t.push(i)},t}return e}(Array),oc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),lc=function(n){oc(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Array),hc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),uc=function(){function n(){this.isSummaryRowBelow=!0,this.showGridLines=!0,this.enableRtl=!1}return n}(),Gs=function(){function n(){}return n}(),cc=function(){function n(){}return n}(),fc=function(){function n(){}return n}(),so=function(){function n(){}return n}(),dc=function(n){hc(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.add=function(i){for(var r=!1,s=0,a=0,o=t;a<o.length;a++){var l=o[a];if(e.isIntersecting(l,i)){var h=new so;h.x=Math.min(l.x,i.x),h.y=Math.min(l.Y,i.y),h.width=Math.max(l.Width+l.X,i.width+i.x),h.height=Math.max(l.Height+l.Y,i.height+i.y),h.ref=t[s].ref.split(":")[0]+":"+i.ref.split(":")[1],t[s]=h,i=h,r=!0}s++}return r||t.push(i),i},t}return e.isIntersecting=function(t,i){return t.x<=i.x+i.width&&i.x<=t.x+t.width&&t.y<=i.y+i.height&&i.y<=t.y+t.height},e}(Array),pc=function(){function n(){}return n}(),gc=function(){function n(e){this.intl=new Mn}return n.prototype.getFormatFunction=function(e,t){return e.type?(t&&(e.isServerRendered=!0),this.intl.getDateFormat(e)):this.intl.getNumberFormat(e)},n.prototype.toView=function(e,t){var i=e;return!U(t)&&!U(e)&&(i=t(e)),i},n.prototype.displayText=function(e,t,i){return this.toView(e,this.getFormatFunction(t,i))},n}(),mc=function(){function n(e,t){if(this.csvStr="",t==null?this.separator=",":this.separator=t,this.formatter=new gc,this.isMicrosoftBrowser=!!navigator.msSaveBlob,e.isServerRendered!==null&&e.isServerRendered!==void 0&&(this.isServerRendered=e.isServerRendered),e.styles!==null&&e.styles!==void 0){this.globalStyles=new Map;for(var i=0;i<e.styles.length;i++)e.styles[i].name!==void 0&&e.styles[i].numberFormat!==void 0&&this.globalStyles.set(e.styles[i].name,e.styles[i].numberFormat)}e.worksheets!==null&&e.worksheets!==void 0&&this.parseWorksheet(e.worksheets[0])}return n.prototype.parseWorksheet=function(e){e.rows!==null&&e.rows!==void 0&&this.parseRows(e.rows)},n.prototype.parseRows=function(e){for(var t=1,i=0,r=e;i<r.length;i++){var s=r[i];if(s.index!==null&&s.index!==void 0){for(;t<s.index;)this.csvStr+=`\r
`,t++;this.parseRow(s)}else throw Error("Row index is missing.")}this.csvStr+=`\r
`},n.prototype.parseRow=function(e){if(e.cells!==null&&e.cells!==void 0)for(var t=1,i=0,r=e.cells;i<r.length;i++){var s=r[i];if(s.index!==null&&s.index!==void 0){for(;t<s.index;)this.csvStr+=this.separator,t++;this.parseCell(s)}else throw Error("Cell index is missing.")}},n.prototype.parseCell=function(e){var t=this.csvStr;if(e.value!==void 0)if(e.value instanceof Date)if(e.style!==void 0&&e.style.numberFormat!==void 0)try{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",skeleton:e.style.numberFormat},this.isServerRendered))}catch{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",format:e.style.numberFormat},this.isServerRendered))}else if(e.style!==void 0&&e.style.name!==void 0&&this.globalStyles.has(e.style.name))try{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",skeleton:this.globalStyles.get(e.style.name)},this.isServerRendered))}catch{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",format:this.globalStyles.get(e.style.name)},this.isServerRendered))}else t+=e.value;else typeof e.value=="boolean"?t+=e.value?"TRUE":"FALSE":typeof e.value=="number"?e.style!==void 0&&e.style.numberFormat!==void 0?t+=this.parseCellValue(this.formatter.displayText(e.value,{format:e.style.numberFormat,ignoreCurrency:!0},this.isServerRendered)):e.style!==void 0&&e.style.name!==void 0&&this.globalStyles.has(e.style.name)?t+=this.parseCellValue(this.formatter.displayText(e.value,{format:this.globalStyles.get(e.style.name),ignoreCurrency:!0},this.isServerRendered)):t+=e.value:t+=this.parseCellValue(e.value);this.csvStr=t},n.prototype.parseCellValue=function(e){for(var t="",i=e.length,r=0;r<i;r++)e[r]==='"'?t+=e[r].replace('"','""'):t+=e[r];return e=t,e.indexOf(this.separator)!==-1||e.indexOf(`
`)!==-1||e.indexOf('"')!==-1?e='"'+e+'"':e},n.prototype.save=function(e){if(this.buffer=new Blob(["\uFEFF"+this.csvStr],{type:"text/csv;charset=UTF-8"}),this.isMicrosoftBrowser)navigator.msSaveBlob(this.buffer,e);else{var t=window.URL.createObjectURL(this.buffer),i=document.createElementNS("http://www.w3.org/1999/xhtml","a");i.download=e,i.href=t;var r=document.createEvent("MouseEvent");r.initEvent("click",!0,!0),i.dispatchEvent(r),setTimeout(function(){window.URL.revokeObjectURL(t)})}},n.prototype.saveAsBlob=function(e){if(e!=null){var t=new Di,i="UTF-8";e.toUpperCase()=="ANSI"?(t.type="Ansi",i="ANSI"):e.toUpperCase()=="UNICODE"?(t.type="Unicode",i="UNICODE"):(t.type="Utf8",i="UTF-8");var r=t.getBytes(this.csvStr,0,this.csvStr.length);return new Blob([r],{type:"text/csv;charset="+i})}else return new Blob(["\uFEFF"+this.csvStr],{type:"text/csv;charset=UTF-8"})},n}(),Ys=function(){function n(){this.parts=[]}return n.prototype.append=function(e){this.parts.push(e),this.blob=void 0},n.prototype.getBlob=function(){return new Blob(this.parts,{type:"text/plain"})},n}(),vc=function(){function n(){}return n}(),yc=function(){function n(e,t,i,r,s){if(this.sharedStringCount=0,this.unitsProportions=[96/75,96/300,96,96/25.4,96/2.54,1,96/72,96/72/12700],this.hyperlinkStyle={fontColor:"#0000FF",underline:!0},i!==void 0?this.culture=i:this.culture="en-US",r!==void 0?this.currency=r:this.currency="USD",this.intl=new Mn(this.culture),this.mSaveType=t,t==="xlsx"){if(this.mArchive=new He,this.sharedString=[],this.mFonts=[],this.mBorders=[],this.mStyles=[],this.printTitles=new Map,this.cellStyles=new Map,this.mNumFmt=new Map,this.mFills=new Map,this.mStyles.push(new Gt),this.mFonts.push(new Vs),this.cellStyles.set("Normal",new zs),this.mCellXfs=[],this.mCellStyleXfs=[],this.drawingCount=0,this.imageCount=0,e.styles!==null&&e.styles!==void 0){this.globalStyles=new Map;for(var a=0;a<e.styles.length;a++)if(e.styles[a].name!==void 0){if(this.cellStyles.has(e.styles[a].name))throw Error("Style name "+e.styles[a].name+" is already existed");var o=new Gt;o.isGlobalStyle=!0,this.parserCellStyle(e.styles[a],o,"none");var l=new zs;l.name=o.name,l.xfId=o.index-1,this.cellStyles.set(l.name,l);var h={};e.styles[a].numberFormat!==void 0&&(h.format=e.styles[a].numberFormat),e.styles[a].type!==void 0?h.type=e.styles[a].type:h.type="datetime",h.format!==void 0&&this.globalStyles.set(e.styles[a].name,h)}}if(e.worksheets!==null&&e.worksheets!==void 0)this.parserWorksheets(e.worksheets);else throw Error("Worksheet is expected.");e.builtInProperties!==null&&e.builtInProperties!==void 0&&(this.builtInProperties=new bc,this.parserBuiltInProperties(e.builtInProperties,this.builtInProperties))}else this.csvHelper=new mc(e,s)}return n.prototype.parserBuiltInProperties=function(e,t){e.author!==null&&e.author!==void 0&&(t.author=e.author),e.comments!==null&&e.comments!==void 0&&(t.comments=e.comments),e.category!==null&&e.category!==void 0&&(t.category=e.category),e.company!==null&&e.company!==void 0&&(t.company=e.company),e.manager!==null&&e.manager!==void 0&&(t.manager=e.manager),e.subject!==null&&e.subject!==void 0&&(t.subject=e.subject),e.title!==null&&e.title!==void 0&&(t.title=e.title),e.createdDate!==null&&e.createdDate!==void 0&&(t.createdDate=e.createdDate),e.modifiedDate!==null&&e.modifiedDate!==void 0&&(t.modifiedDate=e.modifiedDate),e.tags!==null&&e.tags!==void 0&&(t.tags=e.tags),e.status!==null&&e.status!==void 0&&(t.status=e.status)},n.prototype.parserWorksheets=function(e){this.worksheets=new lc;for(var t=e.length,i=0;i<t;i++){var r=e[i],s=new uc;this.mergeCells=new dc,this.mergedCellsStyle=new Map,this.mHyperLinks=[],r.name!==null&&r.name!==void 0?s.name=r.name:s.name="Sheet"+(i+1).toString(),r.enableRtl!==null&&r.enableRtl!==void 0&&(s.enableRtl=r.enableRtl),s.index=i+1,r.columns!==null&&r.columns!==void 0&&this.parserColumns(r.columns,s),r.rows!==null&&r.rows!==void 0&&this.parserRows(r.rows,s),r.showGridLines!==null&&r.showGridLines!==void 0&&(s.showGridLines=r.showGridLines),r.freeze!==null&&r.freeze!==void 0&&this.parserFreezePanes(r.freeze,s),r.printTitle!==null&&r.printTitle!==void 0&&this.parserPrintTitle(r.printTitle,s),r.pageSetup!==void 0&&r.pageSetup.isSummaryRowBelow!==void 0&&(s.isSummaryRowBelow=r.pageSetup.isSummaryRowBelow),r.images!==void 0&&this.parserImages(r.images,s),r.autoFilters!==null&&r.autoFilters!==void 0&&this.parseFilters(r.autoFilters,s),s.index=i+1,s.mergeCells=this.mergeCells,s.hyperLinks=this.mHyperLinks,this.worksheets.push(s)}},n.prototype.mergeOptions=function(e,t){var i={};return this.applyProperties(e,i),this.applyProperties(t,i),i},n.prototype.applyProperties=function(e,t){for(var i=Object.keys(e),r=0;r<i.length;r++)i[r]!=="name"&&(t[i[r]]=e[i[r]])},n.prototype.getCellName=function(e,t){return this.getColumnName(t)+e.toString()},n.prototype.getColumnName=function(e){e--;var t="";do{var i=e%26;e=e/26-1,t=String.fromCharCode(65+i)+t}while(e>=0);return t},n.prototype.parserPrintTitle=function(e,t){var i="",r;if(e.fromRow!==null&&e.fromRow!==void 0){var s=e.fromRow,a=void 0;e.toRow!==null&&e.toRow!==void 0?a=e.toRow:a=e.fromRow,r="$"+s+":$"+a}var o;if(e.fromColumn!==null&&e.fromColumn!==void 0){var l=e.fromColumn,h=void 0;e.toColumn!==null&&e.toColumn!==void 0?h=e.toColumn:h=e.fromColumn,o="$"+this.getColumnName(l)+":$"+this.getColumnName(h)}r!==void 0&&(i+=t.name+"!"+r),o!==void 0&&r!==void 0?i+=","+(t.name+"!"+o):o!==void 0&&(i+=t.name+"!"+o),i!==""&&this.printTitles.set(t.index-1,i)},n.prototype.parserFreezePanes=function(e,t){t.freezePanes=new fc,e.row!==null&&e.row!==void 0?t.freezePanes.row=e.row:t.freezePanes.row=0,e.column!==null&&e.column!==void 0?t.freezePanes.column=e.column:t.freezePanes.column=0,t.freezePanes.leftCell=this.getCellName(t.freezePanes.row+1,t.freezePanes.column+1)},n.prototype.parserColumns=function(e,t){var i=e.length;t.columns=[];for(var r=0;r<i;r++){var s=new nc;if(e[r].index!==null&&e[r].index!==void 0)s.index=e[r].index;else throw Error("Column index is missing.");e[r].width!==null&&e[r].width!==void 0&&(s.width=e[r].width),t.columns.push(s)}},n.prototype.parserRows=function(e,t){var i=e.length;t.rows=new ac;for(var r=0,s=0;s<i;s++){var a=this.parserRow(e[s],r);r=a.index,t.rows.add(a)}this.insertMergedCellsStyle(t)},n.prototype.insertMergedCellsStyle=function(e){var t=this;this.mergeCells.length>0&&this.mergedCellsStyle.forEach(function(i,r){var s=e.rows.filter(function(c){return c.index===i.y})[0];if(U(s)){var h=e.rows.filter(function(f){return f.index<=i.y}),u=new Us;u.index=i.y,u.cells=new Ws,u.cells.add(t.createCell(i,r));var l=0;h.length>0&&(l=e.rows.indexOf(h[h.length-1])+1),e.rows.splice(l,0,u)}else{var a=s.cells.filter(function(c){return c.index===i.x})[0];if(!U(a))a.styleIndex=i.styleIndex;else{var o=s.cells.filter(function(c){return c.index<=i.x}),l=0;o.length>0&&(l=s.cells.indexOf(o[o.length-1])+1),s.cells.splice(l,0,t.createCell(i,r))}}})},n.prototype.createCell=function(e,t){var i=new Hs;return i.refName=t,i.index=e.x,i.cellStyle=new Gt,i.styleIndex=e.styleIndex,i},n.prototype.parserRow=function(e,t){var i=new Us;if(e.height!==null&&e.height!==void 0&&(i.height=e.height),e.index!==null&&e.index!==void 0)i.index=e.index;else throw Error("Row index is missing.");return e.grouping!==null&&e.grouping!==void 0&&this.parseGrouping(e.grouping,i),this.parseCells(e.cells,i),i},n.prototype.parseGrouping=function(e,t){t.grouping=new cc,e.outlineLevel!==void 0&&(t.grouping.outlineLevel=e.outlineLevel),e.isCollapsed!==void 0&&(t.grouping.isCollapsed=e.isCollapsed),e.isHidden!==void 0&&(t.grouping.isHidden=e.isHidden)},n.prototype.parseCells=function(e,t){t.cells=new Ws;for(var i=e!==void 0?e.length:0,r=1,s=1,a=0;a<i;a++){var o=e[a],l=new Hs;if(o.index!==null&&o.index!==void 0)l.index=o.index;else throw Error("Cell index is missing.");if(l.index<r?r=l.index:l.index>s&&(s=l.index),l.refName=this.getCellName(t.index,l.index),o.rowSpan!==null&&o.rowSpan!==void 0?l.rowSpan=o.rowSpan-1:l.rowSpan=0,o.colSpan!==null&&o.colSpan!==void 0?l.colSpan=o.colSpan-1:l.colSpan=0,o.hyperlink!==null&&o.hyperlink!==void 0){var h=new Gs;o.hyperlink.target!==void 0&&(h.target=o.hyperlink.target,o.hyperlink.displayText!==void 0?l.value=o.hyperlink.displayText:l.value=o.hyperlink.target,l.type=this.getCellValueType(l.value),h.ref=l.refName,h.rId=this.mHyperLinks.length+1,this.mHyperLinks.push(h),l.cellStyle=new Gt,this.parserCellStyle(o.style!==void 0?this.mergeOptions(o.style,this.hyperlinkStyle):this.hyperlinkStyle,l.cellStyle,"string"),l.styleIndex=l.cellStyle.index)}o.formula!==null&&o.formula!==void 0&&(l.formula=o.formula,l.type="formula"),o.value!==null&&o.value!==void 0&&(l.formula!==void 0?l.value=0:(l.value=o.value,l.type=this.getCellValueType(l.value))),o.style!==null&&o.style!==void 0&&l.styleIndex===void 0?(l.cellStyle=new Gt,l.value instanceof Date?this.parserCellStyle(o.style,l.cellStyle,l.type,14):this.parserCellStyle(o.style,l.cellStyle,l.type),l.styleIndex=l.cellStyle.index):l.value instanceof Date&&(l.cellStyle=new Gt,this.parserCellStyle({},l.cellStyle,l.type,14),l.styleIndex=l.cellStyle.index),this.parseCellType(l),this.mergeCells=this.processMergeCells(l,t.index,this.mergeCells),t.cells.add(l),l.index+1}t.spans=r+":"+s},n.prototype.GetColors=function(){var e;return e=new Map,e.set("WHITE","FFFFFFFF"),e.set("SILVER","FFC0C0C0"),e.set("GRAY","FF808080"),e.set("BLACK","FF000000"),e.set("RED","FFFF0000"),e.set("MAROON","FF800000"),e.set("YELLOW","FFFFFF00"),e.set("OLIVE","FF808000"),e.set("LIME","FF00FF00"),e.set("GREEN","FF008000"),e.set("AQUA","FF00FFFF"),e.set("TEAL","FF008080"),e.set("BLUE","FF0000FF"),e.set("NAVY","FF000080"),e.set("FUCHSIA","FFFF00FF"),e.set("PURPLE","FF800080"),e},n.prototype.processColor=function(e){return e.indexOf("#")===0?e.replace("#","FF"):(e=e.toUpperCase(),this.rgbColors=this.GetColors(),this.rgbColors.has(e)?e=this.rgbColors.get(e):e="FF000000",e)},n.prototype.processCellValue=function(e,t){var i=e;if(e.indexOf("<font")!==-1||e.indexOf("<a")!==-1||e.indexOf("<b>")!==-1||e.indexOf("<i>")!==-1||e.indexOf("<u>")!==-1){var r="",s=e.indexOf("<",0),a=e.indexOf(">",s+1);if(s>=0&&a>=0){for(s!==0&&(r+='<r><t xml:space="preserve">'+this.processString(e.substring(0,s))+"</t></r>");s>=0&&a>=0;)if(a=e.indexOf(">",s+1),a>=0){var o=e.substring(s+1,a);s=e.indexOf("<",a+1),s<0&&(s=i.length);var l=i.substring(a+1,s);if(l.length!==0){var h=o.split(" ");if(h.length>0&&(r+="<r><rPr>"),h.length>1)for(var u=0,c=h;u<c.length;u++){var f=c[u],d=f.trim().substring(0,5);switch(d){case"size=":r+='<sz val="'+f.substring(6,f.length-1)+'"/>';break;case"face=":r+='<rFont val="'+f.substring(6,f.length-1)+'"/>';break;case"color":r+='<color rgb="'+this.processColor(f.substring(7,f.length-1))+'"/>';break;case"href=":var g=new Gs;g.target=f.substring(6,f.length-1).trim(),g.ref=t.refName,g.rId=this.mHyperLinks.length+1,this.mHyperLinks.push(g),r+='<color rgb="FF0000FF"/><u/><b/>';break}}else if(h.length===1){var p=h[0].trim();switch(p){case"b":r+="<b/>";break;case"i":r+="<i/>";break;case"u":r+="<u/>";break}}r+='</rPr><t xml:space="preserve">'+this.processString(l)+"</t></r>"}}return r===""?i:r}else return i}else return i},n.prototype.applyGlobalStyle=function(e,t){this.cellStyles.has(e.name)&&(t.index=this.mStyles.filter(function(i){return i.name===e.name})[0].index,t.name=e.name)},n.prototype.parserCellStyle=function(e,t,i,r){if(e.name!==null&&e.name!==void 0)if(t.isGlobalStyle)t.name=e.name;else{this.applyGlobalStyle(e,t);return}e.backColor!==null&&e.backColor!==void 0&&(t.backColor=e.backColor),t.borders=new no,e.borders!==null&&e.borders!==void 0&&this.parserBorder(e.borders,t.borders.all),e.leftBorder!==null&&e.leftBorder!==void 0&&this.parserBorder(e.leftBorder,t.borders.left),e.rightBorder!==null&&e.rightBorder!==void 0&&this.parserBorder(e.rightBorder,t.borders.right),e.topBorder!==null&&e.topBorder!==void 0&&this.parserBorder(e.topBorder,t.borders.top),e.bottomBorder!==null&&e.bottomBorder!==void 0&&this.parserBorder(e.bottomBorder,t.borders.bottom),e.fontName!==null&&e.fontName!==void 0&&(t.fontName=e.fontName),e.fontSize!==null&&e.fontSize!==void 0&&(t.fontSize=e.fontSize),e.fontColor!==null&&e.fontColor!==void 0&&(t.fontColor=e.fontColor),e.italic!==null&&e.italic!==void 0&&(t.italic=e.italic),e.bold!==null&&e.bold!==void 0&&(t.bold=e.bold),e.hAlign!==null&&e.hAlign!==void 0&&(t.hAlign=e.hAlign.toLowerCase()),e.indent!==null&&e.indent!==void 0&&(t.indent=e.indent,t.hAlign==="left"||t.hAlign==="right"||(t.hAlign="left")),e.rotation!==null&&e.rotation!==void 0&&(t.rotation=e.rotation),e.vAlign!==null&&e.vAlign!==void 0&&(t.vAlign=e.vAlign.toLowerCase()),e.underline!==null&&e.underline!==void 0&&(t.underline=e.underline),e.strikeThrough!==null&&e.strikeThrough!==void 0&&(t.strikeThrough=e.strikeThrough),e.wrapText!==null&&e.wrapText!==void 0&&(t.wrapText=e.wrapText),e.numberFormat!==null&&e.numberFormat!==void 0?e.type!==null&&e.type!==void 0?t.numberFormat=this.getNumberFormat(e.numberFormat,e.type):t.numberFormat=this.getNumberFormat(e.numberFormat,i):(r!==void 0&&(t.numFmtId=14),t.numberFormat="GENERAL"),t.index=this.processCellStyle(t)},n.prototype.switchNumberFormat=function(e,t){var i=this.getNumberFormat(e,t);if(i!==e){var r=this.mNumFmt.get(e);if(r!==void 0&&(r.formatCode=i,this.mNumFmt.has(i))){for(var s=0,a=this.mCellStyleXfs;s<a.length;s++){var o=a[s];o.numFmtId===r.numFmtId&&(o.numFmtId=this.mNumFmt.get(i).numFmtId)}for(var l=0,h=this.mCellXfs;l<h.length;l++){var u=h[l];u.numFmtId===r.numFmtId&&(u.numFmtId=this.mNumFmt.get(i).numFmtId)}}}},n.prototype.changeNumberFormats=function(e){if(typeof e=="string"){var t=new RegExp(this.currency,"g");e=e.replace(t,"[$"+this.currency+"]")}else if(typeof e=="object")for(var i=0;i<e.length;i++)e[i]=e[i].replace(this.currency,"[$"+this.currency+"]");return e},n.prototype.getNumberFormat=function(e,t){var i;switch(t){case"number":try{i=this.intl.getNumberPattern({format:e,currency:this.currency,useGrouping:!0},!0),this.currency.length>1&&(i=this.changeNumberFormats(i))}catch{i=e}break;case"datetime":try{i=this.intl.getDatePattern({skeleton:e,type:"dateTime"},!0)}catch{try{i=this.intl.getDatePattern({format:e,type:"dateTime"},!0)}catch{i=e}}break;case"date":try{i=this.intl.getDatePattern({skeleton:e,type:"date"},!0)}catch{try{i=this.intl.getDatePattern({format:e,type:"date"},!0)}catch{i=e}}break;case"time":try{i=this.intl.getDatePattern({skeleton:e,type:"time"},!0)}catch{try{i=this.intl.getDatePattern({format:e,type:"time"},!0)}catch{i=e}}break;default:i=e;break}return i},n.prototype.parserBorder=function(e,t){e.color!==null&&e.color!==void 0?t.color=e.color:t.color="#000000",e.lineStyle!==null&&e.lineStyle!==void 0?t.lineStyle=e.lineStyle:t.lineStyle="thin"},n.prototype.processCellStyle=function(e){if(e.isGlobalStyle)return this.processNumFormatId(e),this.mStyles.push(e),this.mStyles.length;var t=this.compareStyle(e);return t.result?t.index:(this.processNumFormatId(e),this.mStyles.push(e),this.mStyles.length)},n.prototype.processNumFormatId=function(e){if(e.numberFormat!=="GENERAL"&&!this.mNumFmt.has(e.numberFormat)){var t=this.mNumFmt.size+164;this.mNumFmt.set(e.numberFormat,new js(t,e.numberFormat))}},n.prototype.isNewFont=function(e){for(var t=!1,i=0,r=0,s=this.mFonts;r<s.length;r++){var a=s[r];i++;var o=void 0;if(e.fontColor!==void 0&&(o="FF"+e.fontColor.replace("#","")),t=a.color===o&&a.b===e.bold&&a.i===e.italic&&a.u===e.underline&&a.strike===e.strikeThrough&&a.name===e.fontName&&a.sz===e.fontSize,t)break}return i=i-1,{index:i,result:t}},n.prototype.isNewBorder=function(e){var t=new Gt;return this.isAllBorder(e.borders)?t.borders.all.color===e.borders.all.color&&t.borders.all.lineStyle===e.borders.all.lineStyle:t.borders.left.color===e.borders.left.color&&t.borders.left.lineStyle===e.borders.left.lineStyle&&t.borders.right.color===e.borders.right.color&&t.borders.right.lineStyle===e.borders.right.lineStyle&&t.borders.top.color===e.borders.top.color&&t.borders.top.lineStyle===e.borders.top.lineStyle&&t.borders.bottom.color===e.borders.bottom.color&&t.borders.bottom.lineStyle===e.borders.bottom.lineStyle},n.prototype.isAllBorder=function(e){var t=new Gt;return t.borders.all.color!==e.all.color&&t.borders.all.lineStyle!==e.all.lineStyle},n.prototype.compareStyle=function(e){for(var t=!0,i=0,r=0,s=this.mStyles;r<s.length;r++){var a=s[r];if(t=a.isGlobalStyle?!1:a.backColor===e.backColor&&a.bold===e.bold&&a.numFmtId===e.numFmtId&&a.numberFormat===e.numberFormat&&a.type===e.type&&a.fontColor===e.fontColor&&a.fontName===e.fontName&&a.fontSize===e.fontSize&&a.hAlign===e.hAlign&&a.italic===e.italic&&a.underline===e.underline&&a.strikeThrough===e.strikeThrough&&a.vAlign===e.vAlign&&a.indent===e.indent&&a.rotation===e.rotation&&a.wrapText===e.wrapText&&a.borders.all.color===e.borders.all.color&&a.borders.all.lineStyle===e.borders.all.lineStyle&&a.borders.left.color===e.borders.left.color&&a.borders.left.lineStyle===e.borders.left.lineStyle&&a.borders.right.color===e.borders.right.color&&a.borders.right.lineStyle===e.borders.right.lineStyle&&a.borders.top.color===e.borders.top.color&&a.borders.top.lineStyle===e.borders.top.lineStyle&&a.borders.bottom.color===e.borders.bottom.color&&a.borders.bottom.lineStyle===e.borders.bottom.lineStyle,t){i=a.index;break}}return{index:i,result:t}},n.prototype.contains=function(e,t){var i=e.indexOf(t);return i>-1&&i<e.length},n.prototype.getCellValueType=function(e){return e instanceof Date?"datetime":typeof e=="boolean"?"boolean":typeof e=="number"?"number":"string"},n.prototype.parseCellType=function(e){var t=e.type,i,r=e.value;switch(t){case"datetime":if(r=this.toOADate(r),e.cellStyle!==void 0&&e.cellStyle.name!==void 0&&this.globalStyles.has(e.cellStyle.name)){var s=this.globalStyles.get(e.cellStyle.name);this.switchNumberFormat(s.format,s.type)}i="n";break;case"boolean":r=r?1:0,i="b";break;case"number":i="n",e.cellStyle!==void 0&&e.cellStyle.name!==void 0&&this.globalStyles.has(e.cellStyle.name)&&this.switchNumberFormat(this.globalStyles.get(e.cellStyle.name).format,"number");break;case"string":this.sharedStringCount++,i="s";var a=this.processCellValue(r,e);this.contains(this.sharedString,a)||this.sharedString.push(a),r=this.sharedString.indexOf(a);break}e.saveType=i,e.value=r},n.prototype.parserImages=function(e,t){var i=e.length;t.images=[];for(var r=0;r<i;r++){var s=this.parserImage(e[r]);t.images.push(s)}},n.prototype.parseFilters=function(e,t){if(t.autoFilters=new vc,e.row!==null&&e.row!==void 0)t.autoFilters.row=e.row;else throw new Error("Argument Null Exception: row null or empty");if(e.lastRow!==null&&e.lastRow!==void 0)t.autoFilters.lastRow=e.lastRow;else throw new Error("Argument Null Exception: lastRow cannot be null or empty");if(e.column!==null&&e.column!==void 0)t.autoFilters.column=e.column;else throw new Error("Argument Null Exception: column cannot be null or empty");if(e.lastColumn!==null&&e.row!==void 0)t.autoFilters.lastColumn=e.lastColumn;else throw new Error("Argument Null Exception: lastColumn cannot be null or empty")},n.prototype.parserImage=function(e){var t=new pc;return e.image!==null&&e.image!==void 0&&(t.image=e.image),e.row!==null&&e.row!==void 0&&(t.row=e.row),e.column!==null&&e.column!==void 0&&(t.column=e.column),e.lastRow!==null&&e.lastRow!==void 0&&(t.lastRow=e.lastRow),e.lastColumn!==null&&e.lastColumn!==void 0&&(t.lastColumn=e.lastColumn),e.width!==null&&e.width!==void 0&&(t.width=e.width),e.height!==null&&e.height!==void 0&&(t.height=e.height),e.horizontalFlip!==null&&e.horizontalFlip!==void 0&&(t.horizontalFlip=e.horizontalFlip),e.verticalFlip!==null&&e.verticalFlip!==void 0&&(t.verticalFlip=e.verticalFlip),e.rotation!==null&&e.rotation!==void 0&&(t.rotation=e.rotation),t},n.prototype.saveAsBlob=function(e,t){var i=this;switch(e){case"text/csv":return new Promise(function(r,s){var a={};a.blobData=i.csvHelper.saveAsBlob(t),r(a)});default:return new Promise(function(r,s){i.saveInternal(),i.mArchive.saveAsBlob().then(function(a){var o={};o.blobData=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r(o)})})}},n.prototype.save=function(e,t){var i=this;if(e==null||e==="")throw new Error("Argument Null Exception: fileName cannot be null or empty");var r=e.match(".xlsx$"),s=e.match(".csv$");if(r!==null&&r[0]==="."+this.mSaveType)this.saveInternal(),this.mArchive.save(e).then(function(){i.mArchive.destroy()});else if(s!==null&&s[0]==="."+this.mSaveType)this.csvHelper.save(e);else throw Error("Save type and file extension is different.")},n.prototype.saveInternal=function(){this.saveWorkbook(),this.saveWorksheets(),this.saveSharedString(),this.saveStyles(),this.saveApp(this.builtInProperties),this.saveCore(this.builtInProperties),this.saveContentType(),this.saveTopLevelRelation(),this.saveWorkbookRelation()},n.prototype.saveWorkbook=function(){for(var e='<?xml version="1.0" encoding="utf-8"?><workbook xmlns:r = "http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns= "http://schemas.openxmlformats.org/spreadsheetml/2006/main"><workbookPr codeName="ThisWorkbook" defaultThemeVersion= "153222"/><bookViews><workbookView activeTab="0"/></bookViews>',t="<sheets>",i=this.worksheets.length,r=0;r<i;r++){var s=this.worksheets[r].name;s=s.replace("&","&amp;"),s=s.replace("<","&lt;"),s=s.replace(">","&gt;"),s=s.replace('"',"&quot;"),t+='<sheet name="'+s+'" sheetId="'+(r+1).toString()+'" r:id ="rId'+(r+1).toString()+'" />'}if(t+="</sheets>",e+=t,this.printTitles.size>0){var a="<definedNames>";this.printTitles.forEach(function(o,l){a+='<definedName name="_xlnm.Print_Titles" localSheetId="'+l+'">'+o+"</definedName>"}),a+="</definedNames>",e+=a}this.addToArchive(e+"</workbook>","xl/workbook.xml")},n.prototype.saveWorksheets=function(){for(var e=this.worksheets.length,t=0;t<e;t++)this.saveWorksheet(this.worksheets[t],t)},n.prototype.saveWorksheet=function(e,t){var i=new Ys,r='<?xml version="1.0" encoding="utf-8" standalone="yes"?><worksheet xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';if(e.isSummaryRowBelow?r+="<sheetPr />":r+='<sheetPr><outlinePr summaryBelow="0" ></outlinePr></sheetPr>',r+=this.saveSheetView(e),e.columns!==void 0){for(var s="<cols>",a=0,o=e.columns;a<o.length;a++){var l=o[a];l.width!==void 0?s+='<col min="'+l.index+'" max="'+l.index+'" width="'+this.pixelsToColumnWidth(l.width)+'" customWidth="1" />':s+='<col min="'+l.index+'" max="'+l.index+'" width="8.43" customWidth="1" />'}r+=s+"</cols>"}if(r+="<sheetData>",i.append(r),r="",e.rows!==void 0)for(var h=0,u=e.rows;h<u.length;h++){var c=u[h],f='<row r="'+c.index+'" ';U(c.spans)||(f+='spans="'+c.spans+'" '),c.height!==void 0&&(f+='ht="'+this.pixelsToRowHeight(c.height)+'" customHeight="1" '),c.grouping!==void 0&&(c.grouping.isHidden&&(f+='hidden="1" '),c.grouping.outlineLevel!==void 0&&(f+='outlineLevel="'+c.grouping.outlineLevel+'" '),c.grouping.isCollapsed&&(f+='collapsed="1" ')),f+=">";for(var d=0,g=c.cells;d<g.length;d++){var p=g[d];p!==void 0&&(p.value!==void 0||p.cellStyle!==void 0)&&(f+='<c r="'+p.refName+'" ',p.saveType!==void 0&&(f+='t="'+p.saveType+'" '),p.styleIndex!==void 0&&(f+='s="'+p.styleIndex+'" '),f+=" >",p.formula!==void 0&&(f+="<f>"+p.formula+"</f>"),p.value!==void 0?f+="<v>"+p.value+"</v></c>":f+="</c>")}f+="</row>",i.append(f)}if(r+="</sheetData>",e.autoFilters!==null&&e.autoFilters!==void 0&&(r+='<autoFilter ref="'+this.getCellName(e.autoFilters.row,e.autoFilters.column)+":"+this.getCellName(e.autoFilters.lastRow,e.autoFilters.lastColumn)+'"/>'),e.mergeCells.length>0){r+='<mergeCells count="'+e.mergeCells.length+'">';for(var b=0,y=e.mergeCells;b<y.length;b++){var T=y[b];r+='<mergeCell ref="'+T.ref+'" />'}r+="</mergeCells>"}if(e.hyperLinks.length>0){r+="<hyperlinks>";for(var w=0,E=e.hyperLinks;w<E.length;w++){var S=E[w];r+='<hyperlink ref="'+S.ref+'" r:id="rId'+S.rId+'" />'}r+="</hyperlinks>"}r+='<pageMargins left="0.75" right="0.75" top="1" bottom="1" header="0.5" footer="0.5" /><headerFooter scaleWithDoc="1" alignWithMargins="0" differentFirst="0" differentOddEven="0" />',e.images!=null&&e.images.length>0&&(this.drawingCount++,this.saveDrawings(e,e.index),r+='<drawing r:id="rId'+(e.hyperLinks.length+1)+'"/>'),this.addToArchive(this.saveSheetRelations(e),"xl/worksheets/_rels/sheet"+e.index+".xml.rels"),i.append(r+"</worksheet>"),this.addToArchive(i.getBlob(),"xl/worksheets/sheet"+(t+1)+".xml")},n.prototype.saveDrawings=function(e,t){var i=new Ys,r='<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">';if(e.images!==void 0){for(var s=0,a=0,o=e.images;a<o.length;a++){var l=o[a];l.height!==void 0&&l.width!==void 0?(this.updatelastRowOffset(e,l),this.updatelastColumnOffSet(e,l),l.lastRow-=1,l.lastColumn-=1):l.lastRow!==void 0&&l.lastColumn!==void 0&&(l.lastRowOffset=0,l.lastColOffset=0),s++,r+='<xdr:twoCellAnchor editAs="oneCell">',r+="<xdr:from><xdr:col>",r+=l.column-1,r+="</xdr:col><xdr:colOff>",r+=0,r+="</xdr:colOff><xdr:row>",r+=l.row-1,r+="</xdr:row><xdr:rowOff>",r+=0,r+="</xdr:rowOff></xdr:from>",r+="<xdr:to><xdr:col>",r+=l.lastColumn,r+="</xdr:col><xdr:colOff>",r+=l.lastColOffset,r+="</xdr:colOff><xdr:row>",r+=l.lastRow,r+="</xdr:row><xdr:rowOff>",r+=l.lastRowOffset,r+="</xdr:rowOff></xdr:to>",r+="<xdr:pic>",r+="<xdr:nvPicPr>",r+='<xdr:cNvPr id="'+s+'" name="Picture '+s+'"> </xdr:cNvPr>',r+='<xdr:cNvPicPr><a:picLocks noChangeAspect="1"/></xdr:cNvPicPr> </xdr:nvPicPr>',r+="<xdr:blipFill>",r+='<a:blip xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" r:embed="rId'+s+'" cstate="print">',r+="</a:blip><a:stretch><a:fillRect /></a:stretch></xdr:blipFill>",r+="<xdr:spPr>",r+="<a:xfrm",l.rotation!=null&&l.rotation<=3600&&l.rotation>=-3600&&(r+=' rot="'+l.rotation*6e4+'"'),l.verticalFlip!=null&&l.verticalFlip!=!1&&(r+=' flipV="1"'),l.horizontalFlip!=null&&l.horizontalFlip!=!1&&(r+=' flipH="1"'),r+="/>",r+='<a:prstGeom prst="rect"><a:avLst /></a:prstGeom></xdr:spPr>',r+="</xdr:pic><xdr:clientData /></xdr:twoCellAnchor>";var h=this.convertBase64toImage(l.image);this.imageCount+=1,this.addToArchive(h,"xl/media/image"+this.imageCount+".png")}i.append(r),i.append("</xdr:wsDr>"),this.saveDrawingRelations(e),this.addToArchive(i.getBlob(),"xl/drawings/drawing"+this.drawingCount+".xml")}},n.prototype.updatelastRowOffset=function(e,t){for(var i=t.height,r=t.row,s=0;i>=0;){var a=0;e.rows!==void 0&&e.rows[r-1]!==void 0?a=this.convertToPixels(e.rows[r-1].height===void 0?15:e.rows[r-1].height):a=this.convertToPixels(15);var o=a-s*a/256;if(o>i){t.lastRow=r,t.lastRowOffset=s+i*256/a;var l=0;e.rows!==void 0&&e.rows[r-1]!==void 0?l=this.convertToPixels(e.rows[r-1].height===void 0?15:e.rows[r-1].height):l=this.convertToPixels(15),t.lastRowOffset=l*t.lastRowOffset/256,t.lastRowOffset=Math.round(t.lastRowOffset/this.unitsProportions[7]);break}else i-=o,r++,s=0}},n.prototype.updatelastColumnOffSet=function(e,t){for(var i=t.width,r=t.column,s=0;i>=0;){var a=0;e.columns!==void 0&&e.columns[r-1]!==void 0?a=this.ColumnWidthToPixels(e.columns[r-1].width===void 0?8.43:e.columns[r-1].width):a=this.ColumnWidthToPixels(8.43);var o=a-s*a/1024;if(o>i){t.lastColumn=r,t.lastColOffset=s+i*1024/a;var l=0;e.columns!==void 0&&e.columns[r-1]!==void 0?l=this.ColumnWidthToPixels(e.columns[r-1].width===void 0?8.43:e.columns[r-1].width):l=this.ColumnWidthToPixels(8.43),t.lastColOffset=l*t.lastColOffset/1024,t.lastColOffset=Math.round(t.lastColOffset/this.unitsProportions[7]);break}else i-=o,r++,s=0}},n.prototype.convertToPixels=function(e){return e*this.unitsProportions[6]},n.prototype.convertBase64toImage=function(e){for(var t=window.atob(e),i=new ArrayBuffer(t.length),r=new Uint8Array(i),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);var a=new Blob([r],{type:"image/png"});return a},n.prototype.saveDrawingRelations=function(e){for(var t='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',i=e.images.length,r=this.imageCount-e.images.length,s=1;s<=i;s++)r++,t+='<Relationship Id="rId'+s+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="../media/image'+r+'.png" />';this.addToArchive(t+"</Relationships>","xl/drawings/_rels/drawing"+this.drawingCount+".xml.rels")},n.prototype.pixelsToColumnWidth=function(e){var t=7,i=e>t+5?this.trunc((e-5)/t*100+.5)/100:e/(t+5);return i>1?(i*t+5)/t*256/256:i*(t+5)/t*256/256},n.prototype.ColumnWidthToPixels=function(e){var t=7,i=e>1?(e*t+5)/t*256/256:e*(t+5)/t*256/256;return this.trunc((256*i+this.trunc(128/t))/256*t)},n.prototype.trunc=function(e){var t=e-e%1;return t===0&&(e<0||e===0&&1/e!==1/0)?-0:t},n.prototype.pixelsToRowHeight=function(e){return e*this.unitsProportions[5]/this.unitsProportions[6]},n.prototype.saveSheetRelations=function(e){for(var t='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',i=0,r=e.hyperLinks;i<r.length;i++){var s=r[i];t+='<Relationship Id="rId'+s.rId+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="'+this.processString(s.target)+'" TargetMode="External" />'}return e.images!=null&&e.images.length>0&&(t+='<Relationship Id="rId'+(e.hyperLinks.length+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing'+this.drawingCount+'.xml" />'),t+="</Relationships>",t},n.prototype.saveSheetView=function(e){var t='<sheetViews><sheetView workbookViewId="0" ';return e.enableRtl===!0&&(t+='rightToLeft="1"'),e.showGridLines===!1?t+='showGridLines="0" >':t+=">",e.freezePanes!==void 0&&(t+='<pane state="frozen" topLeftCell="'+e.freezePanes.leftCell+'" ',e.freezePanes.row!==0&&(t+='ySplit="'+e.freezePanes.row+'" '),e.freezePanes.column!==0&&(t+='xSplit="'+e.freezePanes.column+'" '),t+="/>"),t+="</sheetView></sheetViews > ",t},n.prototype.saveSharedString=function(){var e=this.sharedString.length;if(e>0){for(var t='<?xml version="1.0" encoding="utf-8"?><sst uniqueCount="'+e+'" count="'+this.sharedStringCount+'" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">',i="",r=0;r<e;r++)this.sharedString[r].indexOf("<r>")!==0?(i+="<si><t>",i+=this.processString(this.sharedString[r]),i+="</t></si>"):(i+="<si>",i+=this.sharedString[r],i+="</si>");i+="</sst>",this.addToArchive(t+i,"xl/sharedStrings.xml")}},n.prototype.processString=function(e){if(typeof e=="string")e.indexOf("&")!==-1&&(e=e.replace(/&/g,"&amp;")),e.indexOf("<")!==-1&&(e=e.replace(/</g,"&lt;")),e.indexOf(">")!==-1&&(e=e.replace(/>/g,"&gt;")),e.indexOf("\v")!==-1&&(e=e.replace(/\v/g,"_x000B_"));else if(typeof e=="object")for(var t=0;t<e.length;t++)e[t].indexOf("&")!==-1&&(e[t]=e[t].replace(/&/g,"&amp;")),e[t].indexOf("<")!==-1&&(e[t]=e[t].replace(/</g,"&lt;")),e[t].indexOf(">")!==-1&&(e[t]=e[t].replace(/>/g,"&gt;")),e[t].indexOf("\v")!==-1&&(e[t]=e[t].replace(/\v/g,"_x000B_"));return e},n.prototype.saveStyles=function(){this.updateCellXfsStyleXfs();var e='<?xml version="1.0" encoding="utf-8"?><styleSheet xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';e+=this.saveNumberFormats(),e+=this.saveFonts(),e+=this.saveFills(),e+=this.saveBorders(),e+=this.saveCellStyleXfs(),e+=this.saveCellXfs(),e+=this.saveCellStyles(),this.addToArchive(e+"</styleSheet>","xl/styles.xml")},n.prototype.updateCellXfsStyleXfs=function(){for(var e=0,t=this.mStyles;e<t.length;e++){var i=t[e],r=void 0;i.isGlobalStyle?(r=new ic,r.xfId=i.index-1):(r=new ec,r.xfId=0);var s=this.isNewFont(i);if(s.result)r.fontId=s.index;else{var a=new Vs;a.b=i.bold,a.i=i.italic,a.name=i.fontName,a.sz=i.fontSize,a.u=i.underline,a.strike=i.strikeThrough,a.color="FF"+i.fontColor.replace("#",""),this.mFonts.push(a),r.fontId=this.mFonts.length-1}if(i.backColor!=="none"){var o="FF"+i.backColor.replace("#","");if(this.mFills.has(o)){var l=this.mFills.get(o);r.fillId=l}else{var l=this.mFills.size+2;this.mFills.set(o,l),r.fillId=l}}else r.fillId=0;if(this.isNewBorder(i)?r.borderId=0:(this.mBorders.push(i.borders),r.borderId=this.mBorders.length),i.numberFormat!=="GENERAL")if(this.mNumFmt.has(i.numberFormat)){var h=this.mNumFmt.get(i.numberFormat);r.numFmtId=h.numFmtId}else{var u=this.mNumFmt.size+164;this.mNumFmt.set(i.numberFormat,new js(u,i.numberFormat)),r.numFmtId=u}else i.numberFormat==="GENERAL"&&i.numFmtId===14?r.numFmtId=14:r.numFmtId=0;i.isGlobalStyle||(r.applyAlignment=1),r.alignment=new tc,r.alignment.indent=i.indent,r.alignment.horizontal=i.hAlign,r.alignment.vertical=i.vAlign,r.alignment.wrapText=i.wrapText?1:0,r.alignment.rotation=i.rotation,i.isGlobalStyle?(this.mCellStyleXfs.push(r),this.mCellXfs.push(r)):this.mCellXfs.push(r)}},n.prototype.saveNumberFormats=function(){if(this.mNumFmt.size>=1){var e='<numFmts count="'+this.mNumFmt.size+'">';return this.mNumFmt.forEach(function(t,i){e+='<numFmt numFmtId="'+t.numFmtId+'" formatCode="'+t.formatCode.replace(/"/g,"&quot;")+'" />'}),e+="</numFmts>"}else return""},n.prototype.saveFonts=function(){var e='<fonts count="'+this.mFonts.length+'">';if(this.mFonts.length>=1)for(var t=0,i=this.mFonts;t<i.length;t++){var r=i[t];e+="<font>",r.b&&(e+="<b />"),r.i&&(e+="<i />"),r.u&&(e+="<u />"),r.strike&&(e+="<strike />"),e+='<sz val="'+r.sz+'" />',e+='<color rgb="'+r.color+'" />',e+='<name val="'+r.name+'" /></font>'}return e+"</fonts>"},n.prototype.saveFills=function(){var e='<fills count="'+(this.mFills.size+2)+'"><fill><patternFill patternType="none"></patternFill></fill><fill><patternFill patternType="gray125"></patternFill></fill>';return this.mFills.size>=1&&this.mFills.forEach(function(t,i){e+='<fill><patternFill patternType="solid"><fgColor rgb="'+i+'" /><bgColor rgb="FFFFFFFF" /></patternFill></fill>'}),e+"</fills>"},n.prototype.saveBorders=function(){var e='<borders count="'+(this.mBorders.length+1)+'"><border><left /><right /><top /><bottom /><diagonal /></border>';if(this.mBorders.length>=1)for(var t=0,i=this.mBorders;t<i.length;t++){var r=i[t];if(this.isAllBorder(r)){var s=r.all.color.replace("#",""),a=r.all.lineStyle;e+='<border><left style="'+a+'"><color rgb="FF'+s+'" /></left><right style="'+a+'"><color rgb="FF'+s+'" /></right><top style="'+a+'"><color rgb="FF'+s+'" /></top><bottom style="'+a+'"><color rgb="FF'+s+'" /></bottom></border>'}else e+='<border><left style="'+r.left.lineStyle+'"><color rgb="FF'+r.left.color.replace("#","")+'" /></left><right style="'+r.right.lineStyle+'"><color rgb="FF'+r.right.color.replace("#","")+'" /></right><top style="'+r.top.lineStyle+'"><color rgb="FF'+r.top.color.replace("#","")+'" /></top><bottom style="'+r.bottom.lineStyle+'"><color rgb="FF'+r.bottom.color.replace("#","")+'" /></bottom></border>'}return e+"</borders>"},n.prototype.saveCellStyles=function(){var e=this,t='<cellStyles  count="'+this.cellStyles.size+'">';return this.cellStyles.forEach(function(i,r){t+='<cellStyle name="'+r+'" xfId="'+e.cellStyles.get(r).xfId+'"',r==="Normal"&&(t+=' builtinId="0"'),t+=" />"}),t+="</cellStyles>"},n.prototype.saveCellStyleXfs=function(){var e='<cellStyleXfs count="'+(this.mCellStyleXfs.length+1)+'"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" />';if(this.mCellStyleXfs.length>=1)for(var t=0,i=this.mCellStyleXfs;t<i.length;t++){var r=i[t];e+='<xf numFmtId="'+r.numFmtId+'" fontId="'+r.fontId+'" fillId="'+r.fillId+'" borderId="'+r.borderId+'" ',r.alignment!==void 0?e+=">"+this.saveAlignment(r)+"</xf>":e+=" />"}return e+"</cellStyleXfs>"},n.prototype.saveCellXfs=function(){var e='<cellXfs count="'+(this.mCellXfs.length+1)+'"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />';if(this.mCellXfs.length>=1)for(var t=0,i=this.mCellXfs;t<i.length;t++){var r=i[t];e+='<xf numFmtId="'+r.numFmtId+'" fontId="'+r.fontId+'" fillId="'+r.fillId+'" borderId="'+r.borderId+'" xfId="'+r.xfId+'" ',r.applyAlignment===1&&(e+='applyAlignment="1"'),e+=">"+this.saveAlignment(r)+"</xf>"}return e+"</cellXfs>"},n.prototype.saveAlignment=function(e){var t="<alignment ";return e.alignment.horizontal!==void 0&&(t+='horizontal="'+e.alignment.horizontal+'" '),e.alignment.indent!==void 0&&e.alignment.indent!==0?t+='indent="'+e.alignment.indent+'" ':e.alignment.rotation!==void 0&&e.alignment.rotation!==0&&(t+='textRotation="'+e.alignment.rotation+'" '),e.alignment.vertical!==void 0&&(t+='vertical="'+e.alignment.vertical+'" '),t+='wrapText="'+e.alignment.wrapText+'" />',t},n.prototype.saveApp=function(e){var t='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><Application>Essential XlsIO</Application>';e!==void 0&&(e.manager!==void 0&&(t+="<Manager>"+e.manager+"</Manager>"),e.company!==void 0&&(t+="<Company>"+e.company+"</Company>")),this.addToArchive(t+"</Properties>","docProps/app.xml")},n.prototype.saveCore=function(e){var t=new Date,i='<?xml version="1.0" encoding="utf-8" standalone="yes"?><cp:coreProperties xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties">';this.builtInProperties!==void 0?(e.author!==void 0&&(i+="<dc:creator>"+e.author+"</dc:creator>"),e.subject!==void 0&&(i+="<dc:subject>"+e.subject+"</dc:subject>"),e.category!==void 0&&(i+="<cp:category>"+e.category+"</cp:category>"),e.comments!==void 0&&(i+="<dc:description>"+e.comments+"</dc:description>"),e.title!==void 0&&(i+="<dc:title>"+e.title+"</dc:title>"),e.tags!==void 0&&(i+="<cp:keywords>"+e.tags+"</cp:keywords>"),e.status!==void 0&&(i+="<cp:contentStatus>"+e.status+"</cp:contentStatus>"),e.createdDate!==void 0?i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+e.createdDate.toISOString()+"</dcterms:created>":i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:created>",e.modifiedDate!==void 0?i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+e.modifiedDate.toISOString()+"</dcterms:modified>":i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:modified>"):(i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:created>",i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:modified>"),i+="</cp:coreProperties>",this.addToArchive(i,"docProps/core.xml")},n.prototype.saveTopLevelRelation=function(){var e='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml" /><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml" /><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml" /></Relationships>';this.addToArchive(e,"_rels/.rels")},n.prototype.saveWorkbookRelation=function(){for(var e='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',t=this.worksheets.length,i=0,r=0;r<t;r++,i++)e+='<Relationship Id="rId'+(r+1).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+(r+1).toString()+'.xml" />';e+='<Relationship Id="rId'+(++i).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />',this.sharedStringCount>0&&(e+='<Relationship Id="rId'+(++i).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />'),this.addToArchive(e+"</Relationships>","xl/_rels/workbook.xml.rels")},n.prototype.saveContentType=function(){for(var e='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />',t="",i=this.worksheets.length,r=0,s=0;s<i;s++)t+='<Override PartName="/xl/worksheets/sheet'+(s+1).toString()+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />',this.worksheets[s].images!=null&&this.worksheets[s].images.length>0&&(r++,t+='<Override PartName="/xl/drawings/drawing'+r.toString()+'.xml" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml" />');this.imageCount>0&&(t+='<Default Extension="png" ContentType="image/png" />'),this.sharedStringCount>0&&(e+='<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" />'),this.addToArchive(e+t+"</Types>","[Content_Types].xml")},n.prototype.addToArchive=function(e,t){if(typeof e=="string"){var i=new Blob([e],{type:"text/plain"}),r=new Ti(i,t);this.mArchive.addItem(r)}else{var r=new Ti(e,t);this.mArchive.addItem(r)}},n.prototype.processMergeCells=function(e,t,i){if(e.rowSpan!==0||e.colSpan!==0){var r=new so;r.x=e.index,r.width=e.colSpan,r.y=t,r.height=e.rowSpan;var s=this.getCellName(r.y,r.x),a=this.getCellName(t+r.height,e.index+r.width);r.ref=s+":"+a,i.add(r);var o={x:r.x,y:r.y},l={x:e.index+r.width,y:t+r.height};this.updatedMergedCellStyles(o,l,e)}return i},n.prototype.updatedMergedCellStyles=function(e,t,i){for(var r=e.x;r<=t.x;r++)for(var s=e.y;s<=t.y;s++)this.mergedCellsStyle.set(this.getCellName(s,r),{x:r,y:s,styleIndex:i.styleIndex})},n.prototype.dateToTicks=function(e,t,i){var r=864e9,s=[0,31,59,90,120,151,181,212,243,273,304,334,365],a=[0,31,60,91,121,152,182,213,244,274,305,335,366];if(e>=1&&e<=9999&&t>=1&&t<=12){var o=this.isLeapYear(e)?a:s,l=e-1,h=l*365+(l/4|0)-(l/100|0)+(l/400|0)+o[t-1]+i-1;return h*r}throw new Error("Not a valid date")},n.prototype.timeToTicks=function(e,t,i){if(e>=0&&e<24&&t>=0&&t<60&&i>=0&&i<60){var r=e*3600+t*60+i;return r*1e4*1e3}throw new Error("Not valid time")},n.prototype.isLeapYear=function(e){return e%4===0&&(e%100!==0||e%400===0)},n.prototype.toOADate=function(e){var t=0;if(t=this.dateToTicks(e.getFullYear(),e.getMonth()+1,e.getDate())+this.timeToTicks(e.getHours(),e.getMinutes(),e.getSeconds()),t===0)return 0;var i=1e4*1e3*60*60*24,r=(((365*4+1)*25-1)*4+1)*4+((365*4+1)*25-1)*3-367,s=r*i,a=((365*4+1)*25-1-365)*i;if(t<a)throw new Error("Arg_OleAutDateInvalid");var o=1e3*60*60*24;return(t-s)/1e4/o},n}(),bc=function(){function n(){}return n}(),wc=function(){function n(e){this.actualRowCount=0,this.series=[],this.axisCollection=[],this.requiredValuesLength=0,this.histogramSeriesCount=0,this.chart=e}return n.prototype.export=function(e,t,i,r,s,a,o,l,h,u){var c=new _s(this.chart);r=r||[this.chart];var f={cancel:!1,name:ps,width:s,height:a};this.chart.trigger(ps,f),f.cancel||(e==="CSV"||e==="XLSX"?this.excelExport(r,t,e):c.export(e,t,i,r,s=f.width,a=f.height,o,l,h,u))},n.prototype.excelExport=function(e,t,i){this.rows=[],this.actualRowCount=1;var r=[],s=[],a={bold:!0,hAlign:"Center",vAlign:"Center",wrapText:!0},o=[],l=e[0].getModuleName()==="rangeNavigator",h=e[0].getModuleName()==="accumulationchart";if(this.series=l?e[0].series:e[0].visibleSeries,l&&this.series.length===0)e[0].dataSource&&this.createRangeNavigatorExcelSheet(e[0],a,i);else{if(this.histogramSeriesCount=0,this.requiredValuesLength=0,this.axisCollection=[],h||l?this.axisCollection.push(null):this.axisCollection=e[0].getModuleName()==="stockChart"?e[0].chart.horizontalAxes:e[0].horizontalAxes,s=this.getRequiredValues(l),this.requiredValuesLength===0&&this.series.length===this.histogramSeriesCount)return;o=this.getXValue(s,e,l,h),this.getTitle(s,a,e,l,h,i,o[0].length),this.createExcelSheet(l,h,o,i,s,a,e)}var u=[];this.requiredValuesLength=this.requiredValuesLength===0?1:this.requiredValuesLength;for(var c=0;c<this.requiredValuesLength;c++)u.push({index:c+1,width:100});r.push({columns:u,rows:this.rows});var f=new yc({worksheets:r},i==="XLSX"?"xlsx":"csv");t=t||(i==="XLSX"?"XLSX":"CSV"),f.save(t+(i==="XLSX"?".xlsx":".csv"))},n.prototype.createRangeNavigatorExcelSheet=function(e,t,i){var r=e.xName,s=e.yName;this.rows.push({index:this.actualRowCount,cells:[{index:1,value:e.valueType.indexOf("DateTime")>-1?e.valueType:"Category",colSpan:1,rowSpan:1,style:t},{index:2,value:s,colSpan:1,rowSpan:1,style:t}]}),this.actualRowCount++;for(var a=e.dataSource,o=0;o<a.length;o++)this.rows.push({index:this.actualRowCount,cells:[{index:1,value:i==="CSV"&&a[o][r]===null?"":a[o][r],colSpan:1,rowSpan:1,style:t},{index:2,value:i==="CSV"&&a[o][s]===null?"":a[o][s],colSpan:1,rowSpan:1,style:{}}]}),this.actualRowCount++;this.requiredValuesLength=2},n.prototype.getRequiredValues=function(e){for(var t=[],i=function(a){var o=r.series[a].type;if(!e&&!r.series[a].visible||r.series[a].category==="TrendLine")return t.push([]),"continue";if(o==="Histogram"?(t.push([]),r.histogramSeriesCount++):r.series[a].category==="Pareto"?t.push([r.series[a].xName,"y"]):o.indexOf("Range")!==-1||o==="Hilo"?t.push([r.series[a].xName,r.series[a].high,r.series[a].low]):o==="HiloOpenClose"||o==="Candle"?(t.push([r.series[a].xName,r.series[a].high,r.series[a].low,r.series[a].open,r.series[a].close]),o==="Candle"&&r.series[a].volume!==""&&t[a].push(r.series[a].volume)):o==="BoxAndWhisker"?t.push([r.series[a].xName,"maximum","upperQuartile","median","lowerQuartile","minimum","outliers"]):o==="Bubble"?(t.push([r.series[a].xName,r.series[a].yName]),r.series[a].size!==""&&t[a].push(r.series[a].size)):o==="Pie"?(t.push([r.series[a].xName,r.series[a].yName]),r.series[a].radius.match(/[a-zA-Z]/)&&t[a].push(r.series[a].radius)):t.push([r.series[a].xName,r.series[a].yName]),r.series[a].errorBar&&r.series[a].errorBar.visible){var l=r.series[a].errorBar,h=["verticalError","horizontalError","verticalNegativeError","horizontalNegativeError","verticalPositiveError","horizontalPositiveError"];h.forEach(function(u){typeof l[u]=="string"&&t[a].push(l[u])})}r.requiredValuesLength+=t[a].length},r=this,s=0;s<this.series.length;s++)i(s);return t},n.prototype.getTitle=function(e,t,i,r,s,a,o){var l=[],h=[],u=1,c=!1;!r&&a==="XLSX"&&i[0].title&&(this.rows.push({}),this.actualRowCount++,c=!0);for(var f=0;f<this.axisCollection.length&&!(s&&o===0);f++){for(var d=!1,g="",p=u,b=!1,y=0;y<this.series.length;y++){var T=this.axisCollection[f]!==null?this.axisCollection[f].name==="primaryXAxis"||this.axisCollection[f].name==="primaryYAxis"&&this.series[y].type.indexOf("Bar")>-1?null:this.axisCollection[f].name:"";if(!(!r&&(!s&&T!==this.series[y].xAxisName||!this.series[y].visible||this.series[y].category==="TrendLine"||this.series[y].type==="Histogram"))){b||(l.push({}),u++),b=!0;var w=this.series[y].name,E=this.series[y].type==="BoxAndWhisker"?e[y].length-1:e[y].length;if(e[y][1]===this.series[y].yName)for(var S=1;S<E;S++)l.push({index:u,value:S===1?w||"Series-"+(y+1):e[y][S],colSpan:1,rowSpan:1,style:t}),u++;else{l.push({index:u,value:w||"Series-"+(y+1),colSpan:E-1,rowSpan:1,style:t});for(var L=u,S=1;S<E;S++)h.push({index:L,value:e[y][S],colSpan:1,rowSpan:1,style:t}),L++;this.series[y].type==="BoxAndWhisker"&&(l.push({index:L,value:e[y][E],colSpan:1,rowSpan:2,style:t}),L++),u=L,d=!0}g=s?e[0][0]:r?i[0].valueType:this.axisCollection[f].valueType,g=s||g.indexOf("DateTime")>-1?g:"Category"}}b&&(l[p-1]={index:p,value:g,colSpan:1,rowSpan:d?2:1,style:t})}l.length&&(this.rows.push({index:this.actualRowCount,cells:l}),this.actualRowCount++),h.length&&(this.rows.push({index:this.actualRowCount,cells:h}),this.actualRowCount++),c&&(l=[],l.push({index:1,value:i[0].title,colSpan:u===1?u:u-1,rowSpan:1,style:t}),this.rows[0]={index:1,cells:l}),this.requiredValuesLength=u-1},n.prototype.getXValue=function(e,t,i,r){for(var s=[],a=0;a<this.axisCollection.length;a++){for(var o=[],l=r?"":i?t[0].valueType:this.axisCollection[a].valueType,h=0;h<this.series.length;h++){var u=this.axisCollection[a]!==null?this.axisCollection[a].name==="primaryXAxis"||this.axisCollection[a].name==="primaryYAxis"&&this.series[h].type.indexOf("Bar")>-1?null:this.axisCollection[a].name:"";if(!(!i&&(!r&&u!==this.series[h].xAxisName||!this.series[h].visible)||this.series[h].category==="TrendLine"||this.series[h].type==="Histogram"))for(var c=0;c<this.series[h].dataSource.length;c++)r&&!this.series[h].points[c].visible||o.push(l.indexOf("DateTime")>-1?new Date(this.series[h].dataSource[c][e[h][0]]).getTime():this.series[h].dataSource[c][e[h][0]])}s.push(o)}for(var f=function(g){s[g]=s[g].filter(function(p,b){return s[g].indexOf(p)===b})},d=0;d<s.length;d++)f(d);return s},n.prototype.createExcelSheet=function(e,t,i,r,s,a,o){for(var l=0,h=0,u=0;u<this.axisCollection.length;u++){for(var c=t?"":e?o[0].valueType:this.axisCollection[u].valueType,f=0;f<i[u].length;f++){h=l||1;for(var d=[],g=!0,p=0;p<this.series.length;p++){var b=this.axisCollection[u]!==null?this.axisCollection[u].name==="primaryXAxis"||this.axisCollection[u].name==="primaryYAxis"&&this.series[p].type.indexOf("Bar")>-1?null:this.axisCollection[u].name:"";if(!(!e&&(!t&&this.series[p].xAxisName!==b||!this.series[p].visible)||this.series[p].category==="TrendLine"||this.series[p].type==="Histogram")){for(var y=!1,T=this.series[p].dataSource,w=0;w<T.length;w++){var E=c.indexOf("DateTime")>-1?this.series[p].category==="Pareto"?new Date(this.series[p].points[w][s[p][0]]).getTime():new Date(T[w][s[p][0]]).getTime():this.series[p].category==="Pareto"?this.series[p].points[w][s[p][0]]:T[w][s[p][0]];if(i[u][f]===E){for(var S=g?0:1,L=this.series[p].type==="BoxAndWhisker"?s[p].length-1:s[p].length;S<L;S++){var M=S!==0&&(this.series[p].type==="BoxAndWhisker"||this.series[p].category==="Pareto")?this.series[p].points[w][s[p][S]]:T[w][s[p][S]];M===null&&r==="CSV"&&(M=""),d.push({index:S===0?l===0?1:l:h,value:M,colSpan:1,rowSpan:1,style:S===0?a:{}}),h++}this.series[p].type==="BoxAndWhisker"&&(d.push({index:h,value:this.series[p].points[w].outliers[0],colSpan:1,rowSpan:1,style:{}}),h++),g=!1,y=!0;break}}y||(h+=s[p].length-1)}}this.rows.push({index:this.actualRowCount,cells:d}),this.actualRowCount++}l=h}},n.prototype.getDataUrl=function(e){var t=new _s(e);return t.getDataUrl(e)},n.prototype.getModuleName=function(){return"Export"},n.prototype.destroy=function(){},n}(),Sc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ne=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var o=n.length-1;o>=0;o--)(a=n[o])&&(s=(r<3?a(s):r>3?a(e,t,s):a(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},xc="e-otp-input-field",$s="e-rtl",Tn;(function(n){n.Number="number",n.Text="text",n.Password="password"})(Tn||(Tn={}));var An;(function(n){n.Outlined="outlined",n.Underlined="underlined",n.Filled="filled"})(An||(An={}));var Qi;(function(n){n.None="none",n.Uppercase="uppercase",n.Lowercase="lowercase"})(Qi||(Qi={}));var Cc=function(n){Sc(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.inputs=[],r.previousValue="",r.separatorElements=[],r.shouldFireFocus=!0,r.shouldFireBlur=!0,r.isFocusInCalled=!1,r.isFocusOutCalled=!1,r.handleWheelEvent=function(s){s.preventDefault()},r}return e.prototype.preRender=function(){this.element.id||(this.element.id=Fo("e-"+this.getModuleName()))},e.prototype.render=function(){this.initialize()},e.prototype.initialize=function(){No(this.element,{role:"group"}),this.renderInputs(),this.renderSeparator(1,this.inputs.length),this.addPlaceHolder(),this.updateCssClass(this.cssClass),this.updateVariantClass(),this.updateAriaLabel(this.ariaLabels),this.setElementAttributes(this.htmlAttributes,this.element),this.enableRtl&&this.element.classList.add($s),this.previousValue=this.value.toString(),this.autoFocus&&this.focusIn()},e.prototype.renderInputs=function(){this.hiddenInputEle=this.createElement("input",{id:"otpInput_hidden",attrs:{name:this.element.id,type:"hidden",value:this.type==="number"?this.value.toString().replace(/\D/g,""):this.value.toString(),autoComplete:"off"}}),this.element.appendChild(this.hiddenInputEle);for(var t=0;t<this.length;t++)this.createOtpInput(t)},e.prototype.createOtpInput=function(t){var i=this.getDefaultValue(),r="";if(i)if(this.type==="number"){var s=i[parseInt(t.toString(),10)];isNaN(Number(s))||(r=s)}else r=i[parseInt(t.toString(),10)]||"";var a=this.createElement("input",{id:this.element.id+"-"+(t+1),className:xc+" e-input",attrs:{maxlength:"1",type:this.type,inputmode:"inputmode"in this.htmlAttributes?this.htmlAttributes.inputmode:this.type==="number"?"numeric":"text"}});this.disabled&&a.setAttribute("disabled","disabled"),this.element.appendChild(a),this.inputs.push(a),r&&(a.value=r),this.wireEvents(a,t)},e.prototype.renderSeparator=function(t,i){if(this.separator.length>0)for(var r=t;r<i;r++){var s=this.createElement("span",{className:"e-otp-separator"});s.textContent=this.separator,this.separatorElements.push(s),this.element.insertBefore(s,this.inputs[parseInt(r.toString(),10)])}},e.prototype.updateSeparatorValue=function(){if(this.separator===""){for(var t=0;t<this.separatorElements.length;t++)qe(this.separatorElements[parseInt(t.toString(),10)]);this.separatorElements=[];return}for(var t=0;t<this.separatorElements.length;t++)this.separatorElements[parseInt(t.toString(),10)].textContent=this.separator},e.prototype.addPlaceHolder=function(){for(var t=0;t<this.inputs.length;t++)this.setElementAttributes({placeholder:this.placeholder.length===1||this.placeholder.length===0?this.placeholder:this.placeholder.charAt(t)},this.inputs[parseInt(t.toString(),10)])},e.prototype.updateInputType=function(t){var i=this;this.inputs.forEach(function(r){r.type=t,r.setAttribute("inputmode","inputmode"in i.htmlAttributes?i.htmlAttributes.inputmode:t==="number"?"numeric":"text")})},e.prototype.getDefaultValue=function(){var t=typeof this.value=="number"?this.value.toString():this.value;this.textTransform&&(t=this.getTransformedText(t));var i=t.replace(/\s/g,"");if(i.length>0)return i.split("")},e.prototype.getTransformedText=function(t){var i=this.textTransform.toLowerCase()===Qi.Lowercase?t.toLowerCase():this.textTransform.toLowerCase()===Qi.Uppercase?t.toUpperCase():t;return i},e.prototype.handleInputChange=function(t,i){var r=this.inputs[parseInt(t.toString(),10)];if(r&&t<this.length-1&&r.value.length>0){var s=this.inputs[parseInt(t.toString(),10)+1];this.shouldFireFocus=this.shouldFireBlur=!1,s.focus(),s&&s.value.length>0&&s.select()}var a=i.target;a.value.length>1&&(a.value=a.value.slice(0,1)),this.textTransform&&(a.value=this.getTransformedText(a.value)),this.triggerInputEvent(t,i),this.triggerValuechanged(i,!0)},e.prototype.handleKeyAction=function(t,i){i.key.length>1&&!(t===0&&i.key==="Backspace"||t===this.length-1&&i.key==="Delete")&&(this.shouldFireFocus=this.shouldFireBlur=!1);var r=this.inputs[parseInt(t.toString(),10)],s=this.inputs[parseInt(t.toString(),10)-1],a=this.inputs[parseInt(t.toString(),10)+1];if(i.key==="Delete"){var o="";r.value.length>0?(o=r.value,r.value=""):t!==this.inputs.length-1&&(o=a.value,a.value="",a.focus()),o.length>0&&this.triggerInputEvent(t,i)}else if(i.key==="Backspace"){if(t!==0&&r.value.length===0){var l=s.value;s.value="",s.focus(),l.length>0&&this.triggerInputEvent(t,i)}}else i.key==="ArrowLeft"||i.key==="ArrowRight"?(i.key==="ArrowLeft"?t>0&&(s.focus(),s.select()):t<this.inputs.length-1&&(a.focus(),a.select()),i.preventDefault()):(i.key==="ArrowUp"||i.key==="ArrowDown"||i.key!=="Tab"&&!i.shiftKey&&!i.ctrlKey&&this.type==="number"&&/\D/.test(i.key.toLocaleLowerCase()))&&i.preventDefault()},e.prototype.handleSelection=function(t){var i=this.inputs[parseInt(t.toString(),10)];i.value&&i.select()},e.prototype.handleFocus=function(t,i){if(Yr([this.inputs[parseInt(t.toString(),10)]],"e-otp-input-focus"),this.shouldFireFocus){var r={element:this.element,event:i,index:t,isInteracted:!this.isFocusInCalled,value:this.value};this.trigger("focus",r)}this.shouldFireFocus=!0},e.prototype.handleBlur=function(t,i){if(hr([this.inputs[parseInt(t.toString(),10)]],"e-otp-input-focus"),this.shouldFireBlur){var r={element:this.element,event:i,value:this.value,index:t,isInteracted:!this.isFocusOutCalled};this.trigger("blur",r)}this.shouldFireBlur=!0},e.prototype.handlePaste=function(t,i){var r=i.clipboardData;if(r){for(var s=r.getData("text"),a=s.split(""),o=0,l=t;l<this.inputs.length;l++)a.length>0&&a[parseInt(o.toString(),10)]&&(this.inputs[parseInt(l.toString(),10)].value=a[parseInt(o.toString(),10)],o++,this.updateValueProperty());this.focusIn(),this.triggerValuechanged(i,!0)}},e.prototype.triggerInputEvent=function(t,i){var r=this.value.toString();this.updateValueProperty();var s={element:this.element,event:i,previousValue:r,value:this.value.toString(),index:t};this.trigger("input",s)},e.prototype.triggerValuechanged=function(t,i){if(this.length===this.value.toString().length&&this.previousValue!==this.value){var r={element:this.element,event:t,isInteracted:i||!1,previousValue:this.previousValue,value:this.value};this.trigger("valueChanged",r),this.previousValue=this.value.toString()}},e.prototype.wireEvents=function(t,i){le.add(t,"focus",this.handleFocus.bind(this,i),this),le.add(t,"blur",this.handleBlur.bind(this,i),this),le.add(t,"input",this.handleInputChange.bind(this,i),this),le.add(t,"keydown",this.handleKeyAction.bind(this,i),this),le.add(t,"click",this.handleSelection.bind(this,i),this),le.add(t,"paste",this.handlePaste.bind(this,i),this),le.add(t,"wheel",this.handleWheelEvent,this)},e.prototype.unWireEvents=function(){for(var t=0;t<this.inputs.length;t++){var i=this.inputs[parseInt(t.toString(),10)];le.remove(i,"focus",this.handleFocus.bind(this,t)),le.remove(i,"blur",this.handleBlur.bind(this,t)),le.remove(i,"input",this.handleInputChange.bind(this,t)),le.remove(i,"keydown",this.handleKeyAction.bind(this,t)),le.remove(i,"click",this.handleSelection.bind(this,t)),le.remove(i,"paste",this.handlePaste.bind(this,t)),le.remove(i,"wheel",this.handleWheelEvent)}},e.prototype.updateValueProperty=function(){var t="";this.inputs.forEach(function(r){t+=r.value});var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=typeof this.value=="number"?parseInt(t,10):t,this.isProtectedOnChange=i,this.hiddenInputEle.value=this.value.toString()},e.prototype.updateInputValue=function(t){var i=this.value.toString();this.textTransform&&(i=this.getTransformedText(i));for(var r=0;r<this.inputs.length;r++){var s=t.toString().charAt(r)!==i.charAt(r);s&&(this.inputs[parseInt(r.toString(),10)].value=i.charAt(r),this.hiddenInputEle.value=i)}this.focusIn()},e.prototype.updateCssClass=function(t,i){i===void 0&&(i="");var r,s,a;i&&(a=i.trim().split(" "),(r=this.element.classList).remove.apply(r,a)),t&&(a=t.trim().split(" "),(s=this.element.classList).add.apply(s,a))},e.prototype.updateVariantClass=function(){var t=this.stylingMode.toLocaleLowerCase();t=t==="outlined"?"outline":t,(t==="underlined"||t==="filled"||t==="outline")&&(hr([this.element],["e-underlined","e-filled","e-outline"]),Yr([this.element],"e-"+t))},e.prototype.updateAriaLabel=function(t){this.inputs.forEach(function(i,r){var s="Enter Otp Character "+(r+1),a=t&&t.length>0&&t[parseInt(r.toString(),10)]||s;i.setAttribute("aria-label",a)})},e.prototype.updateDisabledState=function(){var t=this;this.inputs.forEach(function(i){t.disabled?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled")})},e.prototype.setElementAttributes=function(t,i){if(!U(t))for(var r in t)if(r==="class"){var s=t.class.replace(/\s+/g," ").trim();s&&Yr([i],s.split(" "))}else r==="inputmode"?this.setInputMode(t[""+r]):r==="name"&&this.element.id===i.id?this.hiddenInputEle.setAttribute(r,t[""+r]):i.setAttribute(r,t[""+r])},e.prototype.setInputMode=function(t){for(var i=0;i<this.inputs.length;i++)this.inputs[parseInt(i.toString(),10)].setAttribute("inputmode",t)},e.prototype.handleLengthChange=function(t,i){var r=t-i>0;if(r){for(var s=i;s<t;s++)this.createOtpInput(s);this.renderSeparator(i,t),this.addPlaceHolder(),this.updateAriaLabel(this.ariaLabels)}else if(t>=0&&this.inputs.length>0){for(var s=t;s<this.inputs.length;s++)qe(this.inputs[parseInt(s.toString(),10)]);if(this.inputs.splice(t),this.separatorElements.length>0){for(var a=t===0?0:t-1,s=a;s<this.separatorElements.length;s++)qe(this.separatorElements[parseInt(s.toString(),10)]);this.separatorElements.splice(a)}}},e.prototype.getModuleName=function(){return"otpinput"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.unWireEvents();for(var t=0;t<this.inputs.length;t++)qe(this.inputs[parseInt(t.toString(),10)]);for(var t=0;t<this.separatorElements.length;t++)qe(this.separatorElements[parseInt(t.toString(),10)]);qe(this.hiddenInputEle),hr([this.element],["e-underlined","e-filled","e-outline","e-rtl"]),this.cssClass&&hr([this.element],this.cssClass.trim().split(" ")),this.element.removeAttribute("role"),this.inputs=[],this.separatorElements=[],this.hiddenInputEle=null},e.prototype.focusIn=function(){this.isFocusInCalled=!0;for(var t=this.inputs.length-1,i=0;i<this.inputs.length;i++)if(!(this.inputs[parseInt(i.toString(),10)].value.length>0)){t=i;break}this.inputs[parseInt(t.toString(),10)].focus(),this.isFocusInCalled=!1},e.prototype.focusOut=function(){this.isFocusOutCalled=!0,this.inputs.forEach(function(t){t.blur()}),this.isFocusOutCalled=!1},e.prototype.onPropertyChanged=function(t,i){for(var r=0,s=Object.keys(t);r<s.length;r++){var a=s[r];switch(a){case"textTransform":this.updateInputValue(this.value);break;case"value":this.updateInputValue(i.value),this.triggerValuechanged();break;case"placeholder":this.addPlaceHolder();break;case"disabled":this.updateDisabledState();break;case"cssClass":this.updateCssClass(t.cssClass,i.cssClass);break;case"separator":i.separator===""?this.renderSeparator(1,this.inputs.length):this.updateSeparatorValue();break;case"htmlAttributes":this.setElementAttributes(t.htmlAttributes,this.element);break;case"type":this.updateInputType(t.type);break;case"stylingMode":this.updateVariantClass();break;case"ariaLabels":this.updateAriaLabel(t.ariaLabels);break;case"length":this.handleLengthChange(t.length,i.length);break;case"enableRtl":this.element.classList[this.enableRtl?"add":"remove"]($s);break;case"autoFocus":this.autoFocus&&this.focusIn();break}}},Ne([P(4)],e.prototype,"length",void 0),Ne([P("")],e.prototype,"value",void 0),Ne([P(Tn.Number)],e.prototype,"type",void 0),Ne([P("")],e.prototype,"separator",void 0),Ne([P("")],e.prototype,"placeholder",void 0),Ne([P(An.Outlined)],e.prototype,"stylingMode",void 0),Ne([P(!1)],e.prototype,"disabled",void 0),Ne([P("")],e.prototype,"cssClass",void 0),Ne([P(!1)],e.prototype,"autoFocus",void 0),Ne([P(Qi.None)],e.prototype,"textTransform",void 0),Ne([P({})],e.prototype,"htmlAttributes",void 0),Ne([P([])],e.prototype,"ariaLabels",void 0),Ne([K()],e.prototype,"created",void 0),Ne([K()],e.prototype,"valueChanged",void 0),Ne([K()],e.prototype,"focus",void 0),Ne([K()],e.prototype,"blur",void 0),Ne([K()],e.prototype,"input",void 0),e=Ne([ia],e),e}(ra),Tc=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Un=function(n){Tc(e,n);function e(t){var i=n.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={seriesCollection:{series:{trendlines:"trendline",segments:"segment"}},axes:{axis:{stripLines:"stripLine",multiLevelLabels:{multiLevelLabel:{categories:"category"}}}},rows:"row",columns:"column",rangeColorSettings:"rangeColorSetting",annotations:"annotation",selectedDataIndexes:"selectedDataIndex",indicators:"indicator"},i.statelessTemplateProps=null,i.templateProps=null,i.immediateRender=!1,i.isReactMock=!0,i.portals=[],i}return e.prototype.render=function(){if(this.isReactMock=!1,(this.element&&!this.initRenderCalled||this.refreshing)&&!this.isReactForeceUpdate)n.prototype.render.call(this),this.initRenderCalled=!0;else return W.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals))},e}(Th);Ta(Un,[Aa,W.Component]);var Ac=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ao=function(n){Ac(e,n);function e(t){var i=n.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!1,i.statelessTemplateProps=null,i.templateProps=null,i.immediateRender=!0,i.isReactMock=!0,i.portals=[],i}return e.prototype.render=function(){if(this.isReactMock=!1,(this.element&&!this.initRenderCalled||this.refreshing)&&!this.isReactForeceUpdate)n.prototype.render.call(this),this.initRenderCalled=!0;else return W.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals))},e}(Cc);Ta(ao,[Aa,W.Component]);const Ec=na("div")(({theme:n})=>({".e-otpinput.e-outline .e-otp-input-field":{border:`2px solid ${n.palette.primary.main}`,color:n.palette.text.primary,borderRadius:n.shape.borderRadius,padding:n.spacing(1),width:"7%",fontWeight:"bold"},".e-otpinput .e-otp-input-field.e-input.e-otp-input-focus:focus":{borderColor:n.palette.secondary.main,border:`2px solid ${n.palette.primary.main}`,boxShadow:`0 0 10px ${n.palette.primary.main}`,color:n.palette.text.primary,borderRadius:n.shape.borderRadius,padding:n.spacing(1),width:"7%"},".e-otpinput.e-outline.e-error .e-otp-input-field":{border:"2px solid #f44336",color:n.palette.text.primary,borderRadius:n.shape.borderRadius,padding:n.spacing(1),width:"7%",fontWeight:"bold"},".e-error .e-otp-input-field.e-input.e-otp-input-focus:focus":{borderColor:n.palette.secondary.main,border:`2px solid ${n.palette.error.main}`,boxShadow:`0 0 10px ${n.palette.error.main}`,color:n.palette.text.primary,borderRadius:n.shape.borderRadius,padding:n.spacing(1),width:"7%"}}));function Gn({isOpen:n,show:e,onSuccess:t,onClose:i,uri:r,uniqueKey:s}){const{t:a,i18n:o}=mt(),[l,h]=W.useState(!1),[u,c]=W.useState(!1),f=d=>{c(!0),nt.post(r,{pin:d==null?void 0:d.value,show:e}).then(g=>{c(!1),g.data?(t(g.data),h(!1)):h(!0)})};return W.useEffect(()=>{s!==0&&f(null)},[s]),C.jsxs(On,{open:n,onClose:i,children:[C.jsx(Xo,{children:C.jsx(We,{onClick:i,children:C.jsx(_o,{children:C.jsx(Fn,{})})})}),C.jsxs("div",{className:"max-w-md mx-auto text-center px-4 sm:px-8 pb-10 rounded-xl shadow",children:[C.jsxs("header",{className:"mb-8",children:[C.jsxs(we,{variant:"h4",mb:1,children:[a(ce.dashboard.otpTitle)," ",u&&C.jsx(Vo,{color:"primary",size:20})]}),C.jsx(we,{variant:"p",sx:{fontWeight:"200",fontSize:"14px"},children:a(ce.dashboard.otpMessage)})]}),C.jsx("form",{id:"otp-form",children:C.jsx("div",{className:"flex items-center justify-center gap-3",children:C.jsx(Ec,{children:C.jsx(ao,{type:"password",id:"otpinput",separator:"-",cssClass:l&&"e-error",valueChanged:f,autoFocus:!0})})})})]})]})}var Lc={},Gr={};Gr.byteLength=Oc;Gr.toByteArray=Rc;Gr.fromByteArray=Dc;var Et=[],dt=[],Pc=typeof Uint8Array<"u"?Uint8Array:Array,en="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var wi=0,Mc=en.length;wi<Mc;++wi)Et[wi]=en[wi],dt[en.charCodeAt(wi)]=wi;dt["-".charCodeAt(0)]=62;dt["_".charCodeAt(0)]=63;function oo(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function Oc(n){var e=oo(n),t=e[0],i=e[1];return(t+i)*3/4-i}function kc(n,e,t){return(e+t)*3/4-t}function Rc(n){var e,t=oo(n),i=t[0],r=t[1],s=new Pc(kc(n,i,r)),a=0,o=r>0?i-4:i,l;for(l=0;l<o;l+=4)e=dt[n.charCodeAt(l)]<<18|dt[n.charCodeAt(l+1)]<<12|dt[n.charCodeAt(l+2)]<<6|dt[n.charCodeAt(l+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return r===2&&(e=dt[n.charCodeAt(l)]<<2|dt[n.charCodeAt(l+1)]>>4,s[a++]=e&255),r===1&&(e=dt[n.charCodeAt(l)]<<10|dt[n.charCodeAt(l+1)]<<4|dt[n.charCodeAt(l+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function Bc(n){return Et[n>>18&63]+Et[n>>12&63]+Et[n>>6&63]+Et[n&63]}function Ic(n,e,t){for(var i,r=[],s=e;s<t;s+=3)i=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),r.push(Bc(i));return r.join("")}function Dc(n){for(var e,t=n.length,i=t%3,r=[],s=16383,a=0,o=t-i;a<o;a+=s)r.push(Ic(n,a,a+s>o?o:a+s));return i===1?(e=n[t-1],r.push(Et[e>>2]+Et[e<<4&63]+"==")):i===2&&(e=(n[t-2]<<8)+n[t-1],r.push(Et[e>>10]+Et[e>>4&63]+Et[e<<2&63]+"=")),r.join("")}var Yn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Yn.read=function(n,e,t,i,r){var s,a,o=r*8-i-1,l=(1<<o)-1,h=l>>1,u=-7,c=t?r-1:0,f=t?-1:1,d=n[e+c];for(c+=f,s=d&(1<<-u)-1,d>>=-u,u+=o;u>0;s=s*256+n[e+c],c+=f,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=i;u>0;a=a*256+n[e+c],c+=f,u-=8);if(s===0)s=1-h;else{if(s===l)return a?NaN:(d?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-h}return(d?-1:1)*a*Math.pow(2,s-i)};Yn.write=function(n,e,t,i,r,s){var a,o,l,h=s*8-r-1,u=(1<<h)-1,c=u>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:s-1,g=i?1:-1,p=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?e+=f/l:e+=f*Math.pow(2,1-c),e*l>=2&&(a++,l/=2),a+c>=u?(o=0,a=u):a+c>=1?(o=(e*l-1)*Math.pow(2,r),a=a+c):(o=e*Math.pow(2,c-1)*Math.pow(2,r),a=0));r>=8;n[t+d]=o&255,d+=g,o/=256,r-=8);for(a=a<<r|o,h+=r;h>0;n[t+d]=a&255,d+=g,a/=256,h-=8);n[t+d-g]|=p*128};var Fc={}.toString,Nc=Array.isArray||function(n){return Fc.call(n)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(n){var e=Gr,t=Yn,i=Nc;n.Buffer=o,n.SlowBuffer=y,n.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=Zn.TYPED_ARRAY_SUPPORT!==void 0?Zn.TYPED_ARRAY_SUPPORT:r(),n.kMaxLength=s();function r(){try{var x=new Uint8Array(1);return x.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},x.foo()===42&&typeof x.subarray=="function"&&x.subarray(1,1).byteLength===0}catch{return!1}}function s(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(x,m){if(s()<m)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(x=new Uint8Array(m),x.__proto__=o.prototype):(x===null&&(x=new o(m)),x.length=m),x}function o(x,m,v){if(!o.TYPED_ARRAY_SUPPORT&&!(this instanceof o))return new o(x,m,v);if(typeof x=="number"){if(typeof m=="string")throw new Error("If encoding is specified then the first argument must be a string");return c(this,x)}return l(this,x,m,v)}o.poolSize=8192,o._augment=function(x){return x.__proto__=o.prototype,x};function l(x,m,v,A){if(typeof m=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer?g(x,m,v,A):typeof m=="string"?f(x,m,v):p(x,m)}o.from=function(x,m,v){return l(null,x,m,v)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0}));function h(x){if(typeof x!="number")throw new TypeError('"size" argument must be a number');if(x<0)throw new RangeError('"size" argument must not be negative')}function u(x,m,v,A){return h(m),m<=0?a(x,m):v!==void 0?typeof A=="string"?a(x,m).fill(v,A):a(x,m).fill(v):a(x,m)}o.alloc=function(x,m,v){return u(null,x,m,v)};function c(x,m){if(h(m),x=a(x,m<0?0:b(m)|0),!o.TYPED_ARRAY_SUPPORT)for(var v=0;v<m;++v)x[v]=0;return x}o.allocUnsafe=function(x){return c(null,x)},o.allocUnsafeSlow=function(x){return c(null,x)};function f(x,m,v){if((typeof v!="string"||v==="")&&(v="utf8"),!o.isEncoding(v))throw new TypeError('"encoding" must be a valid string encoding');var A=T(m,v)|0;x=a(x,A);var k=x.write(m,v);return k!==A&&(x=x.slice(0,k)),x}function d(x,m){var v=m.length<0?0:b(m.length)|0;x=a(x,v);for(var A=0;A<v;A+=1)x[A]=m[A]&255;return x}function g(x,m,v,A){if(m.byteLength,v<0||m.byteLength<v)throw new RangeError("'offset' is out of bounds");if(m.byteLength<v+(A||0))throw new RangeError("'length' is out of bounds");return v===void 0&&A===void 0?m=new Uint8Array(m):A===void 0?m=new Uint8Array(m,v):m=new Uint8Array(m,v,A),o.TYPED_ARRAY_SUPPORT?(x=m,x.__proto__=o.prototype):x=d(x,m),x}function p(x,m){if(o.isBuffer(m)){var v=b(m.length)|0;return x=a(x,v),x.length===0||m.copy(x,0,0,v),x}if(m){if(typeof ArrayBuffer<"u"&&m.buffer instanceof ArrayBuffer||"length"in m)return typeof m.length!="number"||Ye(m.length)?a(x,0):d(x,m);if(m.type==="Buffer"&&i(m.data))return d(x,m.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(x){if(x>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return x|0}function y(x){return+x!=x&&(x=0),o.alloc(+x)}o.isBuffer=function(m){return!!(m!=null&&m._isBuffer)},o.compare=function(m,v){if(!o.isBuffer(m)||!o.isBuffer(v))throw new TypeError("Arguments must be Buffers");if(m===v)return 0;for(var A=m.length,k=v.length,F=0,V=Math.min(A,k);F<V;++F)if(m[F]!==v[F]){A=m[F],k=v[F];break}return A<k?-1:k<A?1:0},o.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(m,v){if(!i(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return o.alloc(0);var A;if(v===void 0)for(v=0,A=0;A<m.length;++A)v+=m[A].length;var k=o.allocUnsafe(v),F=0;for(A=0;A<m.length;++A){var V=m[A];if(!o.isBuffer(V))throw new TypeError('"list" argument must be an Array of Buffers');V.copy(k,F),F+=V.length}return k};function T(x,m){if(o.isBuffer(x))return x.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(x)||x instanceof ArrayBuffer))return x.byteLength;typeof x!="string"&&(x=""+x);var v=x.length;if(v===0)return 0;for(var A=!1;;)switch(m){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":case void 0:return Ke(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return Pt(x).length;default:if(A)return Ke(x).length;m=(""+m).toLowerCase(),A=!0}}o.byteLength=T;function w(x,m,v){var A=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,m>>>=0,v<=m))return"";for(x||(x="utf8");;)switch(x){case"hex":return re(this,m,v);case"utf8":case"utf-8":return I(this,m,v);case"ascii":return fe(this,m,v);case"latin1":case"binary":return Ie(this,m,v);case"base64":return j(this,m,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,m,v);default:if(A)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),A=!0}}o.prototype._isBuffer=!0;function E(x,m,v){var A=x[m];x[m]=x[v],x[v]=A}o.prototype.swap16=function(){var m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<m;v+=2)E(this,v,v+1);return this},o.prototype.swap32=function(){var m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<m;v+=4)E(this,v,v+3),E(this,v+1,v+2);return this},o.prototype.swap64=function(){var m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<m;v+=8)E(this,v,v+7),E(this,v+1,v+6),E(this,v+2,v+5),E(this,v+3,v+4);return this},o.prototype.toString=function(){var m=this.length|0;return m===0?"":arguments.length===0?I(this,0,m):w.apply(this,arguments)},o.prototype.equals=function(m){if(!o.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:o.compare(this,m)===0},o.prototype.inspect=function(){var m="",v=n.INSPECT_MAX_BYTES;return this.length>0&&(m=this.toString("hex",0,v).match(/.{2}/g).join(" "),this.length>v&&(m+=" ... ")),"<Buffer "+m+">"},o.prototype.compare=function(m,v,A,k,F){if(!o.isBuffer(m))throw new TypeError("Argument must be a Buffer");if(v===void 0&&(v=0),A===void 0&&(A=m?m.length:0),k===void 0&&(k=0),F===void 0&&(F=this.length),v<0||A>m.length||k<0||F>this.length)throw new RangeError("out of range index");if(k>=F&&v>=A)return 0;if(k>=F)return-1;if(v>=A)return 1;if(v>>>=0,A>>>=0,k>>>=0,F>>>=0,this===m)return 0;for(var V=F-k,ne=A-v,de=Math.min(V,ne),be=this.slice(k,F),De=m.slice(v,A),Se=0;Se<de;++Se)if(be[Se]!==De[Se]){V=be[Se],ne=De[Se];break}return V<ne?-1:ne<V?1:0};function S(x,m,v,A,k){if(x.length===0)return-1;if(typeof v=="string"?(A=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,isNaN(v)&&(v=k?0:x.length-1),v<0&&(v=x.length+v),v>=x.length){if(k)return-1;v=x.length-1}else if(v<0)if(k)v=0;else return-1;if(typeof m=="string"&&(m=o.from(m,A)),o.isBuffer(m))return m.length===0?-1:L(x,m,v,A,k);if(typeof m=="number")return m=m&255,o.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(x,m,v):Uint8Array.prototype.lastIndexOf.call(x,m,v):L(x,[m],v,A,k);throw new TypeError("val must be string, number or Buffer")}function L(x,m,v,A,k){var F=1,V=x.length,ne=m.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(x.length<2||m.length<2)return-1;F=2,V/=2,ne/=2,v/=2}function de(or,lr){return F===1?or[lr]:or.readUInt16BE(lr*F)}var be;if(k){var De=-1;for(be=v;be<V;be++)if(de(x,be)===de(m,De===-1?0:be-De)){if(De===-1&&(De=be),be-De+1===ne)return De*F}else De!==-1&&(be-=be-De),De=-1}else for(v+ne>V&&(v=V-ne),be=v;be>=0;be--){for(var Se=!0,pi=0;pi<ne;pi++)if(de(x,be+pi)!==de(m,pi)){Se=!1;break}if(Se)return be}return-1}o.prototype.includes=function(m,v,A){return this.indexOf(m,v,A)!==-1},o.prototype.indexOf=function(m,v,A){return S(this,m,v,A,!0)},o.prototype.lastIndexOf=function(m,v,A){return S(this,m,v,A,!1)};function M(x,m,v,A){v=Number(v)||0;var k=x.length-v;A?(A=Number(A),A>k&&(A=k)):A=k;var F=m.length;if(F%2!==0)throw new TypeError("Invalid hex string");A>F/2&&(A=F/2);for(var V=0;V<A;++V){var ne=parseInt(m.substr(V*2,2),16);if(isNaN(ne))return V;x[v+V]=ne}return V}function O(x,m,v,A){return je(Ke(m,x.length-v),x,v,A)}function _(x,m,v,A){return je(ut(m),x,v,A)}function R(x,m,v,A){return _(x,m,v,A)}function z(x,m,v,A){return je(Pt(m),x,v,A)}function H(x,m,v,A){return je(ct(m,x.length-v),x,v,A)}o.prototype.write=function(m,v,A,k){if(v===void 0)k="utf8",A=this.length,v=0;else if(A===void 0&&typeof v=="string")k=v,A=this.length,v=0;else if(isFinite(v))v=v|0,isFinite(A)?(A=A|0,k===void 0&&(k="utf8")):(k=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var F=this.length-v;if((A===void 0||A>F)&&(A=F),m.length>0&&(A<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");for(var V=!1;;)switch(k){case"hex":return M(this,m,v,A);case"utf8":case"utf-8":return O(this,m,v,A);case"ascii":return _(this,m,v,A);case"latin1":case"binary":return R(this,m,v,A);case"base64":return z(this,m,v,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,m,v,A);default:if(V)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),V=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(x,m,v){return m===0&&v===x.length?e.fromByteArray(x):e.fromByteArray(x.slice(m,v))}function I(x,m,v){v=Math.min(x.length,v);for(var A=[],k=m;k<v;){var F=x[k],V=null,ne=F>239?4:F>223?3:F>191?2:1;if(k+ne<=v){var de,be,De,Se;switch(ne){case 1:F<128&&(V=F);break;case 2:de=x[k+1],(de&192)===128&&(Se=(F&31)<<6|de&63,Se>127&&(V=Se));break;case 3:de=x[k+1],be=x[k+2],(de&192)===128&&(be&192)===128&&(Se=(F&15)<<12|(de&63)<<6|be&63,Se>2047&&(Se<55296||Se>57343)&&(V=Se));break;case 4:de=x[k+1],be=x[k+2],De=x[k+3],(de&192)===128&&(be&192)===128&&(De&192)===128&&(Se=(F&15)<<18|(de&63)<<12|(be&63)<<6|De&63,Se>65535&&Se<1114112&&(V=Se))}}V===null?(V=65533,ne=1):V>65535&&(V-=65536,A.push(V>>>10&1023|55296),V=56320|V&1023),A.push(V),k+=ne}return J(A)}var Y=4096;function J(x){var m=x.length;if(m<=Y)return String.fromCharCode.apply(String,x);for(var v="",A=0;A<m;)v+=String.fromCharCode.apply(String,x.slice(A,A+=Y));return v}function fe(x,m,v){var A="";v=Math.min(x.length,v);for(var k=m;k<v;++k)A+=String.fromCharCode(x[k]&127);return A}function Ie(x,m,v){var A="";v=Math.min(x.length,v);for(var k=m;k<v;++k)A+=String.fromCharCode(x[k]);return A}function re(x,m,v){var A=x.length;(!m||m<0)&&(m=0),(!v||v<0||v>A)&&(v=A);for(var k="",F=m;F<v;++F)k+=st(x[F]);return k}function pe(x,m,v){for(var A=x.slice(m,v),k="",F=0;F<A.length;F+=2)k+=String.fromCharCode(A[F]+A[F+1]*256);return k}o.prototype.slice=function(m,v){var A=this.length;m=~~m,v=v===void 0?A:~~v,m<0?(m+=A,m<0&&(m=0)):m>A&&(m=A),v<0?(v+=A,v<0&&(v=0)):v>A&&(v=A),v<m&&(v=m);var k;if(o.TYPED_ARRAY_SUPPORT)k=this.subarray(m,v),k.__proto__=o.prototype;else{var F=v-m;k=new o(F,void 0);for(var V=0;V<F;++V)k[V]=this[V+m]}return k};function ue(x,m,v){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+m>v)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUIntLE=function(m,v,A){m=m|0,v=v|0,A||ue(m,v,this.length);for(var k=this[m],F=1,V=0;++V<v&&(F*=256);)k+=this[m+V]*F;return k},o.prototype.readUIntBE=function(m,v,A){m=m|0,v=v|0,A||ue(m,v,this.length);for(var k=this[m+--v],F=1;v>0&&(F*=256);)k+=this[m+--v]*F;return k},o.prototype.readUInt8=function(m,v){return v||ue(m,1,this.length),this[m]},o.prototype.readUInt16LE=function(m,v){return v||ue(m,2,this.length),this[m]|this[m+1]<<8},o.prototype.readUInt16BE=function(m,v){return v||ue(m,2,this.length),this[m]<<8|this[m+1]},o.prototype.readUInt32LE=function(m,v){return v||ue(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},o.prototype.readUInt32BE=function(m,v){return v||ue(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},o.prototype.readIntLE=function(m,v,A){m=m|0,v=v|0,A||ue(m,v,this.length);for(var k=this[m],F=1,V=0;++V<v&&(F*=256);)k+=this[m+V]*F;return F*=128,k>=F&&(k-=Math.pow(2,8*v)),k},o.prototype.readIntBE=function(m,v,A){m=m|0,v=v|0,A||ue(m,v,this.length);for(var k=v,F=1,V=this[m+--k];k>0&&(F*=256);)V+=this[m+--k]*F;return F*=128,V>=F&&(V-=Math.pow(2,8*v)),V},o.prototype.readInt8=function(m,v){return v||ue(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},o.prototype.readInt16LE=function(m,v){v||ue(m,2,this.length);var A=this[m]|this[m+1]<<8;return A&32768?A|4294901760:A},o.prototype.readInt16BE=function(m,v){v||ue(m,2,this.length);var A=this[m+1]|this[m]<<8;return A&32768?A|4294901760:A},o.prototype.readInt32LE=function(m,v){return v||ue(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},o.prototype.readInt32BE=function(m,v){return v||ue(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},o.prototype.readFloatLE=function(m,v){return v||ue(m,4,this.length),t.read(this,m,!0,23,4)},o.prototype.readFloatBE=function(m,v){return v||ue(m,4,this.length),t.read(this,m,!1,23,4)},o.prototype.readDoubleLE=function(m,v){return v||ue(m,8,this.length),t.read(this,m,!0,52,8)},o.prototype.readDoubleBE=function(m,v){return v||ue(m,8,this.length),t.read(this,m,!1,52,8)};function $(x,m,v,A,k,F){if(!o.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>k||m<F)throw new RangeError('"value" argument is out of bounds');if(v+A>x.length)throw new RangeError("Index out of range")}o.prototype.writeUIntLE=function(m,v,A,k){if(m=+m,v=v|0,A=A|0,!k){var F=Math.pow(2,8*A)-1;$(this,m,v,A,F,0)}var V=1,ne=0;for(this[v]=m&255;++ne<A&&(V*=256);)this[v+ne]=m/V&255;return v+A},o.prototype.writeUIntBE=function(m,v,A,k){if(m=+m,v=v|0,A=A|0,!k){var F=Math.pow(2,8*A)-1;$(this,m,v,A,F,0)}var V=A-1,ne=1;for(this[v+V]=m&255;--V>=0&&(ne*=256);)this[v+V]=m/ne&255;return v+A},o.prototype.writeUInt8=function(m,v,A){return m=+m,v=v|0,A||$(this,m,v,1,255,0),o.TYPED_ARRAY_SUPPORT||(m=Math.floor(m)),this[v]=m&255,v+1};function Oe(x,m,v,A){m<0&&(m=65535+m+1);for(var k=0,F=Math.min(x.length-v,2);k<F;++k)x[v+k]=(m&255<<8*(A?k:1-k))>>>(A?k:1-k)*8}o.prototype.writeUInt16LE=function(m,v,A){return m=+m,v=v|0,A||$(this,m,v,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[v]=m&255,this[v+1]=m>>>8):Oe(this,m,v,!0),v+2},o.prototype.writeUInt16BE=function(m,v,A){return m=+m,v=v|0,A||$(this,m,v,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[v]=m>>>8,this[v+1]=m&255):Oe(this,m,v,!1),v+2};function ke(x,m,v,A){m<0&&(m=4294967295+m+1);for(var k=0,F=Math.min(x.length-v,4);k<F;++k)x[v+k]=m>>>(A?k:3-k)*8&255}o.prototype.writeUInt32LE=function(m,v,A){return m=+m,v=v|0,A||$(this,m,v,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[v+3]=m>>>24,this[v+2]=m>>>16,this[v+1]=m>>>8,this[v]=m&255):ke(this,m,v,!0),v+4},o.prototype.writeUInt32BE=function(m,v,A){return m=+m,v=v|0,A||$(this,m,v,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=m&255):ke(this,m,v,!1),v+4},o.prototype.writeIntLE=function(m,v,A,k){if(m=+m,v=v|0,!k){var F=Math.pow(2,8*A-1);$(this,m,v,A,F-1,-F)}var V=0,ne=1,de=0;for(this[v]=m&255;++V<A&&(ne*=256);)m<0&&de===0&&this[v+V-1]!==0&&(de=1),this[v+V]=(m/ne>>0)-de&255;return v+A},o.prototype.writeIntBE=function(m,v,A,k){if(m=+m,v=v|0,!k){var F=Math.pow(2,8*A-1);$(this,m,v,A,F-1,-F)}var V=A-1,ne=1,de=0;for(this[v+V]=m&255;--V>=0&&(ne*=256);)m<0&&de===0&&this[v+V+1]!==0&&(de=1),this[v+V]=(m/ne>>0)-de&255;return v+A},o.prototype.writeInt8=function(m,v,A){return m=+m,v=v|0,A||$(this,m,v,1,127,-128),o.TYPED_ARRAY_SUPPORT||(m=Math.floor(m)),m<0&&(m=255+m+1),this[v]=m&255,v+1},o.prototype.writeInt16LE=function(m,v,A){return m=+m,v=v|0,A||$(this,m,v,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[v]=m&255,this[v+1]=m>>>8):Oe(this,m,v,!0),v+2},o.prototype.writeInt16BE=function(m,v,A){return m=+m,v=v|0,A||$(this,m,v,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[v]=m>>>8,this[v+1]=m&255):Oe(this,m,v,!1),v+2},o.prototype.writeInt32LE=function(m,v,A){return m=+m,v=v|0,A||$(this,m,v,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[v]=m&255,this[v+1]=m>>>8,this[v+2]=m>>>16,this[v+3]=m>>>24):ke(this,m,v,!0),v+4},o.prototype.writeInt32BE=function(m,v,A){return m=+m,v=v|0,A||$(this,m,v,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),o.TYPED_ARRAY_SUPPORT?(this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=m&255):ke(this,m,v,!1),v+4};function q(x,m,v,A,k,F){if(v+A>x.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function Ue(x,m,v,A,k){return k||q(x,m,v,4),t.write(x,m,v,A,23,4),v+4}o.prototype.writeFloatLE=function(m,v,A){return Ue(this,m,v,!0,A)},o.prototype.writeFloatBE=function(m,v,A){return Ue(this,m,v,!1,A)};function Ge(x,m,v,A,k){return k||q(x,m,v,8),t.write(x,m,v,A,52,8),v+8}o.prototype.writeDoubleLE=function(m,v,A){return Ge(this,m,v,!0,A)},o.prototype.writeDoubleBE=function(m,v,A){return Ge(this,m,v,!1,A)},o.prototype.copy=function(m,v,A,k){if(A||(A=0),!k&&k!==0&&(k=this.length),v>=m.length&&(v=m.length),v||(v=0),k>0&&k<A&&(k=A),k===A||m.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("sourceStart out of bounds");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),m.length-v<k-A&&(k=m.length-v+A);var F=k-A,V;if(this===m&&A<v&&v<k)for(V=F-1;V>=0;--V)m[V+v]=this[V+A];else if(F<1e3||!o.TYPED_ARRAY_SUPPORT)for(V=0;V<F;++V)m[V+v]=this[V+A];else Uint8Array.prototype.set.call(m,this.subarray(A,A+F),v);return F},o.prototype.fill=function(m,v,A,k){if(typeof m=="string"){if(typeof v=="string"?(k=v,v=0,A=this.length):typeof A=="string"&&(k=A,A=this.length),m.length===1){var F=m.charCodeAt(0);F<256&&(m=F)}if(k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!o.isEncoding(k))throw new TypeError("Unknown encoding: "+k)}else typeof m=="number"&&(m=m&255);if(v<0||this.length<v||this.length<A)throw new RangeError("Out of range index");if(A<=v)return this;v=v>>>0,A=A===void 0?this.length:A>>>0,m||(m=0);var V;if(typeof m=="number")for(V=v;V<A;++V)this[V]=m;else{var ne=o.isBuffer(m)?m:Ke(new o(m,k).toString()),de=ne.length;for(V=0;V<A-v;++V)this[V+v]=ne[V%de]}return this};var Qt=/[^+\/0-9A-Za-z-_]/g;function Jt(x){if(x=bt(x).replace(Qt,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function bt(x){return x.trim?x.trim():x.replace(/^\s+|\s+$/g,"")}function st(x){return x<16?"0"+x.toString(16):x.toString(16)}function Ke(x,m){m=m||1/0;for(var v,A=x.length,k=null,F=[],V=0;V<A;++V){if(v=x.charCodeAt(V),v>55295&&v<57344){if(!k){if(v>56319){(m-=3)>-1&&F.push(239,191,189);continue}else if(V+1===A){(m-=3)>-1&&F.push(239,191,189);continue}k=v;continue}if(v<56320){(m-=3)>-1&&F.push(239,191,189),k=v;continue}v=(k-55296<<10|v-56320)+65536}else k&&(m-=3)>-1&&F.push(239,191,189);if(k=null,v<128){if((m-=1)<0)break;F.push(v)}else if(v<2048){if((m-=2)<0)break;F.push(v>>6|192,v&63|128)}else if(v<65536){if((m-=3)<0)break;F.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((m-=4)<0)break;F.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return F}function ut(x){for(var m=[],v=0;v<x.length;++v)m.push(x.charCodeAt(v)&255);return m}function ct(x,m){for(var v,A,k,F=[],V=0;V<x.length&&!((m-=2)<0);++V)v=x.charCodeAt(V),A=v>>8,k=v%256,F.push(k),F.push(A);return F}function Pt(x){return e.toByteArray(Jt(x))}function je(x,m,v,A){for(var k=0;k<A&&!(k+v>=m.length||k>=x.length);++k)m[k+v]=x[k];return k}function Ye(x){return x!==x}})(Lc);const _c=n=>{let{sortie:e,isLoading:t}=n;const i=Ni(),r=W.useRef(null),{t:s,i18n:a}=mt(),[o,l]=W.useState(1),[h,u]=W.useState(25),[c,f]=W.useState(),[d,g]=W.useState(!1),[p,b]=W.useState(!0),[y,T]=W.useState(0),[w,E]=W.useState(),[S,L]=W.useState(!1),M=W.useRef(null),O=()=>{T(I=>I+1)},_=W.useMemo(()=>c==null?void 0:c.slice(0,o*h),[c,o,h]),R=()=>{p?(E(setTimeout(()=>O(),12e4)),g(!0)):(clearTimeout(w),T(I=>I+1))},z=I=>{I&&(f([...I]),b(!p),g(!1))},H=I=>{L(!0),nt.get(`/dashboard/fullclientsituation/${I}/`).then(Y=>{i(ur.actions.fetchSituationCLient([Y.data.clientsituation])),i(ur.actions.fetchClientSituationDetails({data:Y.data,isFilter:!1})),i(ur.actions.setClientSituationForOneClient({id:I})),i(ur.actions.setCurrentData(I)),L(!1)})},j=()=>{const I=M.current;I&&I.scrollHeight===I.scrollTop+I.clientHeight&&!t&&l(J=>J+1)};return W.useEffect(()=>(t||f(e),M.current&&M.current.addEventListener("scroll",j),()=>{M.current&&M.current.removeEventListener("scroll",j)}),[t]),C.jsxs(C.Fragment,{children:[S&&C.jsx(sa,{}),C.jsxs(_i,{className:"situationClientDashboard",children:[C.jsx(Vi,{sx:{padding:1},title:s(ce.dashboard.transactionPerClient),avatar:C.jsx(We,{onClick:()=>R(),children:C.jsx(_n,{})})}),C.jsx(Bn,{sx:{maxHeight:"50vh"},ref:M,children:C.jsx(In,{sx:{minWidth:300,height:"auto"},children:t?C.jsx(Nn,{rowsNum:5}):C.jsx(Dn,{ref:r,children:(e==null?void 0:e.length)>0?_==null?void 0:_.map((I,Y)=>{const J=new Intl.NumberFormat("EN-us",{style:"currency",currency:"MAD"});return C.jsxs(Ri,{hover:!0,children:[C.jsx(gt,{children:C.jsxs(Kt,{alignItems:"center",direction:"row",spacing:2,children:[C.jsxs(kn,{sx:{bgcolor:fe=>fe.palette.primary.main,color:"#fff"},children:[I.first_name[0]," ",I.last_name[0]]}),C.jsx("div",{children:C.jsxs(we,{variant:"subtitle2",children:[I.first_name," ",I.last_name]})})]})}),C.jsxs(gt,{sx:{direction:"initial",whiteSpace:"nowrap"},children:[C.jsx(we,{color:(!isNaN(I.final_confirmed_sold)&&I.final_confirmed_sold)<0?"error.main":"success.main",variant:"subtitle2",children:isNaN(I.final_confirmed_sold)?I.final_confirmed_sold:J.format(I.final_confirmed_sold).replaceAll(","," ").replace("MAD","")+" "+s(ce.global.mad)}),C.jsx(we,{color:"text.secondary",noWrap:!0,variant:"body2",children:s(ce.situationCliente.debt)})]}),C.jsxs(gt,{align:"right",children:[C.jsx(We,{color:"success",disabled:isNaN(I.final_confirmed_sold),onClick:()=>H(I.client_id),children:C.jsx(ka,{})}),C.jsx(zr,{sx:{backgroundColor:fe=>fe.palette.mode==="dark"?"neutral.700":"neutral.200",borderRadius:1.5,px:1,py:.5,display:"inline-block"},children:C.jsxs(we,{variant:"subtitle2",children:["#",Y+1]})})]})]},Y)}):C.jsx(Ri,{children:C.jsx(gt,{colSpan:10,sx:{textAlign:"center"},children:s(ce.magazin.nothingToDisplay)})})})})})]}),C.jsx(Gn,{isOpen:d,show:p,onSuccess:z,onClose:()=>g(!1),uri:"/dashboard/outbound/",uniqueKey:y}),C.jsx(Kl,{})]})};function Xs(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function $n(n,e){n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:Xs(e[t])&&Xs(n[t])&&Object.keys(e[t]).length>0&&$n(n[t],e[t])})}const lo={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function di(){const n=typeof document<"u"?document:{};return $n(n,lo),n}const Vc={document:lo,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function ht(){const n=typeof window<"u"?window:{};return $n(n,Vc),n}function zc(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function jc(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function En(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Fr(){return Date.now()}function Hc(n){const e=ht();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Wc(n,e){e===void 0&&(e="x");const t=ht();let i,r,s;const a=Hc(n);return t.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(o=>o.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(r==="none"?"":r)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function xr(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Uc(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ot(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!Uc(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,a=r.length;s<a;s+=1){const o=r[s],l=Object.getOwnPropertyDescriptor(i,o);l!==void 0&&l.enumerable&&(xr(n[o])&&xr(i[o])?i[o].__swiper__?n[o]=i[o]:ot(n[o],i[o]):!xr(n[o])&&xr(i[o])?(n[o]={},i[o].__swiper__?n[o]=i[o]:ot(n[o],i[o])):n[o]=i[o])}}}return n}function Cr(n,e,t){n.style.setProperty(e,t)}function ho(n){let{swiper:e,targetPosition:t,side:i}=n;const r=ht(),s=-e.translate;let a=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const h=t>s?"next":"prev",u=(f,d)=>h==="next"&&f>=d||h==="prev"&&f<=d,c=()=>{o=new Date().getTime(),a===null&&(a=o);const f=Math.max(Math.min((o-a)/l,1),0),d=.5-Math.cos(f*Math.PI)/2;let g=s+d*(t-s);if(u(g,t)&&(g=t),e.wrapperEl.scrollTo({[i]:g}),u(g,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:g})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(c)};c()}function Lt(n,e){e===void 0&&(e="");const t=[...n.children];return n instanceof HTMLSlotElement&&t.push(...n.assignedElements()),e?t.filter(i=>i.matches(e)):t}function Gc(n,e){var i,r;const t=[e];for(;t.length>0;){const s=t.shift();if(n===s)return!0;t.push(...s.children,...((i=s.shadowRoot)==null?void 0:i.children)||[],...((r=s.assignedElements)==null?void 0:r.call(s))||[])}}function Yc(n,e){let t=e.contains(n);return!t&&e instanceof HTMLSlotElement&&(t=[...e.assignedElements()].includes(n),t||(t=Gc(n,e))),t}function Nr(n){try{console.warn(n);return}catch{}}function _r(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:zc(e)),t}function $c(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function Xc(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function $t(n,e){return ht().getComputedStyle(n,null).getPropertyValue(e)}function qs(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function qc(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function Zs(n,e,t){const i=ht();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}function Mt(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let tn;function Zc(){const n=ht(),e=di();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function uo(){return tn||(tn=Zc()),tn}let rn;function Kc(n){let{userAgent:e}=n===void 0?{}:n;const t=uo(),i=ht(),r=i.navigator.platform,s=e||i.navigator.userAgent,a={ios:!1,android:!1},o=i.screen.width,l=i.screen.height,h=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const c=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d=r==="Win32";let g=r==="MacIntel";const p=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&t.touch&&p.indexOf(`${o}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),h&&!d&&(a.os="android",a.android=!0),(u||f||c)&&(a.os="ios",a.ios=!0),a}function co(n){return n===void 0&&(n={}),rn||(rn=Kc(n)),rn}let nn;function Qc(){const n=ht(),e=co();let t=!1;function i(){const o=n.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(i()){const o=String(n.navigator.userAgent);if(o.includes("Version/")){const[l,h]=o.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));t=l<16||l===16&&h<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),s=i(),a=s||r&&e.ios;return{isSafari:t||s,needPerspectiveFix:t,need3dFix:a,isWebView:r}}function Jc(){return nn||(nn=Qc()),nn}function ef(n){let{swiper:e,on:t,emit:i}=n;const r=ht();let s=null,a=null;const o=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(c=>{a=r.requestAnimationFrame(()=>{const{width:f,height:d}=e;let g=f,p=d;c.forEach(b=>{let{contentBoxSize:y,contentRect:T,target:w}=b;w&&w!==e.el||(g=T?T.width:(y[0]||y).inlineSize,p=T?T.height:(y[0]||y).blockSize)}),(g!==f||p!==d)&&o()})}),s.observe(e.el))},h=()=>{a&&r.cancelAnimationFrame(a),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",u)}),t("destroy",()=>{h(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",u)})}function tf(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=[],a=ht(),o=function(u,c){c===void 0&&(c={});const f=a.MutationObserver||a.WebkitMutationObserver,d=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){r("observerUpdate",g[0]);return}const p=function(){r("observerUpdate",g[0])};a.requestAnimationFrame?a.requestAnimationFrame(p):a.setTimeout(p,0)});d.observe(u,{attributes:typeof c.attributes>"u"?!0:c.attributes,childList:e.isElement||(typeof c.childList>"u"?!0:c).childList,characterData:typeof c.characterData>"u"?!0:c.characterData}),s.push(d)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=qc(e.hostEl);for(let c=0;c<u.length;c+=1)o(u[c])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},h=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",h)}var rf={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=t?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];e.apply(i,a)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),i=n):(e=s[0].events,t=s[0].data,i=s[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(h=>{h.apply(i,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(h=>{h.apply(i,t)})}),n}};function nf(){const n=this;let e,t;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt($t(i,"padding-left")||0,10)-parseInt($t(i,"padding-right")||0,10),t=t-parseInt($t(i,"padding-top")||0,10)-parseInt($t(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function sf(){const n=this;function e(R,z){return parseFloat(R.getPropertyValue(n.getDirectionLabel(z))||0)}const t=n.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:a,wrongRTL:o}=n,l=n.virtual&&t.virtual.enabled,h=l?n.virtual.slides.length:n.slides.length,u=Lt(r,`.${n.params.slideClass}, swiper-slide`),c=l?n.virtual.slides.length:u.length;let f=[];const d=[],g=[];let p=t.slidesOffsetBefore;typeof p=="function"&&(p=t.slidesOffsetBefore.call(n));let b=t.slidesOffsetAfter;typeof b=="function"&&(b=t.slidesOffsetAfter.call(n));const y=n.snapGrid.length,T=n.slidesGrid.length;let w=t.spaceBetween,E=-p,S=0,L=0;if(typeof s>"u")return;typeof w=="string"&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*s:typeof w=="string"&&(w=parseFloat(w)),n.virtualSize=-w,u.forEach(R=>{a?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Cr(i,"--swiper-centered-offset-before",""),Cr(i,"--swiper-centered-offset-after",""));const M=t.grid&&t.grid.rows>1&&n.grid;M?n.grid.initSlides(u):n.grid&&n.grid.unsetSlides();let O;const _=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(R=>typeof t.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<c;R+=1){O=0;let z;if(u[R]&&(z=u[R]),M&&n.grid.updateSlide(R,z,u),!(u[R]&&$t(z,"display")==="none")){if(t.slidesPerView==="auto"){_&&(u[R].style[n.getDirectionLabel("width")]="");const H=getComputedStyle(z),j=z.style.transform,I=z.style.webkitTransform;if(j&&(z.style.transform="none"),I&&(z.style.webkitTransform="none"),t.roundLengths)O=n.isHorizontal()?Zs(z,"width",!0):Zs(z,"height",!0);else{const Y=e(H,"width"),J=e(H,"padding-left"),fe=e(H,"padding-right"),Ie=e(H,"margin-left"),re=e(H,"margin-right"),pe=H.getPropertyValue("box-sizing");if(pe&&pe==="border-box")O=Y+Ie+re;else{const{clientWidth:ue,offsetWidth:$}=z;O=Y+J+fe+Ie+re+($-ue)}}j&&(z.style.transform=j),I&&(z.style.webkitTransform=I),t.roundLengths&&(O=Math.floor(O))}else O=(s-(t.slidesPerView-1)*w)/t.slidesPerView,t.roundLengths&&(O=Math.floor(O)),u[R]&&(u[R].style[n.getDirectionLabel("width")]=`${O}px`);u[R]&&(u[R].swiperSlideSize=O),g.push(O),t.centeredSlides?(E=E+O/2+S/2+w,S===0&&R!==0&&(E=E-s/2-w),R===0&&(E=E-s/2-w),Math.abs(E)<1/1e3&&(E=0),t.roundLengths&&(E=Math.floor(E)),L%t.slidesPerGroup===0&&f.push(E),d.push(E)):(t.roundLengths&&(E=Math.floor(E)),(L-Math.min(n.params.slidesPerGroupSkip,L))%n.params.slidesPerGroup===0&&f.push(E),d.push(E),E=E+O+w),n.virtualSize+=O+w,S=O,L+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+b,a&&o&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${n.virtualSize+w}px`),t.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+w}px`),M&&n.grid.updateWrapperSize(O,f),!t.centeredSlides){const R=[];for(let z=0;z<f.length;z+=1){let H=f[z];t.roundLengths&&(H=Math.floor(H)),f[z]<=n.virtualSize-s&&R.push(H)}f=R,Math.floor(n.virtualSize-s)-Math.floor(f[f.length-1])>1&&f.push(n.virtualSize-s)}if(l&&t.loop){const R=g[0]+w;if(t.slidesPerGroup>1){const z=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),H=R*t.slidesPerGroup;for(let j=0;j<z;j+=1)f.push(f[f.length-1]+H)}for(let z=0;z<n.virtual.slidesBefore+n.virtual.slidesAfter;z+=1)t.slidesPerGroup===1&&f.push(f[f.length-1]+R),d.push(d[d.length-1]+R),n.virtualSize+=R}if(f.length===0&&(f=[0]),w!==0){const R=n.isHorizontal()&&a?"marginLeft":n.getDirectionLabel("marginRight");u.filter((z,H)=>!t.cssMode||t.loop?!0:H!==u.length-1).forEach(z=>{z.style[R]=`${w}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let R=0;g.forEach(H=>{R+=H+(w||0)}),R-=w;const z=R>s?R-s:0;f=f.map(H=>H<=0?-p:H>z?z+b:H)}if(t.centerInsufficientSlides){let R=0;g.forEach(H=>{R+=H+(w||0)}),R-=w;const z=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(R+z<s){const H=(s-R-z)/2;f.forEach((j,I)=>{f[I]=j-H}),d.forEach((j,I)=>{d[I]=j+H})}}if(Object.assign(n,{slides:u,snapGrid:f,slidesGrid:d,slidesSizesGrid:g}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Cr(i,"--swiper-centered-offset-before",`${-f[0]}px`),Cr(i,"--swiper-centered-offset-after",`${n.size/2-g[g.length-1]/2}px`);const R=-n.snapGrid[0],z=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(H=>H+R),n.slidesGrid=n.slidesGrid.map(H=>H+z)}if(c!==h&&n.emit("slidesLengthChange"),f.length!==y&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),d.length!==T&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!l&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const R=`${t.containerModifierClass}backface-hidden`,z=n.el.classList.contains(R);c<=t.maxBackfaceHiddenSlides?z||n.el.classList.add(R):z&&n.el.classList.remove(R)}}function af(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const a=o=>i?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{t.push(o)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const o=e.activeIndex+s;if(o>e.slides.length&&!i)break;t.push(a(o))}else t.push(a(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const o=t[s].offsetHeight;r=o>r?o:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function of(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}const Ks=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function lf(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-n;r&&(a=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=t.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<i.length;l+=1){const h=i[l];let u=h.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=i[0].swiperSlideOffset);const c=(a+(t.centeredSlides?e.minTranslate():0)-u)/(h.swiperSlideSize+o),f=(a-s[0]+(t.centeredSlides?e.minTranslate():0)-u)/(h.swiperSlideSize+o),d=-(a-u),g=d+e.slidesSizesGrid[l],p=d>=0&&d<=e.size-e.slidesSizesGrid[l],b=d>=0&&d<e.size-1||g>1&&g<=e.size||d<=0&&g>=e.size;b&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(l)),Ks(h,b,t.slideVisibleClass),Ks(h,p,t.slideFullyVisibleClass),h.progress=r?-c:c,h.originalProgress=r?-f:f}}function hf(n){const e=this;if(typeof n>"u"){const u=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*u||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:a,progressLoop:o}=e;const l=s,h=a;if(i===0)r=0,s=!0,a=!0;else{r=(n-e.minTranslate())/i;const u=Math.abs(n-e.minTranslate())<1,c=Math.abs(n-e.maxTranslate())<1;s=u||r<=0,a=c||r>=1,u&&(r=0),c&&(r=1)}if(t.loop){const u=e.getSlideIndexByData(0),c=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],d=e.slidesGrid[c],g=e.slidesGrid[e.slidesGrid.length-1],p=Math.abs(n);p>=f?o=(p-f)/g:o=(p+g-d)/g,o>1&&(o-=1)}Object.assign(e,{progress:r,progressLoop:o,isBeginning:s,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!l&&e.emit("reachBeginning toEdge"),a&&!h&&e.emit("reachEnd toEdge"),(l&&!s||h&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}const sn=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function uf(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:r}=n,s=n.virtual&&t.virtual.enabled,a=n.grid&&t.grid&&t.grid.rows>1,o=c=>Lt(i,`.${t.slideClass}${c}, swiper-slide${c}`)[0];let l,h,u;if(s)if(t.loop){let c=r-n.virtual.slidesBefore;c<0&&(c=n.virtual.slides.length+c),c>=n.virtual.slides.length&&(c-=n.virtual.slides.length),l=o(`[data-swiper-slide-index="${c}"]`)}else l=o(`[data-swiper-slide-index="${r}"]`);else a?(l=e.find(c=>c.column===r),u=e.find(c=>c.column===r+1),h=e.find(c=>c.column===r-1)):l=e[r];l&&(a||(u=Xc(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u&&(u=e[0]),h=$c(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(c=>{sn(c,c===l,t.slideActiveClass),sn(c,c===u,t.slideNextClass),sn(c,c===h,t.slidePrevClass)}),n.emitSlidesClasses()}const Ar=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=e.closest(t());if(i){let r=i.querySelector(`.${n.params.lazyPreloaderClass}`);!r&&n.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},an=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Ln=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const a=r,o=[a-e];o.push(...Array.from({length:e}).map((l,h)=>a+i+h)),n.slides.forEach((l,h)=>{o.includes(l.column)&&an(n,h)});return}const s=r+i-1;if(n.params.rewind||n.params.loop)for(let a=r-e;a<=s+e;a+=1){const o=(a%t+t)%t;(o<r||o>s)&&an(n,o)}else for(let a=Math.max(r-e,0);a<=Math.min(s+e,t-1);a+=1)a!==r&&(a>s||a<r)&&an(n,a)};function cf(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return t.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function ff(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:a,snapIndex:o}=e;let l=n,h;const u=d=>{let g=d-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=cf(e)),i.indexOf(t)>=0)h=i.indexOf(t);else{const d=Math.min(r.slidesPerGroupSkip,l);h=d+Math.floor((l-d)/r.slidesPerGroup)}if(h>=i.length&&(h=i.length-1),l===s&&!e.params.loop){h!==o&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const c=e.grid&&r.grid&&r.grid.rows>1;let f;if(e.virtual&&r.virtual.enabled&&r.loop)f=u(l);else if(c){const d=e.slides.find(p=>p.column===l);let g=parseInt(d.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(d),0)),f=Math.floor(g/r.grid.rows)}else if(e.slides[l]){const d=e.slides[l].getAttribute("data-swiper-slide-index");d?f=parseInt(d,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:o,snapIndex:h,previousRealIndex:a,realIndex:f,previousIndex:s,activeIndex:l}),e.initialized&&Ln(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function df(n,e){const t=this,i=t.params;let r=n.closest(`.${i.slideClass}, swiper-slide`);!r&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(o=>{!r&&o.matches&&o.matches(`.${i.slideClass}, swiper-slide`)&&(r=o)});let s=!1,a;if(r){for(let o=0;o<t.slides.length;o+=1)if(t.slides[o]===r){s=!0,a=o;break}}if(r&&s)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var pf={updateSize:nf,updateSlides:sf,updateAutoHeight:af,updateSlidesOffset:of,updateSlidesProgress:lf,updateProgress:hf,updateSlidesClasses:uf,updateActiveIndex:ff,updateClickedSlide:df};function gf(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let a=Wc(s,n);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function mf(n,e){const t=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:a}=t;let o=0,l=0;const h=0;t.isHorizontal()?o=i?-n:n:l=n,r.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?o:l,r.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-o:-l:r.virtualTranslate||(t.isHorizontal()?o-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),s.style.transform=`translate3d(${o}px, ${l}px, ${h}px)`);let u;const c=t.maxTranslate()-t.minTranslate();c===0?u=0:u=(n-t.minTranslate())/c,u!==a&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function vf(){return-this.snapGrid[0]}function yf(){return-this.snapGrid[this.snapGrid.length-1]}function bf(n,e,t,i,r){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const s=this,{params:a,wrapperEl:o}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const l=s.minTranslate(),h=s.maxTranslate();let u;if(i&&n>l?u=l:i&&n<h?u=h:u=n,s.updateProgress(u),a.cssMode){const c=s.isHorizontal();if(e===0)o[c?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return ho({swiper:s,targetPosition:-u,side:c?"left":"top"}),!0;o.scrollTo({[c?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(f){!s||s.destroyed||f.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var wf={getTranslate:gf,setTranslate:mf,minTranslate:vf,maxTranslate:yf,translateTo:bf};function Sf(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function fo(n){let{swiper:e,runCallbacks:t,direction:i,step:r}=n;const{activeIndex:s,previousIndex:a}=e;let o=i;if(o||(s>a?o="next":s<a?o="prev":o="reset"),e.emit(`transition${r}`),t&&s!==a){if(o==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),o==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function xf(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),fo({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function Cf(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),fo({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var Tf={setTransition:Sf,transitionStart:xf,transitionEnd:Cf};function Af(n,e,t,i,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;let a=n;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:h,previousIndex:u,activeIndex:c,rtlTranslate:f,wrapperEl:d,enabled:g}=s;if(!g&&!i&&!r||s.destroyed||s.animating&&o.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const p=Math.min(s.params.slidesPerGroupSkip,a);let b=p+Math.floor((a-p)/s.params.slidesPerGroup);b>=l.length&&(b=l.length-1);const y=-l[b];if(o.normalizeSlideIndex)for(let S=0;S<h.length;S+=1){const L=-Math.floor(y*100),M=Math.floor(h[S]*100),O=Math.floor(h[S+1]*100);typeof h[S+1]<"u"?L>=M&&L<O-(O-M)/2?a=S:L>=M&&L<O&&(a=S+1):L>=M&&(a=S)}if(s.initialized&&a!==c&&(!s.allowSlideNext&&(f?y>s.translate&&y>s.minTranslate():y<s.translate&&y<s.minTranslate())||!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(c||0)!==a))return!1;a!==(u||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(y);let T;a>c?T="next":a<c?T="prev":T="reset";const w=s.virtual&&s.params.virtual.enabled;if(!(w&&r)&&(f&&-y===s.translate||!f&&y===s.translate))return s.updateActiveIndex(a),o.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),o.effect!=="slide"&&s.setTranslate(y),T!=="reset"&&(s.transitionStart(t,T),s.transitionEnd(t,T)),!1;if(o.cssMode){const S=s.isHorizontal(),L=f?y:-y;if(e===0)w&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),w&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{d[S?"scrollLeft":"scrollTop"]=L})):d[S?"scrollLeft":"scrollTop"]=L,w&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return ho({swiper:s,targetPosition:L,side:S?"left":"top"}),!0;d.scrollTo({[S?"left":"top"]:L,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(y),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,T),e===0?s.transitionEnd(t,T):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(L){!s||s.destroyed||L.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,T))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function Ef(n,e,t,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let a=n;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)a=a+r.virtual.slidesBefore;else{let o;if(s){const f=a*r.params.grid.rows;o=r.slides.find(d=>d.getAttribute("data-swiper-slide-index")*1===f).column}else o=r.getSlideIndexByData(a);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:h}=r.params;let u=r.params.slidesPerView;u==="auto"?u=r.slidesPerViewDynamic():(u=Math.ceil(parseFloat(r.params.slidesPerView,10)),h&&u%2===0&&(u=u+1));let c=l-o<u;if(h&&(c=c||o<Math.ceil(u/2)),i&&h&&r.params.slidesPerView!=="auto"&&!s&&(c=!1),c){const f=h?o<r.activeIndex?"prev":"next":o-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?o+1:o-l+1,slideRealIndex:f==="next"?r.realIndex:void 0})}if(s){const f=a*r.params.grid.rows;a=r.slides.find(d=>d.getAttribute("data-swiper-slide-index")*1===f).column}else a=r.getSlideIndexByData(a)}return requestAnimationFrame(()=>{r.slideTo(a,e,t,i)}),r}function Lf(n,e,t){e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:a}=i;if(!r||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);let o=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:o,h=i.virtual&&s.virtual.enabled;if(s.loop){if(a&&!h&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,n,e,t)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+l,n,e,t)}function Pf(n,e,t){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:a,rtlTranslate:o,enabled:l,animating:h}=i;if(!l||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);const u=i.virtual&&r.virtual.enabled;if(r.loop){if(h&&!u&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const c=o?i.translate:-i.translate;function f(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const d=f(c),g=s.map(y=>f(y));let p=s[g.indexOf(d)-1];if(typeof p>"u"&&r.cssMode){let y;s.forEach((T,w)=>{d>=T&&(y=w)}),typeof y<"u"&&(p=s[y>0?y-1:y])}let b=0;if(typeof p<"u"&&(b=a.indexOf(p),b<0&&(b=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(b=b-i.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),r.rewind&&i.isBeginning){const y=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(y,n,e,t)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(b,n,e,t)}),!0;return i.slideTo(b,n,e,t)}function Mf(n,e,t){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof n>"u"&&(n=i.params.speed),i.slideTo(i.activeIndex,n,e,t)}function Of(n,e,t,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof n>"u"&&(n=r.params.speed);let s=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,s),o=a+Math.floor((s-a)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[o]){const h=r.snapGrid[o],u=r.snapGrid[o+1];l-h>(u-h)*i&&(s+=r.params.slidesPerGroup)}else{const h=r.snapGrid[o-1],u=r.snapGrid[o];l-h<=(u-h)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)}function kf(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let r=n.clickedIndex,s;const a=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(Lt(t,`${a}[data-swiper-slide-index="${s}"]`)[0]),En(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(Lt(t,`${a}[data-swiper-slide-index="${s}"]`)[0]),En(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}var Rf={slideTo:Af,slideToLoop:Ef,slideNext:Lf,slidePrev:Pf,slideReset:Mf,slideToClosest:Of,slideToClickedSlide:kf};function Bf(n){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const r=()=>{Lt(i,`.${t.slideClass}, swiper-slide`).forEach((c,f)=>{c.setAttribute("data-swiper-slide-index",f)})},s=e.grid&&t.grid&&t.grid.rows>1,a=t.slidesPerGroup*(s?t.grid.rows:1),o=e.slides.length%a!==0,l=s&&e.slides.length%t.grid.rows!==0,h=u=>{for(let c=0;c<u;c+=1){const f=e.isElement?_r("swiper-slide",[t.slideBlankClass]):_r("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(f)}};if(o){if(t.loopAddBlankSlides){const u=a-e.slides.length%a;h(u),e.recalcSlides(),e.updateSlides()}else Nr("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(l){if(t.loopAddBlankSlides){const u=t.grid.rows-e.slides.length%t.grid.rows;h(u),e.recalcSlides(),e.updateSlides()}else Nr("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function If(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:a,byMousewheel:o}=n===void 0?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:h,allowSlidePrev:u,allowSlideNext:c,slidesEl:f,params:d}=l,{centeredSlides:g}=d;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&d.virtual.enabled){t&&(!d.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):d.centeredSlides&&l.snapIndex<d.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=c,l.emit("loopFix");return}let p=d.slidesPerView;p==="auto"?p=l.slidesPerViewDynamic():(p=Math.ceil(parseFloat(d.slidesPerView,10)),g&&p%2===0&&(p=p+1));const b=d.slidesPerGroupAuto?p:d.slidesPerGroup;let y=b;y%b!==0&&(y+=b-y%b),y+=d.loopAdditionalSlides,l.loopedSlides=y;const T=l.grid&&d.grid&&d.grid.rows>1;h.length<p+y?Nr("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):T&&d.grid.fill==="row"&&Nr("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const w=[],E=[];let S=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(h.find(j=>j.classList.contains(d.slideActiveClass))):S=s;const L=i==="next"||!i,M=i==="prev"||!i;let O=0,_=0;const R=T?Math.ceil(h.length/d.grid.rows):h.length,H=(T?h[s].column:s)+(g&&typeof r>"u"?-p/2+.5:0);if(H<y){O=Math.max(y-H,b);for(let j=0;j<y-H;j+=1){const I=j-Math.floor(j/R)*R;if(T){const Y=R-I-1;for(let J=h.length-1;J>=0;J-=1)h[J].column===Y&&w.push(J)}else w.push(R-I-1)}}else if(H+p>R-y){_=Math.max(H-(R-y*2),b);for(let j=0;j<_;j+=1){const I=j-Math.floor(j/R)*R;T?h.forEach((Y,J)=>{Y.column===I&&E.push(J)}):E.push(I)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),M&&w.forEach(j=>{h[j].swiperLoopMoveDOM=!0,f.prepend(h[j]),h[j].swiperLoopMoveDOM=!1}),L&&E.forEach(j=>{h[j].swiperLoopMoveDOM=!0,f.append(h[j]),h[j].swiperLoopMoveDOM=!1}),l.recalcSlides(),d.slidesPerView==="auto"?l.updateSlides():T&&(w.length>0&&M||E.length>0&&L)&&l.slides.forEach((j,I)=>{l.grid.updateSlide(I,j,l.slides)}),d.watchSlidesProgress&&l.updateSlidesOffset(),t){if(w.length>0&&M){if(typeof e>"u"){const j=l.slidesGrid[S],Y=l.slidesGrid[S+O]-j;o?l.setTranslate(l.translate-Y):(l.slideTo(S+Math.ceil(O),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-Y,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-Y))}else if(r){const j=T?w.length/d.grid.rows:w.length;l.slideTo(l.activeIndex+j,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(E.length>0&&L)if(typeof e>"u"){const j=l.slidesGrid[S],Y=l.slidesGrid[S-_]-j;o?l.setTranslate(l.translate-Y):(l.slideTo(S-_,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-Y,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-Y))}else{const j=T?E.length/d.grid.rows:E.length;l.slideTo(l.activeIndex-j,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=c,l.controller&&l.controller.control&&!a){const j={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(I=>{!I.destroyed&&I.params.loop&&I.loopFix({...j,slideTo:I.params.slidesPerView===d.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...j,slideTo:l.controller.control.params.slidesPerView===d.slidesPerView?t:!1})}l.emit("loopFix")}function Df(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{t.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Ff={loopCreate:Bf,loopFix:If,loopDestroy:Df};function Nf(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function _f(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Vf={setGrabCursor:Nf,unsetGrabCursor:_f};function zf(n,e){e===void 0&&(e=this);function t(i){if(!i||i===di()||i===ht())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return!r&&!i.getRootNode?null:r||t(i.getRootNode().host)}return t(e)}function Qs(n,e,t){const i=ht(),{params:r}=n,s=r.edgeSwipeDetection,a=r.edgeSwipeThreshold;return s&&(t<=a||t>=i.innerWidth-a)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function jf(n){const e=this,t=di();let i=n;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Qs(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:o}=e;if(!o||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=i.target;if(s.touchEventsTarget==="wrapper"&&!Yc(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const h=!!s.noSwipingClass&&s.noSwipingClass!=="",u=i.composedPath?i.composedPath():i.path;h&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const c=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,f=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(f?zf(c,l):l.closest(c))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;const d=a.currentX,g=a.currentY;if(!Qs(e,i,d))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=d,a.startY=g,r.touchStartTime=Fr(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let p=!0;l.matches(r.focusableElements)&&(p=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(r.focusableElements))&&t.activeElement.blur();const b=p&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||b)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Hf(n){const e=di(),t=this,i=t.touchEventsData,{params:r,touches:s,rtlTranslate:a,enabled:o}=t;if(!o||!r.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let h;if(l.type==="touchmove"){if(h=[...l.changedTouches].find(L=>L.identifier===i.touchId),!h||h.identifier!==i.touchId)return}else h=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",l);return}const u=h.pageX,c=h.pageY;if(l.preventedByNestedSwiper){s.startX=u,s.startY=c;return}if(!t.allowTouchMove){l.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:u,startY:c,currentX:u,currentY:c}),i.touchStartTime=Fr());return}if(r.touchReleaseOnEdges&&!r.loop){if(t.isVertical()){if(c<s.startY&&t.translate<=t.maxTranslate()||c>s.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(u<s.startX&&t.translate<=t.maxTranslate()||u>s.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=c;const f=s.currentX-s.startX,d=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(f**2+d**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let L;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:f*f+d*d>=25&&(L=Math.atan2(Math.abs(d),Math.abs(f))*180/Math.PI,i.isScrolling=t.isHorizontal()?L>r.touchAngle:90-L>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let g=t.isHorizontal()?f:d,p=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(g=Math.abs(g)*(a?1:-1),p=Math.abs(p)*(a?1:-1)),s.diff=g,g*=r.touchRatio,a&&(g=-g,p=-p);const b=t.touchesDirection;t.swipeDirection=g>0?"prev":"next",t.touchesDirection=p>0?"prev":"next";const y=t.params.loop&&!r.cssMode,T=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(y&&T&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const L=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(L)}i.allowMomentumBounce=!1,r.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let w;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&b!==t.touchesDirection&&y&&T&&Math.abs(g)>=1){Object.assign(s,{startX:u,startY:c,currentX:u,currentY:c,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=g+i.startTranslate;let E=!0,S=r.resistanceRatio;if(r.touchReleaseOnEdges&&(S=0),g>0?(y&&T&&!w&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(r.slidesPerView!=="auto"&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(E=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+g)**S))):g<0&&(y&&T&&!w&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(r.slidesPerView!=="auto"&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(r.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(E=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-g)**S))),E&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(g)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Wf(n){const e=this,t=e.touchEventsData;let i=n;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(S=>S.identifier===t.touchId),!r||r.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:a,touches:o,rtlTranslate:l,slidesGrid:h,enabled:u}=e;if(!u||!a.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&a.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}a.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=Fr(),f=c-t.touchStartTime;if(e.allowClick){const S=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(S&&S[0]||i.target,S),e.emit("tap click",i),f<300&&c-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=Fr(),En(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||o.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let d;if(a.followFinger?d=l?e.translate:-e.translate:d=-t.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:d});return}const g=d>=-e.maxTranslate()&&!e.params.loop;let p=0,b=e.slidesSizesGrid[0];for(let S=0;S<h.length;S+=S<a.slidesPerGroupSkip?1:a.slidesPerGroup){const L=S<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof h[S+L]<"u"?(g||d>=h[S]&&d<h[S+L])&&(p=S,b=h[S+L]-h[S]):(g||d>=h[S])&&(p=S,b=h[h.length-1]-h[h.length-2])}let y=null,T=null;a.rewind&&(e.isBeginning?T=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const w=(d-h[p])/b,E=p<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(f>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(w>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?y:p+E):e.slideTo(p)),e.swipeDirection==="prev"&&(w>1-a.longSwipesRatio?e.slideTo(p+E):T!==null&&w<0&&Math.abs(w)>a.longSwipesRatio?e.slideTo(T):e.slideTo(p))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(p+E):e.slideTo(p):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:p+E),e.swipeDirection==="prev"&&e.slideTo(T!==null?T:p))}}function Js(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n,a=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const o=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!o?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!a?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function Uf(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Gf(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let r;const s=n.maxTranslate()-n.minTranslate();s===0?r=0:r=(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Yf(n){const e=this;Ar(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function $f(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const po=(n,e)=>{const t=di(),{params:i,el:r,wrapperEl:s,device:a}=n,o=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",h=e;!r||typeof r=="string"||(t[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:o}),r[l]("touchstart",n.onTouchStart,{passive:!1}),r[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("touchmove",n.onTouchMove,{passive:!1,capture:o}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:o}),t[l]("touchend",n.onTouchEnd,{passive:!0}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("touchcancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",n.onClick,!0),i.cssMode&&s[l]("scroll",n.onScroll),i.updateOnWindowResize?n[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Js,!0):n[h]("observerUpdate",Js,!0),r[l]("load",n.onLoad,{capture:!0}))};function Xf(){const n=this,{params:e}=n;n.onTouchStart=jf.bind(n),n.onTouchMove=Hf.bind(n),n.onTouchEnd=Wf.bind(n),n.onDocumentTouchStart=$f.bind(n),e.cssMode&&(n.onScroll=Gf.bind(n)),n.onClick=Uf.bind(n),n.onLoad=Yf.bind(n),po(n,"on")}function qf(){po(this,"off")}var Zf={attachEvents:Xf,detachEvents:qf};const ea=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Kf(){const n=this,{realIndex:e,initialized:t,params:i,el:r}=n,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=di(),o=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?n.el:a.querySelector(i.breakpointsBase),h=n.getBreakpoint(s,o,l);if(!h||n.currentBreakpoint===h)return;const c=(h in s?s[h]:void 0)||n.originalParams,f=ea(n,i),d=ea(n,c),g=n.params.grabCursor,p=c.grabCursor,b=i.enabled;f&&!d?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!f&&d&&(r.classList.add(`${i.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),g&&!p?n.unsetGrabCursor():!g&&p&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(L=>{if(typeof c[L]>"u")return;const M=i[L]&&i[L].enabled,O=c[L]&&c[L].enabled;M&&!O&&n[L].disable(),!M&&O&&n[L].enable()});const y=c.direction&&c.direction!==i.direction,T=i.loop&&(c.slidesPerView!==i.slidesPerView||y),w=i.loop;y&&t&&n.changeDirection(),ot(n.params,c);const E=n.params.enabled,S=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),b&&!E?n.disable():!b&&E&&n.enable(),n.currentBreakpoint=h,n.emit("_beforeBreakpoint",c),t&&(T?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!w&&S?(n.loopCreate(e),n.updateSlides()):w&&!S&&n.loopDestroy()),n.emit("breakpoint",c)}function Qf(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1;const r=ht(),s=e==="window"?r.innerHeight:t.clientHeight,a=Object.keys(n).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:s*l,point:o}}return{value:o,point:o}});a.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<a.length;o+=1){const{point:l,value:h}=a[o];e==="window"?r.matchMedia(`(min-width: ${h}px)`).matches&&(i=l):h<=t.clientWidth&&(i=l)}return i||"max"}var Jf={setBreakpoint:Kf,getBreakpoint:Qf};function ed(n,e){const t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):typeof i=="string"&&t.push(e+i)}),t}function td(){const n=this,{classNames:e,params:t,rtl:i,el:r,device:s}=n,a=ed(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),r.classList.add(...e),n.emitContainerClasses()}function id(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var rd={addClasses:td,removeClasses:id};function nd(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const r=n.slides.length-1,s=n.slidesGrid[r]+n.slidesSizesGrid[r]+i*2;n.isLocked=n.size>s}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var sd={checkOverflow:nd},Pn={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ad(n,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){ot(e,i);return}if(n[r]===!0&&(n[r]={enabled:!0}),r==="navigation"&&n[r]&&n[r].enabled&&!n[r].prevEl&&!n[r].nextEl&&(n[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&n[r]&&n[r].enabled&&!n[r].el&&(n[r].auto=!0),!(r in n&&"enabled"in s)){ot(e,i);return}typeof n[r]=="object"&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),ot(e,i)}}const on={eventsEmitter:rf,update:pf,translate:wf,transition:Tf,slide:Rf,loop:Ff,grabCursor:Vf,events:Zf,breakpoints:Jf,checkOverflow:sd,classes:rd},ln={};let Xn=class kt{constructor(){let e,t;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?t=r[0]:[e,t]=r,t||(t={}),t=ot({},t),e&&!t.el&&(t.el=e);const a=di();if(t.el&&typeof t.el=="string"&&a.querySelectorAll(t.el).length>1){const u=[];return a.querySelectorAll(t.el).forEach(c=>{const f=ot({},t,{el:c});u.push(new kt(f))}),u}const o=this;o.__swiper__=!0,o.support=uo(),o.device=co({userAgent:t.userAgent}),o.browser=Jc(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);const l={};o.modules.forEach(u=>{u({params:t,swiper:o,extendParams:ad(t,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const h=ot({},Pn,l);return o.params=ot({},h,ln,t),o.originalParams=ot({},o.params),o.passedParams=ot({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach(u=>{o.on(u,o.params.on[u])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,r=Lt(t,`.${i.slideClass}, swiper-slide`),s=qs(r[0]);return qs(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=Lt(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),a=(i.maxTranslate()-r)*e+r;i.translateTo(a,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:r,slides:s,slidesGrid:a,slidesSizesGrid:o,size:l,activeIndex:h}=i;let u=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let c=s[h]?Math.ceil(s[h].swiperSlideSize):0,f;for(let d=h+1;d<s.length;d+=1)s[d]&&!f&&(c+=Math.ceil(s[d].swiperSlideSize),u+=1,c>l&&(f=!0));for(let d=h-1;d>=0;d-=1)s[d]&&!f&&(c+=s[d].swiperSlideSize,u+=1,c>l&&(f=!0))}else if(e==="current")for(let c=h+1;c<s.length;c+=1)(t?a[c]+o[c]-a[h]<l:a[c]-a[h]<l)&&(u+=1);else for(let c=h-1;c>=0;c-=1)a[h]-a[c]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Ar(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const a=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Lt(i,r())[0])();return!a&&t.params.createElements&&(a=_r("div",t.params.wrapperClass),i.append(a),Lt(i,`.${t.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(t,{el:i,wrapperEl:a,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||$t(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||$t(i,"direction")==="rtl"),wrongRTL:$t(a,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const r=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&r.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?Ar(t,s):s.addEventListener("load",a=>{Ar(t,a.target)})}),Ln(t),t.initialized=!0,Ln(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:r,el:s,wrapperEl:a,slides:o}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),a&&a.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),jc(i)),i.destroyed=!0),null}static extendDefaults(e){ot(ln,e)}static get extendedDefaults(){return ln}static get defaults(){return Pn}static installModule(e){kt.prototype.__modules__||(kt.prototype.__modules__=[]);const t=kt.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>kt.installModule(t)),kt):(kt.installModule(e),kt)}};Object.keys(on).forEach(n=>{Object.keys(on[n]).forEach(e=>{Xn.prototype[e]=on[n][e]})});Xn.use([ef,tf]);const go=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function fi(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Oi(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:fi(e[i])&&fi(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:Oi(n[i],e[i]):n[i]=e[i]})}function mo(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function vo(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function yo(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function bo(n){n===void 0&&(n="");const e=n.split(" ").map(i=>i.trim()).filter(i=>!!i),t=[];return e.forEach(i=>{t.indexOf(i)<0&&t.push(i)}),t.join(" ")}function od(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function ld(n){let{swiper:e,slides:t,passedParams:i,changedParams:r,nextEl:s,prevEl:a,scrollbarEl:o,paginationEl:l}=n;const h=r.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:u,pagination:c,navigation:f,scrollbar:d,virtual:g,thumbs:p}=e;let b,y,T,w,E,S,L,M;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(b=!0),r.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(y=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||u.pagination===!1)&&c&&!c.el&&(T=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&d&&!d.el&&(w=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||a)&&(i.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(E=!0);const O=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),u[_].prevEl=void 0,u[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),u[_].el=void 0,e[_].el=void 0))};r.includes("loop")&&e.isElement&&(u.loop&&!i.loop?S=!0:!u.loop&&i.loop?L=!0:M=!0),h.forEach(_=>{if(fi(u[_])&&fi(i[_]))Object.assign(u[_],i[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in i[_]&&!i[_].enabled&&O(_);else{const R=i[_];(R===!0||R===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?R===!1&&O(_):u[_]=i[_]}}),h.includes("controller")&&!y&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),r.includes("children")&&t&&g&&u.virtual.enabled?(g.slides=t,g.update(!0)):r.includes("virtual")&&g&&u.virtual.enabled&&(t&&(g.slides=t),g.update(!0)),r.includes("children")&&t&&u.loop&&(M=!0),b&&p.init()&&p.update(!0),y&&(e.controller.control=u.controller.control),T&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),c.init(),c.render(),c.update()),w&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(u.scrollbar.el=o),d.init(),d.updateSize(),d.setTranslate()),E&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),s&&(u.navigation.nextEl=s),a&&(u.navigation.prevEl=a),f.init(),f.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(S||M)&&e.loopDestroy(),(L||M)&&e.loopCreate(),e.update()}function hd(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},i={},r={};Oi(t,Pn),t._emitClasses=!0,t.init=!1;const s={},a=go.map(l=>l.replace(/_/,"")),o=Object.assign({},n);return Object.keys(o).forEach(l=>{typeof n[l]>"u"||(a.indexOf(l)>=0?fi(n[l])?(t[l]={},r[l]={},Oi(t[l],n[l]),Oi(r[l],n[l])):(t[l]=n[l],r[l]=n[l]):l.search(/on[A-Z]/)===0&&typeof n[l]=="function"?e?i[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:t.on[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:s[l]=n[l])}),["navigation","pagination","scrollbar"].forEach(l=>{t[l]===!0&&(t[l]={}),t[l]===!1&&delete t[l]}),{params:t,passedParams:r,rest:s,events:i}}function ud(n,e){let{el:t,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:a,swiper:o}=n;mo(e)&&i&&r&&(o.params.navigation.nextEl=i,o.originalParams.navigation.nextEl=i,o.params.navigation.prevEl=r,o.originalParams.navigation.prevEl=r),vo(e)&&s&&(o.params.pagination.el=s,o.originalParams.pagination.el=s),yo(e)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(t)}function cd(n,e,t,i,r){const s=[];if(!e)return s;const a=l=>{s.indexOf(l)<0&&s.push(l)};if(t&&i){const l=i.map(r),h=t.map(r);l.join("")!==h.join("")&&a("children"),i.length!==t.length&&a("children")}return go.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in n&&l in e)if(fi(n[l])&&fi(e[l])){const h=Object.keys(n[l]),u=Object.keys(e[l]);h.length!==u.length?a(l):(h.forEach(c=>{n[l][c]!==e[l][c]&&a(l)}),u.forEach(c=>{n[l][c]!==e[l][c]&&a(l)}))}else n[l]!==e[l]&&a(l)}),s}const fd=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Vr(){return Vr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vr.apply(this,arguments)}function wo(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function So(n){const e=[];return Te.Children.toArray(n).forEach(t=>{wo(t)?e.push(t):t.props&&t.props.children&&So(t.props.children).forEach(i=>e.push(i))}),e}function dd(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Te.Children.toArray(n).forEach(i=>{if(wo(i))e.push(i);else if(i.props&&i.props.slot&&t[i.props.slot])t[i.props.slot].push(i);else if(i.props&&i.props.children){const r=So(i.props.children);r.length>0?r.forEach(s=>e.push(s)):t["container-end"].push(i)}else t["container-end"].push(i)}),{slides:e,slots:t}}function pd(n,e,t){if(!t)return null;const i=u=>{let c=u;return u<0?c=e.length+u:c>=e.length&&(c=c-e.length),c},r=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:s,to:a}=t,o=n.params.loop?-e.length:0,l=n.params.loop?e.length*2:e.length,h=[];for(let u=o;u<l;u+=1)u>=s&&u<=a&&h.push(e[i(u)]);return h.map((u,c)=>Te.cloneElement(u,{swiper:n,style:r,key:u.props.virtualIndex||u.key||`slide-${c}`}))}function Ji(n,e){return typeof window>"u"?W.useEffect(n,e):W.useLayoutEffect(n,e)}const ta=W.createContext(null),gd=W.createContext(null),xo=W.forwardRef(function(n,e){let{className:t,tag:i="div",wrapperTag:r="div",children:s,onSwiper:a,...o}=n===void 0?{}:n,l=!1;const[h,u]=W.useState("swiper"),[c,f]=W.useState(null),[d,g]=W.useState(!1),p=W.useRef(!1),b=W.useRef(null),y=W.useRef(null),T=W.useRef(null),w=W.useRef(null),E=W.useRef(null),S=W.useRef(null),L=W.useRef(null),M=W.useRef(null),{params:O,passedParams:_,rest:R,events:z}=hd(o),{slides:H,slots:j}=dd(s),I=()=>{g(!d)};Object.assign(O.on,{_containerClasses(re,pe){u(pe)}});const Y=()=>{Object.assign(O.on,z),l=!0;const re={...O};if(delete re.wrapperClass,y.current=new Xn(re),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=H;const pe={cache:!1,slides:H,renderExternal:f,renderExternalUpdate:!1};Oi(y.current.params.virtual,pe),Oi(y.current.originalParams.virtual,pe)}};b.current||Y(),y.current&&y.current.on("_beforeBreakpoint",I);const J=()=>{l||!z||!y.current||Object.keys(z).forEach(re=>{y.current.on(re,z[re])})},fe=()=>{!z||!y.current||Object.keys(z).forEach(re=>{y.current.off(re,z[re])})};W.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",I)}),W.useEffect(()=>{!p.current&&y.current&&(y.current.emitSlidesClasses(),p.current=!0)}),Ji(()=>{if(e&&(e.current=b.current),!!b.current)return y.current.destroyed&&Y(),ud({el:b.current,nextEl:E.current,prevEl:S.current,paginationEl:L.current,scrollbarEl:M.current,swiper:y.current},O),a&&!y.current.destroyed&&a(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),Ji(()=>{J();const re=cd(_,T.current,H,w.current,pe=>pe.key);return T.current=_,w.current=H,re.length&&y.current&&!y.current.destroyed&&ld({swiper:y.current,slides:H,passedParams:_,changedParams:re,nextEl:E.current,prevEl:S.current,scrollbarEl:M.current,paginationEl:L.current}),()=>{fe()}}),Ji(()=>{fd(y.current)},[c]);function Ie(){return O.virtual?pd(y.current,H,c):H.map((re,pe)=>Te.cloneElement(re,{swiper:y.current,swiperSlideIndex:pe}))}return Te.createElement(i,Vr({ref:b,className:bo(`${h}${t?` ${t}`:""}`)},R),Te.createElement(gd.Provider,{value:y.current},j["container-start"],Te.createElement(r,{className:od(O.wrapperClass)},j["wrapper-start"],Ie(),j["wrapper-end"]),mo(O)&&Te.createElement(Te.Fragment,null,Te.createElement("div",{ref:S,className:"swiper-button-prev"}),Te.createElement("div",{ref:E,className:"swiper-button-next"})),yo(O)&&Te.createElement("div",{ref:M,className:"swiper-scrollbar"}),vo(O)&&Te.createElement("div",{ref:L,className:"swiper-pagination"}),j["container-end"]))});xo.displayName="Swiper";const Co=W.forwardRef(function(n,e){let{tag:t="div",children:i,className:r="",swiper:s,zoom:a,lazy:o,virtualIndex:l,swiperSlideIndex:h,...u}=n===void 0?{}:n;const c=W.useRef(null),[f,d]=W.useState("swiper-slide"),[g,p]=W.useState(!1);function b(E,S,L){S===c.current&&d(L)}Ji(()=>{if(typeof h<"u"&&(c.current.swiperSlideIndex=h),e&&(e.current=c.current),!(!c.current||!s)){if(s.destroyed){f!=="swiper-slide"&&d("swiper-slide");return}return s.on("_slideClass",b),()=>{s&&s.off("_slideClass",b)}}}),Ji(()=>{s&&c.current&&!s.destroyed&&d(s.getSlideClasses(c.current))},[s]);const y={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},T=()=>typeof i=="function"?i(y):i,w=()=>{p(!0)};return Te.createElement(t,Vr({ref:c,className:bo(`${f}${r?` ${r}`:""}`),"data-swiper-slide-index":l,onLoad:w},u),a&&Te.createElement(ta.Provider,{value:y},Te.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},T(),o&&!g&&Te.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&Te.createElement(ta.Provider,{value:y},T(),o&&!g&&Te.createElement("div",{className:"swiper-lazy-preloader"})))});Co.displayName="SwiperSlide";function md(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(r=>{if(!t[r]&&t.auto===!0){let s=Lt(n.el,`.${i[r]}`)[0];s||(s=_r("div",i[r]),s.className=i[r],n.el.append(s)),t[r]=s,e[r]=s}}),t}function vd(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(g){let p;return g&&typeof g=="string"&&e.isElement&&(p=e.el.querySelector(g)||e.hostEl.querySelector(g),p)?p:(g&&(typeof g=="string"&&(p=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&p&&p.length>1&&e.el.querySelectorAll(g).length===1?p=e.el.querySelector(g):p&&p.length===1&&(p=p[0])),g&&!p?g:p)}function a(g,p){const b=e.params.navigation;g=Mt(g),g.forEach(y=>{y&&(y.classList[p?"add":"remove"](...b.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=p),e.params.watchOverflow&&e.enabled&&y.classList[e.isLocked?"add":"remove"](b.lockClass))})}function o(){const{nextEl:g,prevEl:p}=e.navigation;if(e.params.loop){a(p,!1),a(g,!1);return}a(p,e.isBeginning&&!e.params.rewind),a(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function h(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function u(){const g=e.params.navigation;if(e.params.navigation=md(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let p=s(g.nextEl),b=s(g.prevEl);Object.assign(e.navigation,{nextEl:p,prevEl:b}),p=Mt(p),b=Mt(b);const y=(T,w)=>{T&&T.addEventListener("click",w==="next"?h:l),!e.enabled&&T&&T.classList.add(...g.lockClass.split(" "))};p.forEach(T=>y(T,"next")),b.forEach(T=>y(T,"prev"))}function c(){let{nextEl:g,prevEl:p}=e.navigation;g=Mt(g),p=Mt(p);const b=(y,T)=>{y.removeEventListener("click",T==="next"?h:l),y.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(y=>b(y,"next")),p.forEach(y=>b(y,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?d():(u(),o())}),i("toEdge fromEdge lock unlock",()=>{o()}),i("destroy",()=>{c()}),i("enable disable",()=>{let{nextEl:g,prevEl:p}=e.navigation;if(g=Mt(g),p=Mt(p),e.enabled){o();return}[...g,...p].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),i("click",(g,p)=>{let{nextEl:b,prevEl:y}=e.navigation;b=Mt(b),y=Mt(y);const T=p.target;let w=y.includes(T)||b.includes(T);if(e.isElement&&!w){const E=p.path||p.composedPath&&p.composedPath();E&&(w=E.find(S=>b.includes(S)||y.includes(S)))}if(e.params.navigation.hideOnClick&&!w){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===T||e.pagination.el.contains(T)))return;let E;b.length?E=b[0].classList.contains(e.params.navigation.hiddenClass):y.length&&(E=y[0].classList.contains(e.params.navigation.hiddenClass)),r(E===!0?"navigationShow":"navigationHide"),[...b,...y].filter(S=>!!S).forEach(S=>S.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),o()},d=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),c()};Object.assign(e.navigation,{enable:f,disable:d,update:o,init:u,destroy:c})}na("div")(({theme:n})=>({".e-carousel .e-carousel-indicators":{display:"flex",alignItems:"end",justifyContent:"end",width:"100%"},".e-carousel .e-carousel-indicators .e-indicator-bars":{position:"absolute",top:"80%",right:"0%"},".e-carousel-indicators .e-indicator-bars .e-active button div":{backgroundColor:`${n.palette.primary.main}!important`,border:"none!important"},".e-carousel .e-carousel-item div":{display:"flex",justifyContent:"space-between",alignItems:"center",height:"76%",flexWrap:"wrap",alignContent:"stretch"}}));function yd({dataStock:n,itemTemplate:e,isLoading:t}){const{t:i,i18n:r}=mt();return Rn(),C.jsx(Fe,{item:!0,xs:12,lg:4,className:"cardStock",children:C.jsx(Kt,{direction:"row",sx:{backgroundColor:s=>s.palette.mode==="dark"?"neutral.800":"neutral.100",borderRadius:2.5,px:3,py:2,height:"100%"},children:C.jsxs("div",{className:"w-full relative",children:[C.jsx("img",{src:"/assets/iconly/iconly-glass-chart.svg",alt:"",className:"absolute left-2 top-[-12px] z-0 opacity-30"}),C.jsxs(we,{color:"text.main",variant:"body1",alignItems:"center",mb:.5,children:[C.jsx(sh,{color:"primary"}),i(ce.global.currentStock)]}),C.jsxs(Kt,{direction:"row",alignItems:"center",children:[C.jsx(We,{className:"swiper-button image-swiper-button-prev",children:C.jsx(rh,{})}),t?C.jsx(Fe,{container:!0,children:[...Array(4)].map(s=>C.jsxs(Fe,{item:!0,xs:6,children:[C.jsxs(we,{variant:"subtitle2",fontWeight:400,children:[C.jsx(Qn,{width:50,animation:"wave",variant:"text"})," "]}),C.jsxs(we,{variant:"subtitle1",fontWeight:600,children:[C.jsx(Qn,{width:50,animation:"wave",variant:"text"})," "]})]}))}):C.jsx(xo,{navigation:{nextEl:".image-swiper-button-next",prevEl:".image-swiper-button-prev",disabledClass:"swiper-button-disabled"},modules:[vd],spaceBetween:100,breakpoints:{640:{spaceBetween:100}},children:n.map(s=>C.jsx(Co,{children:C.jsx(Fe,{container:!0,columnSpacing:8,children:s.item.map(a=>C.jsxs(Fe,{item:!0,xs:6,children:[C.jsx(we,{variant:"subtitle2",whiteSpace:"nowrap",fontWeight:400,children:a.egg_class}),C.jsx(we,{variant:"subtitle1",whiteSpace:"nowrap",fontWeight:600,children:a.total_quantity.toLocaleString("en-US").replaceAll(","," ")})]}))})}))}),C.jsx(We,{className:"swiper-button image-swiper-button-next",children:C.jsx(nh,{})})]})]})})})}function bd({debtRatio:n}){const{t:e}=mt();return C.jsx(Fe,{item:!0,xs:12,md:6,lg:4,className:"cardTaux",children:C.jsx(Kt,{alignItems:"center",direction:"row",spacing:2,sx:{backgroundColor:t=>t.palette.mode==="dark"?"neutral.800":"neutral.100",borderRadius:2.5,px:3,py:4,height:"100%"},children:C.jsxs("div",{className:"flex justify-between items-center w-full relative",children:[C.jsx("img",{src:"/assets/iconly/iconly-glass-discount.svg",alt:"",className:"absolute left-2 top-[-12px] z-0 opacity-30"}),C.jsxs("div",{className:"w-[100%]",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsxs(we,{mr:1,color:"text.main",variant:"body1",alignItems:"center",mb:.5,children:[e(ce.dashboard.debtRatio),":"," "]})," ",C.jsxs(we,{variant:"strong",fontSize:20,fontWeight:600,children:[n||0," %"]})]}),C.jsx("svg",{width:0,height:0,children:C.jsx("defs",{children:C.jsxs("linearGradient",{id:"my_gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[C.jsx("stop",{offset:"0%",stopColor:"#e01cd5"}),C.jsx("stop",{offset:"100%",stopColor:"#1CB5E0"})]})})}),C.jsx(zo,{variant:"determinate",value:n,sx:{height:"10px",borderRadius:"50px",mt:2,background:n>100?"linear-gradient(to right, #FF0000, #FF6347)":"linear-gradient(to right, #e01cd5, #1CB5E0)","& .MuiLinearProgress-bar":{background:n>100?"linear-gradient(to right, #FF0000, #FF6347)":"linear-gradient(to right, #e01cd5, #1CB5E0)"}}})]})]})})})}function wd({eggPrice:n,price:e,handlePriceChange:t,handleSubmit:i}){const{t:r}=mt();return C.jsx(Fe,{item:!0,xs:12,md:6,lg:4,className:"cardPrice",children:C.jsx(Kt,{alignItems:"center",direction:"row",spacing:2,sx:{backgroundColor:s=>s.palette.mode==="dark"?"neutral.800":"neutral.100",borderRadius:2.5,px:3,py:4,height:"100%"},children:C.jsxs("div",{className:"flex justify-between w-full relative",children:[C.jsx("img",{src:"/assets/iconly/iconly-glass-tick.svg",alt:"",className:"absolute left-[-5px] top-0 z-0 opacity-30"}),C.jsxs(Fe,{container:!0,alignItems:"center",style:{height:"100%"},zIndex:100,children:[C.jsxs(Fe,{item:!0,xs:12,md:6,children:[C.jsxs(we,{mb:2,color:"text.main",variant:"body1",alignItems:"center",children:[r(ce.dashboard.eggsPriceInEntrepriseToday)," "]}),C.jsxs(we,{component:"p",fontWeight:"600",fontSize:20,children:[n==null?void 0:n.entreprise_price,"MAD"," "]})]}),C.jsxs(Fe,{item:!0,xs:12,md:6,children:[C.jsx(we,{variant:"h6",mb:2}),C.jsx("form",{onSubmit:i,children:C.jsxs(Fe,{container:!0,children:[C.jsx(Fe,{item:!0,xs:8,children:C.jsx(jo,{variant:"standard",value:e,onChange:t,id:"standard-start-adornment",label:r(ce.dashboard.eggsPriceInMarket),slotProps:{input:{startAdornment:C.jsx(Ho,{position:"start",children:C.jsx(gs,{})})}}})}),C.jsx(Fe,{item:!0,xs:4,color:"white",className:"priceInMarket",children:C.jsx(We,{color:"inherit",type:"submit",sx:{background:s=>s.palette.primary.main,margin:"4px!important","&:hover":{background:s=>s.palette.success.main,opacity:"0.9"}},children:C.jsx(gs,{})})})]})})]})]})]})})})}function Sd({stock:n,isLoading:e,debtRatio:t,isEggPriceLoaing:i,eggPrice:r,balance:s}){const[a,o]=W.useState([]),[l,h]=W.useState(0),[u,c]=W.useState(0),[f,d]=W.useState(!1),{t:g,i18n:p}=mt();JSON.parse(sessionStorage.getItem("user"));const b=E=>{var S;return(S=E==null?void 0:E.item)==null?void 0:S.map(L=>C.jsx(Fe,{item:!0,xs:12,lg:6,children:C.jsxs("div",{className:"text-base",dir:"ltr",children:[C.jsxs("strong",{children:[L==null?void 0:L.egg_class,": "]}),C.jsxs("p",{className:"ml-1",children:["  ",L==null?void 0:L.total_quantity.toLocaleString("en-US").replaceAll(","," ")]})]})}))},y=E=>{h(E.target.value)},T=E=>{E.preventDefault(),l!==0&&d(!0)},w=()=>{c(l),nt.post("/dashboard/marketprice/add/",{market_price:l}).then(E=>{d(!1),Kn.success(g(ce.global.toastAddPriceSuccess))}).catch(E=>{Kn.error(g(ce.batiment.toastError))})};return W.useEffect(()=>{if(!e){let E=[],S=(n==null?void 0:n.total_stock.length)>8?3:(n==null?void 0:n.total_stock.length)<=8&&(n==null?void 0:n.total_stock.length)>4?2:1,L=0;[...Array(S)].map((M,O)=>{E.push({item:n==null?void 0:n.total_stock.slice(L,L+4)}),L+=4}),o(E)}i||(h(r==null?void 0:r.market_price),c(r==null?void 0:r.market_price))},[e]),C.jsxs(C.Fragment,{children:[C.jsx(Jl,{isLoading:e}),C.jsxs(Fe,{container:!0,spacing:2,children:[C.jsx(yd,{dataStock:a,itemTemplate:b,isLoading:e}),C.jsx(bd,{debtRatio:t}),C.jsx(wd,{eggPrice:r,price:l,handlePriceChange:y,handleSubmit:T})]}),C.jsx(Ql,{confirmed:w,isConfirm:f,cancel:()=>d(!1)})]})}const xd=n=>{const{entrer:e,isLoading:t}=n,{t:i,i18n:r}=mt(),s=JSON.parse(sessionStorage.getItem("user")),[a,o]=W.useState(0),[l,h]=W.useState(25),[u,c]=W.useState(),[f,d]=W.useState(!1),[g,p]=W.useState(!0),[b,y]=W.useState(0);let[T,w]=W.useState();const E=()=>{y(R=>R+1)},S=(R,z)=>{o(z)},L=R=>{h(parseInt(R.target.value,10)),o(0)},M=W.useMemo(()=>u==null?void 0:u.slice(a*l,a*l+l),[u,a,l]),O=()=>{g?(d(!0),w(setTimeout(()=>E(),12e4))):(clearTimeout(T),y(R=>R+1))},_=R=>{R&&(c([...R]),p(!g),d(!1))};return W.useEffect(()=>{t||c(e)},[t]),C.jsxs(C.Fragment,{children:[C.jsxs(_i,{className:"batimentStock",children:[C.jsx(Vi,{sx:{padding:1},title:s!=null&&s.is_eleveur?i(ce.dashboard.transactionPerEggSource):i(ce.dashboard.transactionPerSupplier),avatar:C.jsx(We,{onClick:()=>O(),children:C.jsx(_n,{})})}),C.jsx(Bn,{children:C.jsx(In,{sx:{minWidth:300,height:"auto"},children:t?C.jsx(Nn,{rowsNum:5}):C.jsx(Dn,{children:(e==null?void 0:e.length)>0?M==null?void 0:M.map((R,z)=>{const H=R.name.split(" ");return C.jsxs(Ri,{hover:!0,children:[C.jsx(gt,{children:C.jsxs(Kt,{alignItems:"center",direction:"row",spacing:2,children:[C.jsx(kn,{sx:{bgcolor:j=>j.palette.primary.main,color:"#fff"},children:s.is_eleveur?H.length>1?`${H[0][0]} ${H[1][0]}`:`${H[0][0]} ${H[0][H.length-1]}`:`${R.name[0]} ${R.last_name[0]}`}),C.jsx("div",{children:C.jsxs(we,{variant:"subtitle2",children:[R.name," ",!s.is_eleveur&&R.last_name]})})]})}),C.jsxs(gt,{children:[C.jsx(we,{color:"success.main",variant:"subtitle2",children:isNaN(R.total_stock)?R.total_stock:R.total_stock.toLocaleString("en-US").replaceAll(","," ")}),C.jsx(we,{color:"text.secondary",noWrap:!0,variant:"body2",children:i(ce.dashboard.transaction)})]}),C.jsx(gt,{align:"right",children:C.jsx(zr,{sx:{backgroundColor:j=>j.palette.mode==="dark"?"neutral.700":"neutral.200",borderRadius:1.5,px:1,py:.5,display:"inline-block"},children:C.jsxs(we,{variant:"subtitle2",children:["#",z+1]})})})]},R.id)}):C.jsx(Ri,{children:C.jsx(gt,{colSpan:10,sx:{textAlign:"center"},children:i(ce.magazin.nothingToDisplay)})})})})}),C.jsx(eh,{sx:{justifyContent:"flex-end"},children:C.jsx(th,{component:"div",count:e==null?void 0:e.length,onPageChange:S,onRowsPerPageChange:L,page:a,rowsPerPage:l,rowsPerPageOptions:[5,10,25],labelRowsPerPage:i(ce.magazin.Lignes),labelDisplayedRows:({from:R,to:z,count:H})=>`${R}–${z} ${i(ce.magazin.sur)} ${e==null?void 0:e.length}`})})]}),C.jsx(Gn,{isOpen:f,show:g,onSuccess:_,onClose:()=>d(!1),uri:"/dashboard/inbound/",uniqueKey:b})]})},Cd=({handleFilter:n,handleScreen:e,handleTypeChart:t})=>{const[i,r]=W.useState(null),[s,a]=W.useState("30j"),[o,l]=W.useState(!1),h=!!i,u=d=>{r(d.currentTarget)},c=d=>{r(null),n(d),isNaN(d)?a(d):a(`${d}j`)},f=()=>{l(!o),t(o)};return C.jsxs(la,{direction:"row",spacing:2,children:[C.jsxs("div",{children:[C.jsxs(aa,{variant:"contained",id:"basic-button","aria-controls":h?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":h?"true":void 0,onClick:u,sx:{p:1.2},className:"filterBtnByDay",children:[s," ",C.jsx(Ma,{})]}),C.jsxs(oa,{id:"basic-menu",anchorEl:i,open:h,onClose:()=>r(null),MenuListProps:{"aria-labelledby":"basic-button"},children:[C.jsx(Mi,{onClick:()=>c(30),children:"30j"}),C.jsx(Mi,{onClick:()=>c(90),children:"90j"}),C.jsx(Mi,{onClick:()=>c("MAX"),children:"MAX"})]})]}),C.jsx(We,{onClick:e,className:"fullPage",children:C.jsx(Ra,{})}),C.jsx(We,{onClick:f,className:"typeChart",children:o?C.jsx(Ba,{}):C.jsx(Oa,{})})]})},To=n=>{const{prices:e,isLoading:t,filterChart:i}=n,[r,s]=W.useState(30),{isFullScreenEggChart:a}=jr(E=>E.dashboard),o=W.useMemo(()=>t?[[],[]]:[[...e==null?void 0:e.map(S=>({x:new Date(S.date),y:S.entreprise_price})),...Array.from({length:0}).map((S,L)=>{const M=new Date(new Date);return{x:M.setDate(M.getDate()+L)+L,y:Math.random()*2}})],[...e==null?void 0:e.map(S=>({x:new Date(S.date),y:S.market_price})),...Array.from({length:0}).map((S,L)=>{const M=new Date(new Date);return{x:M.setDate(M.getDate()+L)+L,y:Math.random()*2}})]],[t,r]),{t:l,i18n:h}=mt(),u=Ni(),c=Rn(),f=[c.palette.primary.main,c.palette.warning.main],[d,g]=W.useState(!0),p={labelIntersectAction:"Rotate45",valueType:"DateTime",edgeLabelPlacement:"Shift",labelFormat:"y-MM-dd",intervalType:"Days",interval:o[0].length<5?0:5,majorGridLines:{width:0},minorGridLines:{width:0},lineStyle:{width:.5,color:"gray"},labelStyle:{color:c.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:c.palette.text.secondary}},b={labelFormat:"n2",majorGridLines:{width:.5,color:"gray",dashArray:"2,2"},lineStyle:{width:0},title:l(ce.dashboard.eggPrice),labelStyle:{color:c.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:c.palette.text.secondary}},y=E=>{s(E),i(E)},T=()=>{u(Hr.actions.setFullScreenEggChart())},w=E=>{g(E)};return C.jsxs(_i,{className:"chartPrice",children:[C.jsx(Vi,{title:!a&&l(ce.dashboard.eggsChartTtitle),action:C.jsx(Cd,{handleFilter:y,handleScreen:T,handleTypeChart:w})}),C.jsx(Vn,{sx:{pt:2,position:"relative"},children:C.jsxs(Un,{id:"charts",primaryXAxis:{...p},primaryYAxis:b,chartArea:{border:{width:0}},tooltip:{enable:!0,shared:!0},legendSettings:{visible:!0,textStyle:{color:c.palette.text.secondary},enableHighlight:!0},titleStyle:{color:c.palette.text.secondary,fontSize:"20px",fontWeight:"bold",textAlignment:"Center"},children:[C.jsx(Ea,{services:[ja,Ha,Ga,Wa,Ua,za,Va]}),C.jsxs(Da,{children:[C.jsx(Mr,{dataSource:o[0],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:l(ce.dashboard.eggsPriceInEntreprise),type:d?"Line":"Column",fill:f[0]}),C.jsx(Mr,{dataSource:o[1],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:l(ce.dashboard.eggsPriceInMarket),type:d?"Line":"Column",fill:f[1]})]})]})})]})};To.propTypes={chartSeries:Wo.array.isRequired};const Td=n=>{let{fournisseur:e,isLoading:t}=n;const i=Ni(),r=W.useRef(null),{t:s,i18n:a}=mt(),[o,l]=W.useState(1),[h,u]=W.useState(25),[c,f]=W.useState(),[d,g]=W.useState(!1),[p,b]=W.useState(!0),[y,T]=W.useState(0),[w,E]=W.useState(),[S,L]=W.useState(!1),M=W.useRef(null),O=()=>{T(I=>I+1)},_=W.useMemo(()=>c==null?void 0:c.slice(0,o*h),[c,o,h]),R=()=>{p?(E(setTimeout(()=>O(),12e4)),g(!0)):(clearTimeout(w),T(I=>I+1))},z=I=>{I&&(f([...I]),b(!p),g(!1))},H=I=>{L(!0),nt.get(`/dashboard/fullsuppliersituation/${I}/`).then(Y=>{i(cr.actions.fetchSituationFournisseur([Y.data.suppliersituation])),i(cr.actions.fetchFournisseurSituationDetails({data:Y.data,isFilter:!1})),i(cr.actions.setFournisseurSituationForOneFournisseur({id:I})),i(cr.actions.setCurrentData(I)),L(!1)})},j=()=>{const I=M.current;I&&I.scrollHeight===I.scrollTop+I.clientHeight&&!t&&l(J=>J+1)};return W.useEffect(()=>(t||f(e),M.current&&M.current.addEventListener("scroll",j),()=>{M.current&&M.current.removeEventListener("scroll",j)}),[t]),C.jsxs(C.Fragment,{children:[S&&C.jsx(sa,{}),C.jsxs(_i,{children:[C.jsx(Vi,{sx:{padding:1},title:s(ce.dashboard.transactionPerSupplier),avatar:C.jsx(We,{onClick:()=>R(),children:C.jsx(_n,{})})}),C.jsx(Bn,{children:C.jsx(In,{sx:{minWidth:300,maxHeight:"50vh"},ref:M,children:t?C.jsx(Nn,{rowsNum:5}):C.jsx(Dn,{ref:r,children:(c==null?void 0:c.length)>0?_==null?void 0:_.map((I,Y)=>{const J=new Intl.NumberFormat("EN-us",{style:"currency",currency:"MAD"});return C.jsxs(Ri,{hover:!0,children:[C.jsx(gt,{children:C.jsxs(Kt,{alignItems:"center",direction:"row",spacing:2,children:[C.jsxs(kn,{sx:{bgcolor:fe=>fe.palette.primary.main,color:"#fff"},children:[I.name[0]," ",I.last_name[0]]}),C.jsx("div",{children:C.jsxs(we,{variant:"subtitle2",children:[I.name," ",I.last_name]})})]})}),C.jsxs(gt,{children:[C.jsx(we,{color:(!isNaN(I.final_confirmed_sold)&&I.final_confirmed_sold)<0?"error.main":"success.main",variant:"subtitle2",sx:{direction:"initial",whiteSpace:"nowrap"},children:isNaN(I.final_confirmed_sold)?I.final_confirmed_sold:J.format(I.final_confirmed_sold).replaceAll(","," ").replace("MAD","")+" "+s(ce.global.mad)}),C.jsx(we,{color:"text.secondary",noWrap:!0,variant:"body2",children:s(ce.situationCliente.debt)})]}),C.jsxs(gt,{align:"right",children:[C.jsx(We,{color:"success",disabled:isNaN(I.final_confirmed_sold),onClick:()=>H(I.eggsource_id),children:C.jsx(ka,{})}),C.jsx(zr,{sx:{backgroundColor:fe=>fe.palette.mode==="dark"?"neutral.700":"neutral.200",borderRadius:1.5,px:1,py:.5,display:"inline-block"},children:C.jsxs(we,{variant:"subtitle2",children:["#",Y+1]})})]})]},Y)}):C.jsx(Ri,{children:C.jsx(gt,{colSpan:10,sx:{textAlign:"center"},children:s(ce.magazin.nothingToDisplay)})})})})})]}),C.jsx(Gn,{isOpen:d,show:p,onSuccess:z,onClose:()=>g(!1),uri:"/dashboard/suppliersituation/",uniqueKey:y}),C.jsx(ih,{})]})},Ad=({handleFilter:n,handleScreen:e,handleTypeChart:t,handlePrint:i})=>{const[r,s]=W.useState(null),[a,o]=W.useState("30j"),[l,h]=W.useState(!1),u=!!r,c=g=>{s(g.currentTarget)},f=g=>{s(null),n(g),isNaN(g)?o(g):o(`${g}j`)},d=()=>{h(!l),t(l)};return C.jsxs(la,{direction:"row",spacing:2,children:[C.jsxs("div",{children:[C.jsxs(aa,{variant:"contained",id:"basic-button","aria-controls":u?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":u?"true":void 0,onClick:c,sx:{p:1.2},children:[a," ",C.jsx(Ma,{})]}),C.jsxs(oa,{id:"basic-menu",anchorEl:r,open:u,onClose:()=>s(null),MenuListProps:{"aria-labelledby":"basic-button"},children:[C.jsx(Mi,{onClick:()=>f(30),children:"30j"}),C.jsx(Mi,{onClick:()=>f(90),children:"90j"}),C.jsx(Mi,{onClick:()=>f("MAX"),children:"MAX"})]})]}),C.jsx(We,{onClick:e,children:C.jsx(Ra,{})}),C.jsx(We,{onClick:d,children:l?C.jsx(Ba,{}):C.jsx(Oa,{})}),C.jsx(We,{onClick:i,children:C.jsx(ah,{})})]})},Ed=n=>{const{depenseChart:e,filterChart:t}=n,[i,r]=W.useState(30),{isFullScreenDepenseChart:s}=jr(S=>S.dashboard),a=W.useMemo(()=>{if(e.isLoading)return[[],[]];{let S=[[...(e.data.expenses||[]).map(L=>({x:new Date(L.date),y:L.amount}))],[...(e.data.revenues||[]).map(L=>({x:new Date(L.date),y:L.amount}))]];return console.log(S),S}},[e.isLoading,e.expenses,e.revenues,i]),{t:o,i18n:l}=mt(),h=Ni(),u=Rn(),c=[u.palette.error.main,u.palette.success.main],[f,d]=W.useState(!0),g=W.useRef(null),p={labelIntersectAction:"Rotate45",valueType:"DateTime",edgeLabelPlacement:"Shift",labelFormat:"y-MM-dd",intervalType:"Days",interval:a[0].length<5?0:3,majorGridLines:{width:0},minorGridLines:{width:0},lineStyle:{width:.5,color:"gray"},labelStyle:{color:u.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:u.palette.text.secondary}},b={labelFormat:"n2",minimum:0,majorGridLines:{width:.5,color:"gray",dashArray:"2,2"},lineStyle:{width:0},title:o(ce.dashboard.montant),labelStyle:{color:u.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:u.palette.text.secondary}},y=S=>{r(S),t(S)},T=()=>{h(Hr.actions.setFullScreenDepenseChart())},w=S=>{d(S)},E=()=>{g.current.print()};return C.jsxs(_i,{children:[C.jsx(Vi,{title:!s&&o(ce.dashboard.depenseChartTitle),action:C.jsx(Ad,{handleFilter:y,handleScreen:T,handleTypeChart:w,handlePrint:E})}),C.jsx(Vn,{sx:{pt:2,position:"relative"},children:C.jsxs(Un,{id:"charts2",ref:g,primaryXAxis:{...p},primaryYAxis:b,chartArea:{border:{width:0}},tooltip:{enable:!0,shared:!0},legendSettings:{visible:!0,textStyle:{color:u.palette.text.secondary},enableHighlight:!0},titleStyle:{color:u.palette.text.secondary,fontSize:"20px",fontWeight:"bold",textAlignment:"Center"},children:[C.jsx(Ea,{services:[ja,Ha,Ga,Wa,Ua,za,Va,wc]}),C.jsxs(Da,{children:[C.jsx(Mr,{dataSource:a[0],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:o(ce.nav.achat),type:f?"Line":"Column",fill:c[0]}),C.jsx(Mr,{dataSource:a[1],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:o(ce.nav.sortie),type:f?"Line":"Column",fill:c[1]})]})]})})]})};function Ld({children:n}){const{isFullScreenEggChart:e}=jr(s=>s.dashboard),t=Ni(),{t:i,i18n:r}=mt();return C.jsx(C.Fragment,{children:e?C.jsxs(On,{fullScreen:!0,open:e,children:[C.jsx(La,{sx:{position:"relative"},children:C.jsxs(Pa,{children:[C.jsx(We,{edge:"start",color:"inherit","aria-label":"close",onClick:()=>t(Hr.actions.setFullScreenEggChart()),children:C.jsx(Fn,{})}),C.jsx(we,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:i(ce.dashboard.eggsChartTtitle)})]})}),n]}):C.jsx(C.Fragment,{children:n})})}function Pd({children:n}){const{isFullScreenDepenseChart:e}=jr(s=>s.dashboard),t=Ni(),{t:i,i18n:r}=mt();return C.jsx(C.Fragment,{children:e?C.jsxs(On,{fullScreen:!0,open:e,children:[C.jsx(La,{sx:{position:"relative"},children:C.jsxs(Pa,{children:[C.jsx(We,{edge:"start",color:"inherit","aria-label":"close",onClick:()=>t(Hr.actions.setFullScreenDepenseChart()),children:C.jsx(Fn,{})}),C.jsx(we,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:i(ce.dashboard.eggsChartTtitle)})]})}),n]}):C.jsx(C.Fragment,{children:n})})}const Md=async()=>{try{const{data:n}=await nt.post("/dashboard/outbound/");return n}catch{throw new Error("Error")}},Od=async()=>{try{const{data:n}=await nt.post("/dashboard/inbound/");return n}catch{throw new Error("Error")}},kd=async n=>{try{const{data:e}=await nt.get("/dashboard/marketprice/list/?time="+n);return e}catch{throw new Error("Error")}},Rd=async n=>{try{const{data:e}=await nt.get("/dashboard/expenses-revenue-graph/?time="+n);return e}catch{}},Bd=async()=>{try{const{data:n}=await nt.get("/dashboard/debtratio/");return n}catch{throw new Error("error")}},Id=async()=>{try{const{data:n}=await nt.get("/dashboard/latestprices/");return n}catch{throw new Error("error")}},Dd=async()=>{try{const{data:n}=await nt.post("/dashboard/suppliersituation/");return n}catch{throw new Error("error")}},Fd=async()=>{try{const{data:n}=await nt.get("/dashboard/revenue/");return n}catch{throw new Error("error")}},Nd=async()=>{try{const{data:n}=await nt.get("/dashboard/expenses/");return n}catch{throw new Error("error")}},_d=async()=>{try{const{data:n}=await nt.get("/dashboard/tradebalance/");return n}catch{throw new Error("error")}},Vd=W.memo(()=>{const n=Uo(),[e,t]=W.useState(30),[i,r]=W.useState(30);Zo();const s=Wt("sortie",Md),a=Wt("entrer",Od),o=Wt("stock",qo.fetchStock),l=Wt(["MarketPrice",e],()=>kd(e)),h=Wt(["depenseChart",i],()=>Rd(i)),u=Wt("debtRatio",Bd),c=Wt("eggPrice",Id),f=Wt("EggPrice",Dd),[d,g]=W.useState(0),p=JSON.parse(sessionStorage.getItem("user")),b=lh([{queryKey:"ventes",queryFn:Fd},{queryKey:"achats",queryFn:Nd},{queryKey:"balance",queryFn:_d}]),y=w=>{t(w)},T=w=>{r(w)};return W.useEffect(()=>{u.isLoading||g(u.data.debt_ratio)},[u.isLoading]),C.jsxs(C.Fragment,{children:[C.jsx(Go,{title:"ESM | Acceuil"}),C.jsx(zr,{component:"main",sx:{flexGrow:1,py:2,px:2},children:C.jsx(Yo,{maxWidth:n.stretch?!1:"xl",children:C.jsxs(Kt,{spacing:{},children:[C.jsxs(_i,{children:[C.jsx(Vi,{sx:{pb:0,pt:0}}),C.jsx(Vn,{children:C.jsx(Si,{children:C.jsx(Sd,{stock:o.data,debtRatio:d,isLoading:o.isLoading,isEggPriceLoaing:c.isLoading,eggPrice:c.data,balance:b})})})]}),C.jsxs(Fe,{container:!0,spacing:2,mt:2,children:[C.jsxs(Fe,{item:!0,xs:12,md:6,children:[C.jsx(Si,{children:C.jsxs(Ld,{children:[" ",C.jsx(To,{prices:l.data,isLoading:l.isLoading,filterChart:y})]})}),C.jsxs("div",{className:"mt-6",children:[" ",C.jsx(Si,{children:!(p!=null&&p.is_eleveur)&&C.jsxs(Pd,{children:[" ",C.jsx(Ed,{depenseChart:h,isLoading:b[1].isLoading,filterChart:T})]})})]})]}),C.jsxs(Fe,{item:!0,xs:12,md:6,children:[C.jsx(Fe,{className:"mt-2",children:C.jsx(Si,{children:C.jsx(_c,{sortie:s==null?void 0:s.data,isLoading:s.isLoading})})}),C.jsx("div",{className:"mt-2",children:C.jsxs(Si,{children:[(p==null?void 0:p.is_eleveur)&&C.jsx(xd,{entrer:a==null?void 0:a.data,isLoading:a.isLoading}),!(p!=null&&p.is_eleveur)&&C.jsx(Td,{fournisseur:f==null?void 0:f.data,isLoading:f==null?void 0:f.isLoading})]})})]})]})]})})})]})}),zd=Vd;function op(){return C.jsx(C.Fragment,{children:C.jsx(Si,{children:C.jsx(zd,{})})})}export{op as default};
