import{n as Ct,o as wt,s as Be,q as je,_ as se,t as Qe,v as _t,w as St,r as _,x as kt,y as Bt,j as e,z as Mt,A as Tt,c as Dt,D as $t,E as Et,G as Pt,H as Ft,J as Rt,P as te,K as It,M as Nt,N as qt,T as w,B as V,O as zt,i as T,Q as Y,U as Se,a as U,V as H,L as Oe,W as nt,d as F,l as r,k as S,X as At,h as I,Y as $,I as Wt,Z as rt,$ as Ve,a0 as Lt,a1 as J,a2 as A,a3 as Fe,a4 as at,a5 as R,a6 as L,a7 as Z,R as Ot,p as Vt,a8 as N,a9 as q,aa as P,C as Re,ab as De,ac as $e,ad as Ee,ae as ce,F as Pe,af as it,ag as st,S as Ut,ah as Je,ai as Xe,aj as Ke}from"./index-2315324d.js";import{u as Yt}from"./use-page-view-040c0d73.js";import{E as Me,P as ve,M as Ce}from"./ModalDelete-f6fc281f.js";import{C as ee,b as ae,c as he,a as D,u as me,d as de,e as be,f as ot}from"./formik.esm-a69188f0.js";import{C as ke}from"./CardHeader-0da4966f.js";import{T as xe,a as ge,b as Q,c as b,d as fe,u as oe,e as Ie,f as Ue,S as G,h as ue,B as ne,E as Ne,A as Zt,g as ie,G as W,i as lt}from"./moment-0b0e8416.js";import{S as Gt}from"./SwitchBase-928133cc.js";import{T as qe,C as le}from"./TableRowsLoader-12723a10.js";import{A as Ye}from"./AlertError-b447808a.js";import{D as ze}from"./DeleteOutlineOutlined-3338308b.js";import{C as Ze}from"./Container-efb50e69.js";import{M as Ae}from"./ModalConfirm-1555c5f9.js";import{D as pe}from"./DatePicker-794fd4c1.js";import{D as ct}from"./Delete-6b320104.js";import{C as dt}from"./Check-1bb5774f.js";import{T as Ht,a as Qt}from"./Tabs-4a4376d5.js";function Jt(s){return wt("MuiSwitch",s)}const Xt=Ct("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),K=Xt,Kt=["className","color","edge","size","sx"],en=s=>{const{classes:t,edge:u,size:a,color:x,checked:p,disabled:i}=s,l={root:["root",u&&`edge${je(u)}`,`size${je(a)}`],switchBase:["switchBase",`color${je(x)}`,p&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},y=Tt(l,Jt,t);return se({},t,y)},tn=Be("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:u}=s;return[t.root,u.edge&&t[`edge${je(u.edge)}`],t[`size${je(u.size)}`]]}})(({ownerState:s})=>se({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},s.edge==="start"&&{marginLeft:-8},s.edge==="end"&&{marginRight:-8},s.size==="small"&&{width:40,height:24,padding:7,[`& .${K.thumb}`]:{width:16,height:16},[`& .${K.switchBase}`]:{padding:4,[`&.${K.checked}`]:{transform:"translateX(16px)"}}})),nn=Be(Gt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(s,t)=>{const{ownerState:u}=s;return[t.switchBase,{[`& .${K.input}`]:t.input},u.color!=="default"&&t[`color${je(u.color)}`]]}})(({theme:s})=>({position:"absolute",top:0,left:0,zIndex:1,color:s.vars?s.vars.palette.Switch.defaultColor:`${s.palette.mode==="light"?s.palette.common.white:s.palette.grey[300]}`,transition:s.transitions.create(["left","transform"],{duration:s.transitions.duration.shortest}),[`&.${K.checked}`]:{transform:"translateX(20px)"},[`&.${K.disabled}`]:{color:s.vars?s.vars.palette.Switch.defaultDisabledColor:`${s.palette.mode==="light"?s.palette.grey[100]:s.palette.grey[600]}`},[`&.${K.checked} + .${K.track}`]:{opacity:.5},[`&.${K.disabled} + .${K.track}`]:{opacity:s.vars?s.vars.opacity.switchTrackDisabled:`${s.palette.mode==="light"?.12:.2}`},[`& .${K.input}`]:{left:"-100%",width:"300%"}}),({theme:s,ownerState:t})=>se({"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette.action.activeChannel} / ${s.vars.palette.action.hoverOpacity})`:Qe(s.palette.action.active,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${K.checked}`]:{color:(s.vars||s).palette[t.color].main,"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette[t.color].mainChannel} / ${s.vars.palette.action.hoverOpacity})`:Qe(s.palette[t.color].main,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${K.disabled}`]:{color:s.vars?s.vars.palette.Switch[`${t.color}DisabledColor`]:`${s.palette.mode==="light"?_t(s.palette[t.color].main,.62):St(s.palette[t.color].main,.55)}`}},[`&.${K.checked} + .${K.track}`]:{backgroundColor:(s.vars||s).palette[t.color].main}})),rn=Be("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(s,t)=>t.track})(({theme:s})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:s.transitions.create(["opacity","background-color"],{duration:s.transitions.duration.shortest}),backgroundColor:s.vars?s.vars.palette.common.onBackground:`${s.palette.mode==="light"?s.palette.common.black:s.palette.common.white}`,opacity:s.vars?s.vars.opacity.switchTrack:`${s.palette.mode==="light"?.38:.3}`})),an=Be("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(s,t)=>t.thumb})(({theme:s})=>({boxShadow:(s.vars||s).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),sn=_.forwardRef(function(t,u){const a=kt({props:t,name:"MuiSwitch"}),{className:x,color:p="primary",edge:i=!1,size:l="medium",sx:y}=a,n=Bt(a,Kt),o=se({},a,{color:p,edge:i,size:l}),h=en(o),c=e.jsx(an,{className:h.thumb,ownerState:o});return e.jsxs(tn,{className:Mt(h.root,x),sx:y,ownerState:o,children:[e.jsx(nn,se({type:"checkbox",icon:c,checkedIcon:c,ref:u,ownerState:o},n,{classes:se({},h,{root:h.switchBase})})),e.jsx(rn,{className:h.track,ownerState:o})]})}),ye=sn,ut=Dt(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");function Le(s,t){$t(2,arguments);var u=Pt(t);return Et(s,-u)}var ht={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(s){(function(t,u){s.exports?s.exports=u():t.numeral=u()})(Ft,function(){var t,u,a="2.0.6",x={},p={},i={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:i.currentLocale,zeroFormat:i.zeroFormat,nullFormat:i.nullFormat,defaultFormat:i.defaultFormat,scalePercentBy100:i.scalePercentBy100};function y(n,o){this._input=n,this._value=o}return t=function(n){var o,h,c,d;if(t.isNumeral(n))o=n.value();else if(n===0||typeof n>"u")o=0;else if(n===null||u.isNaN(n))o=null;else if(typeof n=="string")if(l.zeroFormat&&n===l.zeroFormat)o=0;else if(l.nullFormat&&n===l.nullFormat||!n.replace(/[^0-9]+/g,"").length)o=null;else{for(h in x)if(d=typeof x[h].regexps.unformat=="function"?x[h].regexps.unformat():x[h].regexps.unformat,d&&n.match(d)){c=x[h].unformat;break}c=c||t._.stringToNumber,o=c(n)}else o=Number(n)||null;return new y(n,o)},t.version=a,t.isNumeral=function(n){return n instanceof y},t._=u={numberToFormat:function(n,o,h){var c=p[t.options.currentLocale],d=!1,m=!1,g=0,v="",M=1e12,B=1e9,z=1e6,O=1e3,f="",C=!1,j,k,E,X,We,Ge,re;if(n=n||0,k=Math.abs(n),t._.includes(o,"(")?(d=!0,o=o.replace(/[\(|\)]/g,"")):(t._.includes(o,"+")||t._.includes(o,"-"))&&(We=t._.includes(o,"+")?o.indexOf("+"):n<0?o.indexOf("-"):-1,o=o.replace(/[\+|\-]/g,"")),t._.includes(o,"a")&&(j=o.match(/a(k|m|b|t)?/),j=j?j[1]:!1,t._.includes(o," a")&&(v=" "),o=o.replace(new RegExp(v+"a[kmbt]?"),""),k>=M&&!j||j==="t"?(v+=c.abbreviations.trillion,n=n/M):k<M&&k>=B&&!j||j==="b"?(v+=c.abbreviations.billion,n=n/B):k<B&&k>=z&&!j||j==="m"?(v+=c.abbreviations.million,n=n/z):(k<z&&k>=O&&!j||j==="k")&&(v+=c.abbreviations.thousand,n=n/O)),t._.includes(o,"[.]")&&(m=!0,o=o.replace("[.]",".")),E=n.toString().split(".")[0],X=o.split(".")[1],Ge=o.indexOf(","),g=(o.split(".")[0].split(",")[0].match(/0/g)||[]).length,X?(t._.includes(X,"[")?(X=X.replace("]",""),X=X.split("["),f=t._.toFixed(n,X[0].length+X[1].length,h,X[1].length)):f=t._.toFixed(n,X.length,h),E=f.split(".")[0],t._.includes(f,".")?f=c.delimiters.decimal+f.split(".")[1]:f="",m&&Number(f.slice(1))===0&&(f="")):E=t._.toFixed(n,0,h),v&&!j&&Number(E)>=1e3&&v!==c.abbreviations.trillion)switch(E=String(Number(E)/1e3),v){case c.abbreviations.thousand:v=c.abbreviations.million;break;case c.abbreviations.million:v=c.abbreviations.billion;break;case c.abbreviations.billion:v=c.abbreviations.trillion;break}if(t._.includes(E,"-")&&(E=E.slice(1),C=!0),E.length<g)for(var He=g-E.length;He>0;He--)E="0"+E;return Ge>-1&&(E=E.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+c.delimiters.thousands)),o.indexOf(".")===0&&(E=""),re=E+f+(v||""),d?re=(d&&C?"(":"")+re+(d&&C?")":""):We>=0?re=We===0?(C?"-":"+")+re:re+(C?"-":"+"):C&&(re="-"+re),re},stringToNumber:function(n){var o=p[l.currentLocale],h=n,c={thousand:3,million:6,billion:9,trillion:12},d,m,g;if(l.zeroFormat&&n===l.zeroFormat)m=0;else if(l.nullFormat&&n===l.nullFormat||!n.replace(/[^0-9]+/g,"").length)m=null;else{m=1,o.delimiters.decimal!=="."&&(n=n.replace(/\./g,"").replace(o.delimiters.decimal,"."));for(d in c)if(g=new RegExp("[^a-zA-Z]"+o.abbreviations[d]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),h.match(g)){m*=Math.pow(10,c[d]);break}m*=(n.split("-").length+Math.min(n.split("(").length-1,n.split(")").length-1))%2?1:-1,n=n.replace(/[^0-9\.]+/g,""),m*=Number(n)}return m},isNaN:function(n){return typeof n=="number"&&isNaN(n)},includes:function(n,o){return n.indexOf(o)!==-1},insert:function(n,o,h){return n.slice(0,h)+o+n.slice(h)},reduce:function(n,o){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof o!="function")throw new TypeError(o+" is not a function");var h=Object(n),c=h.length>>>0,d=0,m;if(arguments.length===3)m=arguments[2];else{for(;d<c&&!(d in h);)d++;if(d>=c)throw new TypeError("Reduce of empty array with no initial value");m=h[d++]}for(;d<c;d++)d in h&&(m=o(m,h[d],d,h));return m},multiplier:function(n){var o=n.toString().split(".");return o.length<2?1:Math.pow(10,o[1].length)},correctionFactor:function(){var n=Array.prototype.slice.call(arguments);return n.reduce(function(o,h){var c=u.multiplier(h);return o>c?o:c},1)},toFixed:function(n,o,h,c){var d=n.toString().split("."),m=o-(c||0),g,v,M,B;return d.length===2?g=Math.min(Math.max(d[1].length,m),o):g=m,M=Math.pow(10,g),B=(h(n+"e+"+g)/M).toFixed(g),c>o-g&&(v=new RegExp("\\.?0{1,"+(c-(o-g))+"}$"),B=B.replace(v,"")),B}},t.options=l,t.formats=x,t.locales=p,t.locale=function(n){return n&&(l.currentLocale=n.toLowerCase()),l.currentLocale},t.localeData=function(n){if(!n)return p[l.currentLocale];if(n=n.toLowerCase(),!p[n])throw new Error("Unknown locale : "+n);return p[n]},t.reset=function(){for(var n in i)l[n]=i[n]},t.zeroFormat=function(n){l.zeroFormat=typeof n=="string"?n:null},t.nullFormat=function(n){l.nullFormat=typeof n=="string"?n:null},t.defaultFormat=function(n){l.defaultFormat=typeof n=="string"?n:"0.0"},t.register=function(n,o,h){if(o=o.toLowerCase(),this[n+"s"][o])throw new TypeError(o+" "+n+" already registered.");return this[n+"s"][o]=h,h},t.validate=function(n,o){var h,c,d,m,g,v,M,B;if(typeof n!="string"&&(n+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",n)),n=n.trim(),n.match(/^\d+$/))return!0;if(n==="")return!1;try{M=t.localeData(o)}catch{M=t.localeData(t.locale())}return d=M.currency.symbol,g=M.abbreviations,h=M.delimiters.decimal,M.delimiters.thousands==="."?c="\\.":c=M.delimiters.thousands,B=n.match(/^[^\d]+/),B!==null&&(n=n.substr(1),B[0]!==d)||(B=n.match(/[^\d]+$/),B!==null&&(n=n.slice(0,-1),B[0]!==g.thousand&&B[0]!==g.million&&B[0]!==g.billion&&B[0]!==g.trillion))?!1:(v=new RegExp(c+"{2}"),n.match(/[^\d.,]/g)?!1:(m=n.split(h),m.length>2?!1:m.length<2?!!m[0].match(/^\d+.*\d$/)&&!m[0].match(v):m[0].length===1?!!m[0].match(/^\d+$/)&&!m[0].match(v)&&!!m[1].match(/^\d+$/):!!m[0].match(/^\d+.*\d$/)&&!m[0].match(v)&&!!m[1].match(/^\d+$/)))},t.fn=y.prototype={clone:function(){return t(this)},format:function(n,o){var h=this._value,c=n||l.defaultFormat,d,m,g;if(o=o||Math.round,h===0&&l.zeroFormat!==null)m=l.zeroFormat;else if(h===null&&l.nullFormat!==null)m=l.nullFormat;else{for(d in x)if(c.match(x[d].regexps.format)){g=x[d].format;break}g=g||t._.numberToFormat,m=g(h,c,o)}return m},value:function(){return this._value},input:function(){return this._input},set:function(n){return this._value=Number(n),this},add:function(n){var o=u.correctionFactor.call(null,this._value,n);function h(c,d,m,g){return c+Math.round(o*d)}return this._value=u.reduce([this._value,n],h,0)/o,this},subtract:function(n){var o=u.correctionFactor.call(null,this._value,n);function h(c,d,m,g){return c-Math.round(o*d)}return this._value=u.reduce([n],h,Math.round(this._value*o))/o,this},multiply:function(n){function o(h,c,d,m){var g=u.correctionFactor(h,c);return Math.round(h*g)*Math.round(c*g)/Math.round(g*g)}return this._value=u.reduce([this._value,n],o,1),this},divide:function(n){function o(h,c,d,m){var g=u.correctionFactor(h,c);return Math.round(h*g)/Math.round(c*g)}return this._value=u.reduce([this._value,n],o),this},difference:function(n){return Math.abs(t(this._value).subtract(n).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(n){var o=n%10;return~~(n%100/10)===1?"th":o===1?"st":o===2?"nd":o===3?"rd":"th"},currency:{symbol:"$"}}),function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(n,o,h){var c=t._.includes(o," BPS")?" ":"",d;return n=n*1e4,o=o.replace(/\s?BPS/,""),d=t._.numberToFormat(n,o,h),t._.includes(d,")")?(d=d.split(""),d.splice(-1,0,c+"BPS"),d=d.join("")):d=d+c+"BPS",d},unformat:function(n){return+(t._.stringToNumber(n)*1e-4).toFixed(15)}})}(),function(){var n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},o={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},h=n.suffixes.concat(o.suffixes.filter(function(d){return n.suffixes.indexOf(d)<0})),c=h.join("|");c="("+c.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(c)},format:function(d,m,g){var v,M=t._.includes(m,"ib")?o:n,B=t._.includes(m," b")||t._.includes(m," ib")?" ":"",z,O,f;for(m=m.replace(/\s?i?b/,""),z=0;z<=M.suffixes.length;z++)if(O=Math.pow(M.base,z),f=Math.pow(M.base,z+1),d===null||d===0||d>=O&&d<f){B+=M.suffixes[z],O>0&&(d=d/O);break}return v=t._.numberToFormat(d,m,g),v+B},unformat:function(d){var m=t._.stringToNumber(d),g,v;if(m){for(g=n.suffixes.length-1;g>=0;g--){if(t._.includes(d,n.suffixes[g])){v=Math.pow(n.base,g);break}if(t._.includes(d,o.suffixes[g])){v=Math.pow(o.base,g);break}}m*=v||1}return m}})}(),function(){t.register("format","currency",{regexps:{format:/(\$)/},format:function(n,o,h){var c=t.locales[t.options.currentLocale],d={before:o.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:o.match(/([\+|\-|\)|\s|\$]*)$/)[0]},m,g,v;for(o=o.replace(/\s?\$\s?/,""),m=t._.numberToFormat(n,o,h),n>=0?(d.before=d.before.replace(/[\-\(]/,""),d.after=d.after.replace(/[\-\)]/,"")):n<0&&!t._.includes(d.before,"-")&&!t._.includes(d.before,"(")&&(d.before="-"+d.before),v=0;v<d.before.length;v++)switch(g=d.before[v],g){case"$":m=t._.insert(m,c.currency.symbol,v);break;case" ":m=t._.insert(m," ",v+c.currency.symbol.length-1);break}for(v=d.after.length-1;v>=0;v--)switch(g=d.after[v],g){case"$":m=v===d.after.length-1?m+c.currency.symbol:t._.insert(m,c.currency.symbol,-(d.after.length-(1+v)));break;case" ":m=v===d.after.length-1?m+" ":t._.insert(m," ",-(d.after.length-(1+v)+c.currency.symbol.length-1));break}return m}})}(),function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(n,o,h){var c,d=typeof n=="number"&&!t._.isNaN(n)?n.toExponential():"0e+0",m=d.split("e");return o=o.replace(/e[\+|\-]{1}0/,""),c=t._.numberToFormat(Number(m[0]),o,h),c+"e"+m[1]},unformat:function(n){var o=t._.includes(n,"e+")?n.split("e+"):n.split("e-"),h=Number(o[0]),c=Number(o[1]);c=t._.includes(n,"e-")?c*=-1:c;function d(m,g,v,M){var B=t._.correctionFactor(m,g),z=m*B*(g*B)/(B*B);return z}return t._.reduce([h,Math.pow(10,c)],d,1)}})}(),function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:function(n,o,h){var c=t.locales[t.options.currentLocale],d,m=t._.includes(o," o")?" ":"";return o=o.replace(/\s?o/,""),m+=c.ordinal(n),d=t._.numberToFormat(n,o,h),d+m}})}(),function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(n,o,h){var c=t._.includes(o," %")?" ":"",d;return t.options.scalePercentBy100&&(n=n*100),o=o.replace(/\s?\%/,""),d=t._.numberToFormat(n,o,h),t._.includes(d,")")?(d=d.split(""),d.splice(-1,0,c+"%"),d=d.join("")):d=d+c+"%",d},unformat:function(n){var o=t._.stringToNumber(n);return t.options.scalePercentBy100?o*.01:o}})}(),function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(n,o,h){var c=Math.floor(n/60/60),d=Math.floor((n-c*60*60)/60),m=Math.round(n-c*60*60-d*60);return c+":"+(d<10?"0"+d:d)+":"+(m<10?"0"+m:m)},unformat:function(n){var o=n.split(":"),h=0;return o.length===3?(h=h+Number(o[0])*60*60,h=h+Number(o[1])*60,h=h+Number(o[2])):o.length===2&&(h=h+Number(o[0])*60,h=h+Number(o[1])),Number(h)}})}(),t})})(ht);var on=ht.exports;const et=Rt(on),mt=s=>{const{children:t}=s;return e.jsx(It,{disablePadding:!0,children:t})};mt.propTypes={children:te.node};const _e=s=>{const{align:t="vertical",children:u,disableGutters:a,value:x,label:p,...i}=s;return e.jsx(Nt,{sx:{px:a?0:3,py:1.5},...i,children:e.jsx(qt,{disableTypography:!0,primary:e.jsx(w,{sx:{minWidth:t==="vertical"?"inherit":180},variant:"subtitle2",children:p}),secondary:e.jsx(V,{sx:{flex:1,mt:t==="vertical"?.5:0},children:u||e.jsx(w,{color:"text.secondary",variant:"body2",children:x})}),sx:{display:"flex",flexDirection:t==="vertical"?"column":"row",my:0}})})};_e.propTypes={align:te.oneOf(["horizontal","vertical"]),children:te.node,disableGutters:te.bool,label:te.string.isRequired,value:te.string};const Te=s=>{const{name:t}=s,a=zt().palette.primary.main;switch(t){case"startup":return e.jsx("svg",{fill:"none",height:"33",viewBox:"0 0 24 33",width:"24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M13.7898 0.492981L23.0191 5.55771C23.2324 5.67468 23.4097 5.84498 23.5332 6.05102C23.6567 6.25713 23.7218 6.49154 23.7218 6.73031C23.7218 6.96907 23.6567 7.20348 23.5332 7.4096C23.4097 7.61564 23.2324 7.78594 23.0191 7.9029L13.7899 12.9679C13.2008 13.2911 12.5366 13.4609 11.861 13.4609C11.1852 13.4609 10.521 13.2911 9.93202 12.9679L0.702682 7.9029C0.489532 7.78594 0.312084 7.61564 0.188587 7.4096C0.0650921 7.20348 -9.53674e-06 6.96907 -9.53674e-06 6.73031C-9.53674e-06 6.49154 0.0650921 6.25713 0.188587 6.05102C0.312084 5.84498 0.489532 5.67468 0.702682 5.55771L9.93202 0.492981C10.521 0.169739 11.1852 -5.72205e-06 11.861 -5.72205e-06C12.5366 -5.72205e-06 13.2008 0.169739 13.7898 0.492981Z",fill:a})});case"standard":return e.jsxs("svg",{fill:"none",height:"33",viewBox:"0 0 33 33",width:"33",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M18.4946 0.492981L27.7239 5.55771C27.9372 5.67468 28.1145 5.84498 28.238 6.05102C28.3615 6.25713 28.4266 6.49154 28.4266 6.73031C28.4266 6.96907 28.3615 7.20348 28.238 7.4096C28.1145 7.61564 27.9372 7.78594 27.7239 7.9029L18.4947 12.9679C17.9056 13.2911 17.2414 13.4609 16.5658 13.4609C15.89 13.4609 15.2258 13.2911 14.6368 12.9679L5.40749 7.9029C5.19434 7.78594 5.01689 7.61564 4.89339 7.4096C4.7699 7.20348 4.70479 6.96907 4.70479 6.73031C4.70479 6.49154 4.7699 6.25713 4.89339 6.05102C5.01689 5.84498 5.19434 5.67468 5.40749 5.55771L14.6368 0.492981C15.2258 0.169739 15.89 -5.72205e-06 16.5658 -5.72205e-06C17.2414 -5.72205e-06 17.9056 0.169739 18.4946 0.492981Z",fill:a}),e.jsx("path",{d:"M18.4448 5.2478L31.6626 12.5013C31.8758 12.6183 32.0532 12.7886 32.1767 12.9946C32.3002 13.2007 32.3653 13.4351 32.3653 13.6739C32.3653 13.9127 32.3002 14.1471 32.1767 14.3532C32.0532 14.5593 31.8758 14.7295 31.6626 14.8466L18.4448 22.1C17.8558 22.4231 17.1916 22.593 16.516 22.593C15.8403 22.593 15.1761 22.4231 14.5871 22.1L1.3693 14.8466C1.15615 14.7295 0.978699 14.5593 0.855202 14.3532C0.731705 14.1471 0.666607 13.9127 0.666607 13.6739C0.666607 13.4351 0.731705 13.2007 0.855202 12.9946C0.978699 12.7886 1.15615 12.6183 1.3693 12.5013L14.5871 5.2478C15.1761 4.92464 15.8403 4.75489 16.516 4.75489C17.1916 4.75489 17.8558 4.92464 18.4448 5.2478Z",fill:a,opacity:"0.7"})]});case"business":return e.jsxs("svg",{fill:"none",height:"33",viewBox:"0 0 43 33",width:"43",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M23.0075 0.49292L32.2369 5.55765C32.4501 5.67462 32.6275 5.84492 32.751 6.05096C32.8745 6.25707 32.9396 6.49148 32.9396 6.73025C32.9396 6.96901 32.8745 7.20342 32.751 7.40954C32.6275 7.61558 32.4501 7.78587 32.2369 7.90284L23.0076 12.9678C22.4186 13.2911 21.7543 13.4609 21.0787 13.4609C20.403 13.4609 19.7387 13.2911 19.1498 12.9678L9.92043 7.90284C9.70728 7.78587 9.52983 7.61558 9.40633 7.40954C9.28284 7.20342 9.21773 6.96901 9.21773 6.73025C9.21773 6.49148 9.28284 6.25707 9.40633 6.05096C9.52983 5.84492 9.70728 5.67462 9.92043 5.55765L19.1498 0.49292C19.7387 0.169678 20.403 -6.67572e-05 21.0787 -6.67572e-05C21.7543 -6.67572e-05 22.4186 0.169678 23.0075 0.49292Z",fill:a}),e.jsx("path",{d:"M22.9577 5.24774L36.1755 12.5012C36.3886 12.6182 36.5661 12.7885 36.6896 12.9945C36.8131 13.2007 36.8782 13.4351 36.8782 13.6738C36.8782 13.9126 36.8131 14.1471 36.6896 14.3531C36.5661 14.5592 36.3886 14.7295 36.1755 14.8465L22.9577 22.0999C22.3687 22.4231 21.7045 22.5929 21.0288 22.5929C20.3532 22.5929 19.6889 22.4231 19.1 22.0999L5.88218 14.8465C5.66903 14.7295 5.49158 14.5592 5.36808 14.3531C5.24458 14.1471 5.17949 13.9126 5.17949 13.6738C5.17949 13.4351 5.24458 13.2007 5.36808 12.9945C5.49158 12.7885 5.66903 12.6182 5.88218 12.5012L19.1 5.24774C19.6889 4.92458 20.3532 4.75483 21.0288 4.75483C21.7045 4.75483 22.3687 4.92458 22.9577 5.24774Z",fill:a,opacity:"0.7"}),e.jsx("path",{d:"M23.259 10.0018L41.6317 20.0843C41.8445 20.2012 42.0217 20.3711 42.145 20.5769C42.2683 20.7826 42.3333 21.0167 42.3333 21.2551C42.3333 21.4935 42.2683 21.7275 42.145 21.9333C42.0217 22.139 41.8445 22.309 41.6317 22.4258L23.2589 32.5081C22.6709 32.8307 22.0078 33.0002 21.3332 33.0002C20.6587 33.0002 19.9955 32.8307 19.4075 32.5081L1.03479 22.4258C0.821995 22.309 0.644833 22.139 0.521538 21.9333C0.398247 21.7275 0.333252 21.4935 0.333252 21.2551C0.333252 21.0167 0.398247 20.7826 0.521538 20.5769C0.644833 20.3711 0.821995 20.2012 1.03479 20.0843L19.4075 10.0018C19.9955 9.67921 20.6587 9.50966 21.3332 9.50966C22.0078 9.50966 22.6709 9.67921 23.259 10.0018Z",fill:a,opacity:"0.4"})]});default:return null}};Te.propTypes={name:te.oneOf(["startup","standard","business"]).isRequired};const ln=[{id:"startup",icon:e.jsx(Te,{name:"startup"}),name:"Startup",price:0},{id:"standard",icon:e.jsx(Te,{name:"standard"}),name:"Standard",price:4.99},{id:"business",icon:e.jsx(Te,{name:"business"}),name:"Business",price:29.99}],pt=s=>{const{plan:t="standard",invoices:u=[]}=s,[a,x]=_.useState(t);return e.jsxs(T,{spacing:4,...s,children:[e.jsxs(ee,{children:[e.jsx(ke,{title:"Change Plan",subheader:"You can upgrade and downgrade whenever you want"}),e.jsxs(ae,{sx:{pt:0},children:[e.jsx("div",{children:e.jsx(Y,{container:!0,spacing:3,children:ln.map(p=>{const i=p.id===a,l=p.id===t,y=et(p.price).format("$0,0.00");return e.jsx(Y,{xs:12,sm:4,children:e.jsx(ee,{onClick:()=>x(p.id),sx:{cursor:"pointer",...i&&{borderColor:"primary.main",borderWidth:2,m:"-1px"}},variant:"outlined",children:e.jsxs(ae,{children:[e.jsx(V,{sx:{height:52,width:52,"& img":{height:"auto",width:"100%"}},children:p.icon}),e.jsxs(V,{sx:{display:"flex",mb:1,mt:1},children:[e.jsx(w,{variant:"h5",children:y}),e.jsx(w,{color:"text.secondary",sx:{mt:"auto",ml:"4px"},variant:"body2",children:"/mo"})]}),e.jsxs(T,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsx(w,{variant:"overline",children:p.name}),l&&e.jsx(w,{color:"primary.main",variant:"caption",children:"Using now"})]})]})})},p.id)})})}),e.jsx(Se,{sx:{my:3}}),e.jsxs(V,{sx:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[e.jsx(w,{variant:"h6",children:"Billing details"}),e.jsx(U,{color:"inherit",startIcon:e.jsx(H,{children:e.jsx(Me,{})}),children:"Edit"})]}),e.jsx(V,{sx:{border:1,borderColor:"divider",borderRadius:1,mt:3},children:e.jsxs(mt,{children:[e.jsx(_e,{align:"horizontal",divider:!0,label:"Billing name",value:"John Doe"}),e.jsx(_e,{align:"horizontal",divider:!0,label:"Card number",value:"**** 1111"}),e.jsx(_e,{align:"horizontal",divider:!0,label:"Country",value:"Germany"}),e.jsx(_e,{align:"horizontal",label:"Zip / Postal code",value:"667123"})]})}),e.jsxs(w,{color:"text.secondary",variant:"body2",sx:{mt:3},children:["We cannot refund once you purchased a subscription, but you can always",e.jsx(Oe,{href:"#",sx:{ml:"4px"},underline:"none",variant:"body2",children:"Cancel"})]}),e.jsx(V,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(U,{variant:"contained",children:"Upgrade Plan"})})]})]}),e.jsxs(ee,{children:[e.jsx(ke,{title:"Invoice history",subheader:"You can view and download all your previous invoices here. If you’ve just made a payment, it may take a few hours for it to appear in the table below."}),e.jsxs(xe,{children:[e.jsx(ge,{children:e.jsxs(Q,{children:[e.jsx(b,{children:"Date"}),e.jsx(b,{children:"Total (incl. tax)"}),e.jsx(b,{})]})}),e.jsx(fe,{children:u.map(p=>{const i=nt(p.createdAt,"dd MMM yyyy"),l=et(p.amount).format("$0,0.00");return e.jsxs(Q,{children:[e.jsx(b,{children:i}),e.jsx(b,{children:l}),e.jsx(b,{align:"right",children:e.jsx(Oe,{color:"inherit",underline:"always",href:"#",children:"View Invoice"})})]},p.id)})})]})]})]})};pt.propTypes={plan:te.string,invoices:te.array};const cn=async()=>{try{const{data:s}=await I.get("/class/list/active/");return s.map(t=>({...t,value:t.custom_name}))}catch(s){throw new Error(s)}},dn=()=>{const{t:s,i18n:t}=F(),u=oe("eggTypes",cn),[a,x]=_.useState({}),p=(l,y)=>{l.target.value!==""&&I.put("/customclass/update/",{id:y,custom_name:l.target.value}).then(n=>{$.success(s(r.global.toastEggSuccess))})},i=(l,y)=>{I.put("/customclass/activation/",{id:y})};return e.jsx(T,{spacing:4,children:e.jsxs(ee,{children:[e.jsx(ke,{title:s(r.global.eggTypeUpdateTitle)}),e.jsxs(ae,{children:[e.jsx(w,{variant:"h6"}),e.jsx(Y,{container:!0,spacing:3,children:u.isLoading?e.jsx(At,{}):u==null?void 0:u.data.map(l=>e.jsx(Y,{item:!0,spacing:2,xs:4,children:e.jsxs(T,{spacing:1,children:[e.jsx(w,{variant:"subtitle1",children:l.egg_class_name}),e.jsxs(T,{direction:"row",children:[e.jsx(w,{color:"text.secondary",variant:"body2",children:e.jsx(S,{label:l.value,value:a[l.id],onChange:y=>x(n=>({...n,[l.id]:y.target.value})),onBlur:y=>p(y,l.id),size:"small"})}),e.jsx(ye,{defaultChecked:l.is_active,onChange:y=>i(y,l.id)})]})]})}))})]})]})})},un=()=>e.jsx(ee,{children:e.jsxs(ae,{children:[e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsx(w,{variant:"h6",children:"Email"})}),e.jsx(Y,{xs:12,sm:12,md:8,children:e.jsxs(T,{divider:e.jsx(Se,{}),spacing:3,children:[e.jsxs(T,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(T,{spacing:1,children:[e.jsx(w,{variant:"subtitle1",children:"Product updates"}),e.jsx(w,{color:"text.secondary",variant:"body2",children:"News, announcements, and product updates."})]}),e.jsx(ye,{defaultChecked:!0})]}),e.jsxs(T,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(T,{spacing:1,children:[e.jsx(w,{variant:"subtitle1",children:"Security updates"}),e.jsx(w,{variant:"body2",color:"text.secondary",children:"Important notifications about your account security."})]}),e.jsx(ye,{defaultChecked:!0})]})]})})]}),e.jsx(Se,{sx:{my:3}}),e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsx(w,{variant:"h6",children:"Phone notifications"})}),e.jsx(Y,{xs:12,sm:12,md:8,children:e.jsx(T,{divider:e.jsx(Se,{}),spacing:3,children:e.jsxs(T,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(T,{spacing:1,children:[e.jsx(w,{variant:"subtitle1",children:"Security updates"}),e.jsx(w,{color:"text.secondary",variant:"body2",children:"Important notifications about your account security."})]}),e.jsx(ye,{})]})})})]})]})});var hn=function(t){return e.jsxs("svg",se({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"})]}))},mn=function(t){return e.jsxs("svg",se({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M3 8.32c0-1.5121 0-2.2682.2943-2.8458a2.7 2.7 0 0 1 1.18-1.18C5.0517 4 5.8078 4 7.32 4h9.36c1.5121 0 2.2682 0 2.8458.2943.508.2588.9211.6719 1.1799 1.18C21 6.0517 21 6.8078 21 8.32v5.76c0 1.5121 0 2.2682-.2943 2.8458a2.6996 2.6996 0 0 1-1.1799 1.1799c-.5776.2943-1.3337.2943-2.8458.2943H7.32c-1.5121 0-2.2682 0-2.8458-.2943a2.6998 2.6998 0 0 1-1.18-1.1799C3 16.3482 3 15.5921 3 14.08V8.32Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m3 6.7 7.3484 5.1439c.5951.4165.8926.6248 1.2162.7055.2859.0712.5849.0712.8708 0 .3236-.0807.6211-.289 1.2162-.7055L21 6.7M7.32 18.4h9.36c1.5121 0 2.2682 0 2.8458-.2943a2.6996 2.6996 0 0 0 1.1799-1.1799C21 16.3482 21 15.5921 21 14.08V8.32c0-1.5121 0-2.2682-.2943-2.8458a2.6998 2.6998 0 0 0-1.1799-1.18C18.9482 4 18.1921 4 16.68 4H7.32c-1.5121 0-2.2682 0-2.8458.2943a2.7 2.7 0 0 0-1.18 1.18C3 6.0517 3 6.8078 3 8.32v5.76c0 1.5121 0 2.2682.2943 2.8458.2588.508.6719.9211 1.18 1.1799.5775.2943 1.3336.2943 2.8457.2943Z"})]}))};const pn=Be("span")(({theme:s,ownerState:t})=>{const u=s.palette[t.color].alpha12,a=s.palette.mode==="dark"?s.palette[t.color].main:s.palette[t.color].dark;return{alignItems:"center",backgroundColor:u,borderRadius:12,color:a,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:s.typography.fontFamily,fontSize:s.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:s.spacing(1),paddingRight:s.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}}),xt=s=>{const{color:t="primary",children:u,...a}=s,x={color:t};return e.jsx(pn,{ownerState:x,...a,children:u})};xt.propTypes={children:te.node,color:te.oneOf(["primary","secondary","error","info","warning","success"])};const gt=s=>{const{members:t}=s;return e.jsxs(ee,{children:[e.jsx(ae,{children:e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsxs(T,{spacing:1,children:[e.jsx(w,{variant:"h6",children:"Invite members"}),e.jsx(w,{color:"text.secondary",variant:"body2",children:"You currently pay for 2 Editor Seats."})]})}),e.jsx(Y,{xs:12,md:8,children:e.jsxs(T,{alignItems:"center",direction:"row",spacing:3,children:[e.jsx(S,{InputProps:{startAdornment:e.jsx(Wt,{position:"start",children:e.jsx(H,{children:e.jsx(mn,{})})})},label:"Email address",name:"email",sx:{flexGrow:1},type:"email"}),e.jsx(U,{variant:"contained",children:"Send Invite"})]})})]})}),e.jsx(rt,{children:e.jsxs(xe,{sx:{minWidth:400},children:[e.jsx(ge,{children:e.jsxs(Q,{children:[e.jsx(b,{children:"Member"}),e.jsx(b,{children:"Role"}),e.jsx(b,{})]})}),e.jsx(fe,{children:t.map((u,a)=>e.jsxs(Q,{children:[e.jsx(b,{children:e.jsxs(T,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(Ve,{src:u.avatar,sx:{height:40,width:40},children:e.jsx(H,{children:e.jsx(Lt,{})})}),e.jsxs("div",{children:[e.jsx(w,{variant:"subtitle2",children:u.name}),e.jsx(w,{color:"text.secondary",variant:"body2",children:u.email})]})]})}),e.jsx(b,{children:u.role==="Owner"?e.jsx(xt,{children:u.role}):u.role}),e.jsx(b,{align:"right",children:e.jsx(J,{children:e.jsx(H,{children:e.jsx(hn,{})})})})]},a))})]})})]})};gt.propTypes={members:te.array.isRequired};var tt=function(t){return e.jsxs("svg",se({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"m12 5 7 7-7 7"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m0 0-7-7m7 7-7 7"})]}))};const ft=s=>{const{loginEvents:t}=s,[u,a]=_.useState(!1),x=_.useCallback(()=>{a(p=>!p)},[]);return e.jsxs(T,{spacing:4,children:[e.jsx(ee,{children:e.jsx(ae,{children:e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsx(w,{variant:"h6",children:"Change password"})}),e.jsx(Y,{xs:12,sm:12,md:8,children:e.jsxs(T,{alignItems:"center",direction:"row",spacing:3,children:[e.jsx(S,{disabled:!u,label:"Password",type:"password",defaultValue:"Thebestpasswordever123#",sx:{flexGrow:1,...!u&&{"& .MuiOutlinedInput-notchedOutline":{borderStyle:"dotted"}}}}),e.jsx(U,{onClick:x,children:u?"Save":"Edit"})]})})]})})}),e.jsxs(ee,{children:[e.jsx(ke,{title:"Multi Factor Authentication"}),e.jsx(ae,{sx:{pt:0},children:e.jsxs(Y,{container:!0,spacing:4,children:[e.jsx(Y,{xs:12,sm:6,children:e.jsx(ee,{sx:{height:"100%"},variant:"outlined",children:e.jsxs(ae,{children:[e.jsx(V,{sx:{display:"block",position:"relative"},children:e.jsx(V,{sx:{"&::before":{backgroundColor:"error.main",borderRadius:"50%",content:'""',display:"block",height:8,left:4,position:"absolute",top:7,width:8,zIndex:1}},children:e.jsx(w,{color:"error",sx:{pl:3},variant:"body2",children:"Off"})})}),e.jsx(w,{sx:{mt:1},variant:"subtitle2",children:"Authenticator App"}),e.jsx(w,{color:"text.secondary",sx:{mt:1},variant:"body2",children:"Use an authenticator app to generate one time security codes."}),e.jsx(V,{sx:{mt:4},children:e.jsx(U,{endIcon:e.jsx(H,{children:e.jsx(tt,{})}),variant:"outlined",children:"Set Up"})})]})})}),e.jsx(Y,{sm:6,xs:12,children:e.jsx(ee,{sx:{height:"100%"},variant:"outlined",children:e.jsxs(ae,{children:[e.jsx(V,{sx:{position:"relative"},children:e.jsx(V,{sx:{"&::before":{backgroundColor:"error.main",borderRadius:"50%",content:'""',display:"block",height:8,left:4,position:"absolute",top:7,width:8,zIndex:1}},children:e.jsx(w,{color:"error",sx:{pl:3},variant:"body2",children:"Off"})})}),e.jsx(w,{sx:{mt:1},variant:"subtitle2",children:"Text Message"}),e.jsx(w,{color:"text.secondary",sx:{mt:1},variant:"body2",children:"Use your mobile phone to receive security codes via SMS."}),e.jsx(V,{sx:{mt:4},children:e.jsx(U,{endIcon:e.jsx(H,{children:e.jsx(tt,{})}),variant:"outlined",children:"Set Up"})})]})})})]})})]}),e.jsxs(ee,{children:[e.jsx(ke,{title:"Login history",subheader:"Your recent login activity"}),e.jsx(rt,{children:e.jsxs(xe,{sx:{minWidth:500},children:[e.jsx(ge,{children:e.jsxs(Q,{children:[e.jsx(b,{children:"Login type"}),e.jsx(b,{children:"IP Address"}),e.jsx(b,{children:"Client"})]})}),e.jsx(fe,{children:t.map(p=>{const i=nt(p.createdAt,"HH:mm a MM/dd/yyyy");return e.jsxs(Q,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsxs(b,{children:[e.jsx(w,{variant:"subtitle2",children:p.type}),e.jsxs(w,{variant:"body2",color:"body2",children:["on ",i]})]}),e.jsx(b,{children:p.ip}),e.jsx(b,{children:p.userAgent})]},p.id)})})]})})]})]})};ft.propTypes={loginEvents:te.array.isRequired};const xn=_.memo(s=>{const t=A();let{count:u=0,items:a=[],onDeselectAll:x,onDeselectOne:p,onSelectAll:i,onSelectOne:l,selected:y=[],isLoading:n,isError:o}=s;const[h,c]=_.useState(0),[d,m]=_.useState(25),{t:g,i18n:v}=F(),M=(C,j)=>{I.get(`/client/find/${C}`).then(k=>{t(R.actions.setCurrentData(k.data)),t(j?R.actions.openCloseModalUpdate():R.actions.openCloseModalDelete())})},B=(C,j)=>{c(j)},z=C=>{m(parseInt(C.target.value,10)),c(0)},O=a==null?void 0:a.slice(h*d,h*d+d),f=C=>{const j=C.target.value;I.put("/client/activation/",{id:j}).then(k=>{t(R.actions.activateClient({id:j}))})};return e.jsxs(V,{sx:{position:"relative"},children:[e.jsx(Ie,{component:Fe,children:e.jsxs(xe,{sx:{minWidth:700},children:[e.jsx(ge,{children:e.jsxs(Q,{children:[e.jsx(b,{children:g(r.client.Nom)}),e.jsx(b,{children:g(r.client.Telephone)}),e.jsx(b,{children:g(r.client.Ville)}),e.jsx(b,{})]})}),n?e.jsx(qe,{rowsNum:10}):e.jsx(fe,{children:O.length>0?O.map(C=>e.jsxs(Q,{hover:!0,children:[e.jsx(b,{children:e.jsxs(T,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(at,{variant:"dot",color:C.is_active?"success":"error",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",badgeContent:" ",sx:{"& .MuiBadge-badge":{minWidth:"14px",height:"14px",fontSize:"0.75rem",borderRadius:"100%",border:"2px solid #fff"}},children:e.jsx(Ve,{sx:{bgcolor:C.is_active?"rgb(19, 194, 194)":"",color:"white",width:45,height:45},children:C.first_name[0]+" "+C.last_name[0]})}),e.jsxs("div",{children:[C.first_name+" "+C.last_name,e.jsx(w,{color:"text.secondary",variant:"body2",children:C.email})]})]})}),e.jsx(b,{children:C.tel_num}),e.jsx(b,{children:C.city}),e.jsxs(b,{children:[e.jsx(J,{color:"warning",onClick:()=>M(C.id,!0),children:e.jsx(H,{children:e.jsx(Me,{})})}),C.is_deletable&&e.jsx(J,{color:"error",onClick:()=>M(C.id,!1),children:e.jsx(H,{children:e.jsx(ze,{})})}),e.jsx(ye,{color:"primary",defaultChecked:C.is_active,value:C.id,onChange:j=>f(j)})]})]},C.id)):e.jsx(Q,{children:e.jsx(b,{colSpan:5,sx:{textAlign:"center"},children:g(r.client.nothingToDisplay)})})})]})}),e.jsx(Ue,{component:"div",count:u,onPageChange:B,onRowsPerPageChange:z,page:h,rowsPerPage:d,rowsPerPageOptions:[5,10,25],labelRowsPerPage:g(r.client.Lignes),labelDisplayedRows:({from:C,to:j,count:k})=>`${C}–${j} ${g(r.client.sur)} ${k}`}),o&&e.jsx(Ye,{})]})});function gn(){const s=A(),{t,i18n:u}=F(),{client:a}=L(p=>p.client),x=oe("clients",ue.getClient);return _.useEffect(()=>{x.status=="success"&&s(R.actions.fetchClient(x.data))},[x.status]),e.jsx(Ze,{maxWidth:"xl",children:e.jsxs(G,{spacing:4,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(G,{spacing:1,children:e.jsx(w,{variant:"h4",children:t(r.client.title)})}),e.jsx(G,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(U,{startIcon:e.jsx(H,{children:e.jsx(ve,{})}),variant:"contained",onClick:()=>s(R.actions.openCloseModalAdd()),children:t(r.global.ajouter)})})]}),e.jsx(ee,{children:e.jsx(xn,{items:a,count:a.length,rowsPerPage:25,isLoading:x.isLoading,isError:x.isError})})]})})}function jt({confirmed:s}){const{currentData:t,isConfirm:u}=L(l=>l.client),a=A(),{t:x,i18n:p}=F(),i=()=>{s()};return e.jsx(Z,{open:u,onClose:()=>a(R.actions.openCloseConfirm()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Ae,{title:x(r.global.confirmOperation),message:x(r.global.confirmMessage),confirmFn:i,cancel:()=>a(R.actions.openCloseConfirm())})})}const fn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function jn(){const s=A(),{t,i18n:u}=F(),{client:a,isModalUpdate:x,currentData:p}=L(o=>o.client),i=he({first_name:D().required(t(r.client.firstNameRequired)),last_name:D().required(t(r.client.lastNameRequired)),tel_num:D().required(t(r.client.telRequired)).matches(/^[0-9]{10}$/,t(r.client.telMatch)),email:D().email(t(r.login.emailValid)).required(t(r.login.emailRequired)),city:D().required(t(r.client.cityRequired))}),l=me({initialValues:p,validationSchema:i,onSubmit:async(o,{resetForm:h})=>{I.put("/client/update/",o).then(c=>{s(R.actions.editClient(c.data)),s(R.actions.openCloseModalUpdate()),s(R.actions.openCloseConfirm()),$.success(t(r.client.toastUpdateSuccess)),h()}).catch(c=>{s(R.actions.openCloseConfirm()),$.error(t(r.client.toastError))})}});_.useEffect(()=>{l.setValues(p)},[p]);const y=async o=>{o.preventDefault();const h=await l.validateForm();Object.keys(h).length===0?s(R.actions.openCloseConfirm()):await l.submitForm()},n=()=>{l.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(Z,{open:x,onClose:()=>s(R.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:fn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(r.client.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(R.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:o=>y(o),children:[e.jsx(S,{id:"outlined-basic",label:t(r.client.Nom),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:l.handleChange,value:l.values.first_name,error:!!(l.touched.first_name&&l.errors.first_name),helperText:l.touched.first_name&&l.errors.first_name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Prenom),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:l.handleChange,value:l.values.last_name,error:!!(l.touched.last_name&&l.errors.last_name),helperText:l.touched.last_name&&l.errors.last_name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Telephone),variant:"outlined",value:l.values.tel_num,onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:l.handleChange,error:!!(l.touched.tel_num&&l.errors.tel_num),helperText:l.touched.tel_num&&l.errors.tel_num,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Email),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:l.handleChange,value:l.values.email,error:!!(l.touched.email&&l.errors.email),helperText:l.touched.email&&l.errors.email,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:l.handleBlur,onChange:l.handleChange,value:l.values.city,error:!!(l.touched.city&&l.errors.city),helperText:l.touched.city&&l.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(U,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.modifier)})]})]})}),e.jsx(jt,{confirmed:n})]})}const bn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function yn(){const s=A(),{t,i18n:u}=F(),{client:a,isModalAdd:x}=L(n=>n.client),p=he({first_name:D().required(t(r.client.firstNameRequired)),last_name:D().required(t(r.client.lastNameRequired)),tel_num:D().required(t(r.client.telRequired)).matches(/^[0-9]{10}$/,t(r.client.telMatch)),email:D().email(t(r.login.emailValid)).required(t(r.login.emailRequired)),city:D().required(t(r.client.cityRequired))}),i=me({initialValues:{first_name:"",last_name:"",tel_num:"",email:"",city:""},validationSchema:p,onSubmit:async(n,{resetForm:o,setErrors:h})=>{I.post("/client/add/",n).then(c=>{s(R.actions.addClient(c.data)),s(R.actions.openCloseModalAdd()),s(R.actions.openCloseConfirm()),$.success(t(r.client.toastAddSuccess)),o()}).catch(c=>{s(R.actions.openCloseConfirm()),$.error(t(r.client.toastError))})}}),l=async n=>{n.preventDefault();const o=await i.validateForm();Object.keys(o).length===0?s(R.actions.openCloseConfirm()):await i.submitForm()},y=()=>{i.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(Z,{open:x,onClose:()=>s(R.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:bn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(r.client.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(R.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:n=>l(n),children:[e.jsx(S,{id:"outlined-basic",label:t(r.client.Nom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:i.handleChange,value:i.values.first_name,error:!!(i.touched.first_name&&i.errors.first_name),helperText:i.touched.first_name&&i.errors.first_name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Prenom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:i.handleChange,value:i.values.last_name,error:!!(i.touched.last_name&&i.errors.last_name),helperText:i.touched.last_name&&i.errors.last_name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Telephone),variant:"outlined",value:i.values.tel_num,onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:i.handleChange,error:!!(i.touched.tel_num&&i.errors.tel_num),helperText:i.touched.tel_num&&i.errors.tel_num,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Email),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:i.handleChange,value:i.values.email,error:!!(i.touched.email&&i.errors.email),helperText:i.touched.email&&i.errors.email,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.city,error:!!(i.touched.city&&i.errors.city),helperText:i.touched.city&&i.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(U,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.ajouter)})]})]})}),e.jsx(jt,{confirmed:y})]})}function vn(){const{currentData:s,isModalDelete:t}=L(i=>i.client),u=A(),{t:a,i18n:x}=F(),p=()=>{console.log("first"),I.delete(`/client/delete/${s.id}`).then(i=>{u(R.actions.deleteClient()),u(R.actions.openCloseModalDelete()),$.success(a(r.client.toastDeleteSuccess))}).catch(i=>{u(R.actions.openCloseModalDelete()),$.error(a(r.client.toastError))})};return e.jsx(Z,{open:t,onClose:()=>u(R.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Ce,{title:a(r.client.deleteTitle),message:` ${a(r.client.deleteDescription)} ${s.first_name} ${s.last_name}
          ${a(r.client.poncuation)}`,deleteFn:p,cancel:()=>u(R.actions.openCloseModalDelete())})})}function Cn(){const{isModalAdd:s,isModalUpdate:t}=L(u=>u.client);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(Ne,{children:e.jsx(gn,{})}),s&&e.jsx(yn,{}),t&&e.jsx(jn,{}),e.jsx(vn,{})]})}const wn=_.memo(s=>{const t=A();let{count:u=0,items:a=[],onDeselectAll:x,onDeselectOne:p,onSelectAll:i,onSelectOne:l,selected:y=[],isLoading:n,isError:o}=s;const[h,c]=_.useState(0),[d,m]=_.useState(25),{t:g,i18n:v}=F(),M=(f,C)=>{I.get(`/warehouse/find/${f}`).then(j=>{t(N.actions.setCurrentData(j.data)),t(C?N.actions.openCloseModalUpdate():N.actions.openCloseModalDelete())})},B=(f,C)=>{c(C)},z=f=>{m(parseInt(f.target.value,10)),c(0)},O=a==null?void 0:a.slice(h*d,h*d+d);return e.jsxs(V,{sx:{position:"relative"},children:[e.jsx(Ie,{component:Fe,children:e.jsxs(xe,{sx:{minWidth:700},children:[e.jsx(ge,{children:e.jsxs(Q,{children:[e.jsx(b,{children:g(r.magazin.Nom)}),e.jsx(b,{children:g(r.magazin.Ville)}),e.jsx(b,{children:g(r.magazin.Capacity)}),e.jsx(b,{})]})}),n?e.jsx(qe,{rowsNum:10}):e.jsx(fe,{children:O.length>0?O.map(f=>e.jsxs(Q,{hover:!0,children:[e.jsx(b,{children:e.jsx(T,{alignItems:"center",direction:"row",spacing:1,children:e.jsx("div",{children:e.jsx(Oe,{color:"inherit",component:Ot,href:Vt.dashboard.customers.details,variant:"subtitle2",children:f.name})})})}),e.jsx(b,{children:f.city}),e.jsx(b,{sx:{direction:v.language=="ar"?"rtl":"ltr",whiteSpace:"nowrap"},children:f.capacity.toLocaleString("en-US").replaceAll(","," ")}),e.jsxs(b,{children:[e.jsx(J,{color:"warning",onClick:()=>M(f.id,!0),children:e.jsx(H,{children:e.jsx(Me,{})})}),f.is_deletable&&e.jsx(J,{color:"error",onClick:()=>M(f.id,!1),children:e.jsx(H,{children:e.jsx(ze,{})})})]})]},f.id)):e.jsx(Q,{children:e.jsx(b,{colSpan:5,sx:{textAlign:"center"},children:g(r.magazin.nothingToDisplay)})})})]})}),e.jsx(Ue,{component:"div",count:u,onPageChange:B,onRowsPerPageChange:z,page:h,rowsPerPage:d,rowsPerPageOptions:[5,10,25],labelRowsPerPage:g(r.magazin.Lignes),labelDisplayedRows:({from:f,to:C,count:j})=>`${f}–${C} ${g(r.magazin.sur)} ${j}`}),o&&e.jsx(Ye,{})]})});function _n(){const s=A(),{t,i18n:u}=F(),{magazin:a}=L(p=>p.magazin),x=oe("magazins",ue.getWarehouse);return _.useEffect(()=>{console.log(x),x.status=="success"&&s(N.actions.fetchMagazin(x.data))},[x.status]),e.jsx(Ze,{maxWidth:"xl",children:e.jsxs(G,{spacing:4,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(G,{spacing:1,children:e.jsx(w,{variant:"h4",children:t(r.magazin.title)})}),e.jsx(G,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(U,{startIcon:e.jsx(H,{children:e.jsx(ve,{})}),variant:"contained",onClick:()=>s(N.actions.openCloseModalAdd()),children:t(r.global.ajouter)})})]}),e.jsxs(ee,{children:[e.jsx(wn,{items:a,isLoading:x.isLoading,count:a.length,rowsPerPage:25,isError:x.isError}),x.isError&&e.jsx(Zt,{severity:"error",variant:"filled",children:"Test"})]})]})})}function bt({confirmed:s}){const{currentData:t,isConfirm:u}=L(l=>l.magazin),a=A(),{t:x,i18n:p}=F(),i=()=>{s()};return e.jsx(Z,{open:u,onClose:()=>a(N.actions.openCloseConfirm()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Ae,{title:x(r.global.confirmOperation),message:x(r.global.confirmMessage),confirmFn:i,cancel:()=>a(N.actions.openCloseConfirm())})})}const Sn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function kn(){const s=A(),{t,i18n:u}=F(),{currentData:a,isModalUpdate:x}=L(n=>n.magazin),p=he({name:D().required(t(r.magazin.firstNameRequired)),city:D().required(t(r.magazin.firstNameRequired)),capacity:de().required(t(r.magazin.capacityRequired)).min(0,t(r.magazin.capacityMin))}),i=me({initialValues:{name:"",city:"",capacity:""},validationSchema:p,onSubmit:async(n,{resetForm:o,setErrors:h})=>{I.put("/warehouse/update/",n).then(c=>{s(N.actions.editMagazin(c.data)),s(N.actions.openCloseModalUpdate()),s(N.actions.openCloseConfirm()),$.success(t(r.magazin.toastAddSuccess)),o()}).catch(c=>{s(N.actions.openCloseConfirm()),$.error(t(r.magazin.toastError))})}}),l=async n=>{n.preventDefault();const o=await i.validateForm();Object.keys(o).length===0?s(N.actions.openCloseConfirm()):await i.submitForm()},y=()=>{i.handleSubmit()};return _.useEffect(()=>{console.log(a),i.setValues(a)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(Z,{open:x,onClose:()=>s(N.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Sn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(r.magazin.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(N.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:n=>l(n),children:[e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Nom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:i.handleChange,value:i.values.name,error:!!(i.touched.name&&i.errors.name),helperText:i.touched.name&&i.errors.name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Ville),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"city",onChange:i.handleChange,value:i.values.city,error:!!(i.touched.city&&i.errors.city),helperText:i.touched.city&&i.errors.city,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Capacity),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"number",name:"capacity",onChange:i.handleChange,value:i.values.capacity,error:!!(i.touched.capacity&&i.errors.capacity),helperText:i.touched.capacity&&i.errors.capacity,style:{marginBottom:"15px"}}),e.jsx(U,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.modifier)})]})]})}),e.jsx(bt,{confirmed:y})]})}const Bn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Mn(){const s=A(),{t,i18n:u}=F(),{magazin:a,isModalAdd:x}=L(n=>n.magazin),p=he({name:D().required(t(r.magazin.firstNameRequired)),city:D().required(t(r.magazin.firstNameRequired)),capacity:de().required(t(r.magazin.capacityRequired)).min(0,t(r.magazin.capacityMin))}),i=me({initialValues:{name:"",city:"",capacity:""},validationSchema:p,onSubmit:async(n,{resetForm:o,setErrors:h})=>{I.post("/warehouse/add/",n).then(c=>{s(N.actions.addMagazin(c.data)),s(N.actions.openCloseModalAdd()),s(N.actions.openCloseConfirm()),$.success(t(r.magazin.toastAddSuccess)),o()}).catch(c=>{s(N.actions.openCloseConfirm()),$.error(t(r.magazin.toastError))})}}),l=async n=>{n.preventDefault();const o=await i.validateForm();Object.keys(o).length===0?s(N.actions.openCloseConfirm()):await i.submitForm()},y=()=>{i.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(Z,{open:x,onClose:()=>s(N.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Bn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(r.magazin.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(N.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:n=>l(n),children:[e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Nom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:i.handleChange,value:i.values.name,error:!!(i.touched.name&&i.errors.name),helperText:i.touched.name&&i.errors.name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Ville),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"city",onChange:i.handleChange,value:i.values.city,error:!!(i.touched.city&&i.errors.city),helperText:i.touched.city&&i.errors.city,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Capacity),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"number",name:"capacity",onChange:i.handleChange,value:i.values.capacity,error:!!(i.touched.capacity&&i.errors.capacity),helperText:i.touched.capacity&&i.errors.capacity,style:{marginBottom:"15px"}}),e.jsx(U,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.ajouter)})]})]})}),e.jsx(bt,{confirmed:y})]})}function Tn(){const{currentData:s,isModalDelete:t}=L(i=>i.magazin),u=A(),{t:a,i18n:x}=F(),p=()=>{I.delete(`/warehouse/delete/${s.id}`).then(i=>{u(N.actions.deleteMagazin()),u(N.actions.openCloseModalDelete()),$.success(a(r.magazin.toastDeleteSuccess))}).catch(i=>{u(N.actions.openCloseModalDelete()),$.error(a(r.magazin.toastError))})};return e.jsx(Z,{open:t,onClose:()=>u(N.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Ce,{title:a(r.magazin.deleteTitle),message:`${a(r.magazin.deleteDescription)} ${s.name} ${a(r.magazin.poncuation)}`,deleteFn:p,cancel:()=>u(N.actions.openCloseModalDelete())})})}function Dn(){const{isModalAdd:s,isModalUpdate:t}=L(u=>u.magazin);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(Ne,{children:e.jsx(_n,{})}),s&&e.jsx(Mn,{}),t&&e.jsx(kn,{}),e.jsx(Tn,{})]})}const $n=_.memo(s=>{const t=JSON.parse(sessionStorage.getItem("user")),u=A();let{count:a=0,items:x=[],onDeselectAll:p,onDeselectOne:i,onSelectAll:l,onSelectOne:y,selected:n=[],isError:o}=s;const[h,c]=_.useState(0),[d,m]=_.useState(25),{t:g,i18n:v}=F(),M=(f,C)=>{I.get(`/eggsource/find/${f}`).then(j=>{u(q.actions.setCurrentData(j.data)),u(C?q.actions.openCloseModalUpdate():q.actions.openCloseModalDelete())})},B=(f,C)=>{c(C)},z=f=>{m(parseInt(f.target.value,10)),c(0)},O=x==null?void 0:x.slice(h*d,h*d+d);return e.jsxs(V,{sx:{position:"relative"},children:[e.jsx(Ie,{component:Fe,children:e.jsxs(xe,{sx:{minWidth:700},children:[e.jsx(ge,{children:e.jsxs(Q,{children:[e.jsx(b,{children:t!=null&&t.is_eleveur?g(r.batiment.Nom):g(r.fournisseur.Nom)}),!(t!=null&&t.is_eleveur)&&e.jsx(b,{children:g(r.batiment.Telephone)}),e.jsx(b,{children:g(r.batiment.Ville)}),e.jsx(b,{})]})}),s.isLoading?e.jsx(qe,{rowsNum:10}):e.jsx(fe,{children:O.length>0?O.map(f=>e.jsxs(Q,{hover:!0,children:[e.jsx(b,{children:e.jsx(T,{alignItems:"center",direction:"row",spacing:1,children:e.jsxs("div",{children:[f.name," ",f.last_name,e.jsx(w,{color:"text.secondary",variant:"body2",children:f==null?void 0:f.email})]})})}),!(t!=null&&t.is_eleveur)&&e.jsx(b,{children:f.tel_num}),e.jsx(b,{children:f.city}),e.jsxs(b,{children:[e.jsx(J,{color:"warning",onClick:()=>M(f.id,!0),children:e.jsx(H,{children:e.jsx(Me,{})})}),f.is_deletable&&e.jsx(J,{color:"error",onClick:()=>M(f.id,!1),children:e.jsx(H,{children:e.jsx(ze,{})})})]})]},f.id)):e.jsx(Q,{children:e.jsx(b,{colSpan:5,sx:{textAlign:"center"},children:g(r.batiment.nothingToDisplay)})})})]})}),e.jsx(Ue,{component:"div",count:a,onPageChange:B,onRowsPerPageChange:z,page:h,rowsPerPage:d,rowsPerPageOptions:[5,10,25],labelRowsPerPage:g(r.batiment.Lignes),labelDisplayedRows:({from:f,to:C,count:j})=>`${f}–${C} ${g(r.batiment.sur)} ${j}`}),o&&e.jsx(Ye,{})]})});function En(){const s=JSON.parse(sessionStorage.getItem("user")),t=A(),{t:u,i18n:a}=F(),{batiment:x}=L(i=>i.batiment),p=oe("batiment",ue.getBatiment);return _.useEffect(()=>{p.status=="success"&&t(q.actions.fetchBatiment(p.data))},[p.status]),e.jsx(Ze,{maxWidth:"xl",children:e.jsxs(G,{spacing:4,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(G,{spacing:1,children:e.jsxs(w,{variant:"h4",children:[" ",s!=null&&s.is_eleveur?u(r.batiment.title):u(r.fournisseur.title)]})}),e.jsx(G,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(U,{startIcon:e.jsx(H,{children:e.jsx(ve,{})}),variant:"contained",onClick:()=>t(q.actions.openCloseModalAdd()),children:u(r.global.ajouter)})})]}),e.jsx(ee,{children:e.jsx($n,{isLoading:p.isLoading,items:x,count:x.length,rowsPerPage:25,isError:p.isError})})]})})}function yt({confirmed:s}){const{currentData:t,isConfirm:u}=L(l=>l.batiment),a=A(),{t:x,i18n:p}=F(),i=()=>{s()};return e.jsx(Z,{open:u,onClose:()=>a(q.actions.openCloseConfirm()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Ae,{title:x(r.global.confirmOperation),message:x(r.global.confirmMessage),confirmFn:i,cancel:()=>a(q.actions.openCloseConfirm())})})}const Pn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Fn(){const s=A(),{t,i18n:u}=F(),a=JSON.parse(sessionStorage.getItem("user")),{currentData:x,isModalUpdate:p}=L(c=>c.batiment),[i,l]=_.useState({name:D().required(a!=null&&a.is_eleveur?t(r.batiment.nameRequired):t(r.fournisseur.nameRequired)),last_name:D().required(t(r.fournisseur.lastNameRequired)),tel_num:D().required(t(r.client.telRequired)).matches(/^[0-9]{10}$/,t(r.client.telMatch)),email:D().email(t(r.login.emailValid)).required(t(r.login.emailRequired)),city:D().required(t(r.client.cityRequired))}),y=he(i),n=me({initialValues:{name:"",tel_num:"",email:a!=null&&a.is_eleveur?null:"",city:a!=null&&a.is_eleveur?null:""},validationSchema:y,onSubmit:async(c,{resetForm:d,setErrors:m})=>{console.log(c),I.put("/eggsource/update/",c).then(g=>{s(q.actions.editBatiment(g.data)),s(q.actions.openCloseModalUpdate()),s(q.actions.openCloseConfirm()),$.success(a!=null&&a.is_eleveur?t(r.batiment.toastUpdateSuccess):t(r.fournisseur.toastUpdateSuccess)),d()}).catch(g=>{s(q.actions.openCloseConfirm()),$.error(t(r.global.toastError))})}});_.useEffect(()=>{n.setValues(x);let c=i;a!=null&&a.is_eleveur&&(delete c.tel_num,delete c.email,delete c.last_name,l(c))},[x]);const o=async c=>{c.preventDefault();const d=await n.validateForm();Object.keys(d).length===0?s(q.actions.openCloseConfirm()):await n.submitForm()},h=()=>{n.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(Z,{open:p,onClose:()=>s(q.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Pn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:a!=null&&a.is_eleveur?t(r.batiment.update):t(r.fournisseur.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(q.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:c=>o(c),children:[e.jsx(S,{id:"outlined-basic",label:a!=null&&a.is_eleveur?t(r.batiment.Nom):t(r.fournisseur.Nom),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:n.handleChange,value:n.values.name,error:!!(n.touched.name&&n.errors.name),helperText:n.touched.name&&n.errors.name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.fournisseur.Prenom),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:n.handleChange,value:n.values.last_name,error:!!(n.touched.last_name&&n.errors.last_name),helperText:n.touched.last_name&&n.errors.last_name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Telephone),variant:"outlined",value:n.values.tel_num,onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:n.handleChange,error:!!(n.touched.tel_num&&n.errors.tel_num),helperText:n.touched.tel_num&&n.errors.tel_num,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Email),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:n.handleChange,value:n.values.email,error:!!(n.touched.email&&n.errors.email),helperText:n.touched.email&&n.errors.email,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:n.handleBlur,onChange:n.handleChange,value:n.values.city,error:!!(n.touched.city&&n.errors.city),helperText:n.touched.city&&n.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(U,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.modifier)})]})]})}),e.jsx(yt,{confirmed:h})]})}const Rn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function In(){const s=A(),{t,i18n:u}=F(),a=JSON.parse(sessionStorage.getItem("user")),{batiment:x,isModalAdd:p}=L(c=>c.batiment),[i,l]=_.useState({name:D().required(a!=null&&a.is_eleveur?t(r.batiment.nameRequired):t(r.fournisseur.firstNameRequired)),last_name:D().required(t(r.fournisseur.lastNameRequired)),tel_num:D().required(t(r.client.telRequired)).matches(/^[0-9]{10}$/,t(r.client.telMatch)),email:D().email(t(r.login.emailValid)).required(t(r.login.emailRequired)),city:D().required(t(r.client.cityRequired))}),y=he(i),n=me({initialValues:{name:"",tel_num:a!=null&&a.is_eleveur?null:"",email:a!=null&&a.is_eleveur?null:"",city:""},validationSchema:y,onSubmit:async(c,{resetForm:d,setErrors:m})=>{I.post("/eggsource/add/",c).then(g=>{s(q.actions.addBatiment(g.data)),s(q.actions.openCloseModalAdd()),s(q.actions.openCloseConfirm()),$.success(a!=null&&a.is_eleveur?t(r.batiment.toastAddSuccess):t(r.fournisseur.toastAddSuccess)),d()}).catch(g=>{s(q.actions.openCloseConfirm()),$.error(t(r.global.toastError))})}}),o=async c=>{c.preventDefault();const d=await n.validateForm();Object.keys(d).length===0?s(q.actions.openCloseConfirm()):await n.submitForm()},h=()=>{n.handleSubmit()};return _.useEffect(()=>{if(a!=null&&a.is_eleveur){let c=i;delete c.email,delete c.tel_num,delete c.last_name,l(c)}},[]),e.jsxs(e.Fragment,{children:[e.jsx(Z,{open:p,onClose:()=>s(q.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Rn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:a!=null&&a.is_eleveur?t(r.batiment.add):t(r.fournisseur.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(q.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:c=>o(c),children:[e.jsx(S,{id:"outlined-basic",label:a!=null&&a.is_eleveur?t(r.batiment.Nom):t(r.fournisseur.Nom),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:n.handleChange,value:n.values.name,error:!!(n.touched.name&&n.errors.name),helperText:n.touched.name&&n.errors.name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.fournisseur.Prenom),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:n.handleChange,value:n.values.last_name,error:!!(n.touched.last_name&&n.errors.last_name),helperText:n.touched.last_name&&n.errors.last_name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Telephone),variant:"outlined",value:n.values.tel_num,onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:n.handleChange,error:!!(n.touched.tel_num&&n.errors.tel_num),helperText:n.touched.tel_num&&n.errors.tel_num,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Email),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:n.handleChange,value:n.values.email,error:!!(n.touched.email&&n.errors.email),helperText:n.touched.email&&n.errors.email,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:n.handleBlur,onChange:n.handleChange,value:n.values.city,error:!!(n.touched.city&&n.errors.city),helperText:n.touched.city&&n.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(U,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.ajouter)})]})]})}),e.jsx(yt,{confirmed:h})]})}function Nn(){const{currentData:s,isModalDelete:t}=L(l=>l.batiment),u=A(),{t:a,i18n:x}=F(),p=JSON.parse(sessionStorage.getItem("user")),i=()=>{I.delete(`/eggsource/delete/${s.id}`).then(l=>{u(q.actions.deleteBatiment()),u(q.actions.openCloseModalDelete()),$.success(a(r.batiment.toastDeleteSuccess))}).catch(l=>{u(q.actions.openCloseModalDelete()),$.error(a(r.global.toastError))})};return e.jsx(Z,{open:t,onClose:()=>u(q.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Ce,{title:p!=null&&p.is_eleveur?a(r.batiment.deleteTitle):a(r.fournisseur.deleteTitle),message:p!=null&&p.is_elever?a(r.batiment.deleteDescription):a(r.fournisseur.deleteDescription),deleteFn:i,cancel:()=>u(q.actions.openCloseModalDelete())})})}function qn(){const{isModalAdd:s,isModalUpdate:t}=L(u=>u.batiment);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(Ne,{children:e.jsx(En,{})}),s&&e.jsx(In,{}),t&&e.jsx(Fn,{}),e.jsx(Nn,{})]})}function zn({isOpen:s,id:t,close:u}){F();const[a,x]=_.useState(new Date),p=A(),i=()=>{I.put("/employee/activation/",{id:t,end_work:ie(a).format("YYYY-MM-DD")}).then(l=>{p(P.actions.activateOeuvre({id:t})),p(P.actions.editOeuvre(l.data)),u()})};return e.jsx(Z,{open:s,children:e.jsxs(V,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",width:350,border:"1px solid #000",boxShadow:24,p:3},children:[e.jsxs(T,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Ajouter date du dimmession"}),e.jsx("div",{className:"cursor-pointer",onClick:()=>u(),children:e.jsx(le,{})})]}),e.jsxs("form",{children:[e.jsx(pe,{label:"Date du dimmession",value:a,onChange:l=>x(l),sx:{width:"100%"}}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(U,{variant:"contained",sx:{mt:1,mr:.5},onClick:i,children:"Envoyer"}),e.jsx(U,{variant:"contained",sx:{mt:1},color:"error",onClick:u,children:"Annuler"})]})]})]})})}function An(s){const{isLoading:t,items:u,count:a,rowsPerPage:x,isError:p}=s,[i,l]=_.useState(0),{t:y,i18n:n}=F(),o=A(),[h,c]=_.useState(!1),[d,m]=_.useState();let[g,v]=_.useState(0);const M=(f,C)=>{const j=u.filter(k=>k.id==f)[0];o(P.actions.setCurrentData(j)),C=="update"?o(P.actions.openCloseModalUpdate()):o(P.actions.openCloseModalDelete())},B=u==null?void 0:u.slice(i*x,i*x+x),z=f=>{m(f.target.value),f.target.checked?I.put("/employee/activation/",{id:f.target.value}).then(C=>{o(P.actions.activateOeuvre({id:d})),o(P.actions.editOeuvre(C.data))}):(f.target.checked=!f.target.checked,c(!0))},O=()=>{v(g+1),c(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(V,{sx:{position:"relative"},children:e.jsx(Ie,{component:Fe,children:e.jsxs(xe,{sx:{minWidth:700,overflowX:"auto"},children:[e.jsx(ge,{children:e.jsxs(Q,{children:[e.jsx(b,{}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:y(r.employee.CIN)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:y(r.client.Telephone)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:y(r.employee.Adresse)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:y(r.employee.StartDate)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:y(r.employee.EndDate)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:y(r.employee.ContractType)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:y(r.employee.Registration)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:y(r.employee.BirthDate)}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:y(r.employee.PaymentDeadline)}),e.jsx(b,{})]})}),t?e.jsx(qe,{rowsNum:10,cellNum:11}):e.jsx(fe,{children:u.length>0?B.map(f=>{const C=new Date(f.start_work),j=new Date(f.end_work),k=new Date(f.b_day);return e.jsxs(Q,{children:[e.jsx(b,{sx:{whiteSpace:"nowrap"},children:e.jsxs(T,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(at,{variant:"dot",color:f.is_active?"success":"error",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",badgeContent:" ",sx:{"& .MuiBadge-badge":{minWidth:"14px",height:"14px",fontSize:"0.75rem",borderRadius:"100%",border:"2px solid #fff"}},children:e.jsx(Ve,{sx:{bgcolor:f.is_active?"rgb(19, 194, 194)":"",color:"white",width:45,height:45},children:f.first_name[0]+" "+f.last_name[0]})}),e.jsx("div",{children:f.first_name+" "+f.last_name})]})}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.cin}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.tel_num}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.addr}),e.jsxs(b,{sx:{whiteSpace:"nowrap"},children:[" ",`${C.getDate()}`.padStart(2,0),"/",`${C.getMonth()+1}`.padStart(2,0),"/",C.getFullYear()]}),e.jsxs(b,{sx:{whiteSpace:"nowrap"},children:[" ",j.getFullYear()!="1970"?`${`${j.getDate()}`.padStart(2,0)}/${`${j.getMonth()+1}`.padStart(2,0)}/${j.getFullYear()}`:""]}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.contract_type}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.registration}),e.jsxs(b,{sx:{whiteSpace:"nowrap"},children:[`${k.getDate()}`.padStart(2,0),"/",`${k.getMonth()+1}`.padStart(2,0),"/",k.getFullYear()]}),e.jsx(b,{sx:{whiteSpace:"nowrap"},children:f.payment_rate}),e.jsxs(b,{sx:{whiteSpace:"nowrap"},children:[e.jsx(J,{color:"warning",onClick:()=>M(f.id,"update"),children:e.jsx(H,{children:e.jsx(Me,{})})}),e.jsx(J,{color:"error",onClick:()=>M(f.id,"delete"),children:e.jsx(H,{children:e.jsx(ze,{})})}),e.jsx(ye,{color:"secondary",defaultChecked:f.is_active,value:f.id,onChange:E=>z(E)})]})]},f.id)}):e.jsx(Q,{children:e.jsx(b,{colSpan:7,sx:{textAlign:"center"},children:y(r.magazin.nothingToDisplay)})})})]})},g)}),e.jsx(zn,{isOpen:h,id:d,close:O})]})}function Wn(){const s=A(),{t,i18n:u}=F(),a=oe("mainOeuvre",ue.fetchOeuvre),{oeuvre:x}=L(p=>p.mainDoeuvre);return _.useEffect(()=>{a.isLoading||s(P.actions.fetchOeuvre(a.data))},[a.isLoading]),e.jsx(Re,{maxWidth:"xl",children:e.jsxs(T,{spacing:4,children:[e.jsxs(T,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(T,{spacing:1,children:e.jsx(w,{variant:"h4",children:t(r.employee.title)})}),e.jsx(T,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(U,{startIcon:e.jsx(H,{children:e.jsx(ve,{})}),variant:"contained",onClick:()=>s(P.actions.openCloseModalAdd()),children:t(r.global.ajouter)})})]}),e.jsx(ee,{children:e.jsx(An,{isLoading:a.isLoading,items:x,count:x.length,rowsPerPage:25,isError:a.isError})})]})})}function vt({confirmed:s}){const{currentData:t,isConfirm:u}=L(l=>l.mainDoeuvre),a=A(),{t:x,i18n:p}=F(),i=()=>{s()};return e.jsx(Z,{open:u,onClose:()=>a(P.actions.openCloseConfirm()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Ae,{title:x(r.global.confirmOperation),message:x(r.global.confirmMessage),confirmFn:i,cancel:()=>a(P.actions.openCloseConfirm())})})}const Ln={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function On({paimentDelai:s,contracts:t}){ie.locale("fr");const u=A(),{t:a,i18n:x}=F(),{isModalAdd:p}=L(n=>n.mainDoeuvre),i=me({initialValues:{first_name:"",last_name:"",cin:"",registration:null,b_day:null,start_work:null,end_work:null,tel_num:"",addr:"",type:null,rate:null},validationSchema:he({first_name:D().required(a(r.employee.firstNameRequired)).min(2,a(r.employee.firstNameMin)).max(50,a(r.employee.firstNameMax)),last_name:D().required(a(r.employee.lastNameRequired)).min(2,a(r.employee.lastNameMin)).max(50,a(r.employee.lastNameMax)),cin:D().required(a(r.employee.cinRequired)).matches(/^[A-Za-z0-9]+$/,a(r.employee.cinAlphanumeric)).max(20,a(r.employee.cinMax)),registration:de().required(a(r.employee.registrationRequired)).typeError(a(r.employee.registrationTypeError)).positive(a(r.employee.registrationPositive)),b_day:be().required(a(r.employee.birthDateRequired)).typeError(a(r.employee.birthDateTypeError)),start_work:be().required(a(r.employee.startWorkRequired)).typeError(a(r.employee.startWorkTypeError)),end_work:be().nullable().typeError(a(r.employee.endWorkTypeError)).min(ot("start_work"),a(r.employee.endWorkMin)),tel_num:D().required(a(r.employee.telNumRequired)).matches(/^[0-9]{10}$/,a(r.employee.telNumValid)),addr:D().required(a(r.employee.addrRequired)).max(100,a(r.employee.addrMax)),type:de().required(a(r.employee.rateTypeRequired)).typeError(a(r.employee.typeTypeError)).integer(a(r.employee.typeInteger)),rate:de().required(a(r.employee.rateTypeRequired)).typeError(a(r.employee.rateTypeError))}),onSubmit:async(n,{setErrors:o,setFieldError:h})=>{console.log(n);let c={...n};c.b_day=ie(c.b_day).format("YYYY-MM-DD"),c.start_work=ie(c.start_work).format("YYYY-MM-DD"),c.end_work=c.end_work?null:ie(c.end_work).format("YYYY-MM-DD"),I.post("/employee/add/",c).then(d=>{u(P.actions.addOeuvre(d.data)),u(P.actions.openCloseModalAdd()),u(P.actions.openCloseConfirm()),$.success("L'employee ajouter avec success")}).catch(d=>{switch(u(P.actions.openCloseConfirm()),console.log(d),d.response.data){case 1:h("cin","Cette cin deja utiliser.");break;case 2:h("registration","Cette immatruculation deja utiliser.");break;case 3:h("tel_num","Cette numero de telephone deja utiliser.");break}console.log(d)})}}),l=async n=>{n.preventDefault();const o=await i.validateForm();console.log(o),Object.keys(o).length===0?u(P.actions.openCloseConfirm()):await i.submitForm()},y=()=>{i.handleSubmit(),console.log(i.errors)};return e.jsxs(e.Fragment,{children:[e.jsx(Z,{open:p,onClose:()=>u(P.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Ln,children:[e.jsxs(T,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:a(r.employee.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>u(P.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:n=>l(n),children:[e.jsxs(W,{container:!0,spacing:2,children:[e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.nom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:i.handleChange,value:i.values.first_name,error:!!(i.touched.first_name&&i.errors.first_name),helperText:i.touched.first_name&&i.errors.first_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.prenom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:i.handleChange,value:i.values.last_name,error:!!(i.touched.last_name&&i.errors.last_name),helperText:i.touched.last_name&&i.errors.last_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.Adresse),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"addr",onChange:i.handleChange,value:i.values.addr,error:!!(i.touched.addr&&i.errors.addr),helperText:i.touched.addr&&i.errors.addr,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.client.Telephone),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:i.handleChange,value:i.values.tel_num,error:!!(i.touched.tel_num&&i.errors.tel_num),helperText:i.touched.tel_num&&i.errors.tel_num,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.CIN),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"cin",onChange:i.handleChange,value:i.values.cin,error:!!(i.touched.cin&&i.errors.cin),helperText:i.touched.cin&&i.errors.cin,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(pe,{label:a(r.employee.BirthDate),variant:"outlined",fullWidth:!0,name:"b_day",value:i.values.b_day,onChange:n=>i.setFieldValue("b_day",n),slotProps:{textField:{variant:"outlined",error:!!(i.touched.b_day&&i.errors.b_day),helperText:i.touched.b_day&&i.errors.b_day}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.Registration),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"registration",onChange:i.handleChange,value:i.values.registration,error:!!(i.touched.registration&&i.errors.registration),helperText:i.touched.registration&&i.errors.registration,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(pe,{label:a(r.employee.StartDate),variant:"outlined",fullWidth:!0,name:"start_work",value:i.values.start_work,onChange:n=>i.setFieldValue("start_work",n),slotProps:{textField:{variant:"outlined",error:!!(i.touched.start_work&&i.errors.start_work),helperText:i.touched.start_work&&i.errors.start_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(pe,{label:a(r.employee.EndDate),variant:"outlined",fullWidth:!0,name:"end_work",value:i.values.end_work,onChange:n=>i.setFieldValue("end_work",n),slotProps:{textField:{variant:"outlined",error:!!(i.touched.end_work&&i.errors.end_work),helperText:i.touched.end_work&&i.errors.end_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(De,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(i.touched.type&&i.errors.type),children:[e.jsx($e,{id:"batiment-id",children:a(r.employee.ContractType)}),e.jsx(Ee,{labelId:"batiment-id",id:"demo-simple-select",onBlur:i.handleBlur,fullWidth:!0,name:"type",onChange:i.handleChange,value:i.values.type,label:a(r.employee.ContractType),children:t.length>0?t.map(n=>e.jsx(ce,{value:n.id,children:n.value},n.id)):e.jsx(ce,{children:a(r.batiment.nothingToDisplay)})}),i.touched.type&&i.errors.type&&e.jsx(Pe,{children:i.errors.type})]})}),e.jsx(W,{item:!0,xs:12,children:e.jsxs(De,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(i.touched.rate&&i.errors.rate),children:[e.jsx($e,{id:"batiment-id",children:a(r.employee.PaymentDeadline)}),e.jsx(Ee,{labelId:"batiment-id",id:"demo-simple-select",onBlur:i.handleBlur,fullWidth:!0,name:"rate",onChange:i.handleChange,value:i.values.rate,label:a(r.employee.PaymentDeadline),children:s.length>0?s.map(n=>e.jsx(ce,{value:n.id,children:n.value},n.id)):e.jsx(ce,{children:a(r.batiment.nothingToDisplay)})}),i.touched.rate&&i.errors.rate&&e.jsx(Pe,{children:i.errors.rate})]})})]}),e.jsx(U,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:a(r.global.ajouter)})]})]})}),e.jsx(vt,{confirmed:y})]})}function Vn(){const{currentData:s,isModalDelete:t}=L(i=>i.mainDoeuvre),u=A(),{t:a,i18n:x}=F(),p=()=>{I.delete(`/employee/delete/${s.id}`).then(i=>{u(P.actions.deleteOeuvre()),u(P.actions.openCloseModalDelete()),$.success("Le main d'oeuvre supprimer avec success.")}).catch(i=>{u(P.actions.openCloseModalDelete()),$.error(a(r.entrer.toastError))})};return e.jsx(Z,{open:t,onClose:()=>u(P.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Ce,{title:a(r.employee.deleteConfirmTitle),message:a(r.employee.deleteConfirmMessage),deleteFn:p,cancel:()=>u(P.actions.openCloseModalDelete())})})}const Un={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Yn({paimentDelai:s,contracts:t}){ie.locale("fr");const u=A(),{t:a,i18n:x}=F(),{currentData:p,isModalUpdate:i}=L(o=>o.mainDoeuvre),l=me({initialValues:{first_name:"",last_name:"",cin:"",registration:null,b_day:null,start_work:null,end_work:null,tel_num:"",addr:"",type:null,rate:null},validationSchema:he({first_name:D().required(a(r.employee.firstNameRequired)).min(2,a(r.employee.firstNameMin)).max(50,a(r.employee.firstNameMax)),last_name:D().required(a(r.employee.lastNameRequired)).min(2,a(r.employee.lastNameMin)).max(50,a(r.employee.lastNameMax)),cin:D().required(a(r.employee.cinRequired)).matches(/^[A-Za-z0-9]+$/,a(r.employee.cinAlphanumeric)).max(20,a(r.employee.cinMax)),registration:de().required(a(r.employee.registrationRequired)).typeError(a(r.employee.registrationTypeError)).positive(a(r.employee.registrationPositive)),b_day:be().required(a(r.employee.birthDateRequiredbirthDateRequired)).typeError(a(r.employee.birthDateTypeError)),start_work:be().required(a(r.employee.startWorkRequired)).typeError(a(r.employee.startWorkTypeError)),end_work:be().nullable().typeError(a(r.employee.endWorkTypeError)).min(ot("start_work"),a(r.employee.endWorkMin)),tel_num:D().required(a(r.employee.telNumRequired)).matches(/^[0-9]{10}$/,a(r.employee.telNumValid)),addr:D().required(a(r.employee.addrRequired)).max(100,a(r.employee.addrMax)),type:de().required(a(r.employee.rateTypeRequired)).typeError(a(r.employee.typeTypeError)).integer(a(r.employee.typeInteger)),rate:de().required(a(r.employee.rateTypeRequired)).typeError(a(r.employee.rateTypeError))}),onSubmit:async(o,{setFieldError:h})=>{let c={...o};c.b_day=ie(c.b_day).format("YYYY-MM-DD"),c.start_work=ie(c.start_work).format("YYYY-MM-DD"),c.end_work=c.end_work!==null?ie(c.end_work).format("YYYY-MM-DD"):null,I.put("/employee/update/",c).then(d=>{u(P.actions.editOeuvre(d.data)),u(P.actions.openCloseModalUpdate()),u(P.actions.openCloseConfirm()),$.success("L'employee modifier avec success")}).catch(d=>{switch(u(P.actions.openCloseConfirm()),d.response.data){case 1:h("cin","Cette cin deja utiliser.");break;case 2:h("registration","Cette immatruculation deja utiliser.");break;case 3:h("tel_num","Cette numero de telephone deja utiliser.");break}})}}),y=async o=>{o.preventDefault();const h=await l.validateForm();Object.keys(h).length===0?u(P.actions.openCloseConfirm()):await l.submitForm()},n=()=>{l.handleSubmit()};return _.useEffect(()=>{let o={...p};console.log(o),o.b_day=new Date(o.b_day),o.start_work=new Date(o.start_work),o.end_work=o.end_work!==null?new Date(o.end_work):null,l.setValues(o)},[p]),e.jsxs(e.Fragment,{children:[e.jsx(Z,{open:i,onClose:()=>u(P.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Un,children:[e.jsxs(T,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(w,{id:"modal-modal-title",variant:"h6",component:"h2",children:a(r.employee.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>u(P.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:o=>y(o),children:[e.jsxs(W,{container:!0,spacing:2,children:[e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.nom),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:l.handleChange,value:l.values.first_name,error:!!(l.touched.first_name&&l.errors.first_name),helperText:l.touched.first_name&&l.errors.first_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.prenom),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:l.handleChange,value:l.values.last_name,error:!!(l.touched.last_name&&l.errors.last_name),helperText:l.touched.last_name&&l.errors.last_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.Adresse),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"addr",onChange:l.handleChange,value:l.values.addr,error:!!(l.touched.addr&&l.errors.addr),helperText:l.touched.addr&&l.errors.addr,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.client.Telephone),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:l.handleChange,value:l.values.tel_num,error:!!(l.touched.tel_num&&l.errors.tel_num),helperText:l.touched.tel_num&&l.errors.tel_num,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.CIN),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"cin",onChange:l.handleChange,value:l.values.cin,error:!!(l.touched.cin&&l.errors.cin),helperText:l.touched.cin&&l.errors.cin,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(pe,{label:a(r.employee.BirthDate),variant:"outlined",fullWidth:!0,name:"b_day",value:l.values.b_day,onChange:o=>l.setFieldValue("b_day",o),slotProps:{textField:{variant:"outlined",error:!!(l.touched.b_day&&l.errors.b_day),helperText:l.touched.b_day&&l.errors.b_day}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.Registration),variant:"outlined",onBlur:l.handleBlur,fullWidth:!0,type:"text",name:"registration",onChange:l.handleChange,value:l.values.registration,error:!!(l.touched.registration&&l.errors.registration),helperText:l.touched.registration&&l.errors.registration,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(pe,{label:a(r.employee.StartDate),variant:"outlined",fullWidth:!0,name:"start_work",value:l.values.start_work,onChange:o=>l.setFieldValue("start_work",o),slotProps:{textField:{variant:"outlined",error:!!(l.touched.start_work&&l.errors.start_work),helperText:l.touched.start_work&&l.errors.start_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(pe,{label:a(r.employee.EndDate),variant:"outlined",fullWidth:!0,name:"end_work",value:l.values.end_work,onChange:o=>l.setFieldValue("end_work",o),slotProps:{textField:{variant:"outlined",error:!!(l.touched.end_work&&l.errors.end_work),helperText:l.touched.end_work&&l.errors.end_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(De,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(l.touched.type&&l.errors.type),children:[e.jsx($e,{id:"batiment-id",children:a(r.employee.ContractType)}),e.jsx(Ee,{labelId:"batiment-id",id:"demo-simple-select",onBlur:l.handleBlur,fullWidth:!0,name:"type",onChange:l.handleChange,value:l.values.type,label:a(r.employee.ContractType),children:t.length>0?t.map(o=>e.jsx(ce,{value:o.id,children:o.value},o.id)):e.jsx(ce,{children:a(r.batiment.nothingToDisplay)})}),l.touched.type&&l.errors.type&&e.jsx(Pe,{children:l.errors.type})]})}),e.jsx(W,{item:!0,xs:12,children:e.jsxs(De,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(l.touched.rate&&l.errors.rate),children:[e.jsx($e,{id:"batiment-id",children:a(r.employee.PaymentDeadline)}),e.jsx(Ee,{labelId:"batiment-id",id:"demo-simple-select",onBlur:l.handleBlur,fullWidth:!0,name:"rate",onChange:l.handleChange,value:l.values.rate,label:a(r.employee.PaymentDeadline),children:s.length>0?s.map(o=>e.jsx(ce,{value:o.id,children:o.value},o.id)):e.jsx(ce,{children:a(r.batiment.nothingToDisplay)})}),l.touched.rate&&l.errors.rate&&e.jsx(Pe,{children:l.errors.rate})]})})]}),e.jsx(U,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:a(r.global.modifier)})]})]})}),e.jsx(vt,{confirmed:n})]})}function Zn(){const s=oe("paimentDelai",ue.fetchPaymentRate),t=oe("contracts",ue.fetchContract),{isModalAdd:u,isModalUpdate:a}=L(x=>x.mainDoeuvre);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(Ne,{children:e.jsx(Wn,{})}),a&&e.jsx(Yn,{paimentDelai:s.data,contracts:t.data}),u&&e.jsx(On,{paimentDelai:s.data,contracts:t.data}),e.jsx(Vn,{})]})}function Gn(){const s=oe("expense",ue.fetchExpenseType,{cacheTime:9e4,staleTime:9e4}),[t,u]=_.useState(""),[a,x]=_.useState([]),[p,i]=_.useState(""),[l,y]=_.useState(!1),[n,o]=_.useState(),[h,c]=_.useState(),{t:d,i18n:m}=F(),g=it(),v=j=>{u(j.target.value)},M=j=>{i(j.target.value)},B=j=>{j.preventDefault(),I.post("/expensestype/add/",{name:t}).then(k=>{x(E=>[...E,k.data]),u(""),$.success(d(r.depense.addsuccess)),g.invalidateQueries("expense")})},z=j=>{o(j),y(!0)},O=()=>{I.delete("/expensestype/delete/"+n).then(j=>{x(k=>k.filter(E=>E.id!=n)),y(!1),g.invalidateQueries("expense"),$.success(d(r.depense.deletesuccess))})},f=j=>{c(j)},C=()=>{I.put("/expensestype/update/",{id:h,name:p}).then(j=>{const k=a,E=k.findIndex(X=>X.id==h);k[E]=j.data,x(k),c(null),i(""),g.invalidateQueries("expense"),$.success(d(r.depense.editsuccess))})};return _.useEffect(()=>{s.isLoading||x(s.data),console.log(s)},[s.isLoading]),e.jsxs(e.Fragment,{children:[e.jsxs(Re,{children:[e.jsx(w,{variant:"h5",mb:2,children:d(r.depense.titleType)}),e.jsx("form",{onSubmit:B,children:e.jsxs(T,{direction:"row",spacing:2,children:[e.jsx(S,{label:d(r.depense.addlabel),fullWidth:!0,value:t,onChange:v}),e.jsx(U,{type:"submit",variant:"contained",endIcon:e.jsx(ve,{}),disabled:t=="",children:d(r.depense.addbutton)})]})}),s.isLoading?[...Array(5)].map(()=>e.jsx(lt,{variant:"rectangular",width:"100%",height:"40px",sx:{mt:2}})):a.map(j=>e.jsx(V,{sx:{mt:2,backgroundColor:k=>k.palette.mode==="dark"?"neutral.800":k.palette.primary.light,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"5px",p:.4},children:e.jsx(T,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:h!==j.id?e.jsxs(e.Fragment,{children:[e.jsx(w,{children:j.name}),e.jsxs(V,{children:[e.jsx(J,{onClick:()=>f(j.id),children:e.jsx(ut,{})}),e.jsx(J,{onClick:()=>z(j.id),children:e.jsx(ct,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{fullWidth:!0,value:p,sx:{background:"#fff"},variant:"filled",onChange:M,size:"medium"}),e.jsx(J,{onClick:C,disabled:p=="",children:e.jsx(dt,{color:"success"})}),e.jsx(J,{onClick:()=>c(null),children:e.jsx(st,{color:"error"})})]})})}))]}),e.jsx(Z,{open:l,children:e.jsx(Ce,{title:d(r.depense.deletetitle),message:d(r.depense.deletemessage),cancel:()=>y(!1),deleteFn:O})})]})}function Hn(){const s=oe("expenseDivers",ue.fetchDiversType,{cacheTime:9e4,staleTime:9e4}),t=it(),[u,a]=_.useState(""),[x,p]=_.useState([]),[i,l]=_.useState(""),[y,n]=_.useState(!1),[o,h]=_.useState(),[c,d]=_.useState(),{t:m,i18n:g}=F(),v=j=>{a(j.target.value)},M=j=>{l(j.target.value)},B=j=>{j.preventDefault(),I.post("/otherexpensestype/add/",{type:u}).then(k=>{p(E=>[...E,k.data]),a(""),t.invalidateQueries("expenseDivers"),$.success(m(r.depense.addsuccess))}).catch(k=>{$.error(m(r.global.toastError))})},z=j=>{h(j),n(!0)},O=()=>{I.delete("/otherexpensestype/delete/"+o).then(j=>{p(k=>k.filter(E=>E.id!=o)),n(!1),t.invalidateQueries("expenseDivers"),$.success(m(r.depense.deletesuccess))}).catch(j=>{$.error(m(r.global.toastError)),n(!1)})},f=j=>{d(j)},C=()=>{I.put("/otherexpensestype/update/",{id:c,type:i}).then(j=>{const k=x,E=k.findIndex(X=>X.id==c);k[E]=j.data,p(k),d(null),l(""),t.invalidateQueries("expenseDivers"),$.success(m(r.depense.editsuccess))}).catch(j=>{d(null),$.error(m(r.global.toastError))})};return _.useEffect(()=>{s.isLoading||p(s.data)},[s.isLoading]),e.jsxs(e.Fragment,{children:[e.jsxs(Re,{children:[e.jsx(w,{variant:"h5",mb:2,children:m(r.divers.titleType)}),e.jsx("form",{onSubmit:B,children:e.jsxs(T,{direction:"row",spacing:2,children:[e.jsx(S,{label:m(r.depense.addlabel),fullWidth:!0,value:u,onChange:v}),e.jsx(U,{type:"submit",variant:"contained",endIcon:e.jsx(ve,{}),disabled:u=="",children:m(r.depense.addbutton)})]})}),s.isLoading?[...Array(5)].map(()=>e.jsx(lt,{variant:"rectangular",width:"100%",height:"40px",sx:{mt:2}})):x.map(j=>e.jsx(V,{sx:{mt:2,backgroundColor:k=>k.palette.mode==="dark"?"neutral.800":k.palette.primary.light,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"5px",p:.4},children:e.jsx(T,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:c!==j.id?e.jsxs(e.Fragment,{children:[e.jsx(w,{children:j.type}),e.jsxs(V,{children:[e.jsx(J,{onClick:()=>f(j.id),children:e.jsx(ut,{})}),e.jsx(J,{onClick:()=>z(j.id),children:e.jsx(ct,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{fullWidth:!0,value:i,sx:{background:"#fff"},variant:"filled",onChange:M,size:"medium"}),e.jsx(J,{onClick:C,disabled:i=="",children:e.jsx(dt,{color:"success"})}),e.jsx(J,{onClick:()=>d(null),children:e.jsx(st,{color:"error"})})]})})}))]}),e.jsx(Z,{open:y,children:e.jsx(Ce,{title:m(r.depense.deletetitle),message:m(r.depense.deletemessage),cancel:()=>n(!1),deleteFn:O})})]})}const we=new Date,hr=()=>{const s=JSON.parse(sessionStorage.getItem("user")),{t,i18n:u}=F(),[a,x]=_.useState("client"),[p,i]=_.useState([{label:t(r.nav.client),value:"client"},{label:t(r.employee.title),value:"mainDoeuvre"},{label:t(r.nav.waerhouse),value:"magasin"},{label:s!=null&&s.is_eleveur?t(r.batiment.title):t(r.fournisseur.title),value:"batiment"},{label:t(r.nav.eggTypeChange),value:"Modifier type d'oeuf"},{label:t(r.nav.depenseMensuel),value:"depenseMensuel"},{label:t(r.nav.depenseDivers),value:"depenseDivers"}]);Yt();const l=_.useCallback((y,n)=>{x(n)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(Ut,{title:"Dashboard: Account"}),e.jsx(V,{component:"main",sx:{flexGrow:1,py:8},children:e.jsxs(Re,{maxWidth:"xl",children:[e.jsxs(T,{spacing:3,sx:{mb:3},children:[e.jsx(w,{variant:"h4",children:t(r.global.setting)}),e.jsxs("div",{children:[e.jsx(Ht,{indicatorColor:"primary",onChange:l,scrollButtons:"auto",textColor:"primary",value:a,variant:"scrollable",children:p.map(y=>e.jsx(Qt,{label:y.label,value:y.value},y.value))}),e.jsx(Se,{})]})]}),a==="Modifier type d'oeuf"&&e.jsx(dn,{}),a==="billing"&&e.jsx(pt,{plan:"standard",invoices:[{id:"5547409069c59755261f5546",amount:4.99,createdAt:Le(we,1).getTime()},{id:"a3e17f4b551ff8766903f31f",amount:4.99,createdAt:Le(we,2).getTime()},{id:"28ca7c66fc360d8203644256",amount:4.99,createdAt:Le(we,3).getTime()}]}),a==="team"&&e.jsx(gt,{members:[{avatar:"/assets/avatars/avatar-cao-yu.png",email:"cao.yu@devias.io",name:"Cao Yu",role:"Owner"},{avatar:"/assets/avatars/avatar-siegbert-gottfried.png",email:"siegbert.gottfried@devias.io",name:"Siegbert Gottfried",role:"Standard"}]}),a==="notifications"&&e.jsx(un,{}),a==="security"&&e.jsx(ft,{loginEvents:[{id:"1bd6d44321cb78fd915462fa",createdAt:Je(Xe(Ke(we,5),7),1).getTime(),ip:"95.130.17.84",type:"Credential login",userAgent:"Chrome, Mac OS 10.15.7"},{id:"bde169c2fe9adea5d4598ea9",createdAt:Je(Xe(Ke(we,25),9),1).getTime(),ip:"95.130.17.84",type:"Credential login",userAgent:"Chrome, Mac OS 10.15.7"}]}),a==="client"&&e.jsx(Cn,{}),a==="mainDoeuvre"&&e.jsx(Zn,{}),a==="magasin"&&e.jsx(Dn,{}),a==="batiment"&&e.jsx(qn,{}),a==="depenseMensuel"&&e.jsx(Gn,{}),a==="depenseDivers"&&e.jsx(Hn,{})]})})]})};export{hr as default};
