import{n as bt,o as jt,s as Ee,q as ve,_ as re,t as Ze,v as yt,w as vt,r as w,x as Ct,y as wt,j as e,z as _t,A as St,D as Mt,E as kt,G as Bt,H as Tt,J as Dt,K as tt,M as Et,N as Me,O as Rt,Q as Pe,U as Ft,V as $t,W as Nt,P as te,X as qt,Y as It,Z as At,T as _,B as P,$ as zt,i as D,a0 as H,a1 as Te,a as V,a2 as G,L as Ge,a3 as rt,d as L,l as i,k as B,a4 as Lt,h as W,a5 as E,I as Ot,a6 as nt,a7 as Ve,a8 as Wt,a9 as J,aa as U,ab as Ae,ac as at,ad as q,ae as Y,af as ee,ag as I,ah as A,ai as $,aj as $e,ak as Ne,al as qe,am as de,F as Ie,C as it,an as st,S as Pt,ao as Qe,ap as Je,aq as Xe}from"./index-5b79c039.js";import{u as Vt}from"./use-page-view-5a2741d5.js";import{E as Re,P as _e,M as Se}from"./ModalDelete-04bd8acd.js";import{C as K,b as se,c as me,a as R,u as pe,d as ue,e as Ce,f as ot}from"./formik.esm-f8b1f355.js";import{C as De}from"./CardHeader-0df2b094.js";import{s as Ut,T as be,a as je,b as Q,c as y,d as ye,u as le,e as ze,S as Z,h as he,B as ne,E as ae,A as Yt,f as oe,G as O,g as lt}from"./moment-864131f4.js";import{S as Ht,F as Zt}from"./FormControlLabel-78628ecd.js";import{T as Le,C as ce}from"./TableRowsLoader-23cb4167.js";import{A as Ue}from"./AlertError-96b329d4.js";import{D as Oe}from"./DeleteOutlineOutlined-32598299.js";import{M as xe}from"./ModalConfirm-575c2085.js";import{D as ge}from"./DatePicker-9add668e.js";import{E as ct}from"./Edit-65022ded.js";import{D as dt}from"./Delete-951034da.js";import{C as ut}from"./Check-81145735.js";import{T as Gt,a as Qt}from"./Tabs-0c73418c.js";function Jt(s){return jt("MuiSwitch",s)}const Xt=bt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),X=Xt,Kt=["className","color","edge","size","sx"],er=s=>{const{classes:t,edge:h,size:n,color:x,checked:m,disabled:b}=s,c={root:["root",h&&`edge${ve(h)}`,`size${ve(n)}`],switchBase:["switchBase",`color${ve(x)}`,m&&"checked",b&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},o=St(c,Jt,t);return re({},t,o)},tr=Ee("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:h}=s;return[t.root,h.edge&&t[`edge${ve(h.edge)}`],t[`size${ve(h.size)}`]]}})(({ownerState:s})=>re({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},s.edge==="start"&&{marginLeft:-8},s.edge==="end"&&{marginRight:-8},s.size==="small"&&{width:40,height:24,padding:7,[`& .${X.thumb}`]:{width:16,height:16},[`& .${X.switchBase}`]:{padding:4,[`&.${X.checked}`]:{transform:"translateX(16px)"}}})),rr=Ee(Ht,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(s,t)=>{const{ownerState:h}=s;return[t.switchBase,{[`& .${X.input}`]:t.input},h.color!=="default"&&t[`color${ve(h.color)}`]]}})(({theme:s})=>({position:"absolute",top:0,left:0,zIndex:1,color:s.vars?s.vars.palette.Switch.defaultColor:`${s.palette.mode==="light"?s.palette.common.white:s.palette.grey[300]}`,transition:s.transitions.create(["left","transform"],{duration:s.transitions.duration.shortest}),[`&.${X.checked}`]:{transform:"translateX(20px)"},[`&.${X.disabled}`]:{color:s.vars?s.vars.palette.Switch.defaultDisabledColor:`${s.palette.mode==="light"?s.palette.grey[100]:s.palette.grey[600]}`},[`&.${X.checked} + .${X.track}`]:{opacity:.5},[`&.${X.disabled} + .${X.track}`]:{opacity:s.vars?s.vars.opacity.switchTrackDisabled:`${s.palette.mode==="light"?.12:.2}`},[`& .${X.input}`]:{left:"-100%",width:"300%"}}),({theme:s,ownerState:t})=>re({"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette.action.activeChannel} / ${s.vars.palette.action.hoverOpacity})`:Ze(s.palette.action.active,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${X.checked}`]:{color:(s.vars||s).palette[t.color].main,"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette[t.color].mainChannel} / ${s.vars.palette.action.hoverOpacity})`:Ze(s.palette[t.color].main,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${X.disabled}`]:{color:s.vars?s.vars.palette.Switch[`${t.color}DisabledColor`]:`${s.palette.mode==="light"?yt(s.palette[t.color].main,.62):vt(s.palette[t.color].main,.55)}`}},[`&.${X.checked} + .${X.track}`]:{backgroundColor:(s.vars||s).palette[t.color].main}})),nr=Ee("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(s,t)=>t.track})(({theme:s})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:s.transitions.create(["opacity","background-color"],{duration:s.transitions.duration.shortest}),backgroundColor:s.vars?s.vars.palette.common.onBackground:`${s.palette.mode==="light"?s.palette.common.black:s.palette.common.white}`,opacity:s.vars?s.vars.opacity.switchTrack:`${s.palette.mode==="light"?.38:.3}`})),ar=Ee("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(s,t)=>t.thumb})(({theme:s})=>({boxShadow:(s.vars||s).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),ir=w.forwardRef(function(t,h){const n=Ct({props:t,name:"MuiSwitch"}),{className:x,color:m="primary",edge:b=!1,size:c="medium",sx:o}=n,r=wt(n,Kt),a=re({},n,{color:m,edge:b,size:c}),d=er(a),u=e.jsx(ar,{className:d.thumb,ownerState:a});return e.jsxs(tr,{className:_t(d.root,x),sx:o,ownerState:a,children:[e.jsx(rr,re({type:"checkbox",icon:u,checkedIcon:u,ref:h,ownerState:a},r,{classes:re({},d,{root:d.switchBase})})),e.jsx(nr,{className:d.track,ownerState:a})]})}),we=ir;function We(s,t){Mt(2,arguments);var h=Bt(t);return kt(s,-h)}var sr=function(s){Tt(t,s);function t(n,x){var m;return m=s.call(this)||this,m.client=n,m.setOptions(x),m.bindMethods(),m.updateResult(),m}var h=t.prototype;return h.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},h.setOptions=function(x){this.options=this.client.defaultMutationOptions(x)},h.onUnsubscribe=function(){if(!this.listeners.length){var x;(x=this.currentMutation)==null||x.removeObserver(this)}},h.onMutationUpdate=function(x){this.updateResult();var m={listeners:!0};x.type==="success"?m.onSuccess=!0:x.type==="error"&&(m.onError=!0),this.notify(m)},h.getCurrentResult=function(){return this.currentResult},h.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},h.mutate=function(x,m){return this.mutateOptions=m,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,re({},this.options,{variables:typeof x<"u"?x:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},h.updateResult=function(){var x=this.currentMutation?this.currentMutation.state:Dt(),m=re({},x,{isLoading:x.status==="loading",isSuccess:x.status==="success",isError:x.status==="error",isIdle:x.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=m},h.notify=function(x){var m=this;tt.batch(function(){m.mutateOptions&&(x.onSuccess?(m.mutateOptions.onSuccess==null||m.mutateOptions.onSuccess(m.currentResult.data,m.currentResult.variables,m.currentResult.context),m.mutateOptions.onSettled==null||m.mutateOptions.onSettled(m.currentResult.data,null,m.currentResult.variables,m.currentResult.context)):x.onError&&(m.mutateOptions.onError==null||m.mutateOptions.onError(m.currentResult.error,m.currentResult.variables,m.currentResult.context),m.mutateOptions.onSettled==null||m.mutateOptions.onSettled(void 0,m.currentResult.error,m.currentResult.variables,m.currentResult.context))),x.listeners&&m.listeners.forEach(function(b){b(m.currentResult)})})},t}(Et);function or(s,t,h){var n=Me.useRef(!1),x=Me.useState(0),m=x[1],b=Rt(s,t,h),c=Pe(),o=Me.useRef();o.current?o.current.setOptions(b):o.current=new sr(c,b);var r=o.current.getCurrentResult();Me.useEffect(function(){n.current=!0;var d=o.current.subscribe(tt.batchCalls(function(){n.current&&m(function(u){return u+1})}));return function(){n.current=!1,d()}},[]);var a=Me.useCallback(function(d,u){o.current.mutate(d,u).catch(Ft)},[]);if(r.error&&Ut(void 0,o.current.options.useErrorBoundary,[r.error]))throw r.error;return re({},r,{mutate:a,mutateAsync:r.mutate})}var ht={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(s){(function(t,h){s.exports?s.exports=h():t.numeral=h()})($t,function(){var t,h,n="2.0.6",x={},m={},b={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:b.currentLocale,zeroFormat:b.zeroFormat,nullFormat:b.nullFormat,defaultFormat:b.defaultFormat,scalePercentBy100:b.scalePercentBy100};function o(r,a){this._input=r,this._value=a}return t=function(r){var a,d,u,l;if(t.isNumeral(r))a=r.value();else if(r===0||typeof r>"u")a=0;else if(r===null||h.isNaN(r))a=null;else if(typeof r=="string")if(c.zeroFormat&&r===c.zeroFormat)a=0;else if(c.nullFormat&&r===c.nullFormat||!r.replace(/[^0-9]+/g,"").length)a=null;else{for(d in x)if(l=typeof x[d].regexps.unformat=="function"?x[d].regexps.unformat():x[d].regexps.unformat,l&&r.match(l)){u=x[d].unformat;break}u=u||t._.stringToNumber,a=u(r)}else a=Number(r)||null;return new o(r,a)},t.version=n,t.isNumeral=function(r){return r instanceof o},t._=h={numberToFormat:function(r,a,d){var u=m[t.options.currentLocale],l=!1,p=!1,f=0,j="",k=1e12,M=1e9,N=1e6,F=1e3,T="",v=!1,g,C,S,z,fe,Ye,ie;if(r=r||0,C=Math.abs(r),t._.includes(a,"(")?(l=!0,a=a.replace(/[\(|\)]/g,"")):(t._.includes(a,"+")||t._.includes(a,"-"))&&(fe=t._.includes(a,"+")?a.indexOf("+"):r<0?a.indexOf("-"):-1,a=a.replace(/[\+|\-]/g,"")),t._.includes(a,"a")&&(g=a.match(/a(k|m|b|t)?/),g=g?g[1]:!1,t._.includes(a," a")&&(j=" "),a=a.replace(new RegExp(j+"a[kmbt]?"),""),C>=k&&!g||g==="t"?(j+=u.abbreviations.trillion,r=r/k):C<k&&C>=M&&!g||g==="b"?(j+=u.abbreviations.billion,r=r/M):C<M&&C>=N&&!g||g==="m"?(j+=u.abbreviations.million,r=r/N):(C<N&&C>=F&&!g||g==="k")&&(j+=u.abbreviations.thousand,r=r/F)),t._.includes(a,"[.]")&&(p=!0,a=a.replace("[.]",".")),S=r.toString().split(".")[0],z=a.split(".")[1],Ye=a.indexOf(","),f=(a.split(".")[0].split(",")[0].match(/0/g)||[]).length,z?(t._.includes(z,"[")?(z=z.replace("]",""),z=z.split("["),T=t._.toFixed(r,z[0].length+z[1].length,d,z[1].length)):T=t._.toFixed(r,z.length,d),S=T.split(".")[0],t._.includes(T,".")?T=u.delimiters.decimal+T.split(".")[1]:T="",p&&Number(T.slice(1))===0&&(T="")):S=t._.toFixed(r,0,d),j&&!g&&Number(S)>=1e3&&j!==u.abbreviations.trillion)switch(S=String(Number(S)/1e3),j){case u.abbreviations.thousand:j=u.abbreviations.million;break;case u.abbreviations.million:j=u.abbreviations.billion;break;case u.abbreviations.billion:j=u.abbreviations.trillion;break}if(t._.includes(S,"-")&&(S=S.slice(1),v=!0),S.length<f)for(var He=f-S.length;He>0;He--)S="0"+S;return Ye>-1&&(S=S.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+u.delimiters.thousands)),a.indexOf(".")===0&&(S=""),ie=S+T+(j||""),l?ie=(l&&v?"(":"")+ie+(l&&v?")":""):fe>=0?ie=fe===0?(v?"-":"+")+ie:ie+(v?"-":"+"):v&&(ie="-"+ie),ie},stringToNumber:function(r){var a=m[c.currentLocale],d=r,u={thousand:3,million:6,billion:9,trillion:12},l,p,f;if(c.zeroFormat&&r===c.zeroFormat)p=0;else if(c.nullFormat&&r===c.nullFormat||!r.replace(/[^0-9]+/g,"").length)p=null;else{p=1,a.delimiters.decimal!=="."&&(r=r.replace(/\./g,"").replace(a.delimiters.decimal,"."));for(l in u)if(f=new RegExp("[^a-zA-Z]"+a.abbreviations[l]+"(?:\\)|(\\"+a.currency.symbol+")?(?:\\))?)?$"),d.match(f)){p*=Math.pow(10,u[l]);break}p*=(r.split("-").length+Math.min(r.split("(").length-1,r.split(")").length-1))%2?1:-1,r=r.replace(/[^0-9\.]+/g,""),p*=Number(r)}return p},isNaN:function(r){return typeof r=="number"&&isNaN(r)},includes:function(r,a){return r.indexOf(a)!==-1},insert:function(r,a,d){return r.slice(0,d)+a+r.slice(d)},reduce:function(r,a){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof a!="function")throw new TypeError(a+" is not a function");var d=Object(r),u=d.length>>>0,l=0,p;if(arguments.length===3)p=arguments[2];else{for(;l<u&&!(l in d);)l++;if(l>=u)throw new TypeError("Reduce of empty array with no initial value");p=d[l++]}for(;l<u;l++)l in d&&(p=a(p,d[l],l,d));return p},multiplier:function(r){var a=r.toString().split(".");return a.length<2?1:Math.pow(10,a[1].length)},correctionFactor:function(){var r=Array.prototype.slice.call(arguments);return r.reduce(function(a,d){var u=h.multiplier(d);return a>u?a:u},1)},toFixed:function(r,a,d,u){var l=r.toString().split("."),p=a-(u||0),f,j,k,M;return l.length===2?f=Math.min(Math.max(l[1].length,p),a):f=p,k=Math.pow(10,f),M=(d(r+"e+"+f)/k).toFixed(f),u>a-f&&(j=new RegExp("\\.?0{1,"+(u-(a-f))+"}$"),M=M.replace(j,"")),M}},t.options=c,t.formats=x,t.locales=m,t.locale=function(r){return r&&(c.currentLocale=r.toLowerCase()),c.currentLocale},t.localeData=function(r){if(!r)return m[c.currentLocale];if(r=r.toLowerCase(),!m[r])throw new Error("Unknown locale : "+r);return m[r]},t.reset=function(){for(var r in b)c[r]=b[r]},t.zeroFormat=function(r){c.zeroFormat=typeof r=="string"?r:null},t.nullFormat=function(r){c.nullFormat=typeof r=="string"?r:null},t.defaultFormat=function(r){c.defaultFormat=typeof r=="string"?r:"0.0"},t.register=function(r,a,d){if(a=a.toLowerCase(),this[r+"s"][a])throw new TypeError(a+" "+r+" already registered.");return this[r+"s"][a]=d,d},t.validate=function(r,a){var d,u,l,p,f,j,k,M;if(typeof r!="string"&&(r+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",r)),r=r.trim(),r.match(/^\d+$/))return!0;if(r==="")return!1;try{k=t.localeData(a)}catch{k=t.localeData(t.locale())}return l=k.currency.symbol,f=k.abbreviations,d=k.delimiters.decimal,k.delimiters.thousands==="."?u="\\.":u=k.delimiters.thousands,M=r.match(/^[^\d]+/),M!==null&&(r=r.substr(1),M[0]!==l)||(M=r.match(/[^\d]+$/),M!==null&&(r=r.slice(0,-1),M[0]!==f.thousand&&M[0]!==f.million&&M[0]!==f.billion&&M[0]!==f.trillion))?!1:(j=new RegExp(u+"{2}"),r.match(/[^\d.,]/g)?!1:(p=r.split(d),p.length>2?!1:p.length<2?!!p[0].match(/^\d+.*\d$/)&&!p[0].match(j):p[0].length===1?!!p[0].match(/^\d+$/)&&!p[0].match(j)&&!!p[1].match(/^\d+$/):!!p[0].match(/^\d+.*\d$/)&&!p[0].match(j)&&!!p[1].match(/^\d+$/)))},t.fn=o.prototype={clone:function(){return t(this)},format:function(r,a){var d=this._value,u=r||c.defaultFormat,l,p,f;if(a=a||Math.round,d===0&&c.zeroFormat!==null)p=c.zeroFormat;else if(d===null&&c.nullFormat!==null)p=c.nullFormat;else{for(l in x)if(u.match(x[l].regexps.format)){f=x[l].format;break}f=f||t._.numberToFormat,p=f(d,u,a)}return p},value:function(){return this._value},input:function(){return this._input},set:function(r){return this._value=Number(r),this},add:function(r){var a=h.correctionFactor.call(null,this._value,r);function d(u,l,p,f){return u+Math.round(a*l)}return this._value=h.reduce([this._value,r],d,0)/a,this},subtract:function(r){var a=h.correctionFactor.call(null,this._value,r);function d(u,l,p,f){return u-Math.round(a*l)}return this._value=h.reduce([r],d,Math.round(this._value*a))/a,this},multiply:function(r){function a(d,u,l,p){var f=h.correctionFactor(d,u);return Math.round(d*f)*Math.round(u*f)/Math.round(f*f)}return this._value=h.reduce([this._value,r],a,1),this},divide:function(r){function a(d,u,l,p){var f=h.correctionFactor(d,u);return Math.round(d*f)/Math.round(u*f)}return this._value=h.reduce([this._value,r],a),this},difference:function(r){return Math.abs(t(this._value).subtract(r).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(r){var a=r%10;return~~(r%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th"},currency:{symbol:"$"}}),function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(r,a,d){var u=t._.includes(a," BPS")?" ":"",l;return r=r*1e4,a=a.replace(/\s?BPS/,""),l=t._.numberToFormat(r,a,d),t._.includes(l,")")?(l=l.split(""),l.splice(-1,0,u+"BPS"),l=l.join("")):l=l+u+"BPS",l},unformat:function(r){return+(t._.stringToNumber(r)*1e-4).toFixed(15)}})}(),function(){var r={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},a={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},d=r.suffixes.concat(a.suffixes.filter(function(l){return r.suffixes.indexOf(l)<0})),u=d.join("|");u="("+u.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(u)},format:function(l,p,f){var j,k=t._.includes(p,"ib")?a:r,M=t._.includes(p," b")||t._.includes(p," ib")?" ":"",N,F,T;for(p=p.replace(/\s?i?b/,""),N=0;N<=k.suffixes.length;N++)if(F=Math.pow(k.base,N),T=Math.pow(k.base,N+1),l===null||l===0||l>=F&&l<T){M+=k.suffixes[N],F>0&&(l=l/F);break}return j=t._.numberToFormat(l,p,f),j+M},unformat:function(l){var p=t._.stringToNumber(l),f,j;if(p){for(f=r.suffixes.length-1;f>=0;f--){if(t._.includes(l,r.suffixes[f])){j=Math.pow(r.base,f);break}if(t._.includes(l,a.suffixes[f])){j=Math.pow(a.base,f);break}}p*=j||1}return p}})}(),function(){t.register("format","currency",{regexps:{format:/(\$)/},format:function(r,a,d){var u=t.locales[t.options.currentLocale],l={before:a.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:a.match(/([\+|\-|\)|\s|\$]*)$/)[0]},p,f,j;for(a=a.replace(/\s?\$\s?/,""),p=t._.numberToFormat(r,a,d),r>=0?(l.before=l.before.replace(/[\-\(]/,""),l.after=l.after.replace(/[\-\)]/,"")):r<0&&!t._.includes(l.before,"-")&&!t._.includes(l.before,"(")&&(l.before="-"+l.before),j=0;j<l.before.length;j++)switch(f=l.before[j],f){case"$":p=t._.insert(p,u.currency.symbol,j);break;case" ":p=t._.insert(p," ",j+u.currency.symbol.length-1);break}for(j=l.after.length-1;j>=0;j--)switch(f=l.after[j],f){case"$":p=j===l.after.length-1?p+u.currency.symbol:t._.insert(p,u.currency.symbol,-(l.after.length-(1+j)));break;case" ":p=j===l.after.length-1?p+" ":t._.insert(p," ",-(l.after.length-(1+j)+u.currency.symbol.length-1));break}return p}})}(),function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(r,a,d){var u,l=typeof r=="number"&&!t._.isNaN(r)?r.toExponential():"0e+0",p=l.split("e");return a=a.replace(/e[\+|\-]{1}0/,""),u=t._.numberToFormat(Number(p[0]),a,d),u+"e"+p[1]},unformat:function(r){var a=t._.includes(r,"e+")?r.split("e+"):r.split("e-"),d=Number(a[0]),u=Number(a[1]);u=t._.includes(r,"e-")?u*=-1:u;function l(p,f,j,k){var M=t._.correctionFactor(p,f),N=p*M*(f*M)/(M*M);return N}return t._.reduce([d,Math.pow(10,u)],l,1)}})}(),function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:function(r,a,d){var u=t.locales[t.options.currentLocale],l,p=t._.includes(a," o")?" ":"";return a=a.replace(/\s?o/,""),p+=u.ordinal(r),l=t._.numberToFormat(r,a,d),l+p}})}(),function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(r,a,d){var u=t._.includes(a," %")?" ":"",l;return t.options.scalePercentBy100&&(r=r*100),a=a.replace(/\s?\%/,""),l=t._.numberToFormat(r,a,d),t._.includes(l,")")?(l=l.split(""),l.splice(-1,0,u+"%"),l=l.join("")):l=l+u+"%",l},unformat:function(r){var a=t._.stringToNumber(r);return t.options.scalePercentBy100?a*.01:a}})}(),function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(r,a,d){var u=Math.floor(r/60/60),l=Math.floor((r-u*60*60)/60),p=Math.round(r-u*60*60-l*60);return u+":"+(l<10?"0"+l:l)+":"+(p<10?"0"+p:p)},unformat:function(r){var a=r.split(":"),d=0;return a.length===3?(d=d+Number(a[0])*60*60,d=d+Number(a[1])*60,d=d+Number(a[2])):a.length===2&&(d=d+Number(a[0])*60,d=d+Number(a[1])),Number(d)}})}(),t})})(ht);var lr=ht.exports;const Ke=Nt(lr),mt=s=>{const{children:t}=s;return e.jsx(qt,{disablePadding:!0,children:t})};mt.propTypes={children:te.node};const Be=s=>{const{align:t="vertical",children:h,disableGutters:n,value:x,label:m,...b}=s;return e.jsx(It,{sx:{px:n?0:3,py:1.5},...b,children:e.jsx(At,{disableTypography:!0,primary:e.jsx(_,{sx:{minWidth:t==="vertical"?"inherit":180},variant:"subtitle2",children:m}),secondary:e.jsx(P,{sx:{flex:1,mt:t==="vertical"?.5:0},children:h||e.jsx(_,{color:"text.secondary",variant:"body2",children:x})}),sx:{display:"flex",flexDirection:t==="vertical"?"column":"row",my:0}})})};Be.propTypes={align:te.oneOf(["horizontal","vertical"]),children:te.node,disableGutters:te.bool,label:te.string.isRequired,value:te.string};const Fe=s=>{const{name:t}=s,n=zt().palette.primary.main;switch(t){case"startup":return e.jsx("svg",{fill:"none",height:"33",viewBox:"0 0 24 33",width:"24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M13.7898 0.492981L23.0191 5.55771C23.2324 5.67468 23.4097 5.84498 23.5332 6.05102C23.6567 6.25713 23.7218 6.49154 23.7218 6.73031C23.7218 6.96907 23.6567 7.20348 23.5332 7.4096C23.4097 7.61564 23.2324 7.78594 23.0191 7.9029L13.7899 12.9679C13.2008 13.2911 12.5366 13.4609 11.861 13.4609C11.1852 13.4609 10.521 13.2911 9.93202 12.9679L0.702682 7.9029C0.489532 7.78594 0.312084 7.61564 0.188587 7.4096C0.0650921 7.20348 -9.53674e-06 6.96907 -9.53674e-06 6.73031C-9.53674e-06 6.49154 0.0650921 6.25713 0.188587 6.05102C0.312084 5.84498 0.489532 5.67468 0.702682 5.55771L9.93202 0.492981C10.521 0.169739 11.1852 -5.72205e-06 11.861 -5.72205e-06C12.5366 -5.72205e-06 13.2008 0.169739 13.7898 0.492981Z",fill:n})});case"standard":return e.jsxs("svg",{fill:"none",height:"33",viewBox:"0 0 33 33",width:"33",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M18.4946 0.492981L27.7239 5.55771C27.9372 5.67468 28.1145 5.84498 28.238 6.05102C28.3615 6.25713 28.4266 6.49154 28.4266 6.73031C28.4266 6.96907 28.3615 7.20348 28.238 7.4096C28.1145 7.61564 27.9372 7.78594 27.7239 7.9029L18.4947 12.9679C17.9056 13.2911 17.2414 13.4609 16.5658 13.4609C15.89 13.4609 15.2258 13.2911 14.6368 12.9679L5.40749 7.9029C5.19434 7.78594 5.01689 7.61564 4.89339 7.4096C4.7699 7.20348 4.70479 6.96907 4.70479 6.73031C4.70479 6.49154 4.7699 6.25713 4.89339 6.05102C5.01689 5.84498 5.19434 5.67468 5.40749 5.55771L14.6368 0.492981C15.2258 0.169739 15.89 -5.72205e-06 16.5658 -5.72205e-06C17.2414 -5.72205e-06 17.9056 0.169739 18.4946 0.492981Z",fill:n}),e.jsx("path",{d:"M18.4448 5.2478L31.6626 12.5013C31.8758 12.6183 32.0532 12.7886 32.1767 12.9946C32.3002 13.2007 32.3653 13.4351 32.3653 13.6739C32.3653 13.9127 32.3002 14.1471 32.1767 14.3532C32.0532 14.5593 31.8758 14.7295 31.6626 14.8466L18.4448 22.1C17.8558 22.4231 17.1916 22.593 16.516 22.593C15.8403 22.593 15.1761 22.4231 14.5871 22.1L1.3693 14.8466C1.15615 14.7295 0.978699 14.5593 0.855202 14.3532C0.731705 14.1471 0.666607 13.9127 0.666607 13.6739C0.666607 13.4351 0.731705 13.2007 0.855202 12.9946C0.978699 12.7886 1.15615 12.6183 1.3693 12.5013L14.5871 5.2478C15.1761 4.92464 15.8403 4.75489 16.516 4.75489C17.1916 4.75489 17.8558 4.92464 18.4448 5.2478Z",fill:n,opacity:"0.7"})]});case"business":return e.jsxs("svg",{fill:"none",height:"33",viewBox:"0 0 43 33",width:"43",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M23.0075 0.49292L32.2369 5.55765C32.4501 5.67462 32.6275 5.84492 32.751 6.05096C32.8745 6.25707 32.9396 6.49148 32.9396 6.73025C32.9396 6.96901 32.8745 7.20342 32.751 7.40954C32.6275 7.61558 32.4501 7.78587 32.2369 7.90284L23.0076 12.9678C22.4186 13.2911 21.7543 13.4609 21.0787 13.4609C20.403 13.4609 19.7387 13.2911 19.1498 12.9678L9.92043 7.90284C9.70728 7.78587 9.52983 7.61558 9.40633 7.40954C9.28284 7.20342 9.21773 6.96901 9.21773 6.73025C9.21773 6.49148 9.28284 6.25707 9.40633 6.05096C9.52983 5.84492 9.70728 5.67462 9.92043 5.55765L19.1498 0.49292C19.7387 0.169678 20.403 -6.67572e-05 21.0787 -6.67572e-05C21.7543 -6.67572e-05 22.4186 0.169678 23.0075 0.49292Z",fill:n}),e.jsx("path",{d:"M22.9577 5.24774L36.1755 12.5012C36.3886 12.6182 36.5661 12.7885 36.6896 12.9945C36.8131 13.2007 36.8782 13.4351 36.8782 13.6738C36.8782 13.9126 36.8131 14.1471 36.6896 14.3531C36.5661 14.5592 36.3886 14.7295 36.1755 14.8465L22.9577 22.0999C22.3687 22.4231 21.7045 22.5929 21.0288 22.5929C20.3532 22.5929 19.6889 22.4231 19.1 22.0999L5.88218 14.8465C5.66903 14.7295 5.49158 14.5592 5.36808 14.3531C5.24458 14.1471 5.17949 13.9126 5.17949 13.6738C5.17949 13.4351 5.24458 13.2007 5.36808 12.9945C5.49158 12.7885 5.66903 12.6182 5.88218 12.5012L19.1 5.24774C19.6889 4.92458 20.3532 4.75483 21.0288 4.75483C21.7045 4.75483 22.3687 4.92458 22.9577 5.24774Z",fill:n,opacity:"0.7"}),e.jsx("path",{d:"M23.259 10.0018L41.6317 20.0843C41.8445 20.2012 42.0217 20.3711 42.145 20.5769C42.2683 20.7826 42.3333 21.0167 42.3333 21.2551C42.3333 21.4935 42.2683 21.7275 42.145 21.9333C42.0217 22.139 41.8445 22.309 41.6317 22.4258L23.2589 32.5081C22.6709 32.8307 22.0078 33.0002 21.3332 33.0002C20.6587 33.0002 19.9955 32.8307 19.4075 32.5081L1.03479 22.4258C0.821995 22.309 0.644833 22.139 0.521538 21.9333C0.398247 21.7275 0.333252 21.4935 0.333252 21.2551C0.333252 21.0167 0.398247 20.7826 0.521538 20.5769C0.644833 20.3711 0.821995 20.2012 1.03479 20.0843L19.4075 10.0018C19.9955 9.67921 20.6587 9.50966 21.3332 9.50966C22.0078 9.50966 22.6709 9.67921 23.259 10.0018Z",fill:n,opacity:"0.4"})]});default:return null}};Fe.propTypes={name:te.oneOf(["startup","standard","business"]).isRequired};const cr=[{id:"startup",icon:e.jsx(Fe,{name:"startup"}),name:"Startup",price:0},{id:"standard",icon:e.jsx(Fe,{name:"standard"}),name:"Standard",price:4.99},{id:"business",icon:e.jsx(Fe,{name:"business"}),name:"Business",price:29.99}],pt=s=>{const{plan:t="standard",invoices:h=[]}=s,[n,x]=w.useState(t);return e.jsxs(D,{spacing:4,...s,children:[e.jsxs(K,{children:[e.jsx(De,{title:"Change Plan",subheader:"You can upgrade and downgrade whenever you want"}),e.jsxs(se,{sx:{pt:0},children:[e.jsx("div",{children:e.jsx(H,{container:!0,spacing:3,children:cr.map(m=>{const b=m.id===n,c=m.id===t,o=Ke(m.price).format("$0,0.00");return e.jsx(H,{xs:12,sm:4,children:e.jsx(K,{onClick:()=>x(m.id),sx:{cursor:"pointer",...b&&{borderColor:"primary.main",borderWidth:2,m:"-1px"}},variant:"outlined",children:e.jsxs(se,{children:[e.jsx(P,{sx:{height:52,width:52,"& img":{height:"auto",width:"100%"}},children:m.icon}),e.jsxs(P,{sx:{display:"flex",mb:1,mt:1},children:[e.jsx(_,{variant:"h5",children:o}),e.jsx(_,{color:"text.secondary",sx:{mt:"auto",ml:"4px"},variant:"body2",children:"/mo"})]}),e.jsxs(D,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsx(_,{variant:"overline",children:m.name}),c&&e.jsx(_,{color:"primary.main",variant:"caption",children:"Using now"})]})]})})},m.id)})})}),e.jsx(Te,{sx:{my:3}}),e.jsxs(P,{sx:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[e.jsx(_,{variant:"h6",children:"Billing details"}),e.jsx(V,{color:"inherit",startIcon:e.jsx(G,{children:e.jsx(Re,{})}),children:"Edit"})]}),e.jsx(P,{sx:{border:1,borderColor:"divider",borderRadius:1,mt:3},children:e.jsxs(mt,{children:[e.jsx(Be,{align:"horizontal",divider:!0,label:"Billing name",value:"John Doe"}),e.jsx(Be,{align:"horizontal",divider:!0,label:"Card number",value:"**** 1111"}),e.jsx(Be,{align:"horizontal",divider:!0,label:"Country",value:"Germany"}),e.jsx(Be,{align:"horizontal",label:"Zip / Postal code",value:"667123"})]})}),e.jsxs(_,{color:"text.secondary",variant:"body2",sx:{mt:3},children:["We cannot refund once you purchased a subscription, but you can always",e.jsx(Ge,{href:"#",sx:{ml:"4px"},underline:"none",variant:"body2",children:"Cancel"})]}),e.jsx(P,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(V,{variant:"contained",children:"Upgrade Plan"})})]})]}),e.jsxs(K,{children:[e.jsx(De,{title:"Invoice history",subheader:"You can view and download all your previous invoices here. If you’ve just made a payment, it may take a few hours for it to appear in the table below."}),e.jsxs(be,{children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(y,{children:"Date"}),e.jsx(y,{children:"Total (incl. tax)"}),e.jsx(y,{})]})}),e.jsx(ye,{children:h.map(m=>{const b=rt(m.createdAt,"dd MMM yyyy"),c=Ke(m.amount).format("$0,0.00");return e.jsxs(Q,{children:[e.jsx(y,{children:b}),e.jsx(y,{children:c}),e.jsx(y,{align:"right",children:e.jsx(Ge,{color:"inherit",underline:"always",href:"#",children:"View Invoice"})})]},m.id)})})]})]})]})};pt.propTypes={plan:te.string,invoices:te.array};const dr=async()=>{try{const{data:s}=await W.get("/class/list/active/");return s.map(t=>({...t,value:t.custom_name}))}catch(s){throw new Error(s)}},ur=()=>{const{t:s,i18n:t}=L(),h=le("eggTypes",dr),n=useQueryClient(),[x,m]=w.useState();or({mutationFn:editTodo,onSuccess:a=>{n.setQueryData(["eggTypes",{id:x}],a)}});const[b,c]=w.useState({}),o=(a,d)=>{a.target.value!==""&&W.put("/customclass/update/",{id:d,custom_name:a.target.value}).then(u=>{E.success(s(i.global.toastEggSuccess))})},r=(a,d)=>{W.put("/customclass/activation/",{id:d})};return e.jsx(D,{spacing:4,children:e.jsxs(K,{children:[e.jsx(De,{title:s(i.global.eggTypeUpdateTitle)}),e.jsxs(se,{children:[e.jsx(_,{variant:"h6"}),e.jsx(H,{container:!0,spacing:3,children:h.isLoading?e.jsx(Lt,{}):h==null?void 0:h.data.map(a=>e.jsx(H,{item:!0,spacing:2,xs:4,children:e.jsxs(D,{spacing:1,children:[e.jsx(_,{variant:"subtitle1",children:a.egg_class_name}),e.jsxs(D,{direction:"row",children:[e.jsx(_,{color:"text.secondary",variant:"body2",children:e.jsx(B,{label:a.value,value:b[a.id],onChange:d=>c(u=>({...u,[a.id]:d.target.value})),onBlur:d=>o(d,a.id),size:"small"})}),e.jsx(Zt,{value:"start",control:e.jsx(we,{size:"small",checked:a.is_active,color:"success",onChange:d=>r(d,a.id)}),label:a.is_active?"activate":"deactivate",labelPlacement:"start",sx:{mr:1}})]})]})}))})]})]})})},hr=()=>e.jsx(K,{children:e.jsxs(se,{children:[e.jsxs(H,{container:!0,spacing:3,children:[e.jsx(H,{xs:12,md:4,children:e.jsx(_,{variant:"h6",children:"Email"})}),e.jsx(H,{xs:12,sm:12,md:8,children:e.jsxs(D,{divider:e.jsx(Te,{}),spacing:3,children:[e.jsxs(D,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(D,{spacing:1,children:[e.jsx(_,{variant:"subtitle1",children:"Product updates"}),e.jsx(_,{color:"text.secondary",variant:"body2",children:"News, announcements, and product updates."})]}),e.jsx(we,{defaultChecked:!0})]}),e.jsxs(D,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(D,{spacing:1,children:[e.jsx(_,{variant:"subtitle1",children:"Security updates"}),e.jsx(_,{variant:"body2",color:"text.secondary",children:"Important notifications about your account security."})]}),e.jsx(we,{defaultChecked:!0})]})]})})]}),e.jsx(Te,{sx:{my:3}}),e.jsxs(H,{container:!0,spacing:3,children:[e.jsx(H,{xs:12,md:4,children:e.jsx(_,{variant:"h6",children:"Phone notifications"})}),e.jsx(H,{xs:12,sm:12,md:8,children:e.jsx(D,{divider:e.jsx(Te,{}),spacing:3,children:e.jsxs(D,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(D,{spacing:1,children:[e.jsx(_,{variant:"subtitle1",children:"Security updates"}),e.jsx(_,{color:"text.secondary",variant:"body2",children:"Important notifications about your account security."})]}),e.jsx(we,{})]})})})]})]})});var mr=function(t){return e.jsxs("svg",re({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"})]}))},pr=function(t){return e.jsxs("svg",re({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M3 8.32c0-1.5121 0-2.2682.2943-2.8458a2.7 2.7 0 0 1 1.18-1.18C5.0517 4 5.8078 4 7.32 4h9.36c1.5121 0 2.2682 0 2.8458.2943.508.2588.9211.6719 1.1799 1.18C21 6.0517 21 6.8078 21 8.32v5.76c0 1.5121 0 2.2682-.2943 2.8458a2.6996 2.6996 0 0 1-1.1799 1.1799c-.5776.2943-1.3337.2943-2.8458.2943H7.32c-1.5121 0-2.2682 0-2.8458-.2943a2.6998 2.6998 0 0 1-1.18-1.1799C3 16.3482 3 15.5921 3 14.08V8.32Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m3 6.7 7.3484 5.1439c.5951.4165.8926.6248 1.2162.7055.2859.0712.5849.0712.8708 0 .3236-.0807.6211-.289 1.2162-.7055L21 6.7M7.32 18.4h9.36c1.5121 0 2.2682 0 2.8458-.2943a2.6996 2.6996 0 0 0 1.1799-1.1799C21 16.3482 21 15.5921 21 14.08V8.32c0-1.5121 0-2.2682-.2943-2.8458a2.6998 2.6998 0 0 0-1.1799-1.18C18.9482 4 18.1921 4 16.68 4H7.32c-1.5121 0-2.2682 0-2.8458.2943a2.7 2.7 0 0 0-1.18 1.18C3 6.0517 3 6.8078 3 8.32v5.76c0 1.5121 0 2.2682.2943 2.8458.2588.508.6719.9211 1.18 1.1799.5775.2943 1.3336.2943 2.8457.2943Z"})]}))};const xr=Ee("span")(({theme:s,ownerState:t})=>{const h=s.palette[t.color].alpha12,n=s.palette.mode==="dark"?s.palette[t.color].main:s.palette[t.color].dark;return{alignItems:"center",backgroundColor:h,borderRadius:12,color:n,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:s.typography.fontFamily,fontSize:s.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:s.spacing(1),paddingRight:s.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}}),xt=s=>{const{color:t="primary",children:h,...n}=s,x={color:t};return e.jsx(xr,{ownerState:x,...n,children:h})};xt.propTypes={children:te.node,color:te.oneOf(["primary","secondary","error","info","warning","success"])};const ft=s=>{const{members:t}=s;return e.jsxs(K,{children:[e.jsx(se,{children:e.jsxs(H,{container:!0,spacing:3,children:[e.jsx(H,{xs:12,md:4,children:e.jsxs(D,{spacing:1,children:[e.jsx(_,{variant:"h6",children:"Invite members"}),e.jsx(_,{color:"text.secondary",variant:"body2",children:"You currently pay for 2 Editor Seats."})]})}),e.jsx(H,{xs:12,md:8,children:e.jsxs(D,{alignItems:"center",direction:"row",spacing:3,children:[e.jsx(B,{InputProps:{startAdornment:e.jsx(Ot,{position:"start",children:e.jsx(G,{children:e.jsx(pr,{})})})},label:"Email address",name:"email",sx:{flexGrow:1},type:"email"}),e.jsx(V,{variant:"contained",children:"Send Invite"})]})})]})}),e.jsx(nt,{children:e.jsxs(be,{sx:{minWidth:400},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(y,{children:"Member"}),e.jsx(y,{children:"Role"}),e.jsx(y,{})]})}),e.jsx(ye,{children:t.map((h,n)=>e.jsxs(Q,{children:[e.jsx(y,{children:e.jsxs(D,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(Ve,{src:h.avatar,sx:{height:40,width:40},children:e.jsx(G,{children:e.jsx(Wt,{})})}),e.jsxs("div",{children:[e.jsx(_,{variant:"subtitle2",children:h.name}),e.jsx(_,{color:"text.secondary",variant:"body2",children:h.email})]})]})}),e.jsx(y,{children:h.role==="Owner"?e.jsx(xt,{children:h.role}):h.role}),e.jsx(y,{align:"right",children:e.jsx(J,{children:e.jsx(G,{children:e.jsx(mr,{})})})})]},n))})]})})]})};ft.propTypes={members:te.array.isRequired};var et=function(t){return e.jsxs("svg",re({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"m12 5 7 7-7 7"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m0 0-7-7m7 7-7 7"})]}))};const gt=s=>{const{loginEvents:t}=s,[h,n]=w.useState(!1),x=w.useCallback(()=>{n(m=>!m)},[]);return e.jsxs(D,{spacing:4,children:[e.jsx(K,{children:e.jsx(se,{children:e.jsxs(H,{container:!0,spacing:3,children:[e.jsx(H,{xs:12,md:4,children:e.jsx(_,{variant:"h6",children:"Change password"})}),e.jsx(H,{xs:12,sm:12,md:8,children:e.jsxs(D,{alignItems:"center",direction:"row",spacing:3,children:[e.jsx(B,{disabled:!h,label:"Password",type:"password",defaultValue:"Thebestpasswordever123#",sx:{flexGrow:1,...!h&&{"& .MuiOutlinedInput-notchedOutline":{borderStyle:"dotted"}}}}),e.jsx(V,{onClick:x,children:h?"Save":"Edit"})]})})]})})}),e.jsxs(K,{children:[e.jsx(De,{title:"Multi Factor Authentication"}),e.jsx(se,{sx:{pt:0},children:e.jsxs(H,{container:!0,spacing:4,children:[e.jsx(H,{xs:12,sm:6,children:e.jsx(K,{sx:{height:"100%"},variant:"outlined",children:e.jsxs(se,{children:[e.jsx(P,{sx:{display:"block",position:"relative"},children:e.jsx(P,{sx:{"&::before":{backgroundColor:"error.main",borderRadius:"50%",content:'""',display:"block",height:8,left:4,position:"absolute",top:7,width:8,zIndex:1}},children:e.jsx(_,{color:"error",sx:{pl:3},variant:"body2",children:"Off"})})}),e.jsx(_,{sx:{mt:1},variant:"subtitle2",children:"Authenticator App"}),e.jsx(_,{color:"text.secondary",sx:{mt:1},variant:"body2",children:"Use an authenticator app to generate one time security codes."}),e.jsx(P,{sx:{mt:4},children:e.jsx(V,{endIcon:e.jsx(G,{children:e.jsx(et,{})}),variant:"outlined",children:"Set Up"})})]})})}),e.jsx(H,{sm:6,xs:12,children:e.jsx(K,{sx:{height:"100%"},variant:"outlined",children:e.jsxs(se,{children:[e.jsx(P,{sx:{position:"relative"},children:e.jsx(P,{sx:{"&::before":{backgroundColor:"error.main",borderRadius:"50%",content:'""',display:"block",height:8,left:4,position:"absolute",top:7,width:8,zIndex:1}},children:e.jsx(_,{color:"error",sx:{pl:3},variant:"body2",children:"Off"})})}),e.jsx(_,{sx:{mt:1},variant:"subtitle2",children:"Text Message"}),e.jsx(_,{color:"text.secondary",sx:{mt:1},variant:"body2",children:"Use your mobile phone to receive security codes via SMS."}),e.jsx(P,{sx:{mt:4},children:e.jsx(V,{endIcon:e.jsx(G,{children:e.jsx(et,{})}),variant:"outlined",children:"Set Up"})})]})})})]})})]}),e.jsxs(K,{children:[e.jsx(De,{title:"Login history",subheader:"Your recent login activity"}),e.jsx(nt,{children:e.jsxs(be,{sx:{minWidth:500},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(y,{children:"Login type"}),e.jsx(y,{children:"IP Address"}),e.jsx(y,{children:"Client"})]})}),e.jsx(ye,{children:t.map(m=>{const b=rt(m.createdAt,"HH:mm a MM/dd/yyyy");return e.jsxs(Q,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsxs(y,{children:[e.jsx(_,{variant:"subtitle2",children:m.type}),e.jsxs(_,{variant:"body2",color:"body2",children:["on ",b]})]}),e.jsx(y,{children:m.ip}),e.jsx(y,{children:m.userAgent})]},m.id)})})]})})]})]})};gt.propTypes={loginEvents:te.array.isRequired};const fr=w.memo(s=>{const t=U();let{count:h=0,items:n=[],onDeselectAll:x,onDeselectOne:m,onSelectAll:b,onSelectOne:c,selected:o=[],isLoading:r,isError:a}=s;const[d,u]=w.useState(1),[l,p]=w.useState(25),{t:f,i18n:j}=L(),k=w.useRef(null),M=(v,g)=>{let C=n.filter(S=>S.id==v)[0];t(q.actions.setCurrentData(C)),t(g?q.actions.openCloseModalUpdate():q.actions.openCloseModalDelete())},N=()=>{const v=k.current;v&&v.scrollHeight===v.scrollTop+v.clientHeight&&!r&&u(C=>C+1)};w.useEffect(()=>(k.current&&k.current.addEventListener("scroll",N),()=>{k.current&&k.current.removeEventListener("scroll",N)}),[r]);const F=n==null?void 0:n.slice(0,d*l),T=v=>{const g=v.target.value;W.put("/client/activation/",{id:g}).then(C=>{t(q.actions.activateClient({id:g}))})};return e.jsxs(P,{sx:{position:"relative"},children:[e.jsx(ze,{component:Ae,sx:{maxHeight:"50vh"},ref:k,children:e.jsxs(be,{sx:{minWidth:700},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(y,{children:f(i.client.Nom)}),e.jsx(y,{children:f(i.client.Telephone)}),e.jsx(y,{children:f(i.client.Ville)}),e.jsx(y,{})]})}),r?e.jsx(Le,{rowsNum:10}):e.jsx(ye,{children:(F==null?void 0:F.length)>0?F==null?void 0:F.map(v=>e.jsxs(Q,{hover:!0,children:[e.jsx(y,{children:e.jsxs(D,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(at,{variant:"dot",color:v.is_active?"success":"error",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",badgeContent:" ",sx:{"& .MuiBadge-badge":{minWidth:"14px",height:"14px",fontSize:"0.75rem",borderRadius:"100%",border:"2px solid #fff"}},children:e.jsx(Ve,{sx:{bgcolor:v.is_active?"rgb(19, 194, 194)":"",color:"white",width:45,height:45},children:v.first_name[0]+" "+v.last_name[0]})}),e.jsxs("div",{children:[v.first_name+" "+v.last_name,e.jsx(_,{color:"text.secondary",variant:"body2",children:v.email})]})]})}),e.jsx(y,{children:v.tel_num}),e.jsx(y,{children:v.city}),e.jsxs(y,{children:[e.jsx(J,{color:"warning",onClick:()=>M(v.id,!0),children:e.jsx(G,{children:e.jsx(Re,{})})}),v.is_deletable&&e.jsx(J,{color:"error",onClick:()=>M(v.id,!1),children:e.jsx(G,{children:e.jsx(Oe,{})})}),e.jsx(we,{color:"primary",defaultChecked:v.is_active,value:v.id,onChange:g=>T(g)})]})]},v.id)):e.jsx(Q,{children:e.jsx(y,{colSpan:5,sx:{textAlign:"center"},children:f(i.client.nothingToDisplay)})})})]})}),a&&e.jsx(Ue,{})]})});function gr(){const s=U(),{t,i18n:h}=L(),{client:n}=Y(m=>m.client),x=le("clients",he.getClient);return w.useEffect(()=>{x.status=="success"&&s(q.actions.fetchClient(x.data))},[x.status]),e.jsxs(Z,{spacing:4,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(Z,{spacing:1,children:e.jsx(_,{variant:"h4",children:t(i.client.title)})}),e.jsx(Z,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(V,{startIcon:e.jsx(G,{children:e.jsx(_e,{})}),variant:"contained",onClick:()=>s(q.actions.openCloseModalAdd()),children:t(i.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(fr,{items:n,count:n.length,rowsPerPage:25,isLoading:x.isLoading,isError:x.isError})})]})}const br={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function jr(){const s=U(),{t,i18n:h}=L(),{client:n,isModalUpdate:x,currentData:m,isConfirm:b}=Y(d=>d.client),c=me({first_name:R().required(t(i.client.firstNameRequired)),last_name:R().required(t(i.client.lastNameRequired)),tel_num:R().required(t(i.client.telRequired)).matches(/^[0-9]{10}$/,t(i.client.telMatch)),email:R().email(t(i.login.emailValid)).required(t(i.login.emailRequired)),city:R().required(t(i.client.cityRequired))}),o=pe({initialValues:m,validationSchema:c,onSubmit:async(d,{resetForm:u})=>{W.put("/client/update/",d).then(l=>{s(q.actions.editClient(l.data)),s(q.actions.openCloseModalUpdate()),s(q.actions.openCloseConfirm()),E.success(t(i.client.toastUpdateSuccess)),u()}).catch(l=>{s(q.actions.openCloseConfirm()),E.error(t(i.client.toastError))})}});w.useEffect(()=>{o.setValues(m)},[m]);const r=async d=>{d.preventDefault();const u=await o.validateForm();Object.keys(u).length===0?s(q.actions.openCloseConfirm()):await o.submitForm()},a=()=>{o.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:x,onClose:()=>s(q.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:br,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(_,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(i.client.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(q.actions.openCloseModalUpdate()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:d=>r(d),children:[e.jsx(B,{id:"outlined-basic",label:t(i.client.Nom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:o.handleChange,value:o.values.first_name,error:!!(o.touched.first_name&&o.errors.first_name),helperText:o.touched.first_name&&o.errors.first_name,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.client.Prenom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:o.handleChange,value:o.values.last_name,error:!!(o.touched.last_name&&o.errors.last_name),helperText:o.touched.last_name&&o.errors.last_name,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.client.Telephone),variant:"outlined",value:o.values.tel_num,onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:o.handleChange,error:!!(o.touched.tel_num&&o.errors.tel_num),helperText:o.touched.tel_num&&o.errors.tel_num,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.client.Email),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:o.handleChange,value:o.values.email,error:!!(o.touched.email&&o.errors.email),helperText:o.touched.email&&o.errors.email,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.client.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.city,error:!!(o.touched.city&&o.errors.city),helperText:o.touched.city&&o.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(V,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(i.global.modifier)})]})]})}),e.jsx(xe,{confirmed:a,cancel:()=>s(q.actions.openCloseConfirm()),isConfirm:b})]})}const yr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function vr(){const s=U(),{t,i18n:h}=L(),{client:n,isModalAdd:x,isConfirm:m}=Y(a=>a.client),b=me({first_name:R().required(t(i.client.firstNameRequired)),last_name:R().required(t(i.client.lastNameRequired)),tel_num:R().required(t(i.client.telRequired)).matches(/^[0-9]{10}$/,t(i.client.telMatch)),email:R().email(t(i.login.emailValid)).required(t(i.login.emailRequired)),city:R().required(t(i.client.cityRequired))}),c=pe({initialValues:{first_name:"",last_name:"",tel_num:"",email:"",city:""},validationSchema:b,onSubmit:async(a,{resetForm:d,setErrors:u})=>{W.post("/client/add/",a).then(l=>{s(q.actions.addClient(l.data)),s(q.actions.openCloseModalAdd()),s(q.actions.openCloseConfirm()),E.success(t(i.client.toastAddSuccess)),d()}).catch(l=>{s(q.actions.openCloseConfirm()),E.error(t(i.client.toastError))})}}),o=async a=>{a.preventDefault();const d=await c.validateForm();Object.keys(d).length===0?s(q.actions.openCloseConfirm()):await c.submitForm()},r=()=>{c.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:x,onClose:()=>s(q.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:yr,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(_,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(i.client.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(q.actions.openCloseModalAdd()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:a=>o(a),children:[e.jsx(B,{id:"outlined-basic",label:t(i.client.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:c.handleChange,value:c.values.first_name,error:!!(c.touched.first_name&&c.errors.first_name),helperText:c.touched.first_name&&c.errors.first_name,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.client.Prenom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:c.handleChange,value:c.values.last_name,error:!!(c.touched.last_name&&c.errors.last_name),helperText:c.touched.last_name&&c.errors.last_name,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.client.Telephone),variant:"outlined",value:c.values.tel_num,onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:c.handleChange,error:!!(c.touched.tel_num&&c.errors.tel_num),helperText:c.touched.tel_num&&c.errors.tel_num,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.client.Email),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:c.handleChange,value:c.values.email,error:!!(c.touched.email&&c.errors.email),helperText:c.touched.email&&c.errors.email,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.client.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:c.handleBlur,onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(V,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(i.global.ajouter)})]})]})}),e.jsx(xe,{confirmed:r,cancel:()=>s(q.actions.openCloseConfirm()),isConfirm:m})]})}function Cr(){const{currentData:s,isModalDelete:t}=Y(b=>b.client),h=U(),{t:n,i18n:x}=L(),m=()=>{console.log("first"),W.delete(`/client/delete/${s.id}`).then(b=>{h(q.actions.deleteClient()),h(q.actions.openCloseModalDelete()),E.success(n(i.client.toastDeleteSuccess))}).catch(b=>{h(q.actions.openCloseModalDelete()),E.error(n(i.client.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(q.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Se,{title:n(i.client.deleteTitle),message:` ${n(i.client.deleteDescription)} ${s.first_name} ${s.last_name}
          ${n(i.client.poncuation)}`,deleteFn:m,cancel:()=>h(q.actions.openCloseModalDelete())})})}function wr(){const{isModalAdd:s,isModalUpdate:t}=Y(h=>h.client);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,p:3},children:[e.jsx(ae,{children:e.jsx(gr,{})}),s&&e.jsx(vr,{}),t&&e.jsx(jr,{}),e.jsx(Cr,{})]})}const _r=w.memo(s=>{const t=U();let{count:h=0,items:n=[],onDeselectAll:x,onDeselectOne:m,onSelectAll:b,onSelectOne:c,selected:o=[],isLoading:r,isError:a}=s;const[d,u]=w.useState(1),[l,p]=w.useState(25),{t:f,i18n:j}=L(),k=w.useRef(null),M=(T,v)=>{const g=n.filter(C=>C.id==T)[0];t(I.actions.setCurrentData(g)),t(v?I.actions.openCloseModalUpdate():I.actions.openCloseModalDelete())},N=()=>{const T=k.current;T&&T.scrollHeight===T.scrollTop+T.clientHeight&&!r&&u(g=>g+1)};w.useEffect(()=>(k.current&&k.current.addEventListener("scroll",N),()=>{k.current&&k.current.removeEventListener("scroll",N)}),[r]);const F=n==null?void 0:n.slice(0,d*l);return e.jsxs(P,{sx:{position:"relative"},children:[e.jsx(ze,{component:Ae,children:e.jsxs(be,{sx:{minWidth:700},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(y,{children:f(i.magazin.Nom)}),e.jsx(y,{children:f(i.magazin.Ville)}),e.jsx(y,{children:f(i.magazin.Capacity)}),e.jsx(y,{})]})}),r?e.jsx(Le,{rowsNum:10}):e.jsx(ye,{children:(F==null?void 0:F.length)>0?F==null?void 0:F.map(T=>e.jsxs(Q,{hover:!0,children:[e.jsx(y,{children:e.jsx(D,{alignItems:"center",direction:"row",spacing:1,children:e.jsx("div",{children:T.name})})}),e.jsx(y,{children:T.city}),e.jsx(y,{sx:{direction:"initial",whiteSpace:"nowrap"},children:T.capacity.toLocaleString("en-US").replaceAll(","," ")}),e.jsxs(y,{children:[e.jsx(J,{color:"warning",onClick:()=>M(T.id,!0),children:e.jsx(G,{children:e.jsx(Re,{})})}),T.is_deletable&&e.jsx(J,{color:"error",onClick:()=>M(T.id,!1),children:e.jsx(G,{children:e.jsx(Oe,{})})})]})]},T.id)):e.jsx(Q,{children:e.jsx(y,{colSpan:5,sx:{textAlign:"center"},children:f(i.magazin.nothingToDisplay)})})})]})}),a&&e.jsx(Ue,{})]})});function Sr(){const s=U(),{t,i18n:h}=L(),{magazin:n}=Y(m=>m.magazin),x=le("magazins",he.getWarehouse);return w.useEffect(()=>{console.log(x),x.status=="success"&&s(I.actions.fetchMagazin(x.data))},[x.status]),e.jsxs(Z,{spacing:4,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(Z,{spacing:1,children:e.jsx(_,{variant:"h4",children:t(i.magazin.title)})}),e.jsx(Z,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(V,{startIcon:e.jsx(G,{children:e.jsx(_e,{})}),variant:"contained",onClick:()=>s(I.actions.openCloseModalAdd()),children:t(i.global.ajouter)})})]}),e.jsxs(K,{children:[e.jsx(_r,{items:n,isLoading:x.isLoading,count:n.length,rowsPerPage:25,isError:x.isError}),x.isError&&e.jsx(Yt,{severity:"error",variant:"filled",children:"Test"})]})]})}const Mr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function kr(){const s=U(),{t,i18n:h}=L(),{currentData:n,isModalUpdate:x,isConfirm:m}=Y(a=>a.magazin),b=me({name:R().required(t(i.magazin.firstNameRequired)),city:R().required(t(i.magazin.firstNameRequired)),capacity:ue().required(t(i.magazin.capacityRequired)).min(0,t(i.magazin.capacityMin))}),c=pe({initialValues:{name:"",city:"",capacity:""},validationSchema:b,onSubmit:async(a,{resetForm:d,setErrors:u})=>{W.put("/warehouse/update/",a).then(l=>{s(I.actions.editMagazin(l.data)),s(I.actions.openCloseModalUpdate()),s(I.actions.openCloseConfirm()),E.success(t(i.magazin.toastUpdateSuccess)),d()}).catch(l=>{s(I.actions.openCloseConfirm()),E.error(t(i.magazin.toastError))})}}),o=async a=>{a.preventDefault();const d=await c.validateForm();Object.keys(d).length===0?s(I.actions.openCloseConfirm()):await c.submitForm()},r=()=>{c.handleSubmit()};return w.useEffect(()=>{console.log(n),c.setValues(n)},[n]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:x,onClose:()=>s(I.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Mr,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(_,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(i.magazin.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(I.actions.openCloseModalUpdate()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:a=>o(a),children:[e.jsx(B,{id:"outlined-basic",label:t(i.magazin.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:c.handleChange,value:c.values.name,error:!!(c.touched.name&&c.errors.name),helperText:c.touched.name&&c.errors.name,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.magazin.Ville),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"city",onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.magazin.Capacity),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"number",name:"capacity",onChange:c.handleChange,value:c.values.capacity,error:!!(c.touched.capacity&&c.errors.capacity),helperText:c.touched.capacity&&c.errors.capacity,style:{marginBottom:"15px"}}),e.jsx(V,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(i.global.modifier)})]})]})}),e.jsx(xe,{confirmed:r,cancel:()=>s(I.actions.openCloseConfirm()),isConfirm:m})]})}const Br={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Tr(){const s=U(),{t,i18n:h}=L(),{magazin:n,isModalAdd:x,isConfirm:m}=Y(a=>a.magazin),b=me({name:R().required(t(i.magazin.firstNameRequired)),city:R().required(t(i.magazin.firstNameRequired)),capacity:ue().required(t(i.magazin.capacityRequired)).min(0,t(i.magazin.capacityMin))}),c=pe({initialValues:{name:"",city:"",capacity:""},validationSchema:b,onSubmit:async(a,{resetForm:d,setErrors:u})=>{W.post("/warehouse/add/",a).then(l=>{s(I.actions.addMagazin(l.data)),s(I.actions.openCloseModalAdd()),s(I.actions.openCloseConfirm()),E.success(t(i.magazin.toastAddSuccess)),d()}).catch(l=>{s(I.actions.openCloseConfirm()),E.error(t(i.magazin.toastError))})}}),o=async a=>{a.preventDefault();const d=await c.validateForm();Object.keys(d).length===0?s(I.actions.openCloseConfirm()):await c.submitForm()},r=()=>{c.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:x,onClose:()=>s(I.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Br,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(_,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(i.magazin.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(I.actions.openCloseModalAdd()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:a=>o(a),children:[e.jsx(B,{id:"outlined-basic",label:t(i.magazin.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:c.handleChange,value:c.values.name,error:!!(c.touched.name&&c.errors.name),helperText:c.touched.name&&c.errors.name,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.magazin.Ville),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"city",onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.magazin.Capacity),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"number",name:"capacity",onChange:c.handleChange,value:c.values.capacity,error:!!(c.touched.capacity&&c.errors.capacity),helperText:c.touched.capacity&&c.errors.capacity,style:{marginBottom:"15px"}}),e.jsx(V,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(i.global.ajouter)})]})]})}),e.jsx(xe,{confirmed:r,cancel:()=>s(I.actions.openCloseConfirm()),isConfirm:m})]})}function Dr(){const{currentData:s,isModalDelete:t}=Y(b=>b.magazin),h=U(),{t:n,i18n:x}=L(),m=()=>{W.delete(`/warehouse/delete/${s.id}`).then(b=>{h(I.actions.deleteMagazin()),h(I.actions.openCloseModalDelete()),E.success(n(i.magazin.toastDeleteSuccess))}).catch(b=>{h(I.actions.openCloseModalDelete()),E.error(n(i.magazin.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(I.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Se,{title:n(i.magazin.deleteTitle),message:`${n(i.magazin.deleteDescription)} ${s.name} ${n(i.magazin.poncuation)}`,deleteFn:m,cancel:()=>h(I.actions.openCloseModalDelete())})})}function Er(){const{isModalAdd:s,isModalUpdate:t}=Y(h=>h.magazin);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,p:3},children:[e.jsx(ae,{children:e.jsx(Sr,{})}),s&&e.jsx(Tr,{}),t&&e.jsx(kr,{}),e.jsx(Dr,{})]})}const Rr=w.memo(s=>{const t=JSON.parse(sessionStorage.getItem("user")),h=U();let{count:n=0,items:x=[],onDeselectAll:m,onDeselectOne:b,onSelectAll:c,onSelectOne:o,selected:r=[],isLoading:a,isError:d}=s;const[u,l]=w.useState(1),[p,f]=w.useState(25),{t:j,i18n:k}=L(),M=w.useRef(null),N=(v,g)=>{const C=x.filter(S=>S.id==v)[0];h(A.actions.setCurrentData(C)),h(g?A.actions.openCloseModalUpdate():A.actions.openCloseModalDelete())},F=()=>{const v=M.current;v&&v.scrollHeight===v.scrollTop+v.clientHeight&&!a&&l(C=>C+1)};w.useEffect(()=>(M.current&&M.current.addEventListener("scroll",F),()=>{M.current&&M.current.removeEventListener("scroll",F)}),[a]);const T=x==null?void 0:x.slice(0,u*p);return e.jsxs(P,{sx:{position:"relative"},children:[e.jsx(ze,{component:Ae,sx:{maxHeight:"50vh"},ref:M,children:e.jsxs(be,{sx:{minWidth:700},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(y,{children:t!=null&&t.is_eleveur?j(i.batiment.Nom):j(i.fournisseur.Nom)}),!(t!=null&&t.is_eleveur)&&e.jsx(y,{children:j(i.batiment.Telephone)}),e.jsx(y,{children:j(i.batiment.Ville)}),e.jsx(y,{})]})}),s.isLoading?e.jsx(Le,{rowsNum:10}):e.jsx(ye,{children:(T==null?void 0:T.length)>0?T==null?void 0:T.map(v=>e.jsxs(Q,{hover:!0,children:[e.jsx(y,{children:e.jsx(D,{alignItems:"center",direction:"row",spacing:1,children:e.jsxs("div",{children:[v.name," ",v.last_name,e.jsx(_,{color:"text.secondary",variant:"body2",children:v==null?void 0:v.email})]})})}),!(t!=null&&t.is_eleveur)&&e.jsx(y,{children:v.tel_num}),e.jsx(y,{children:v.city}),e.jsxs(y,{children:[e.jsx(J,{color:"warning",onClick:()=>N(v.id,!0),children:e.jsx(G,{children:e.jsx(Re,{})})}),v.is_deletable&&e.jsx(J,{color:"error",onClick:()=>N(v.id,!1),children:e.jsx(G,{children:e.jsx(Oe,{})})})]})]},v.id)):e.jsx(Q,{children:e.jsx(y,{colSpan:5,sx:{textAlign:"center"},children:j(i.batiment.nothingToDisplay)})})})]})}),d&&e.jsx(Ue,{})]})});function Fr(){const s=JSON.parse(sessionStorage.getItem("user")),t=U(),{t:h,i18n:n}=L(),{batiment:x}=Y(b=>b.batiment),m=le("batiment",he.getBatiment);return w.useEffect(()=>{m.status=="success"&&t(A.actions.fetchBatiment(m.data))},[m.status]),e.jsxs(Z,{spacing:4,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(Z,{spacing:1,children:e.jsxs(_,{variant:"h4",children:[" ",s!=null&&s.is_eleveur?h(i.batiment.title):h(i.fournisseur.title)]})}),e.jsx(Z,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(V,{startIcon:e.jsx(G,{children:e.jsx(_e,{})}),variant:"contained",onClick:()=>t(A.actions.openCloseModalAdd()),children:h(i.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(Rr,{isLoading:m.isLoading,items:x,count:x.length,rowsPerPage:25,isError:m.isError})})]})}const $r={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Nr(){const s=U(),{t,i18n:h}=L(),n=JSON.parse(sessionStorage.getItem("user")),{currentData:x,isModalUpdate:m,isConfirm:b}=Y(l=>l.batiment),[c,o]=w.useState({name:R().required(n!=null&&n.is_eleveur?t(i.batiment.nameRequired):t(i.fournisseur.nameRequired)),last_name:R().required(t(i.fournisseur.lastNameRequired)),tel_num:R().required(t(i.client.telRequired)).matches(/^[0-9]{10}$/,t(i.client.telMatch)),email:R().email(t(i.login.emailValid)).required(t(i.login.emailRequired)),city:R().required(t(i.client.cityRequired))}),r=me(c),a=pe({initialValues:{name:"",tel_num:"",email:n!=null&&n.is_eleveur?null:"",city:n!=null&&n.is_eleveur?null:""},validationSchema:r,onSubmit:async(l,{resetForm:p,setErrors:f})=>{console.log(l),W.put("/eggsource/update/",l).then(j=>{s(A.actions.editBatiment(j.data)),s(A.actions.openCloseModalUpdate()),s(A.actions.openCloseConfirm()),E.success(n!=null&&n.is_eleveur?t(i.batiment.toastUpdateSuccess):t(i.fournisseur.toastUpdateSuccess)),p()}).catch(j=>{s(A.actions.openCloseConfirm()),E.error(t(i.global.toastError))})}});w.useEffect(()=>{a.setValues(x);let l=c;n!=null&&n.is_eleveur&&(delete l.tel_num,delete l.email,delete l.last_name,o(l))},[x]);const d=async l=>{l.preventDefault();const p=await a.validateForm();Object.keys(p).length===0?s(A.actions.openCloseConfirm()):await a.submitForm()},u=()=>{a.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:m,onClose:()=>s(A.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:$r,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(_,{id:"modal-modal-title",variant:"h6",component:"h2",children:n!=null&&n.is_eleveur?t(i.batiment.update):t(i.fournisseur.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(A.actions.openCloseModalUpdate()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:l=>d(l),children:[e.jsx(B,{id:"outlined-basic",label:n!=null&&n.is_eleveur?t(i.batiment.Nom):t(i.fournisseur.Nom),variant:"outlined",onBlur:a.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:a.handleChange,value:a.values.name,error:!!(a.touched.name&&a.errors.name),helperText:a.touched.name&&a.errors.name,style:{marginBottom:"15px"}}),!(n!=null&&n.is_eleveur)&&e.jsx(B,{id:"outlined-basic",label:t(i.fournisseur.Prenom),variant:"outlined",onBlur:a.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:a.handleChange,value:a.values.last_name,error:!!(a.touched.last_name&&a.errors.last_name),helperText:a.touched.last_name&&a.errors.last_name,style:{marginBottom:"15px"}}),!(n!=null&&n.is_eleveur)&&e.jsx(B,{id:"outlined-basic",label:t(i.batiment.Telephone),variant:"outlined",value:a.values.tel_num,onBlur:a.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:a.handleChange,error:!!(a.touched.tel_num&&a.errors.tel_num),helperText:a.touched.tel_num&&a.errors.tel_num,style:{marginBottom:"15px"}}),!(n!=null&&n.is_eleveur)&&e.jsx(B,{id:"outlined-basic",label:t(i.batiment.Email),variant:"outlined",onBlur:a.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:a.handleChange,value:a.values.email,error:!!(a.touched.email&&a.errors.email),helperText:a.touched.email&&a.errors.email,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.batiment.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:a.handleBlur,onChange:a.handleChange,value:a.values.city,error:!!(a.touched.city&&a.errors.city),helperText:a.touched.city&&a.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(V,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(i.global.modifier)})]})]})}),e.jsx(xe,{confirmed:u,cancel:()=>s(A.actions.openCloseConfirm()),isConfirm:b})]})}const qr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Ir(){const s=U(),{t,i18n:h}=L(),n=JSON.parse(sessionStorage.getItem("user")),{batiment:x,isModalAdd:m,isConfirm:b}=Y(l=>l.batiment),[c,o]=w.useState({name:R().required(n!=null&&n.is_eleveur?t(i.batiment.nameRequired):t(i.fournisseur.firstNameRequired)),last_name:R().required(t(i.fournisseur.lastNameRequired)),tel_num:R().required(t(i.client.telRequired)).matches(/^[0-9]{10}$/,t(i.client.telMatch)),email:R().email(t(i.login.emailValid)).required(t(i.login.emailRequired)),city:R().required(t(i.client.cityRequired))}),r=me(c),a=pe({initialValues:{name:"",tel_num:n!=null&&n.is_eleveur?null:"",email:n!=null&&n.is_eleveur?null:"",city:""},validationSchema:r,onSubmit:async(l,{resetForm:p,setErrors:f})=>{W.post("/eggsource/add/",l).then(j=>{s(A.actions.addBatiment(j.data)),s(A.actions.openCloseModalAdd()),s(A.actions.openCloseConfirm()),E.success(n!=null&&n.is_eleveur?t(i.batiment.toastAddSuccess):t(i.fournisseur.toastAddSuccess)),p()}).catch(j=>{s(A.actions.openCloseConfirm()),E.error(t(i.global.toastError))})}}),d=async l=>{l.preventDefault();const p=await a.validateForm();Object.keys(p).length===0?s(A.actions.openCloseConfirm()):await a.submitForm()},u=()=>{a.handleSubmit()};return w.useEffect(()=>{if(n!=null&&n.is_eleveur){let l=c;delete l.email,delete l.tel_num,delete l.last_name,o(l)}},[]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:m,onClose:()=>s(A.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:qr,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(_,{id:"modal-modal-title",variant:"h6",component:"h2",children:n!=null&&n.is_eleveur?t(i.batiment.add):t(i.fournisseur.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(A.actions.openCloseModalAdd()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:l=>d(l),children:[e.jsx(B,{id:"outlined-basic",label:n!=null&&n.is_eleveur?t(i.batiment.Nom):t(i.client.Nom),variant:"outlined",onBlur:a.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:a.handleChange,value:a.values.name,error:!!(a.touched.name&&a.errors.name),helperText:a.touched.name&&a.errors.name,style:{marginBottom:"15px"}}),!(n!=null&&n.is_eleveur)&&e.jsx(B,{id:"outlined-basic",label:t(i.client.Prenom),variant:"outlined",onBlur:a.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:a.handleChange,value:a.values.last_name,error:!!(a.touched.last_name&&a.errors.last_name),helperText:a.touched.last_name&&a.errors.last_name,style:{marginBottom:"15px"}}),!(n!=null&&n.is_eleveur)&&e.jsx(B,{id:"outlined-basic",label:t(i.batiment.Telephone),variant:"outlined",value:a.values.tel_num,onBlur:a.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:a.handleChange,error:!!(a.touched.tel_num&&a.errors.tel_num),helperText:a.touched.tel_num&&a.errors.tel_num,style:{marginBottom:"15px"}}),!(n!=null&&n.is_eleveur)&&e.jsx(B,{id:"outlined-basic",label:t(i.batiment.Email),variant:"outlined",onBlur:a.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:a.handleChange,value:a.values.email,error:!!(a.touched.email&&a.errors.email),helperText:a.touched.email&&a.errors.email,style:{marginBottom:"15px"}}),e.jsx(B,{id:"outlined-basic",label:t(i.batiment.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:a.handleBlur,onChange:a.handleChange,value:a.values.city,error:!!(a.touched.city&&a.errors.city),helperText:a.touched.city&&a.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(V,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(i.global.ajouter)})]})]})}),e.jsx(xe,{confirmed:u,cancel:()=>s(A.actions.openCloseConfirm()),isConfirm:b})]})}function Ar(){const{currentData:s,isModalDelete:t}=Y(c=>c.batiment),h=U(),{t:n,i18n:x}=L(),m=JSON.parse(sessionStorage.getItem("user")),b=()=>{W.delete(`/eggsource/delete/${s.id}`).then(c=>{h(A.actions.deleteBatiment()),h(A.actions.openCloseModalDelete()),E.success(m!=null&&m.is_eleveur?n(i.batiment.toastDeleteSuccess):n(i.fournisseur.toastDeleteSuccess))}).catch(c=>{h(A.actions.openCloseModalDelete()),E.error(n(i.global.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(A.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Se,{title:m!=null&&m.is_eleveur?n(i.batiment.deleteTitle):n(i.fournisseur.deleteTitle),message:m!=null&&m.is_elever?n(i.batiment.deleteDescription):n(i.fournisseur.deleteDescription),deleteFn:b,cancel:()=>h(A.actions.openCloseModalDelete())})})}function zr(){const{isModalAdd:s,isModalUpdate:t}=Y(h=>h.batiment);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,p:3},children:[e.jsx(ae,{children:e.jsx(Fr,{})}),s&&e.jsx(Ir,{}),t&&e.jsx(Nr,{}),e.jsx(Ar,{})]})}function Lr({isOpen:s,id:t,close:h}){L();const[n,x]=w.useState(new Date),m=U(),b=()=>{W.put("/employee/activation/",{id:t,end_work:oe(n).format("YYYY-MM-DD")}).then(c=>{m($.actions.activateOeuvre({id:t})),m($.actions.editOeuvre(c.data)),h()})};return e.jsx(ee,{open:s,children:e.jsxs(P,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",width:350,border:"1px solid #000",boxShadow:24,p:3},children:[e.jsxs(D,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(_,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Ajouter date du dimmession"}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h(),children:e.jsx(ce,{})})]}),e.jsxs("form",{children:[e.jsx(ge,{label:"Date du dimmession",value:n,onChange:c=>x(c),sx:{width:"100%"}}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(V,{variant:"contained",sx:{mt:1,mr:.5},onClick:b,children:"Envoyer"}),e.jsx(V,{variant:"contained",sx:{mt:1},color:"error",onClick:h,children:"Annuler"})]})]})]})})}function Or(s){const{isLoading:t,items:h,count:n,rowsPerPage:x,isError:m}=s,[b,c]=w.useState(1),{t:o,i18n:r}=L(),a=U(),[d,u]=w.useState(!1),[l,p]=w.useState();let[f,j]=w.useState(0);const k=w.useRef(null),M=(g,C)=>{const S=h.filter(z=>z.id==g)[0];a($.actions.setCurrentData(S)),C=="update"?a($.actions.openCloseModalUpdate()):a($.actions.openCloseModalDelete())},N=()=>{const g=k.current;g&&g.scrollHeight===g.scrollTop+g.clientHeight&&!t&&c(S=>S+1)};w.useEffect(()=>(k.current&&k.current.addEventListener("scroll",N),()=>{k.current&&k.current.removeEventListener("scroll",N)}),[t]);const F=h==null?void 0:h.slice(0,b*x),T=g=>{p(g.target.value),g.target.checked?W.put("/employee/activation/",{id:g.target.value}).then(C=>{a($.actions.activateOeuvre({id:l})),a($.actions.editOeuvre(C.data))}):(g.target.checked=!g.target.checked,u(!0))},v=()=>{j(f+1),u(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(P,{sx:{position:"relative"},children:e.jsx(ze,{component:Ae,sx:{maxHeight:"50vh"},ref:k,children:e.jsxs(be,{sx:{minWidth:700,overflowX:"auto"},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(y,{}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(i.employee.CIN)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(i.client.Telephone)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(i.employee.Adresse)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(i.employee.StartDate)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(i.employee.EndDate)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(i.employee.ContractType)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(i.employee.Registration)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(i.employee.BirthDate)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(i.employee.PaymentDeadline)}),e.jsx(y,{})]})}),t?e.jsx(Le,{rowsNum:10,cellNum:11}):e.jsx(ye,{children:h.length>0?F==null?void 0:F.map(g=>{const C=new Date(g.start_work),S=new Date(g.end_work),z=new Date(g.b_day);return e.jsxs(Q,{children:[e.jsx(y,{sx:{whiteSpace:"nowrap"},children:e.jsxs(D,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(at,{variant:"dot",color:g.is_active?"success":"error",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",badgeContent:" ",sx:{"& .MuiBadge-badge":{minWidth:"14px",height:"14px",fontSize:"0.75rem",borderRadius:"100%",border:"2px solid #fff"}},children:e.jsx(Ve,{sx:{bgcolor:g.is_active?"rgb(19, 194, 194)":"",color:"white",width:45,height:45},children:g.first_name[0]+" "+g.last_name[0]})}),e.jsx("div",{children:g.first_name+" "+g.last_name})]})}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:g.cin}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:g.tel_num}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:g.addr}),e.jsxs(y,{sx:{whiteSpace:"nowrap"},children:[" ",`${C.getDate()}`.padStart(2,0),"/",`${C.getMonth()+1}`.padStart(2,0),"/",C.getFullYear()]}),e.jsxs(y,{sx:{whiteSpace:"nowrap"},children:[" ",S.getFullYear()!="1970"?`${`${S.getDate()}`.padStart(2,0)}/${`${S.getMonth()+1}`.padStart(2,0)}/${S.getFullYear()}`:""]}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:g.contract_type}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:g.registration}),e.jsxs(y,{sx:{whiteSpace:"nowrap"},children:[`${z.getDate()}`.padStart(2,0),"/",`${z.getMonth()+1}`.padStart(2,0),"/",z.getFullYear()]}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:g.payment_rate}),e.jsxs(y,{sx:{whiteSpace:"nowrap"},children:[e.jsx(J,{color:"warning",onClick:()=>M(g.id,"update"),children:e.jsx(G,{children:e.jsx(Re,{})})}),e.jsx(J,{color:"error",onClick:()=>M(g.id,"delete"),children:e.jsx(G,{children:e.jsx(Oe,{})})}),e.jsx(we,{color:"secondary",defaultChecked:g.is_active,value:g.id,onChange:fe=>T(fe)})]})]},g.id)}):e.jsx(Q,{children:e.jsx(y,{colSpan:10,sx:{textAlign:"center"},children:o(i.magazin.nothingToDisplay)})})})]})},f)}),e.jsx(Lr,{isOpen:d,id:l,close:v})]})}function Wr(){const s=U(),{t,i18n:h}=L(),n=le("mainOeuvre",he.fetchOeuvre),{oeuvre:x}=Y(m=>m.mainDoeuvre);return w.useEffect(()=>{n.isLoading||s($.actions.fetchOeuvre(n.data))},[n.isLoading]),e.jsxs(D,{spacing:4,children:[e.jsxs(D,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(D,{spacing:1,children:e.jsx(_,{variant:"h4",children:t(i.employee.title)})}),e.jsx(D,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(V,{startIcon:e.jsx(G,{children:e.jsx(_e,{})}),variant:"contained",onClick:()=>s($.actions.openCloseModalAdd()),children:t(i.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(Or,{isLoading:n.isLoading,items:x,count:x.length,rowsPerPage:25,isError:n.isError})})]})}const Pr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Vr({paimentDelai:s,contracts:t}){oe.locale("fr");const h=U(),{t:n,i18n:x}=L(),m=[{key:"cin",message:n(i.employee.cinDuplicated)},{key:"registration",message:n(i.employee.registerDuplicated)},{key:"tel_num",message:n(i.employee.telNumDuplicated)}],{isModalAdd:b,isConfirm:c}=Y(d=>d.mainDoeuvre),o=pe({initialValues:{first_name:"",last_name:"",cin:"",registration:null,b_day:null,start_work:null,end_work:null,tel_num:"",addr:"",type:null,rate:null},validationSchema:me({first_name:R().required(n(i.employee.firstNameRequired)).min(2,n(i.employee.firstNameMin)).max(50,n(i.employee.firstNameMax)),last_name:R().required(n(i.employee.lastNameRequired)).min(2,n(i.employee.lastNameMin)).max(50,n(i.employee.lastNameMax)),cin:R().required(n(i.employee.cinRequired)).matches(/^[A-Za-z0-9]+$/,n(i.employee.cinAlphanumeric)).max(20,n(i.employee.cinMax)),registration:ue().required(n(i.employee.registrationRequired)).typeError(n(i.employee.registrationTypeError)).positive(n(i.employee.registrationPositive)),b_day:Ce().required(n(i.employee.birthDateRequired)).typeError(n(i.employee.birthDateTypeError)),start_work:Ce().required(n(i.employee.startWorkRequired)).typeError(n(i.employee.startWorkTypeError)),end_work:Ce().nullable().typeError(n(i.employee.endWorkTypeError)).min(ot("start_work"),n(i.employee.endWorkMin)),tel_num:R().required(n(i.employee.telNumRequired)).matches(/^[0-9]{10}$/,n(i.employee.telNumValid)),addr:R().required(n(i.employee.addrRequired)).max(100,n(i.employee.addrMax)),type:ue().required(n(i.employee.rateTypeRequired)).typeError(n(i.employee.typeTypeError)).integer(n(i.employee.typeInteger)),rate:ue().required(n(i.employee.rateTypeRequired)).typeError(n(i.employee.rateTypeError))}),onSubmit:async(d,{setErrors:u,setFieldError:l})=>{let p={...d};p.b_day=oe(p.b_day).format("YYYY-MM-DD"),p.start_work=oe(p.start_work).format("YYYY-MM-DD"),p.end_work=p.end_work!==null?oe(p.end_work).format("YYYY-MM-DD"):"",W.post("/employee/add/",p).then(f=>{h($.actions.addOeuvre(f.data)),h($.actions.openCloseModalAdd()),h($.actions.openCloseConfirm()),E.success(n(i.employee.toastAddSuccess))}).catch(f=>{h($.actions.openCloseConfirm()),f.response.data.length>0?f.response.data.map(j=>{l(m[j-1].key,m[j-1].message)}):E.error(n(i.global.toastError))})}}),r=async d=>{d.preventDefault();const u=await o.validateForm();console.log(u),Object.keys(u).length===0?h($.actions.openCloseConfirm()):await o.submitForm()},a=()=>{o.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:b,onClose:()=>h($.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Pr,children:[e.jsxs(D,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(_,{id:"modal-modal-title",variant:"h6",component:"h2",children:n(i.employee.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h($.actions.openCloseModalAdd()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:d=>r(d),children:[e.jsxs(O,{container:!0,spacing:2,children:[e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.client.Nom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:o.handleChange,value:o.values.first_name,error:!!(o.touched.first_name&&o.errors.first_name),helperText:o.touched.first_name&&o.errors.first_name,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.client.Prenom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:o.handleChange,value:o.values.last_name,error:!!(o.touched.last_name&&o.errors.last_name),helperText:o.touched.last_name&&o.errors.last_name,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.employee.Adresse),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"addr",onChange:o.handleChange,value:o.values.addr,error:!!(o.touched.addr&&o.errors.addr),helperText:o.touched.addr&&o.errors.addr,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.client.Telephone),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:o.handleChange,value:o.values.tel_num,error:!!(o.touched.tel_num&&o.errors.tel_num),helperText:o.touched.tel_num&&o.errors.tel_num,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.employee.CIN),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"cin",onChange:o.handleChange,value:o.values.cin,error:!!(o.touched.cin&&o.errors.cin),helperText:o.touched.cin&&o.errors.cin,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(ge,{label:n(i.employee.BirthDate),variant:"outlined",fullWidth:!0,name:"b_day",value:o.values.b_day,onChange:d=>o.setFieldValue("b_day",d),slotProps:{textField:{variant:"outlined",error:!!(o.touched.b_day&&o.errors.b_day),helperText:o.touched.b_day&&o.errors.b_day}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.employee.Registration),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"registration",onChange:o.handleChange,value:o.values.registration,error:!!(o.touched.registration&&o.errors.registration),helperText:o.touched.registration&&o.errors.registration,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(ge,{label:n(i.employee.StartDate),variant:"outlined",fullWidth:!0,name:"start_work",value:o.values.start_work,onChange:d=>o.setFieldValue("start_work",d),slotProps:{textField:{variant:"outlined",error:!!(o.touched.start_work&&o.errors.start_work),helperText:o.touched.start_work&&o.errors.start_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(ge,{label:n(i.employee.EndDate),variant:"outlined",fullWidth:!0,name:"end_work",value:o.values.end_work,onChange:d=>o.setFieldValue("end_work",d),slotProps:{textField:{variant:"outlined",error:!!(o.touched.end_work&&o.errors.end_work),helperText:o.touched.end_work&&o.errors.end_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsxs($e,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(o.touched.type&&o.errors.type),children:[e.jsx(Ne,{id:"batiment-id",children:n(i.employee.ContractType)}),e.jsx(qe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:o.handleBlur,fullWidth:!0,name:"type",onChange:o.handleChange,value:o.values.type,label:n(i.employee.ContractType),children:t.length>0?t.map(d=>e.jsx(de,{value:d.id,children:d.value},d.id)):e.jsx(de,{children:n(i.batiment.nothingToDisplay)})}),o.touched.type&&o.errors.type&&e.jsx(Ie,{children:o.errors.type})]})}),e.jsx(O,{item:!0,xs:12,children:e.jsxs($e,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(o.touched.rate&&o.errors.rate),children:[e.jsx(Ne,{id:"batiment-id",children:n(i.employee.PaymentDeadline)}),e.jsx(qe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:o.handleBlur,fullWidth:!0,name:"rate",onChange:o.handleChange,value:o.values.rate,label:n(i.employee.PaymentDeadline),children:s.length>0?s.map(d=>e.jsx(de,{value:d.id,children:d.value},d.id)):e.jsx(de,{children:n(i.batiment.nothingToDisplay)})}),o.touched.rate&&o.errors.rate&&e.jsx(Ie,{children:o.errors.rate})]})})]}),e.jsx(V,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:n(i.global.ajouter)})]})]})}),e.jsx(xe,{confirmed:a,cancel:()=>h($.actions.openCloseConfirm()),isConfirm:c})]})}function Ur(){const{currentData:s,isModalDelete:t}=Y(b=>b.mainDoeuvre),h=U(),{t:n,i18n:x}=L(),m=()=>{W.delete(`/employee/delete/${s.id}`).then(b=>{h($.actions.deleteOeuvre()),h($.actions.openCloseModalDelete()),E.success(n(i.employee.toastDeleteSuccess))}).catch(b=>{h($.actions.openCloseModalDelete()),E.error(n(i.global.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h($.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Se,{title:n(i.employee.deleteConfirmTitle),message:n(i.employee.deleteConfirmMessage),deleteFn:m,cancel:()=>h($.actions.openCloseModalDelete())})})}const Yr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Hr({paimentDelai:s,contracts:t}){oe.locale("fr");const h=U(),{t:n,i18n:x}=L(),{currentData:m,isModalUpdate:b,isConfirm:c}=Y(u=>u.mainDoeuvre),o=[{key:"cin",message:n(i.employee.cinDuplicated)},{key:"registration",message:n(i.employee.registerDuplicated)},{key:"tel_num",message:n(i.employee.telNumDuplicated)}],r=pe({initialValues:{first_name:"",last_name:"",cin:"",registration:null,b_day:null,start_work:null,end_work:null,tel_num:"",addr:"",type:null,rate:null},validationSchema:me({first_name:R().required(n(i.employee.firstNameRequired)).min(2,n(i.employee.firstNameMin)).max(50,n(i.employee.firstNameMax)),last_name:R().required(n(i.employee.lastNameRequired)).min(2,n(i.employee.lastNameMin)).max(50,n(i.employee.lastNameMax)),cin:R().required(n(i.employee.cinRequired)).matches(/^[A-Za-z0-9]+$/,n(i.employee.cinAlphanumeric)).max(20,n(i.employee.cinMax)),registration:ue().required(n(i.employee.registrationRequired)).typeError(n(i.employee.registrationTypeError)).positive(n(i.employee.registrationPositive)),b_day:Ce().required(n(i.employee.birthDateRequiredbirthDateRequired)).typeError(n(i.employee.birthDateTypeError)),start_work:Ce().required(n(i.employee.startWorkRequired)).typeError(n(i.employee.startWorkTypeError)),end_work:Ce().nullable().typeError(n(i.employee.endWorkTypeError)).min(ot("start_work"),n(i.employee.endWorkMin)),tel_num:R().required(n(i.employee.telNumRequired)).matches(/^[0-9]{10}$/,n(i.employee.telNumValid)),addr:R().required(n(i.employee.addrRequired)).max(100,n(i.employee.addrMax)),type:ue().required(n(i.employee.rateTypeRequired)).typeError(n(i.employee.typeTypeError)).integer(n(i.employee.typeInteger)),rate:ue().required(n(i.employee.rateTypeRequired)).typeError(n(i.employee.rateTypeError))}),onSubmit:async(u,{setFieldError:l})=>{let p={...u};p.b_day=oe(p.b_day).format("YYYY-MM-DD"),p.start_work=oe(p.start_work).format("YYYY-MM-DD"),p.end_work=p.end_work!==null?oe(p.end_work).format("YYYY-MM-DD"):"",W.put("/employee/update/",p).then(f=>{h($.actions.editOeuvre(f.data)),h($.actions.openCloseModalUpdate()),h($.actions.openCloseConfirm()),E.success(n(i.employee.toastEditSuccess))}).catch(f=>{h($.actions.openCloseConfirm()),f.response.data.length>0?f.response.data.map(j=>{l(o[j-1].key,o[j-1].message)}):E.error(n(i.global.toastError))})}}),a=async u=>{u.preventDefault();const l=await r.validateForm();Object.keys(l).length===0?h($.actions.openCloseConfirm()):await r.submitForm()},d=()=>{r.handleSubmit()};return w.useEffect(()=>{let u={...m};console.log(u),u.b_day=new Date(u.b_day),u.start_work=new Date(u.start_work),u.end_work=u.end_work!==null?new Date(u.end_work):null,r.setValues(u)},[m]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:b,onClose:()=>h($.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Yr,children:[e.jsxs(D,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(_,{id:"modal-modal-title",variant:"h6",component:"h2",children:n(i.employee.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h($.actions.openCloseModalUpdate()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:u=>a(u),children:[e.jsxs(O,{container:!0,spacing:2,children:[e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.client.Nom),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:r.handleChange,value:r.values.first_name,error:!!(r.touched.first_name&&r.errors.first_name),helperText:r.touched.first_name&&r.errors.first_name,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.client.Prenom),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:r.handleChange,value:r.values.last_name,error:!!(r.touched.last_name&&r.errors.last_name),helperText:r.touched.last_name&&r.errors.last_name,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.employee.Adresse),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"addr",onChange:r.handleChange,value:r.values.addr,error:!!(r.touched.addr&&r.errors.addr),helperText:r.touched.addr&&r.errors.addr,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.client.Telephone),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:r.handleChange,value:r.values.tel_num,error:!!(r.touched.tel_num&&r.errors.tel_num),helperText:r.touched.tel_num&&r.errors.tel_num,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.employee.CIN),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"cin",onChange:r.handleChange,value:r.values.cin,error:!!(r.touched.cin&&r.errors.cin),helperText:r.touched.cin&&r.errors.cin,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(ge,{label:n(i.employee.BirthDate),variant:"outlined",fullWidth:!0,name:"b_day",value:r.values.b_day,onChange:u=>r.setFieldValue("b_day",u),slotProps:{textField:{variant:"outlined",error:!!(r.touched.b_day&&r.errors.b_day),helperText:r.touched.b_day&&r.errors.b_day}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(B,{id:"outlined-basic",label:n(i.employee.Registration),variant:"outlined",onBlur:r.handleBlur,fullWidth:!0,type:"text",name:"registration",onChange:r.handleChange,value:r.values.registration,error:!!(r.touched.registration&&r.errors.registration),helperText:r.touched.registration&&r.errors.registration,style:{marginBottom:"15px"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(ge,{label:n(i.employee.StartDate),variant:"outlined",fullWidth:!0,name:"start_work",value:r.values.start_work,onChange:u=>r.setFieldValue("start_work",u),slotProps:{textField:{variant:"outlined",error:!!(r.touched.start_work&&r.errors.start_work),helperText:r.touched.start_work&&r.errors.start_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsx(ge,{label:n(i.employee.EndDate),variant:"outlined",fullWidth:!0,name:"end_work",value:r.values.end_work,onChange:u=>r.setFieldValue("end_work",u),slotProps:{textField:{variant:"outlined",error:!!(r.touched.end_work&&r.errors.end_work),helperText:r.touched.end_work&&r.errors.end_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(O,{item:!0,xs:6,children:e.jsxs($e,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(r.touched.type&&r.errors.type),children:[e.jsx(Ne,{id:"batiment-id",children:n(i.employee.ContractType)}),e.jsx(qe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:r.handleBlur,fullWidth:!0,name:"type",onChange:r.handleChange,value:r.values.type,label:n(i.employee.ContractType),children:t.length>0?t.map(u=>e.jsx(de,{value:u.id,children:u.value},u.id)):e.jsx(de,{children:n(i.batiment.nothingToDisplay)})}),r.touched.type&&r.errors.type&&e.jsx(Ie,{children:r.errors.type})]})}),e.jsx(O,{item:!0,xs:12,children:e.jsxs($e,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(r.touched.rate&&r.errors.rate),children:[e.jsx(Ne,{id:"batiment-id",children:n(i.employee.PaymentDeadline)}),e.jsx(qe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:r.handleBlur,fullWidth:!0,name:"rate",onChange:r.handleChange,value:r.values.rate,label:n(i.employee.PaymentDeadline),children:s.length>0?s.map(u=>e.jsx(de,{value:u.id,children:u.value},u.id)):e.jsx(de,{children:n(i.batiment.nothingToDisplay)})}),r.touched.rate&&r.errors.rate&&e.jsx(Ie,{children:r.errors.rate})]})})]}),e.jsx(V,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:n(i.global.modifier)})]})]})}),e.jsx(xe,{confirmed:d,cancel:()=>h($.actions.openCloseConfirm()),isConfirm:c})]})}function Zr(){const s=le("paimentDelai",he.fetchPaymentRate),t=le("contracts",he.fetchContract),{isModalAdd:h,isModalUpdate:n}=Y(x=>x.mainDoeuvre);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,p:3},children:[e.jsx(ae,{children:e.jsx(Wr,{})}),n&&e.jsx(Hr,{paimentDelai:s.data,contracts:t.data}),h&&e.jsx(Vr,{paimentDelai:s.data,contracts:t.data}),e.jsx(Ur,{})]})}function Gr(){const s=le("expense",he.fetchExpenseType,{}),[t,h]=w.useState(""),[n,x]=w.useState([]),[m,b]=w.useState(""),[c,o]=w.useState(!1),[r,a]=w.useState(),[d,u]=w.useState(),{t:l,i18n:p}=L(),f=Pe(),j=g=>{h(g.target.value)},k=g=>{b(g.target.value)},M=g=>{g.preventDefault(),W.post("/expensestype/add/",{name:t}).then(C=>{x(S=>[...S,C.data]),h(""),E.success(l(i.depense.addsuccess)),f.invalidateQueries("expense")})},N=g=>{a(g),o(!0)},F=()=>{W.delete("/expensestype/delete/"+r).then(g=>{x(C=>C.filter(S=>S.id!=r)),o(!1),f.invalidateQueries("expense"),E.success(l(i.depense.deletesuccess))})},T=g=>{u(g)},v=()=>{W.put("/expensestype/update/",{id:d,name:m}).then(g=>{const C=n,S=C.findIndex(z=>z.id==d);C[S]=g.data,x(C),u(null),b(""),f.invalidateQueries("expense"),E.success(l(i.depense.editsuccess))})};return w.useEffect(()=>{s.isLoading||x(s.data)},[s.isLoading]),e.jsxs(e.Fragment,{children:[e.jsxs(it,{children:[e.jsx(_,{variant:"h5",mb:2,children:l(i.depense.titleType)}),e.jsx("form",{onSubmit:M,children:e.jsxs(D,{direction:"row",spacing:2,children:[e.jsx(B,{label:l(i.depense.addlabel),fullWidth:!0,value:t,onChange:j}),e.jsx(V,{type:"submit",variant:"contained",endIcon:e.jsx(_e,{}),disabled:t=="",children:l(i.depense.addbutton)})]})}),s.isLoading?[...Array(5)].map(()=>e.jsx(lt,{variant:"rectangular",width:"100%",height:"40px",sx:{mt:2}})):(n==null?void 0:n.length)>0?n==null?void 0:n.map(g=>e.jsx(P,{sx:{mt:2,backgroundColor:C=>C.palette.mode==="dark"?"neutral.800":C.palette.primary.light,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"5px",p:.4},children:e.jsx(D,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:d!==g.id?e.jsxs(e.Fragment,{children:[e.jsx(_,{children:g.name}),e.jsxs(P,{children:[e.jsx(J,{onClick:()=>T(g.id),children:e.jsx(ct,{})}),e.jsx(J,{onClick:()=>N(g.id),children:e.jsx(dt,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{fullWidth:!0,value:m,autoFocus:!0,variant:"filled",onChange:k,size:"medium"}),e.jsx(J,{onClick:v,disabled:m=="",children:e.jsx(ut,{color:"success"})}),e.jsx(J,{onClick:()=>u(null),children:e.jsx(st,{color:"error"})})]})})})):e.jsx(_,{variant:"subtitle2",textAlign:"center",mt:2,children:l(i.client.nothingToDisplay)})]}),e.jsx(ee,{open:c,children:e.jsx(Se,{title:l(i.depense.deletetitle),message:l(i.depense.deletemessage),cancel:()=>o(!1),deleteFn:F})})]})}function Qr(){var g;const s=le("expenseDivers",he.fetchDiversType,{}),t=Pe(),[h,n]=w.useState(""),[x,m]=w.useState([]),[b,c]=w.useState(""),[o,r]=w.useState(!1),[a,d]=w.useState(),[u,l]=w.useState(),{t:p,i18n:f}=L(),j=C=>{n(C.target.value)},k=C=>{c(C.target.value)},M=C=>{C.preventDefault(),W.post("/otherexpensestype/add/",{type:h}).then(S=>{m(z=>[...z,S.data]),n(""),t.invalidateQueries("expenseDivers"),E.success(p(i.depense.addsuccess))}).catch(S=>{E.error(p(i.global.toastError))})},N=C=>{d(C),r(!0)},F=()=>{W.delete("/otherexpensestype/delete/"+a).then(C=>{m(S=>S.filter(z=>z.id!=a)),r(!1),t.invalidateQueries("expenseDivers"),E.success(p(i.depense.deletesuccess))}).catch(C=>{E.error(p(i.global.toastError)),r(!1)})},T=C=>{l(C)},v=()=>{W.put("/otherexpensestype/update/",{id:u,type:b}).then(C=>{const S=x,z=S.findIndex(fe=>fe.id==u);S[z]=C.data,m(S),l(null),c(""),t.invalidateQueries("expenseDivers"),E.success(p(i.depense.editsuccess))}).catch(C=>{l(null),E.error(p(i.global.toastError))})};return w.useEffect(()=>{s.isLoading||m(s.data)},[s.isLoading]),e.jsxs(e.Fragment,{children:[e.jsxs(it,{children:[e.jsx(_,{variant:"h5",mb:2,children:p(i.divers.titleType)}),e.jsxs("form",{onSubmit:M,children:[e.jsxs(D,{direction:"row",spacing:2,children:[e.jsx(B,{label:p(i.depense.addlabel),fullWidth:!0,value:h,onChange:j}),e.jsx(V,{type:"submit",variant:"contained",endIcon:e.jsx(_e,{}),disabled:h=="",children:p(i.depense.addbutton)})]}),console.log(s.length)]}),s.isLoading?[...Array(5)].map(()=>e.jsx(lt,{variant:"rectangular",width:"100%",height:"40px",sx:{mt:2}})):((g=s==null?void 0:s.data)==null?void 0:g.length)>0?x.map(C=>e.jsx(P,{sx:{mt:2,backgroundColor:S=>S.palette.mode==="dark"?"neutral.800":S.palette.primary.light,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"5px",p:.4},children:e.jsx(D,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:u!==C.id?e.jsxs(e.Fragment,{children:[e.jsx(_,{children:C.type}),e.jsxs(P,{children:[e.jsx(J,{onClick:()=>T(C.id),children:e.jsx(ct,{})}),e.jsx(J,{onClick:()=>N(C.id),children:e.jsx(dt,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{fullWidth:!0,autoFocus:!0,value:b,variant:"filled",onChange:k,size:"medium"}),e.jsx(J,{onClick:v,disabled:b=="",children:e.jsx(ut,{color:"success"})}),e.jsx(J,{onClick:()=>l(null),children:e.jsx(st,{color:"error"})})]})})})):e.jsx(_,{variant:"subtitle2",textAlign:"center",mt:2,children:p(i.client.nothingToDisplay)})]}),e.jsx(ee,{open:o,children:e.jsx(Se,{title:p(i.depense.deletetitle),message:p(i.depense.deletemessage),cancel:()=>r(!1),deleteFn:F})})]})}const ke=new Date,pn=()=>{const s=JSON.parse(sessionStorage.getItem("user")),{t,i18n:h}=L(),[n,x]=w.useState("client"),[m,b]=w.useState([{label:t(i.nav.client),value:"client"},!(s!=null&&s.is_eleveur)&&{label:t(i.employee.title),value:"mainDoeuvre"},{label:t(i.nav.waerhouse),value:"magasin"},{label:s!=null&&s.is_eleveur?t(i.batiment.title):t(i.fournisseur.title),value:"batiment"},{label:t(i.nav.eggTypeChange),value:"Modifier type d'oeuf"},!(s!=null&&s.is_eleveur)&&{label:t(i.nav.depenseMensuel),value:"depenseMensuel"},!(s!=null&&s.is_eleveur)&&{label:t(i.nav.depenseDivers),value:"depenseDivers"}].filter(o=>o!==!1));Vt();const c=w.useCallback((o,r)=>{x(r)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(Pt,{title:`ESM | ${t(i.global.setting)}`}),e.jsxs(P,{component:"main",sx:{flexGrow:1,p:3},children:[e.jsxs(D,{spacing:3,sx:{mb:3},children:[e.jsx(_,{variant:"h4",children:t(i.global.setting)}),e.jsxs("div",{children:[e.jsx(Gt,{indicatorColor:"primary",onChange:c,scrollButtons:"auto",textColor:"primary",value:n,variant:"scrollable",children:m.map(o=>e.jsx(Qt,{label:o.label,value:o.value},o.value))}),e.jsx(Te,{})]})]}),n==="Modifier type d'oeuf"&&e.jsx(ur,{}),n==="billing"&&e.jsx(pt,{plan:"standard",invoices:[{id:"5547409069c59755261f5546",amount:4.99,createdAt:We(ke,1).getTime()},{id:"a3e17f4b551ff8766903f31f",amount:4.99,createdAt:We(ke,2).getTime()},{id:"28ca7c66fc360d8203644256",amount:4.99,createdAt:We(ke,3).getTime()}]}),n==="team"&&e.jsx(ft,{members:[{avatar:"/assets/avatars/avatar-cao-yu.png",email:"cao.yu@devias.io",name:"Cao Yu",role:"Owner"},{avatar:"/assets/avatars/avatar-siegbert-gottfried.png",email:"siegbert.gottfried@devias.io",name:"Siegbert Gottfried",role:"Standard"}]}),n==="notifications"&&e.jsx(hr,{}),n==="security"&&e.jsx(gt,{loginEvents:[{id:"1bd6d44321cb78fd915462fa",createdAt:Qe(Je(Xe(ke,5),7),1).getTime(),ip:"95.130.17.84",type:"Credential login",userAgent:"Chrome, Mac OS 10.15.7"},{id:"bde169c2fe9adea5d4598ea9",createdAt:Qe(Je(Xe(ke,25),9),1).getTime(),ip:"95.130.17.84",type:"Credential login",userAgent:"Chrome, Mac OS 10.15.7"}]}),n==="client"&&e.jsx(ae,{children:e.jsx(wr,{})}),n==="mainDoeuvre"&&e.jsx(ae,{children:e.jsx(Zr,{})}),n==="magasin"&&e.jsx(ae,{children:e.jsx(Er,{})}),n==="batiment"&&e.jsx(ae,{children:e.jsx(zr,{})}),n==="depenseMensuel"&&e.jsx(ae,{children:e.jsx(Gr,{})}),n==="depenseDivers"&&e.jsx(ae,{children:e.jsx(Qr,{})})]})]})};export{pn as default};
