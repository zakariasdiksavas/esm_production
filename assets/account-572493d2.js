import{n as jt,o as yt,s as Be,q as ye,_ as se,t as Qe,v as bt,w as vt,r as w,x as Ct,y as wt,j as e,z as _t,A as St,D as kt,E as Mt,G as Bt,H as Dt,J as Tt,P as te,K as Et,M as $t,N as Ft,T as v,B as R,O as Nt,i as E,Q as Y,U as ke,a as O,V as G,L as Ve,W as nt,d as z,l as r,k as S,X as qt,h as L,Y as $,I as It,Z as rt,$ as Ue,a0 as Pt,a1 as J,a2 as V,a3 as qe,a4 as at,a5 as I,a6 as U,a7 as ee,R as At,p as Rt,a8 as P,a9 as A,aa as N,C as Ie,ab as Ee,ac as $e,ad as Fe,ae as ce,F as Ne,af as it,ag as st,S as zt,ah as Je,ai as Xe,aj as Ke}from"./index-6dfaf798.js";import{u as Wt}from"./use-page-view-595bde33.js";import{E as De,P as Ce,M as we}from"./ModalDelete-26a071ca.js";import{C as K,b as ae,c as he,a as F,u as me,d as de,e as be,f as ot}from"./formik.esm-45b81460.js";import{C as Me}from"./CardHeader-ad50e0ad.js";import{T as ge,a as fe,b as H,c as y,d as je,u as oe,e as Pe,P as Ae,S as Z,h as ue,B as ne,E as Re,A as Lt,f as ie,G as W,g as lt}from"./moment-b22360b6.js";import{S as Ot}from"./SwitchBase-a20b5148.js";import{T as ze,C as le}from"./TableRowsLoader-e8443f2b.js";import{A as Ye}from"./AlertError-202fc79f.js";import{D as We}from"./DeleteOutlineOutlined-c33c7e3c.js";import{C as Ze}from"./Container-2497af14.js";import{M as pe}from"./ModalConfirm-0866ad57.js";import{D as xe}from"./DatePicker-c3bd6d5c.js";import{E as ct}from"./Edit-2ba0063f.js";import{D as dt}from"./Delete-2e42fa1b.js";import{C as ut}from"./Check-be05b6d4.js";import{T as Vt,a as Ut}from"./Tabs-2c1cc1bf.js";function Yt(s){return yt("MuiSwitch",s)}const Zt=jt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),X=Zt,Gt=["className","color","edge","size","sx"],Ht=s=>{const{classes:t,edge:h,size:a,color:g,checked:p,disabled:f}=s,c={root:["root",h&&`edge${ye(h)}`,`size${ye(a)}`],switchBase:["switchBase",`color${ye(g)}`,p&&"checked",f&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},o=St(c,Yt,t);return se({},t,o)},Qt=Be("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:h}=s;return[t.root,h.edge&&t[`edge${ye(h.edge)}`],t[`size${ye(h.size)}`]]}})(({ownerState:s})=>se({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},s.edge==="start"&&{marginLeft:-8},s.edge==="end"&&{marginRight:-8},s.size==="small"&&{width:40,height:24,padding:7,[`& .${X.thumb}`]:{width:16,height:16},[`& .${X.switchBase}`]:{padding:4,[`&.${X.checked}`]:{transform:"translateX(16px)"}}})),Jt=Be(Ot,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(s,t)=>{const{ownerState:h}=s;return[t.switchBase,{[`& .${X.input}`]:t.input},h.color!=="default"&&t[`color${ye(h.color)}`]]}})(({theme:s})=>({position:"absolute",top:0,left:0,zIndex:1,color:s.vars?s.vars.palette.Switch.defaultColor:`${s.palette.mode==="light"?s.palette.common.white:s.palette.grey[300]}`,transition:s.transitions.create(["left","transform"],{duration:s.transitions.duration.shortest}),[`&.${X.checked}`]:{transform:"translateX(20px)"},[`&.${X.disabled}`]:{color:s.vars?s.vars.palette.Switch.defaultDisabledColor:`${s.palette.mode==="light"?s.palette.grey[100]:s.palette.grey[600]}`},[`&.${X.checked} + .${X.track}`]:{opacity:.5},[`&.${X.disabled} + .${X.track}`]:{opacity:s.vars?s.vars.opacity.switchTrackDisabled:`${s.palette.mode==="light"?.12:.2}`},[`& .${X.input}`]:{left:"-100%",width:"300%"}}),({theme:s,ownerState:t})=>se({"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette.action.activeChannel} / ${s.vars.palette.action.hoverOpacity})`:Qe(s.palette.action.active,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${X.checked}`]:{color:(s.vars||s).palette[t.color].main,"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette[t.color].mainChannel} / ${s.vars.palette.action.hoverOpacity})`:Qe(s.palette[t.color].main,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${X.disabled}`]:{color:s.vars?s.vars.palette.Switch[`${t.color}DisabledColor`]:`${s.palette.mode==="light"?bt(s.palette[t.color].main,.62):vt(s.palette[t.color].main,.55)}`}},[`&.${X.checked} + .${X.track}`]:{backgroundColor:(s.vars||s).palette[t.color].main}})),Xt=Be("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(s,t)=>t.track})(({theme:s})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:s.transitions.create(["opacity","background-color"],{duration:s.transitions.duration.shortest}),backgroundColor:s.vars?s.vars.palette.common.onBackground:`${s.palette.mode==="light"?s.palette.common.black:s.palette.common.white}`,opacity:s.vars?s.vars.opacity.switchTrack:`${s.palette.mode==="light"?.38:.3}`})),Kt=Be("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(s,t)=>t.thumb})(({theme:s})=>({boxShadow:(s.vars||s).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),en=w.forwardRef(function(t,h){const a=Ct({props:t,name:"MuiSwitch"}),{className:g,color:p="primary",edge:f=!1,size:c="medium",sx:o}=a,n=wt(a,Gt),i=se({},a,{color:p,edge:f,size:c}),u=Ht(i),d=e.jsx(Kt,{className:u.thumb,ownerState:i});return e.jsxs(Qt,{className:_t(u.root,g),sx:o,ownerState:i,children:[e.jsx(Jt,se({type:"checkbox",icon:d,checkedIcon:d,ref:h,ownerState:i},n,{classes:se({},u,{root:u.switchBase})})),e.jsx(Xt,{className:u.track,ownerState:i})]})}),ve=en;function Oe(s,t){kt(2,arguments);var h=Bt(t);return Mt(s,-h)}var ht={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(s){(function(t,h){s.exports?s.exports=h():t.numeral=h()})(Dt,function(){var t,h,a="2.0.6",g={},p={},f={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:f.currentLocale,zeroFormat:f.zeroFormat,nullFormat:f.nullFormat,defaultFormat:f.defaultFormat,scalePercentBy100:f.scalePercentBy100};function o(n,i){this._input=n,this._value=i}return t=function(n){var i,u,d,l;if(t.isNumeral(n))i=n.value();else if(n===0||typeof n>"u")i=0;else if(n===null||h.isNaN(n))i=null;else if(typeof n=="string")if(c.zeroFormat&&n===c.zeroFormat)i=0;else if(c.nullFormat&&n===c.nullFormat||!n.replace(/[^0-9]+/g,"").length)i=null;else{for(u in g)if(l=typeof g[u].regexps.unformat=="function"?g[u].regexps.unformat():g[u].regexps.unformat,l&&n.match(l)){d=g[u].unformat;break}d=d||t._.stringToNumber,i=d(n)}else i=Number(n)||null;return new o(n,i)},t.version=a,t.isNumeral=function(n){return n instanceof o},t._=h={numberToFormat:function(n,i,u){var d=p[t.options.currentLocale],l=!1,m=!1,x=0,b="",D=1e12,B=1e9,q=1e6,k=1e3,_="",C=!1,j,M,T,Q,Le,Ge,re;if(n=n||0,M=Math.abs(n),t._.includes(i,"(")?(l=!0,i=i.replace(/[\(|\)]/g,"")):(t._.includes(i,"+")||t._.includes(i,"-"))&&(Le=t._.includes(i,"+")?i.indexOf("+"):n<0?i.indexOf("-"):-1,i=i.replace(/[\+|\-]/g,"")),t._.includes(i,"a")&&(j=i.match(/a(k|m|b|t)?/),j=j?j[1]:!1,t._.includes(i," a")&&(b=" "),i=i.replace(new RegExp(b+"a[kmbt]?"),""),M>=D&&!j||j==="t"?(b+=d.abbreviations.trillion,n=n/D):M<D&&M>=B&&!j||j==="b"?(b+=d.abbreviations.billion,n=n/B):M<B&&M>=q&&!j||j==="m"?(b+=d.abbreviations.million,n=n/q):(M<q&&M>=k&&!j||j==="k")&&(b+=d.abbreviations.thousand,n=n/k)),t._.includes(i,"[.]")&&(m=!0,i=i.replace("[.]",".")),T=n.toString().split(".")[0],Q=i.split(".")[1],Ge=i.indexOf(","),x=(i.split(".")[0].split(",")[0].match(/0/g)||[]).length,Q?(t._.includes(Q,"[")?(Q=Q.replace("]",""),Q=Q.split("["),_=t._.toFixed(n,Q[0].length+Q[1].length,u,Q[1].length)):_=t._.toFixed(n,Q.length,u),T=_.split(".")[0],t._.includes(_,".")?_=d.delimiters.decimal+_.split(".")[1]:_="",m&&Number(_.slice(1))===0&&(_="")):T=t._.toFixed(n,0,u),b&&!j&&Number(T)>=1e3&&b!==d.abbreviations.trillion)switch(T=String(Number(T)/1e3),b){case d.abbreviations.thousand:b=d.abbreviations.million;break;case d.abbreviations.million:b=d.abbreviations.billion;break;case d.abbreviations.billion:b=d.abbreviations.trillion;break}if(t._.includes(T,"-")&&(T=T.slice(1),C=!0),T.length<x)for(var He=x-T.length;He>0;He--)T="0"+T;return Ge>-1&&(T=T.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d.delimiters.thousands)),i.indexOf(".")===0&&(T=""),re=T+_+(b||""),l?re=(l&&C?"(":"")+re+(l&&C?")":""):Le>=0?re=Le===0?(C?"-":"+")+re:re+(C?"-":"+"):C&&(re="-"+re),re},stringToNumber:function(n){var i=p[c.currentLocale],u=n,d={thousand:3,million:6,billion:9,trillion:12},l,m,x;if(c.zeroFormat&&n===c.zeroFormat)m=0;else if(c.nullFormat&&n===c.nullFormat||!n.replace(/[^0-9]+/g,"").length)m=null;else{m=1,i.delimiters.decimal!=="."&&(n=n.replace(/\./g,"").replace(i.delimiters.decimal,"."));for(l in d)if(x=new RegExp("[^a-zA-Z]"+i.abbreviations[l]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),u.match(x)){m*=Math.pow(10,d[l]);break}m*=(n.split("-").length+Math.min(n.split("(").length-1,n.split(")").length-1))%2?1:-1,n=n.replace(/[^0-9\.]+/g,""),m*=Number(n)}return m},isNaN:function(n){return typeof n=="number"&&isNaN(n)},includes:function(n,i){return n.indexOf(i)!==-1},insert:function(n,i,u){return n.slice(0,u)+i+n.slice(u)},reduce:function(n,i){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof i!="function")throw new TypeError(i+" is not a function");var u=Object(n),d=u.length>>>0,l=0,m;if(arguments.length===3)m=arguments[2];else{for(;l<d&&!(l in u);)l++;if(l>=d)throw new TypeError("Reduce of empty array with no initial value");m=u[l++]}for(;l<d;l++)l in u&&(m=i(m,u[l],l,u));return m},multiplier:function(n){var i=n.toString().split(".");return i.length<2?1:Math.pow(10,i[1].length)},correctionFactor:function(){var n=Array.prototype.slice.call(arguments);return n.reduce(function(i,u){var d=h.multiplier(u);return i>d?i:d},1)},toFixed:function(n,i,u,d){var l=n.toString().split("."),m=i-(d||0),x,b,D,B;return l.length===2?x=Math.min(Math.max(l[1].length,m),i):x=m,D=Math.pow(10,x),B=(u(n+"e+"+x)/D).toFixed(x),d>i-x&&(b=new RegExp("\\.?0{1,"+(d-(i-x))+"}$"),B=B.replace(b,"")),B}},t.options=c,t.formats=g,t.locales=p,t.locale=function(n){return n&&(c.currentLocale=n.toLowerCase()),c.currentLocale},t.localeData=function(n){if(!n)return p[c.currentLocale];if(n=n.toLowerCase(),!p[n])throw new Error("Unknown locale : "+n);return p[n]},t.reset=function(){for(var n in f)c[n]=f[n]},t.zeroFormat=function(n){c.zeroFormat=typeof n=="string"?n:null},t.nullFormat=function(n){c.nullFormat=typeof n=="string"?n:null},t.defaultFormat=function(n){c.defaultFormat=typeof n=="string"?n:"0.0"},t.register=function(n,i,u){if(i=i.toLowerCase(),this[n+"s"][i])throw new TypeError(i+" "+n+" already registered.");return this[n+"s"][i]=u,u},t.validate=function(n,i){var u,d,l,m,x,b,D,B;if(typeof n!="string"&&(n+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",n)),n=n.trim(),n.match(/^\d+$/))return!0;if(n==="")return!1;try{D=t.localeData(i)}catch{D=t.localeData(t.locale())}return l=D.currency.symbol,x=D.abbreviations,u=D.delimiters.decimal,D.delimiters.thousands==="."?d="\\.":d=D.delimiters.thousands,B=n.match(/^[^\d]+/),B!==null&&(n=n.substr(1),B[0]!==l)||(B=n.match(/[^\d]+$/),B!==null&&(n=n.slice(0,-1),B[0]!==x.thousand&&B[0]!==x.million&&B[0]!==x.billion&&B[0]!==x.trillion))?!1:(b=new RegExp(d+"{2}"),n.match(/[^\d.,]/g)?!1:(m=n.split(u),m.length>2?!1:m.length<2?!!m[0].match(/^\d+.*\d$/)&&!m[0].match(b):m[0].length===1?!!m[0].match(/^\d+$/)&&!m[0].match(b)&&!!m[1].match(/^\d+$/):!!m[0].match(/^\d+.*\d$/)&&!m[0].match(b)&&!!m[1].match(/^\d+$/)))},t.fn=o.prototype={clone:function(){return t(this)},format:function(n,i){var u=this._value,d=n||c.defaultFormat,l,m,x;if(i=i||Math.round,u===0&&c.zeroFormat!==null)m=c.zeroFormat;else if(u===null&&c.nullFormat!==null)m=c.nullFormat;else{for(l in g)if(d.match(g[l].regexps.format)){x=g[l].format;break}x=x||t._.numberToFormat,m=x(u,d,i)}return m},value:function(){return this._value},input:function(){return this._input},set:function(n){return this._value=Number(n),this},add:function(n){var i=h.correctionFactor.call(null,this._value,n);function u(d,l,m,x){return d+Math.round(i*l)}return this._value=h.reduce([this._value,n],u,0)/i,this},subtract:function(n){var i=h.correctionFactor.call(null,this._value,n);function u(d,l,m,x){return d-Math.round(i*l)}return this._value=h.reduce([n],u,Math.round(this._value*i))/i,this},multiply:function(n){function i(u,d,l,m){var x=h.correctionFactor(u,d);return Math.round(u*x)*Math.round(d*x)/Math.round(x*x)}return this._value=h.reduce([this._value,n],i,1),this},divide:function(n){function i(u,d,l,m){var x=h.correctionFactor(u,d);return Math.round(u*x)/Math.round(d*x)}return this._value=h.reduce([this._value,n],i),this},difference:function(n){return Math.abs(t(this._value).subtract(n).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(n){var i=n%10;return~~(n%100/10)===1?"th":i===1?"st":i===2?"nd":i===3?"rd":"th"},currency:{symbol:"$"}}),function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(n,i,u){var d=t._.includes(i," BPS")?" ":"",l;return n=n*1e4,i=i.replace(/\s?BPS/,""),l=t._.numberToFormat(n,i,u),t._.includes(l,")")?(l=l.split(""),l.splice(-1,0,d+"BPS"),l=l.join("")):l=l+d+"BPS",l},unformat:function(n){return+(t._.stringToNumber(n)*1e-4).toFixed(15)}})}(),function(){var n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},i={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},u=n.suffixes.concat(i.suffixes.filter(function(l){return n.suffixes.indexOf(l)<0})),d=u.join("|");d="("+d.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(d)},format:function(l,m,x){var b,D=t._.includes(m,"ib")?i:n,B=t._.includes(m," b")||t._.includes(m," ib")?" ":"",q,k,_;for(m=m.replace(/\s?i?b/,""),q=0;q<=D.suffixes.length;q++)if(k=Math.pow(D.base,q),_=Math.pow(D.base,q+1),l===null||l===0||l>=k&&l<_){B+=D.suffixes[q],k>0&&(l=l/k);break}return b=t._.numberToFormat(l,m,x),b+B},unformat:function(l){var m=t._.stringToNumber(l),x,b;if(m){for(x=n.suffixes.length-1;x>=0;x--){if(t._.includes(l,n.suffixes[x])){b=Math.pow(n.base,x);break}if(t._.includes(l,i.suffixes[x])){b=Math.pow(i.base,x);break}}m*=b||1}return m}})}(),function(){t.register("format","currency",{regexps:{format:/(\$)/},format:function(n,i,u){var d=t.locales[t.options.currentLocale],l={before:i.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:i.match(/([\+|\-|\)|\s|\$]*)$/)[0]},m,x,b;for(i=i.replace(/\s?\$\s?/,""),m=t._.numberToFormat(n,i,u),n>=0?(l.before=l.before.replace(/[\-\(]/,""),l.after=l.after.replace(/[\-\)]/,"")):n<0&&!t._.includes(l.before,"-")&&!t._.includes(l.before,"(")&&(l.before="-"+l.before),b=0;b<l.before.length;b++)switch(x=l.before[b],x){case"$":m=t._.insert(m,d.currency.symbol,b);break;case" ":m=t._.insert(m," ",b+d.currency.symbol.length-1);break}for(b=l.after.length-1;b>=0;b--)switch(x=l.after[b],x){case"$":m=b===l.after.length-1?m+d.currency.symbol:t._.insert(m,d.currency.symbol,-(l.after.length-(1+b)));break;case" ":m=b===l.after.length-1?m+" ":t._.insert(m," ",-(l.after.length-(1+b)+d.currency.symbol.length-1));break}return m}})}(),function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(n,i,u){var d,l=typeof n=="number"&&!t._.isNaN(n)?n.toExponential():"0e+0",m=l.split("e");return i=i.replace(/e[\+|\-]{1}0/,""),d=t._.numberToFormat(Number(m[0]),i,u),d+"e"+m[1]},unformat:function(n){var i=t._.includes(n,"e+")?n.split("e+"):n.split("e-"),u=Number(i[0]),d=Number(i[1]);d=t._.includes(n,"e-")?d*=-1:d;function l(m,x,b,D){var B=t._.correctionFactor(m,x),q=m*B*(x*B)/(B*B);return q}return t._.reduce([u,Math.pow(10,d)],l,1)}})}(),function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:function(n,i,u){var d=t.locales[t.options.currentLocale],l,m=t._.includes(i," o")?" ":"";return i=i.replace(/\s?o/,""),m+=d.ordinal(n),l=t._.numberToFormat(n,i,u),l+m}})}(),function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(n,i,u){var d=t._.includes(i," %")?" ":"",l;return t.options.scalePercentBy100&&(n=n*100),i=i.replace(/\s?\%/,""),l=t._.numberToFormat(n,i,u),t._.includes(l,")")?(l=l.split(""),l.splice(-1,0,d+"%"),l=l.join("")):l=l+d+"%",l},unformat:function(n){var i=t._.stringToNumber(n);return t.options.scalePercentBy100?i*.01:i}})}(),function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(n,i,u){var d=Math.floor(n/60/60),l=Math.floor((n-d*60*60)/60),m=Math.round(n-d*60*60-l*60);return d+":"+(l<10?"0"+l:l)+":"+(m<10?"0"+m:m)},unformat:function(n){var i=n.split(":"),u=0;return i.length===3?(u=u+Number(i[0])*60*60,u=u+Number(i[1])*60,u=u+Number(i[2])):i.length===2&&(u=u+Number(i[0])*60,u=u+Number(i[1])),Number(u)}})}(),t})})(ht);var tn=ht.exports;const et=Tt(tn),mt=s=>{const{children:t}=s;return e.jsx(Et,{disablePadding:!0,children:t})};mt.propTypes={children:te.node};const Se=s=>{const{align:t="vertical",children:h,disableGutters:a,value:g,label:p,...f}=s;return e.jsx($t,{sx:{px:a?0:3,py:1.5},...f,children:e.jsx(Ft,{disableTypography:!0,primary:e.jsx(v,{sx:{minWidth:t==="vertical"?"inherit":180},variant:"subtitle2",children:p}),secondary:e.jsx(R,{sx:{flex:1,mt:t==="vertical"?.5:0},children:h||e.jsx(v,{color:"text.secondary",variant:"body2",children:g})}),sx:{display:"flex",flexDirection:t==="vertical"?"column":"row",my:0}})})};Se.propTypes={align:te.oneOf(["horizontal","vertical"]),children:te.node,disableGutters:te.bool,label:te.string.isRequired,value:te.string};const Te=s=>{const{name:t}=s,a=Nt().palette.primary.main;switch(t){case"startup":return e.jsx("svg",{fill:"none",height:"33",viewBox:"0 0 24 33",width:"24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M13.7898 0.492981L23.0191 5.55771C23.2324 5.67468 23.4097 5.84498 23.5332 6.05102C23.6567 6.25713 23.7218 6.49154 23.7218 6.73031C23.7218 6.96907 23.6567 7.20348 23.5332 7.4096C23.4097 7.61564 23.2324 7.78594 23.0191 7.9029L13.7899 12.9679C13.2008 13.2911 12.5366 13.4609 11.861 13.4609C11.1852 13.4609 10.521 13.2911 9.93202 12.9679L0.702682 7.9029C0.489532 7.78594 0.312084 7.61564 0.188587 7.4096C0.0650921 7.20348 -9.53674e-06 6.96907 -9.53674e-06 6.73031C-9.53674e-06 6.49154 0.0650921 6.25713 0.188587 6.05102C0.312084 5.84498 0.489532 5.67468 0.702682 5.55771L9.93202 0.492981C10.521 0.169739 11.1852 -5.72205e-06 11.861 -5.72205e-06C12.5366 -5.72205e-06 13.2008 0.169739 13.7898 0.492981Z",fill:a})});case"standard":return e.jsxs("svg",{fill:"none",height:"33",viewBox:"0 0 33 33",width:"33",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M18.4946 0.492981L27.7239 5.55771C27.9372 5.67468 28.1145 5.84498 28.238 6.05102C28.3615 6.25713 28.4266 6.49154 28.4266 6.73031C28.4266 6.96907 28.3615 7.20348 28.238 7.4096C28.1145 7.61564 27.9372 7.78594 27.7239 7.9029L18.4947 12.9679C17.9056 13.2911 17.2414 13.4609 16.5658 13.4609C15.89 13.4609 15.2258 13.2911 14.6368 12.9679L5.40749 7.9029C5.19434 7.78594 5.01689 7.61564 4.89339 7.4096C4.7699 7.20348 4.70479 6.96907 4.70479 6.73031C4.70479 6.49154 4.7699 6.25713 4.89339 6.05102C5.01689 5.84498 5.19434 5.67468 5.40749 5.55771L14.6368 0.492981C15.2258 0.169739 15.89 -5.72205e-06 16.5658 -5.72205e-06C17.2414 -5.72205e-06 17.9056 0.169739 18.4946 0.492981Z",fill:a}),e.jsx("path",{d:"M18.4448 5.2478L31.6626 12.5013C31.8758 12.6183 32.0532 12.7886 32.1767 12.9946C32.3002 13.2007 32.3653 13.4351 32.3653 13.6739C32.3653 13.9127 32.3002 14.1471 32.1767 14.3532C32.0532 14.5593 31.8758 14.7295 31.6626 14.8466L18.4448 22.1C17.8558 22.4231 17.1916 22.593 16.516 22.593C15.8403 22.593 15.1761 22.4231 14.5871 22.1L1.3693 14.8466C1.15615 14.7295 0.978699 14.5593 0.855202 14.3532C0.731705 14.1471 0.666607 13.9127 0.666607 13.6739C0.666607 13.4351 0.731705 13.2007 0.855202 12.9946C0.978699 12.7886 1.15615 12.6183 1.3693 12.5013L14.5871 5.2478C15.1761 4.92464 15.8403 4.75489 16.516 4.75489C17.1916 4.75489 17.8558 4.92464 18.4448 5.2478Z",fill:a,opacity:"0.7"})]});case"business":return e.jsxs("svg",{fill:"none",height:"33",viewBox:"0 0 43 33",width:"43",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M23.0075 0.49292L32.2369 5.55765C32.4501 5.67462 32.6275 5.84492 32.751 6.05096C32.8745 6.25707 32.9396 6.49148 32.9396 6.73025C32.9396 6.96901 32.8745 7.20342 32.751 7.40954C32.6275 7.61558 32.4501 7.78587 32.2369 7.90284L23.0076 12.9678C22.4186 13.2911 21.7543 13.4609 21.0787 13.4609C20.403 13.4609 19.7387 13.2911 19.1498 12.9678L9.92043 7.90284C9.70728 7.78587 9.52983 7.61558 9.40633 7.40954C9.28284 7.20342 9.21773 6.96901 9.21773 6.73025C9.21773 6.49148 9.28284 6.25707 9.40633 6.05096C9.52983 5.84492 9.70728 5.67462 9.92043 5.55765L19.1498 0.49292C19.7387 0.169678 20.403 -6.67572e-05 21.0787 -6.67572e-05C21.7543 -6.67572e-05 22.4186 0.169678 23.0075 0.49292Z",fill:a}),e.jsx("path",{d:"M22.9577 5.24774L36.1755 12.5012C36.3886 12.6182 36.5661 12.7885 36.6896 12.9945C36.8131 13.2007 36.8782 13.4351 36.8782 13.6738C36.8782 13.9126 36.8131 14.1471 36.6896 14.3531C36.5661 14.5592 36.3886 14.7295 36.1755 14.8465L22.9577 22.0999C22.3687 22.4231 21.7045 22.5929 21.0288 22.5929C20.3532 22.5929 19.6889 22.4231 19.1 22.0999L5.88218 14.8465C5.66903 14.7295 5.49158 14.5592 5.36808 14.3531C5.24458 14.1471 5.17949 13.9126 5.17949 13.6738C5.17949 13.4351 5.24458 13.2007 5.36808 12.9945C5.49158 12.7885 5.66903 12.6182 5.88218 12.5012L19.1 5.24774C19.6889 4.92458 20.3532 4.75483 21.0288 4.75483C21.7045 4.75483 22.3687 4.92458 22.9577 5.24774Z",fill:a,opacity:"0.7"}),e.jsx("path",{d:"M23.259 10.0018L41.6317 20.0843C41.8445 20.2012 42.0217 20.3711 42.145 20.5769C42.2683 20.7826 42.3333 21.0167 42.3333 21.2551C42.3333 21.4935 42.2683 21.7275 42.145 21.9333C42.0217 22.139 41.8445 22.309 41.6317 22.4258L23.2589 32.5081C22.6709 32.8307 22.0078 33.0002 21.3332 33.0002C20.6587 33.0002 19.9955 32.8307 19.4075 32.5081L1.03479 22.4258C0.821995 22.309 0.644833 22.139 0.521538 21.9333C0.398247 21.7275 0.333252 21.4935 0.333252 21.2551C0.333252 21.0167 0.398247 20.7826 0.521538 20.5769C0.644833 20.3711 0.821995 20.2012 1.03479 20.0843L19.4075 10.0018C19.9955 9.67921 20.6587 9.50966 21.3332 9.50966C22.0078 9.50966 22.6709 9.67921 23.259 10.0018Z",fill:a,opacity:"0.4"})]});default:return null}};Te.propTypes={name:te.oneOf(["startup","standard","business"]).isRequired};const nn=[{id:"startup",icon:e.jsx(Te,{name:"startup"}),name:"Startup",price:0},{id:"standard",icon:e.jsx(Te,{name:"standard"}),name:"Standard",price:4.99},{id:"business",icon:e.jsx(Te,{name:"business"}),name:"Business",price:29.99}],pt=s=>{const{plan:t="standard",invoices:h=[]}=s,[a,g]=w.useState(t);return e.jsxs(E,{spacing:4,...s,children:[e.jsxs(K,{children:[e.jsx(Me,{title:"Change Plan",subheader:"You can upgrade and downgrade whenever you want"}),e.jsxs(ae,{sx:{pt:0},children:[e.jsx("div",{children:e.jsx(Y,{container:!0,spacing:3,children:nn.map(p=>{const f=p.id===a,c=p.id===t,o=et(p.price).format("$0,0.00");return e.jsx(Y,{xs:12,sm:4,children:e.jsx(K,{onClick:()=>g(p.id),sx:{cursor:"pointer",...f&&{borderColor:"primary.main",borderWidth:2,m:"-1px"}},variant:"outlined",children:e.jsxs(ae,{children:[e.jsx(R,{sx:{height:52,width:52,"& img":{height:"auto",width:"100%"}},children:p.icon}),e.jsxs(R,{sx:{display:"flex",mb:1,mt:1},children:[e.jsx(v,{variant:"h5",children:o}),e.jsx(v,{color:"text.secondary",sx:{mt:"auto",ml:"4px"},variant:"body2",children:"/mo"})]}),e.jsxs(E,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsx(v,{variant:"overline",children:p.name}),c&&e.jsx(v,{color:"primary.main",variant:"caption",children:"Using now"})]})]})})},p.id)})})}),e.jsx(ke,{sx:{my:3}}),e.jsxs(R,{sx:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[e.jsx(v,{variant:"h6",children:"Billing details"}),e.jsx(O,{color:"inherit",startIcon:e.jsx(G,{children:e.jsx(De,{})}),children:"Edit"})]}),e.jsx(R,{sx:{border:1,borderColor:"divider",borderRadius:1,mt:3},children:e.jsxs(mt,{children:[e.jsx(Se,{align:"horizontal",divider:!0,label:"Billing name",value:"John Doe"}),e.jsx(Se,{align:"horizontal",divider:!0,label:"Card number",value:"**** 1111"}),e.jsx(Se,{align:"horizontal",divider:!0,label:"Country",value:"Germany"}),e.jsx(Se,{align:"horizontal",label:"Zip / Postal code",value:"667123"})]})}),e.jsxs(v,{color:"text.secondary",variant:"body2",sx:{mt:3},children:["We cannot refund once you purchased a subscription, but you can always",e.jsx(Ve,{href:"#",sx:{ml:"4px"},underline:"none",variant:"body2",children:"Cancel"})]}),e.jsx(R,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(O,{variant:"contained",children:"Upgrade Plan"})})]})]}),e.jsxs(K,{children:[e.jsx(Me,{title:"Invoice history",subheader:"You can view and download all your previous invoices here. If you’ve just made a payment, it may take a few hours for it to appear in the table below."}),e.jsxs(ge,{children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(y,{children:"Date"}),e.jsx(y,{children:"Total (incl. tax)"}),e.jsx(y,{})]})}),e.jsx(je,{children:h.map(p=>{const f=nt(p.createdAt,"dd MMM yyyy"),c=et(p.amount).format("$0,0.00");return e.jsxs(H,{children:[e.jsx(y,{children:f}),e.jsx(y,{children:c}),e.jsx(y,{align:"right",children:e.jsx(Ve,{color:"inherit",underline:"always",href:"#",children:"View Invoice"})})]},p.id)})})]})]})]})};pt.propTypes={plan:te.string,invoices:te.array};const rn=async()=>{try{const{data:s}=await L.get("/class/list/active/");return s.map(t=>({...t,value:t.custom_name}))}catch(s){throw new Error(s)}},an=()=>{const{t:s,i18n:t}=z(),h=oe("eggTypes",rn),[a,g]=w.useState({}),p=(c,o)=>{c.target.value!==""&&L.put("/customclass/update/",{id:o,custom_name:c.target.value}).then(n=>{$.success(s(r.global.toastEggSuccess))})},f=(c,o)=>{L.put("/customclass/activation/",{id:o})};return e.jsx(E,{spacing:4,children:e.jsxs(K,{children:[e.jsx(Me,{title:s(r.global.eggTypeUpdateTitle)}),e.jsxs(ae,{children:[e.jsx(v,{variant:"h6"}),e.jsx(Y,{container:!0,spacing:3,children:h.isLoading?e.jsx(qt,{}):h==null?void 0:h.data.map(c=>e.jsx(Y,{item:!0,spacing:2,xs:4,children:e.jsxs(E,{spacing:1,children:[e.jsx(v,{variant:"subtitle1",children:c.egg_class_name}),e.jsxs(E,{direction:"row",children:[e.jsx(v,{color:"text.secondary",variant:"body2",children:e.jsx(S,{label:c.value,value:a[c.id],onChange:o=>g(n=>({...n,[c.id]:o.target.value})),onBlur:o=>p(o,c.id),size:"small"})}),e.jsx(ve,{defaultChecked:c.is_active,onChange:o=>f(o,c.id)})]})]})}))})]})]})})},sn=()=>e.jsx(K,{children:e.jsxs(ae,{children:[e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsx(v,{variant:"h6",children:"Email"})}),e.jsx(Y,{xs:12,sm:12,md:8,children:e.jsxs(E,{divider:e.jsx(ke,{}),spacing:3,children:[e.jsxs(E,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(E,{spacing:1,children:[e.jsx(v,{variant:"subtitle1",children:"Product updates"}),e.jsx(v,{color:"text.secondary",variant:"body2",children:"News, announcements, and product updates."})]}),e.jsx(ve,{defaultChecked:!0})]}),e.jsxs(E,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(E,{spacing:1,children:[e.jsx(v,{variant:"subtitle1",children:"Security updates"}),e.jsx(v,{variant:"body2",color:"text.secondary",children:"Important notifications about your account security."})]}),e.jsx(ve,{defaultChecked:!0})]})]})})]}),e.jsx(ke,{sx:{my:3}}),e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsx(v,{variant:"h6",children:"Phone notifications"})}),e.jsx(Y,{xs:12,sm:12,md:8,children:e.jsx(E,{divider:e.jsx(ke,{}),spacing:3,children:e.jsxs(E,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs(E,{spacing:1,children:[e.jsx(v,{variant:"subtitle1",children:"Security updates"}),e.jsx(v,{color:"text.secondary",variant:"body2",children:"Important notifications about your account security."})]}),e.jsx(ve,{})]})})})]})]})});var on=function(t){return e.jsxs("svg",se({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"})]}))},ln=function(t){return e.jsxs("svg",se({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M3 8.32c0-1.5121 0-2.2682.2943-2.8458a2.7 2.7 0 0 1 1.18-1.18C5.0517 4 5.8078 4 7.32 4h9.36c1.5121 0 2.2682 0 2.8458.2943.508.2588.9211.6719 1.1799 1.18C21 6.0517 21 6.8078 21 8.32v5.76c0 1.5121 0 2.2682-.2943 2.8458a2.6996 2.6996 0 0 1-1.1799 1.1799c-.5776.2943-1.3337.2943-2.8458.2943H7.32c-1.5121 0-2.2682 0-2.8458-.2943a2.6998 2.6998 0 0 1-1.18-1.1799C3 16.3482 3 15.5921 3 14.08V8.32Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m3 6.7 7.3484 5.1439c.5951.4165.8926.6248 1.2162.7055.2859.0712.5849.0712.8708 0 .3236-.0807.6211-.289 1.2162-.7055L21 6.7M7.32 18.4h9.36c1.5121 0 2.2682 0 2.8458-.2943a2.6996 2.6996 0 0 0 1.1799-1.1799C21 16.3482 21 15.5921 21 14.08V8.32c0-1.5121 0-2.2682-.2943-2.8458a2.6998 2.6998 0 0 0-1.1799-1.18C18.9482 4 18.1921 4 16.68 4H7.32c-1.5121 0-2.2682 0-2.8458.2943a2.7 2.7 0 0 0-1.18 1.18C3 6.0517 3 6.8078 3 8.32v5.76c0 1.5121 0 2.2682.2943 2.8458.2588.508.6719.9211 1.18 1.1799.5775.2943 1.3336.2943 2.8457.2943Z"})]}))};const cn=Be("span")(({theme:s,ownerState:t})=>{const h=s.palette[t.color].alpha12,a=s.palette.mode==="dark"?s.palette[t.color].main:s.palette[t.color].dark;return{alignItems:"center",backgroundColor:h,borderRadius:12,color:a,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:s.typography.fontFamily,fontSize:s.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:s.spacing(1),paddingRight:s.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}}),xt=s=>{const{color:t="primary",children:h,...a}=s,g={color:t};return e.jsx(cn,{ownerState:g,...a,children:h})};xt.propTypes={children:te.node,color:te.oneOf(["primary","secondary","error","info","warning","success"])};const gt=s=>{const{members:t}=s;return e.jsxs(K,{children:[e.jsx(ae,{children:e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsxs(E,{spacing:1,children:[e.jsx(v,{variant:"h6",children:"Invite members"}),e.jsx(v,{color:"text.secondary",variant:"body2",children:"You currently pay for 2 Editor Seats."})]})}),e.jsx(Y,{xs:12,md:8,children:e.jsxs(E,{alignItems:"center",direction:"row",spacing:3,children:[e.jsx(S,{InputProps:{startAdornment:e.jsx(It,{position:"start",children:e.jsx(G,{children:e.jsx(ln,{})})})},label:"Email address",name:"email",sx:{flexGrow:1},type:"email"}),e.jsx(O,{variant:"contained",children:"Send Invite"})]})})]})}),e.jsx(rt,{children:e.jsxs(ge,{sx:{minWidth:400},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(y,{children:"Member"}),e.jsx(y,{children:"Role"}),e.jsx(y,{})]})}),e.jsx(je,{children:t.map((h,a)=>e.jsxs(H,{children:[e.jsx(y,{children:e.jsxs(E,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(Ue,{src:h.avatar,sx:{height:40,width:40},children:e.jsx(G,{children:e.jsx(Pt,{})})}),e.jsxs("div",{children:[e.jsx(v,{variant:"subtitle2",children:h.name}),e.jsx(v,{color:"text.secondary",variant:"body2",children:h.email})]})]})}),e.jsx(y,{children:h.role==="Owner"?e.jsx(xt,{children:h.role}):h.role}),e.jsx(y,{align:"right",children:e.jsx(J,{children:e.jsx(G,{children:e.jsx(on,{})})})})]},a))})]})})]})};gt.propTypes={members:te.array.isRequired};var tt=function(t){return e.jsxs("svg",se({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"m12 5 7 7-7 7"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m0 0-7-7m7 7-7 7"})]}))};const ft=s=>{const{loginEvents:t}=s,[h,a]=w.useState(!1),g=w.useCallback(()=>{a(p=>!p)},[]);return e.jsxs(E,{spacing:4,children:[e.jsx(K,{children:e.jsx(ae,{children:e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{xs:12,md:4,children:e.jsx(v,{variant:"h6",children:"Change password"})}),e.jsx(Y,{xs:12,sm:12,md:8,children:e.jsxs(E,{alignItems:"center",direction:"row",spacing:3,children:[e.jsx(S,{disabled:!h,label:"Password",type:"password",defaultValue:"Thebestpasswordever123#",sx:{flexGrow:1,...!h&&{"& .MuiOutlinedInput-notchedOutline":{borderStyle:"dotted"}}}}),e.jsx(O,{onClick:g,children:h?"Save":"Edit"})]})})]})})}),e.jsxs(K,{children:[e.jsx(Me,{title:"Multi Factor Authentication"}),e.jsx(ae,{sx:{pt:0},children:e.jsxs(Y,{container:!0,spacing:4,children:[e.jsx(Y,{xs:12,sm:6,children:e.jsx(K,{sx:{height:"100%"},variant:"outlined",children:e.jsxs(ae,{children:[e.jsx(R,{sx:{display:"block",position:"relative"},children:e.jsx(R,{sx:{"&::before":{backgroundColor:"error.main",borderRadius:"50%",content:'""',display:"block",height:8,left:4,position:"absolute",top:7,width:8,zIndex:1}},children:e.jsx(v,{color:"error",sx:{pl:3},variant:"body2",children:"Off"})})}),e.jsx(v,{sx:{mt:1},variant:"subtitle2",children:"Authenticator App"}),e.jsx(v,{color:"text.secondary",sx:{mt:1},variant:"body2",children:"Use an authenticator app to generate one time security codes."}),e.jsx(R,{sx:{mt:4},children:e.jsx(O,{endIcon:e.jsx(G,{children:e.jsx(tt,{})}),variant:"outlined",children:"Set Up"})})]})})}),e.jsx(Y,{sm:6,xs:12,children:e.jsx(K,{sx:{height:"100%"},variant:"outlined",children:e.jsxs(ae,{children:[e.jsx(R,{sx:{position:"relative"},children:e.jsx(R,{sx:{"&::before":{backgroundColor:"error.main",borderRadius:"50%",content:'""',display:"block",height:8,left:4,position:"absolute",top:7,width:8,zIndex:1}},children:e.jsx(v,{color:"error",sx:{pl:3},variant:"body2",children:"Off"})})}),e.jsx(v,{sx:{mt:1},variant:"subtitle2",children:"Text Message"}),e.jsx(v,{color:"text.secondary",sx:{mt:1},variant:"body2",children:"Use your mobile phone to receive security codes via SMS."}),e.jsx(R,{sx:{mt:4},children:e.jsx(O,{endIcon:e.jsx(G,{children:e.jsx(tt,{})}),variant:"outlined",children:"Set Up"})})]})})})]})})]}),e.jsxs(K,{children:[e.jsx(Me,{title:"Login history",subheader:"Your recent login activity"}),e.jsx(rt,{children:e.jsxs(ge,{sx:{minWidth:500},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(y,{children:"Login type"}),e.jsx(y,{children:"IP Address"}),e.jsx(y,{children:"Client"})]})}),e.jsx(je,{children:t.map(p=>{const f=nt(p.createdAt,"HH:mm a MM/dd/yyyy");return e.jsxs(H,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsxs(y,{children:[e.jsx(v,{variant:"subtitle2",children:p.type}),e.jsxs(v,{variant:"body2",color:"body2",children:["on ",f]})]}),e.jsx(y,{children:p.ip}),e.jsx(y,{children:p.userAgent})]},p.id)})})]})})]})]})};ft.propTypes={loginEvents:te.array.isRequired};const dn=w.memo(s=>{const t=V();let{count:h=0,items:a=[],onDeselectAll:g,onDeselectOne:p,onSelectAll:f,onSelectOne:c,selected:o=[],isLoading:n,isError:i}=s;const[u,d]=w.useState(1),[l,m]=w.useState(25),{t:x,i18n:b}=z(),D=(_,C)=>{let j=a.filter(M=>M.id==_)[0];t(I.actions.setCurrentData(j)),t(C?I.actions.openCloseModalUpdate():I.actions.openCloseModalDelete())},B=(_,C)=>{d(C)},q=a==null?void 0:a.slice((u-1)*l,u*l);w.useEffect(()=>{d(1)},[a]);const k=_=>{const C=_.target.value;L.put("/client/activation/",{id:C}).then(j=>{t(I.actions.activateClient({id:C}))})};return e.jsxs(R,{sx:{position:"relative"},children:[e.jsx(Pe,{component:qe,children:e.jsxs(ge,{sx:{minWidth:700},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(y,{children:x(r.client.Nom)}),e.jsx(y,{children:x(r.client.Telephone)}),e.jsx(y,{children:x(r.client.Ville)}),e.jsx(y,{})]})}),n?e.jsx(ze,{rowsNum:10}):e.jsx(je,{children:q.length>0?q.map(_=>e.jsxs(H,{hover:!0,children:[e.jsx(y,{children:e.jsxs(E,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(at,{variant:"dot",color:_.is_active?"success":"error",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",badgeContent:" ",sx:{"& .MuiBadge-badge":{minWidth:"14px",height:"14px",fontSize:"0.75rem",borderRadius:"100%",border:"2px solid #fff"}},children:e.jsx(Ue,{sx:{bgcolor:_.is_active?"rgb(19, 194, 194)":"",color:"white",width:45,height:45},children:_.first_name[0]+" "+_.last_name[0]})}),e.jsxs("div",{children:[_.first_name+" "+_.last_name,e.jsx(v,{color:"text.secondary",variant:"body2",children:_.email})]})]})}),e.jsx(y,{children:_.tel_num}),e.jsx(y,{children:_.city}),e.jsxs(y,{children:[e.jsx(J,{color:"warning",onClick:()=>D(_.id,!0),children:e.jsx(G,{children:e.jsx(De,{})})}),_.is_deletable&&e.jsx(J,{color:"error",onClick:()=>D(_.id,!1),children:e.jsx(G,{children:e.jsx(We,{})})}),e.jsx(ve,{color:"primary",defaultChecked:_.is_active,value:_.id,onChange:C=>k(C)})]})]},_.id)):e.jsx(H,{children:e.jsx(y,{colSpan:5,sx:{textAlign:"center"},children:x(r.client.nothingToDisplay)})})})]})}),e.jsx(R,{sx:{display:"flex",justifyContent:"end",p:"5px"},children:e.jsx(Ae,{count:Math.ceil(h/l),defaultPage:u,onChange:B,color:"primary",size:"large"})}),i&&e.jsx(Ye,{})]})});function un(){const s=V(),{t,i18n:h}=z(),{client:a}=U(p=>p.client),g=oe("clients",ue.getClient);return w.useEffect(()=>{g.status=="success"&&s(I.actions.fetchClient(g.data))},[g.status]),e.jsx(Ze,{maxWidth:"xl",children:e.jsxs(Z,{spacing:4,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(Z,{spacing:1,children:e.jsx(v,{variant:"h4",children:t(r.client.title)})}),e.jsx(Z,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(G,{children:e.jsx(Ce,{})}),variant:"contained",onClick:()=>s(I.actions.openCloseModalAdd()),children:t(r.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(dn,{items:a,count:a.length,rowsPerPage:25,isLoading:g.isLoading,isError:g.isError})})]})})}const hn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function mn(){const s=V(),{t,i18n:h}=z(),{client:a,isModalUpdate:g,currentData:p,isConfirm:f}=U(u=>u.client),c=he({first_name:F().required(t(r.client.firstNameRequired)),last_name:F().required(t(r.client.lastNameRequired)),tel_num:F().required(t(r.client.telRequired)).matches(/^[0-9]{10}$/,t(r.client.telMatch)),email:F().email(t(r.login.emailValid)).required(t(r.login.emailRequired)),city:F().required(t(r.client.cityRequired))}),o=me({initialValues:p,validationSchema:c,onSubmit:async(u,{resetForm:d})=>{L.put("/client/update/",u).then(l=>{s(I.actions.editClient(l.data)),s(I.actions.openCloseModalUpdate()),s(I.actions.openCloseConfirm()),$.success(t(r.client.toastUpdateSuccess)),d()}).catch(l=>{s(I.actions.openCloseConfirm()),$.error(t(r.client.toastError))})}});w.useEffect(()=>{o.setValues(p)},[p]);const n=async u=>{u.preventDefault();const d=await o.validateForm();Object.keys(d).length===0?s(I.actions.openCloseConfirm()):await o.submitForm()},i=()=>{o.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(I.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:hn,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(v,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(r.client.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(I.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:u=>n(u),children:[e.jsx(S,{id:"outlined-basic",label:t(r.client.Nom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:o.handleChange,value:o.values.first_name,error:!!(o.touched.first_name&&o.errors.first_name),helperText:o.touched.first_name&&o.errors.first_name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Prenom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:o.handleChange,value:o.values.last_name,error:!!(o.touched.last_name&&o.errors.last_name),helperText:o.touched.last_name&&o.errors.last_name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Telephone),variant:"outlined",value:o.values.tel_num,onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:o.handleChange,error:!!(o.touched.tel_num&&o.errors.tel_num),helperText:o.touched.tel_num&&o.errors.tel_num,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Email),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:o.handleChange,value:o.values.email,error:!!(o.touched.email&&o.errors.email),helperText:o.touched.email&&o.errors.email,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.city,error:!!(o.touched.city&&o.errors.city),helperText:o.touched.city&&o.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.modifier)})]})]})}),e.jsx(pe,{confirmed:i,cancel:()=>s(I.actions.openCloseConfirm()),isConfirm:f})]})}const pn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function xn(){const s=V(),{t,i18n:h}=z(),{client:a,isModalAdd:g,isConfirm:p}=U(i=>i.client),f=he({first_name:F().required(t(r.client.firstNameRequired)),last_name:F().required(t(r.client.lastNameRequired)),tel_num:F().required(t(r.client.telRequired)).matches(/^[0-9]{10}$/,t(r.client.telMatch)),email:F().email(t(r.login.emailValid)).required(t(r.login.emailRequired)),city:F().required(t(r.client.cityRequired))}),c=me({initialValues:{first_name:"",last_name:"",tel_num:"",email:"",city:""},validationSchema:f,onSubmit:async(i,{resetForm:u,setErrors:d})=>{L.post("/client/add/",i).then(l=>{s(I.actions.addClient(l.data)),s(I.actions.openCloseModalAdd()),s(I.actions.openCloseConfirm()),$.success(t(r.client.toastAddSuccess)),u()}).catch(l=>{s(I.actions.openCloseConfirm()),$.error(t(r.client.toastError))})}}),o=async i=>{i.preventDefault();const u=await c.validateForm();Object.keys(u).length===0?s(I.actions.openCloseConfirm()):await c.submitForm()},n=()=>{c.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(I.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:pn,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(v,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(r.client.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(I.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:i=>o(i),children:[e.jsx(S,{id:"outlined-basic",label:t(r.client.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:c.handleChange,value:c.values.first_name,error:!!(c.touched.first_name&&c.errors.first_name),helperText:c.touched.first_name&&c.errors.first_name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Prenom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:c.handleChange,value:c.values.last_name,error:!!(c.touched.last_name&&c.errors.last_name),helperText:c.touched.last_name&&c.errors.last_name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Telephone),variant:"outlined",value:c.values.tel_num,onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:c.handleChange,error:!!(c.touched.tel_num&&c.errors.tel_num),helperText:c.touched.tel_num&&c.errors.tel_num,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Email),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:c.handleChange,value:c.values.email,error:!!(c.touched.email&&c.errors.email),helperText:c.touched.email&&c.errors.email,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.client.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:c.handleBlur,onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.ajouter)})]})]})}),e.jsx(pe,{confirmed:n,cancel:()=>s(I.actions.openCloseConfirm()),isConfirm:p})]})}function gn(){const{currentData:s,isModalDelete:t}=U(f=>f.client),h=V(),{t:a,i18n:g}=z(),p=()=>{console.log("first"),L.delete(`/client/delete/${s.id}`).then(f=>{h(I.actions.deleteClient()),h(I.actions.openCloseModalDelete()),$.success(a(r.client.toastDeleteSuccess))}).catch(f=>{h(I.actions.openCloseModalDelete()),$.error(a(r.client.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(I.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(we,{title:a(r.client.deleteTitle),message:` ${a(r.client.deleteDescription)} ${s.first_name} ${s.last_name}
          ${a(r.client.poncuation)}`,deleteFn:p,cancel:()=>h(I.actions.openCloseModalDelete())})})}function fn(){const{isModalAdd:s,isModalUpdate:t}=U(h=>h.client);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(Re,{children:e.jsx(un,{})}),s&&e.jsx(xn,{}),t&&e.jsx(mn,{}),e.jsx(gn,{})]})}const jn=w.memo(s=>{const t=V();let{count:h=0,items:a=[],onDeselectAll:g,onDeselectOne:p,onSelectAll:f,onSelectOne:c,selected:o=[],isLoading:n,isError:i}=s;const[u,d]=w.useState(1),[l,m]=w.useState(25),{t:x,i18n:b}=z(),D=(k,_)=>{const C=a.filter(j=>j.id==k)[0];t(P.actions.setCurrentData(C)),t(_?P.actions.openCloseModalUpdate():P.actions.openCloseModalDelete())},B=(k,_)=>{d(_)},q=a==null?void 0:a.slice((u-1)*l,u*l);return w.useEffect(()=>{d(1)},[a]),e.jsxs(R,{sx:{position:"relative"},children:[e.jsx(Pe,{component:qe,children:e.jsxs(ge,{sx:{minWidth:700},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(y,{children:x(r.magazin.Nom)}),e.jsx(y,{children:x(r.magazin.Ville)}),e.jsx(y,{children:x(r.magazin.Capacity)}),e.jsx(y,{})]})}),n?e.jsx(ze,{rowsNum:10}):e.jsx(je,{children:q.length>0?q.map(k=>e.jsxs(H,{hover:!0,children:[e.jsx(y,{children:e.jsx(E,{alignItems:"center",direction:"row",spacing:1,children:e.jsx("div",{children:e.jsx(Ve,{color:"inherit",component:At,href:Rt.dashboard.customers.details,variant:"subtitle2",children:k.name})})})}),e.jsx(y,{children:k.city}),e.jsx(y,{sx:{direction:"initial",whiteSpace:"nowrap"},children:k.capacity.toLocaleString("en-US").replaceAll(","," ")}),e.jsxs(y,{children:[e.jsx(J,{color:"warning",onClick:()=>D(k.id,!0),children:e.jsx(G,{children:e.jsx(De,{})})}),k.is_deletable&&e.jsx(J,{color:"error",onClick:()=>D(k.id,!1),children:e.jsx(G,{children:e.jsx(We,{})})})]})]},k.id)):e.jsx(H,{children:e.jsx(y,{colSpan:5,sx:{textAlign:"center"},children:x(r.magazin.nothingToDisplay)})})})]})}),e.jsx(R,{sx:{display:"flex",justifyContent:"end",p:"5px"},children:e.jsx(Ae,{count:Math.ceil(h/l),defaultPage:u,onChange:B,color:"primary",size:"large"})}),i&&e.jsx(Ye,{})]})});function yn(){const s=V(),{t,i18n:h}=z(),{magazin:a}=U(p=>p.magazin),g=oe("magazins",ue.getWarehouse);return w.useEffect(()=>{console.log(g),g.status=="success"&&s(P.actions.fetchMagazin(g.data))},[g.status]),e.jsx(Ze,{maxWidth:"xl",children:e.jsxs(Z,{spacing:4,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(Z,{spacing:1,children:e.jsx(v,{variant:"h4",children:t(r.magazin.title)})}),e.jsx(Z,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(G,{children:e.jsx(Ce,{})}),variant:"contained",onClick:()=>s(P.actions.openCloseModalAdd()),children:t(r.global.ajouter)})})]}),e.jsxs(K,{children:[e.jsx(jn,{items:a,isLoading:g.isLoading,count:a.length,rowsPerPage:25,isError:g.isError}),g.isError&&e.jsx(Lt,{severity:"error",variant:"filled",children:"Test"})]})]})})}const bn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function vn(){const s=V(),{t,i18n:h}=z(),{currentData:a,isModalUpdate:g,isConfirm:p}=U(i=>i.magazin),f=he({name:F().required(t(r.magazin.firstNameRequired)),city:F().required(t(r.magazin.firstNameRequired)),capacity:de().required(t(r.magazin.capacityRequired)).min(0,t(r.magazin.capacityMin))}),c=me({initialValues:{name:"",city:"",capacity:""},validationSchema:f,onSubmit:async(i,{resetForm:u,setErrors:d})=>{L.put("/warehouse/update/",i).then(l=>{s(P.actions.editMagazin(l.data)),s(P.actions.openCloseModalUpdate()),s(P.actions.openCloseConfirm()),$.success(t(r.magazin.toastUpdateSuccess)),u()}).catch(l=>{s(P.actions.openCloseConfirm()),$.error(t(r.magazin.toastError))})}}),o=async i=>{i.preventDefault();const u=await c.validateForm();Object.keys(u).length===0?s(P.actions.openCloseConfirm()):await c.submitForm()},n=()=>{c.handleSubmit()};return w.useEffect(()=>{console.log(a),c.setValues(a)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(P.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:bn,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(v,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(r.magazin.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(P.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:i=>o(i),children:[e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:c.handleChange,value:c.values.name,error:!!(c.touched.name&&c.errors.name),helperText:c.touched.name&&c.errors.name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Ville),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"city",onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Capacity),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"number",name:"capacity",onChange:c.handleChange,value:c.values.capacity,error:!!(c.touched.capacity&&c.errors.capacity),helperText:c.touched.capacity&&c.errors.capacity,style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.modifier)})]})]})}),e.jsx(pe,{confirmed:n,cancel:()=>s(P.actions.openCloseConfirm()),isConfirm:p})]})}const Cn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function wn(){const s=V(),{t,i18n:h}=z(),{magazin:a,isModalAdd:g,isConfirm:p}=U(i=>i.magazin),f=he({name:F().required(t(r.magazin.firstNameRequired)),city:F().required(t(r.magazin.firstNameRequired)),capacity:de().required(t(r.magazin.capacityRequired)).min(0,t(r.magazin.capacityMin))}),c=me({initialValues:{name:"",city:"",capacity:""},validationSchema:f,onSubmit:async(i,{resetForm:u,setErrors:d})=>{L.post("/warehouse/add/",i).then(l=>{s(P.actions.addMagazin(l.data)),s(P.actions.openCloseModalAdd()),s(P.actions.openCloseConfirm()),$.success(t(r.magazin.toastAddSuccess)),u()}).catch(l=>{s(P.actions.openCloseConfirm()),$.error(t(r.magazin.toastError))})}}),o=async i=>{i.preventDefault();const u=await c.validateForm();Object.keys(u).length===0?s(P.actions.openCloseConfirm()):await c.submitForm()},n=()=>{c.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(P.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Cn,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(v,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(r.magazin.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(P.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:i=>o(i),children:[e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:c.handleChange,value:c.values.name,error:!!(c.touched.name&&c.errors.name),helperText:c.touched.name&&c.errors.name,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Ville),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"city",onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.magazin.Capacity),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"number",name:"capacity",onChange:c.handleChange,value:c.values.capacity,error:!!(c.touched.capacity&&c.errors.capacity),helperText:c.touched.capacity&&c.errors.capacity,style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.ajouter)})]})]})}),e.jsx(pe,{confirmed:n,cancel:()=>s(P.actions.openCloseConfirm()),isConfirm:p})]})}function _n(){const{currentData:s,isModalDelete:t}=U(f=>f.magazin),h=V(),{t:a,i18n:g}=z(),p=()=>{L.delete(`/warehouse/delete/${s.id}`).then(f=>{h(P.actions.deleteMagazin()),h(P.actions.openCloseModalDelete()),$.success(a(r.magazin.toastDeleteSuccess))}).catch(f=>{h(P.actions.openCloseModalDelete()),$.error(a(r.magazin.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(P.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(we,{title:a(r.magazin.deleteTitle),message:`${a(r.magazin.deleteDescription)} ${s.name} ${a(r.magazin.poncuation)}`,deleteFn:p,cancel:()=>h(P.actions.openCloseModalDelete())})})}function Sn(){const{isModalAdd:s,isModalUpdate:t}=U(h=>h.magazin);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(Re,{children:e.jsx(yn,{})}),s&&e.jsx(wn,{}),t&&e.jsx(vn,{}),e.jsx(_n,{})]})}const kn=w.memo(s=>{const t=JSON.parse(sessionStorage.getItem("user")),h=V();let{count:a=0,items:g=[],onDeselectAll:p,onDeselectOne:f,onSelectAll:c,onSelectOne:o,selected:n=[],isError:i}=s;const[u,d]=w.useState(1),[l,m]=w.useState(25),{t:x,i18n:b}=z(),D=(k,_)=>{const C=g.filter(j=>j.id==k)[0];h(A.actions.setCurrentData(C)),h(_?A.actions.openCloseModalUpdate():A.actions.openCloseModalDelete())},B=(k,_)=>{d(_)},q=g==null?void 0:g.slice((u-1)*l,u*l);return w.useEffect(()=>{d(1)},[g]),e.jsxs(R,{sx:{position:"relative"},children:[e.jsx(Pe,{component:qe,children:e.jsxs(ge,{sx:{minWidth:700},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(y,{children:t!=null&&t.is_eleveur?x(r.batiment.Nom):x(r.fournisseur.Nom)}),!(t!=null&&t.is_eleveur)&&e.jsx(y,{children:x(r.batiment.Telephone)}),e.jsx(y,{children:x(r.batiment.Ville)}),e.jsx(y,{})]})}),s.isLoading?e.jsx(ze,{rowsNum:10}):e.jsx(je,{children:q.length>0?q.map(k=>e.jsxs(H,{hover:!0,children:[e.jsx(y,{children:e.jsx(E,{alignItems:"center",direction:"row",spacing:1,children:e.jsxs("div",{children:[k.name," ",k.last_name,e.jsx(v,{color:"text.secondary",variant:"body2",children:k==null?void 0:k.email})]})})}),!(t!=null&&t.is_eleveur)&&e.jsx(y,{children:k.tel_num}),e.jsx(y,{children:k.city}),e.jsxs(y,{children:[e.jsx(J,{color:"warning",onClick:()=>D(k.id,!0),children:e.jsx(G,{children:e.jsx(De,{})})}),k.is_deletable&&e.jsx(J,{color:"error",onClick:()=>D(k.id,!1),children:e.jsx(G,{children:e.jsx(We,{})})})]})]},k.id)):e.jsx(H,{children:e.jsx(y,{colSpan:5,sx:{textAlign:"center"},children:x(r.batiment.nothingToDisplay)})})})]})}),e.jsx(R,{sx:{display:"flex",justifyContent:"end",p:"5px"},children:e.jsx(Ae,{count:Math.ceil(a/l),defaultPage:u,onChange:B,color:"primary",size:"large"})}),i&&e.jsx(Ye,{})]})});function Mn(){const s=JSON.parse(sessionStorage.getItem("user")),t=V(),{t:h,i18n:a}=z(),{batiment:g}=U(f=>f.batiment),p=oe("batiment",ue.getBatiment);return w.useEffect(()=>{p.status=="success"&&t(A.actions.fetchBatiment(p.data))},[p.status]),e.jsx(Ze,{maxWidth:"xl",children:e.jsxs(Z,{spacing:4,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(Z,{spacing:1,children:e.jsxs(v,{variant:"h4",children:[" ",s!=null&&s.is_eleveur?h(r.batiment.title):h(r.fournisseur.title)]})}),e.jsx(Z,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(G,{children:e.jsx(Ce,{})}),variant:"contained",onClick:()=>t(A.actions.openCloseModalAdd()),children:h(r.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(kn,{isLoading:p.isLoading,items:g,count:g.length,rowsPerPage:25,isError:p.isError})})]})})}const Bn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Dn(){const s=V(),{t,i18n:h}=z(),a=JSON.parse(sessionStorage.getItem("user")),{currentData:g,isModalUpdate:p,isConfirm:f}=U(l=>l.batiment),[c,o]=w.useState({name:F().required(a!=null&&a.is_eleveur?t(r.batiment.nameRequired):t(r.fournisseur.nameRequired)),last_name:F().required(t(r.fournisseur.lastNameRequired)),tel_num:F().required(t(r.client.telRequired)).matches(/^[0-9]{10}$/,t(r.client.telMatch)),email:F().email(t(r.login.emailValid)).required(t(r.login.emailRequired)),city:F().required(t(r.client.cityRequired))}),n=he(c),i=me({initialValues:{name:"",tel_num:"",email:a!=null&&a.is_eleveur?null:"",city:a!=null&&a.is_eleveur?null:""},validationSchema:n,onSubmit:async(l,{resetForm:m,setErrors:x})=>{console.log(l),L.put("/eggsource/update/",l).then(b=>{s(A.actions.editBatiment(b.data)),s(A.actions.openCloseModalUpdate()),s(A.actions.openCloseConfirm()),$.success(a!=null&&a.is_eleveur?t(r.batiment.toastUpdateSuccess):t(r.fournisseur.toastUpdateSuccess)),m()}).catch(b=>{s(A.actions.openCloseConfirm()),$.error(t(r.global.toastError))})}});w.useEffect(()=>{i.setValues(g);let l=c;a!=null&&a.is_eleveur&&(delete l.tel_num,delete l.email,delete l.last_name,o(l))},[g]);const u=async l=>{l.preventDefault();const m=await i.validateForm();Object.keys(m).length===0?s(A.actions.openCloseConfirm()):await i.submitForm()},d=()=>{i.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:p,onClose:()=>s(A.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Bn,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(v,{id:"modal-modal-title",variant:"h6",component:"h2",children:a!=null&&a.is_eleveur?t(r.batiment.update):t(r.fournisseur.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(A.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:l=>u(l),children:[e.jsx(S,{id:"outlined-basic",label:a!=null&&a.is_eleveur?t(r.batiment.Nom):t(r.fournisseur.Nom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:i.handleChange,value:i.values.name,error:!!(i.touched.name&&i.errors.name),helperText:i.touched.name&&i.errors.name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.fournisseur.Prenom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:i.handleChange,value:i.values.last_name,error:!!(i.touched.last_name&&i.errors.last_name),helperText:i.touched.last_name&&i.errors.last_name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Telephone),variant:"outlined",value:i.values.tel_num,onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:i.handleChange,error:!!(i.touched.tel_num&&i.errors.tel_num),helperText:i.touched.tel_num&&i.errors.tel_num,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Email),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:i.handleChange,value:i.values.email,error:!!(i.touched.email&&i.errors.email),helperText:i.touched.email&&i.errors.email,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.city,error:!!(i.touched.city&&i.errors.city),helperText:i.touched.city&&i.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.modifier)})]})]})}),e.jsx(pe,{confirmed:d,cancel:()=>s(A.actions.openCloseConfirm()),isConfirm:f})]})}const Tn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function En(){const s=V(),{t,i18n:h}=z(),a=JSON.parse(sessionStorage.getItem("user")),{batiment:g,isModalAdd:p,isConfirm:f}=U(l=>l.batiment),[c,o]=w.useState({name:F().required(a!=null&&a.is_eleveur?t(r.batiment.nameRequired):t(r.fournisseur.firstNameRequired)),last_name:F().required(t(r.fournisseur.lastNameRequired)),tel_num:F().required(t(r.client.telRequired)).matches(/^[0-9]{10}$/,t(r.client.telMatch)),email:F().email(t(r.login.emailValid)).required(t(r.login.emailRequired)),city:F().required(t(r.client.cityRequired))}),n=he(c),i=me({initialValues:{name:"",tel_num:a!=null&&a.is_eleveur?null:"",email:a!=null&&a.is_eleveur?null:"",city:""},validationSchema:n,onSubmit:async(l,{resetForm:m,setErrors:x})=>{L.post("/eggsource/add/",l).then(b=>{s(A.actions.addBatiment(b.data)),s(A.actions.openCloseModalAdd()),s(A.actions.openCloseConfirm()),$.success(a!=null&&a.is_eleveur?t(r.batiment.toastAddSuccess):t(r.fournisseur.toastAddSuccess)),m()}).catch(b=>{s(A.actions.openCloseConfirm()),$.error(t(r.global.toastError))})}}),u=async l=>{l.preventDefault();const m=await i.validateForm();Object.keys(m).length===0?s(A.actions.openCloseConfirm()):await i.submitForm()},d=()=>{i.handleSubmit()};return w.useEffect(()=>{if(a!=null&&a.is_eleveur){let l=c;delete l.email,delete l.tel_num,delete l.last_name,o(l)}},[]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:p,onClose:()=>s(A.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Tn,children:[e.jsxs(Z,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(v,{id:"modal-modal-title",variant:"h6",component:"h2",children:a!=null&&a.is_eleveur?t(r.batiment.add):t(r.fournisseur.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(A.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:l=>u(l),children:[e.jsx(S,{id:"outlined-basic",label:a!=null&&a.is_eleveur?t(r.batiment.Nom):t(r.client.Nom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:i.handleChange,value:i.values.name,error:!!(i.touched.name&&i.errors.name),helperText:i.touched.name&&i.errors.name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.client.Prenom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:i.handleChange,value:i.values.last_name,error:!!(i.touched.last_name&&i.errors.last_name),helperText:i.touched.last_name&&i.errors.last_name,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Telephone),variant:"outlined",value:i.values.tel_num,onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:i.handleChange,error:!!(i.touched.tel_num&&i.errors.tel_num),helperText:i.touched.tel_num&&i.errors.tel_num,style:{marginBottom:"15px"}}),!(a!=null&&a.is_eleveur)&&e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Email),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:i.handleChange,value:i.values.email,error:!!(i.touched.email&&i.errors.email),helperText:i.touched.email&&i.errors.email,style:{marginBottom:"15px"}}),e.jsx(S,{id:"outlined-basic",label:t(r.batiment.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.city,error:!!(i.touched.city&&i.errors.city),helperText:i.touched.city&&i.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(r.global.ajouter)})]})]})}),e.jsx(pe,{confirmed:d,cancel:()=>s(A.actions.openCloseConfirm()),isConfirm:f})]})}function $n(){const{currentData:s,isModalDelete:t}=U(c=>c.batiment),h=V(),{t:a,i18n:g}=z(),p=JSON.parse(sessionStorage.getItem("user")),f=()=>{L.delete(`/eggsource/delete/${s.id}`).then(c=>{h(A.actions.deleteBatiment()),h(A.actions.openCloseModalDelete()),$.success(p!=null&&p.is_eleveur?a(r.batiment.toastDeleteSuccess):a(r.fournisseur.toastDeleteSuccess))}).catch(c=>{h(A.actions.openCloseModalDelete()),$.error(a(r.global.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(A.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(we,{title:p!=null&&p.is_eleveur?a(r.batiment.deleteTitle):a(r.fournisseur.deleteTitle),message:p!=null&&p.is_elever?a(r.batiment.deleteDescription):a(r.fournisseur.deleteDescription),deleteFn:f,cancel:()=>h(A.actions.openCloseModalDelete())})})}function Fn(){const{isModalAdd:s,isModalUpdate:t}=U(h=>h.batiment);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(Re,{children:e.jsx(Mn,{})}),s&&e.jsx(En,{}),t&&e.jsx(Dn,{}),e.jsx($n,{})]})}function Nn({isOpen:s,id:t,close:h}){z();const[a,g]=w.useState(new Date),p=V(),f=()=>{L.put("/employee/activation/",{id:t,end_work:ie(a).format("YYYY-MM-DD")}).then(c=>{p(N.actions.activateOeuvre({id:t})),p(N.actions.editOeuvre(c.data)),h()})};return e.jsx(ee,{open:s,children:e.jsxs(R,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",width:350,border:"1px solid #000",boxShadow:24,p:3},children:[e.jsxs(E,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(v,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Ajouter date du dimmession"}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h(),children:e.jsx(le,{})})]}),e.jsxs("form",{children:[e.jsx(xe,{label:"Date du dimmession",value:a,onChange:c=>g(c),sx:{width:"100%"}}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(O,{variant:"contained",sx:{mt:1,mr:.5},onClick:f,children:"Envoyer"}),e.jsx(O,{variant:"contained",sx:{mt:1},color:"error",onClick:h,children:"Annuler"})]})]})]})})}function qn(s){const{isLoading:t,items:h,count:a,rowsPerPage:g,isError:p}=s,[f,c]=w.useState(1),{t:o,i18n:n}=z(),i=V(),[u,d]=w.useState(!1),[l,m]=w.useState();let[x,b]=w.useState(0);const D=(C,j)=>{const M=h.filter(T=>T.id==C)[0];i(N.actions.setCurrentData(M)),j=="update"?i(N.actions.openCloseModalUpdate()):i(N.actions.openCloseModalDelete())},B=(C,j)=>{c(j)},q=h==null?void 0:h.slice((f-1)*g,f*g);w.useEffect(()=>{c(1)},[h]);const k=C=>{m(C.target.value),C.target.checked?L.put("/employee/activation/",{id:C.target.value}).then(j=>{i(N.actions.activateOeuvre({id:l})),i(N.actions.editOeuvre(j.data))}):(C.target.checked=!C.target.checked,d(!0))},_=()=>{b(x+1),d(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(R,{sx:{position:"relative"},children:[e.jsx(Pe,{component:qe,children:e.jsxs(ge,{sx:{minWidth:700,overflowX:"auto"},children:[e.jsx(fe,{children:e.jsxs(H,{children:[e.jsx(y,{}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(r.employee.CIN)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(r.client.Telephone)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(r.employee.Adresse)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(r.employee.StartDate)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(r.employee.EndDate)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(r.employee.ContractType)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(r.employee.Registration)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(r.employee.BirthDate)}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:o(r.employee.PaymentDeadline)}),e.jsx(y,{})]})}),t?e.jsx(ze,{rowsNum:10,cellNum:11}):e.jsx(je,{children:h.length>0?q.map(C=>{const j=new Date(C.start_work),M=new Date(C.end_work),T=new Date(C.b_day);return e.jsxs(H,{children:[e.jsx(y,{sx:{whiteSpace:"nowrap"},children:e.jsxs(E,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(at,{variant:"dot",color:C.is_active?"success":"error",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",badgeContent:" ",sx:{"& .MuiBadge-badge":{minWidth:"14px",height:"14px",fontSize:"0.75rem",borderRadius:"100%",border:"2px solid #fff"}},children:e.jsx(Ue,{sx:{bgcolor:C.is_active?"rgb(19, 194, 194)":"",color:"white",width:45,height:45},children:C.first_name[0]+" "+C.last_name[0]})}),e.jsx("div",{children:C.first_name+" "+C.last_name})]})}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:C.cin}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:C.tel_num}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:C.addr}),e.jsxs(y,{sx:{whiteSpace:"nowrap"},children:[" ",`${j.getDate()}`.padStart(2,0),"/",`${j.getMonth()+1}`.padStart(2,0),"/",j.getFullYear()]}),e.jsxs(y,{sx:{whiteSpace:"nowrap"},children:[" ",M.getFullYear()!="1970"?`${`${M.getDate()}`.padStart(2,0)}/${`${M.getMonth()+1}`.padStart(2,0)}/${M.getFullYear()}`:""]}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:C.contract_type}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:C.registration}),e.jsxs(y,{sx:{whiteSpace:"nowrap"},children:[`${T.getDate()}`.padStart(2,0),"/",`${T.getMonth()+1}`.padStart(2,0),"/",T.getFullYear()]}),e.jsx(y,{sx:{whiteSpace:"nowrap"},children:C.payment_rate}),e.jsxs(y,{sx:{whiteSpace:"nowrap"},children:[e.jsx(J,{color:"warning",onClick:()=>D(C.id,"update"),children:e.jsx(G,{children:e.jsx(De,{})})}),e.jsx(J,{color:"error",onClick:()=>D(C.id,"delete"),children:e.jsx(G,{children:e.jsx(We,{})})}),e.jsx(ve,{color:"secondary",defaultChecked:C.is_active,value:C.id,onChange:Q=>k(Q)})]})]},C.id)}):e.jsx(H,{children:e.jsx(y,{colSpan:7,sx:{textAlign:"center"},children:o(r.magazin.nothingToDisplay)})})})]})},x),e.jsx(R,{sx:{display:"flex",justifyContent:"end",p:"5px"},children:e.jsx(Ae,{count:Math.ceil(a/g),defaultPage:f,onChange:B,color:"primary",size:"large"})})]}),e.jsx(Nn,{isOpen:u,id:l,close:_})]})}function In(){const s=V(),{t,i18n:h}=z(),a=oe("mainOeuvre",ue.fetchOeuvre),{oeuvre:g}=U(p=>p.mainDoeuvre);return w.useEffect(()=>{a.isLoading||s(N.actions.fetchOeuvre(a.data))},[a.isLoading]),e.jsx(Ie,{maxWidth:"xl",children:e.jsxs(E,{spacing:4,children:[e.jsxs(E,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(E,{spacing:1,children:e.jsx(v,{variant:"h4",children:t(r.employee.title)})}),e.jsx(E,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(G,{children:e.jsx(Ce,{})}),variant:"contained",onClick:()=>s(N.actions.openCloseModalAdd()),children:t(r.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(qn,{isLoading:a.isLoading,items:g,count:g.length,rowsPerPage:25,isError:a.isError})})]})})}const Pn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function An({paimentDelai:s,contracts:t}){ie.locale("fr");const h=V(),{t:a,i18n:g}=z(),p=[{key:"cin",message:a(r.employee.cinDuplicated)},{key:"registration",message:a(r.employee.registerDuplicated)},{key:"tel_num",message:a(r.employee.telNumDuplicated)}],{isModalAdd:f,isConfirm:c}=U(u=>u.mainDoeuvre),o=me({initialValues:{first_name:"",last_name:"",cin:"",registration:null,b_day:null,start_work:null,end_work:null,tel_num:"",addr:"",type:null,rate:null},validationSchema:he({first_name:F().required(a(r.employee.firstNameRequired)).min(2,a(r.employee.firstNameMin)).max(50,a(r.employee.firstNameMax)),last_name:F().required(a(r.employee.lastNameRequired)).min(2,a(r.employee.lastNameMin)).max(50,a(r.employee.lastNameMax)),cin:F().required(a(r.employee.cinRequired)).matches(/^[A-Za-z0-9]+$/,a(r.employee.cinAlphanumeric)).max(20,a(r.employee.cinMax)),registration:de().required(a(r.employee.registrationRequired)).typeError(a(r.employee.registrationTypeError)).positive(a(r.employee.registrationPositive)),b_day:be().required(a(r.employee.birthDateRequired)).typeError(a(r.employee.birthDateTypeError)),start_work:be().required(a(r.employee.startWorkRequired)).typeError(a(r.employee.startWorkTypeError)),end_work:be().nullable().typeError(a(r.employee.endWorkTypeError)).min(ot("start_work"),a(r.employee.endWorkMin)),tel_num:F().required(a(r.employee.telNumRequired)).matches(/^[0-9]{10}$/,a(r.employee.telNumValid)),addr:F().required(a(r.employee.addrRequired)).max(100,a(r.employee.addrMax)),type:de().required(a(r.employee.rateTypeRequired)).typeError(a(r.employee.typeTypeError)).integer(a(r.employee.typeInteger)),rate:de().required(a(r.employee.rateTypeRequired)).typeError(a(r.employee.rateTypeError))}),onSubmit:async(u,{setErrors:d,setFieldError:l})=>{let m={...u};m.b_day=ie(m.b_day).format("YYYY-MM-DD"),m.start_work=ie(m.start_work).format("YYYY-MM-DD"),m.end_work=m.end_work!==null?ie(m.end_work).format("YYYY-MM-DD"):"",L.post("/employee/add/",m).then(x=>{h(N.actions.addOeuvre(x.data)),h(N.actions.openCloseModalAdd()),h(N.actions.openCloseConfirm()),$.success(a(r.employee.toastAddSuccess))}).catch(x=>{h(N.actions.openCloseConfirm()),x.response.data.length>0?x.response.data.map(b=>{l(p[b-1].key,p[b-1].message)}):$.error(a(r.global.toastError))})}}),n=async u=>{u.preventDefault();const d=await o.validateForm();console.log(d),Object.keys(d).length===0?h(N.actions.openCloseConfirm()):await o.submitForm()},i=()=>{o.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:f,onClose:()=>h(N.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Pn,children:[e.jsxs(E,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(v,{id:"modal-modal-title",variant:"h6",component:"h2",children:a(r.employee.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h(N.actions.openCloseModalAdd()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:u=>n(u),children:[e.jsxs(W,{container:!0,spacing:2,children:[e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.client.Nom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:o.handleChange,value:o.values.first_name,error:!!(o.touched.first_name&&o.errors.first_name),helperText:o.touched.first_name&&o.errors.first_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.client.Prenom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:o.handleChange,value:o.values.last_name,error:!!(o.touched.last_name&&o.errors.last_name),helperText:o.touched.last_name&&o.errors.last_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.Adresse),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"addr",onChange:o.handleChange,value:o.values.addr,error:!!(o.touched.addr&&o.errors.addr),helperText:o.touched.addr&&o.errors.addr,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.client.Telephone),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:o.handleChange,value:o.values.tel_num,error:!!(o.touched.tel_num&&o.errors.tel_num),helperText:o.touched.tel_num&&o.errors.tel_num,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.CIN),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"cin",onChange:o.handleChange,value:o.values.cin,error:!!(o.touched.cin&&o.errors.cin),helperText:o.touched.cin&&o.errors.cin,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(xe,{label:a(r.employee.BirthDate),variant:"outlined",fullWidth:!0,name:"b_day",value:o.values.b_day,onChange:u=>o.setFieldValue("b_day",u),slotProps:{textField:{variant:"outlined",error:!!(o.touched.b_day&&o.errors.b_day),helperText:o.touched.b_day&&o.errors.b_day}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.Registration),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"registration",onChange:o.handleChange,value:o.values.registration,error:!!(o.touched.registration&&o.errors.registration),helperText:o.touched.registration&&o.errors.registration,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(xe,{label:a(r.employee.StartDate),variant:"outlined",fullWidth:!0,name:"start_work",value:o.values.start_work,onChange:u=>o.setFieldValue("start_work",u),slotProps:{textField:{variant:"outlined",error:!!(o.touched.start_work&&o.errors.start_work),helperText:o.touched.start_work&&o.errors.start_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(xe,{label:a(r.employee.EndDate),variant:"outlined",fullWidth:!0,name:"end_work",value:o.values.end_work,onChange:u=>o.setFieldValue("end_work",u),slotProps:{textField:{variant:"outlined",error:!!(o.touched.end_work&&o.errors.end_work),helperText:o.touched.end_work&&o.errors.end_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(Ee,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(o.touched.type&&o.errors.type),children:[e.jsx($e,{id:"batiment-id",children:a(r.employee.ContractType)}),e.jsx(Fe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:o.handleBlur,fullWidth:!0,name:"type",onChange:o.handleChange,value:o.values.type,label:a(r.employee.ContractType),children:t.length>0?t.map(u=>e.jsx(ce,{value:u.id,children:u.value},u.id)):e.jsx(ce,{children:a(r.batiment.nothingToDisplay)})}),o.touched.type&&o.errors.type&&e.jsx(Ne,{children:o.errors.type})]})}),e.jsx(W,{item:!0,xs:12,children:e.jsxs(Ee,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(o.touched.rate&&o.errors.rate),children:[e.jsx($e,{id:"batiment-id",children:a(r.employee.PaymentDeadline)}),e.jsx(Fe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:o.handleBlur,fullWidth:!0,name:"rate",onChange:o.handleChange,value:o.values.rate,label:a(r.employee.PaymentDeadline),children:s.length>0?s.map(u=>e.jsx(ce,{value:u.id,children:u.value},u.id)):e.jsx(ce,{children:a(r.batiment.nothingToDisplay)})}),o.touched.rate&&o.errors.rate&&e.jsx(Ne,{children:o.errors.rate})]})})]}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:a(r.global.ajouter)})]})]})}),e.jsx(pe,{confirmed:i,cancel:()=>h(N.actions.openCloseConfirm()),isConfirm:c})]})}function Rn(){const{currentData:s,isModalDelete:t}=U(f=>f.mainDoeuvre),h=V(),{t:a,i18n:g}=z(),p=()=>{L.delete(`/employee/delete/${s.id}`).then(f=>{h(N.actions.deleteOeuvre()),h(N.actions.openCloseModalDelete()),$.success(a(r.employee.toastDeleteSuccess))}).catch(f=>{h(N.actions.openCloseModalDelete()),$.error(a(r.global.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(N.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(we,{title:a(r.employee.deleteConfirmTitle),message:a(r.employee.deleteConfirmMessage),deleteFn:p,cancel:()=>h(N.actions.openCloseModalDelete())})})}const zn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Wn({paimentDelai:s,contracts:t}){ie.locale("fr");const h=V(),{t:a,i18n:g}=z(),{currentData:p,isModalUpdate:f,isConfirm:c}=U(d=>d.mainDoeuvre),o=[{key:"cin",message:a(r.employee.cinDuplicated)},{key:"registration",message:a(r.employee.registerDuplicated)},{key:"tel_num",message:a(r.employee.telNumDuplicated)}],n=me({initialValues:{first_name:"",last_name:"",cin:"",registration:null,b_day:null,start_work:null,end_work:null,tel_num:"",addr:"",type:null,rate:null},validationSchema:he({first_name:F().required(a(r.employee.firstNameRequired)).min(2,a(r.employee.firstNameMin)).max(50,a(r.employee.firstNameMax)),last_name:F().required(a(r.employee.lastNameRequired)).min(2,a(r.employee.lastNameMin)).max(50,a(r.employee.lastNameMax)),cin:F().required(a(r.employee.cinRequired)).matches(/^[A-Za-z0-9]+$/,a(r.employee.cinAlphanumeric)).max(20,a(r.employee.cinMax)),registration:de().required(a(r.employee.registrationRequired)).typeError(a(r.employee.registrationTypeError)).positive(a(r.employee.registrationPositive)),b_day:be().required(a(r.employee.birthDateRequiredbirthDateRequired)).typeError(a(r.employee.birthDateTypeError)),start_work:be().required(a(r.employee.startWorkRequired)).typeError(a(r.employee.startWorkTypeError)),end_work:be().nullable().typeError(a(r.employee.endWorkTypeError)).min(ot("start_work"),a(r.employee.endWorkMin)),tel_num:F().required(a(r.employee.telNumRequired)).matches(/^[0-9]{10}$/,a(r.employee.telNumValid)),addr:F().required(a(r.employee.addrRequired)).max(100,a(r.employee.addrMax)),type:de().required(a(r.employee.rateTypeRequired)).typeError(a(r.employee.typeTypeError)).integer(a(r.employee.typeInteger)),rate:de().required(a(r.employee.rateTypeRequired)).typeError(a(r.employee.rateTypeError))}),onSubmit:async(d,{setFieldError:l})=>{let m={...d};m.b_day=ie(m.b_day).format("YYYY-MM-DD"),m.start_work=ie(m.start_work).format("YYYY-MM-DD"),m.end_work=m.end_work!==null?ie(m.end_work).format("YYYY-MM-DD"):"",L.put("/employee/update/",m).then(x=>{h(N.actions.editOeuvre(x.data)),h(N.actions.openCloseModalUpdate()),h(N.actions.openCloseConfirm()),$.success(a(r.employee.toastEditSuccess))}).catch(x=>{h(N.actions.openCloseConfirm()),x.response.data.length>0?x.response.data.map(b=>{l(o[b-1].key,o[b-1].message)}):$.error(a(r.global.toastError))})}}),i=async d=>{d.preventDefault();const l=await n.validateForm();Object.keys(l).length===0?h(N.actions.openCloseConfirm()):await n.submitForm()},u=()=>{n.handleSubmit()};return w.useEffect(()=>{let d={...p};console.log(d),d.b_day=new Date(d.b_day),d.start_work=new Date(d.start_work),d.end_work=d.end_work!==null?new Date(d.end_work):null,n.setValues(d)},[p]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:f,onClose:()=>h(N.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:zn,children:[e.jsxs(E,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(v,{id:"modal-modal-title",variant:"h6",component:"h2",children:a(r.employee.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h(N.actions.openCloseModalUpdate()),children:e.jsx(le,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:d=>i(d),children:[e.jsxs(W,{container:!0,spacing:2,children:[e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.client.Nom),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:n.handleChange,value:n.values.first_name,error:!!(n.touched.first_name&&n.errors.first_name),helperText:n.touched.first_name&&n.errors.first_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.client.Prenom),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:n.handleChange,value:n.values.last_name,error:!!(n.touched.last_name&&n.errors.last_name),helperText:n.touched.last_name&&n.errors.last_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.Adresse),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"addr",onChange:n.handleChange,value:n.values.addr,error:!!(n.touched.addr&&n.errors.addr),helperText:n.touched.addr&&n.errors.addr,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.client.Telephone),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:n.handleChange,value:n.values.tel_num,error:!!(n.touched.tel_num&&n.errors.tel_num),helperText:n.touched.tel_num&&n.errors.tel_num,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.CIN),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"cin",onChange:n.handleChange,value:n.values.cin,error:!!(n.touched.cin&&n.errors.cin),helperText:n.touched.cin&&n.errors.cin,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(xe,{label:a(r.employee.BirthDate),variant:"outlined",fullWidth:!0,name:"b_day",value:n.values.b_day,onChange:d=>n.setFieldValue("b_day",d),slotProps:{textField:{variant:"outlined",error:!!(n.touched.b_day&&n.errors.b_day),helperText:n.touched.b_day&&n.errors.b_day}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(S,{id:"outlined-basic",label:a(r.employee.Registration),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"registration",onChange:n.handleChange,value:n.values.registration,error:!!(n.touched.registration&&n.errors.registration),helperText:n.touched.registration&&n.errors.registration,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(xe,{label:a(r.employee.StartDate),variant:"outlined",fullWidth:!0,name:"start_work",value:n.values.start_work,onChange:d=>n.setFieldValue("start_work",d),slotProps:{textField:{variant:"outlined",error:!!(n.touched.start_work&&n.errors.start_work),helperText:n.touched.start_work&&n.errors.start_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(xe,{label:a(r.employee.EndDate),variant:"outlined",fullWidth:!0,name:"end_work",value:n.values.end_work,onChange:d=>n.setFieldValue("end_work",d),slotProps:{textField:{variant:"outlined",error:!!(n.touched.end_work&&n.errors.end_work),helperText:n.touched.end_work&&n.errors.end_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(Ee,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(n.touched.type&&n.errors.type),children:[e.jsx($e,{id:"batiment-id",children:a(r.employee.ContractType)}),e.jsx(Fe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:n.handleBlur,fullWidth:!0,name:"type",onChange:n.handleChange,value:n.values.type,label:a(r.employee.ContractType),children:t.length>0?t.map(d=>e.jsx(ce,{value:d.id,children:d.value},d.id)):e.jsx(ce,{children:a(r.batiment.nothingToDisplay)})}),n.touched.type&&n.errors.type&&e.jsx(Ne,{children:n.errors.type})]})}),e.jsx(W,{item:!0,xs:12,children:e.jsxs(Ee,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(n.touched.rate&&n.errors.rate),children:[e.jsx($e,{id:"batiment-id",children:a(r.employee.PaymentDeadline)}),e.jsx(Fe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:n.handleBlur,fullWidth:!0,name:"rate",onChange:n.handleChange,value:n.values.rate,label:a(r.employee.PaymentDeadline),children:s.length>0?s.map(d=>e.jsx(ce,{value:d.id,children:d.value},d.id)):e.jsx(ce,{children:a(r.batiment.nothingToDisplay)})}),n.touched.rate&&n.errors.rate&&e.jsx(Ne,{children:n.errors.rate})]})})]}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:a(r.global.modifier)})]})]})}),e.jsx(pe,{confirmed:u,cancel:()=>h(N.actions.openCloseConfirm()),isConfirm:c})]})}function Ln(){const s=oe("paimentDelai",ue.fetchPaymentRate),t=oe("contracts",ue.fetchContract),{isModalAdd:h,isModalUpdate:a}=U(g=>g.mainDoeuvre);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(Re,{children:e.jsx(In,{})}),a&&e.jsx(Wn,{paimentDelai:s.data,contracts:t.data}),h&&e.jsx(An,{paimentDelai:s.data,contracts:t.data}),e.jsx(Rn,{})]})}function On(){const s=oe("expense",ue.fetchExpenseType,{}),[t,h]=w.useState(""),[a,g]=w.useState([]),[p,f]=w.useState(""),[c,o]=w.useState(!1),[n,i]=w.useState(),[u,d]=w.useState(),{t:l,i18n:m}=z(),x=it(),b=j=>{h(j.target.value)},D=j=>{f(j.target.value)},B=j=>{j.preventDefault(),L.post("/expensestype/add/",{name:t}).then(M=>{g(T=>[...T,M.data]),h(""),$.success(l(r.depense.addsuccess)),x.invalidateQueries("expense")})},q=j=>{i(j),o(!0)},k=()=>{L.delete("/expensestype/delete/"+n).then(j=>{g(M=>M.filter(T=>T.id!=n)),o(!1),x.invalidateQueries("expense"),$.success(l(r.depense.deletesuccess))})},_=j=>{d(j)},C=()=>{L.put("/expensestype/update/",{id:u,name:p}).then(j=>{const M=a,T=M.findIndex(Q=>Q.id==u);M[T]=j.data,g(M),d(null),f(""),x.invalidateQueries("expense"),$.success(l(r.depense.editsuccess))})};return w.useEffect(()=>{s.isLoading||g(s.data),console.log(s)},[s.isLoading]),e.jsxs(e.Fragment,{children:[e.jsxs(Ie,{children:[e.jsx(v,{variant:"h5",mb:2,children:l(r.depense.titleType)}),e.jsx("form",{onSubmit:B,children:e.jsxs(E,{direction:"row",spacing:2,children:[e.jsx(S,{label:l(r.depense.addlabel),fullWidth:!0,value:t,onChange:b}),e.jsx(O,{type:"submit",variant:"contained",endIcon:e.jsx(Ce,{}),disabled:t=="",children:l(r.depense.addbutton)})]})}),s.isLoading?[...Array(5)].map(()=>e.jsx(lt,{variant:"rectangular",width:"100%",height:"40px",sx:{mt:2}})):a.length>0?a.map(j=>e.jsx(R,{sx:{mt:2,backgroundColor:M=>M.palette.mode==="dark"?"neutral.800":M.palette.primary.light,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"5px",p:.4},children:e.jsx(E,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:u!==j.id?e.jsxs(e.Fragment,{children:[e.jsx(v,{children:j.name}),e.jsxs(R,{children:[e.jsx(J,{onClick:()=>_(j.id),children:e.jsx(ct,{})}),e.jsx(J,{onClick:()=>q(j.id),children:e.jsx(dt,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{fullWidth:!0,value:p,autoFocus:!0,variant:"filled",onChange:D,size:"medium"}),e.jsx(J,{onClick:C,disabled:p=="",children:e.jsx(ut,{color:"success"})}),e.jsx(J,{onClick:()=>d(null),children:e.jsx(st,{color:"error"})})]})})})):e.jsx(v,{variant:"subtitle2",textAlign:"center",mt:2,children:l(r.client.nothingToDisplay)})]}),e.jsx(ee,{open:c,children:e.jsx(we,{title:l(r.depense.deletetitle),message:l(r.depense.deletemessage),cancel:()=>o(!1),deleteFn:k})})]})}function Vn(){const s=oe("expenseDivers",ue.fetchDiversType,{}),t=it(),[h,a]=w.useState(""),[g,p]=w.useState([]),[f,c]=w.useState(""),[o,n]=w.useState(!1),[i,u]=w.useState(),[d,l]=w.useState(),{t:m,i18n:x}=z(),b=j=>{a(j.target.value)},D=j=>{c(j.target.value)},B=j=>{j.preventDefault(),L.post("/otherexpensestype/add/",{type:h}).then(M=>{p(T=>[...T,M.data]),a(""),t.invalidateQueries("expenseDivers"),$.success(m(r.depense.addsuccess))}).catch(M=>{$.error(m(r.global.toastError))})},q=j=>{u(j),n(!0)},k=()=>{L.delete("/otherexpensestype/delete/"+i).then(j=>{p(M=>M.filter(T=>T.id!=i)),n(!1),t.invalidateQueries("expenseDivers"),$.success(m(r.depense.deletesuccess))}).catch(j=>{$.error(m(r.global.toastError)),n(!1)})},_=j=>{l(j)},C=()=>{L.put("/otherexpensestype/update/",{id:d,type:f}).then(j=>{const M=g,T=M.findIndex(Q=>Q.id==d);M[T]=j.data,p(M),l(null),c(""),t.invalidateQueries("expenseDivers"),$.success(m(r.depense.editsuccess))}).catch(j=>{l(null),$.error(m(r.global.toastError))})};return w.useEffect(()=>{s.isLoading||p(s.data)},[s.isLoading]),e.jsxs(e.Fragment,{children:[e.jsxs(Ie,{children:[e.jsx(v,{variant:"h5",mb:2,children:m(r.divers.titleType)}),e.jsxs("form",{onSubmit:B,children:[e.jsxs(E,{direction:"row",spacing:2,children:[e.jsx(S,{label:m(r.depense.addlabel),fullWidth:!0,value:h,onChange:b}),e.jsx(O,{type:"submit",variant:"contained",endIcon:e.jsx(Ce,{}),disabled:h=="",children:m(r.depense.addbutton)})]}),console.log(s.length)]}),s.isLoading?[...Array(5)].map(()=>e.jsx(lt,{variant:"rectangular",width:"100%",height:"40px",sx:{mt:2}})):s.data.length>0?g.map(j=>e.jsx(R,{sx:{mt:2,backgroundColor:M=>M.palette.mode==="dark"?"neutral.800":M.palette.primary.light,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"5px",p:.4},children:e.jsx(E,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:d!==j.id?e.jsxs(e.Fragment,{children:[e.jsx(v,{children:j.type}),e.jsxs(R,{children:[e.jsx(J,{onClick:()=>_(j.id),children:e.jsx(ct,{})}),e.jsx(J,{onClick:()=>q(j.id),children:e.jsx(dt,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{fullWidth:!0,autoFocus:!0,value:f,variant:"filled",onChange:D,size:"medium"}),e.jsx(J,{onClick:C,disabled:f=="",children:e.jsx(ut,{color:"success"})}),e.jsx(J,{onClick:()=>l(null),children:e.jsx(st,{color:"error"})})]})})})):e.jsx(v,{variant:"subtitle2",textAlign:"center",mt:2,children:m(r.client.nothingToDisplay)})]}),e.jsx(ee,{open:o,children:e.jsx(we,{title:m(r.depense.deletetitle),message:m(r.depense.deletemessage),cancel:()=>n(!1),deleteFn:k})})]})}const _e=new Date,lr=()=>{const s=JSON.parse(sessionStorage.getItem("user")),{t,i18n:h}=z(),[a,g]=w.useState("client"),[p,f]=w.useState([{label:t(r.nav.client),value:"client"},!(s!=null&&s.is_eleveur)&&{label:t(r.employee.title),value:"mainDoeuvre"},{label:t(r.nav.waerhouse),value:"magasin"},{label:s!=null&&s.is_eleveur?t(r.batiment.title):t(r.fournisseur.title),value:"batiment"},{label:t(r.nav.eggTypeChange),value:"Modifier type d'oeuf"},!(s!=null&&s.is_eleveur)&&{label:t(r.nav.depenseMensuel),value:"depenseMensuel"},!(s!=null&&s.is_eleveur)&&{label:t(r.nav.depenseDivers),value:"depenseDivers"}].filter(o=>o!==!1));Wt();const c=w.useCallback((o,n)=>{g(n)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(zt,{title:`ESM | ${t(r.global.setting)}`}),e.jsx(R,{component:"main",sx:{flexGrow:1,py:8},children:e.jsxs(Ie,{maxWidth:"xl",children:[e.jsxs(E,{spacing:3,sx:{mb:3},children:[e.jsx(v,{variant:"h4",children:t(r.global.setting)}),e.jsxs("div",{children:[e.jsx(Vt,{indicatorColor:"primary",onChange:c,scrollButtons:"auto",textColor:"primary",value:a,variant:"scrollable",children:p.map(o=>e.jsx(Ut,{label:o.label,value:o.value},o.value))}),e.jsx(ke,{})]})]}),a==="Modifier type d'oeuf"&&e.jsx(an,{}),a==="billing"&&e.jsx(pt,{plan:"standard",invoices:[{id:"5547409069c59755261f5546",amount:4.99,createdAt:Oe(_e,1).getTime()},{id:"a3e17f4b551ff8766903f31f",amount:4.99,createdAt:Oe(_e,2).getTime()},{id:"28ca7c66fc360d8203644256",amount:4.99,createdAt:Oe(_e,3).getTime()}]}),a==="team"&&e.jsx(gt,{members:[{avatar:"/assets/avatars/avatar-cao-yu.png",email:"cao.yu@devias.io",name:"Cao Yu",role:"Owner"},{avatar:"/assets/avatars/avatar-siegbert-gottfried.png",email:"siegbert.gottfried@devias.io",name:"Siegbert Gottfried",role:"Standard"}]}),a==="notifications"&&e.jsx(sn,{}),a==="security"&&e.jsx(ft,{loginEvents:[{id:"1bd6d44321cb78fd915462fa",createdAt:Je(Xe(Ke(_e,5),7),1).getTime(),ip:"95.130.17.84",type:"Credential login",userAgent:"Chrome, Mac OS 10.15.7"},{id:"bde169c2fe9adea5d4598ea9",createdAt:Je(Xe(Ke(_e,25),9),1).getTime(),ip:"95.130.17.84",type:"Credential login",userAgent:"Chrome, Mac OS 10.15.7"}]}),a==="client"&&e.jsx(fn,{}),a==="mainDoeuvre"&&e.jsx(Ln,{}),a==="magasin"&&e.jsx(Sn,{}),a==="batiment"&&e.jsx(Fn,{}),a==="depenseMensuel"&&e.jsx(On,{}),a==="depenseDivers"&&e.jsx(Vn,{})]})})]})};export{lr as default};
