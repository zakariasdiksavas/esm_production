import{c as rt,j as f,d as ie,r as W,l as D,U as ot,B as De,a3 as ht,au as C,av as v,aw as ye,ax as z,ay as O,az as K,aA as U,aB as be,aC as se,aD as te,aE as E,aF as ut,aG as ct,aH as qe,aI as dt,aJ as gt,aK as Me,aL as L,aM as mt,aN as ft,O as pt,ab as vt,ac as yt,ad as bt,ae as xt,a as Be,T as St,S as Mt}from"./index-6dfaf798.js";import{S as he,G as X,g as Ie,e as wt,T as At,a as Ct,b as we,c as ee,d as Rt,P as _t,f as Pt,u as re,h as oe,B as Lt,E as Ke}from"./moment-b22360b6.js";import{R as k,D as Tt,s as je,g as Ne,a as P,b as w,p as ze,P as pe,f as Z,c as Y,L as Ze,m as F,d as Je,B as ke,F as Re,C as Ot,A as kt,E as Et,i as le,e as N,l as J,h as j,j as Dt,k as Bt,r as V,n as It,o as Fe,q as jt,t as Nt,S as _e,u as We,v as zt,w as Ft,x as Wt,y as Ht,z as Pe,G as Qe,H as ae,I as Vt,J as Ut,K as Yt,M as Xt,N as $t,O as et,Q as Gt,T as qt,U as He,V as Le,W as Kt,X as Ae,Y as ue,Z as Ve,_ as ce,$ as ve,a0 as Zt,a1 as Jt,a2 as Qt,a3 as ei,a4 as ti,a5 as ii,a6 as Te,a7 as Ue,a8 as ai,a9 as I,aa as si,ab as li,ac as ni,ad as ri,ae as Ye,af as oi,ag as hi,ah as ui,ai as ci,aj as di,ak as gi,al as mi,am as Xe,an as fi,ao as tt,ap as pi,aq as vi,ar as yi}from"./tooltip-eefea3ed.js";import{u as bi,c as xi,C as it,b as Si}from"./formik.esm-45b81460.js";import{A as de,a as ge,F as Mi,b as me}from"./fr-dfeccf7c.js";import{D as wi}from"./DatePicker-c3bd6d5c.js";import{C as Ai}from"./Container-2497af14.js";const fe=rt(f.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function Ci({eggTotal:d,isLoading:s}){const{t:e,i18n:t}=ie(),[i,a]=W.useState(0);return W.useEffect(()=>{if(!s){const l=d.reduce((n,r)=>n+r.total_quantity,0);a(l)}},[d]),f.jsx(he,{alignItems:"center",direction:"row",spacing:1,sx:{backgroundColor:l=>l.palette.mode==="dark"?"neutral.800":"error.lightest",borderRadius:2.5,px:3,py:4},children:f.jsxs(X,{container:!0,children:[f.jsx(X,{item:!0,xs:12,alignItems:"center",children:f.jsxs("h1",{className:"text-center font-bold text-lg",children:[e(D.stock.stockTotal)," ",i.toLocaleString("en-US").replaceAll(","," ")]})}),f.jsx(ot,{}),s?[...Array(11)].map((l,n)=>f.jsx(X,{item:!0,xs:12,sm:6,md:4,children:f.jsxs("div",{className:"flex justify-center md:justify-normal",dir:"ltr",children:[f.jsxs("strong",{children:[" ",f.jsx(Ie,{width:50,animation:"wave",variant:"text"})," "]}),f.jsxs("span",{children:[" ",f.jsx(Ie,{width:50,animation:"wave",variant:"text"})]})]})},n)):d==null?void 0:d.map((l,n)=>f.jsx(X,{item:!0,xs:12,sm:6,md:4,children:f.jsxs("div",{className:"flex justify-center md:justify-normal",dir:"ltr",children:[f.jsxs("strong",{children:[l.egg_class,": "]}),f.jsx("span",{className:"ml-1",children:l.total_quantity.toLocaleString("en-US").replaceAll(","," ")})]})},n))]})})}const Ri=W.memo(d=>{var M;const s=JSON.parse(sessionStorage.getItem("user"));let{count:e=0,items:t=[],onDeselectAll:i,onDeselectOne:a,onSelectAll:l,onSelectOne:n,selected:r=[],eggType:h}=d;const[o,c]=W.useState(1),[u,g]=W.useState(25),{t:m,i18n:p}=ie(),b=(A,R)=>{c(R)},x=t==null?void 0:t.slice((o-1)*u,o*u);return W.useEffect(()=>{c(1)},[t]),f.jsxs(De,{sx:{position:"relative",padding:"5px"},children:[f.jsx(wt,{component:ht,children:f.jsxs(At,{sx:{minWidth:700},children:[f.jsx(Ct,{children:f.jsxs(we,{children:[f.jsx(ee,{children:s!=null&&s.is_eleveur?m(D.batiment.title):m(D.fournisseur.title)}),(M=d.eggType)==null?void 0:M.map(A=>f.jsx(ee,{children:A.value})),f.jsx(ee,{})]})}),f.jsx(Rt,{children:x.length>0?x.map(A=>f.jsxs(we,{hover:!0,children:[f.jsx(ee,{children:A.eggsource_name}),A.values.map(R=>f.jsx(ee,{sx:{direction:"initial",whiteSpace:"nowrap"},children:R.total_quantity.toLocaleString("en-US").replaceAll(","," ")}))]},A.eggsource_name)):f.jsx(we,{children:f.jsx(ee,{colSpan:11,sx:{textAlign:"center"},children:m(D.batiment.nothingToDisplay)})})})]})}),f.jsx(De,{sx:{display:"flex",justifyContent:"end",p:"5px"},children:f.jsx(_t,{count:Math.ceil(e/u),defaultPage:o,onChange:b,color:"primary",size:"large"})})]})});var _i=function(){function d(s){this.control=s}return d.prototype.seriesStyles=function(){var s,e=document.getElementById(this.styleId),t="{}",i,a,l=this.control.selectionPattern,n=this.control.highlightPattern;if(this.styleId.indexOf("highlight")>0&&this.control.highlightColor!==""||C(e)||l!=="None"||n!=="None"){document.getElementById(this.styleId)&&document.getElementById(this.styleId).remove(),e=document.createElement("style"),e.setAttribute("id",this.styleId);for(var r=0,h=this.control.visibleSeries;r<h.length;r++){var o=h[r],c=this.control.visibleSeries[o.index]||this.control.visibleSeries[o.index];if(this.styleId.indexOf("highlight")>0&&this.control.highlightColor!==""||(!C(l)||!C(n))&&(l!=="None"||n!=="None")){var u=this.styleId.indexOf("highlight")>0?n:l;if((c.type==="Pie"||c.type==="Funnel"||c.type==="Pyramid"||this.control.getModuleName()==="circularchart3d")&&this.control.highlightColor!=="transparent")for(var g=0;g<c.points.length;g++)a=c.opacity,i=this.pattern(this.control,this.styleId.indexOf("highlight")>0&&this.control.highlightColor!==""?this.control.highlightColor:c.points[g].color,o.points[g].index,u,a),t="{ fill:"+i+"}",s=o.selectionStyle||this.styleId+"_series_"+o.index+"_point_"+o.points[g].index+",."+this.styleId+"_series_"+o.index+"_point_"+o.points[g].index+"> *",this.control.highlightMode==="None"&&this.control.legendSettings.enableHighlight&&!o.isRectSeries&&(e.innerText+="."+this.styleId+"_series_"+o.index+"> * { stroke-width:3;} "),t=t.indexOf("None")>-1?"{fill:"+(this.styleId.indexOf("highlight")>0&&this.control.highlightColor!==""?this.control.highlightColor:c.points[g].color)+"!important}":t,e.innerText+=o.selectionStyle?"":"."+s+t;else c.type&&this.control.highlightColor!=="transparent"&&(a=c.opacity,i=this.pattern(this.control,this.styleId.indexOf("highlight")>0&&this.control.highlightColor!==""?this.control.highlightColor:c.pointColorMapping!==""||this.control.rangeColorSettings&&this.control.rangeColorSettings.length>1?c.points[0].color:c.interior,o.index,u,a),t="{ fill:"+i+"}")}s=o.selectionStyle||this.styleId+"_series_"+o.index+",."+this.styleId+"_series_"+o.index+"> *",this.control.highlightMode==="None"&&this.control.legendSettings.enableHighlight&&!o.isRectSeries&&(e.innerText+="."+this.styleId+"_series_"+o.index+"> * { stroke-width:"+(parseFloat(o.width?o.width.toString():"0")+1)+";} "),t=t.indexOf("None")>-1?"{}":t,e.innerText+=o.selectionStyle?"":"."+s+t}var m=this.control.highlightColor!=="transparent"?this.control.getModuleName()==="circularchart3d"?.2:.3:a;C(this.control.selectionModule)&&this.control.selectionMode==="None"&&this.control.highlightColor!==""&&(m=1),e.innerText+="."+this.unselected+" { opacity:"+m+";} ",document.body.appendChild(e)}},d.prototype.pattern=function(s,e,t,i,a){var l="#ffffff",n=s.svgObject,r=[],h={id:s.element.id+"_"+i+"_Selection_"+t,patternUnits:"userSpaceOnUse"},o="height",c="width",u=10,g=12,m=6,p=17,b=1,x=21,M=9,A=18,R=1,T=20;switch(i){case"Dots":h[o]=h[c]=m,h[c]=m,r[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:l,opacity:a,name:"rect"},r[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:e,name:"circle"};break;case"Pacman":h[o]="18.384",h[c]="17.917",r[0]={name:"rect",x:0,y:0,width:17.917,height:18.384,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"path",d:"M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z","stroke-width":1,stroke:e,fill:e};break;case"Chessboard":h[o]=h[c]=u,r[0]={x:0,y:0,width:u,height:u,fill:l,opacity:a,name:"rect"},r[1]={x:0,y:0,width:5,height:5,fill:e,opacity:a,name:"rect"},r[2]={x:5,y:5,width:5,height:5,fill:e,opacity:a,name:"rect"};break;case"Crosshatch":h[o]=h[c]="8",r[0]={x:0,y:0,width:8,height:8,transform:"translate(0,0)",fill:l,opacity:a,name:"rect"},r[1]={d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":1,stroke:e,name:"path"};break;case"DiagonalForward":h[o]=h[c]=m,r[0]={x:0,y:0,width:m,height:m,transform:"translate(0,0)",fill:l,opacity:a,name:"rect"},r[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:e,name:"path"};break;case"DiagonalBackward":h[o]=h[c]=m,r[0]={x:0,y:0,width:m,height:m,transform:"translate(0,0)",fill:l,opacity:a,name:"rect"},r[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:e,name:"path"};break;case"Grid":h[o]=h[c]=m,r[0]={name:"rect",x:0,y:0,width:m,height:m,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"path",d:"M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z","stroke-width":1,stroke:e};break;case"Turquoise":h[o]=h[c]=p,r[0]={name:"rect",x:0,y:0,width:p,height:p,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"path",d:"M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":b,"stroke-miterlimit":u,stroke:e,fill:e},r[2]={name:"path",d:"M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":b,"stroke-miterlimit":u,stroke:e,fill:e},r[3]={name:"path",d:"M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":b,"stroke-miterlimit":u,stroke:e,fill:e},r[4]={name:"path",d:"M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":b,"stroke-miterlimit":u,stroke:e,fill:e},r[5]={name:"path",d:"M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":b,"stroke-miterlimit":u,stroke:e,fill:e},r[6]={name:"path",d:"M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":b,"stroke-miterlimit":u,stroke:e,fill:e},r[7]={name:"path",d:"M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":b,"stroke-miterlimit":u,stroke:e,fill:e};break;case"Star":h[o]=h[c]=x,r[0]={name:"rect",x:0,y:0,width:x,height:x,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"path",d:"M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z","stroke-width":1,stroke:e,fill:e};break;case"Triangle":h[o]=h[c]=u,r[0]={name:"rect",x:0,y:0,width:u,height:u,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"path",d:"M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z","stroke-width":1,stroke:e,fill:e};break;case"Circle":h[o]=h[c]=M,r[0]={name:"rect",x:0,y:0,width:M,height:M,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:e};break;case"Tile":h[o]=h[c]=A,r[0]={name:"rect",x:0,y:0,width:A,height:A,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"path",d:"M0,9L0 0 9 0 z","stroke-width":R,stroke:e,fill:e},r[2]={name:"path",d:"M9,9L9 0 18 0 z","stroke-width":R,stroke:e,fill:e},r[3]={name:"path",d:"M0,18L0 9 9 9 z","stroke-width":R,stroke:e,fill:e},r[4]={name:"path",d:"M9,18L9 9 18 9 z","stroke-width":R,stroke:e,fill:e};break;case"HorizontalDash":h[o]=h[c]=g,r[0]={name:"rect",x:0,y:0,width:g,height:g,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"path",d:"M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z","stroke-width":1,stroke:e,fill:e};break;case"VerticalDash":h[o]=h[c]=g,r[0]={name:"rect",x:0,y:0,width:g,height:g,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"path",d:"M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z","stroke-width":1,stroke:e,fill:e};break;case"Rectangle":h[o]=h[c]=g,r[0]={name:"rect",width:g,height:g,fill:l,opacity:a},r[1]={name:"rect",x:1,y:2,width:4,height:9,fill:e,opacity:a},r[2]={name:"rect",x:7,y:2,width:4,height:9,fill:e,opacity:a};break;case"Box":h[o]=h[c]=u,r[0]={name:"rect",width:13,height:13,fill:l,opacity:a},r[1]={name:"rect",x:1.5,y:1.5,width:u,height:9,fill:e,opacity:a};break;case"HorizontalStripe":h[o]=g,h[c]=u,r[0]={name:"rect",x:0,y:0,width:u,height:g,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"path",d:"M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z","stroke-width":1,stroke:e,fill:e};break;case"VerticalStripe":h[o]=u,h[c]=g,r[0]={name:"rect",x:0,y:0,width:g,height:u,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"path",d:"M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z","stroke-width":1,stroke:e,fill:e};break;case"Bubble":h[o]=h[c]=T,r[0]={name:"rect",x:0,y:0,width:T,height:T,transform:"translate(0,0)",fill:l,opacity:a},r[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},r[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:e},r[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"};break}var B=s.svgRenderer||s.renderer,_=B.createPattern(h,"pattern");return this.loadPattern(s,r,_,B),n.appendChild(_),"url(#"+s.element.id+"_"+i+"_Selection_"+t+")"},d.prototype.loadPattern=function(s,e,t,i){var a;for(a=0;a<e.length;a++){var l=i.createPattern(e[a],e[a].name);t.appendChild(l)}},d.prototype.concatIndexes=function(s,e){return s.concat(e)},d.prototype.checkVisibility=function(s,e){if(e===void 0&&(e=null),!s)return!1;for(var t=!1,i=[],a=0,l=s;a<l.length;a++){var n=l[a];i.indexOf(n.series)===-1&&i.push(n.series)}for(var r=0,h=i;r<h.length;r++){var n=h[r];if(e!=null&&e.rangeColorSettings&&e.rangeColorSettings.length>0&&e.rangeColorSettings[0].colors.length>0){if(this.control.series[0].visible){t=!0;break}}else if(this.control.visibleSeries[n].visible){t=!0;break}}return t},d.prototype.addSvgClass=function(s,e){var t=s.getAttribute("class")||"";t+=t!==""?" ":"",t.indexOf(e)===-1&&s.setAttribute("class",t+e)},d.prototype.removeSvgClass=function(s,e){var t=s.getAttribute("class")||"";t.indexOf(e)>-1&&s.setAttribute("class",t.replace(e,""))},d.prototype.getChildren=function(s){for(var e=[],t=0;t<s.childNodes.length;t++)s.childNodes[t].tagName!=="defs"&&e.push(s.childNodes[t]);return e},d}(),xe=globalThis&&globalThis.__extends||function(){var d=function(s,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},d(s,e)};return function(s,e){d(s,e);function t(){this.constructor=s}s.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),y=globalThis&&globalThis.__decorate||function(d,s,e,t){var i=arguments.length,a=i<3?s:t===null?t=Object.getOwnPropertyDescriptor(s,e):t,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(d,s,e,t);else for(var n=d.length-1;n>=0;n--)(l=d[n])&&(a=(i<3?l(a):i>3?l(s,e,a):l(s,e))||a);return i>3&&a&&Object.defineProperty(s,e,a),a},Pi=function(d){xe(s,d);function s(){return d!==null&&d.apply(this,arguments)||this}return y([v(null)],s.prototype,"content",void 0),y([v("0")],s.prototype,"x",void 0),y([v("0")],s.prototype,"y",void 0),y([v("Pixel")],s.prototype,"coordinateUnits",void 0),y([v("Chart")],s.prototype,"region",void 0),y([v("Middle")],s.prototype,"verticalAlignment",void 0),y([v("Center")],s.prototype,"horizontalAlignment",void 0),y([v(null)],s.prototype,"description",void 0),s}(ye),Li=function(d){xe(s,d);function s(){return d!==null&&d.apply(this,arguments)||this}return y([v(!1)],s.prototype,"visible",void 0),y([v(!0)],s.prototype,"showZero",void 0),y([v(null)],s.prototype,"name",void 0),y([v("transparent")],s.prototype,"fill",void 0),y([v("Inside")],s.prototype,"position",void 0),y([v(5)],s.prototype,"rx",void 0),y([v(5)],s.prototype,"ry",void 0),y([v(0)],s.prototype,"angle",void 0),y([v(!1)],s.prototype,"enableRotation",void 0),y([z({width:null,color:null},ke)],s.prototype,"border",void 0),y([z({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Re)],s.prototype,"font",void 0),y([z({},Ot)],s.prototype,"connectorStyle",void 0),y([v(null)],s.prototype,"template",void 0),y([v("")],s.prototype,"format",void 0),y([v(null)],s.prototype,"maxWidth",void 0),y([v("Ellipsis")],s.prototype,"textOverflow",void 0),y([v("Normal")],s.prototype,"textWrap",void 0),s}(ye),Ti=function(d){xe(s,d);function s(){return d!==null&&d.apply(this,arguments)||this}return y([v("50%")],s.prototype,"x",void 0),y([v("50%")],s.prototype,"y",void 0),s}(ye),$e=function(){function d(){this.visible=!0,this.symbolLocation=null,this.region=null,this.labelRegion=null,this.labelVisible=!0,this.regions=null,this.isExplode=!1,this.isClubbed=!1,this.isSliced=!1,this.argsData=null,this.isLabelUpdated=null,this.initialLabelRegion=null}return d}(),Oi=function(d){xe(s,d);function s(){var e=d!==null&&d.apply(this,arguments)||this;return e.points=[],e.clubbedPoints=[],e.sumOfPoints=0,e.isRectSeries=!0,e.clipRect=new k(0,0,0,0),e.category="Series",e.rightSidePoints=[],e.leftSidePoints=[],e}return s.prototype.refreshDataManager=function(e,t){var i=this;this.accumulation=e,this.radius=this.radius?this.radius:O.isDevice&&this.dataLabel.position==="Outside"?"40%":"80%";var a=this.dataSource||e.dataSource;if(!(a instanceof Tt)&&C(this.query)){this.dataManagerSuccess({result:a,count:a.length},e,t);return}var l=this.dataModule.getData(this.dataModule.generateQuery().requiresCount());l.then(function(n){return i.dataManagerSuccess(n,e)})},s.prototype.dataManagerSuccess=function(e,t,i){i===void 0&&(i=!0);var a={name:je,series:this,data:e.result};t.allowServerDataBinding=!1,t.trigger(je,a),this.resultData=e.result!==""?e.result:[],!t.isBlazor&&!i&&this.getPoints(this.resultData,t),(++t.seriesCounts===t.visibleSeries.length&&i||window.Blazor&&!i&&t.seriesCounts===1)&&(this.getPoints(this.resultData,t),t.refreshChart())},s.prototype.getPoints=function(e,t){var i=Object.keys(e).length;if(this.sumOfPoints=0,i===0)return this.points=[],null;this.findSumOfPoints(e),this.points=[],this.clubbedPoints=[],this.sumOfClub=0;for(var a,l=this.palettes.length?this.palettes:Ne(t.theme),n=P(this.groupTo,this.sumOfPoints),r=0;r<i;r++)a=this.setPoints(e,r,l,t),this.isClub(a,n,r)?(a.index=this.clubbedPoints.length,a.isExplode=!0,this.clubbedPoints.push(a),a.isSliced=!0):(C(a.y)&&(a.visible=!1),this.pushPoints(a,l));if(this.lastGroupTo=this.groupTo,this.sumOfClub>0){var h=this.generateClubPoint();this.pushPoints(h,l);var o=this.points.length-1;this.clubbedPoints.map(function(c){c.index+=o,c.color=h.color})}this.clubbedPoints.length&&this.explode&&this.type==="Pie"&&(this.explodeAll||this.points[this.points.length-1].index===this.explodeIndex)&&(this.points.splice(this.points.length-1,1),this.points=this.points.concat(this.clubbedPoints))},s.prototype.generateClubPoint=function(){var e=new $e;return e.isClubbed=!0,e.x="Others",e.y=this.sumOfClub,e.text=e.originalText=e.x+": "+this.sumOfClub,e.sliceRadius="80%",e},s.prototype.pushPoints=function(e,t){e.index=this.points.length,e.isExplode=this.explodeAll||e.index===this.explodeIndex,e.color=e.color||t[e.index%t.length],this.points.push(e)},s.prototype.isClub=function(e,t,i){if(!C(t)){if(this.groupMode==="Value"&&Math.abs(e.y)<=t)return this.sumOfClub+=Math.abs(e.y),!0;if(this.groupMode==="Point"&&i>=t)return this.sumOfClub+=Math.abs(e.y),!0}return!1},s.prototype.findSumOfPoints=function(e){for(var t=Object.keys(e).length,i=0;i<t;i++)!C(e[i])&&!C(e[i][this.yName])&&!isNaN(e[i][this.yName])&&(this.sumOfPoints+=Math.abs(e[i][this.yName]))},s.prototype.setPoints=function(e,t,i,a){var l=new $e;return l.x=K(this.xName,e[t]),l.y=K(this.yName,e[t]),l.legendImageUrl=K(this.legendImageUrl,e[t]),l.color=K(this.pointColorMapping,e[t]),l.text=l.originalText=K(this.dataLabel.name||"",e[t]),l.tooltip=K(this.tooltipMappingName||"",e[t]),l.sliceRadius=K(this.radius,e[t]),l.sliceRadius=C(l.sliceRadius)?"80%":l.sliceRadius,l.separatorY=a.intl.formatNumber(l.y,{useGrouping:a.useGroupingSeparator}),this.setAccEmptyPoint(l,t,e),l},s.prototype.renderSeries=function(e,t){var i=t?w(e.element.id+"_Series_"+this.index):e.renderer.createGroup({id:e.element.id+"_Series_"+this.index});this.renderPoints(e,i,t);var a;e.accumulationDataLabelModule&&this.dataLabel.visible&&(a=e.renderer.createGroup({id:e.element.id+"_datalabel_Series_"+this.index}),a.style.visibility=(this.animation.enable&&U!=="Disable"||U==="Enable")&&e.animateSeries&&this.type==="Pie"?"hidden":"visible",this.renderDataLabel(e,a,t)),this.type==="Pie"&&(e.redraw||this.findMaxBounds(this.labelBound,this.accumulationBound),e.pieSeriesModule.animateSeries(e,this.animation,this,i,this.borderRadius,this.points)),!e.redraw&&e.accumulationLegendModule&&(this.labelBound.x-=e.explodeDistance,this.labelBound.y-=e.explodeDistance,this.labelBound.height+=e.explodeDistance-this.labelBound.y,this.labelBound.width+=e.explodeDistance-this.labelBound.x)},s.prototype.renderPoints=function(e,t,i,a,l,n){for(var r=e.element.id+"_Series_"+this.index+"_Point_",h,o,c=["Chessboard","Dots","DiagonalForward","Crosshatch","Pacman","DiagonalBackward","Grid","Turquoise","Star","Triangle","Circle","Tile","HorizontalDash","VerticalDash","Rectangle","Box","VerticalStripe","HorizontalStripe","Bubble"],u=0,g=this.points;u<g.length;u++){var m=g[u];m.percentage=+(m.y/this.sumOfPoints*100).toFixed(2);var p={cancel:!1,name:ze,series:this,point:m,fill:m.color,border:this.isEmpty(m)?{width:this.emptyPointSettings.border.width,color:this.emptyPointSettings.border.color}:{width:this.border.width,color:this.border.color},pattern:this.applyPattern?c[m.index%c.length]:"None"};if(e.trigger(ze,p),m.color=p.fill,o=m.color,this.applyPattern){var b=new _i(e);o=b.pattern(e,m.color,m.index,p.pattern,this.opacity)}h=new pe(r+m.index,o,p.border.width||1,p.border.color||m.color,this.opacity,p.series.dashArray,""),e[Z(this.type)+"SeriesModule"].renderPoint(m,this,e,h,t,i,a,l,n)}Y(!1,e.getSeriesElement(),t,i)},s.prototype.renderDataLabel=function(e,t,i){e.accumulationDataLabelModule.findAreaRect();var a=be("div",{id:e.element.id+"_Series_0_DataLabelCollections"});this.leftSidePoints=[],this.rightSidePoints=[];for(var l=[],n=[],r=0,h=this.points;r<h.length;r++){var o=h[r];o.visible&&(this.dataLabel.showZero||!this.dataLabel.showZero&&(o.y!==0||o.y===0&&this.emptyPointSettings.mode==="Zero"))&&e.accumulationDataLabelModule.renderDataLabel(o,this.dataLabel,t,this.points,this.index,a,i),o.midAngle>=90&&o.midAngle<=270?this.leftSidePoints.push(o):o.midAngle>=0&&o.midAngle<=90?n.push(o):l.push(o)}if(l.sort(function(u,g){return u.midAngle-g.midAngle}),n.sort(function(u,g){return u.midAngle-g.midAngle}),this.leftSidePoints.sort(function(u,g){return u.midAngle-g.midAngle}),this.rightSidePoints=l.concat(n),e.accumulationDataLabelModule.drawDataLabels(this,this.dataLabel,t,a,i),this.dataLabel.template!==null&&a.childElementCount){var c=e.accumulationDataLabelModule.drawDataLabels.bind(e.accumulationDataLabelModule,this,this.dataLabel,t,a,i);e.isReact&&e.renderReactTemplates(c),Y(!1,w(e.element.id+"_Secondary_Element"),a,i)}Y(!1,e.getSeriesElement(),t,i)},s.prototype.findMaxBounds=function(e,t){e.x=t.x<e.x?t.x:e.x,e.y=t.y<e.y?t.y:e.y,e.height=t.y+t.height>e.height?t.y+t.height:e.height,e.width=t.x+t.width>e.width?t.x+t.width:e.width},s.prototype.findMaxLabelWidth=function(){for(var e,t=0;t<this.points.length;t++)e=this.points[0].textSize.width,e<this.points[t].textSize.width&&(e=this.points[t].textSize.width);return e},s.prototype.setAccEmptyPoint=function(e,t,i){if(!(C(e.y)||isNaN(e.y)))return null;switch(e.color=this.emptyPointSettings.fill||e.color,this.emptyPointSettings.mode){case"Zero":e.y=0,e.visible=!0;break;case"Average":{var a=i[t-1]&&i[t-1][this.yName]||0,l=i[t+1]&&i[t+1][this.yName]||0;e.y=(Math.abs(a)+Math.abs(l))/2,this.sumOfPoints+=e.y,e.visible=!0;break}default:e.visible=!1;break}},s.prototype.setData=function(e,t){if(!e)return null;var i=!1;if(this.dataSource.length===e.length){i=!0;for(var a=0;a<e.length;a++)if(this.dataSource[a][this.xName]===e[a][this.xName]){var l=this.points[a],n=this.dataSource[a];n[this.yName]!==e[a][this.yName]&&(l.y=e[a][this.yName],this.dataSource[a]=e[a])}else{i=!1;break}}if(!i)this.dataSource=e;else{this.sumOfPoints=0,this.findSumOfPoints(this.dataSource),this.accumulation.redraw=this.borderRadius?!1:this.accumulation.enableAnimation,this.accumulation.animateSeries=!1;var r=this.accumulation.duration;this.accumulation.duration=C(t)?500:t,this.accumulation[Z(this.type)+"SeriesModule"].initProperties(this.accumulation,this),this.renderPoints(this.accumulation,w(this.accumulation.element.id+"_Series_"+this.index),this.accumulation.redraw),this.accumulation.centerLabel.text&&this.accumulation.renderCenterLabel(!0,!0),this.accumulation.annotationModule&&this.accumulation.annotationModule.renderAnnotations(w(this.accumulation.element.id+"_Secondary_Element")),this.accumulation.accumulationDataLabelModule&&this.dataLabel.visible&&this.renderDataLabel(this.accumulation,w(this.accumulation.element.id+"_datalabel_Series_"+this.index),this.accumulation.redraw),this.accumulation.redraw=!1,this.accumulation.duration=r}},s.prototype.addPoint=function(e,t){var i;this.accumulation.series[0].dataLabel.visible&&(i=this.findMaxLabelWidth()),this.dataSource.push(e),this.resultData=this.dataSource,this.sumOfPoints=0;for(var a=[],l=0;l<this.resultData.length;l++)this.points[l]&&this.points[l].visible?a.push(this.resultData[l]):l===this.resultData.length-1&&a.push(this.resultData[l]);this.findSumOfPoints(a);var n=this.points.length===0?0:this.points[this.points.length-1].index+1,r=this.palettes.length?this.palettes:Ne(this.accumulation.theme),h=this.setPoints(this.dataSource,n,r,this.accumulation);this.pushPoints(h,r),this.accumulation.redraw=this.borderRadius?!1:this.accumulation.enableAnimation;var o=this.accumulation.duration;this.accumulation.duration=C(t)?500:t,this.updateSeries(w(this.accumulation.element.id+"_Series_"+this.index),i,"addPoint"),this.accumulation.redraw=!1,this.accumulation.duration=o},s.prototype.removePoint=function(e,t){var i=se([],this.dataSource,null,!0),a=this.accumulation.duration;if(i.length>0&&e>=0&&e<i.length){this.sumOfPoints=0;for(var l=[],n=0;n<this.dataSource.length;n++)n!==e&&this.points[n]&&this.points[n].visible&&l.push(this.dataSource[n]);i.splice(e,1),this.dataSource.splice(e,1),this.findSumOfPoints(l),this.accumulation.redraw=this.borderRadius?!1:this.accumulation.enableAnimation,this.accumulation.duration=C(t)?500:t,this.points.splice(e,1);for(var n=e;n<this.points.length;n++){var r=this.points[n];r.index=n,r.y=this.points[n].y}var h=w(this.accumulation.element.id+"_Series_0_Point_"+this.points.length);h&&h.parentNode.removeChild(h),this.updateSeries(w(this.accumulation.element.id+"_Series_"+this.index),void 0,"removePoint",e),this.accumulation.redraw=!1,this.accumulation.duration=a}},s.prototype.updateSeries=function(e,t,i,a){var l=this.accumulation[Z(this.type)+"SeriesModule"].radius,n=this.accumulation[Z(this.type)+"SeriesModule"].center,r;if(this.accumulation.legendSettings.visible){if(i==="addPoint")this.accumulation.accumulationLegendModule.legendCollections.push(new Ze(this.points[this.points.length-1].x.toString(),this.points[this.points.length-1].color,this.legendShape,this.points[this.points.length-1].visible,this.type,this.points[this.points.length-1].legendImageUrl,null,null,this.points[this.points.length-1].index,this.index));else{this.accumulation.accumulationLegendModule.legendCollections.splice(a,1);for(var h=a;h<this.accumulation.accumulationLegendModule.legendCollections.length;h++)this.accumulation.accumulationLegendModule.legendCollections[h].pointIndex=h}if(this.accumulation.accumulationLegendModule.legendCollections.length>=1&&(r=this.accumulation.accumulationLegendModule.legendBounds,this.accumulation.accumulationLegendModule.calculateLegendBounds(this.accumulation.initialClipRect,this.accumulation.availableSize,null,r,!0),this.dataLabel&&this.dataLabel.position==="Outside"&&(this.accumulation.legendSettings.position==="Bottom"||this.accumulation.legendSettings.position==="Top")?r.height!==this.accumulation.accumulationLegendModule.legendBounds.height:r.width!==this.accumulation.accumulationLegendModule.legendBounds.width)){var o=this.accumulation.title?F(this.accumulation.title,this.accumulation.titleStyle,this.accumulation.themeStyle.chartTitleFont).height*this.accumulation.titleCollection.length:0,c=this.accumulation.subTitle?F(this.accumulation.subTitle,this.accumulation.subTitleStyle,this.accumulation.themeStyle.chartSubTitleFont).height*this.accumulation.subTitleCollection.length:0;this.accumulation.initialClipRect=new k(this.accumulation.margin.left,this.accumulation.margin.top,this.accumulation.availableSize.width,this.accumulation.availableSize.height),Je(this.accumulation.initialClipRect,new k(0,c+o,this.accumulation.margin.right+this.accumulation.margin.left,this.accumulation.margin.bottom+this.accumulation.margin.top)),this.accumulation.accumulationLegendModule.calculateLegendBounds(this.accumulation.initialClipRect,this.accumulation.availableSize,null)}}if(this.accumulation[Z(this.type)+"SeriesModule"].initProperties(this.accumulation,this),this.renderPoints(this.accumulation,e,this.accumulation.redraw,l,n,!0),r&&(this.accumulation.legendSettings.position==="Bottom"||this.accumulation.legendSettings.position==="Top"?r.height!==this.accumulation.accumulationLegendModule.legendBounds.height:r.width!==this.accumulation.accumulationLegendModule.legendBounds.width)&&this.accumulation.centerLabel.text&&this.accumulation.renderCenterLabel(!0,!0),this.accumulation.annotationModule&&this.accumulation.annotationModule.renderAnnotations(w(this.accumulation.element.id+"_Secondary_Element")),this.accumulation.accumulationDataLabelModule&&this.dataLabel.visible){var u=this.accumulation.renderer.createGroup({id:this.accumulation.element.id+"_datalabel_Series_"+this.index});this.renderDataLabel(this.accumulation,u,this.accumulation.redraw)}this.accumulation.legendSettings.visible&&(this.type==="Pie"&&(this.dataLabel.visible&&this.points[this.points.length-1]&&this.points[this.points.length-1].textSize.width>t&&this.accumulation.legendSettings.position!=="Top"&&this.accumulation.legendSettings.position!=="Bottom"&&(this.accumulation.visibleSeries[0].findMaxBounds(this.accumulation.visibleSeries[0].labelBound,this.points[this.points.length-1].labelRegion),this.findMaxBounds(this.labelBound,this.accumulationBound),this.labelBound.x-=this.accumulation.explodeDistance,this.labelBound.y-=this.accumulation.explodeDistance,this.labelBound.height+=this.accumulation.explodeDistance-this.labelBound.y,this.labelBound.width+=this.accumulation.explodeDistance-this.labelBound.x),this.accumulation.accumulationLegendModule.getSmartLegendLocation(this.accumulation.visibleSeries[0].labelBound,this.accumulation.accumulationLegendModule.legendBounds,this.accumulation.margin)),this.accumulation.accumulationLegendModule.renderLegend(this.accumulation,this.accumulation.legendSettings,this.accumulation.accumulationLegendModule.legendBounds,this.accumulation.redraw,!0))},s.prototype.isEmpty=function(e){return e.color===this.emptyPointSettings.fill},y([v("")],s.prototype,"dataSource",void 0),y([v()],s.prototype,"query",void 0),y([v("")],s.prototype,"xName",void 0),y([v("")],s.prototype,"name",void 0),y([v("")],s.prototype,"tooltipMappingName",void 0),y([v("")],s.prototype,"yName",void 0),y([v(!0)],s.prototype,"visible",void 0),y([z({color:null,width:0},ke)],s.prototype,"border",void 0),y([z(null,kt)],s.prototype,"animation",void 0),y([v("SeriesType")],s.prototype,"legendShape",void 0),y([v("")],s.prototype,"legendImageUrl",void 0),y([v("")],s.prototype,"pointColorMapping",void 0),y([v(!1)],s.prototype,"applyPattern",void 0),y([v(null)],s.prototype,"selectionStyle",void 0),y([v(null)],s.prototype,"groupTo",void 0),y([v("Value")],s.prototype,"groupMode",void 0),y([z({},Li)],s.prototype,"dataLabel",void 0),y([v([])],s.prototype,"palettes",void 0),y([v(0)],s.prototype,"startAngle",void 0),y([v(null)],s.prototype,"endAngle",void 0),y([v(null)],s.prototype,"radius",void 0),y([v("0")],s.prototype,"innerRadius",void 0),y([v("Pie")],s.prototype,"type",void 0),y([v(!0)],s.prototype,"enableTooltip",void 0),y([v(!1)],s.prototype,"explode",void 0),y([v("30%")],s.prototype,"explodeOffset",void 0),y([v(!1)],s.prototype,"explodeAll",void 0),y([v(null)],s.prototype,"explodeIndex",void 0),y([z({mode:"Drop"},Et)],s.prototype,"emptyPointSettings",void 0),y([v(0)],s.prototype,"gapRatio",void 0),y([v("80%")],s.prototype,"width",void 0),y([v("80%")],s.prototype,"height",void 0),y([v("20%")],s.prototype,"neckWidth",void 0),y([v("20%")],s.prototype,"neckHeight",void 0),y([v("Linear")],s.prototype,"pyramidMode",void 0),y([v(1)],s.prototype,"opacity",void 0),y([v("0")],s.prototype,"dashArray",void 0),y([v(0)],s.prototype,"borderRadius",void 0),s}(ye);function ki(d,s){for(var e=0,t=s;e<t.length;e++){var i=t[e];if(d===i.index)return i}return s[0]}function at(d,s){for(var e=0,t=s;e<t.length;e++){var i=t[e];if(i.index===d)return i}return null}var Ee=function(){function d(s){this.accumulation=s}return Object.defineProperty(d.prototype,"center",{get:function(){return this.pieCenter||(this.accumulation.visibleSeries[0].type==="Pie"?this.accumulation.pieSeriesModule.pieBaseCenter:null)},set:function(s){this.pieCenter=s},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"radius",{get:function(){return this.pieRadius!==void 0?this.pieRadius:this.accumulation.pieSeriesModule.pieBaseRadius},set:function(s){this.pieRadius=s},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"labelRadius",{get:function(){return this.pieLabelRadius!==void 0?this.pieLabelRadius:this.accumulation.pieSeriesModule.pieBaseLabelRadius},set:function(s){this.pieLabelRadius=s},enumerable:!0,configurable:!0}),d.prototype.isCircular=function(){return this.accumulation.type==="Pie"},d.prototype.isVariousRadius=function(){return this.accumulation.pieSeriesModule.isRadiusMapped},d.prototype.processExplode=function(s){if(s.target.id.indexOf("_Series_")>-1||s.target.id.indexOf("_datalabel_")>-1){var e=le(s.target.id).point;if(isNaN(e)||s.target.id.indexOf("_datalabel_")>-1&&this.accumulation.visibleSeries[0].points[e].labelPosition==="Outside")return null;this.explodePoints(e,this.accumulation),this.deExplodeAll(e,this.accumulation.enableAnimation?300:0)}},d.prototype.invokeExplode=function(){for(var s=this.accumulation.visibleSeries[0],e=this.accumulation.enableAnimation?300:0,t=0,i=s.points;t<i.length;t++){var a=i[t];a.isExplode&&a.y!==0&&this.pointExplode(a.index,a,e)}if(this.accumulation.accumulationSelectionModule&&this.accumulation.selectionMode!=="None"&&this.accumulation.accumulationSelectionModule.selectedDataIndexes.length)for(var l=0,n=this.accumulation.accumulationSelectionModule.selectedDataIndexes;l<n.length;l++){var r=n[l];this.explodePoints(r.point,this.accumulation,!0),this.deExplodeAll(r.point,e)}},d.prototype.deExplodeAll=function(s,e){for(var t=this.accumulation.element.id+"_Series_0_Point_",i=this.accumulation.visibleSeries[0].points,a=0,l=i;a<l.length;a++){var n=l[a];(s!==n.index&&!n.isSliced||n.isClubbed)&&(n.isExplode=!1,this.deExplodeSlice(n.index,t,e))}},d.prototype.explodePoints=function(s,e,t,i){t===void 0&&(t=!1);var a=e.visibleSeries[0],l=a.points,n=at(s,l),r=!0,h=this.accumulation.enableAnimation?300:0;if(C(n))return null;var o=!t&&(n.isSliced||a.clubbedPoints.length&&l[l.length-1].index===a.clubbedPoints[a.clubbedPoints.length-1].index);a.type==="Pie"&&(o||n.isClubbed)&&(r=this.clubPointExplode(s,n,a,l,e,h,o)),r&&n.y!==0&&this.pointExplode(s,n,h,t,i)},d.prototype.getSum=function(s){var e=0;return s.map(function(t){e+=t.visible?t.y:0}),e},d.prototype.clubPointExplode=function(s,e,t,i,a,l,n){if(n===void 0&&(n=!1),e.isClubbed)return a.animateSeries=!1,i.splice(i.length-1,1),t.clubbedPoints.map(function(h){h.visible=!0,h.isExplode=!0}),a.visibleSeries[0].points=i.concat(t.clubbedPoints),this.deExplodeAll(s,l),t.sumOfPoints=this.getSum(a.visibleSeries[0].points),a.refreshChart(),!1;if(n||e.isSliced){a.animateSeries=!1,i.splice(i.length-t.clubbedPoints.length,t.clubbedPoints.length);var r=t.generateClubPoint();if(r.index=i.length,r.color=t.clubbedPoints[0].color,i.push(r),t.sumOfPoints=this.getSum(i),this.deExplodeAll(s,l),r.isExplode=!1,a.visibleSeries[0].points=i,a.refreshChart(),this.pointExplode(r.index,i[r.index],0,!0),r.isExplode=!1,this.deExplodeSlice(r.index,a.element.id+"_Series_0_Point_",l),e.isSliced)return!1}return!0},d.prototype.pointExplode=function(s,e,t,i,a){var l,n=this.accumulation.element.id+"_Series_0_Point_",r=this.accumulation;this.isCircular()?l=N(e.midAngle,r.explodeDistance,this.center):l={x:e.labelRegion&&e.labelRegion.x<e.region.x?-r.explodeDistance:r.explodeDistance,y:0},this.isExplode(n+s)||i?(e.isExplode=!0,this.explodeSlice(s,l,n,this.center||{x:0,y:0},t,a)):(e.isExplode=!1,this.deExplodeSlice(s,n,t))},d.prototype.isExplode=function(s){var e=w(s),t=e?e.getAttribute("transform"):null;return e&&(t==="translate(0, 0)"||t===null||t==="translate(0)")},d.prototype.deExplodeSlice=function(s,e,t){var i=w(e+s),a=i?i.getAttribute("transform"):null;if(this.accumulation.enableAnimation&&i&&a&&a!=="translate(0, 0)"&&a!=="translate(0)"){var l=a.split("(")[1].split(")")[0].split(",");this.performAnimation(s,e,0,0,+l[0],+l[1]||0,t,!0)}else this.performAnimation(s,e,0,0,0,0,t,!0)},d.prototype.setTranslate=function(s,e,t,i){this.setElementTransform(e+s,t),this.accumulation.visibleSeries[0].dataLabel.visible&&(e=this.accumulation.element.id+"_datalabel_Series_0_",this.setElementTransform(e+"shape_"+s,t),this.setElementTransform(e+"text_"+s,t+i),this.setElementTransform(e+"connector_"+s,t))},d.prototype.setElementTransform=function(s,e){var t=w(s);t&&t.setAttribute("transform",e)},d.prototype.explodeSlice=function(s,e,t,i,a,l){l&&w(this.accumulation.element.id+"_Series_0_Point_"+s).getAttribute("transform")?this.setElementTransform(t+s,"translate("+(e.x-i.x)+", "+(e.y-i.y)+")"):this.performAnimation(s,t,0,0,e.x-i.x,e.y-i.y,a)},d.prototype.performAnimation=function(s,e,t,i,a,l,n,r){var h=this,o=this.accumulation,c=e.split("_"),u=parseInt(e.split("_")[c.length-3],10),g=o.visibleSeries[u].points[s];if(n<=0)return this.setTranslate(s,e,"translate("+a+", "+l+")",g.transform),null;var m,p;new te({}).animate(be("div"),{duration:n,progress:function(b){m=J(b.timeStamp,t,a,b.duration),p=J(b.timeStamp,i,l,b.duration),h.setTranslate(s,e,"translate("+(r?a-m:m)+", "+(r?l-p:p)+")",g.transform)},end:function(){h.setTranslate(s,e,"translate("+(r?t:a)+", "+(r?t:l)+")",g.transform)}})},d}(),Ei=globalThis&&globalThis.__extends||function(){var d=function(s,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},d(s,e)};return function(s,e){d(s,e);function t(){this.constructor=s}s.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Di=function(d){Ei(s,d);function s(){return d!==null&&d.apply(this,arguments)||this}return s.prototype.initProperties=function(e,t){this.accumulation=e,this.size=Math.min(e.initialClipRect.width,e.initialClipRect.height),this.initAngles(t);var i=parseInt(t.radius,10);if((t.radius.indexOf("%")!==-1||typeof i=="number")&&!isNaN(i))this.isRadiusMapped=!1,this.pieBaseRadius=P(t.radius,this.size/2),this.innerRadius=P(t.innerRadius,this.pieBaseRadius),this.pieBaseLabelRadius=t.dataLabel.position==="Inside"?(this.pieBaseRadius-this.innerRadius)/2+this.innerRadius:this.pieBaseRadius+P(t.dataLabel.connectorStyle.length||"4%",this.size/2);else{var a=[];this.isRadiusMapped=!0;for(var l=0;l<Object.keys(t.points).length;l++)t.points[l].sliceRadius.indexOf("%")!==-1?a[l]=P(t.points[l].sliceRadius,this.size/2):a[l]=parseInt(t.points[l].sliceRadius,10);var n=Math.min.apply(null,a),r=Math.max.apply(null,a);this.pieBaseRadius=this.seriesRadius=r,this.innerRadius=P(t.innerRadius,this.seriesRadius),this.innerRadius=this.innerRadius>n?this.innerRadius/2:this.innerRadius}this.radius=this.pieBaseRadius,this.labelRadius=this.pieBaseLabelRadius,e.explodeDistance=t.explode?P(t.explodeOffset,this.pieBaseRadius):0,this.findCenter(e,t),this.center=this.pieBaseCenter,e.redraw||this.defaultLabelBound(t,t.dataLabel.visible,t.dataLabel.position),this.totalAngle-=.001},s.prototype.getLabelRadius=function(e,t){return e.dataLabel.position==="Inside"?(P(t.sliceRadius,this.pieBaseRadius)-this.innerRadius)/2+this.innerRadius:P(t.sliceRadius,this.size/2)+P(e.dataLabel.connectorStyle.length||"4%",this.size/2)},s.prototype.findCenter=function(e,t){this.accumulation=e,this.pieBaseCenter={x:P(e.center.x,e.initialClipRect.width)+e.initialClipRect.x,y:P(e.center.y,e.initialClipRect.height)+e.initialClipRect.y};var i=this.getSeriesBound(t),a=new j(i.x+i.width/2,i.y+i.height/2);this.pieBaseCenter.x+=this.pieBaseCenter.x-a.x,this.pieBaseCenter.y+=this.pieBaseCenter.y-a.y,this.accumulation.origin=this.pieBaseCenter},s.prototype.initAngles=function(e){var t=C(e.endAngle)?e.startAngle:e.endAngle;this.totalAngle=(t-e.startAngle)%360,this.startAngle=e.startAngle-90,this.totalAngle=this.totalAngle<=0?360+this.totalAngle:this.totalAngle,this.startAngle=(this.startAngle<0?this.startAngle+360:this.startAngle)%360},s.prototype.defaultLabelBound=function(e,t,i){var a=this.getSeriesBound(e);e.accumulationBound=a,e.labelBound=new k(a.x,a.y,a.width+a.x,a.height+a.y),t&&i==="Outside"&&(e.labelBound=new k(1/0,1/0,-1/0,-1/0))},s.prototype.getSeriesBound=function(e){var t=new k(1/0,1/0,-1/0,-1/0);this.initAngles(e);var i=this.startAngle,a=this.totalAngle,l=(this.startAngle+a)%360;l=l===0?360:l,e.findMaxBounds(t,this.getRectFromAngle(i)),e.findMaxBounds(t,this.getRectFromAngle(l)),e.findMaxBounds(t,new k(this.pieBaseCenter.x,this.pieBaseCenter.y,0,0));var n=(Math.floor(i/90)*90+90)%360,r=Math.floor(l/90)*90%360;r=r===0?360:r,(a>=90||r===n)&&(e.findMaxBounds(t,this.getRectFromAngle(n)),e.findMaxBounds(t,this.getRectFromAngle(r))),(i===0||i+a>=360)&&e.findMaxBounds(t,this.getRectFromAngle(0));for(var h=n===r?0:Math.floor(a/90),o=1;o<h;o++)n=n+90,(n<r||l<i||a===360)&&e.findMaxBounds(t,this.getRectFromAngle(n));return t.width-=t.x,t.height-=t.y,t},s.prototype.getRectFromAngle=function(e){var t=N(e,this.pieBaseRadius,this.pieBaseCenter);return new k(t.x,t.y,0,0)},s.prototype.getPathArc=function(e,t,i,a,l,n,r,h){var o=i-t;o=o<0?o+360:o;var c=o<180?0:1;return!l&&l===0?this.getPiePath(e,N(t,a,e),N(i,a,e),a,c,n,h):this.getDoughnutPath(e,N(t,a,e),N(i,a,e),a,N(t,l,e),N(i,l,e),l,c,n,r,h)},s.prototype.getPiePath=function(e,t,i,a,l,n,r){var h=this.sliceCheck(r);n=h===1?0:n;var o=Math.atan2(t.y-e.y,t.x-e.x),c=Math.atan2(i.y-e.y,i.x-e.x);n=this.adjustCornerRadius(o,c,a,n);var u=t.x-n*Math.cos(o),g=t.y-n*Math.sin(o),m=i.x-n*Math.cos(Math.PI/2+c),p=i.y-n*Math.sin(Math.PI/2+c),b=i.x-n*Math.cos(c),x=i.y-n*Math.sin(c),M=t.x+n*Math.cos(Math.PI/2+o),A=t.y+n*Math.sin(Math.PI/2+o);return"M "+e.x+" "+e.y+" L "+u+" "+g+" A "+n+" "+n+" 0 0 1 "+M+" "+A+" A "+a+" "+a+" 0 "+l+" 1 "+m+" "+p+" A "+n+" "+n+" 0 0 1 "+b+" "+x+" Z"},s.prototype.getDoughnutPath=function(e,t,i,a,l,n,r,h,o,c,u){var g=this.sliceCheck(u);o=g===1?0:o;var m=Math.atan2(t.y-l.y,t.x-l.x),p=Math.atan2(i.y-n.y,i.x-n.x);o=this.adjustCornerRadius(m,p,r,o),o=c&&this.innerRadius===0?o*-1:o;var b=t.x-o*Math.cos(m),x=t.y-o*Math.sin(m),M=i.x-o*Math.cos(Math.PI/2+p),A=i.y-o*Math.sin(Math.PI/2+p),R=n.x+o*Math.cos(p),T=n.y+o*Math.sin(p),B=l.x+o*Math.cos(Math.PI/2+m),_=l.y+o*Math.sin(Math.PI/2+m),H=t.x+o*Math.cos(Math.PI/2+m),$=t.y+o*Math.sin(Math.PI/2+m),G=i.x-o*Math.cos(p),ne=i.y-o*Math.sin(p),q=n.x-o*Math.cos(Math.PI/2+p),Q=n.y-o*Math.sin(Math.PI/2+p),Se=l.x+o*Math.cos(m),nt=l.y+o*Math.sin(m);return c?"M "+H+" "+$+" A "+a+" "+a+" 0 "+h+" 1 "+M+" "+A+" L "+q+" "+Q+" A "+r+" "+r+" 0 "+h+" 0 "+B+" "+_+" Z":"M "+b+" "+x+" A "+o+" "+o+" 0 0 1 "+H+" "+$+" A "+a+" "+a+" 0 "+h+" 1 "+M+" "+A+" A "+o+" "+o+" 0 0 1 "+G+" "+ne+" L "+R+" "+T+" A "+o+" "+o+" 0 0 1 "+q+" "+Q+" A "+r+" "+r+" 0 "+h+" 0 "+B+" "+_+" A "+o+" "+o+" 0 0 1 "+Se+" "+nt+" Z"},s.prototype.adjustCornerRadius=function(e,t,i,a){var l=Math.abs(t-e);l>Math.PI&&(l=2*Math.PI-l);var n=l/(2*Math.PI),r=i*n;return Math.min(a,r)},s.prototype.sliceCheck=function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.visible&&t++}return t},s.prototype.doAnimation=function(e,t,i,a,l){var n=this,r=t.startAngle-90,h=this.accumulation.duration?this.accumulation.duration:t.animation.duration,o;this.pieBaseCenter.x+=1;var c=Math.max(this.accumulation.availableSize.height,this.accumulation.availableSize.width)*.75;c+=c*.414;var u=Bt("Linear");new te({}).animate(e,{duration:h===0&&U==="Enable"?1e3:h,delay:t.animation.delay,progress:function(g){o=u(g.timeStamp,r,n.totalAngle,g.duration),e.setAttribute("d",n.getPathArc(n.pieBaseCenter,r,o,c,0,a,!1,l))},end:function(){n.pieBaseCenter.x-=1,e.setAttribute("d",n.getPathArc(n.pieBaseCenter,0,359.99999,c,0,a,!1,l)),n.accumulation.trigger(Dt,n.accumulation.isBlazor?{}:{series:t,accumulation:n.accumulation,chart:n.accumulation});var g=w(n.accumulation.element.id+"_datalabel_Series_"+t.index);g&&(g.style.visibility=n.accumulation.isDestroyed?"hidden":"visible"),i.style.cssText="";var m=w(n.accumulation.element.id+"_Annotation_Collections");m&&(m.style.visibility="visible")}})},s}(Ee),Bi=globalThis&&globalThis.__extends||function(){var d=function(s,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},d(s,e)};return function(s,e){d(s,e);function t(){this.constructor=s}s.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Oe=function(d){Bi(s,d);function s(){return d!==null&&d.apply(this,arguments)||this}return s.prototype.renderPoint=function(e,t,i,a,l,n,r,h,o){var c=t.sumOfPoints,u=this.accumulation.visibleSeries[0].points,g=t.borderRadius;e.startAngle=this.startAngle;var m=e.visible?e.y:0,p=c?Math.abs(m)/c*this.totalAngle:null,b=Math.PI/180*(90-(360-this.startAngle)-90);if(this.radius=this.isRadiusMapped?P(e.sliceRadius,this.seriesRadius):this.radius,a.d=this.getPathOption(e,p,this.startAngle%360,g,u),e.midAngle=(this.startAngle-p/2)%360,e.endAngle=this.startAngle%360,e.symbolLocation=N(e.midAngle,(this.radius+this.innerRadius)/2,this.center),n){var x=i.renderer.drawPath(a);!e.isExplode&&o&&x.setAttribute("transform","translate(0, 0)"),x.setAttribute("role","img"),x.setAttribute("tabindex",e.index===0?"0":"-1"),x.setAttribute("aria-label",e.x+": "+e.y+"%. "+t.name),e.degree===void 0&&(e.degree=p,e.start=b),l.appendChild(x),this.refresh(e,p,b,i,a,g,u,r,h,o)}else{var x=i.renderer.drawPath(a);x.setAttribute("role","img"),x.setAttribute("tabindex",e.index===0?"0":"-1"),x.setAttribute("aria-label",e.x+": "+e.y+"%. "+t.name),l.appendChild(x),e.degree=p,e.start=b}},s.prototype.findSeries=function(e,t){var i=3,a=2,l=this.innerRadius===0?this.radius+i:this.innerRadius-i,n=this.innerRadius===0?l+a:l-a;this.toggleInnerPoint(e,l,n,t)},s.prototype.toggleInnerPoint=function(e,t,i,a){var l=e.target,n=le(l.id,!0),r=e.target.id.substring(0,e.target.id.indexOf("Series")-1),h=document.getElementById(this.accumulation.element.id+"PointHover_Border"),o,c=this.accumulation.visibleSeries[0].points,u=n.series,g=n.point,m=w(r+"_Series_"+u+"_Point_"+g);if(!isNaN(n.series)&&m){if(!C(u)&&!isNaN(u)&&!C(g)&&!isNaN(g)){var p=this.accumulation.visibleSeries[0].points[g],b=m.getAttribute("class")===r+"_ej2_deselected"?this.accumulation.tooltip.enable?.5:.3:this.accumulation.tooltip.enable?.5:1,x=this.getPathArc(this.accumulation.pieSeriesModule.center,p.startAngle%360,(p.startAngle+p.degree)%360,t,i,a,!0,c);h&&r===this.accumulation.element.id&&(h.getAttribute("d")!==x||p.isExplode)&&(h.parentNode.removeChild(h),h=null);var M=w(r+"_Series_"+u);if(!h&&(!p.isExplode||p.isExplode&&e.type!=="click")){var A=new pe(r+"PointHover_Border",p.color,1,p.color,b,"",x);if(o=this.accumulation.renderer.drawPath(A),o.removeAttribute("transform"),this.accumulation.selectionMode!=="None"&&e.target.hasAttribute("class")&&this.accumulation.accumulationSelectionModule.addSvgClass(o,e.target.getAttribute("class")),M.appendChild(o),p.isExplode&&o){var R=m.getAttribute("transform");R&&o.setAttribute("transform",R)}}}}else h&&(this.removeBorder(h,1e3),h=null)},s.prototype.removeBorder=function(e,t){e&&setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},t)},s.prototype.refresh=function(e,t,i,a,l,n,r,h,o,c){var u=this,g=w(l.id),m=a.duration?a.duration:300;new te({}).animate(be("div"),{duration:m,delay:0,progress:function(p){var b=J(p.timeStamp,e.degree,t-e.degree,p.duration),x=J(p.timeStamp,e.start,i-e.start,p.duration);if(x=(x/(Math.PI/180)+360)%360,h&&o){var M=J(p.timeStamp,h,u.radius-h,p.duration),A=J(p.timeStamp,o.x,u.center.x-o.x,p.duration),R=J(p.timeStamp,o.y,u.center.y-o.y,p.duration);g.setAttribute("d",u.getPathOption(e,b,x,n,r,M,A,R))}else g.setAttribute("d",u.getPathOption(e,b,x,n,r));e.isExplode&&a.accBaseModule.explodePoints(e.index,a,!0,c),g.style.visibility="visible"},end:function(){g.style.visibility=e.visible?"visible":"hidden",g.setAttribute("d",l.d),e.degree=t,e.start=i}})},s.prototype.getPathOption=function(e,t,i,a,l,n,r,h){if(!t)return"";var o=this.getPathArc(r?{x:r,y:h}:this.center,i%360,(i+t)%360,this.isRadiusMapped?P(e.sliceRadius,this.size/2):n||this.radius,this.innerRadius,a,!1,l);return this.startAngle+=t,o},s.prototype.animateSeries=function(e,t,i,a,l,n){var r=e.element.id+"SeriesGroup"+i.index;if((i.animation.enable&&U!=="Disable"||U==="Enable")&&e.animateSeries){var h=e.renderer.createClipPath({id:r+"_clipPath"}),o=new pe(r+"_slice","transparent",1,"transparent",1,"",""),c=e.renderer.drawPath(o);h.appendChild(c),e.svgObject.appendChild(h),a.style.cssText="clip-path:url(#"+h.id+"); -webkit-clip-path:url(#"+h.id+");",this.doAnimation(c,i,a,l,n)}},s.prototype.getModuleName=function(){return"PieSeries"},s.prototype.destroy=function(){},s}(Di),Ii=globalThis&&globalThis.__extends||function(){var d=function(s,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},d(s,e)};return function(s,e){d(s,e);function t(){this.constructor=s}s.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),S=globalThis&&globalThis.__decorate||function(d,s,e,t){var i=arguments.length,a=i<3?s:t===null?t=Object.getOwnPropertyDescriptor(s,e):t,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(d,s,e,t);else for(var n=d.length-1;n>=0;n--)(l=d[n])&&(a=(i<3?l(a):i>3?l(s,e,a):l(s,e))||a);return i>3&&a&&Object.defineProperty(s,e,a),a},ji=function(d){Ii(s,d);function s(e,t){var i=d.call(this,e,t)||this;return i.animateselected=!1,i.explodeDistance=0,i.currentLegendIndex=0,i.currentPointIndex=0,i.previousTargetId="",i.isLegendClicked=!1,i.chartid=57724,i}return s.prototype.animate=function(e){this.duration=e===0&&U==="Enable"?700:e,this.animateselected=!0,this.animateSeries=!1;var t=0,i=[],a=[],l=[],n=this.visibleSeries[0],r=[];if(r=n.dataSource,n.sumOfPoints=0,n.points.length<Object.keys(n.dataSource).length)this.refresh();else if(n.points.length>Object.keys(n.dataSource).length){var h=this.visibleSeries[0];h.points=h.points.filter(function(g){return g.visible=!1,a.push(g.index),i.push(g.color),r.some(function(m){var p=m;return g.x===p.x&&(g.visible=!0,l.push(g.index),g.index=t,t++),g.x===p.x})});for(var o=a.filter(function(g){return l.indexOf(g)<0}),c=a.length-o.length,u=a.length-1;u>=c;u--)V("container_Series_0_Point_"+a[u]);for(var u=0;u<h.points.length;u++)h.points[u].y=h.dataSource[u].y,h.points[u].color=i[u],h.sumOfPoints+=h.dataSource[u].y;this.redraw=this.enableAnimation,this.animateSeries=!1,this.calculateBounds(),this.renderElements()}else{for(var u=0;u<n.points.length;u++)n.points[u].y=n.dataSource[u][n.yName],n.points[u].color=n.dataSource[u][n.pointColorMapping]!=null?n.dataSource[u][n.pointColorMapping]:n.points[u].color,n.sumOfPoints+=n.dataSource[u][n.yName];this.redraw=this.enableAnimation,this.animateSeries=!1,this.removeSvg(),this.refreshPoints(n.points),this.renderElements()}},Object.defineProperty(s.prototype,"type",{get:function(){return this.series&&this.series.length?this.series[0].type:"Pie"},enumerable:!0,configurable:!0}),s.prototype.preRender=function(){var e="Blazor";if(this.isBlazor=window[e],this.allowServerDataBinding=!1,this.unWireEvents(),this.setCulture(),this.animateSeries=!0,this.element.id===""){var t=document.getElementsByClassName("e-accumulationchart").length;this.element.id="acc_chart_"+this.chartid+"_"+t}this.wireEvents(),this.element.setAttribute("dir",this.enableRtl?"rtl":"ltr")},s.prototype.setTheme=function(){this.themeStyle=It(this.theme,!1,this)},s.prototype.render=function(){var e=this;this.element.className.indexOf("e-accumulationchart")===-1&&this.element.classList.add("e-accumulationchart"),this.element.setAttribute("role","region"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-label",this.title+". Syncfusion interactive chart."),this.element.setAttribute("class",this.element.getAttribute("class")+" e-accumulationchart-focused");var t={chart:this.isBlazor?{}:this,accumulation:this.isBlazor?{}:this,theme:this.theme,name:Fe,cancel:!1};this.trigger(Fe,t,function(){e.theme=e.isBlazor?t.theme:e.theme,e.setTheme(),e.accBaseModule=new Ee(e),e.pieSeriesModule=new Oe(e),e.calculateVisibleSeries(),e.processData(),e.renderComplete(),e.allowServerDataBinding=!0})},s.prototype.unWireEvents=function(){var e=O.isPointer,t=O.touchStartEvent,i=O.touchMoveEvent,a=O.touchEndEvent,l=e?"pointerleave":"mouseleave";E.remove(this.element,i,this.accumulationMouseMove),E.remove(this.element,a,this.accumulationMouseEnd),E.remove(this.element,t,this.accumulationMouseStart),E.remove(this.element,"click",this.accumulationOnMouseClick),E.remove(this.element,"dblclick",this.accumulationOnDoubleClick),E.remove(this.element,"contextmenu",this.accumulationRightClick),E.remove(this.element,l,this.accumulationMouseLeave),E.remove(this.element,"keydown",this.accumulationChartKeyDown),E.remove(document.body,"keydown",this.documentKeyHandler),E.remove(this.element,"keyup",this.accumulationChartKeyUp),window.removeEventListener(O.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResizeBound)},s.prototype.wireEvents=function(){if(this.element){var e=O.isPointer,t=O.touchStartEvent,i=O.touchEndEvent,a=O.touchMoveEvent,l=e?"pointerleave":"mouseleave";E.add(this.element,a,this.accumulationMouseMove,this),E.add(this.element,i,this.accumulationMouseEnd,this),E.add(this.element,t,this.accumulationMouseStart,this),E.add(this.element,"click",this.accumulationOnMouseClick,this),E.add(this.element,"dblclick",this.accumulationOnDoubleClick,this),E.add(this.element,"contextmenu",this.accumulationRightClick,this),E.add(this.element,l,this.accumulationMouseLeave,this),E.add(this.element,"keydown",this.accumulationChartKeyDown,this),E.add(document.body,"keydown",this.documentKeyHandler,this),E.add(this.element,"keyup",this.accumulationChartKeyUp,this),this.accumulationResizeBound=this.accumulationResize.bind(this),window.addEventListener(O.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResizeBound),new ut(this.element),this.setStyle(this.element)}},s.prototype.setMouseXY=function(e){var t,i,a=w(this.element.id+"_svg");if(a&&this.element){var l=a.getBoundingClientRect(),n=this.element.getBoundingClientRect();if(e.type.indexOf("touch")>-1){this.isTouch=!0;var r=e;i=r.changedTouches[0].clientY,t=r.changedTouches[0].clientX}else this.isTouch=e.pointerType==="touch"||e.pointerType==="2",t=e.clientX,i=e.clientY;this.mouseY=i-n.top-Math.max(l.top-n.top,0),this.mouseX=t-n.left-Math.max(l.left-n.left,0)}},s.prototype.accumulationMouseEnd=function(e){return this.setMouseXY(e),this.trigger(jt,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isTouch&&(this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationDataLabelModule&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.move(e)),this.centerLabel.hoverTextFormat&&this.updateCenterLabel(e),this.notify(O.touchEndEvent,e),!1},s.prototype.accumulationMouseStart=function(e){return this.setMouseXY(e),this.trigger(Nt,{target:e.target.id,x:this.mouseX,y:this.mouseY}),!1},s.prototype.accumulationResize=function(){var e=this;this.animateSeries=!1;var t={accumulation:this.isBlazor?{}:this,previousSize:new _e(this.availableSize.width,this.availableSize.height),name:We,currentSize:new _e(0,0),chart:this.isBlazor?{}:this},i={name:"beforeResize",cancelResizedEvent:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(zt,i),i.cancelResizedEvent||(this.resizeTo=+setTimeout(function(){if(e.isDestroyed){clearTimeout(e.resizeTo);return}Ft(e),t.currentSize=e.availableSize,e.trigger(We,t),e.refreshSeries(),e.refreshChart()},500)),!1},s.prototype.print=function(e){var t=document.getElementById(this.element.id+"_Series_0").style.clipPath;document.getElementById(this.element.id+"_Series_0").style.clipPath="";var i=new Zt(this);i.print(e),document.getElementById(this.element.id+"_Series_0").style.clipPath=t},s.prototype.export=function(e,t){this.exportModule&&(this.exportModule.export(e,t),this.afterExport&&this.exportModule.getDataUrl(this))},s.prototype.setStyle=function(e){e.style.touchAction="element",e.style.msTouchAction="element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block",e.style.height=e.style.height||this.height&&this.height.indexOf("%")===-1?e.style.height:"inherit";var t="";switch(this.theme){case"HighContrastLight":case"HighContrast":t="#969696";break;case"MaterialDark":case"FabricDark":case"Bootstrap":case"Bootstrap4":t="#66afe9";break;case"Tailwind":case"TailwindDark":t="#4f46e5";break;case"Bootstrap5":case"Bootstrap5Dark":t="#0d6efd";break;case"Fluent":case"FluentDark":t="#9e9e9e";break;case"Fluent2":case"Fluent2Dark":case"Fluent2HighContrast":t="#0078D4";break;default:t="#9e9e9e";break}var i=document.createElement("style");i.setAttribute("id",e.id+"Keyboard_accumulationchart_focus"),i.innerText=".e-accumulationchart-focused:focus,path[id*=_Series_0_Point_]:focus, text[id*=_title]:focus{outline: none} .e-accumulationchart-focused:focus-visible,path[id*=_Series_0_Point_]:focus-visible, text[id*=_title]:focus-visible{outline: 1.5px "+t+" solid}",document.body.appendChild(i)},s.prototype.setAnnotationValue=function(e,t){var i=this.annotations[e],a,l=w(this.element.id+"_Annotation_Collections");t&&(i.content=t,l?(a=this.createElement("div"),V(this.element.id+"_Annotation_"+e),this.annotationModule.processAnnotation(i,e,a),l.appendChild(a.children[0])):this.annotationModule.renderAnnotations(w(this.element.id+"_Secondary_Element")))},s.prototype.accumulationMouseMove=function(e){return w(this.element.id+"_svg")&&(this.setMouseXY(e),this.trigger(Wt,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointMove&&this.triggerPointEvent(Ht,e.target,e),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.move(e),this.accumulationDataLabelModule&&this.visibleSeries[0]&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY),this.centerLabel.hoverTextFormat&&this.updateCenterLabel(e),this.isTouch||this.titleTooltip(e,this.mouseX,this.mouseY),this.enableBorderOnMouseMove&&this.type==="Pie"&&this.pieSeriesModule&&Pe(this.mouseX,this.mouseY,this.initialClipRect)&&this.pieSeriesModule.findSeries(e,this.series[0].borderRadius),this.notify(O.touchMoveEvent,e)),!1},s.prototype.titleTooltip=function(e,t,i,a){var l=e.target.id,n=l===this.element.id+"_title"||l===this.element.id+"_subTitle"||l===this.element.id+"_chart_legend_title";if(e.target.textContent.indexOf("...")>-1&&n){var r=l===this.element.id+"_title"?this.title:l===this.element.id+"_subTitle"?this.subTitle:this.legendSettings.title;Qe(r,t,i,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",w(this.element.id+"_Secondary_Element"),a)}else V(this.element.id+"_EJ2_Title_Tooltip")},s.prototype.accumulationChartKeyDown=function(e){var t="";return this.tooltip.enable&&(e.code==="Tab"&&this.previousTargetId.indexOf("Series")>-1||e.code==="Escape")&&(t="ESC"),e.code.indexOf("Arrow")>-1&&e.preventDefault(),e.ctrlKey&&e.key==="p"&&(e.preventDefault(),t="CtrlP"),t!==""&&this.chartKeyboardNavigations(e,e.target.id,t),!1},s.prototype.accumulationChartKeyUp=function(e){var t="",i=e.target.id,a=w(this.element.id+"_chart_legend_translate_g"),l=w(this.element.id+"_chart_legend_pageup");if(a){var n=a.firstElementChild,r=n.getAttribute("class");r&&r.indexOf("e-accumulationchart-focused")===-1?r=r+" e-accumulationchart-focused":r||(r="e-accumulationchart-focused"),n.setAttribute("class",r)}if(l&&l.setAttribute("class","e-accumulationchart-focused"),e.code==="Tab"){if(this.previousTargetId!=="")if(this.previousTargetId.indexOf("_Point_")>-1&&i.indexOf("_Point_")===-1){var h=document.getElementById(this.previousTargetId).parentElement;this.setTabIndex(h.children[this.currentPointIndex],h.firstElementChild),this.currentPointIndex=0}else this.previousTargetId.indexOf("_chart_legend_page")>-1&&i.indexOf("_chart_legend_page")===-1&&i.indexOf("_chart_legend_g_")===-1?this.setTabIndex(e.target,l):this.previousTargetId.indexOf("_chart_legend_g_")>-1&&i.indexOf("chart_legend_g_")===-1&&this.setTabIndex(a.children[this.currentLegendIndex],a.firstElementChild);this.previousTargetId=i,i.indexOf("_chart_legend_g_")>-1&&this.highlightMode!=="None"?(i=e.target.lastElementChild.id,t="Tab"):i.indexOf("_Point_")>-1&&(this.highlightMode!=="None"||this.tooltip.enable)&&(t="Tab")}else if(e.code.indexOf("Arrow")>-1){if(e.preventDefault(),i.indexOf("_chart_legend_page")>-1)e.target.removeAttribute("tabindex"),this.previousTargetId=i=this.element.id+"_chart_legend_page"+(e.code==="ArrowRight"?"up":"down"),this.focusTarget(w(i));else if(i.indexOf("_chart_legend_")>-1){e.target.removeAttribute("tabindex"),this.currentLegendIndex+=e.code==="ArrowUp"||e.code==="ArrowRight"?1:-1,this.currentLegendIndex=this.getActualIndex(this.currentLegendIndex,a.children.length);var o=a.children[this.currentLegendIndex];this.focusTarget(o),this.previousTargetId=i=o.lastElementChild.id,t=this.highlightMode!=="None"?"ArrowMove":""}else if(i.indexOf("_Point_")>-1){e.target.setAttribute("tabindex","-1"),this.currentPointIndex+=e.code==="ArrowUp"||e.code==="ArrowRight"?1:-1;for(var c=0,u=0;u<e.target.parentElement.children.length;u++)c=e.target.parentElement.children[u].id.indexOf("_Point_")>-1?c+1:c;this.currentPointIndex=this.getActualIndex(this.currentPointIndex,c),i=this.element.id+"_Series_0_Point_"+this.currentPointIndex,this.focusTarget(w(i)),t=this.tooltip.enable?"ArrowMove":""}}else(e.code==="Enter"||e.code==="Space")&&(i.indexOf("_chart_legend_")>-1||i.indexOf("_Point_")>-1)&&(i=i.indexOf("_chart_legend_g")>-1?e.target.lastElementChild.id:i,t="Enter");return t!==""&&this.chartKeyboardNavigations(e,i,t),!1},s.prototype.setTabIndex=function(e,t){e&&e.removeAttribute("tabindex"),t&&t.setAttribute("tabindex","0")},s.prototype.getActualIndex=function(e,t){return e>t-1?0:e<0?t-1:e},s.prototype.focusTarget=function(e){var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t&&t.indexOf("e-accumulationchart-focused")===-1?t=t+" e-accumulationchart-focused":t||(t="e-accumulationchart-focused"),e.setAttribute("tabindex","0"),e.setAttribute("class",t),e.focus(),e.id},s.prototype.documentKeyHandler=function(e){e.altKey&&e.keyCode===74&&!C(this.element)&&this.element.focus()},s.prototype.chartKeyboardNavigations=function(e,t,i){switch(this.isLegendClicked=!1,i){case"Tab":case"ArrowMove":if(this.accumulationHighlightModule,t.indexOf("_Point_")>-1){var a=+t.split("_Series_")[1].split("_Point_")[0],l=+t.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],n=this.visibleSeries[a].points[l].symbolLocation;if(this.mouseX=n.x+this.initialClipRect.x,this.mouseY=n.y+this.initialClipRect.y,this.accumulationHighlightModule){var r=w(t);if(!C(r)){if(r.id.indexOf("text")>1&&(r=w(r.id.replace("text","shape"))),r.hasAttribute("class")&&r.getAttribute("class").indexOf("highlight")>-1)return;this.accumulationHighlightModule.calculateSelectedElements(this,r,"mousemove");return}}if(this.accumulationTooltipModule){var h=this.visibleSeries[a],o=void 0;h.enableTooltip&&(o=new ae(h.points[l],h)),this.accumulationTooltipModule.renderSeriesTooltip(this,o)}}if(this.accumulationHighlightModule&&this.highlightMode!=="None"){t=t.indexOf("_chart_legend_g_")>-1?document.getElementById(t).firstChild.id:t;for(var c=this.element.id+"_chart_legend",u=[c+"_text_",c+"_shape_marker_",c+"_shape_"],g=0;g<u.length;g++){var m=u[g];if(t.indexOf(m)>-1){document.getElementById(t).setAttribute("class",""),this.accumulationHighlightModule.legendSelection(this,0,parseInt(t.split(m)[1],10),w(t),"mousemove");break}}}break;case"Enter":case"Space":t.indexOf("_chart_legend_")>-1&&this.accumulationLegendModule?(this.isLegendClicked=!0,this.accumulationLegendModule.click(e),this.focusChild(document.getElementById(t).parentElement)):this.accumulationSelectionModule&&this.accumulationSelectionModule.calculateSelectedElements(this,document.getElementById(t),"click");break;case"CtrlP":this.print();break;case"ESC":this.accumulationTooltipModule&&this.accumulationTooltipModule.removeTooltip(1);break}},s.prototype.focusChild=function(e){e.setAttribute("tabindex","0");var t=e.getAttribute("class");return e.setAttribute("tabindex","0"),t&&t.indexOf("e-accumulationchart-focused")===-1?t="e-accumulationchart-focused "+t:t||(t="e-accumulationchart-focused"),e.setAttribute("class",t),e.focus(),e.id},s.prototype.accumulationOnDoubleClick=function(e){return this.trigger(Vt,{target:e.target.id,x:this.mouseX,y:this.mouseY}),!1},s.prototype.accumulationOnMouseClick=function(e){return this.setMouseXY(e),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.click(e),this.selectionMode!=="None"&&this.accumulationSelectionModule&&this.accumulationSelectionModule.calculateSelectedElements(this,e.target,e.type),this.visibleSeries[0].explode&&this.accBaseModule.processExplode(e),this.enableBorderOnMouseMove&&this.pieSeriesModule&&this.type==="Pie"&&this.pieSeriesModule.findSeries(e,this.series[0].borderRadius),this.trigger(Ut,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointClick&&this.triggerPointEvent(Yt,e.target,e),!1},s.prototype.triggerPointEvent=function(e,t,i){var a=i,l=le(t.id,!0);l.series>=0&&l.point>=0&&this.trigger(e,{series:this.isBlazor?{}:this.series[l.series],point:this.series[l.series].points[l.point],seriesIndex:l.series,pointIndex:l.point,x:this.mouseX,y:this.mouseY,pageX:a.pageX,pageY:a.pageY})},s.prototype.accumulationRightClick=function(e){return e.buttons===2&&e.pointerType==="touch"?(e.preventDefault(),e.stopPropagation(),!1):!0},s.prototype.accumulationMouseLeave=function(e){this.setMouseXY(e),this.trigger(Xt,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.notify(O.isPointer?"pointerleave":"mouseleave",e);var t=document.getElementById(this.element.id+"PointHover_Border");return t&&(this.pieSeriesModule.removeBorder(t,1e3),t=null),!1},s.prototype.setCulture=function(){this.intl=new ct},s.prototype.createPieSvg=function(){this.removeSvg(),$t(this)},s.prototype.removeSvg=function(){if(this.redraw)return null;if(et(this),V(this.element.id+"_Secondary_Element"),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&qe(this.svgObject)}V("EJ2_legend_tooltip"),V("EJ2_datalabel_tooltip"),V(this.element.id+"PointHover_Border")},s.prototype.createSecondaryElement=function(){var e=Gt(this.redraw,this.element.id+"_Secondary_Element")||this.createElement("div",{id:this.element.id+"_Secondary_Element",styles:"position: relative"});Y(!1,this.element,e,this.redraw)},s.prototype.calculateVisibleSeries=function(){this.visibleSeries=[];for(var e=0,t=this.series.length;e<t;e++)if(this.series[e].index=e,this.series[e].type===this.type&&this.visibleSeries.length===0){this.visibleSeries.push(this.series[e]);break}},s.prototype.processData=function(e){e===void 0&&(e=!0),this.seriesCounts=0;for(var t=0,i=this.visibleSeries;t<i.length;t++){var a=i[t];a.dataModule=new qt(a.dataSource||this.dataSource,a.query),a.refreshDataManager(this,e)}},s.prototype.refreshChart=function(){this.doGrouppingProcess(),this.createPieSvg(),this.calculateBounds(),this.renderElements(),V("chartmeasuretext")},s.prototype.doGrouppingProcess=function(){var e=this.visibleSeries[0];!C(e.resultData)&&!C(e.lastGroupTo)&&e.lastGroupTo!==e.groupTo&&e.getPoints(e.resultData,this)},s.prototype.calculateBounds=function(){this.initialClipRect=new k(this.margin.left,this.margin.top,this.availableSize.width,this.availableSize.height),this.titleCollection=[],this.subTitleCollection=[];var e=0,t=0,i=0,a=0;if(this.title&&(this.titleCollection=He(this.title,this.titleStyle,this.initialClipRect.width,this.enableRtl,this.themeStyle.chartTitleFont)),e=this.title?F(this.title,this.titleStyle,this.themeStyle.chartTitleFont).height*this.titleCollection.length:e,this.subTitle){for(var l=0,n=this.titleCollection;l<n.length;l++){var r=n[l];a=F(r,this.titleStyle,this.themeStyle.chartSubTitleFont).width,i=a>i?a:i}this.subTitleCollection=He(this.subTitle,this.subTitleStyle,i,this.enableRtl,this.themeStyle.chartSubTitleFont),t=F(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont).height*this.subTitleCollection.length}Je(this.initialClipRect,new k(0,t+e,this.margin.right+this.margin.left,this.margin.bottom+this.margin.top)),this.calculateLegendBounds()},s.prototype.calculateLegendBounds=function(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.getLegendOptions(this,this.visibleSeries),this.accumulationLegendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null)},s.prototype.renderElements=function(){this.renderBorder(),this.createSecondaryElement(),this.renderSeries(),this.renderTitle(),this.renderCenterLabel(!0),this.renderLegend(),Y(!1,this.element,this.svgObject,this.redraw),this.processSelection(),this.processExplode(),this.renderAnnotation(),this.setSecondaryElementPosition(),dt(this.element.id+"_DataLabel","Template",this.series[0].dataLabel),this.trigger("loaded",{accumulation:this.isBlazor?{}:this,chart:this.isBlazor?{}:this}),this.animateSeries=!1},s.prototype.setSecondaryElementPosition=function(){var e=w(this.element.id+"_Secondary_Element");if(e){var t=this.element.getBoundingClientRect(),i=w(this.element.id+"_svg").getBoundingClientRect();e.style.left=Math.max(i.left-t.left,0)+"px",e.style.top=Math.max(i.top-t.top,0)+"px"}},s.prototype.renderAnnotation=function(){this.annotationModule&&this.annotationModule.renderAnnotations(w(this.element.id+"_Secondary_Element"))},s.prototype.processExplode=function(){if(this.redraw||!this.visibleSeries[0].explode)return null;this.accBaseModule.invokeExplode()},s.prototype.renderSeries=function(){this.redraw||this.svgObject.appendChild(this.renderer.createGroup({id:this.element.id+"_SeriesCollection"}));for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];i.visible&&this[Z(i.type)+"SeriesModule"]&&(this[Z(i.type)+"SeriesModule"].initProperties(this,i),i.renderSeries(this,this.redraw))}},s.prototype.renderBorder=function(){var e=this.border.width,t=new Le(this.element.id+"_border",this.background||this.themeStyle.background,this.border,1,new k(e/2,e/2,this.availableSize.width-e,this.availableSize.height-e),0,0,"",this.border.dashArray),i=this.renderer.drawRectangle(t);i.setAttribute("aria-hidden","true"),Y(!1,this.svgObject,i,this.redraw);var a=this.backgroundImage;if(a){var l=new Kt(this.availableSize.height-e,this.availableSize.width-e,a,0,0,this.element.id+"_background","visible","none");Y(!1,this.svgObject,this.renderer.drawImage(l),this.redraw)}},s.prototype.renderLegend=function(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.legendCollections.length&&(this.visibleSeries[0].type==="Pie"&&this.accumulationLegendModule.getSmartLegendLocation(this.visibleSeries[0].labelBound,this.accumulationLegendModule.legendBounds,this.margin),this.accumulationLegendModule.renderLegend(this,this.legendSettings,this.accumulationLegendModule.legendBounds,this.redraw))},s.prototype.processSelection=function(){var e=[];this.accumulationSelectionModule&&this.selectionMode!=="None"&&(e=se([],this.accumulationSelectionModule.selectedDataIndexes,null,!0),this.accumulationSelectionModule.invokeSelection(this)),this.accumulationHighlightModule&&this.highlightMode!=="None"&&this.accumulationHighlightModule.invokeHighlight(this),e.length>0&&(this.accumulationSelectionModule.selectedDataIndexes=e,this.accumulationSelectionModule.redrawSelection(this))},s.prototype.renderTitle=function(){var e=this.margin;if(!this.title)return null;var t=Ae(this.titleStyle.textAlignment,this.enableRtl),i=F(this.title,this.titleStyle,this.themeStyle.chartTitleFont),a=20,l=this.margin.top+i.height*3/4,n=this.accumulationLegendModule===void 0?0:this.legendSettings.position==="Top"?this.accumulationLegendModule.legendBounds.height:0,r=this.explodeDistance===0?0:this.explodeDistance,h=n!==0?0:r/2,o=new k(e.left,0,this.availableSize.width-e.left-e.right,0),c=new ue(this.element.id+"_title",Ve(o,this.titleStyle),l,t,this.titleCollection,"","auto"),u=this.series[0].type==="Pie"&&this.visibleSeries[0].dataLabel.position==="Outside"&&this.visibleSeries[0].dataLabel.connectorStyle.length?P(this.visibleSeries[0].dataLabel.connectorStyle.length,this.accBaseModule.radius):0;!this.subTitle&&this.series[0].type!=="Funnel"&&this.series[0].type!=="Pyramid"&&(c.y=parseInt(this.series[0].radius,10)>=80?c.y:this.accBaseModule.center.y-this.accBaseModule.radius-a-l-n-h-u,this.series[0].type==="Pie"&&(parseInt(this.series[0].radius,10)<80||isNaN(parseInt(this.series[0].radius,10)))&&(c.y=c.y<this.initialClipRect.y-n?this.initialClipRect.y-n:c.y));var g=ce(this.renderer,c,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitleFont.color,this.svgObject,!1,this.redraw,null,null,null,null,null,null,null,null,this.themeStyle.chartTitleFont);g&&(g.setAttribute("tabindex","0"),g.parentNode.insertBefore(g,this.svgObject.children&&this.svgObject.children[1])),this.subTitle&&this.renderSubTitle(c)},s.prototype.updateCenterLabel=function(e){var t=this.getPieData(e);this.format=t.point==null?"":this.parseFormat(t.point,this.visibleSeries[0],this.centerLabel.hoverTextFormat),this.renderCenterLabel()},s.prototype.getPieData=function(e){var t=le(e.target.id,!0);return isNaN(t.series)?new ae(null,null):new ae(this.visibleSeries[0].points[t.point],this.visibleSeries[0])},s.prototype.parseFormat=function(e,t,i){for(var a,l,n=RegExp,r=0,h=Object.keys(e);r<h.length;r++){var o=h[r];a=new n("${point."+o+"}","gm"),i=i.replace(a.source,e[o])}for(var c=0,u=Object.keys(Object.getPrototypeOf(t));c<u.length;c++){var o=u[c];a=new n("${series."+o+"}","gm"),l=t[o],i=i.replace(a.source,l)}return i},s.prototype.renderCenterLabel=function(e,t){var i=this;if(!this.centerLabel.text||this.type!=="Pie")return null;var a=[];if(t){var l=w(this.element.id+"_centerLabel").querySelectorAll("tspan");l.forEach(function(B){a.push({x:B.getAttribute("x"),y:B.getAttribute("y")})})}for(var n=this.series[0],r,h=Ae(this.centerLabel.textStyle.textAlignment,this.enableRtl),o=10,c=this.pieSeriesModule.innerRadius?2*this.pieSeriesModule.innerRadius*.7071067:2*this.pieSeriesModule.radius*.7071067,u=(this.format||this.centerLabel.text).split("<br>"),g=F(u[0],this.centerLabel.textStyle,this.themeStyle.chartTitleFont),m=u.length,p=0;p<m;p++){var b=F(u[p],this.centerLabel.textStyle,this.themeStyle.chartTitleFont);b.width>c&&u.splice.apply(u,[p,1].concat(ve(u[p],c,this.centerLabel.textStyle,this.enableRtl,null,null,this.themeStyle.chartTitleFont)))}g.height*u.length>c?r=this.accBaseModule.center.y+(g.height+o)/2-c/2:n.startAngle&&n.endAngle&&Math.abs(n.endAngle-n.startAngle)===180?(r=this.accBaseModule.center.y-g.height*u.length/2+(g.height+o)/2-this.pieSeriesModule.innerRadius/2+(this.pieSeriesModule.innerRadius?o:0),g.height*u.length+this.pieSeriesModule.innerRadius/2+o>c&&(r=this.accBaseModule.center.y+(g.height+o)/2-c/2)):r=u.length>1?this.accBaseModule.center.y-g.height*u.length/2+(g.height+o)/2:this.accBaseModule.center.y+g.height/4;for(var x=new ue(this.element.id+"_centerLabel",(this.series[0].animation.enable&&U!=="Disable"||U==="Enable")&&e?this.pieSeriesModule.center.x-1:this.pieSeriesModule.center.x,r,h,"","","auto"),M=ce(this.renderer,x,this.centerLabel.textStyle,this.centerLabel.textStyle.color||this.themeStyle.chartTitleFont.color,this.svgObject,!1,this.redraw,null,null,null,null,null,null,null,null,this.themeStyle.chartTitleFont),A=[],p=0;p<u.length;p++){var R={x:x.x,y:x.y+p*g.height,fill:""},T=this.renderer.createTSpan(R,"");T.style.fontFamily="inherit",T.style.fontStyle="inherit",T.style.fontSize="inherit",T.style.fontWeight=u[p].indexOf("<b>")>-1||u[p].indexOf("</b>")>-1?"bold":"inherit",T.textContent=u[p].replace(/<\/?b>/g,""),M.appendChild(T),A.push(T)}t&&A.forEach(function(B,_){i.animateTspan(B,Number(a[_].x),Number(a[_].y),Number(B.getAttribute("x")),Number(B.getAttribute("y")),i.duration)}),e&&(this.series[0].animation.enable&&U!=="Disable"||U==="Enable")&&this.animateSeries&&this.centerLabelDelay(M)},s.prototype.animateTspan=function(e,t,i,a,l,n){new te({}).animate(e,{duration:n,progress:function(r){e.style.animation="";var h=r.timeStamp/r.duration,o=t+(a-t)*h,c=i+(l-i)*h;e.setAttribute("x",o.toString()),e.setAttribute("y",c.toString())},end:function(){e.setAttribute("x",a.toString()),e.setAttribute("y",l.toString())}})},s.prototype.centerLabelDelay=function(e){e.style.visibility="hidden";var t=new te({});t.animate(e,{delay:this.duration?this.duration:this.series[0].animation.duration,progress:function(i){i.element.style.visibility="visible"}})},s.prototype.renderSubTitle=function(e){for(var t=0,i=0,a=10,l=this.titleStyle.textAlignment,n=F(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont),r=0,h=this.titleCollection;r<h.length;r++){var o=h[r];i=F(o,this.titleStyle,this.themeStyle.chartSubTitleFont).width,t=i>t?i:t}var c=new k(l==="Center"?e.x-t/2:l==="Far"?e.x-t:e.x,0,t,0),u=new ue(this.element.id+"_subTitle",Ve(c,this.subTitleStyle),e.y*e.text.length+n.height*3/4+a,Ae(this.subTitleStyle.textAlignment,this.enableRtl),this.subTitleCollection,"","auto");ce(this.renderer,u,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartSubTitleFont.color,this.svgObject,!1,this.redraw,null,null,null,null,null,null,null,null,this.themeStyle.chartSubTitleFont)},s.prototype.getSeriesElement=function(){return this.svgObject.getElementsByTagName("g")[0]},s.prototype.refreshSeries=function(){for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];this.refreshPoints(i.points)}},s.prototype.refreshPoints=function(e){for(var t=0,i=e;t<i.length;t++){var a=i[t];a.labelPosition=null,a.labelRegion=null,a.labelVisible=!0}},s.prototype.getModuleName=function(){return"accumulationchart"},s.prototype.destroy=function(){if(this.element){this.unWireEvents(),d.prototype.destroy.call(this),this.element.classList.remove("e-accumulationchart"),this.element.classList.remove("e-accumulationchart-focused");var e=document.getElementById(this.element.id+"Keyboard_accumulationchart_focus");e&&e.remove(),V("chartmeasuretext"),this.removeSvg(),this.svgObject=null}},s.prototype.requiredModules=function(){var e=[],t=!1;return e.push({member:this.type+"Series",args:[this]}),this.legendSettings.visible&&e.push({member:"AccumulationLegend",args:[this]}),this.findDatalabelVisibility()&&e.push({member:"AccumulationDataLabel",args:[this]}),this.tooltip.enable&&e.push({member:"AccumulationTooltip",args:[this]}),this.selectionMode!=="None"&&e.push({member:"AccumulationSelection",args:[this]}),this.highlightMode!=="None"&&e.push({member:"AccumulationHighlight",args:[this]}),(this.enableExport||this.allowExport)&&e.push({member:"Export",args:[this]}),t=this.annotations.some(function(i){return i.content!==null}),t&&e.push({member:"Annotation",args:[this]}),e},s.prototype.findDatalabelVisibility=function(){for(var e=0,t=this.series;e<t.length;e++){var i=t[e];if(i.dataLabel.visible)return!0}return!1},s.prototype.changeVisibleSeries=function(e,t){for(var i=0,a=e;i<a.length;i++){var l=a[i];if(t===l.index)return l}return null},s.prototype.getPersistData=function(){return""},s.prototype.sanitize=function(e){return this.enableHtmlSanitizer?gt.sanitize(e):e},s.prototype.onPropertyChanged=function(e,t){for(var i={refreshElements:!1,refreshBounds:!1},a=0,l=Object.keys(e);a<l.length;a++){var n=l[a];switch(n){case"theme":this.animateSeries=!0;break;case"title":case"subTitle":case"height":case"width":case"margin":i.refreshBounds=!0;break;case"titleStyle":e.titleStyle&&(e.titleStyle.size||e.titleStyle.textOverflow)?i.refreshBounds=!0:i.refreshElements=!0;break;case"subTitleStyle":e.subTitleStyle&&(e.subTitleStyle.size||e.subTitleStyle.textOverflow)?i.refreshBounds=!0:i.refreshElements=!0;break;case"legendSettings":i.refreshBounds=!0,i.refreshElements=!0;break;case"dataSource":this.processData(!1),i.refreshBounds=!0;break;case"series":if(!this.animateselected){for(var r=this.series.length,h=!1,o=void 0,c=void 0,u=0;u<r;u++)o=e.series[u],(o.startAngle||o.endAngle||o.explodeOffset||o.neckHeight||o.neckWidth||o.radius||o.innerRadius||o.groupMode||o.emptyPointSettings)&&this.isBlazor&&(c=!0),e.series[u]&&(e.series[u].dataSource||e.series[u].yName||e.series[u].xName||o.type||e.series[u].dataLabel||c)&&(se(this.changeVisibleSeries(this.visibleSeries,u),o,null,!0),h=!0),e.series[u]&&!C(e.series[u].explodeIndex)&&e.series[u].explodeIndex>=0&&e.series[u].explodeIndex!==t.series[u].explodeIndex?(this.accBaseModule.explodePoints(e.series[u].explodeIndex,this),this.accBaseModule.deExplodeAll(e.series[u].explodeIndex,this.enableAnimation?300:0)):e.series[u].explodeIndex<0&&this.accBaseModule.deExplodeAll(e.series[u].explodeIndex,this.enableAnimation?300:0),this.pieSeriesModule||(this.pieSeriesModule=new Oe(this));h&&(this.calculateVisibleSeries(),this.processData(!1),i.refreshBounds=!0)}this.animateselected=!1,this.redraw=!1;break;case"enableRtl":case"locale":case"currencyCode":d.prototype.refresh.call(this);break;case"background":case"border":case"annotations":case"enableSmartLabels":i.refreshElements=!0;break;case"isMultiSelect":case"selectedDataIndexes":case"selectionMode":this.accumulationSelectionModule&&(C(this.accumulationSelectionModule.selectedDataIndexes)?this.accumulationSelectionModule.invokeSelection(this):(this.accumulationSelectionModule.selectedDataIndexes=this.selectedDataIndexes,this.accumulationSelectionModule.redrawSelection(this)));break;case"tooltip":this.accumulationTooltipModule&&(this.accumulationTooltipModule.previousPoints=[],this.tooltip.template&&(this.accumulationTooltipModule.template=this.tooltip.template));break}}!i.refreshBounds&&i.refreshElements?(this.createPieSvg(),this.renderElements()):i.refreshBounds&&(this.refreshSeries(),this.createPieSvg(),this.calculateBounds(),this.renderElements())},S([v(null)],s.prototype,"width",void 0),S([v(null)],s.prototype,"height",void 0),S([v(null)],s.prototype,"title",void 0),S([v(null)],s.prototype,"backgroundImage",void 0),S([z({},Ti)],s.prototype,"center",void 0),S([v("")],s.prototype,"dataSource",void 0),S([z({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Re)],s.prototype,"titleStyle",void 0),S([v(null)],s.prototype,"subTitle",void 0),S([z({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Re)],s.prototype,"subTitleStyle",void 0),S([z({},Jt)],s.prototype,"legendSettings",void 0),S([z({},Qt)],s.prototype,"tooltip",void 0),S([z({},ei)],s.prototype,"centerLabel",void 0),S([v("None")],s.prototype,"selectionMode",void 0),S([v("")],s.prototype,"highlightColor",void 0),S([v("None")],s.prototype,"highlightMode",void 0),S([v("None")],s.prototype,"selectionPattern",void 0),S([v("None")],s.prototype,"highlightPattern",void 0),S([v(!1)],s.prototype,"enableHtmlSanitizer",void 0),S([v(!0)],s.prototype,"enableBorderOnMouseMove",void 0),S([v(!1)],s.prototype,"isMultiSelect",void 0),S([v(!0)],s.prototype,"enableAnimation",void 0),S([Me([],ti)],s.prototype,"selectedDataIndexes",void 0),S([z({},ii)],s.prototype,"margin",void 0),S([v(!0)],s.prototype,"enableSmartLabels",void 0),S([z({color:"#DDDDDD",width:0},ke)],s.prototype,"border",void 0),S([v(null)],s.prototype,"background",void 0),S([Me([{}],Oi)],s.prototype,"series",void 0),S([Me([{}],Pi)],s.prototype,"annotations",void 0),S([v("Material")],s.prototype,"theme",void 0),S([v(!1)],s.prototype,"useGroupingSeparator",void 0),S([v(!0)],s.prototype,"enableExport",void 0),S([v(!1)],s.prototype,"allowExport",void 0),S([L()],s.prototype,"loaded",void 0),S([L()],s.prototype,"legendClick",void 0),S([L()],s.prototype,"load",void 0),S([L()],s.prototype,"seriesRender",void 0),S([L()],s.prototype,"legendRender",void 0),S([L()],s.prototype,"textRender",void 0),S([L()],s.prototype,"tooltipRender",void 0),S([L()],s.prototype,"pointRender",void 0),S([L()],s.prototype,"annotationRender",void 0),S([L()],s.prototype,"beforePrint",void 0),S([L()],s.prototype,"chartMouseMove",void 0),S([L()],s.prototype,"chartMouseClick",void 0),S([L()],s.prototype,"chartDoubleClick",void 0),S([L()],s.prototype,"pointClick",void 0),S([L()],s.prototype,"pointMove",void 0),S([L()],s.prototype,"animationComplete",void 0),S([L()],s.prototype,"chartMouseDown",void 0),S([L()],s.prototype,"chartMouseLeave",void 0),S([L()],s.prototype,"chartMouseUp",void 0),S([L()],s.prototype,"beforeResize",void 0),S([L()],s.prototype,"resized",void 0),S([L()],s.prototype,"afterExport",void 0),S([L()],s.prototype,"selectionComplete",void 0),S([v("USD")],s.prototype,"currencyCode",void 0),s=S([mt],s),s}(ft),Ni=globalThis&&globalThis.__extends||function(){var d=function(s,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},d(s,e)};return function(s,e){d(s,e);function t(){this.constructor=s}s.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zi=function(d){Ni(s,d);function s(e){var t=d.call(this,e)||this;return t.library=t,t.titleRect=new k(0,e.margin.top,0,0),t.addEventListener(),t}return s.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(O.touchMoveEvent,this.mouseMove,this),this.chart.on(O.touchEndEvent,this.mouseEnd,this),this.chart.on("click",this.click,this))},s.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(O.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(O.touchEndEvent,this.mouseEnd))},s.prototype.mouseMove=function(e){if(this.chart.legendSettings.visible&&!this.chart.isTouch&&this.chart.accumulationHighlightModule&&this.chart.highlightMode!=="None"){this.chart.legendSettings.toggleVisibility||this.click(e);for(var t=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_",this.legendID+"_g_"],i=e.target.id,a=void 0,l=0,n=t;l<n.length;l++){var r=n[l];if(i.indexOf(r)>-1){a=parseInt(i.split(r)[1],10),this.chart.accumulationHighlightModule.legendSelection(this.chart,0,a,e.target,e.type);break}}}},s.prototype.mouseEnd=function(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)},s.prototype.getLegendOptions=function(e,t){this.legendCollections=[],this.isRtlEnable=e.enableRtl,this.isReverse=!this.isRtlEnable&&e.legendSettings.reverse;for(var i=0;i<1;i++){var a=t[i].type;(a==="Pie"||a==="Doughnut")&&(a=t[i].innerRadius!=="0"&&t[i].innerRadius!=="0%"?"Doughnut":"Pie");for(var l=0,n=t[i].points;l<n.length;l++){var r=n[l];!C(r.x)&&!C(r.y)&&this.legendCollections.push(new Ze(e.useGroupingSeparator&&typeof r.x=="number"?e.intl.formatNumber(r.x,{useGrouping:!0}):r.x.toString(),r.color,t[i].legendShape,r.visible,a,r.legendImageUrl,null,null,r.index,t[i].index))}this.isReverse&&this.legendCollections.reverse()}},s.prototype.getLegendBounds=function(e,t,i){this.calculateLegendTitle(i,t),this.isTitle=!!i.title;var a=0,l=0,n;this.chartRowCount=1,this.rowHeights=[],this.columnHeights=[],this.pageHeights=[];var r=i.padding,h=i.titlePosition,o=0,c=this.arrowWidth,u=i.enablePages?0:this.arrowHeight;this.isVertical?a=i.width?0:e.width/100*5:l=i.height?0:e.height/100*5,t.width+=a,t.height+=l;var g=i.shapePadding,m=i.maximumLabelWidth?i.maximumLabelWidth:0,p=i.shapeWidth,b=0,x=0,M=0,A=[],R=[],T=0,B=0,_=0,H=0,$=0;this.maxItemHeight=Math.max(F("MeasureText",i.textStyle,this.chart.themeStyle.legendLabelFont).height,i.shapeHeight);for(var G,ne=!1,q=0;q<this.legendCollections.length;q++)if(n=this.legendCollections[q],G={fill:n.fill,text:n.text,shape:n.shape,name:"legendRender",cancel:!1},this.chart.trigger("legendRender",G),n.render=!G.cancel,n.text=G.text.indexOf("&")>-1?this.convertHtmlEntities(G.text):G.text,n.fill=G.fill,n.shape=G.shape,n.textSize=F(n.text,i.textStyle,this.chart.themeStyle.legendLabelFont),n.render&&n.text!=="")if(ne=!0,H=p+g+(i.maximumLabelWidth?i.maximumLabelWidth:n.textSize.width)+(this.isVertical||q===0?r:this.itemPadding),this.getLegendHeight(n,i,t,b,this.maxItemHeight,r),this.isVertical)_+=n.textSize.height+(q===0?r:this.itemPadding),_+this.itemPadding+u/this.pageButtonSize>t.height&&(b=b+m,T=this.getPageWidth(R),this.totalPages=Math.max(M,this.totalPages||1),b-T+H>t.width?(R.push(b-T),M=this.rowHeights.length,B=M):M=B,A.push(m),m=0,_=n.textSize.height+r,x++),this.columnHeights[x]=(this.columnHeights[x]?this.columnHeights[x]:0)+n.textSize.height+(q===0?r:this.itemPadding),m=Math.max(H,m),this.rowHeights[M]=Math.max(this.rowHeights[M]?this.rowHeights[M]:0,n.textSize.height),M++;else{i.enablePages||(o=this.isTitle&&h!=="Top"?this.legendTitleSize.width+this.fivePixel:0,o+=c),b=b+H,t.width<r+b+o&&(m=Math.max(m,b+r+o-H),M===0&&H!==b&&(M=1),b=H,M++,x=0);var Q=M&&M-1;this.rowHeights[Q]=Math.max(this.rowHeights[Q]?this.rowHeights[Q]:0,n.textSize.height),this.columnHeights[x]=(this.columnHeights[x]?this.columnHeights[x]:0)+n.textSize.height+r,x++}$=h==="Top"?this.legendTitleSize.height:0,this.isVertical?(b=b+m,this.isPaging=t.width<b+r,_=Math.max.apply(null,this.columnHeights)+r+u+$,_=Math.max(_,(this.totalPages||1)*(this.maxItemHeight+r)+r+u),this.isPaging=this.isPaging&&this.totalPages>1,A.push(m)):(this.totalPages=this.totalRowCount=M,_=Math.max.apply(null,this.columnHeights)+r+u+$,this.isPaging=t.height<_,_=!i.enablePages&&this.isPaging?this.maxItemHeight+r+r+$:_,_=Math.max(_,this.maxItemHeight+r+r+$),this.isPaging||(b+=this.isTitle&&h!=="Top"?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0)),this.maxColumns=0;var Se=this.isVertical?this.getMaxColumn(A,t.width,r,b+r):Math.max(b+r,m);ne?this.setBounds(Se,_,i,t):this.setBounds(0,0,i,t)},s.prototype.getPageWidth=function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t},s.prototype.getLegendHeight=function(e,t,i,a,l,n){var r=e.textSize.width,h=t.shapePadding+n*2+t.shapeWidth;switch(t.textWrap){case"Wrap":case"AnyWhere":r>t.maximumLabelWidth||r+a>i.width?e.textCollection=ve(e.text,t.maximumLabelWidth?Math.min(t.maximumLabelWidth,i.width-h):i.width-h,t.textStyle,this.chart.enableRtl,t.textWrap==="AnyWhere",null,this.chart.themeStyle.legendLabelFont):e.textCollection.push(e.text),e.textSize.height=l*e.textCollection.length;break}},s.prototype.convertHtmlEntities=function(e){var t=e.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">").replace("&quot;",'"').replace("&nbsp;"," ").replace("&cent;","¢").replace("&pound;","£").replace("&yen;","¥").replace("&euro;","€").replace("&copy;","©").replace("&reg;","®");return t=t.replace("&#38;","&").replace("&#60;","<").replace("&#62;",">").replace("&#34;",'"').replace("&#160;"," ").replace("&#162;","¢").replace("&#163;","£").replace("&#165;","¥").replace("&#8364;","€").replace("&#169;","©").replace("&#174;","®"),t},s.prototype.getMaxColumn=function(e,t,i,a){var l=i;this.maxColumnWidth=Math.max.apply(null,e);for(var n=0,r=e;n<r.length;n++)if(r[n],l+=this.maxColumnWidth,this.maxColumns++,l+i>t){l-=this.maxColumnWidth,this.maxColumns--;break}this.isPaging=l<a&&this.totalPages>1,l===i&&(l=t),this.maxColumns=Math.max(1,this.maxColumns),this.maxWidth=l;var h=this.maxColumnWidth+i,o=0,c=this.columnHeights.length;if(this.isPaging&&this.isVertical){for(var u=1;u<c;u++)h+=this.maxColumnWidth+i,h>t&&(this.pageHeights.push(o!==u-1?Math.max.apply(null,this.columnHeights.slice(o,u-1)):this.columnHeights[o]),h=this.maxColumnWidth+i,o=u);this.pageHeights.push(o!==c-1?Math.max.apply(null,this.columnHeights.slice(o,c-1)):this.columnHeights[o]),this.totalPages=this.pageHeights.length}return l},s.prototype.getAvailWidth=function(e,t){if(this.isVertical)t=this.maxWidth;else if(!this.isVertical&&this.isPaging&&!this.legend.enablePages)return t-e-this.fivePixel;return t-(this.legend.padding*2+this.legend.shapeWidth+this.legend.shapePadding)},s.prototype.getRenderPoint=function(e,t,i,a,l,n,r){var h=this.legend.padding,o=a.location.y+this.maxItemHeight/4+(a.textCollection.length>0?(a.textCollection.length-1)*this.maxItemHeight:0);if(this.isVertical)if(n===r||o+e.textSize.height+h>l.y+l.height){e.location.x=a.location.x+(n===r?0:this.isRtlEnable?-this.maxColumnWidth:this.maxColumnWidth),e.location.y=t.y;var c=this.legend.shapeWidth/2+h;this.pageXCollections.push(e.location.x+(this.isRtlEnable?c:-c))}else e.location.x=a.location.x,e.location.y=a.location.y+a.textSize.height+this.itemPadding;else{var u=i+(this.legend.maximumLabelWidth?this.legend.maximumLabelWidth:a.textSize.width),g=a.location.x+(this.isRtlEnable?-u:u);this.isWithinBounds(g,(this.legend.maximumLabelWidth?this.legend.maximumLabelWidth:e.textSize.width)+i-this.itemPadding,l,this.legend.shapeWidth/2)?(n!==r&&this.chartRowCount++,e.location.y=n===r?a.location.y:a.location.y+this.rowHeights[this.chartRowCount-2]+h,e.location.x=t.x):(e.location.y=a.location.y,e.location.x=n===r?a.location.x:g)}var m=this.getAvailWidth(e.location.x,this.legendBounds.width);m=this.legend.maximumLabelWidth?Math.min(this.legend.maximumLabelWidth,m):m,this.legend.textOverflow==="Ellipsis"&&this.legend.textWrap==="Normal"&&(e.text=Te(+m.toFixed(4),e.text,this.legend.textStyle,this.chart.enableRtl,this.chart.themeStyle.legendLabelFont))},s.prototype.isWithinBounds=function(e,t,i,a){return this.isRtlEnable?e-t<i.x-a:e+t>i.x+i.width+a},s.prototype.getSmartLegendLocation=function(e,t,i){var a;switch(this.position){case"Left":a=(e.x-t.width-i.left)/2,t.x=e.x-t.width<i.left?t.x:e.x-t.width-a;break;case"Right":a=(this.chart.availableSize.width-i.right-(e.x+e.width+t.width))/2,t.x=e.x+e.width+t.width>this.chart.availableSize.width-i.right?t.x:e.x+e.width+a;break;case"Top":this.getTitleRect(this.chart),a=(e.y-t.height-(this.titleRect.y+this.titleRect.height))/2,t.y=e.y-t.height<i.top?t.y:e.y-t.height-a;break;case"Bottom":a=(this.chart.availableSize.height-i.bottom-(e.y+e.height+t.height))/2,t.y=e.y+e.height+t.height>this.chart.availableSize.height-i.bottom?t.y:e.y+e.height+a;break}},s.prototype.getTitleRect=function(e){if(!e.title)return null;var t=F(e.title,e.titleStyle,this.chart.themeStyle.legendTitleFont);this.titleRect=new k(e.availableSize.width/2-t.width/2,e.margin.top,t.width,t.height)},s.prototype.legendByIndex=function(e,t){for(var i=0,a=t;i<a.length;i++){var l=a[i];if(l.pointIndex===e)return l}return null},s.prototype.click=function(e){var t=e.target.id.indexOf("_chart_legend_g_")>-1?e.target.firstChild.id:e.target.id,i=this.chart,a=[this.legendID+"_text_",this.legendID+"_shape_",this.legendID+"_shape_marker_"];this.chart.animateSeries=!1;for(var l=0,n=a;l<n.length;l++){var r=n[l];if(t.indexOf(r)>-1){var h=parseInt(t.split(r)[1],10);if(this.chart.legendSettings.toggleVisibility&&!isNaN(h)){var o=this.chart.visibleSeries[0],c=at(h,o.points),u=this.legendByIndex(h,this.legendCollections),g={legendText:u.text,legendShape:u.shape,chart:i.isBlazor?{}:i,series:o,point:c,name:Ue,cancel:!1};this.chart.trigger(Ue,g),g.cancel||(c.visible=!c.visible,u.visible=c.visible,o.sumOfPoints+=c.visible?c.y:-c.y,i.redraw=i.enableAnimation,this.sliceVisibility(h,c.visible),i.removeSvg(),et(i),this.chart.refreshPoints(o.points),this.chart.calculateBounds(),this.chart.renderElements())}else this.chart.accumulationSelectionModule&&!isNaN(h)?this.chart.accumulationSelectionModule.legendSelection(this.chart,0,h,e.target,e.type):this.chart.accumulationHighlightModule&&!isNaN(h)&&this.chart.accumulationHighlightModule.legendSelection(this.chart,0,h,e.target,e.type)}}t.indexOf(this.legendID+"_pageup")>-1?this.changePage(e,!0):t.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(e,!1),i.redraw=!1},s.prototype.sliceVisibility=function(e,t){var i=this.chart.element.id+"_Series_0_Point_";this.chart.visibleSeries[0].dataLabel.visible&&(i=this.chart.element.id+"_datalabel_Series_0_",this.sliceAnimate(w(i+"g_"+e),t))},s.prototype.sliceAnimate=function(e,t){if(!e)return null;new te({}).animate(e,{duration:300,delay:0,name:t?"FadeIn":"FadeOut",end:function(i){i.element.style.visibility=t?"visible":"hidden"}})},s.prototype.getModuleName=function(){return"AccumulationLegend"},s.prototype.destroy=function(){this.removeEventListener()},s}(ai),Fi=globalThis&&globalThis.__extends||function(){var d=function(s,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},d(s,e)};return function(s,e){d(s,e);function t(){this.constructor=s}s.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wi=function(d){Fi(s,d);function s(e){var t=d.call(this,e)||this;return t.rightSideRenderingPoints=[],t.leftSideRenderingPoints=[],t.id=e.element.id+"_datalabel_Series_",t}return s.prototype.getDataLabelPosition=function(e,t,i,a){var l=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e):this.accumulation.pieSeriesModule.labelRadius:this.getLabelDistance(e,t);if(this.accumulation.title){var n=F(this.accumulation.title,this.accumulation.titleStyle,this.accumulation.themeStyle.datalabelFont);this.titleRect=new k(this.accumulation.availableSize.width/2-n.width/2,this.accumulation.margin.top,n.width,n.height)}this.getLabelRegion(e,t.position,i,l,this.marginValue),e.labelAngle=e.midAngle,e.labelPosition=t.position,this.accumulation.enableSmartLabels&&this.getSmartLabel(e,t,i,a)},s.prototype.getLabelRegion=function(e,t,i,a,l,n){n===void 0&&(n=0);var r=n||e.midAngle,h=20,o=N(r,a,this.isCircular()?this.center:this.getLabelLocation(e,t));o.y=t==="Inside"?o.y-i.height/2:o.y,o.x=t==="Inside"?o.x-i.width/2:o.x,e.labelRegion=new k(o.x,o.y,i.width+l*2,i.height+l*2),t==="Outside"&&(e.labelRegion.y-=e.labelRegion.height/2,r>=90&&r<=270?e.labelRegion.x-=e.labelRegion.width+h:e.labelRegion.x+=h)},s.prototype.calculateLabelCollection=function(e,t){if(e.argsData.template!==null)return null;var i=e.labelPosition||t.position,a=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e):this.accumulation.pieSeriesModule.labelRadius:this.getLabelDistance(e,t),l=this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e):this.accumulation.pieSeriesModule.radius-this.accumulation.pieSeriesModule.innerRadius,n=N(e.midAngle,a,this.isCircular()?this.center:this.getLabelLocation(e,i)),r=20,h=t.maxWidth;h||(i==="Outside"?h=this.isCircular()?n.x>=this.center.x?this.areaRect.x+this.areaRect.width-n.x:n.x-this.areaRect.x:n.x>=e.region.x?this.areaRect.x+this.areaRect.width-n.x:n.x-this.areaRect.x:h=this.isCircular()?l-r:e.region.width),e.label.indexOf("<br>")!==-1?e.labelCollection=e.label.split("<br>"):t.textWrap==="Normal"&&t.textOverflow==="Ellipsis"?e.labelCollection[0]=Te(h,e.label,e.argsData.font,this.accumulation.enableRtl,this.accumulation.themeStyle.datalabelFont):t.textWrap==="Wrap"||t.textWrap==="AnyWhere"?e.labelCollection=ve(e.label,h,e.argsData.font,this.accumulation.enableRtl,t.textWrap==="AnyWhere",t.textOverflow==="Clip",this.accumulation.themeStyle.datalabelFont):e.labelCollection[0]=e.label},s.prototype.getTextSize=function(e,t){for(var i=0,a=t.font,l=t.maxWidth?t.maxWidth:0,n,r=0;r<e.length;r++)n=F(e[r],a,this.accumulation.themeStyle.datalabelFont),l=Math.max(n.width,l),i+=n.height;return t.textOverflow==="Clip"&&t.textWrap!=="Normal"&&t.maxWidth&&(l=t.maxWidth),new _e(l,i)},s.prototype.getSmartLabel=function(e,t,i,a){var l=this.isCircular(),n=l?this.radius:this.getLabelDistance(e,t),r=l?t.connectorStyle.length||"4%":"0px";n+=P(r,n);var h=this.findPreviousPoint(a,e.index,e.labelPosition);if(t.position==="Inside"?(e.labelRegion.height-=4,e.labelRegion.width-=4,(h&&h.labelRegion&&!t.enableRotation&&(I(e.labelRegion,h.labelRegion)||this.isOverlapping(e,a))||!l&&!si(e.region,e.labelRegion))&&(e.labelPosition="Outside",l||(n=this.getLabelDistance(e,t)),this.calculateLabelCollection(e,t),i=this.getTextSize(e.labelCollection,t),i.height+=4,i.width+=4,this.getLabelRegion(e,e.labelPosition,i,n,this.marginValue),h=this.findPreviousPoint(a,e.index,e.labelPosition),h&&(I(e.labelRegion,h.labelRegion)||this.isConnectorLineOverlapping(e,h))&&this.setOuterSmartLabel(h,e,t.border.width,n,i,this.marginValue))):h&&h.labelRegion&&(I(e.labelRegion,h.labelRegion)||this.isOverlapping(e,a)||this.isConnectorLineOverlapping(e,h))&&this.setOuterSmartLabel(h,e,t.border.width,n,i,this.marginValue),this.isOverlapping(e,a)&&(this.accumulation.type==="Pyramid"||this.accumulation.type==="Funnel")){var o="OutsideLeft",c=20,u=e.midAngle||0,g=l?this.radius:this.getLabelDistance(e,t),m=N(u,-g,this.isCircular()?this.center:this.getLabelLocation(e,o));e.labelRegion=new k(m.x,m.y,i.width+this.marginValue*2,i.height+this.marginValue*2),e.labelRegion.y-=e.labelRegion.height/2,e.labelRegion.x=e.labelRegion.x-c-e.labelRegion.width,h&&h.labelRegion&&(I(e.labelRegion,h.labelRegion)||this.isOverlapping(e,a)||this.isConnectorLineOverlapping(e,h))&&this.setOuterSmartLabel(h,e,t.border.width,g,i,this.marginValue)}},s.prototype.move=function(e,t,i,a){var l=this;if(e.target.textContent.indexOf("...")>-1){var n=e.target.id.split(this.id);if(n.length===2){var r=parseInt(n[1].split("_text_")[0],10),h=parseInt(n[1].split("_text_")[1],10);if(!isNaN(r)&&!isNaN(h)){a&&V(this.accumulation.element.id+"_EJ2_Datalabel_Tooltip");var o=ki(r,this.accumulation.visibleSeries).points[h];Qe(o.text||o.y.toString(),t,i,this.areaRect.width,this.accumulation.element.id+"_EJ2_Datalabel_Tooltip",w(this.accumulation.element.id+"_Secondary_Element"),null,null,this.accumulation.initialClipRect)}}}else V(this.accumulation.element.id+"_EJ2_Datalabel_Tooltip");a&&(clearTimeout(this.clearTooltip),this.clearTooltip=+setTimeout(function(){V(l.accumulation.element.id+"_EJ2_Datalabel_Tooltip")},1e3))},s.prototype.findPreviousPoint=function(e,t,i){for(var a=e[0],l=t-1;l>=0;l--)if(a=e[l],a.visible&&a.labelVisible&&a.labelRegion&&a.labelPosition===i)return a;return null},s.prototype.isOverlapping=function(e,t){for(var i=e.index-1;i>=0;i--)if(t[i].visible&&t[i].labelVisible&&t[i].labelRegion&&e.labelRegion&&e.labelVisible&&I(e.labelRegion,t[i].labelRegion))return!0;return!1},s.prototype.textTrimming=function(e,t,i,a,l){if(I(e.labelRegion,t)){var n=e.labelRegion.width;if(a==="Right"?n=t.x-e.labelRegion.x:a==="Left"?(n=e.labelRegion.x-(t.x+t.width),n<0&&(n+=e.labelRegion.width,e.labelRegion.x=t.x+t.width)):a==="InsideRight"?n=t.x+t.width-e.labelRegion.x:a==="InsideLeft"?(n=e.labelRegion.x+e.labelRegion.width-t.x,n<e.labelRegion.width&&(e.labelRegion.x=t.x)):this.accumulation.enableSmartLabels&&this.setPointVisibileFalse(e),e.labelVisible&&e.labelRegion){e.label.indexOf("<br>")!==-1?e.labelCollection=e.label.split("<br>"):n<e.labelRegion.width&&(l.textWrap==="Normal"&&l.textOverflow==="Ellipsis"?e.labelCollection[0]=Te(n-this.marginValue*2,e.label,i,this.accumulation.enableRtl,this.accumulation.themeStyle.datalabelFont):(l.textWrap==="Wrap"||l.textWrap==="AnyWhere")&&(e.labelCollection=ve(e.label,n-this.marginValue*2,i,this.accumulation.enableRtl,l.textWrap==="AnyWhere",l.textOverflow==="Clip",this.accumulation.themeStyle.datalabelFont)),e.labelRegion.width=n);for(var r=0;r<e.labelCollection.length;r++)if(e.labelCollection[r].length===3&&e.labelCollection[r].indexOf("...")>-1){this.setPointVisibileFalse(e);break}}}},s.prototype.setPointVisibileFalse=function(e){e.labelVisible=!1,e.labelRegion=null},s.prototype.setPointVisibleTrue=function(e){e.labelVisible=!0},s.prototype.setOuterSmartLabel=function(e,t,i,a,l,n){if(!this.isCircular())this.setSmartLabelForSegments(t,e);else{var r=this.getOverlappedAngle(e.labelRegion,t.labelRegion,t.midAngle,i*2);for(this.getLabelRegion(t,"Outside",l,a,n,r),r>t.endAngle&&(r=t.midAngle),t.labelAngle=r;t.labelVisible&&(I(e.labelRegion,t.labelRegion)||r<=e.labelAngle||r<=t.midAngle*.9||this.isConnectorLineOverlapping(t,e))&&!(r>t.endAngle);)t.labelAngle=r,this.getLabelRegion(t,"Outside",l,a,n,r),r+=.1}},s.prototype.setSmartLabelForSegments=function(e,t){var i=e.labelRegion,a=this.accumulation.type==="Funnel"?t.labelRegion.y-(i.y+i.height):e.labelRegion.y-(t.labelRegion.y+t.labelRegion.height);a<0&&(e.labelRegion.y+=this.accumulation.type==="Funnel"?a:-a)},s.prototype.isConnectorLineOverlapping=function(e,t){var i;!this.isCircular()&&e.labelRegion.x<e.region.x&&(i="outsideLeft");var a=this.getLabelLocation(e,i),l=new j(0,0);this.getEdgeOfLabel(e.labelRegion,e.labelAngle,l,0,e);var n=this.getLabelLocation(t),r=new j(0,0);return this.getEdgeOfLabel(t.labelRegion,t.labelAngle,r,0,e),this.isLineRectangleIntersect(a,l,e.labelRegion)||this.isLineRectangleIntersect(a,l,t.labelRegion)||this.isLineRectangleIntersect(n,r,e.labelRegion)},s.prototype.isLineRectangleIntersect=function(e,t,i){var a=[new j(Math.round(i.x),Math.round(i.y)),new j(Math.round(i.x+i.width),Math.round(i.y)),new j(Math.round(i.x+i.width),Math.round(i.y+i.height)),new j(Math.round(i.x),Math.round(i.y+i.height))];e.x=Math.round(e.x),e.y=Math.round(e.y),t.x=Math.round(t.x),t.y=Math.round(t.y);for(var l=0;l<a.length;l++)if(this.isLinesIntersect(e,t,a[l],a[(l+1)%a.length]))return!0;return!1},s.prototype.isLinesIntersect=function(e,t,i,a){var l=t.y-e.y,n=e.x-t.x,r=l*e.x+n*e.y,h=a.y-i.y,o=i.x-a.x,c=h*i.x+o*i.y,u=l*o-h*n;if(u!==0){var g=(o*r-n*c)/u,m=(l*c-h*r)/u,p=Math.min(e.x,t.x)<=g&&g<=Math.max(e.x,t.x);return p=p&&Math.min(e.y,t.y)<=m&&m<=Math.max(e.y,t.y),p=p&&Math.min(i.x,a.x)<=g&&g<=Math.max(i.x,a.x),p=p&&Math.min(i.y,a.y)<=m&&m<=Math.max(i.y,a.y),p}return!1},s.prototype.getOverlappedAngle=function(e,t,i,a){var l=e.x;return i>=90&&i<=270?(t.y=e.y-(a+t.height/2),l=e.x+e.width):t.y=e.y+e.height+a,li(this.center,new j(l,t.y))},s.prototype.getConnectorPath=function(e,t,i,a){a===void 0&&(a=0);var l=i.connectorStyle,n=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],t):this.labelRadius:this.getLabelDistance(t,i),r=this.getConnectorStartPoint(t,l),h=this.accumulation.enableSmartLabels?t.midAngle:a||t.midAngle,o=new j(0,0),c=this.getEdgeOfLabel(e,h,o,l.width,t);if(l.type==="Curve")if(this.isCircular()){var u=n-(this.isVariousRadius()?P(t.sliceRadius,this.accumulation.pieSeriesModule.size/2):this.radius);return t.isLabelUpdated?o=this.getPerpendicularDistance(r,t):(o=N(h,n-u/2,this.center),t.labelPosition==="Outside"&&i.position==="Inside"&&(o=N(h,n-u*1.25,this.center))),"M "+r.x+" "+r.y+" Q "+o.x+" "+o.y+" "+c.x+" "+c.y}else return this.getPolyLinePath(r,c);else return"M "+r.x+" "+r.y+" L "+o.x+" "+o.y+" L "+c.x+" "+c.y},s.prototype.getPolyLinePath=function(e,t){var i=[e,t];if(e.y===t.y)return"M "+e.x+" "+e.y+" L "+t.x+" "+t.y;for(var a="M",l=0;l<=16;l++){var n=l/16,r=this.getBezierPoint(n,i,0,2);a+=r.x+","+r.y,l!==16&&(a+=" L")}return a},s.prototype.getBezierPoint=function(e,t,i,a){if(a===1)return t[i];var l=this.getBezierPoint(e,t,i,a-1),n=this.getBezierPoint(e,t,i+1,a-1),r=(l.x,l.x),h=(l.y,l.y),o=(n.x,n.x),c=(n.y,n.y),u=(1-e)*r+e*o,g=(1-e)*h+e*c;return l.x?{x:u,y:g}:{x:u,y:g}},s.prototype.getEdgeOfLabel=function(e,t,i,a,l){a===void 0&&(a=1);var n=new j(e.x,e.y),r=10;return t>=90&&t<=270?(n.x+=e.width+a/2+r,n.y+=e.height/2,i.x=n.x+10,i.y=n.y):l&&l.region&&l.region.x>l.labelRegion.x?(n.x+=a*2+e.width+r,n.y+=e.height/2,i.x=n.x+10,i.y=n.y):(n.x-=r-a/2,n.y+=e.height/2,i.x=n.x-10,i.y=n.y),n},s.prototype.getLabelDistance=function(e,t){if(e.labelPosition&&t.position!==e.labelPosition||t.connectorStyle.length&&t.position==="Outside"){var i=P(t.connectorStyle.length||"70px",this.accumulation.initialClipRect.width);if(i<this.accumulation.initialClipRect.width)return i}var a=e.labelPosition||t.position,l=this.accumulation.visibleSeries[0],n=(this.accumulation.initialClipRect.width-l.triangleSize.width)/2,r;switch(a){case"Inside":return 0;case"Outside":return r=e.symbolLocation.x+e.labelOffset.x,this.accumulation.initialClipRect.width-r-n}},s.prototype.getLabelLocation=function(e,t){if(t===void 0&&(t="Outside"),this.accumulation.type!=="Pie"){t=t==="OutsideLeft"?"OutsideLeft":e.labelPosition||t;var i={x:e.symbolLocation.x,y:e.symbolLocation.y-e.labelOffset.y};switch(t){case"Inside":i.y=e.region.y+e.region.height/2;break;case"Outside":i.x+=e.labelOffset.x;break;case"OutsideLeft":i.x-=e.labelOffset.x}return i}else return N(e.midAngle,this.isVariousRadius()?P(e.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius,this.center)},s.prototype.getConnectorStartPoint=function(e,t){var i;return!this.isCircular()&&e.region.x>e.labelRegion.x&&(i="OutsideLeft"),this.isCircular()?N(e.midAngle,(this.isVariousRadius()?P(e.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius)-t.width,this.center):this.getLabelLocation(e,i)},s.prototype.findAreaRect=function(){this.areaRect=new k(0,0,this.accumulation.availableSize.width,this.accumulation.availableSize.height);var e=this.accumulation.margin;ni(this.areaRect,new ri(e.left,e.right,e.top,e.bottom))},s.prototype.renderDataLabel=function(e,t,i,a,l,n,r){var h=this.accumulation.element.id+"_datalabel_Series_"+l+"_",o=this.accumulation.renderer.createGroup({id:h+"g_"+e.index}),c={width:t.border.width,color:t.border.color},u=se({},K("properties",t.font),null,!0);e.label=this.getDatalabelText(t.format,this.accumulation,e.originalText||e.y.toString());var g={cancel:!1,name:Ye,series:this.accumulation.visibleSeries[0],point:e,text:e.label,border:c,color:t.fill,template:this.accumulation.enableHtmlSanitizer?this.accumulation.sanitize(t.template):t.template,font:u};this.accumulation.trigger(Ye,g),e.argsData=g;var m=g.template!==null;e.labelVisible=!g.cancel,e.text=e.label=g.text,e.labelCollection=[],this.marginValue=g.border.width?5+g.border.width:1;var p=be("div",{id:this.accumulation.element.id+"_Series_0_DataLabel_"+e.index,styles:"position: absolute;background-color:"+g.color+";"+oi(t.font,this.accumulation.themeStyle.datalabelFont)+";border:"+g.border.width+"px solid "+g.border.color+";"});this.calculateLabelSize(m,p,e,a,g,o,h,t,r)},s.prototype.getDatalabelText=function(e,t,i){if(Number(i)){var a=e.match("{value}")!==null,l=t.intl.getNumberFormat({format:a?"":e,useGrouping:t.useGroupingSeparator});i=a?e.replace("{value}",l(parseFloat(i))):l(parseFloat(i))}return i},s.prototype.calculateLabelSize=function(e,t,i,a,l,n,r,h,o,c,u){this.calculateLabelCollection(i,h);var g=e?u?{width:c.width,height:c.height}:this.getTemplateSize(t,i,l,o,e,a,n,r,h):this.getTextSize(i.labelCollection,h);g.height+=4,g.width+=4,i.textSize=g,i.templateElement=t,this.getDataLabelPosition(i,h,g,a),i.labelRegion&&this.correctLabelRegion(i.labelRegion,i.textSize)},s.prototype.drawDataLabels=function(e,t,i,a,l){var n,r,h=e.leftSidePoints.concat(e.rightSidePoints);h.sort(function(H,$){return H.index-$.index}),e.type==="Pie"&&this.accumulation.enableSmartLabels&&this.extendedLabelsCalculation();for(var o=0,c=h;o<c.length;o++){var u=c[o];if(!C(u.argsData)&&!C(u.y)){this.finalizeDatalabels(u,h,t);var g=this.accumulation.element.id+"_datalabel_Series_0_",m=this.accumulation.renderer.createGroup({id:g+"g_"+u.index});m.setAttribute("aria-hidden","true");var p=void 0,b=void 0,x=void 0;if(u.visible&&u.labelVisible){if(n=r=t.angle,u.argsData.template)this.setTemplateStyle(u.templateElement,u,a,t.font.color,u.color,l);else{b=new j(u.labelRegion.x+this.marginValue,u.labelRegion.y+u.textSize.height*3/(u.labelCollection.length*4)+this.marginValue),x=w(g+"shape_"+u.index);var M=x?new j(+x.getAttribute("x"),+x.getAttribute("y")):null,A=u.textSize.width;t.enableRotation?n===0?u.labelPosition==="Outside"?r=0:u.midAngle>=90&&u.midAngle<=260?r=u.midAngle+180:r=u.midAngle:r=n>360?n-360:n<-360?n+360:n:r=0;var R="rotate("+r+","+(b.x+A/2)+","+b.y+")";u.transform=R,p=this.accumulation.renderer.drawRectangle(new Le(g+"shape_"+u.index,u.argsData.color,u.argsData.border,1,u.labelRegion,t.rx,t.ry,R,e.dataLabel.border.dashArray)),Y(!1,m,p,l,!0,"x","y",M,null,!1,!1,null,this.accumulation.duration),ce(this.accumulation.renderer,new ue(g+"text_"+u.index,b.x,b.y,this.accumulation.enableRtl?"end":"start",u.labelCollection,R,"auto",r),u.argsData.font,u.argsData.font.color||this.getSaturatedColor(u,u.argsData.color),m,!1,l,!0,!1,this.accumulation.duration,null,null,null,null,!0,this.accumulation.themeStyle.datalabelFont),x=null}if(this.accumulation.accumulationLegendModule&&this.accumulation.legendSettings.visible&&!this.accumulation.redraw&&(t.position==="Outside"||this.accumulation.enableSmartLabels)&&this.accumulation.visibleSeries[0].findMaxBounds(this.accumulation.visibleSeries[0].labelBound,u.labelRegion),u.labelPosition==="Outside"){var T=w(g+"connector_"+u.index),B=T?T.getAttribute("d"):"",_=this.accumulation.renderer.drawPath(new pe(g+"connector_"+u.index,"transparent",t.connectorStyle.width,t.connectorStyle.color||u.color,1,t.connectorStyle.dashArray,this.getConnectorPath(se({},u.labelRegion,null,!0),u,t,u.labelAngle)));Y(!1,m,_,l,!0,null,null,null,B,!1,!1,null,this.accumulation.duration)}Y(!1,i,m,l)}else w(m.id)&&w(m.id).parentNode.removeChild(w(m.id))}}this.accumulation.type==="Pie"&&t.textWrap==="Normal"&&t.textOverflow==="Clip"&&this.dataLabelClipPath(t,i)},s.prototype.dataLabelClipPath=function(e,t){var i=this.accumulation.element.id+"_datalabel_Series_0_",a=this.accumulation.renderer.createClipPath({id:i+"clipPath"}),l,n=this.accumulation.pieSeriesModule.pieBaseRadius;if(e.position==="Inside")l=this.accumulation.renderer.drawCircle(new hi(i+"clipPath_rect","transparent",{width:0},0,this.center.x,this.center.y,n));else if(e.maxWidth){var r=this.center.x-n-P(e.connectorStyle.length||"4%",n)-e.maxWidth,h=this.center.y-n-P(e.connectorStyle.length||"4%",n)-e.maxWidth,o=(n+P(e.connectorStyle.length||"4%",n)+e.maxWidth)*2,c=o;if(this.accumulation.legendSettings.visible){var u=this.accumulation.accumulationLegendModule;u.position==="Left"?(c=u.legendBounds.x+u.legendBounds.width-r>0?c-(u.legendBounds.width-r):c,r=u.legendBounds.x+u.legendBounds.width<r?r:u.legendBounds.x+u.legendBounds.width):u.position==="Right"&&(c=r+c-u.legendBounds.x>0?c-(r+c-u.legendBounds.x):c)}l=this.accumulation.renderer.drawRectangle(new Le(i+"clipPath_rect","transparent",{width:0},0,new k(r,h,o,c),0,0))}(e.position==="Inside"||e.maxWidth)&&(a.appendChild(l),Y(!1,this.accumulation.svgObject,a),t.style.cssText="clip-path:url(#"+a.id+")")},s.prototype.finalizeDatalabels=function(e,t,i){if((this.isOverlapping(e,t)||this.titleRect&&e.labelRegion&&I(e.labelRegion,this.titleRect))&&this.isCircular()&&e.labelPosition==="Outside"&&this.accumulation.enableSmartLabels&&this.setPointVisibileFalse(e),this.accumulation.accumulationLegendModule&&this.accumulation.legendSettings.visible&&e.labelVisible&&e.labelRegion&&(!i.maxWidth&&(i.textOverflow!=="Clip"||i.textWrap!=="Normal"))){var a=this.accumulation.accumulationLegendModule.legendBounds;this.accumulation.visibleSeries[0].type!=="Pie"&&this.accumulation.legendSettings.position==="Left"&&i.position==="Outside"&&(e.labelRegion.x=e.labelRegion.x+a.width);var l=this.accumulation.legendSettings.border.width/2;this.textTrimming(e,new k(a.x-l,a.y-l,a.width+2*l,a.height+2*l),i.font,this.accumulation.accumulationLegendModule.position,i)}if(e.labelVisible&&e.labelRegion&&(!i.maxWidth&&(i.textOverflow!=="Clip"||i.textWrap!=="Normal"))){var n=this.isCircular()?e.labelRegion.x>=this.center.x?"InsideRight":"InsideLeft":e.labelRegion.x>=e.region.x?"InsideRight":"InsideLeft";this.textTrimming(e,this.areaRect,i.font,n,i)}e.labelVisible&&e.labelRegion&&!i.maxWidth&&i.textOverflow!=="Clip"&&this.accumulation.enableSmartLabels&&(e.labelRegion.y+e.labelRegion.height/2>this.areaRect.y+this.areaRect.height||e.labelRegion.y<this.areaRect.y||e.labelRegion.x<this.areaRect.x||e.labelRegion.x+e.labelRegion.width>this.areaRect.x+this.areaRect.width)&&this.setPointVisibileFalse(e)},s.prototype.getTemplateSize=function(e,t,i,a,l,n,r,h,o){e=ui(e,t.index,i.template,this.accumulation,t,this.accumulation.visibleSeries[0],this.accumulation.element.id+"_DataLabel",0,i,l,n,r,h,o,a);var c=ci(e,a);return{width:c.width,height:c.height}},s.prototype.setTemplateStyle=function(e,t,i,a,l,n){if(e.style.left=t.labelRegion.x+"px",e.style.top=t.labelRegion.y+"px",e.style.color=a||this.getSaturatedColor(t,t.labelPosition==="Inside"?l:this.getLabelBackground(t)),this.accumulation.isBlazor){var r=this.isCircular()?t.labelRegion.x>=this.center.x?"InsideRight":"InsideLeft":t.labelRegion.x>=t.region.x?"InsideRight":"InsideLeft";r==="InsideRight"?e.style.transform="translate(0%, -50%)":e.style.transform="translate(-100%, -50%)"}e.childElementCount&&(Y(!1,i,e,n,!0,"left","top"),this.doTemplateAnimation(this.accumulation,e))},s.prototype.getSaturatedColor=function(e,t){var i;this.marginValue>=1?i=t==="transparent"?this.getLabelBackground(e):t:i=this.getLabelBackground(e),i=i==="transparent"?this.accumulation.theme.indexOf("Dark")>-1||this.accumulation.theme.indexOf("HighContrast")>-1?"black":"white":i;var a=di(gi(i)),l=Math.round((a.r*299+a.g*587+a.b*114)/1e3);return this.accumulation.theme==="Bootstrap5"?"#212529":this.accumulation.theme==="Bootstrap5Dark"?"#DEE2E6":l>=128?"black":"white"},s.prototype.doTemplateAnimation=function(e,t){var i=e.visibleSeries[0],a=i.animation.delay+i.animation.duration;(i.animation.enable&&U!=="Disable"||U==="Enable")&&e.animateSeries&&(t.style.visibility="hidden",mi(t,a,200,"ZoomIn"))},s.prototype.getLabelBackground=function(e){return e.labelPosition==="Outside"?this.accumulation.background||this.accumulation.themeStyle.background:e.y?e.color:this.accumulation.theme.indexOf("dark")?"white":"black"},s.prototype.correctLabelRegion=function(e,t,i){i===void 0&&(i=4),e.height-=i,e.width-=i,e.x+=i/2,e.y+=i/2,t.height-=i,t.width-=i},s.prototype.getModuleName=function(){return"AccumulationDataLabel"},s.prototype.destroy=function(){},s.prototype.extendedLabelsCalculation=function(){var e=this,t=this.accumulation.series[0];t.rightSidePoints.forEach(function(i,a,l){i.initialLabelRegion=i.labelRegion,i.isLabelUpdated=0,e.skipPoints(i,l,a)}),t.leftSidePoints.forEach(function(i,a,l){i.initialLabelRegion=i.labelRegion,i.isLabelUpdated=0,e.skipPoints(i,l,a)}),this.arrangeLeftSidePoints(t),this.isIncreaseAngle=!1,this.arrangeRightSidePoints(t)},s.prototype.arrangeRightSidePoints=function(e){var t,i,a=e.rightSidePoints.filter(function(u){return u.labelVisible&&u.labelPosition==="Outside"});this.rightSideRenderingPoints=a;var l,n,r=a[a.length-1],h;r&&r.labelAngle>90&&r.labelAngle<270&&(this.isIncreaseAngle=!0,this.changeLabelAngle(r,89));for(var o=a.length-1;o>=0;o--)if(n=a[o],h=a[o+1],this.isOverlapWithNext(n,a,o)&&n.labelVisible||!(n.labelAngle<=90||n.labelAngle>=270))if(l=r.labelAngle+10,i=!0,t?this.isIncreaseAngle=!1:l>90&&l<270&&h.isLabelUpdated&&(this.isIncreaseAngle=!0),this.isIncreaseAngle)for(var c=o+1;c>0;c--)this.decreaseAngle(a[c],a[c-1],e,!0);else for(var c=o+1;c<a.length;c++)this.increaseAngle(a[c-1],a[c],e,!0);else i&&h&&!h.isLabelUpdated&&(t=!0)},s.prototype.arrangeLeftSidePoints=function(e){var t=this,i=e.leftSidePoints.filter(function(c){return c.labelVisible&&c.labelPosition==="Outside"});this.leftSideRenderingPoints=i;for(var a,l,n,r,h=0;h<i.length;h++)if(l=i[h],a=i[h-1],this.isOverlapWithPrevious(l,i,h)&&l.labelVisible||!(l.labelAngle<270))if(n=!0,r&&(this.isIncreaseAngle=!1),this.isIncreaseAngle)for(var o=h;o<i.length;o++)this.increaseAngle(i[o-1],i[o],e,!1);else for(var o=h;o>0;o--)this.decreaseAngle(i[o],i[o-1],e,!1),i.filter(function(c,u){c.isLabelUpdated&&i[u].labelAngle-10<100&&(t.isIncreaseAngle=!0)});else n&&a&&a.isLabelUpdated&&(r=!0)},s.prototype.decreaseAngle=function(e,t,i,a){if(C(e)||C(t))return null;var l=1;if(a)for(;I(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&!(t.labelRegion.height+t.labelRegion.y<e.labelRegion.y);){var n=t.midAngle-l;if(n<0&&(n=360+n),n<=270&&n>=90){n=270,this.isIncreaseAngle=!0;break}this.changeLabelAngle(t,n),l++}else for(e.labelAngle>270&&(this.changeLabelAngle(e,270),t.labelAngle=270);I(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&e.labelRegion.y+e.labelRegion.height>t.labelRegion.y;){var n=t.midAngle-l;if(!(n<=270&&n>=90)){n=90,this.isIncreaseAngle=!0;break}if(this.changeLabelAngle(t,n),I(e.labelRegion,t.labelRegion)&&!i.leftSidePoints.indexOf(t)&&n-1<90&&n-1>270){this.changeLabelAngle(e,e.labelAngle+1),this.arrangeLeftSidePoints(i);break}l++}},s.prototype.increaseAngle=function(e,t,i,a){if(C(e)||C(t))return null;var l=1;if(a)for(;I(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&!(e.labelRegion.y+e.labelRegion.height<t.labelRegion.y);){var n=t.midAngle+l;if(n<270&&n>90){n=90,this.isIncreaseAngle=!0;break}if(this.changeLabelAngle(t,n),I(e.labelRegion,t.labelRegion)&&n+1>90&&n+1<270&&this.rightSideRenderingPoints.indexOf(t)===this.rightSideRenderingPoints.length-1){this.changeLabelAngle(e,e.labelAngle-1),t.labelRegion=t.initialLabelRegion,this.arrangeRightSidePoints(i);break}if(l>360)break;l++}else for(;I(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&e.labelRegion.y<t.labelRegion.y+t.labelRegion.height;){var n=t.midAngle+l;if(!(n<270&&n>90)){n=270,this.isIncreaseAngle=!1;break}if(this.changeLabelAngle(t,n),l>360)break;l++}},s.prototype.changeLabelAngle=function(e,t){var i=this.accumulation.series[0].dataLabel,a;this.isVariousRadius()&&(a=this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e));var l=e.labelPosition==="Outside"&&this.accumulation.enableSmartLabels&&i.position==="Inside"?this.radius+P(i.connectorStyle.length||"4%",this.accumulation.pieSeriesModule.size/2):this.isVariousRadius()?a:this.accumulation.pieSeriesModule.labelRadius+10,n=this.isVariousRadius()?a:l;this.getLabelRegion(e,"Outside",e.textSize,n,this.marginValue,t),e.isLabelUpdated=1,e.labelAngle=t},s.prototype.isOverlapWithPrevious=function(e,t,i){for(var a=0;a<i;a++)if(a!==t.indexOf(e)&&t[a].visible&&t[a].labelVisible&&t[a].labelRegion&&e.labelRegion&&e.labelVisible&&I(e.labelRegion,t[a].labelRegion))return!0;return!1},s.prototype.isOverlapWithNext=function(e,t,i){for(var a=i;a<t.length;a++)if(a!==t.indexOf(e)&&t[a].visible&&t[a].labelVisible&&t[a].labelRegion&&e.labelRegion&&e.labelVisible&&I(e.labelRegion,t[a].labelRegion))return!0;return!1},s.prototype.skipPoints=function(e,t,i){if(i>0&&(e.midAngle<285&&e.midAngle>255||e.midAngle<105&&e.midAngle>75)){var a=t[i-1],l=e.endAngle%360-e.startAngle%360,n=a.endAngle%360-a.startAngle%360;n<=l&&l<5&&a.labelVisible&&this.setPointVisibleTrue(e)}else if(i>1&&(e.midAngle<300&&e.midAngle>240||e.midAngle<120&&e.midAngle>60)){var r=t[i-1],h=t[i-2],l=e.endAngle%360-e.startAngle%360,n=r.endAngle%360-r.startAngle%360,o=h.endAngle%360-h.startAngle%360;l<3&&n<3&&o<3&&r.labelVisible&&e.labelVisible&&this.setPointVisibleTrue(e)}},s.prototype.getPerpendicularDistance=function(e,t){var i,a=10,l=a+10*Math.sin(t.midAngle*Math.PI/360);return t.midAngle>270&&t.midAngle<360?i=new j(e.x+l*Math.cos((360-t.midAngle)*Math.PI/180),e.y-l*Math.sin((360-t.midAngle)*Math.PI/180)):t.midAngle>0&&t.midAngle<90?i=new j(e.x+l*Math.cos(t.midAngle*Math.PI/180),e.y+l*Math.sin(t.midAngle*Math.PI/180)):t.midAngle>0&&t.midAngle<90?i=new j(e.x-l*Math.cos((t.midAngle-90)*Math.PI/180),e.y+l*Math.sin((t.midAngle-90)*Math.PI/180)):i=new j(e.x-l*Math.cos((t.midAngle-180)*Math.PI/180),e.y-l*Math.sin((t.midAngle-180)*Math.PI/180)),i},s}(Ee),Hi=globalThis&&globalThis.__extends||function(){var d=function(s,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},d(s,e)};return function(s,e){d(s,e);function t(){this.constructor=s}s.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vi=function(d){Hi(s,d);function s(e){var t=d.call(this,e)||this;return t.accumulation=e,t.addEventListener(),t.template=t.accumulation.tooltip.template,t}return s.prototype.addEventListener=function(){this.accumulation.isDestroyed||(this.accumulation.on(O.isPointer?"pointerleave":"mouseleave",this.mouseLeaveHandler,this),this.accumulation.on(O.touchMoveEvent,this.mouseMoveHandler,this),this.accumulation.on(O.touchEndEvent,this.mouseUpHandler,this))},s.prototype.mouseLeaveHandler=function(){this.removeTooltip(this.accumulation.tooltip.fadeOutDuration)},s.prototype.mouseUpHandler=function(e){var t=this.accumulation;t.tooltip.enable&&t.isTouch&&Pe(t.mouseX,t.mouseY,t.initialClipRect)&&(this.tooltip(e),this.removeTooltip(2e3))},s.prototype.mouseMoveHandler=function(e){var t=this.accumulation;t.tooltip.enable&&Pe(t.mouseX,t.mouseY,t.initialClipRect)&&this.tooltip(e)},s.prototype.tooltip=function(e){this.renderSeriesTooltip(this.accumulation,this.getPieData(e,this.accumulation))},s.prototype.renderSeriesTooltip=function(e,t){var i=this.getElement(this.element.id+"_tooltip_svg"),a=i&&parseInt(i.getAttribute("opacity"),10)>0,l=this.getTooltipElement(a),n=!a;if(this.currentPoints=[],t.point&&(!this.previousPoints[0]||this.previousPoints[0].point!==t.point)){if(this.previousPoints[0]&&t.point.index===this.previousPoints[0].point.index&&t.series.index===this.previousPoints[0].series.index)return null;this.pushData(t,n,l,!1)&&this.triggerTooltipRender(t,n,this.getTooltipText(t,e.tooltip),this.findHeader(t))}else!t.point&&this.isRemove&&(this.removeTooltip(this.accumulation.tooltip.fadeOutDuration),this.isRemove=!1)},s.prototype.triggerTooltipRender=function(e,t,i,a){var l=this,n=this.chart.tooltip,r={cancel:!1,name:Xe,text:i,point:e.point,textStyle:this.textStyle,series:this.accumulation.isBlazor?{}:e.series,headerText:a,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,pointIndex:e.point.index,pointText:e.point.text,seriesName:e.series.name}},h=function(o){o.cancel?(l.removeHighlight(),qe(l.getElement(l.element.id+"_tooltip"))):(l.formattedText=l.formattedText.concat(o.text),l.text=l.formattedText,l.headerText=o.headerText,l.createTooltip(l.chart,t,{x:n.location.x!==null?n.location.x:e.point.symbolLocation.x,y:n.location.y!==null?n.location.y:e.point.symbolLocation.y},e.series.clipRect,e.point,n.enableMarker?["Circle"]:[],0,l.chart.initialClipRect,!1,null,e.point,l.template?l.accumulation.enableHtmlSanitizer?l.accumulation.sanitize(l.template):o.template:"")),l.isRemove=!0};h.bind(this,e),this.chart.trigger(Xe,r,h)},s.prototype.getPieData=function(e,t){var i=e.target,a=le(i.id,!0);if(!isNaN(a.series)){var l=a.series,n=a.point;if(!C(l)&&!isNaN(l)&&!C(n)&&!isNaN(n)){var r=this.getSeriesFromIndex(l,t.visibleSeries);if(r.enableTooltip)return new ae(r.points[n],r)}}return new ae(null,null)},s.prototype.getSeriesFromIndex=function(e,t){return t[0]},s.prototype.getTooltipText=function(e,t){var i=e.series,a=t.format?t.format:"${point.x} : <b>${point.y}</b>";return a=this.accumulation.useGroupingSeparator?a.replace("${point.y}","${point.separatorY}"):a,this.parseTemplate(e.point,i,a)},s.prototype.findHeader=function(e){return this.header===""?"":(this.header=this.parseTemplate(e.point,e.series,this.header),this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()!==""?this.header:"")},s.prototype.parseTemplate=function(e,t,i){for(var a,l,n=RegExp,r=0,h=Object.keys(e);r<h.length;r++){var o=h[r];a=new n("${point."+o+"}","gm");var c=o==="x"&&this.accumulation.useGroupingSeparator&&typeof e[o]=="number"?this.accumulation.intl.formatNumber(e.x,{useGrouping:!0}):e[o];i=i.replace(a.source,c)}for(var u=0,g=Object.keys(Object.getPrototypeOf(t));u<g.length;u++){var o=g[u];a=new n("${series."+o+"}","gm"),l=t[o],i=i.replace(a.source,l)}return i},s.prototype.getModuleName=function(){return"AccumulationTooltip"},s.prototype.destroy=function(){},s}(fi),st=globalThis&&globalThis.__extends||function(){var d=function(s,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},d(s,e)};return function(s,e){d(s,e);function t(){this.constructor=s}s.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ui=function(d){st(s,d);function s(){return d!==null&&d.apply(this,arguments)||this}return s.moduleName="accumulationSeries",s.complexTemplate={"dataLabel.template":"dataLabel.template"},s}(tt),Yi=function(d){st(s,d);function s(){return d!==null&&d.apply(this,arguments)||this}return s.propertyName="series",s.moduleName="accumulationSeriesCollection",s}(tt),Xi=globalThis&&globalThis.__extends||function(){var d=function(s,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},d(s,e)};return function(s,e){d(s,e);function t(){this.constructor=s}s.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lt=function(d){Xi(s,d);function s(e){var t=d.call(this,e)||this;return t.initRenderCalled=!1,t.checkInjectedModules=!0,t.directivekeys={accumulationSeriesCollection:"accumulationSeries",accumulationAnnotations:"accumulationAnnotation"},t.statelessTemplateProps=null,t.templateProps=null,t.immediateRender=!1,t.isReactMock=!0,t.portals=[],t}return s.prototype.render=function(){if(this.isReactMock=!1,(this.element&&!this.initRenderCalled||this.refreshing)&&!this.isReactForeceUpdate)d.prototype.render.call(this),this.initRenderCalled=!0;else return W.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals))},s}(ji);pi(lt,[vi,W.Component]);function Ge({id:d,title:s,data:e}){const{t,i18n:i}=ie(),a=pt();return f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"text-center font-bold text-lg",children:s?`${t(D.stock.repartition)} ${s}`:t(D.stock.eggByType)}),f.jsxs(lt,{id:d,legendSettings:{visible:!0},tooltip:{enable:!0},la:!0,children:[f.jsx(yi,{services:[Oe,zi,Wi,Vi]}),f.jsx(Yi,{children:f.jsx(Ui,{dataSource:e,palettes:["#61EFCD","#CDDE1F","#2485FA","#F57D7D","#FEC200","#8854D9","#3D4EB8","#C152D2","#CA765A","#00BCD7","#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"],xName:"x",yName:"y",type:"Pie",innerRadius:"65%",dataLabel:{visible:!0,position:"Outside",name:"text",font:{color:a.palette.text.primary,fontWeight:"bold"}}})})]})]})}function $i({magazin:d,filterData:s}){Pt.locale("fr");const{t:e,i18n:t}=ie(),i=bi({initialValues:{date:null,warehouse:""},validationSchema:xi({}),onSubmit:async(a,{resetForm:l,setErrors:n})=>{s(a)},onReset:()=>{s("")}});return f.jsxs(de,{defaultExpanded:!0,children:[f.jsx(ge,{expandIcon:f.jsx(fe,{}),"aria-controls":"panel1-content",id:"panel1-header",children:f.jsxs("h3",{className:"font-bold text-lg",children:[f.jsx(Mi,{}),e(D.global.filter)]})}),f.jsx(me,{children:f.jsx(it,{children:f.jsx(Si,{children:f.jsx("form",{noValidate:!0,onSubmit:i.handleSubmit,onReset:i.handleReset,children:f.jsxs(X,{container:!0,gap:2,alignItems:"center",children:[f.jsx(X,{items:!0,xs:12,md:4,sm:5,children:f.jsxs(vt,{style:{width:"100%"},children:[f.jsx(yt,{id:"batiment-id",children:e(D.magazin.Nom)}),f.jsx(bt,{labelId:"batiment-id",id:"demo-simple-select",onBlur:i.handleBlur,name:"warehouse",onChange:i.handleChange,value:i.values.warehouse,label:e(D.batiment.Nom),children:d==null?void 0:d.map(a=>f.jsx(xt,{value:a.id,children:a.name}))})]})}),f.jsx(X,{item:!0,xs:12,md:4,sm:5,alignItems:"center",children:f.jsx(wi,{value:i.values.date,onChange:a=>i.setFieldValue("date",a),onBlur:i.handleBlur,label:e(D.entrer.date),name:"date",fullWidth:!0,slotProps:{textField:{variant:"outlined",error:!!(i.touched.date&&i.errors.date),helperText:i.touched.date&&i.errors.date}}})}),f.jsx(X,{item:!0,xs:12,sm:12,md:3,children:f.jsxs("div",{className:"flex justify-end",children:[f.jsx(Be,{type:"submit",variant:"contained",style:{margin:"0 5px"},children:e(D.global.filter)}),f.jsx(Be,{variant:"contained",type:"reset",children:e(D.global.reset)})]})})]})})})})})]})}const Ce=["#C2185B","#F8BBD0","#E91E63","#FF5252","#7B1FA2","#E1BEE7","#7C4DFF","#303F9F","#388E3C","#5D4037","#FFEB3B","#FF5722","#E91E63","#03A9F4","#00BCD4","#009688","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF5722","#795548","#607D8B","#3F51B5","#2196F3","#F44336","#9C27B0","#9E9E9E","#00E676","#FF6D00"];function Gi(){var b;const{t:d,i18n:s}=ie(),[e,t]=W.useState(),[i,a]=W.useState(d(D.magazin.title)),l=re({queryKey:["fetchData",e],queryFn:()=>oe.fetchStock(e)}),n=re("fetchEggTypes",oe.getClass),r=re("fetchTotalByWarehouse",oe.fetchTotalByWarehouse),h=re("fetchMagazin",oe.getWarehouseSelect),[o,c]=W.useState(),[u,g]=W.useState(),m=JSON.parse(sessionStorage.getItem("user"));W.useEffect(()=>{if(!l.isLoading){let x=l.data.total_stock.map((M,A)=>({x:M.egg_class,y:M.total_quantity,text:M.egg_class,fill:Ce[A]}));g(x)}if(!r.isLoading&&e==null){let x=r.data.map((M,A)=>({x:M.warehouse_name,y:M.total_quantity,text:M.warehouse_name,fill:Ce[A]}));c(x)}if(!l.isLoading&&e!==void 0&&(e==null?void 0:e.warehouse)!==""){a(m!=null&&m.is_eleveur?d(D.batiment.title):d(D.fournisseur.title));let x=l.data.eggsource_stock.map((M,A)=>{const R=M.values.reduce((T,B)=>Number(T)+Number(B.total_quantity),0);return{x:M.eggsource_name,y:R,text:M.eggsource_name,fill:Ce[A]}});c(x)}},[l.isLoading,r.isLoading]);const p=x=>{t(x)};return f.jsx(Ai,{maxWidth:"xl",children:f.jsxs(he,{spacing:4,children:[f.jsx(he,{direction:"row",justifyContent:"space-between",spacing:4,children:f.jsx(he,{spacing:1,children:f.jsx(St,{variant:"h4",children:d(D.nav.stock)})})}),f.jsxs(it,{sx:{padding:"10px"},children:[f.jsx($i,{magazin:h.data,filterData:p}),f.jsxs(de,{defaultExpanded:!0,children:[f.jsx(ge,{expandIcon:f.jsx(fe,{}),"aria-controls":"panel1-content",id:"panel1-header",children:d(D.stock.stockTotal)}),f.jsx(me,{children:f.jsx(Ci,{eggTotal:(b=l==null?void 0:l.data)==null?void 0:b.total_stock,isLoading:l.isLoading})})]}),f.jsxs(de,{children:[f.jsx(ge,{expandIcon:f.jsx(fe,{}),"aria-controls":"panel1-content",id:"panel1-header",children:d(D.stock.table)}),f.jsx(me,{children:!l.isLoading&&f.jsx(Ri,{count:l.data.eggsource_stock.length,rowsPerPage:25,eggType:n.data,items:l.data.eggsource_stock})})]}),f.jsxs(de,{children:[f.jsx(ge,{expandIcon:f.jsx(fe,{}),"aria-controls":"panel1-content",id:"panel1-header",children:d(D.stock.curves)}),f.jsx(me,{children:f.jsxs(X,{container:!0,children:[f.jsx(X,{item:!0,xs:12,sm:12,md:6,children:o&&f.jsx(Ge,{id:"curbe1",title:i,data:o})}),f.jsx(X,{item:!0,xs:12,sm:12,md:6,children:u&&f.jsx(Ge,{id:"curbe2",data:u})})]})})]})]})]})})}function qi(){return f.jsx(f.Fragment,{children:f.jsx(Lt,{component:"main",sx:{flexGrow:1,py:8},children:f.jsx(Ke,{children:f.jsx(Gi,{})})})})}function aa(){const{t:d,i18n:s}=ie();return f.jsxs(f.Fragment,{children:[f.jsx(Mt,{title:`ESM | ${d(D.nav.stock)}`}),f.jsx(Ke,{children:f.jsx(qi,{})})]})}export{aa as default};
