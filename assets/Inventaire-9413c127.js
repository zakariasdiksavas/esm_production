import{o as de,n as ce,s as O,_,r as f,x as ue,y as X,bq as Re,br as ke,j as e,z as me,A as he,c as pe,bs as Te,q as xe,t as Ie,bt as _e,bu as Me,bv as De,bw as Ne,aa as U,d as q,B as Fe,ab as $e,l as o,a9 as se,a2 as K,bx as h,h as V,aj as k,ak as D,al as N,am as w,i as qe,a as A,ae as L,T as ee,af as te,F as P,k as ge,a5 as I,S as We}from"./index-5b79c039.js";import{e as ze,T as Ee,a as Pe,b as Z,c as y,d as Ge,f as Ue,G as b,u as Y,S as E,h as H,B as oe,E as fe}from"./moment-864131f4.js";import{E as Ve,P as Ae,M as Oe}from"./ModalDelete-04bd8acd.js";import{T as Le,C as je}from"./TableRowsLoader-23cb4167.js";import{A as Ye}from"./AlertError-96b329d4.js";import{D as He}from"./DeleteOutlineOutlined-32598299.js";import{u as re,c as ne,C as ve,b as Je,d as F}from"./formik.esm-f8b1f355.js";import{m as G}from"./fr-4efeb1d7.js";import{M as be}from"./ModalConfirm-575c2085.js";import{S as Qe,F as J}from"./FormControlLabel-78628ecd.js";import{D as Ce}from"./DateTimePicker-2dfbc613.js";import"./Tabs-0c73418c.js";function Ze(r){return de("MuiFormGroup",r)}ce("MuiFormGroup",["root","row","error"]);const Ke=["className","row"],Xe=r=>{const{classes:a,row:d,error:n}=r;return he({root:["root",d&&"row",n&&"error"]},Ze,a)},et=O("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(r,a)=>{const{ownerState:d}=r;return[a.root,d.row&&a.row]}})(({ownerState:r})=>_({display:"flex",flexDirection:"column",flexWrap:"wrap"},r.row&&{flexDirection:"row"})),tt=f.forwardRef(function(a,d){const n=ue({props:a,name:"MuiFormGroup"}),{className:t,row:x=!1}=n,m=X(n,Ke),u=Re(),l=ke({props:n,muiFormControl:u,states:["error"]}),B=_({},n,{row:x,error:l.error}),g=Xe(B);return e.jsx(et,_({className:me(g.root,t),ownerState:B,ref:d},m))}),ot=tt,rt=pe(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),nt=pe(e.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),st=O("span")({position:"relative",display:"flex"}),at=O(rt)({transform:"scale(1)"}),it=O(nt)(({theme:r,ownerState:a})=>_({left:0,position:"absolute",transform:"scale(0)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeIn,duration:r.transitions.duration.shortest})},a.checked&&{transform:"scale(1)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.shortest})}));function Se(r){const{checked:a=!1,classes:d={},fontSize:n}=r,t=_({},r,{checked:a});return e.jsxs(st,{className:d.root,ownerState:t,children:[e.jsx(at,{fontSize:n,className:d.background,ownerState:t}),e.jsx(it,{fontSize:n,className:d.dot,ownerState:t})]})}const lt=f.createContext(void 0),ye=lt;function dt(){return f.useContext(ye)}function ct(r){return de("MuiRadio",r)}const ut=ce("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),ae=ut,mt=["checked","checkedIcon","color","icon","name","onChange","size","className"],ht=r=>{const{classes:a,color:d}=r,n={root:["root",`color${xe(d)}`]};return _({},a,he(n,ct,a))},pt=O(Qe,{shouldForwardProp:r=>Te(r)||r==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(r,a)=>{const{ownerState:d}=r;return[a.root,a[`color${xe(d.color)}`]]}})(({theme:r,ownerState:a})=>_({color:(r.vars||r).palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:r.vars?`rgba(${a.color==="default"?r.vars.palette.action.activeChannel:r.vars.palette[a.color].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Ie(a.color==="default"?r.palette.action.active:r.palette[a.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},a.color!=="default"&&{[`&.${ae.checked}`]:{color:(r.vars||r).palette[a.color].main}},{[`&.${ae.disabled}`]:{color:(r.vars||r).palette.action.disabled}}));function xt(r,a){return typeof a=="object"&&a!==null?r===a:String(r)===String(a)}const ie=e.jsx(Se,{checked:!0}),le=e.jsx(Se,{}),gt=f.forwardRef(function(a,d){var n,t;const x=ue({props:a,name:"MuiRadio"}),{checked:m,checkedIcon:u=ie,color:l="primary",icon:B=le,name:g,onChange:C,size:s="medium",className:i}=x,T=X(x,mt),p=_({},x,{color:l,size:s}),c=ht(p),M=dt();let j=m;const S=_e(C,M&&M.onChange);let R=g;return M&&(typeof j>"u"&&(j=xt(M.value,x.value)),typeof R>"u"&&(R=M.name)),e.jsx(pt,_({type:"radio",icon:f.cloneElement(B,{fontSize:(n=le.props.fontSize)!=null?n:s}),checkedIcon:f.cloneElement(u,{fontSize:(t=ie.props.fontSize)!=null?t:s}),ownerState:p,classes:c,name:R,checked:j,onChange:S,ref:d,className:me(c.root,i)},T))}),Q=gt,ft=["actions","children","defaultValue","name","onChange","value"],jt=f.forwardRef(function(a,d){const{actions:n,children:t,defaultValue:x,name:m,onChange:u,value:l}=a,B=X(a,ft),g=f.useRef(null),[C,s]=Me({controlled:l,default:x,name:"RadioGroup"});f.useImperativeHandle(n,()=>({focus:()=>{let c=g.current.querySelector("input:not(:disabled):checked");c||(c=g.current.querySelector("input:not(:disabled)")),c&&c.focus()}}),[]);const i=De(d,g),T=Ne(m),p=f.useMemo(()=>({name:T,onChange(c){s(c.target.value),u&&u(c,c.target.value)},value:C}),[T,u,s,C]);return e.jsx(ye.Provider,{value:p,children:e.jsx(ot,_({role:"radiogroup",ref:i},B,{children:t}))})}),we=jt,vt=f.memo(r=>{const a=JSON.parse(sessionStorage.getItem("user")),d=U();let{count:n=0,items:t=[],onDeselectAll:x,onDeselectOne:m,onSelectAll:u,onSelectOne:l,selected:B=[],isLoading:g,isError:C}=r;const[s,i]=f.useState(1),[T,p]=f.useState(25),{t:c,i18n:M}=q(),j=f.useRef(null),S=(v,z)=>{let $=t.filter(Be=>Be.id==v);d(h.actions.setCurrentData($[0])),d(z?h.actions.openCloseModalUpdate():h.actions.openCloseModalDelete())},R=()=>{const v=j.current;v&&v.scrollHeight===v.scrollTop+v.clientHeight&&!g&&i($=>$+1)};f.useEffect(()=>(j.current&&j.current.addEventListener("scroll",R),()=>{j.current&&j.current.removeEventListener("scroll",R)}),[g]);const W=t==null?void 0:t.slice(0,s*T);return e.jsxs(Fe,{sx:{position:"relative"},children:[e.jsx(ze,{component:$e,sx:{maxHeight:"60vh"},ref:j,children:e.jsxs(Ee,{sx:{minWidth:700},children:[e.jsx(Pe,{children:e.jsxs(Z,{children:[e.jsx(y,{children:a!=null&&a.is_eleveur?c(o.batiment.Nom):c(o.fournisseur.Nom)}),e.jsx(y,{children:c(o.magazin.title)}),e.jsx(y,{children:c(o.sortie.eggType)}),e.jsx(y,{children:c(o.entrer.quantity)}),e.jsx(y,{children:c(o.entrer.date)}),e.jsx(y,{children:c(o.entrer.temps)}),e.jsx(y,{})]})}),g?e.jsx(Le,{rowsNum:10}):e.jsx(Ge,{children:(W==null?void 0:W.length)>0?W==null?void 0:W.map(v=>{let z=new Date(v.date),$={year:z.getFullYear(),month:`${z.getMonth()+1}`,day:`${z.getDate()}`};return e.jsxs(Z,{hover:!0,children:[e.jsx(y,{children:v.eggsource_name}),e.jsx(y,{children:v.warehouse_name}),e.jsx(y,{children:v.eggclass_name}),e.jsxs(y,{sx:{direction:"initial",whiteSpace:"nowrap"},children:[v.is_positive?"+":"-",v.value.toLocaleString("en-US").replaceAll(","," ")]}),e.jsxs(y,{children:[$.day.padStart(2,0),"/",$.month.padStart(2,0),"/",$.year]}),e.jsx(y,{children:v.time.substring(0,5)}),e.jsxs(y,{children:[e.jsx(se,{color:"warning",onClick:()=>S(v.id,!0),children:e.jsx(K,{children:e.jsx(Ve,{})})}),e.jsx(se,{color:"error",onClick:()=>S(v.id,!1),children:e.jsx(K,{children:e.jsx(He,{})})})]})]},v.id)}):e.jsx(Z,{children:e.jsx(y,{colSpan:8,sx:{textAlign:"center"},children:c(o.batiment.nothingToDisplay)})})})]})}),C&&e.jsx(Ye,{})]})});function bt({batiment:r,magazin:a,eggType:d}){Ue.locale("fr");const{t:n,i18n:t}=q(),x=U(),m=JSON.parse(sessionStorage.getItem("user")),u=re({initialValues:{warehouse:"",eggsource:"",classe:""},validationSchema:ne({}),onSubmit:async(l,{resetForm:B,setErrors:g})=>{let C="";for(let s in l)C==""?C+=`?${s}=${l[s]}`:C+=`&${s}=${l[s]}`;V.get("/inventory/list/"+C).then(s=>{x(h.actions.fetchInventaire(s.data))})},onReset:()=>{V.get("/inventory/list/").then(l=>{x(h.actions.fetchInventaire(l.data))})}});return e.jsx(ve,{children:e.jsx(Je,{children:e.jsxs("form",{noValidate:!0,onSubmit:u.handleSubmit,onReset:u.handleReset,children:[e.jsxs(b,{container:!0,alignItems:"center",gap:2,children:[e.jsx(b,{item:!0,xs:12,md:3.8,children:e.jsxs(k,{fullWidth:!0,children:[e.jsx(D,{id:"batiment-id",size:"small",children:m!=null&&m.is_eleveur?n(o.batiment.Nom):n(o.fournisseur.Nom)}),e.jsx(N,{labelId:"batiment-id",id:"demo-simple-select",onBlur:u.handleBlur,fullWidth:!0,size:"small",name:"eggsource",onChange:u.handleChange,value:u.values.eggsource,label:m!=null&&m.is_eleveur?n(o.batiment.Nom):n(o.fournisseur.Nom),children:r==null?void 0:r.map(l=>e.jsxs(w,{value:l.id,children:[l.name," ",l.last_name]}))})]})}),e.jsx(b,{items:!0,xs:12,md:3.8,children:e.jsxs(k,{fullWidth:!0,children:[e.jsx(D,{id:"batiment-id",size:"small",children:n(o.magazin.Nom)}),e.jsx(N,{labelId:"batiment-id",id:"demo-simple-select",onBlur:u.handleBlur,fullWidth:!0,size:"small",name:"warehouse",onChange:u.handleChange,value:u.values.warehouse,label:n(o.batiment.Nom),children:a==null?void 0:a.map(l=>e.jsx(w,{value:l.id,children:l.name}))})]})}),e.jsx(b,{items:!0,xs:12,md:3.8,children:e.jsxs(k,{fullWidth:!0,children:[e.jsx(D,{id:"batiment-id",size:"small",children:n(o.magazin.Nom)}),e.jsx(N,{labelId:"batiment-id",id:"demo-simple-select",onBlur:u.handleBlur,fullWidth:!0,size:"small",name:"classe",onChange:u.handleChange,value:u.values.classe,label:n(o.sortie.eggType),children:d==null?void 0:d.map(l=>e.jsx(w,{value:l.id,children:l.value}))})]})})]}),e.jsxs(qe,{direction:"row",justifyContent:"end",mt:2,spacing:2,children:[e.jsx(A,{variant:"contained",type:"reset",children:n(o.global.reset)}),e.jsx(A,{type:"submit",variant:"contained",children:n(o.global.filter)})]})]})})})}function Ct({magazin:r,batiment:a,eggType:d}){const n=U(),{t,i18n:x}=q(),{inventaire:m}=L(l=>l.inventaire),u=Y("inventaire",H.getInventaire);return f.useEffect(()=>{u.status=="success"&&n(h.actions.fetchInventaire(u.data))},[u.status]),e.jsxs(E,{spacing:4,children:[e.jsxs(E,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(E,{spacing:1,children:e.jsx(ee,{variant:"h4",children:t(o.inventaire.title)})}),e.jsx(E,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(A,{startIcon:e.jsx(K,{children:e.jsx(Ae,{})}),variant:"contained",onClick:()=>n(h.actions.openCloseModalAdd()),children:t(o.global.ajouter)})})]}),e.jsxs(ve,{children:[e.jsx(bt,{batiment:a,magazin:r,eggType:d}),e.jsx(vt,{items:m,isLoading:u.isLoading,count:m.length,rowsPerPage:25,isError:u.isError})]})]})}const St={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function yt({batiment:r,magazin:a,eggType:d}){G.locale("fr");const n=U(),{t,i18n:x}=q(),[m,u]=f.useState(new Date),l=JSON.parse(sessionStorage.getItem("user")),{isModalUpdate:B,currentData:g,isConfirm:C}=L(c=>c.inventaire),s=ne({eggsource:F().required(l!=null&&l.is_eleveur?t(o.entrer.batimentRequired):t(o.entrer.fournisseurRequired)),warehouse:F().required(t(o.entrer.magazinRequired)),option:F().required(t(o.sortie.optionRequired)),value:F().required(t(o.sortie.quantityRequired))}),i=re({initialValues:{eggsource:"",warehouse:"",option:"",value:"",is_positive:"true",dateTime:""},validationSchema:s,onSubmit:async(c,{resetForm:M,setErrors:j})=>{let S={...c};S.date=G(m).format("YYYY-MM-DD"),S.time=G(m).format("LT"),S.is_positive=S.is_positive=="true",V.put("/inventory/update/",S).then(R=>{n(h.actions.editInventaire(R.data)),n(h.actions.openCloseModalUpdate()),n(h.actions.openCloseConfirm()),I.success(t(o.inventaire.toastUpdateSuccess)),M()}).catch(R=>{if(n(h.actions.openCloseConfirm()),R.response.data==2){I.error(t(o.sortie.outOfStock));return}else R.response.data==1?I.error(t(o.sortie.noStockExist)):I.error(t(o.sortie.toastError))})}}),T=c=>{c.preventDefault(),n(h.actions.openCloseConfirm())},p=()=>{i.handleSubmit()};return f.useEffect(()=>{i.setValues(g),g.is_positive?i.setFieldValue("is_positive","true"):i.setFieldValue("is_positive","false"),u(new Date(`${g.date}T${g.time}`)),i.setFieldValue("dateTime",new Date,!1)},[]),e.jsxs(e.Fragment,{children:[e.jsx(te,{open:B,onClose:()=>n(h.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(oe,{sx:St,children:[e.jsxs(E,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(ee,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(o.inventaire.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>n(h.actions.openCloseModalUpdate()),children:e.jsx(je,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:c=>T(c),children:[e.jsxs(b,{container:!0,spacing:2,children:[e.jsx(b,{item:!0,xs:12,md:6,children:e.jsxs(k,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(i.touched.eggsource&&i.errors.eggsource),children:[e.jsx(D,{id:"batiment-id",children:l!=null&&l.is_eleveur?t(o.batiment.Nom):t(o.fournisseur.Nom)}),e.jsx(N,{labelId:"batiment-id",id:"demo-simple-select",onBlur:i.handleBlur,fullWidth:!0,name:"eggsource",onChange:i.handleChange,value:i.values.eggsource,label:l!=null&&l.is_eleveur?t(o.batiment.Nom):t(o.fournisseur.Nom),children:r.length>0?r.map(c=>e.jsx(w,{value:c.id,children:c.name})):e.jsx(w,{children:t(o.batiment.nothingToDisplay)})}),i.touched.eggsource&&i.errors.eggsource&&e.jsx(P,{children:i.errors.eggsource})]})}),e.jsx(b,{item:!0,xs:12,md:6,children:e.jsxs(k,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(i.touched.warehouse&&i.errors.warehouse),children:[e.jsx(D,{id:"batiment-id",children:t(o.magazin.title)}),e.jsx(N,{labelId:"batiment-id",id:"demo-simple-select",onBlur:i.handleBlur,fullWidth:!0,name:"warehouse",onChange:i.handleChange,value:i.values.warehouse,label:t(o.magazin.title),children:a.length>0?a.map(c=>e.jsx(w,{value:c.id,children:c.name})):e.jsx(w,{children:t(o.batiment.nothingToDisplay)})}),i.touched.warehouse&&i.errors.warehouse&&e.jsx(P,{children:i.errors.warehouse})]})}),e.jsx(b,{item:!0,xs:12,md:6,children:e.jsxs(k,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(i.touched.option&&i.errors.option),children:[e.jsx(D,{id:"batiment-id",children:t(o.sortie.eggType)}),e.jsx(N,{labelId:"batiment-id",id:"demo-simple-select",onBlur:i.handleBlur,fullWidth:!0,name:"option",onChange:i.handleChange,value:i.values.option,label:l!=null&&l.is_eleveur?t(o.batiment.Nom):t(o.fournisseur.Nom),children:d.map(c=>e.jsx(w,{value:c.id,children:c.value}))}),i.touched.option&&i.errors.option&&e.jsx(P,{children:i.errors.option})]})}),e.jsx(b,{item:!0,xs:12,md:6,children:e.jsx(Ce,{id:"outlined-basic",label:t(o.entrer.temps)+" "+t(o.entrer.date),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,name:"dateTime",value:m,onChange:c=>{i.setFieldValue("dateTime",c,!0),u(c)},slotProps:{textField:{variant:"outlined",error:!!(i.touched.dateTime&&i.errors.dateTime),helperText:!!(i.touched.dateTime&&i.errors.dateTime)}},sx:{marginBottom:"15px",marginTop:"5px",width:"100%"}})}),e.jsxs(b,{item:!0,xs:12,children:[e.jsx(ge,{id:"outlined-basic",label:t(o.entrer.quantity),variant:"outlined",fullWidth:!0,type:"number",onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.value,error:!!(i.touched.value&&i.errors.value),helperText:i.touched.value&&i.errors.value,name:"value",style:{marginBottom:"1px"}}),e.jsx(k,{children:e.jsxs(we,{"aria-labelledby":"demo-radio-buttons-group-label",value:i.values.is_positive,onBlur:i.handleBlur,onChange:i.handleChange,name:"is_positive",children:[e.jsx(J,{name:"is_positive",value:"true",control:e.jsx(Q,{}),label:t(o.inventaire.increaseStock)}),e.jsx(J,{name:"is_positive",value:"false",control:e.jsx(Q,{}),label:t(o.inventaire.decreaseStock)})]})})]})]}),e.jsx(A,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(o.global.modifier)})]})]})}),e.jsx(be,{confirmed:p,cancel:()=>n(h.actions.openCloseConfirm()),isConfirm:C})]})}const wt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Bt({batiment:r,magazin:a,eggType:d}){G.locale("fr");const n=U(),{t,i18n:x}=q(),[m,u]=f.useState(new Date),l=JSON.parse(sessionStorage.getItem("user")),{isModalAdd:B,isConfirm:g}=L(p=>p.inventaire),C=ne({eggsource:F().required(l!=null&&l.is_eleveur?t(o.entrer.batimentRequired):t(o.entrer.fournisseurRequired)),warehouse:F().required(t(o.entrer.magazinRequired)),option:F().required(t(o.sortie.optionRequired)),value:F().required(t(o.sortie.quantityRequired))}),s=re({initialValues:{eggsource:"",warehouse:"",option:"",value:"",is_positive:"true",dateTime:""},validationSchema:C,onSubmit:async(p,{resetForm:c,setErrors:M})=>{let j={...p};j.date=G(m).format("YYYY-MM-DD"),j.time=G(m).format("LT"),j.is_positive=j.is_positive=="true",V.post("/inventory/add/",j).then(S=>{n(h.actions.addInventaire(S.data)),n(h.actions.openCloseModalAdd()),n(h.actions.openCloseConfirm()),I.success(t(o.inventaire.toastAddSuccess)),c()}).catch(S=>{if(n(h.actions.openCloseConfirm()),S.response.data==2){I.error(t(o.sortie.outOfStock));return}else S.response.data==1?I.error(t(o.sortie.noStockExist)):I.error(t(o.sortie.toastError))})}}),i=p=>{p.preventDefault(),n(h.actions.openCloseConfirm())},T=()=>{s.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(te,{open:B,onClose:()=>n(h.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(oe,{sx:wt,children:[e.jsxs(E,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(ee,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(o.inventaire.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>n(h.actions.openCloseModalAdd()),children:e.jsx(je,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:p=>i(p),children:[e.jsxs(b,{container:!0,spacing:2,children:[e.jsx(b,{item:!0,xs:12,md:6,children:e.jsxs(k,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(s.touched.eggsource&&s.errors.eggsource),children:[e.jsx(D,{id:"batiment-id",children:l!=null&&l.is_eleveur?t(o.batiment.Nom):t(o.fournisseur.Nom)}),e.jsx(N,{labelId:"batiment-id",id:"demo-simple-select",onBlur:s.handleBlur,fullWidth:!0,name:"eggsource",onChange:s.handleChange,value:s.values.eggsource,label:l!=null&&l.is_eleveur?t(o.batiment.Nom):t(o.fournisseur.Nom),children:r.length>0?r.map(p=>e.jsx(w,{value:p.id,children:p.name})):e.jsx(w,{children:t(o.batiment.nothingToDisplay)})}),s.touched.eggsource&&s.errors.eggsource&&e.jsx(P,{children:s.errors.eggsource})]})}),e.jsx(b,{item:!0,xs:12,md:6,children:e.jsxs(k,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(s.touched.warehouse&&s.errors.warehouse),children:[e.jsx(D,{id:"batiment-id",children:t(o.magazin.title)}),e.jsx(N,{labelId:"batiment-id",id:"demo-simple-select",onBlur:s.handleBlur,fullWidth:!0,name:"warehouse",onChange:s.handleChange,value:s.values.warehouse,label:t(o.magazin.title),children:a.length>0?a.map(p=>e.jsx(w,{value:p.id,children:p.name})):e.jsx(w,{children:t(o.batiment.nothingToDisplay)})}),s.touched.warehouse&&s.errors.warehouse&&e.jsx(P,{children:s.errors.warehouse})]})}),e.jsx(b,{item:!0,xs:12,md:6,children:e.jsxs(k,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(s.touched.option&&s.errors.option),children:[e.jsx(D,{id:"batiment-id",children:t(o.sortie.eggType)}),e.jsx(N,{labelId:"batiment-id",id:"demo-simple-select",onBlur:s.handleBlur,fullWidth:!0,name:"option",onChange:s.handleChange,value:s.values.option,label:l!=null&&l.is_eleveur?t(o.batiment.Nom):t(o.fournisseur.Nom),children:d.map(p=>e.jsx(w,{value:p.id,children:p.value}))}),s.touched.option&&s.errors.option&&e.jsx(P,{children:s.errors.option})]})}),e.jsx(b,{item:!0,xs:12,md:6,children:e.jsx(Ce,{id:"outlined-basic",label:t(o.entrer.temps)+" "+t(o.entrer.date),variant:"outlined",onBlur:s.handleBlur,fullWidth:!0,name:"dateTime",value:m,onChange:p=>{s.setFieldValue("dateTime",p,!0),u(p)},slotProps:{textField:{variant:"outlined",error:!!(s.touched.dateTime&&s.errors.dateTime),helperText:!!(s.touched.dateTime&&s.errors.dateTime)}},sx:{marginBottom:"15px",marginTop:"5px",width:"100%"}})}),e.jsxs(b,{item:!0,xs:12,children:[e.jsx(ge,{id:"outlined-basic",label:t(o.entrer.quantity),variant:"outlined",fullWidth:!0,type:"number",onBlur:s.handleBlur,onChange:s.handleChange,value:s.values.value,error:!!(s.touched.value&&s.errors.value),helperText:s.touched.value&&s.errors.value,name:"value",style:{marginBottom:"1px"}}),e.jsx(k,{children:e.jsxs(we,{"aria-labelledby":"demo-radio-buttons-group-label",value:s.values.is_positive,onBlur:s.handleBlur,onChange:s.handleChange,name:"is_positive",children:[e.jsx(J,{name:"is_positive",value:"true",control:e.jsx(Q,{}),label:t(o.inventaire.increaseStock)}),e.jsx(J,{name:"is_positive",value:"false",control:e.jsx(Q,{}),label:t(o.inventaire.decreaseStock)})]})})]})]}),e.jsx(A,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(o.global.ajouter)})]})]})}),e.jsx(be,{confirmed:T,cancel:()=>n(h.actions.openCloseConfirm()),isConfirm:g})]})}function Rt(){const{currentData:r,isModalDelete:a}=L(m=>m.inventaire),d=U(),{t:n,i18n:t}=q();JSON.parse(sessionStorage.getItem("user"));const x=()=>{V.delete(`/inventory/delete/${r.id}`).then(m=>{d(h.actions.deleteInventaire()),d(h.actions.openCloseModalDelete()),I.success(n(o.inventaire.toastDeleteSuccess))}).catch(m=>{d(h.actions.openCloseModalDelete()),I.error(n(o.global.toastError))})};return e.jsx(te,{open:a,onClose:()=>d(h.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(Oe,{title:n(o.inventaire.deleteTitle),message:n(o.inventaire.deleteDescription),deleteFn:x,cancel:()=>d(h.actions.openCloseModalDelete())})})}function kt(){const{isModalAdd:r,isModalUpdate:a}=L(x=>x.inventaire),d=Y("batiment",H.getBatimentSelect),n=Y("magazin",H.getWarehouseSelect),t=Y("eggType",H.getClass);return e.jsxs(oe,{component:"main",sx:{flexGrow:1,p:3},children:[e.jsx(fe,{children:e.jsx(Ct,{magazin:n==null?void 0:n.data,batiment:d==null?void 0:d.data,eggType:t==null?void 0:t.data})}),r&&e.jsx(Bt,{batiment:d.data,magazin:n.data,eggType:t.data}),a&&e.jsx(yt,{batiment:d.data,magazin:n.data,eggType:t.data}),e.jsx(Rt,{})]})}function Pt(){const{t:r,i18n:a}=q();return e.jsxs(e.Fragment,{children:[e.jsx(We,{title:`ESM | ${r(o.nav.inventaire)}`}),e.jsx(fe,{children:e.jsx(kt,{})})]})}export{Pt as default};
