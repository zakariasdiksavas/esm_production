import{n as jt,o as yt,s as De,q as be,_ as oe,t as He,v as bt,w as vt,r as w,x as Ct,y as wt,j as e,z as _t,A as St,D as kt,E as Mt,G as Bt,H as Tt,J as Dt,P as te,K as Et,M as $t,N as Ft,T as b,B as z,O as Nt,i as $,Q as Z,U as Be,a as O,V as H,L as Qe,W as nt,d as R,l as a,k,X as qt,h as L,Y as F,I as It,Z as rt,$ as Ve,a0 as Pt,a1 as J,a2 as U,a3 as Pe,a4 as at,a5 as I,a6 as Y,a7 as ee,a8 as P,a9 as A,aa as q,C as Ae,ab as Fe,ac as Ne,ad as qe,ae as de,F as Ie,af as it,ag as st,S as At,ah as Je,ai as Xe,aj as Ke}from"./index-8b885c7c.js";import{u as zt}from"./use-page-view-4f7ac6b4.js";import{E as Ee,P as we,M as _e}from"./ModalDelete-526b766f.js";import{C as K,b as ie,c as me,a as N,u as pe,d as ue,e as ve,f as ot}from"./formik.esm-8d1d4924.js";import{C as Te}from"./CardHeader-d8006523.js";import{T as fe,a as je,b as Q,c as j,d as ye,u as le,e as ze,P as Re,S as G,h as he,B as ne,E as re,A as Rt,f as se,G as W,g as lt}from"./moment-a4ec633c.js";import{S as Wt}from"./SwitchBase-ecca83f5.js";import{T as We,C as ce}from"./TableRowsLoader-05c4d608.js";import{A as Ue}from"./AlertError-c105f592.js";import{D as Le}from"./DeleteOutlineOutlined-e0c3d916.js";import{C as Ye}from"./Container-d358c3d2.js";import{M as xe}from"./ModalConfirm-d235208a.js";import{D as ge}from"./DatePicker-66d8edae.js";import{E as ct}from"./Edit-dd8a7d84.js";import{D as dt}from"./Delete-674493e8.js";import{C as ut}from"./Check-1d13b081.js";import{T as Lt,a as Ot}from"./Tabs-bdff0dea.js";function Vt(s){return yt("MuiSwitch",s)}const Ut=jt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),X=Ut,Yt=["className","color","edge","size","sx"],Zt=s=>{const{classes:t,edge:h,size:r,color:g,checked:p,disabled:f}=s,c={root:["root",h&&`edge${be(h)}`,`size${be(r)}`],switchBase:["switchBase",`color${be(g)}`,p&&"checked",f&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},o=St(c,Vt,t);return oe({},t,o)},Gt=De("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:h}=s;return[t.root,h.edge&&t[`edge${be(h.edge)}`],t[`size${be(h.size)}`]]}})(({ownerState:s})=>oe({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},s.edge==="start"&&{marginLeft:-8},s.edge==="end"&&{marginRight:-8},s.size==="small"&&{width:40,height:24,padding:7,[`& .${X.thumb}`]:{width:16,height:16},[`& .${X.switchBase}`]:{padding:4,[`&.${X.checked}`]:{transform:"translateX(16px)"}}})),Ht=De(Wt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(s,t)=>{const{ownerState:h}=s;return[t.switchBase,{[`& .${X.input}`]:t.input},h.color!=="default"&&t[`color${be(h.color)}`]]}})(({theme:s})=>({position:"absolute",top:0,left:0,zIndex:1,color:s.vars?s.vars.palette.Switch.defaultColor:`${s.palette.mode==="light"?s.palette.common.white:s.palette.grey[300]}`,transition:s.transitions.create(["left","transform"],{duration:s.transitions.duration.shortest}),[`&.${X.checked}`]:{transform:"translateX(20px)"},[`&.${X.disabled}`]:{color:s.vars?s.vars.palette.Switch.defaultDisabledColor:`${s.palette.mode==="light"?s.palette.grey[100]:s.palette.grey[600]}`},[`&.${X.checked} + .${X.track}`]:{opacity:.5},[`&.${X.disabled} + .${X.track}`]:{opacity:s.vars?s.vars.opacity.switchTrackDisabled:`${s.palette.mode==="light"?.12:.2}`},[`& .${X.input}`]:{left:"-100%",width:"300%"}}),({theme:s,ownerState:t})=>oe({"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette.action.activeChannel} / ${s.vars.palette.action.hoverOpacity})`:He(s.palette.action.active,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${X.checked}`]:{color:(s.vars||s).palette[t.color].main,"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette[t.color].mainChannel} / ${s.vars.palette.action.hoverOpacity})`:He(s.palette[t.color].main,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${X.disabled}`]:{color:s.vars?s.vars.palette.Switch[`${t.color}DisabledColor`]:`${s.palette.mode==="light"?bt(s.palette[t.color].main,.62):vt(s.palette[t.color].main,.55)}`}},[`&.${X.checked} + .${X.track}`]:{backgroundColor:(s.vars||s).palette[t.color].main}})),Qt=De("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(s,t)=>t.track})(({theme:s})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:s.transitions.create(["opacity","background-color"],{duration:s.transitions.duration.shortest}),backgroundColor:s.vars?s.vars.palette.common.onBackground:`${s.palette.mode==="light"?s.palette.common.black:s.palette.common.white}`,opacity:s.vars?s.vars.opacity.switchTrack:`${s.palette.mode==="light"?.38:.3}`})),Jt=De("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(s,t)=>t.thumb})(({theme:s})=>({boxShadow:(s.vars||s).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Xt=w.forwardRef(function(t,h){const r=Ct({props:t,name:"MuiSwitch"}),{className:g,color:p="primary",edge:f=!1,size:c="medium",sx:o}=r,n=wt(r,Yt),i=oe({},r,{color:p,edge:f,size:c}),u=Zt(i),d=e.jsx(Jt,{className:u.thumb,ownerState:i});return e.jsxs(Gt,{className:_t(u.root,g),sx:o,ownerState:i,children:[e.jsx(Ht,oe({type:"checkbox",icon:d,checkedIcon:d,ref:h,ownerState:i},n,{classes:oe({},u,{root:u.switchBase})})),e.jsx(Qt,{className:u.track,ownerState:i})]})}),Ce=Xt;function Oe(s,t){kt(2,arguments);var h=Bt(t);return Mt(s,-h)}var ht={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(s){(function(t,h){s.exports?s.exports=h():t.numeral=h()})(Tt,function(){var t,h,r="2.0.6",g={},p={},f={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:f.currentLocale,zeroFormat:f.zeroFormat,nullFormat:f.nullFormat,defaultFormat:f.defaultFormat,scalePercentBy100:f.scalePercentBy100};function o(n,i){this._input=n,this._value=i}return t=function(n){var i,u,d,l;if(t.isNumeral(n))i=n.value();else if(n===0||typeof n>"u")i=0;else if(n===null||h.isNaN(n))i=null;else if(typeof n=="string")if(c.zeroFormat&&n===c.zeroFormat)i=0;else if(c.nullFormat&&n===c.nullFormat||!n.replace(/[^0-9]+/g,"").length)i=null;else{for(u in g)if(l=typeof g[u].regexps.unformat=="function"?g[u].regexps.unformat():g[u].regexps.unformat,l&&n.match(l)){d=g[u].unformat;break}d=d||t._.stringToNumber,i=d(n)}else i=Number(n)||null;return new o(n,i)},t.version=r,t.isNumeral=function(n){return n instanceof o},t._=h={numberToFormat:function(n,i,u){var d=p[t.options.currentLocale],l=!1,m=!1,x=0,y="",E=1e12,D=1e9,M=1e6,B=1e3,_="",v=!1,C,S,T,V,Se,Ze,ae;if(n=n||0,S=Math.abs(n),t._.includes(i,"(")?(l=!0,i=i.replace(/[\(|\)]/g,"")):(t._.includes(i,"+")||t._.includes(i,"-"))&&(Se=t._.includes(i,"+")?i.indexOf("+"):n<0?i.indexOf("-"):-1,i=i.replace(/[\+|\-]/g,"")),t._.includes(i,"a")&&(C=i.match(/a(k|m|b|t)?/),C=C?C[1]:!1,t._.includes(i," a")&&(y=" "),i=i.replace(new RegExp(y+"a[kmbt]?"),""),S>=E&&!C||C==="t"?(y+=d.abbreviations.trillion,n=n/E):S<E&&S>=D&&!C||C==="b"?(y+=d.abbreviations.billion,n=n/D):S<D&&S>=M&&!C||C==="m"?(y+=d.abbreviations.million,n=n/M):(S<M&&S>=B&&!C||C==="k")&&(y+=d.abbreviations.thousand,n=n/B)),t._.includes(i,"[.]")&&(m=!0,i=i.replace("[.]",".")),T=n.toString().split(".")[0],V=i.split(".")[1],Ze=i.indexOf(","),x=(i.split(".")[0].split(",")[0].match(/0/g)||[]).length,V?(t._.includes(V,"[")?(V=V.replace("]",""),V=V.split("["),_=t._.toFixed(n,V[0].length+V[1].length,u,V[1].length)):_=t._.toFixed(n,V.length,u),T=_.split(".")[0],t._.includes(_,".")?_=d.delimiters.decimal+_.split(".")[1]:_="",m&&Number(_.slice(1))===0&&(_="")):T=t._.toFixed(n,0,u),y&&!C&&Number(T)>=1e3&&y!==d.abbreviations.trillion)switch(T=String(Number(T)/1e3),y){case d.abbreviations.thousand:y=d.abbreviations.million;break;case d.abbreviations.million:y=d.abbreviations.billion;break;case d.abbreviations.billion:y=d.abbreviations.trillion;break}if(t._.includes(T,"-")&&(T=T.slice(1),v=!0),T.length<x)for(var Ge=x-T.length;Ge>0;Ge--)T="0"+T;return Ze>-1&&(T=T.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d.delimiters.thousands)),i.indexOf(".")===0&&(T=""),ae=T+_+(y||""),l?ae=(l&&v?"(":"")+ae+(l&&v?")":""):Se>=0?ae=Se===0?(v?"-":"+")+ae:ae+(v?"-":"+"):v&&(ae="-"+ae),ae},stringToNumber:function(n){var i=p[c.currentLocale],u=n,d={thousand:3,million:6,billion:9,trillion:12},l,m,x;if(c.zeroFormat&&n===c.zeroFormat)m=0;else if(c.nullFormat&&n===c.nullFormat||!n.replace(/[^0-9]+/g,"").length)m=null;else{m=1,i.delimiters.decimal!=="."&&(n=n.replace(/\./g,"").replace(i.delimiters.decimal,"."));for(l in d)if(x=new RegExp("[^a-zA-Z]"+i.abbreviations[l]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),u.match(x)){m*=Math.pow(10,d[l]);break}m*=(n.split("-").length+Math.min(n.split("(").length-1,n.split(")").length-1))%2?1:-1,n=n.replace(/[^0-9\.]+/g,""),m*=Number(n)}return m},isNaN:function(n){return typeof n=="number"&&isNaN(n)},includes:function(n,i){return n.indexOf(i)!==-1},insert:function(n,i,u){return n.slice(0,u)+i+n.slice(u)},reduce:function(n,i){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof i!="function")throw new TypeError(i+" is not a function");var u=Object(n),d=u.length>>>0,l=0,m;if(arguments.length===3)m=arguments[2];else{for(;l<d&&!(l in u);)l++;if(l>=d)throw new TypeError("Reduce of empty array with no initial value");m=u[l++]}for(;l<d;l++)l in u&&(m=i(m,u[l],l,u));return m},multiplier:function(n){var i=n.toString().split(".");return i.length<2?1:Math.pow(10,i[1].length)},correctionFactor:function(){var n=Array.prototype.slice.call(arguments);return n.reduce(function(i,u){var d=h.multiplier(u);return i>d?i:d},1)},toFixed:function(n,i,u,d){var l=n.toString().split("."),m=i-(d||0),x,y,E,D;return l.length===2?x=Math.min(Math.max(l[1].length,m),i):x=m,E=Math.pow(10,x),D=(u(n+"e+"+x)/E).toFixed(x),d>i-x&&(y=new RegExp("\\.?0{1,"+(d-(i-x))+"}$"),D=D.replace(y,"")),D}},t.options=c,t.formats=g,t.locales=p,t.locale=function(n){return n&&(c.currentLocale=n.toLowerCase()),c.currentLocale},t.localeData=function(n){if(!n)return p[c.currentLocale];if(n=n.toLowerCase(),!p[n])throw new Error("Unknown locale : "+n);return p[n]},t.reset=function(){for(var n in f)c[n]=f[n]},t.zeroFormat=function(n){c.zeroFormat=typeof n=="string"?n:null},t.nullFormat=function(n){c.nullFormat=typeof n=="string"?n:null},t.defaultFormat=function(n){c.defaultFormat=typeof n=="string"?n:"0.0"},t.register=function(n,i,u){if(i=i.toLowerCase(),this[n+"s"][i])throw new TypeError(i+" "+n+" already registered.");return this[n+"s"][i]=u,u},t.validate=function(n,i){var u,d,l,m,x,y,E,D;if(typeof n!="string"&&(n+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",n)),n=n.trim(),n.match(/^\d+$/))return!0;if(n==="")return!1;try{E=t.localeData(i)}catch{E=t.localeData(t.locale())}return l=E.currency.symbol,x=E.abbreviations,u=E.delimiters.decimal,E.delimiters.thousands==="."?d="\\.":d=E.delimiters.thousands,D=n.match(/^[^\d]+/),D!==null&&(n=n.substr(1),D[0]!==l)||(D=n.match(/[^\d]+$/),D!==null&&(n=n.slice(0,-1),D[0]!==x.thousand&&D[0]!==x.million&&D[0]!==x.billion&&D[0]!==x.trillion))?!1:(y=new RegExp(d+"{2}"),n.match(/[^\d.,]/g)?!1:(m=n.split(u),m.length>2?!1:m.length<2?!!m[0].match(/^\d+.*\d$/)&&!m[0].match(y):m[0].length===1?!!m[0].match(/^\d+$/)&&!m[0].match(y)&&!!m[1].match(/^\d+$/):!!m[0].match(/^\d+.*\d$/)&&!m[0].match(y)&&!!m[1].match(/^\d+$/)))},t.fn=o.prototype={clone:function(){return t(this)},format:function(n,i){var u=this._value,d=n||c.defaultFormat,l,m,x;if(i=i||Math.round,u===0&&c.zeroFormat!==null)m=c.zeroFormat;else if(u===null&&c.nullFormat!==null)m=c.nullFormat;else{for(l in g)if(d.match(g[l].regexps.format)){x=g[l].format;break}x=x||t._.numberToFormat,m=x(u,d,i)}return m},value:function(){return this._value},input:function(){return this._input},set:function(n){return this._value=Number(n),this},add:function(n){var i=h.correctionFactor.call(null,this._value,n);function u(d,l,m,x){return d+Math.round(i*l)}return this._value=h.reduce([this._value,n],u,0)/i,this},subtract:function(n){var i=h.correctionFactor.call(null,this._value,n);function u(d,l,m,x){return d-Math.round(i*l)}return this._value=h.reduce([n],u,Math.round(this._value*i))/i,this},multiply:function(n){function i(u,d,l,m){var x=h.correctionFactor(u,d);return Math.round(u*x)*Math.round(d*x)/Math.round(x*x)}return this._value=h.reduce([this._value,n],i,1),this},divide:function(n){function i(u,d,l,m){var x=h.correctionFactor(u,d);return Math.round(u*x)/Math.round(d*x)}return this._value=h.reduce([this._value,n],i),this},difference:function(n){return Math.abs(t(this._value).subtract(n).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(n){var i=n%10;return~~(n%100/10)===1?"th":i===1?"st":i===2?"nd":i===3?"rd":"th"},currency:{symbol:"$"}}),function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(n,i,u){var d=t._.includes(i," BPS")?" ":"",l;return n=n*1e4,i=i.replace(/\s?BPS/,""),l=t._.numberToFormat(n,i,u),t._.includes(l,")")?(l=l.split(""),l.splice(-1,0,d+"BPS"),l=l.join("")):l=l+d+"BPS",l},unformat:function(n){return+(t._.stringToNumber(n)*1e-4).toFixed(15)}})}(),function(){var n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},i={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},u=n.suffixes.concat(i.suffixes.filter(function(l){return n.suffixes.indexOf(l)<0})),d=u.join("|");d="("+d.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(d)},format:function(l,m,x){var y,E=t._.includes(m,"ib")?i:n,D=t._.includes(m," b")||t._.includes(m," ib")?" ":"",M,B,_;for(m=m.replace(/\s?i?b/,""),M=0;M<=E.suffixes.length;M++)if(B=Math.pow(E.base,M),_=Math.pow(E.base,M+1),l===null||l===0||l>=B&&l<_){D+=E.suffixes[M],B>0&&(l=l/B);break}return y=t._.numberToFormat(l,m,x),y+D},unformat:function(l){var m=t._.stringToNumber(l),x,y;if(m){for(x=n.suffixes.length-1;x>=0;x--){if(t._.includes(l,n.suffixes[x])){y=Math.pow(n.base,x);break}if(t._.includes(l,i.suffixes[x])){y=Math.pow(i.base,x);break}}m*=y||1}return m}})}(),function(){t.register("format","currency",{regexps:{format:/(\$)/},format:function(n,i,u){var d=t.locales[t.options.currentLocale],l={before:i.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:i.match(/([\+|\-|\)|\s|\$]*)$/)[0]},m,x,y;for(i=i.replace(/\s?\$\s?/,""),m=t._.numberToFormat(n,i,u),n>=0?(l.before=l.before.replace(/[\-\(]/,""),l.after=l.after.replace(/[\-\)]/,"")):n<0&&!t._.includes(l.before,"-")&&!t._.includes(l.before,"(")&&(l.before="-"+l.before),y=0;y<l.before.length;y++)switch(x=l.before[y],x){case"$":m=t._.insert(m,d.currency.symbol,y);break;case" ":m=t._.insert(m," ",y+d.currency.symbol.length-1);break}for(y=l.after.length-1;y>=0;y--)switch(x=l.after[y],x){case"$":m=y===l.after.length-1?m+d.currency.symbol:t._.insert(m,d.currency.symbol,-(l.after.length-(1+y)));break;case" ":m=y===l.after.length-1?m+" ":t._.insert(m," ",-(l.after.length-(1+y)+d.currency.symbol.length-1));break}return m}})}(),function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(n,i,u){var d,l=typeof n=="number"&&!t._.isNaN(n)?n.toExponential():"0e+0",m=l.split("e");return i=i.replace(/e[\+|\-]{1}0/,""),d=t._.numberToFormat(Number(m[0]),i,u),d+"e"+m[1]},unformat:function(n){var i=t._.includes(n,"e+")?n.split("e+"):n.split("e-"),u=Number(i[0]),d=Number(i[1]);d=t._.includes(n,"e-")?d*=-1:d;function l(m,x,y,E){var D=t._.correctionFactor(m,x),M=m*D*(x*D)/(D*D);return M}return t._.reduce([u,Math.pow(10,d)],l,1)}})}(),function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:function(n,i,u){var d=t.locales[t.options.currentLocale],l,m=t._.includes(i," o")?" ":"";return i=i.replace(/\s?o/,""),m+=d.ordinal(n),l=t._.numberToFormat(n,i,u),l+m}})}(),function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(n,i,u){var d=t._.includes(i," %")?" ":"",l;return t.options.scalePercentBy100&&(n=n*100),i=i.replace(/\s?\%/,""),l=t._.numberToFormat(n,i,u),t._.includes(l,")")?(l=l.split(""),l.splice(-1,0,d+"%"),l=l.join("")):l=l+d+"%",l},unformat:function(n){var i=t._.stringToNumber(n);return t.options.scalePercentBy100?i*.01:i}})}(),function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(n,i,u){var d=Math.floor(n/60/60),l=Math.floor((n-d*60*60)/60),m=Math.round(n-d*60*60-l*60);return d+":"+(l<10?"0"+l:l)+":"+(m<10?"0"+m:m)},unformat:function(n){var i=n.split(":"),u=0;return i.length===3?(u=u+Number(i[0])*60*60,u=u+Number(i[1])*60,u=u+Number(i[2])):i.length===2&&(u=u+Number(i[0])*60,u=u+Number(i[1])),Number(u)}})}(),t})})(ht);var Kt=ht.exports;const et=Dt(Kt),mt=s=>{const{children:t}=s;return e.jsx(Et,{disablePadding:!0,children:t})};mt.propTypes={children:te.node};const Me=s=>{const{align:t="vertical",children:h,disableGutters:r,value:g,label:p,...f}=s;return e.jsx($t,{sx:{px:r?0:3,py:1.5},...f,children:e.jsx(Ft,{disableTypography:!0,primary:e.jsx(b,{sx:{minWidth:t==="vertical"?"inherit":180},variant:"subtitle2",children:p}),secondary:e.jsx(z,{sx:{flex:1,mt:t==="vertical"?.5:0},children:h||e.jsx(b,{color:"text.secondary",variant:"body2",children:g})}),sx:{display:"flex",flexDirection:t==="vertical"?"column":"row",my:0}})})};Me.propTypes={align:te.oneOf(["horizontal","vertical"]),children:te.node,disableGutters:te.bool,label:te.string.isRequired,value:te.string};const $e=s=>{const{name:t}=s,r=Nt().palette.primary.main;switch(t){case"startup":return e.jsx("svg",{fill:"none",height:"33",viewBox:"0 0 24 33",width:"24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M13.7898 0.492981L23.0191 5.55771C23.2324 5.67468 23.4097 5.84498 23.5332 6.05102C23.6567 6.25713 23.7218 6.49154 23.7218 6.73031C23.7218 6.96907 23.6567 7.20348 23.5332 7.4096C23.4097 7.61564 23.2324 7.78594 23.0191 7.9029L13.7899 12.9679C13.2008 13.2911 12.5366 13.4609 11.861 13.4609C11.1852 13.4609 10.521 13.2911 9.93202 12.9679L0.702682 7.9029C0.489532 7.78594 0.312084 7.61564 0.188587 7.4096C0.0650921 7.20348 -9.53674e-06 6.96907 -9.53674e-06 6.73031C-9.53674e-06 6.49154 0.0650921 6.25713 0.188587 6.05102C0.312084 5.84498 0.489532 5.67468 0.702682 5.55771L9.93202 0.492981C10.521 0.169739 11.1852 -5.72205e-06 11.861 -5.72205e-06C12.5366 -5.72205e-06 13.2008 0.169739 13.7898 0.492981Z",fill:r})});case"standard":return e.jsxs("svg",{fill:"none",height:"33",viewBox:"0 0 33 33",width:"33",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M18.4946 0.492981L27.7239 5.55771C27.9372 5.67468 28.1145 5.84498 28.238 6.05102C28.3615 6.25713 28.4266 6.49154 28.4266 6.73031C28.4266 6.96907 28.3615 7.20348 28.238 7.4096C28.1145 7.61564 27.9372 7.78594 27.7239 7.9029L18.4947 12.9679C17.9056 13.2911 17.2414 13.4609 16.5658 13.4609C15.89 13.4609 15.2258 13.2911 14.6368 12.9679L5.40749 7.9029C5.19434 7.78594 5.01689 7.61564 4.89339 7.4096C4.7699 7.20348 4.70479 6.96907 4.70479 6.73031C4.70479 6.49154 4.7699 6.25713 4.89339 6.05102C5.01689 5.84498 5.19434 5.67468 5.40749 5.55771L14.6368 0.492981C15.2258 0.169739 15.89 -5.72205e-06 16.5658 -5.72205e-06C17.2414 -5.72205e-06 17.9056 0.169739 18.4946 0.492981Z",fill:r}),e.jsx("path",{d:"M18.4448 5.2478L31.6626 12.5013C31.8758 12.6183 32.0532 12.7886 32.1767 12.9946C32.3002 13.2007 32.3653 13.4351 32.3653 13.6739C32.3653 13.9127 32.3002 14.1471 32.1767 14.3532C32.0532 14.5593 31.8758 14.7295 31.6626 14.8466L18.4448 22.1C17.8558 22.4231 17.1916 22.593 16.516 22.593C15.8403 22.593 15.1761 22.4231 14.5871 22.1L1.3693 14.8466C1.15615 14.7295 0.978699 14.5593 0.855202 14.3532C0.731705 14.1471 0.666607 13.9127 0.666607 13.6739C0.666607 13.4351 0.731705 13.2007 0.855202 12.9946C0.978699 12.7886 1.15615 12.6183 1.3693 12.5013L14.5871 5.2478C15.1761 4.92464 15.8403 4.75489 16.516 4.75489C17.1916 4.75489 17.8558 4.92464 18.4448 5.2478Z",fill:r,opacity:"0.7"})]});case"business":return e.jsxs("svg",{fill:"none",height:"33",viewBox:"0 0 43 33",width:"43",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M23.0075 0.49292L32.2369 5.55765C32.4501 5.67462 32.6275 5.84492 32.751 6.05096C32.8745 6.25707 32.9396 6.49148 32.9396 6.73025C32.9396 6.96901 32.8745 7.20342 32.751 7.40954C32.6275 7.61558 32.4501 7.78587 32.2369 7.90284L23.0076 12.9678C22.4186 13.2911 21.7543 13.4609 21.0787 13.4609C20.403 13.4609 19.7387 13.2911 19.1498 12.9678L9.92043 7.90284C9.70728 7.78587 9.52983 7.61558 9.40633 7.40954C9.28284 7.20342 9.21773 6.96901 9.21773 6.73025C9.21773 6.49148 9.28284 6.25707 9.40633 6.05096C9.52983 5.84492 9.70728 5.67462 9.92043 5.55765L19.1498 0.49292C19.7387 0.169678 20.403 -6.67572e-05 21.0787 -6.67572e-05C21.7543 -6.67572e-05 22.4186 0.169678 23.0075 0.49292Z",fill:r}),e.jsx("path",{d:"M22.9577 5.24774L36.1755 12.5012C36.3886 12.6182 36.5661 12.7885 36.6896 12.9945C36.8131 13.2007 36.8782 13.4351 36.8782 13.6738C36.8782 13.9126 36.8131 14.1471 36.6896 14.3531C36.5661 14.5592 36.3886 14.7295 36.1755 14.8465L22.9577 22.0999C22.3687 22.4231 21.7045 22.5929 21.0288 22.5929C20.3532 22.5929 19.6889 22.4231 19.1 22.0999L5.88218 14.8465C5.66903 14.7295 5.49158 14.5592 5.36808 14.3531C5.24458 14.1471 5.17949 13.9126 5.17949 13.6738C5.17949 13.4351 5.24458 13.2007 5.36808 12.9945C5.49158 12.7885 5.66903 12.6182 5.88218 12.5012L19.1 5.24774C19.6889 4.92458 20.3532 4.75483 21.0288 4.75483C21.7045 4.75483 22.3687 4.92458 22.9577 5.24774Z",fill:r,opacity:"0.7"}),e.jsx("path",{d:"M23.259 10.0018L41.6317 20.0843C41.8445 20.2012 42.0217 20.3711 42.145 20.5769C42.2683 20.7826 42.3333 21.0167 42.3333 21.2551C42.3333 21.4935 42.2683 21.7275 42.145 21.9333C42.0217 22.139 41.8445 22.309 41.6317 22.4258L23.2589 32.5081C22.6709 32.8307 22.0078 33.0002 21.3332 33.0002C20.6587 33.0002 19.9955 32.8307 19.4075 32.5081L1.03479 22.4258C0.821995 22.309 0.644833 22.139 0.521538 21.9333C0.398247 21.7275 0.333252 21.4935 0.333252 21.2551C0.333252 21.0167 0.398247 20.7826 0.521538 20.5769C0.644833 20.3711 0.821995 20.2012 1.03479 20.0843L19.4075 10.0018C19.9955 9.67921 20.6587 9.50966 21.3332 9.50966C22.0078 9.50966 22.6709 9.67921 23.259 10.0018Z",fill:r,opacity:"0.4"})]});default:return null}};$e.propTypes={name:te.oneOf(["startup","standard","business"]).isRequired};const en=[{id:"startup",icon:e.jsx($e,{name:"startup"}),name:"Startup",price:0},{id:"standard",icon:e.jsx($e,{name:"standard"}),name:"Standard",price:4.99},{id:"business",icon:e.jsx($e,{name:"business"}),name:"Business",price:29.99}],pt=s=>{const{plan:t="standard",invoices:h=[]}=s,[r,g]=w.useState(t);return e.jsxs($,{spacing:4,...s,children:[e.jsxs(K,{children:[e.jsx(Te,{title:"Change Plan",subheader:"You can upgrade and downgrade whenever you want"}),e.jsxs(ie,{sx:{pt:0},children:[e.jsx("div",{children:e.jsx(Z,{container:!0,spacing:3,children:en.map(p=>{const f=p.id===r,c=p.id===t,o=et(p.price).format("$0,0.00");return e.jsx(Z,{xs:12,sm:4,children:e.jsx(K,{onClick:()=>g(p.id),sx:{cursor:"pointer",...f&&{borderColor:"primary.main",borderWidth:2,m:"-1px"}},variant:"outlined",children:e.jsxs(ie,{children:[e.jsx(z,{sx:{height:52,width:52,"& img":{height:"auto",width:"100%"}},children:p.icon}),e.jsxs(z,{sx:{display:"flex",mb:1,mt:1},children:[e.jsx(b,{variant:"h5",children:o}),e.jsx(b,{color:"text.secondary",sx:{mt:"auto",ml:"4px"},variant:"body2",children:"/mo"})]}),e.jsxs($,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsx(b,{variant:"overline",children:p.name}),c&&e.jsx(b,{color:"primary.main",variant:"caption",children:"Using now"})]})]})})},p.id)})})}),e.jsx(Be,{sx:{my:3}}),e.jsxs(z,{sx:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[e.jsx(b,{variant:"h6",children:"Billing details"}),e.jsx(O,{color:"inherit",startIcon:e.jsx(H,{children:e.jsx(Ee,{})}),children:"Edit"})]}),e.jsx(z,{sx:{border:1,borderColor:"divider",borderRadius:1,mt:3},children:e.jsxs(mt,{children:[e.jsx(Me,{align:"horizontal",divider:!0,label:"Billing name",value:"John Doe"}),e.jsx(Me,{align:"horizontal",divider:!0,label:"Card number",value:"**** 1111"}),e.jsx(Me,{align:"horizontal",divider:!0,label:"Country",value:"Germany"}),e.jsx(Me,{align:"horizontal",label:"Zip / Postal code",value:"667123"})]})}),e.jsxs(b,{color:"text.secondary",variant:"body2",sx:{mt:3},children:["We cannot refund once you purchased a subscription, but you can always",e.jsx(Qe,{href:"#",sx:{ml:"4px"},underline:"none",variant:"body2",children:"Cancel"})]}),e.jsx(z,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(O,{variant:"contained",children:"Upgrade Plan"})})]})]}),e.jsxs(K,{children:[e.jsx(Te,{title:"Invoice history",subheader:"You can view and download all your previous invoices here. If you’ve just made a payment, it may take a few hours for it to appear in the table below."}),e.jsxs(fe,{children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(j,{children:"Date"}),e.jsx(j,{children:"Total (incl. tax)"}),e.jsx(j,{})]})}),e.jsx(ye,{children:h.map(p=>{const f=nt(p.createdAt,"dd MMM yyyy"),c=et(p.amount).format("$0,0.00");return e.jsxs(Q,{children:[e.jsx(j,{children:f}),e.jsx(j,{children:c}),e.jsx(j,{align:"right",children:e.jsx(Qe,{color:"inherit",underline:"always",href:"#",children:"View Invoice"})})]},p.id)})})]})]})]})};pt.propTypes={plan:te.string,invoices:te.array};const tn=async()=>{try{const{data:s}=await L.get("/class/list/active/");return s.map(t=>({...t,value:t.custom_name}))}catch(s){throw new Error(s)}},nn=()=>{const{t:s,i18n:t}=R(),h=le("eggTypes",tn),[r,g]=w.useState({}),p=(c,o)=>{c.target.value!==""&&L.put("/customclass/update/",{id:o,custom_name:c.target.value}).then(n=>{F.success(s(a.global.toastEggSuccess))})},f=(c,o)=>{L.put("/customclass/activation/",{id:o})};return e.jsx($,{spacing:4,children:e.jsxs(K,{children:[e.jsx(Te,{title:s(a.global.eggTypeUpdateTitle)}),e.jsxs(ie,{children:[e.jsx(b,{variant:"h6"}),e.jsx(Z,{container:!0,spacing:3,children:h.isLoading?e.jsx(qt,{}):h==null?void 0:h.data.map(c=>e.jsx(Z,{item:!0,spacing:2,xs:4,children:e.jsxs($,{spacing:1,children:[e.jsx(b,{variant:"subtitle1",children:c.egg_class_name}),e.jsxs($,{direction:"row",children:[e.jsx(b,{color:"text.secondary",variant:"body2",children:e.jsx(k,{label:c.value,value:r[c.id],onChange:o=>g(n=>({...n,[c.id]:o.target.value})),onBlur:o=>p(o,c.id),size:"small"})}),e.jsx(Ce,{defaultChecked:c.is_active,onChange:o=>f(o,c.id)})]})]})}))})]})]})})},rn=()=>e.jsx(K,{children:e.jsxs(ie,{children:[e.jsxs(Z,{container:!0,spacing:3,children:[e.jsx(Z,{xs:12,md:4,children:e.jsx(b,{variant:"h6",children:"Email"})}),e.jsx(Z,{xs:12,sm:12,md:8,children:e.jsxs($,{divider:e.jsx(Be,{}),spacing:3,children:[e.jsxs($,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs($,{spacing:1,children:[e.jsx(b,{variant:"subtitle1",children:"Product updates"}),e.jsx(b,{color:"text.secondary",variant:"body2",children:"News, announcements, and product updates."})]}),e.jsx(Ce,{defaultChecked:!0})]}),e.jsxs($,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs($,{spacing:1,children:[e.jsx(b,{variant:"subtitle1",children:"Security updates"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Important notifications about your account security."})]}),e.jsx(Ce,{defaultChecked:!0})]})]})})]}),e.jsx(Be,{sx:{my:3}}),e.jsxs(Z,{container:!0,spacing:3,children:[e.jsx(Z,{xs:12,md:4,children:e.jsx(b,{variant:"h6",children:"Phone notifications"})}),e.jsx(Z,{xs:12,sm:12,md:8,children:e.jsx($,{divider:e.jsx(Be,{}),spacing:3,children:e.jsxs($,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[e.jsxs($,{spacing:1,children:[e.jsx(b,{variant:"subtitle1",children:"Security updates"}),e.jsx(b,{color:"text.secondary",variant:"body2",children:"Important notifications about your account security."})]}),e.jsx(Ce,{})]})})})]})]})});var an=function(t){return e.jsxs("svg",oe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Zm7 0c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1ZM5 13c.5523 0 1-.4477 1-1s-.4477-1-1-1-1 .4477-1 1 .4477 1 1 1Z"})]}))},sn=function(t){return e.jsxs("svg",oe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"M3 8.32c0-1.5121 0-2.2682.2943-2.8458a2.7 2.7 0 0 1 1.18-1.18C5.0517 4 5.8078 4 7.32 4h9.36c1.5121 0 2.2682 0 2.8458.2943.508.2588.9211.6719 1.1799 1.18C21 6.0517 21 6.8078 21 8.32v5.76c0 1.5121 0 2.2682-.2943 2.8458a2.6996 2.6996 0 0 1-1.1799 1.1799c-.5776.2943-1.3337.2943-2.8458.2943H7.32c-1.5121 0-2.2682 0-2.8458-.2943a2.6998 2.6998 0 0 1-1.18-1.1799C3 16.3482 3 15.5921 3 14.08V8.32Z"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m3 6.7 7.3484 5.1439c.5951.4165.8926.6248 1.2162.7055.2859.0712.5849.0712.8708 0 .3236-.0807.6211-.289 1.2162-.7055L21 6.7M7.32 18.4h9.36c1.5121 0 2.2682 0 2.8458-.2943a2.6996 2.6996 0 0 0 1.1799-1.1799C21 16.3482 21 15.5921 21 14.08V8.32c0-1.5121 0-2.2682-.2943-2.8458a2.6998 2.6998 0 0 0-1.1799-1.18C18.9482 4 18.1921 4 16.68 4H7.32c-1.5121 0-2.2682 0-2.8458.2943a2.7 2.7 0 0 0-1.18 1.18C3 6.0517 3 6.8078 3 8.32v5.76c0 1.5121 0 2.2682.2943 2.8458.2588.508.6719.9211 1.18 1.1799.5775.2943 1.3336.2943 2.8457.2943Z"})]}))};const on=De("span")(({theme:s,ownerState:t})=>{const h=s.palette[t.color].alpha12,r=s.palette.mode==="dark"?s.palette[t.color].main:s.palette[t.color].dark;return{alignItems:"center",backgroundColor:h,borderRadius:12,color:r,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:s.typography.fontFamily,fontSize:s.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:s.spacing(1),paddingRight:s.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}}),xt=s=>{const{color:t="primary",children:h,...r}=s,g={color:t};return e.jsx(on,{ownerState:g,...r,children:h})};xt.propTypes={children:te.node,color:te.oneOf(["primary","secondary","error","info","warning","success"])};const gt=s=>{const{members:t}=s;return e.jsxs(K,{children:[e.jsx(ie,{children:e.jsxs(Z,{container:!0,spacing:3,children:[e.jsx(Z,{xs:12,md:4,children:e.jsxs($,{spacing:1,children:[e.jsx(b,{variant:"h6",children:"Invite members"}),e.jsx(b,{color:"text.secondary",variant:"body2",children:"You currently pay for 2 Editor Seats."})]})}),e.jsx(Z,{xs:12,md:8,children:e.jsxs($,{alignItems:"center",direction:"row",spacing:3,children:[e.jsx(k,{InputProps:{startAdornment:e.jsx(It,{position:"start",children:e.jsx(H,{children:e.jsx(sn,{})})})},label:"Email address",name:"email",sx:{flexGrow:1},type:"email"}),e.jsx(O,{variant:"contained",children:"Send Invite"})]})})]})}),e.jsx(rt,{children:e.jsxs(fe,{sx:{minWidth:400},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(j,{children:"Member"}),e.jsx(j,{children:"Role"}),e.jsx(j,{})]})}),e.jsx(ye,{children:t.map((h,r)=>e.jsxs(Q,{children:[e.jsx(j,{children:e.jsxs($,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(Ve,{src:h.avatar,sx:{height:40,width:40},children:e.jsx(H,{children:e.jsx(Pt,{})})}),e.jsxs("div",{children:[e.jsx(b,{variant:"subtitle2",children:h.name}),e.jsx(b,{color:"text.secondary",variant:"body2",children:h.email})]})]})}),e.jsx(j,{children:h.role==="Owner"?e.jsx(xt,{children:h.role}):h.role}),e.jsx(j,{align:"right",children:e.jsx(J,{children:e.jsx(H,{children:e.jsx(an,{})})})})]},r))})]})})]})};gt.propTypes={members:te.array.isRequired};var tt=function(t){return e.jsxs("svg",oe({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},t,{children:[e.jsx("path",{fill:"#fff",fillOpacity:.01,d:"m12 5 7 7-7 7"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m0 0-7-7m7 7-7 7"})]}))};const ft=s=>{const{loginEvents:t}=s,[h,r]=w.useState(!1),g=w.useCallback(()=>{r(p=>!p)},[]);return e.jsxs($,{spacing:4,children:[e.jsx(K,{children:e.jsx(ie,{children:e.jsxs(Z,{container:!0,spacing:3,children:[e.jsx(Z,{xs:12,md:4,children:e.jsx(b,{variant:"h6",children:"Change password"})}),e.jsx(Z,{xs:12,sm:12,md:8,children:e.jsxs($,{alignItems:"center",direction:"row",spacing:3,children:[e.jsx(k,{disabled:!h,label:"Password",type:"password",defaultValue:"Thebestpasswordever123#",sx:{flexGrow:1,...!h&&{"& .MuiOutlinedInput-notchedOutline":{borderStyle:"dotted"}}}}),e.jsx(O,{onClick:g,children:h?"Save":"Edit"})]})})]})})}),e.jsxs(K,{children:[e.jsx(Te,{title:"Multi Factor Authentication"}),e.jsx(ie,{sx:{pt:0},children:e.jsxs(Z,{container:!0,spacing:4,children:[e.jsx(Z,{xs:12,sm:6,children:e.jsx(K,{sx:{height:"100%"},variant:"outlined",children:e.jsxs(ie,{children:[e.jsx(z,{sx:{display:"block",position:"relative"},children:e.jsx(z,{sx:{"&::before":{backgroundColor:"error.main",borderRadius:"50%",content:'""',display:"block",height:8,left:4,position:"absolute",top:7,width:8,zIndex:1}},children:e.jsx(b,{color:"error",sx:{pl:3},variant:"body2",children:"Off"})})}),e.jsx(b,{sx:{mt:1},variant:"subtitle2",children:"Authenticator App"}),e.jsx(b,{color:"text.secondary",sx:{mt:1},variant:"body2",children:"Use an authenticator app to generate one time security codes."}),e.jsx(z,{sx:{mt:4},children:e.jsx(O,{endIcon:e.jsx(H,{children:e.jsx(tt,{})}),variant:"outlined",children:"Set Up"})})]})})}),e.jsx(Z,{sm:6,xs:12,children:e.jsx(K,{sx:{height:"100%"},variant:"outlined",children:e.jsxs(ie,{children:[e.jsx(z,{sx:{position:"relative"},children:e.jsx(z,{sx:{"&::before":{backgroundColor:"error.main",borderRadius:"50%",content:'""',display:"block",height:8,left:4,position:"absolute",top:7,width:8,zIndex:1}},children:e.jsx(b,{color:"error",sx:{pl:3},variant:"body2",children:"Off"})})}),e.jsx(b,{sx:{mt:1},variant:"subtitle2",children:"Text Message"}),e.jsx(b,{color:"text.secondary",sx:{mt:1},variant:"body2",children:"Use your mobile phone to receive security codes via SMS."}),e.jsx(z,{sx:{mt:4},children:e.jsx(O,{endIcon:e.jsx(H,{children:e.jsx(tt,{})}),variant:"outlined",children:"Set Up"})})]})})})]})})]}),e.jsxs(K,{children:[e.jsx(Te,{title:"Login history",subheader:"Your recent login activity"}),e.jsx(rt,{children:e.jsxs(fe,{sx:{minWidth:500},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(j,{children:"Login type"}),e.jsx(j,{children:"IP Address"}),e.jsx(j,{children:"Client"})]})}),e.jsx(ye,{children:t.map(p=>{const f=nt(p.createdAt,"HH:mm a MM/dd/yyyy");return e.jsxs(Q,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsxs(j,{children:[e.jsx(b,{variant:"subtitle2",children:p.type}),e.jsxs(b,{variant:"body2",color:"body2",children:["on ",f]})]}),e.jsx(j,{children:p.ip}),e.jsx(j,{children:p.userAgent})]},p.id)})})]})})]})]})};ft.propTypes={loginEvents:te.array.isRequired};const ln=w.memo(s=>{const t=U();let{count:h=0,items:r=[],onDeselectAll:g,onDeselectOne:p,onSelectAll:f,onSelectOne:c,selected:o=[],isLoading:n,isError:i}=s;const[u,d]=w.useState(1),[l,m]=w.useState(25),{t:x,i18n:y}=R(),E=(_,v)=>{let C=r.filter(S=>S.id==_)[0];t(I.actions.setCurrentData(C)),t(v?I.actions.openCloseModalUpdate():I.actions.openCloseModalDelete())},D=(_,v)=>{d(v)},M=r==null?void 0:r.slice((u-1)*l,u*l);w.useEffect(()=>{d(1)},[r]);const B=_=>{const v=_.target.value;L.put("/client/activation/",{id:v}).then(C=>{t(I.actions.activateClient({id:v}))})};return e.jsxs(z,{sx:{position:"relative"},children:[e.jsx(ze,{component:Pe,children:e.jsxs(fe,{sx:{minWidth:700},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(j,{children:x(a.client.Nom)}),e.jsx(j,{children:x(a.client.Telephone)}),e.jsx(j,{children:x(a.client.Ville)}),e.jsx(j,{})]})}),n?e.jsx(We,{rowsNum:10}):e.jsx(ye,{children:(M==null?void 0:M.length)>0?M==null?void 0:M.map(_=>e.jsxs(Q,{hover:!0,children:[e.jsx(j,{children:e.jsxs($,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(at,{variant:"dot",color:_.is_active?"success":"error",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",badgeContent:" ",sx:{"& .MuiBadge-badge":{minWidth:"14px",height:"14px",fontSize:"0.75rem",borderRadius:"100%",border:"2px solid #fff"}},children:e.jsx(Ve,{sx:{bgcolor:_.is_active?"rgb(19, 194, 194)":"",color:"white",width:45,height:45},children:_.first_name[0]+" "+_.last_name[0]})}),e.jsxs("div",{children:[_.first_name+" "+_.last_name,e.jsx(b,{color:"text.secondary",variant:"body2",children:_.email})]})]})}),e.jsx(j,{children:_.tel_num}),e.jsx(j,{children:_.city}),e.jsxs(j,{children:[e.jsx(J,{color:"warning",onClick:()=>E(_.id,!0),children:e.jsx(H,{children:e.jsx(Ee,{})})}),_.is_deletable&&e.jsx(J,{color:"error",onClick:()=>E(_.id,!1),children:e.jsx(H,{children:e.jsx(Le,{})})}),e.jsx(Ce,{color:"primary",defaultChecked:_.is_active,value:_.id,onChange:v=>B(v)})]})]},_.id)):e.jsx(Q,{children:e.jsx(j,{colSpan:5,sx:{textAlign:"center"},children:x(a.client.nothingToDisplay)})})})]})}),e.jsx(z,{sx:{display:"flex",justifyContent:"end",p:"5px"},children:e.jsx(Re,{count:Math.ceil(h/l),defaultPage:u,onChange:D,color:"primary",size:"large"})}),i&&e.jsx(Ue,{})]})});function cn(){const s=U(),{t,i18n:h}=R(),{client:r}=Y(p=>p.client),g=le("clients",he.getClient);return w.useEffect(()=>{g.status=="success"&&s(I.actions.fetchClient(g.data))},[g.status]),e.jsx(Ye,{maxWidth:"xl",children:e.jsxs(G,{spacing:4,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(G,{spacing:1,children:e.jsx(b,{variant:"h4",children:t(a.client.title)})}),e.jsx(G,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(H,{children:e.jsx(we,{})}),variant:"contained",onClick:()=>s(I.actions.openCloseModalAdd()),children:t(a.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(ln,{items:r,count:r.length,rowsPerPage:25,isLoading:g.isLoading,isError:g.isError})})]})})}const dn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function un(){const s=U(),{t,i18n:h}=R(),{client:r,isModalUpdate:g,currentData:p,isConfirm:f}=Y(u=>u.client),c=me({first_name:N().required(t(a.client.firstNameRequired)),last_name:N().required(t(a.client.lastNameRequired)),tel_num:N().required(t(a.client.telRequired)).matches(/^[0-9]{10}$/,t(a.client.telMatch)),email:N().email(t(a.login.emailValid)).required(t(a.login.emailRequired)),city:N().required(t(a.client.cityRequired))}),o=pe({initialValues:p,validationSchema:c,onSubmit:async(u,{resetForm:d})=>{L.put("/client/update/",u).then(l=>{s(I.actions.editClient(l.data)),s(I.actions.openCloseModalUpdate()),s(I.actions.openCloseConfirm()),F.success(t(a.client.toastUpdateSuccess)),d()}).catch(l=>{s(I.actions.openCloseConfirm()),F.error(t(a.client.toastError))})}});w.useEffect(()=>{o.setValues(p)},[p]);const n=async u=>{u.preventDefault();const d=await o.validateForm();Object.keys(d).length===0?s(I.actions.openCloseConfirm()):await o.submitForm()},i=()=>{o.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(I.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:dn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(b,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(a.client.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(I.actions.openCloseModalUpdate()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:u=>n(u),children:[e.jsx(k,{id:"outlined-basic",label:t(a.client.Nom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:o.handleChange,value:o.values.first_name,error:!!(o.touched.first_name&&o.errors.first_name),helperText:o.touched.first_name&&o.errors.first_name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.client.Prenom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:o.handleChange,value:o.values.last_name,error:!!(o.touched.last_name&&o.errors.last_name),helperText:o.touched.last_name&&o.errors.last_name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.client.Telephone),variant:"outlined",value:o.values.tel_num,onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:o.handleChange,error:!!(o.touched.tel_num&&o.errors.tel_num),helperText:o.touched.tel_num&&o.errors.tel_num,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.client.Email),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:o.handleChange,value:o.values.email,error:!!(o.touched.email&&o.errors.email),helperText:o.touched.email&&o.errors.email,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.client.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.city,error:!!(o.touched.city&&o.errors.city),helperText:o.touched.city&&o.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(a.global.modifier)})]})]})}),e.jsx(xe,{confirmed:i,cancel:()=>s(I.actions.openCloseConfirm()),isConfirm:f})]})}const hn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function mn(){const s=U(),{t,i18n:h}=R(),{client:r,isModalAdd:g,isConfirm:p}=Y(i=>i.client),f=me({first_name:N().required(t(a.client.firstNameRequired)),last_name:N().required(t(a.client.lastNameRequired)),tel_num:N().required(t(a.client.telRequired)).matches(/^[0-9]{10}$/,t(a.client.telMatch)),email:N().email(t(a.login.emailValid)).required(t(a.login.emailRequired)),city:N().required(t(a.client.cityRequired))}),c=pe({initialValues:{first_name:"",last_name:"",tel_num:"",email:"",city:""},validationSchema:f,onSubmit:async(i,{resetForm:u,setErrors:d})=>{L.post("/client/add/",i).then(l=>{s(I.actions.addClient(l.data)),s(I.actions.openCloseModalAdd()),s(I.actions.openCloseConfirm()),F.success(t(a.client.toastAddSuccess)),u()}).catch(l=>{s(I.actions.openCloseConfirm()),F.error(t(a.client.toastError))})}}),o=async i=>{i.preventDefault();const u=await c.validateForm();Object.keys(u).length===0?s(I.actions.openCloseConfirm()):await c.submitForm()},n=()=>{c.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(I.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:hn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(b,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(a.client.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(I.actions.openCloseModalAdd()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:i=>o(i),children:[e.jsx(k,{id:"outlined-basic",label:t(a.client.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:c.handleChange,value:c.values.first_name,error:!!(c.touched.first_name&&c.errors.first_name),helperText:c.touched.first_name&&c.errors.first_name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.client.Prenom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:c.handleChange,value:c.values.last_name,error:!!(c.touched.last_name&&c.errors.last_name),helperText:c.touched.last_name&&c.errors.last_name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.client.Telephone),variant:"outlined",value:c.values.tel_num,onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:c.handleChange,error:!!(c.touched.tel_num&&c.errors.tel_num),helperText:c.touched.tel_num&&c.errors.tel_num,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.client.Email),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:c.handleChange,value:c.values.email,error:!!(c.touched.email&&c.errors.email),helperText:c.touched.email&&c.errors.email,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.client.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:c.handleBlur,onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(a.global.ajouter)})]})]})}),e.jsx(xe,{confirmed:n,cancel:()=>s(I.actions.openCloseConfirm()),isConfirm:p})]})}function pn(){const{currentData:s,isModalDelete:t}=Y(f=>f.client),h=U(),{t:r,i18n:g}=R(),p=()=>{console.log("first"),L.delete(`/client/delete/${s.id}`).then(f=>{h(I.actions.deleteClient()),h(I.actions.openCloseModalDelete()),F.success(r(a.client.toastDeleteSuccess))}).catch(f=>{h(I.actions.openCloseModalDelete()),F.error(r(a.client.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(I.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(_e,{title:r(a.client.deleteTitle),message:` ${r(a.client.deleteDescription)} ${s.first_name} ${s.last_name}
          ${r(a.client.poncuation)}`,deleteFn:p,cancel:()=>h(I.actions.openCloseModalDelete())})})}function xn(){const{isModalAdd:s,isModalUpdate:t}=Y(h=>h.client);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(re,{children:e.jsx(cn,{})}),s&&e.jsx(mn,{}),t&&e.jsx(un,{}),e.jsx(pn,{})]})}const gn=w.memo(s=>{const t=U();let{count:h=0,items:r=[],onDeselectAll:g,onDeselectOne:p,onSelectAll:f,onSelectOne:c,selected:o=[],isLoading:n,isError:i}=s;const[u,d]=w.useState(1),[l,m]=w.useState(25),{t:x,i18n:y}=R(),E=(B,_)=>{const v=r.filter(C=>C.id==B)[0];t(P.actions.setCurrentData(v)),t(_?P.actions.openCloseModalUpdate():P.actions.openCloseModalDelete())},D=(B,_)=>{d(_)},M=r==null?void 0:r.slice((u-1)*l,u*l);return w.useEffect(()=>{d(1)},[r]),e.jsxs(z,{sx:{position:"relative"},children:[e.jsx(ze,{component:Pe,children:e.jsxs(fe,{sx:{minWidth:700},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(j,{children:x(a.magazin.Nom)}),e.jsx(j,{children:x(a.magazin.Ville)}),e.jsx(j,{children:x(a.magazin.Capacity)}),e.jsx(j,{})]})}),n?e.jsx(We,{rowsNum:10}):e.jsx(ye,{children:(M==null?void 0:M.length)>0?M==null?void 0:M.map(B=>e.jsxs(Q,{hover:!0,children:[e.jsx(j,{children:e.jsx($,{alignItems:"center",direction:"row",spacing:1,children:e.jsx("div",{children:B.name})})}),e.jsx(j,{children:B.city}),e.jsx(j,{sx:{direction:"initial",whiteSpace:"nowrap"},children:B.capacity.toLocaleString("en-US").replaceAll(","," ")}),e.jsxs(j,{children:[e.jsx(J,{color:"warning",onClick:()=>E(B.id,!0),children:e.jsx(H,{children:e.jsx(Ee,{})})}),B.is_deletable&&e.jsx(J,{color:"error",onClick:()=>E(B.id,!1),children:e.jsx(H,{children:e.jsx(Le,{})})})]})]},B.id)):e.jsx(Q,{children:e.jsx(j,{colSpan:5,sx:{textAlign:"center"},children:x(a.magazin.nothingToDisplay)})})})]})}),e.jsx(z,{sx:{display:"flex",justifyContent:"end",p:"5px"},children:e.jsx(Re,{count:Math.ceil(h/l),defaultPage:u,onChange:D,color:"primary",size:"large"})}),i&&e.jsx(Ue,{})]})});function fn(){const s=U(),{t,i18n:h}=R(),{magazin:r}=Y(p=>p.magazin),g=le("magazins",he.getWarehouse);return w.useEffect(()=>{console.log(g),g.status=="success"&&s(P.actions.fetchMagazin(g.data))},[g.status]),e.jsx(Ye,{maxWidth:"xl",children:e.jsxs(G,{spacing:4,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(G,{spacing:1,children:e.jsx(b,{variant:"h4",children:t(a.magazin.title)})}),e.jsx(G,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(H,{children:e.jsx(we,{})}),variant:"contained",onClick:()=>s(P.actions.openCloseModalAdd()),children:t(a.global.ajouter)})})]}),e.jsxs(K,{children:[e.jsx(gn,{items:r,isLoading:g.isLoading,count:r.length,rowsPerPage:25,isError:g.isError}),g.isError&&e.jsx(Rt,{severity:"error",variant:"filled",children:"Test"})]})]})})}const jn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function yn(){const s=U(),{t,i18n:h}=R(),{currentData:r,isModalUpdate:g,isConfirm:p}=Y(i=>i.magazin),f=me({name:N().required(t(a.magazin.firstNameRequired)),city:N().required(t(a.magazin.firstNameRequired)),capacity:ue().required(t(a.magazin.capacityRequired)).min(0,t(a.magazin.capacityMin))}),c=pe({initialValues:{name:"",city:"",capacity:""},validationSchema:f,onSubmit:async(i,{resetForm:u,setErrors:d})=>{L.put("/warehouse/update/",i).then(l=>{s(P.actions.editMagazin(l.data)),s(P.actions.openCloseModalUpdate()),s(P.actions.openCloseConfirm()),F.success(t(a.magazin.toastUpdateSuccess)),u()}).catch(l=>{s(P.actions.openCloseConfirm()),F.error(t(a.magazin.toastError))})}}),o=async i=>{i.preventDefault();const u=await c.validateForm();Object.keys(u).length===0?s(P.actions.openCloseConfirm()):await c.submitForm()},n=()=>{c.handleSubmit()};return w.useEffect(()=>{console.log(r),c.setValues(r)},[r]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(P.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:jn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(b,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(a.magazin.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(P.actions.openCloseModalUpdate()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:i=>o(i),children:[e.jsx(k,{id:"outlined-basic",label:t(a.magazin.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:c.handleChange,value:c.values.name,error:!!(c.touched.name&&c.errors.name),helperText:c.touched.name&&c.errors.name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.magazin.Ville),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"city",onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.magazin.Capacity),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"number",name:"capacity",onChange:c.handleChange,value:c.values.capacity,error:!!(c.touched.capacity&&c.errors.capacity),helperText:c.touched.capacity&&c.errors.capacity,style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(a.global.modifier)})]})]})}),e.jsx(xe,{confirmed:n,cancel:()=>s(P.actions.openCloseConfirm()),isConfirm:p})]})}const bn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function vn(){const s=U(),{t,i18n:h}=R(),{magazin:r,isModalAdd:g,isConfirm:p}=Y(i=>i.magazin),f=me({name:N().required(t(a.magazin.firstNameRequired)),city:N().required(t(a.magazin.firstNameRequired)),capacity:ue().required(t(a.magazin.capacityRequired)).min(0,t(a.magazin.capacityMin))}),c=pe({initialValues:{name:"",city:"",capacity:""},validationSchema:f,onSubmit:async(i,{resetForm:u,setErrors:d})=>{L.post("/warehouse/add/",i).then(l=>{s(P.actions.addMagazin(l.data)),s(P.actions.openCloseModalAdd()),s(P.actions.openCloseConfirm()),F.success(t(a.magazin.toastAddSuccess)),u()}).catch(l=>{s(P.actions.openCloseConfirm()),F.error(t(a.magazin.toastError))})}}),o=async i=>{i.preventDefault();const u=await c.validateForm();Object.keys(u).length===0?s(P.actions.openCloseConfirm()):await c.submitForm()},n=()=>{c.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:g,onClose:()=>s(P.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:bn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(b,{id:"modal-modal-title",variant:"h6",component:"h2",children:t(a.magazin.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(P.actions.openCloseModalAdd()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:i=>o(i),children:[e.jsx(k,{id:"outlined-basic",label:t(a.magazin.Nom),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:c.handleChange,value:c.values.name,error:!!(c.touched.name&&c.errors.name),helperText:c.touched.name&&c.errors.name,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.magazin.Ville),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"text",name:"city",onChange:c.handleChange,value:c.values.city,error:!!(c.touched.city&&c.errors.city),helperText:c.touched.city&&c.errors.city,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.magazin.Capacity),variant:"outlined",onBlur:c.handleBlur,fullWidth:!0,type:"number",name:"capacity",onChange:c.handleChange,value:c.values.capacity,error:!!(c.touched.capacity&&c.errors.capacity),helperText:c.touched.capacity&&c.errors.capacity,style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(a.global.ajouter)})]})]})}),e.jsx(xe,{confirmed:n,cancel:()=>s(P.actions.openCloseConfirm()),isConfirm:p})]})}function Cn(){const{currentData:s,isModalDelete:t}=Y(f=>f.magazin),h=U(),{t:r,i18n:g}=R(),p=()=>{L.delete(`/warehouse/delete/${s.id}`).then(f=>{h(P.actions.deleteMagazin()),h(P.actions.openCloseModalDelete()),F.success(r(a.magazin.toastDeleteSuccess))}).catch(f=>{h(P.actions.openCloseModalDelete()),F.error(r(a.magazin.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(P.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(_e,{title:r(a.magazin.deleteTitle),message:`${r(a.magazin.deleteDescription)} ${s.name} ${r(a.magazin.poncuation)}`,deleteFn:p,cancel:()=>h(P.actions.openCloseModalDelete())})})}function wn(){const{isModalAdd:s,isModalUpdate:t}=Y(h=>h.magazin);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(re,{children:e.jsx(fn,{})}),s&&e.jsx(vn,{}),t&&e.jsx(yn,{}),e.jsx(Cn,{})]})}const _n=w.memo(s=>{const t=JSON.parse(sessionStorage.getItem("user")),h=U();let{count:r=0,items:g=[],onDeselectAll:p,onDeselectOne:f,onSelectAll:c,onSelectOne:o,selected:n=[],isError:i}=s;const[u,d]=w.useState(1),[l,m]=w.useState(25),{t:x,i18n:y}=R(),E=(B,_)=>{const v=g.filter(C=>C.id==B)[0];h(A.actions.setCurrentData(v)),h(_?A.actions.openCloseModalUpdate():A.actions.openCloseModalDelete())},D=(B,_)=>{d(_)},M=g==null?void 0:g.slice((u-1)*l,u*l);return w.useEffect(()=>{d(1)},[g]),e.jsxs(z,{sx:{position:"relative"},children:[e.jsx(ze,{component:Pe,children:e.jsxs(fe,{sx:{minWidth:700},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(j,{children:t!=null&&t.is_eleveur?x(a.batiment.Nom):x(a.fournisseur.Nom)}),!(t!=null&&t.is_eleveur)&&e.jsx(j,{children:x(a.batiment.Telephone)}),e.jsx(j,{children:x(a.batiment.Ville)}),e.jsx(j,{})]})}),s.isLoading?e.jsx(We,{rowsNum:10}):e.jsx(ye,{children:(M==null?void 0:M.length)>0?M==null?void 0:M.map(B=>e.jsxs(Q,{hover:!0,children:[e.jsx(j,{children:e.jsx($,{alignItems:"center",direction:"row",spacing:1,children:e.jsxs("div",{children:[B.name," ",B.last_name,e.jsx(b,{color:"text.secondary",variant:"body2",children:B==null?void 0:B.email})]})})}),!(t!=null&&t.is_eleveur)&&e.jsx(j,{children:B.tel_num}),e.jsx(j,{children:B.city}),e.jsxs(j,{children:[e.jsx(J,{color:"warning",onClick:()=>E(B.id,!0),children:e.jsx(H,{children:e.jsx(Ee,{})})}),B.is_deletable&&e.jsx(J,{color:"error",onClick:()=>E(B.id,!1),children:e.jsx(H,{children:e.jsx(Le,{})})})]})]},B.id)):e.jsx(Q,{children:e.jsx(j,{colSpan:5,sx:{textAlign:"center"},children:x(a.batiment.nothingToDisplay)})})})]})}),e.jsx(z,{sx:{display:"flex",justifyContent:"end",p:"5px"},children:e.jsx(Re,{count:Math.ceil(r/l),defaultPage:u,onChange:D,color:"primary",size:"large"})}),i&&e.jsx(Ue,{})]})});function Sn(){const s=JSON.parse(sessionStorage.getItem("user")),t=U(),{t:h,i18n:r}=R(),{batiment:g}=Y(f=>f.batiment),p=le("batiment",he.getBatiment);return w.useEffect(()=>{p.status=="success"&&t(A.actions.fetchBatiment(p.data))},[p.status]),e.jsx(Ye,{maxWidth:"xl",children:e.jsxs(G,{spacing:4,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx(G,{spacing:1,children:e.jsxs(b,{variant:"h4",children:[" ",s!=null&&s.is_eleveur?h(a.batiment.title):h(a.fournisseur.title)]})}),e.jsx(G,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(H,{children:e.jsx(we,{})}),variant:"contained",onClick:()=>t(A.actions.openCloseModalAdd()),children:h(a.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(_n,{isLoading:p.isLoading,items:g,count:g.length,rowsPerPage:25,isError:p.isError})})]})})}const kn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Mn(){const s=U(),{t,i18n:h}=R(),r=JSON.parse(sessionStorage.getItem("user")),{currentData:g,isModalUpdate:p,isConfirm:f}=Y(l=>l.batiment),[c,o]=w.useState({name:N().required(r!=null&&r.is_eleveur?t(a.batiment.nameRequired):t(a.fournisseur.nameRequired)),last_name:N().required(t(a.fournisseur.lastNameRequired)),tel_num:N().required(t(a.client.telRequired)).matches(/^[0-9]{10}$/,t(a.client.telMatch)),email:N().email(t(a.login.emailValid)).required(t(a.login.emailRequired)),city:N().required(t(a.client.cityRequired))}),n=me(c),i=pe({initialValues:{name:"",tel_num:"",email:r!=null&&r.is_eleveur?null:"",city:r!=null&&r.is_eleveur?null:""},validationSchema:n,onSubmit:async(l,{resetForm:m,setErrors:x})=>{console.log(l),L.put("/eggsource/update/",l).then(y=>{s(A.actions.editBatiment(y.data)),s(A.actions.openCloseModalUpdate()),s(A.actions.openCloseConfirm()),F.success(r!=null&&r.is_eleveur?t(a.batiment.toastUpdateSuccess):t(a.fournisseur.toastUpdateSuccess)),m()}).catch(y=>{s(A.actions.openCloseConfirm()),F.error(t(a.global.toastError))})}});w.useEffect(()=>{i.setValues(g);let l=c;r!=null&&r.is_eleveur&&(delete l.tel_num,delete l.email,delete l.last_name,o(l))},[g]);const u=async l=>{l.preventDefault();const m=await i.validateForm();Object.keys(m).length===0?s(A.actions.openCloseConfirm()):await i.submitForm()},d=()=>{i.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:p,onClose:()=>s(A.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:kn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(b,{id:"modal-modal-title",variant:"h6",component:"h2",children:r!=null&&r.is_eleveur?t(a.batiment.update):t(a.fournisseur.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(A.actions.openCloseModalUpdate()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:l=>u(l),children:[e.jsx(k,{id:"outlined-basic",label:r!=null&&r.is_eleveur?t(a.batiment.Nom):t(a.fournisseur.Nom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:i.handleChange,value:i.values.name,error:!!(i.touched.name&&i.errors.name),helperText:i.touched.name&&i.errors.name,style:{marginBottom:"15px"}}),!(r!=null&&r.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(a.fournisseur.Prenom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:i.handleChange,value:i.values.last_name,error:!!(i.touched.last_name&&i.errors.last_name),helperText:i.touched.last_name&&i.errors.last_name,style:{marginBottom:"15px"}}),!(r!=null&&r.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(a.batiment.Telephone),variant:"outlined",value:i.values.tel_num,onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:i.handleChange,error:!!(i.touched.tel_num&&i.errors.tel_num),helperText:i.touched.tel_num&&i.errors.tel_num,style:{marginBottom:"15px"}}),!(r!=null&&r.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(a.batiment.Email),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:i.handleChange,value:i.values.email,error:!!(i.touched.email&&i.errors.email),helperText:i.touched.email&&i.errors.email,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.batiment.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.city,error:!!(i.touched.city&&i.errors.city),helperText:i.touched.city&&i.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(a.global.modifier)})]})]})}),e.jsx(xe,{confirmed:d,cancel:()=>s(A.actions.openCloseConfirm()),isConfirm:f})]})}const Bn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Tn(){const s=U(),{t,i18n:h}=R(),r=JSON.parse(sessionStorage.getItem("user")),{batiment:g,isModalAdd:p,isConfirm:f}=Y(l=>l.batiment),[c,o]=w.useState({name:N().required(r!=null&&r.is_eleveur?t(a.batiment.nameRequired):t(a.fournisseur.firstNameRequired)),last_name:N().required(t(a.fournisseur.lastNameRequired)),tel_num:N().required(t(a.client.telRequired)).matches(/^[0-9]{10}$/,t(a.client.telMatch)),email:N().email(t(a.login.emailValid)).required(t(a.login.emailRequired)),city:N().required(t(a.client.cityRequired))}),n=me(c),i=pe({initialValues:{name:"",tel_num:r!=null&&r.is_eleveur?null:"",email:r!=null&&r.is_eleveur?null:"",city:""},validationSchema:n,onSubmit:async(l,{resetForm:m,setErrors:x})=>{L.post("/eggsource/add/",l).then(y=>{s(A.actions.addBatiment(y.data)),s(A.actions.openCloseModalAdd()),s(A.actions.openCloseConfirm()),F.success(r!=null&&r.is_eleveur?t(a.batiment.toastAddSuccess):t(a.fournisseur.toastAddSuccess)),m()}).catch(y=>{s(A.actions.openCloseConfirm()),F.error(t(a.global.toastError))})}}),u=async l=>{l.preventDefault();const m=await i.validateForm();Object.keys(m).length===0?s(A.actions.openCloseConfirm()):await i.submitForm()},d=()=>{i.handleSubmit()};return w.useEffect(()=>{if(r!=null&&r.is_eleveur){let l=c;delete l.email,delete l.tel_num,delete l.last_name,o(l)}},[]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:p,onClose:()=>s(A.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:Bn,children:[e.jsxs(G,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(b,{id:"modal-modal-title",variant:"h6",component:"h2",children:r!=null&&r.is_eleveur?t(a.batiment.add):t(a.fournisseur.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>s(A.actions.openCloseModalAdd()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:l=>u(l),children:[e.jsx(k,{id:"outlined-basic",label:r!=null&&r.is_eleveur?t(a.batiment.Nom):t(a.client.Nom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"name",onChange:i.handleChange,value:i.values.name,error:!!(i.touched.name&&i.errors.name),helperText:i.touched.name&&i.errors.name,style:{marginBottom:"15px"}}),!(r!=null&&r.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(a.client.Prenom),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:i.handleChange,value:i.values.last_name,error:!!(i.touched.last_name&&i.errors.last_name),helperText:i.touched.last_name&&i.errors.last_name,style:{marginBottom:"15px"}}),!(r!=null&&r.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(a.batiment.Telephone),variant:"outlined",value:i.values.tel_num,onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:i.handleChange,error:!!(i.touched.tel_num&&i.errors.tel_num),helperText:i.touched.tel_num&&i.errors.tel_num,style:{marginBottom:"15px"}}),!(r!=null&&r.is_eleveur)&&e.jsx(k,{id:"outlined-basic",label:t(a.batiment.Email),variant:"outlined",onBlur:i.handleBlur,fullWidth:!0,type:"text",name:"email",onChange:i.handleChange,value:i.values.email,error:!!(i.touched.email&&i.errors.email),helperText:i.touched.email&&i.errors.email,style:{marginBottom:"15px"}}),e.jsx(k,{id:"outlined-basic",label:t(a.batiment.Ville),variant:"outlined",fullWidth:!0,type:"text",onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.city,error:!!(i.touched.city&&i.errors.city),helperText:i.touched.city&&i.errors.city,name:"city",style:{marginBottom:"15px"}}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:t(a.global.ajouter)})]})]})}),e.jsx(xe,{confirmed:d,cancel:()=>s(A.actions.openCloseConfirm()),isConfirm:f})]})}function Dn(){const{currentData:s,isModalDelete:t}=Y(c=>c.batiment),h=U(),{t:r,i18n:g}=R(),p=JSON.parse(sessionStorage.getItem("user")),f=()=>{L.delete(`/eggsource/delete/${s.id}`).then(c=>{h(A.actions.deleteBatiment()),h(A.actions.openCloseModalDelete()),F.success(p!=null&&p.is_eleveur?r(a.batiment.toastDeleteSuccess):r(a.fournisseur.toastDeleteSuccess))}).catch(c=>{h(A.actions.openCloseModalDelete()),F.error(r(a.global.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(A.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(_e,{title:p!=null&&p.is_eleveur?r(a.batiment.deleteTitle):r(a.fournisseur.deleteTitle),message:p!=null&&p.is_elever?r(a.batiment.deleteDescription):r(a.fournisseur.deleteDescription),deleteFn:f,cancel:()=>h(A.actions.openCloseModalDelete())})})}function En(){const{isModalAdd:s,isModalUpdate:t}=Y(h=>h.batiment);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(re,{children:e.jsx(Sn,{})}),s&&e.jsx(Tn,{}),t&&e.jsx(Mn,{}),e.jsx(Dn,{})]})}function $n({isOpen:s,id:t,close:h}){R();const[r,g]=w.useState(new Date),p=U(),f=()=>{L.put("/employee/activation/",{id:t,end_work:se(r).format("YYYY-MM-DD")}).then(c=>{p(q.actions.activateOeuvre({id:t})),p(q.actions.editOeuvre(c.data)),h()})};return e.jsx(ee,{open:s,children:e.jsxs(z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",width:350,border:"1px solid #000",boxShadow:24,p:3},children:[e.jsxs($,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(b,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Ajouter date du dimmession"}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h(),children:e.jsx(ce,{})})]}),e.jsxs("form",{children:[e.jsx(ge,{label:"Date du dimmession",value:r,onChange:c=>g(c),sx:{width:"100%"}}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(O,{variant:"contained",sx:{mt:1,mr:.5},onClick:f,children:"Envoyer"}),e.jsx(O,{variant:"contained",sx:{mt:1},color:"error",onClick:h,children:"Annuler"})]})]})]})})}function Fn(s){const{isLoading:t,items:h,count:r,rowsPerPage:g,isError:p}=s,[f,c]=w.useState(1),{t:o,i18n:n}=R(),i=U(),[u,d]=w.useState(!1),[l,m]=w.useState();let[x,y]=w.useState(0);const E=(v,C)=>{const S=h.filter(T=>T.id==v)[0];i(q.actions.setCurrentData(S)),C=="update"?i(q.actions.openCloseModalUpdate()):i(q.actions.openCloseModalDelete())},D=(v,C)=>{c(C)},M=h==null?void 0:h.slice((f-1)*g,f*g);w.useEffect(()=>{c(1)},[h]);const B=v=>{m(v.target.value),v.target.checked?L.put("/employee/activation/",{id:v.target.value}).then(C=>{i(q.actions.activateOeuvre({id:l})),i(q.actions.editOeuvre(C.data))}):(v.target.checked=!v.target.checked,d(!0))},_=()=>{y(x+1),d(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(z,{sx:{position:"relative"},children:[e.jsx(ze,{component:Pe,children:e.jsxs(fe,{sx:{minWidth:700,overflowX:"auto"},children:[e.jsx(je,{children:e.jsxs(Q,{children:[e.jsx(j,{}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:o(a.employee.CIN)}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:o(a.client.Telephone)}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:o(a.employee.Adresse)}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:o(a.employee.StartDate)}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:o(a.employee.EndDate)}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:o(a.employee.ContractType)}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:o(a.employee.Registration)}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:o(a.employee.BirthDate)}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:o(a.employee.PaymentDeadline)}),e.jsx(j,{})]})}),t?e.jsx(We,{rowsNum:10,cellNum:11}):e.jsx(ye,{children:h.length>0?M==null?void 0:M.map(v=>{const C=new Date(v.start_work),S=new Date(v.end_work),T=new Date(v.b_day);return e.jsxs(Q,{children:[e.jsx(j,{sx:{whiteSpace:"nowrap"},children:e.jsxs($,{alignItems:"center",direction:"row",spacing:1,children:[e.jsx(at,{variant:"dot",color:v.is_active?"success":"error",anchorOrigin:{vertical:"bottom",horizontal:"right"},overlap:"circular",badgeContent:" ",sx:{"& .MuiBadge-badge":{minWidth:"14px",height:"14px",fontSize:"0.75rem",borderRadius:"100%",border:"2px solid #fff"}},children:e.jsx(Ve,{sx:{bgcolor:v.is_active?"rgb(19, 194, 194)":"",color:"white",width:45,height:45},children:v.first_name[0]+" "+v.last_name[0]})}),e.jsx("div",{children:v.first_name+" "+v.last_name})]})}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:v.cin}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:v.tel_num}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:v.addr}),e.jsxs(j,{sx:{whiteSpace:"nowrap"},children:[" ",`${C.getDate()}`.padStart(2,0),"/",`${C.getMonth()+1}`.padStart(2,0),"/",C.getFullYear()]}),e.jsxs(j,{sx:{whiteSpace:"nowrap"},children:[" ",S.getFullYear()!="1970"?`${`${S.getDate()}`.padStart(2,0)}/${`${S.getMonth()+1}`.padStart(2,0)}/${S.getFullYear()}`:""]}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:v.contract_type}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:v.registration}),e.jsxs(j,{sx:{whiteSpace:"nowrap"},children:[`${T.getDate()}`.padStart(2,0),"/",`${T.getMonth()+1}`.padStart(2,0),"/",T.getFullYear()]}),e.jsx(j,{sx:{whiteSpace:"nowrap"},children:v.payment_rate}),e.jsxs(j,{sx:{whiteSpace:"nowrap"},children:[e.jsx(J,{color:"warning",onClick:()=>E(v.id,"update"),children:e.jsx(H,{children:e.jsx(Ee,{})})}),e.jsx(J,{color:"error",onClick:()=>E(v.id,"delete"),children:e.jsx(H,{children:e.jsx(Le,{})})}),e.jsx(Ce,{color:"secondary",defaultChecked:v.is_active,value:v.id,onChange:V=>B(V)})]})]},v.id)}):e.jsx(Q,{children:e.jsx(j,{colSpan:10,sx:{textAlign:"center"},children:o(a.magazin.nothingToDisplay)})})})]})},x),e.jsx(z,{sx:{display:"flex",justifyContent:"end",p:"5px"},children:e.jsx(Re,{count:Math.ceil(r/g),defaultPage:f,onChange:D,color:"primary",size:"large"})})]}),e.jsx($n,{isOpen:u,id:l,close:_})]})}function Nn(){const s=U(),{t,i18n:h}=R(),r=le("mainOeuvre",he.fetchOeuvre),{oeuvre:g}=Y(p=>p.mainDoeuvre);return w.useEffect(()=>{r.isLoading||s(q.actions.fetchOeuvre(r.data))},[r.isLoading]),e.jsx(Ae,{maxWidth:"xl",children:e.jsxs($,{spacing:4,children:[e.jsxs($,{direction:"row",justifyContent:"space-between",spacing:4,children:[e.jsx($,{spacing:1,children:e.jsx(b,{variant:"h4",children:t(a.employee.title)})}),e.jsx($,{alignItems:"center",direction:"row",spacing:3,children:e.jsx(O,{startIcon:e.jsx(H,{children:e.jsx(we,{})}),variant:"contained",onClick:()=>s(q.actions.openCloseModalAdd()),children:t(a.global.ajouter)})})]}),e.jsx(K,{children:e.jsx(Fn,{isLoading:r.isLoading,items:g,count:g.length,rowsPerPage:25,isError:r.isError})})]})})}const qn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function In({paimentDelai:s,contracts:t}){se.locale("fr");const h=U(),{t:r,i18n:g}=R(),p=[{key:"cin",message:r(a.employee.cinDuplicated)},{key:"registration",message:r(a.employee.registerDuplicated)},{key:"tel_num",message:r(a.employee.telNumDuplicated)}],{isModalAdd:f,isConfirm:c}=Y(u=>u.mainDoeuvre),o=pe({initialValues:{first_name:"",last_name:"",cin:"",registration:null,b_day:null,start_work:null,end_work:null,tel_num:"",addr:"",type:null,rate:null},validationSchema:me({first_name:N().required(r(a.employee.firstNameRequired)).min(2,r(a.employee.firstNameMin)).max(50,r(a.employee.firstNameMax)),last_name:N().required(r(a.employee.lastNameRequired)).min(2,r(a.employee.lastNameMin)).max(50,r(a.employee.lastNameMax)),cin:N().required(r(a.employee.cinRequired)).matches(/^[A-Za-z0-9]+$/,r(a.employee.cinAlphanumeric)).max(20,r(a.employee.cinMax)),registration:ue().required(r(a.employee.registrationRequired)).typeError(r(a.employee.registrationTypeError)).positive(r(a.employee.registrationPositive)),b_day:ve().required(r(a.employee.birthDateRequired)).typeError(r(a.employee.birthDateTypeError)),start_work:ve().required(r(a.employee.startWorkRequired)).typeError(r(a.employee.startWorkTypeError)),end_work:ve().nullable().typeError(r(a.employee.endWorkTypeError)).min(ot("start_work"),r(a.employee.endWorkMin)),tel_num:N().required(r(a.employee.telNumRequired)).matches(/^[0-9]{10}$/,r(a.employee.telNumValid)),addr:N().required(r(a.employee.addrRequired)).max(100,r(a.employee.addrMax)),type:ue().required(r(a.employee.rateTypeRequired)).typeError(r(a.employee.typeTypeError)).integer(r(a.employee.typeInteger)),rate:ue().required(r(a.employee.rateTypeRequired)).typeError(r(a.employee.rateTypeError))}),onSubmit:async(u,{setErrors:d,setFieldError:l})=>{let m={...u};m.b_day=se(m.b_day).format("YYYY-MM-DD"),m.start_work=se(m.start_work).format("YYYY-MM-DD"),m.end_work=m.end_work!==null?se(m.end_work).format("YYYY-MM-DD"):"",L.post("/employee/add/",m).then(x=>{h(q.actions.addOeuvre(x.data)),h(q.actions.openCloseModalAdd()),h(q.actions.openCloseConfirm()),F.success(r(a.employee.toastAddSuccess))}).catch(x=>{h(q.actions.openCloseConfirm()),x.response.data.length>0?x.response.data.map(y=>{l(p[y-1].key,p[y-1].message)}):F.error(r(a.global.toastError))})}}),n=async u=>{u.preventDefault();const d=await o.validateForm();console.log(d),Object.keys(d).length===0?h(q.actions.openCloseConfirm()):await o.submitForm()},i=()=>{o.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:f,onClose:()=>h(q.actions.openCloseModalAdd()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:qn,children:[e.jsxs($,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(b,{id:"modal-modal-title",variant:"h6",component:"h2",children:r(a.employee.add)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h(q.actions.openCloseModalAdd()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:u=>n(u),children:[e.jsxs(W,{container:!0,spacing:2,children:[e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.client.Nom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:o.handleChange,value:o.values.first_name,error:!!(o.touched.first_name&&o.errors.first_name),helperText:o.touched.first_name&&o.errors.first_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.client.Prenom),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:o.handleChange,value:o.values.last_name,error:!!(o.touched.last_name&&o.errors.last_name),helperText:o.touched.last_name&&o.errors.last_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.employee.Adresse),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"addr",onChange:o.handleChange,value:o.values.addr,error:!!(o.touched.addr&&o.errors.addr),helperText:o.touched.addr&&o.errors.addr,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.client.Telephone),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:o.handleChange,value:o.values.tel_num,error:!!(o.touched.tel_num&&o.errors.tel_num),helperText:o.touched.tel_num&&o.errors.tel_num,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.employee.CIN),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"cin",onChange:o.handleChange,value:o.values.cin,error:!!(o.touched.cin&&o.errors.cin),helperText:o.touched.cin&&o.errors.cin,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(ge,{label:r(a.employee.BirthDate),variant:"outlined",fullWidth:!0,name:"b_day",value:o.values.b_day,onChange:u=>o.setFieldValue("b_day",u),slotProps:{textField:{variant:"outlined",error:!!(o.touched.b_day&&o.errors.b_day),helperText:o.touched.b_day&&o.errors.b_day}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.employee.Registration),variant:"outlined",onBlur:o.handleBlur,fullWidth:!0,type:"text",name:"registration",onChange:o.handleChange,value:o.values.registration,error:!!(o.touched.registration&&o.errors.registration),helperText:o.touched.registration&&o.errors.registration,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(ge,{label:r(a.employee.StartDate),variant:"outlined",fullWidth:!0,name:"start_work",value:o.values.start_work,onChange:u=>o.setFieldValue("start_work",u),slotProps:{textField:{variant:"outlined",error:!!(o.touched.start_work&&o.errors.start_work),helperText:o.touched.start_work&&o.errors.start_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(ge,{label:r(a.employee.EndDate),variant:"outlined",fullWidth:!0,name:"end_work",value:o.values.end_work,onChange:u=>o.setFieldValue("end_work",u),slotProps:{textField:{variant:"outlined",error:!!(o.touched.end_work&&o.errors.end_work),helperText:o.touched.end_work&&o.errors.end_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(Fe,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(o.touched.type&&o.errors.type),children:[e.jsx(Ne,{id:"batiment-id",children:r(a.employee.ContractType)}),e.jsx(qe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:o.handleBlur,fullWidth:!0,name:"type",onChange:o.handleChange,value:o.values.type,label:r(a.employee.ContractType),children:t.length>0?t.map(u=>e.jsx(de,{value:u.id,children:u.value},u.id)):e.jsx(de,{children:r(a.batiment.nothingToDisplay)})}),o.touched.type&&o.errors.type&&e.jsx(Ie,{children:o.errors.type})]})}),e.jsx(W,{item:!0,xs:12,children:e.jsxs(Fe,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(o.touched.rate&&o.errors.rate),children:[e.jsx(Ne,{id:"batiment-id",children:r(a.employee.PaymentDeadline)}),e.jsx(qe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:o.handleBlur,fullWidth:!0,name:"rate",onChange:o.handleChange,value:o.values.rate,label:r(a.employee.PaymentDeadline),children:s.length>0?s.map(u=>e.jsx(de,{value:u.id,children:u.value},u.id)):e.jsx(de,{children:r(a.batiment.nothingToDisplay)})}),o.touched.rate&&o.errors.rate&&e.jsx(Ie,{children:o.errors.rate})]})})]}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:r(a.global.ajouter)})]})]})}),e.jsx(xe,{confirmed:i,cancel:()=>h(q.actions.openCloseConfirm()),isConfirm:c})]})}function Pn(){const{currentData:s,isModalDelete:t}=Y(f=>f.mainDoeuvre),h=U(),{t:r,i18n:g}=R(),p=()=>{L.delete(`/employee/delete/${s.id}`).then(f=>{h(q.actions.deleteOeuvre()),h(q.actions.openCloseModalDelete()),F.success(r(a.employee.toastDeleteSuccess))}).catch(f=>{h(q.actions.openCloseModalDelete()),F.error(r(a.global.toastError))})};return e.jsx(ee,{open:t,onClose:()=>h(q.actions.openCloseModalDelete()),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:e.jsx(_e,{title:r(a.employee.deleteConfirmTitle),message:r(a.employee.deleteConfirmMessage),deleteFn:p,cancel:()=>h(q.actions.openCloseModalDelete())})})}const An={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function zn({paimentDelai:s,contracts:t}){se.locale("fr");const h=U(),{t:r,i18n:g}=R(),{currentData:p,isModalUpdate:f,isConfirm:c}=Y(d=>d.mainDoeuvre),o=[{key:"cin",message:r(a.employee.cinDuplicated)},{key:"registration",message:r(a.employee.registerDuplicated)},{key:"tel_num",message:r(a.employee.telNumDuplicated)}],n=pe({initialValues:{first_name:"",last_name:"",cin:"",registration:null,b_day:null,start_work:null,end_work:null,tel_num:"",addr:"",type:null,rate:null},validationSchema:me({first_name:N().required(r(a.employee.firstNameRequired)).min(2,r(a.employee.firstNameMin)).max(50,r(a.employee.firstNameMax)),last_name:N().required(r(a.employee.lastNameRequired)).min(2,r(a.employee.lastNameMin)).max(50,r(a.employee.lastNameMax)),cin:N().required(r(a.employee.cinRequired)).matches(/^[A-Za-z0-9]+$/,r(a.employee.cinAlphanumeric)).max(20,r(a.employee.cinMax)),registration:ue().required(r(a.employee.registrationRequired)).typeError(r(a.employee.registrationTypeError)).positive(r(a.employee.registrationPositive)),b_day:ve().required(r(a.employee.birthDateRequiredbirthDateRequired)).typeError(r(a.employee.birthDateTypeError)),start_work:ve().required(r(a.employee.startWorkRequired)).typeError(r(a.employee.startWorkTypeError)),end_work:ve().nullable().typeError(r(a.employee.endWorkTypeError)).min(ot("start_work"),r(a.employee.endWorkMin)),tel_num:N().required(r(a.employee.telNumRequired)).matches(/^[0-9]{10}$/,r(a.employee.telNumValid)),addr:N().required(r(a.employee.addrRequired)).max(100,r(a.employee.addrMax)),type:ue().required(r(a.employee.rateTypeRequired)).typeError(r(a.employee.typeTypeError)).integer(r(a.employee.typeInteger)),rate:ue().required(r(a.employee.rateTypeRequired)).typeError(r(a.employee.rateTypeError))}),onSubmit:async(d,{setFieldError:l})=>{let m={...d};m.b_day=se(m.b_day).format("YYYY-MM-DD"),m.start_work=se(m.start_work).format("YYYY-MM-DD"),m.end_work=m.end_work!==null?se(m.end_work).format("YYYY-MM-DD"):"",L.put("/employee/update/",m).then(x=>{h(q.actions.editOeuvre(x.data)),h(q.actions.openCloseModalUpdate()),h(q.actions.openCloseConfirm()),F.success(r(a.employee.toastEditSuccess))}).catch(x=>{h(q.actions.openCloseConfirm()),x.response.data.length>0?x.response.data.map(y=>{l(o[y-1].key,o[y-1].message)}):F.error(r(a.global.toastError))})}}),i=async d=>{d.preventDefault();const l=await n.validateForm();Object.keys(l).length===0?h(q.actions.openCloseConfirm()):await n.submitForm()},u=()=>{n.handleSubmit()};return w.useEffect(()=>{let d={...p};console.log(d),d.b_day=new Date(d.b_day),d.start_work=new Date(d.start_work),d.end_work=d.end_work!==null?new Date(d.end_work):null,n.setValues(d)},[p]),e.jsxs(e.Fragment,{children:[e.jsx(ee,{open:f,onClose:()=>h(q.actions.openCloseModalUpdate()),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:e.jsxs(ne,{sx:An,children:[e.jsxs($,{direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"20px"},children:[e.jsx(b,{id:"modal-modal-title",variant:"h6",component:"h2",children:r(a.employee.update)}),e.jsx("div",{className:"cursor-pointer",onClick:()=>h(q.actions.openCloseModalUpdate()),children:e.jsx(ce,{})})]}),e.jsxs("form",{noValidate:!0,onSubmit:d=>i(d),children:[e.jsxs(W,{container:!0,spacing:2,children:[e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.client.Nom),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"first_name",onChange:n.handleChange,value:n.values.first_name,error:!!(n.touched.first_name&&n.errors.first_name),helperText:n.touched.first_name&&n.errors.first_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.client.Prenom),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"last_name",onChange:n.handleChange,value:n.values.last_name,error:!!(n.touched.last_name&&n.errors.last_name),helperText:n.touched.last_name&&n.errors.last_name,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.employee.Adresse),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"addr",onChange:n.handleChange,value:n.values.addr,error:!!(n.touched.addr&&n.errors.addr),helperText:n.touched.addr&&n.errors.addr,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.client.Telephone),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"tel_num",onChange:n.handleChange,value:n.values.tel_num,error:!!(n.touched.tel_num&&n.errors.tel_num),helperText:n.touched.tel_num&&n.errors.tel_num,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.employee.CIN),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"cin",onChange:n.handleChange,value:n.values.cin,error:!!(n.touched.cin&&n.errors.cin),helperText:n.touched.cin&&n.errors.cin,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(ge,{label:r(a.employee.BirthDate),variant:"outlined",fullWidth:!0,name:"b_day",value:n.values.b_day,onChange:d=>n.setFieldValue("b_day",d),slotProps:{textField:{variant:"outlined",error:!!(n.touched.b_day&&n.errors.b_day),helperText:n.touched.b_day&&n.errors.b_day}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(k,{id:"outlined-basic",label:r(a.employee.Registration),variant:"outlined",onBlur:n.handleBlur,fullWidth:!0,type:"text",name:"registration",onChange:n.handleChange,value:n.values.registration,error:!!(n.touched.registration&&n.errors.registration),helperText:n.touched.registration&&n.errors.registration,style:{marginBottom:"15px"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(ge,{label:r(a.employee.StartDate),variant:"outlined",fullWidth:!0,name:"start_work",value:n.values.start_work,onChange:d=>n.setFieldValue("start_work",d),slotProps:{textField:{variant:"outlined",error:!!(n.touched.start_work&&n.errors.start_work),helperText:n.touched.start_work&&n.errors.start_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsx(ge,{label:r(a.employee.EndDate),variant:"outlined",fullWidth:!0,name:"end_work",value:n.values.end_work,onChange:d=>n.setFieldValue("end_work",d),slotProps:{textField:{variant:"outlined",error:!!(n.touched.end_work&&n.errors.end_work),helperText:n.touched.end_work&&n.errors.end_work}},sx:{marginBottom:"15px",width:"100%"}})}),e.jsx(W,{item:!0,xs:6,children:e.jsxs(Fe,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(n.touched.type&&n.errors.type),children:[e.jsx(Ne,{id:"batiment-id",children:r(a.employee.ContractType)}),e.jsx(qe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:n.handleBlur,fullWidth:!0,name:"type",onChange:n.handleChange,value:n.values.type,label:r(a.employee.ContractType),children:t.length>0?t.map(d=>e.jsx(de,{value:d.id,children:d.value},d.id)):e.jsx(de,{children:r(a.batiment.nothingToDisplay)})}),n.touched.type&&n.errors.type&&e.jsx(Ie,{children:n.errors.type})]})}),e.jsx(W,{item:!0,xs:12,children:e.jsxs(Fe,{style:{marginBottom:"15px"},fullWidth:!0,error:!!(n.touched.rate&&n.errors.rate),children:[e.jsx(Ne,{id:"batiment-id",children:r(a.employee.PaymentDeadline)}),e.jsx(qe,{labelId:"batiment-id",id:"demo-simple-select",onBlur:n.handleBlur,fullWidth:!0,name:"rate",onChange:n.handleChange,value:n.values.rate,label:r(a.employee.PaymentDeadline),children:s.length>0?s.map(d=>e.jsx(de,{value:d.id,children:d.value},d.id)):e.jsx(de,{children:r(a.batiment.nothingToDisplay)})}),n.touched.rate&&n.errors.rate&&e.jsx(Ie,{children:n.errors.rate})]})})]}),e.jsx(O,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:r(a.global.modifier)})]})]})}),e.jsx(xe,{confirmed:u,cancel:()=>h(q.actions.openCloseConfirm()),isConfirm:c})]})}function Rn(){const s=le("paimentDelai",he.fetchPaymentRate),t=le("contracts",he.fetchContract),{isModalAdd:h,isModalUpdate:r}=Y(g=>g.mainDoeuvre);return e.jsxs(ne,{component:"main",sx:{flexGrow:1,py:8},children:[e.jsx(re,{children:e.jsx(Nn,{})}),r&&e.jsx(zn,{paimentDelai:s.data,contracts:t.data}),h&&e.jsx(In,{paimentDelai:s.data,contracts:t.data}),e.jsx(Pn,{})]})}function Wn(){const s=le("expense",he.fetchExpenseType,{}),[t,h]=w.useState(""),[r,g]=w.useState([]),[p,f]=w.useState(""),[c,o]=w.useState(!1),[n,i]=w.useState(),[u,d]=w.useState(),{t:l,i18n:m}=R(),x=it(),y=C=>{h(C.target.value)},E=C=>{f(C.target.value)},D=C=>{C.preventDefault(),L.post("/expensestype/add/",{name:t}).then(S=>{g(T=>[...T,S.data]),h(""),F.success(l(a.depense.addsuccess)),x.invalidateQueries("expense")})},M=C=>{i(C),o(!0)},B=()=>{L.delete("/expensestype/delete/"+n).then(C=>{g(S=>S.filter(T=>T.id!=n)),o(!1),x.invalidateQueries("expense"),F.success(l(a.depense.deletesuccess))})},_=C=>{d(C)},v=()=>{L.put("/expensestype/update/",{id:u,name:p}).then(C=>{const S=r,T=S.findIndex(V=>V.id==u);S[T]=C.data,g(S),d(null),f(""),x.invalidateQueries("expense"),F.success(l(a.depense.editsuccess))})};return w.useEffect(()=>{s.isLoading||g(s.data)},[s.isLoading]),e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsx(b,{variant:"h5",mb:2,children:l(a.depense.titleType)}),e.jsx("form",{onSubmit:D,children:e.jsxs($,{direction:"row",spacing:2,children:[e.jsx(k,{label:l(a.depense.addlabel),fullWidth:!0,value:t,onChange:y}),e.jsx(O,{type:"submit",variant:"contained",endIcon:e.jsx(we,{}),disabled:t=="",children:l(a.depense.addbutton)})]})}),s.isLoading?[...Array(5)].map(()=>e.jsx(lt,{variant:"rectangular",width:"100%",height:"40px",sx:{mt:2}})):(r==null?void 0:r.length)>0?r==null?void 0:r.map(C=>e.jsx(z,{sx:{mt:2,backgroundColor:S=>S.palette.mode==="dark"?"neutral.800":S.palette.primary.light,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"5px",p:.4},children:e.jsx($,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:u!==C.id?e.jsxs(e.Fragment,{children:[e.jsx(b,{children:C.name}),e.jsxs(z,{children:[e.jsx(J,{onClick:()=>_(C.id),children:e.jsx(ct,{})}),e.jsx(J,{onClick:()=>M(C.id),children:e.jsx(dt,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{fullWidth:!0,value:p,autoFocus:!0,variant:"filled",onChange:E,size:"medium"}),e.jsx(J,{onClick:v,disabled:p=="",children:e.jsx(ut,{color:"success"})}),e.jsx(J,{onClick:()=>d(null),children:e.jsx(st,{color:"error"})})]})})})):e.jsx(b,{variant:"subtitle2",textAlign:"center",mt:2,children:l(a.client.nothingToDisplay)})]}),e.jsx(ee,{open:c,children:e.jsx(_e,{title:l(a.depense.deletetitle),message:l(a.depense.deletemessage),cancel:()=>o(!1),deleteFn:B})})]})}function Ln(){var C;const s=le("expenseDivers",he.fetchDiversType,{}),t=it(),[h,r]=w.useState(""),[g,p]=w.useState([]),[f,c]=w.useState(""),[o,n]=w.useState(!1),[i,u]=w.useState(),[d,l]=w.useState(),{t:m,i18n:x}=R(),y=S=>{r(S.target.value)},E=S=>{c(S.target.value)},D=S=>{S.preventDefault(),L.post("/otherexpensestype/add/",{type:h}).then(T=>{p(V=>[...V,T.data]),r(""),t.invalidateQueries("expenseDivers"),F.success(m(a.depense.addsuccess))}).catch(T=>{F.error(m(a.global.toastError))})},M=S=>{u(S),n(!0)},B=()=>{L.delete("/otherexpensestype/delete/"+i).then(S=>{p(T=>T.filter(V=>V.id!=i)),n(!1),t.invalidateQueries("expenseDivers"),F.success(m(a.depense.deletesuccess))}).catch(S=>{F.error(m(a.global.toastError)),n(!1)})},_=S=>{l(S)},v=()=>{L.put("/otherexpensestype/update/",{id:d,type:f}).then(S=>{const T=g,V=T.findIndex(Se=>Se.id==d);T[V]=S.data,p(T),l(null),c(""),t.invalidateQueries("expenseDivers"),F.success(m(a.depense.editsuccess))}).catch(S=>{l(null),F.error(m(a.global.toastError))})};return w.useEffect(()=>{s.isLoading||p(s.data)},[s.isLoading]),e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsx(b,{variant:"h5",mb:2,children:m(a.divers.titleType)}),e.jsxs("form",{onSubmit:D,children:[e.jsxs($,{direction:"row",spacing:2,children:[e.jsx(k,{label:m(a.depense.addlabel),fullWidth:!0,value:h,onChange:y}),e.jsx(O,{type:"submit",variant:"contained",endIcon:e.jsx(we,{}),disabled:h=="",children:m(a.depense.addbutton)})]}),console.log(s.length)]}),s.isLoading?[...Array(5)].map(()=>e.jsx(lt,{variant:"rectangular",width:"100%",height:"40px",sx:{mt:2}})):((C=s==null?void 0:s.data)==null?void 0:C.length)>0?g.map(S=>e.jsx(z,{sx:{mt:2,backgroundColor:T=>T.palette.mode==="dark"?"neutral.800":T.palette.primary.light,border:"1px solid rgba(0,0,0,0.2)",borderRadius:"5px",p:.4},children:e.jsx($,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:d!==S.id?e.jsxs(e.Fragment,{children:[e.jsx(b,{children:S.type}),e.jsxs(z,{children:[e.jsx(J,{onClick:()=>_(S.id),children:e.jsx(ct,{})}),e.jsx(J,{onClick:()=>M(S.id),children:e.jsx(dt,{})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{fullWidth:!0,autoFocus:!0,value:f,variant:"filled",onChange:E,size:"medium"}),e.jsx(J,{onClick:v,disabled:f=="",children:e.jsx(ut,{color:"success"})}),e.jsx(J,{onClick:()=>l(null),children:e.jsx(st,{color:"error"})})]})})})):e.jsx(b,{variant:"subtitle2",textAlign:"center",mt:2,children:m(a.client.nothingToDisplay)})]}),e.jsx(ee,{open:o,children:e.jsx(_e,{title:m(a.depense.deletetitle),message:m(a.depense.deletemessage),cancel:()=>n(!1),deleteFn:B})})]})}const ke=new Date,sr=()=>{const s=JSON.parse(sessionStorage.getItem("user")),{t,i18n:h}=R(),[r,g]=w.useState("client"),[p,f]=w.useState([{label:t(a.nav.client),value:"client"},!(s!=null&&s.is_eleveur)&&{label:t(a.employee.title),value:"mainDoeuvre"},{label:t(a.nav.waerhouse),value:"magasin"},{label:s!=null&&s.is_eleveur?t(a.batiment.title):t(a.fournisseur.title),value:"batiment"},{label:t(a.nav.eggTypeChange),value:"Modifier type d'oeuf"},!(s!=null&&s.is_eleveur)&&{label:t(a.nav.depenseMensuel),value:"depenseMensuel"},!(s!=null&&s.is_eleveur)&&{label:t(a.nav.depenseDivers),value:"depenseDivers"}].filter(o=>o!==!1));zt();const c=w.useCallback((o,n)=>{g(n)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(At,{title:`ESM | ${t(a.global.setting)}`}),e.jsx(z,{component:"main",sx:{flexGrow:1,py:8},children:e.jsxs(Ae,{maxWidth:"xl",children:[e.jsxs($,{spacing:3,sx:{mb:3},children:[e.jsx(b,{variant:"h4",children:t(a.global.setting)}),e.jsxs("div",{children:[e.jsx(Lt,{indicatorColor:"primary",onChange:c,scrollButtons:"auto",textColor:"primary",value:r,variant:"scrollable",children:p.map(o=>e.jsx(Ot,{label:o.label,value:o.value},o.value))}),e.jsx(Be,{})]})]}),r==="Modifier type d'oeuf"&&e.jsx(nn,{}),r==="billing"&&e.jsx(pt,{plan:"standard",invoices:[{id:"5547409069c59755261f5546",amount:4.99,createdAt:Oe(ke,1).getTime()},{id:"a3e17f4b551ff8766903f31f",amount:4.99,createdAt:Oe(ke,2).getTime()},{id:"28ca7c66fc360d8203644256",amount:4.99,createdAt:Oe(ke,3).getTime()}]}),r==="team"&&e.jsx(gt,{members:[{avatar:"/assets/avatars/avatar-cao-yu.png",email:"cao.yu@devias.io",name:"Cao Yu",role:"Owner"},{avatar:"/assets/avatars/avatar-siegbert-gottfried.png",email:"siegbert.gottfried@devias.io",name:"Siegbert Gottfried",role:"Standard"}]}),r==="notifications"&&e.jsx(rn,{}),r==="security"&&e.jsx(ft,{loginEvents:[{id:"1bd6d44321cb78fd915462fa",createdAt:Je(Xe(Ke(ke,5),7),1).getTime(),ip:"95.130.17.84",type:"Credential login",userAgent:"Chrome, Mac OS 10.15.7"},{id:"bde169c2fe9adea5d4598ea9",createdAt:Je(Xe(Ke(ke,25),9),1).getTime(),ip:"95.130.17.84",type:"Credential login",userAgent:"Chrome, Mac OS 10.15.7"}]}),r==="client"&&e.jsx(re,{children:e.jsx(xn,{})}),r==="mainDoeuvre"&&e.jsx(re,{children:e.jsx(Rn,{})}),r==="magasin"&&e.jsx(re,{children:e.jsx(wn,{})}),r==="batiment"&&e.jsx(re,{children:e.jsx(En,{})}),r==="depenseMensuel"&&e.jsx(re,{children:e.jsx(Wn,{})}),r==="depenseDivers"&&e.jsx(re,{children:e.jsx(Ln,{})})]})})]})};export{sr as default};
