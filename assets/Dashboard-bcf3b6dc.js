import{c as Fr,j as G,aJ as ah,aK as An,aL as xa,aM as oh,aN as lh,aO as Vr,af as hh,r as be,ap as pe,aw as Pr,ay as ls,aq as K,as as He,ar as li,ax as Et,au as fs,aF as fi,av as Mr,at as ze,aC as At,aP as ch,aD as uh,az as xe,aA as Bo,aB as jn,aQ as Do,aE as kn,aG as Ee,aH as Zs,aI as $s,aR as dh,aS as Ve,aT as yt,aU as hn,aV as Fo,aW as xr,aX as cn,aY as ys,aZ as un,a_ as Hr,a$ as fh,b0 as dn,b1 as cr,b2 as ph,s as Xn,d as hi,b3 as Yn,T as st,l as je,m as gh,h as ti,H as wa,a2 as Nr,X as No,a1 as ei,i as zr,$ as Gn,B as ps,b4 as bs,a7 as mh,b5 as vh,b6 as Sa,O as Un,k as yh,Y as bh,P as xh,a6 as Ks,a as zo,ak as _o,ae as Er,b7 as Js,b8 as xs,b9 as wh,S as Sh,C as Ch}from"./index-2315324d.js";import{Q as Ah,e as qn,T as Zn,d as $n,b as Or,c as oi,f as Kn,G as vt,S as is,i as Ca,B as kh,j as Vo,u as Gi,E as wr,h as Th}from"./moment-0b0e8416.js";import{u as Lh}from"./use-page-view-040c0d73.js";import{T as Jn,C as Ho}from"./TableRowsLoader-12723a10.js";import{E as Qn}from"./Eye-ae0c2454.js";import{ao as Wo,a as Ph,R as Ye,ac as ws,ad as Ss,as as Ot,S as Qt,at as Bi,au as Aa,av as _s,c as Be,Q as Si,b as ye,aw as mi,ax as Cs,ay as es,az as fn,Y as rr,_ as Ti,h as Ze,z as $t,r as It,aA as jo,m as jt,aB as ka,aC as Xo,a6 as Tn,P as Rr,aD as Eh,B as gs,a5 as Yo,F as Mh,aE as Oh,A as Go,f as Ut,aF as Rh,aG as si,D as Ih,s as Ta,aH as Cr,aI as Bh,ag as Uo,aJ as Ir,V as nr,aK as Ln,aL as Dh,E as Fh,C as ts,aM as Nh,aN as qo,aj as Pn,ak as hs,aO as Zo,aP as $o,aQ as zh,aR as _h,p as Vs,aS as Vh,aT as Hs,aU as En,o as La,T as Hh,U as Pa,g as Wh,X as pn,Z as gn,W as Ea,aV as As,N as jh,u as Ma,v as Xh,M as Yh,I as Gh,J as Uh,K as qh,aW as Zh,aX as $h,aY as Kh,aZ as Jh,x as Qh,y as ec,G as Oa,t as tc,q as ic,n as rc,O as Ko,a_ as Ra,a$ as sc,b0 as nc,b1 as ac,b2 as oc,a2 as lc,a1 as hc,a4 as cc,a0 as uc,b3 as dc,b4 as Li,b5 as rs,b6 as Jo,b7 as fc,b8 as Qo,b9 as ur,k as el,ba as tl,bb as pc,bc as Pi,bd as gc,be as Ui,bf as mc,am as Ia,bg as vc,bh as il,bi as mn,an as yc,bj as bc,ae as Ba,a9 as xc,bk as Wr,bl as wc,ah as Sc,af as Cc,ai as Ac,bm as ks,al as kc,L as jr,bn as Da,bo as Fa,bp as Na,bq as za,$ as Tc,a7 as dr,a8 as Lc,br as Ts,bs as _a,ap as ea,aq as ta,ar as rl}from"./tooltip-5c5754b3.js";import{M as Pc}from"./ModalDetails-6c9a0c28.js";import{C as Wi,b as ia}from"./formik.esm-a69188f0.js";import{C as _r}from"./CardHeader-0da4966f.js";import{C as ra}from"./CardActions-a09cd426.js";import{M as Ec}from"./ModalConfirm-1555c5f9.js";import{C as Mc}from"./Check-1bb5774f.js";import{M as Oc}from"./ModalDetails-51a1c418.js";import{A as sl}from"./KeyboardArrowUp-16b54b68.js";import"./fr-8077ad92.js";import"./ExpandMore-0cef7d7e.js";import"./DatePicker-794fd4c1.js";import"./FilePreview-7330affd.js";import"./Tabs-4a4376d5.js";const nl=Fr(G.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),al=Fr(G.jsx("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart"),ol=Fr([G.jsx("path",{d:"M5 5h2v3h10V5h2v5h2V5c0-1.1-.9-2-2-2h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v-2H5V5zm7-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"},"0"),G.jsx("path",{d:"M20.3 18.9c.4-.7.7-1.5.7-2.4 0-2.5-2-4.5-4.5-4.5S12 14 12 16.5s2 4.5 4.5 4.5c.9 0 1.7-.3 2.4-.7l2.7 2.7 1.4-1.4-2.7-2.7zm-3.8.1c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"},"1")],"ContentPasteSearch"),ll=Fr(G.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen"),Rc=Fr(G.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print"),hl=Fr(G.jsx("path",{d:"M21 5.47 12 12 7.62 7.62 3 11V8.52L7.83 5l4.38 4.38L21 3v2.47zM21 15h-4.7l-4.17 3.34L6 12.41l-3 2.13V17l2.8-2 6.2 6 5-4h4v-2z"}),"SsidChart");var Ic=function(a){ah(e,a);function e(i,s){var o;return o=a.call(this)||this,o.client=i,o.queries=[],o.result=[],o.observers=[],o.observersMap={},s&&o.setQueries(s),o}var t=e.prototype;return t.onSubscribe=function(){var s=this;this.listeners.length===1&&this.observers.forEach(function(o){o.subscribe(function(c){s.onUpdate(o,c)})})},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.destroy=function(){this.listeners=[],this.observers.forEach(function(s){s.destroy()})},t.setQueries=function(s,o){this.queries=s,this.updateObservers(o)},t.getCurrentResult=function(){return this.result},t.getOptimisticResult=function(s){return this.findMatchingObservers(s).map(function(o){return o.observer.getOptimisticResult(o.defaultedQueryOptions)})},t.findMatchingObservers=function(s){var o=this,c=this.observers,f=s.map(function(_){return o.client.defaultQueryObserverOptions(_)}),m=f.flatMap(function(_){var N=c.find(function(U){return U.options.queryHash===_.queryHash});return N!=null?[{defaultedQueryOptions:_,observer:N}]:[]}),b=m.map(function(_){return _.defaultedQueryOptions.queryHash}),S=f.filter(function(_){return!b.includes(_.queryHash)}),k=c.filter(function(_){return!m.some(function(N){return N.observer===_})}),L=S.map(function(_,N){if(_.keepPreviousData){var U=k[N];if(U!==void 0)return{defaultedQueryOptions:_,observer:U}}return{defaultedQueryOptions:_,observer:o.getObserver(_)}}),I=function(N,U){return f.indexOf(N.defaultedQueryOptions)-f.indexOf(U.defaultedQueryOptions)};return m.concat(L).sort(I)},t.getObserver=function(s){var o=this.client.defaultQueryObserverOptions(s),c=this.observersMap[o.queryHash];return c??new Ah(this.client,o)},t.updateObservers=function(s){var o=this;An.batch(function(){var c=o.observers,f=o.findMatchingObservers(o.queries);f.forEach(function(L){return L.observer.setOptions(L.defaultedQueryOptions,s)});var m=f.map(function(L){return L.observer}),b=Object.fromEntries(m.map(function(L){return[L.options.queryHash,L]})),S=m.map(function(L){return L.getCurrentResult()}),k=m.some(function(L,I){return L!==c[I]});c.length===m.length&&!k||(o.observers=m,o.observersMap=b,o.result=S,o.hasListeners()&&(xa(c,m).forEach(function(L){L.destroy()}),xa(m,c).forEach(function(L){L.subscribe(function(I){o.onUpdate(L,I)})}),o.notify()))})},t.onUpdate=function(s,o){var c=this.observers.indexOf(s);c!==-1&&(this.result=oh(this.result,c,o),this.notify())},t.notify=function(){var s=this;An.batch(function(){s.listeners.forEach(function(o){o(s.result)})})},e}(lh);function Bc(a){var e=Vr.useRef(!1),t=Vr.useState(0),i=t[1],s=hh(),o=be.useMemo(function(){return a.map(function(b){var S=s.defaultQueryObserverOptions(b);return S.optimisticResults=!0,S})},[a,s]),c=Vr.useState(function(){return new Ic(s,o)}),f=c[0],m=f.getOptimisticResult(o);return Vr.useEffect(function(){e.current=!0;var b=f.subscribe(An.batchCalls(function(){e.current&&i(function(S){return S+1})}));return function(){e.current=!1,b()}},[f]),Vr.useEffect(function(){f.setQueries(o,{listeners:!1})},[o,f]),m}var cl=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ws=function(a){cl(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.moduleName="series",e.complexTemplate={"dataLabel.template":"dataLabel.template"},e}(Wo),ul=function(a){cl(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.propertyName="series",e.moduleName="seriesCollection",e}(Wo),Va=10,Dc=function(){function a(e){this.chart=e,this.padding=5}return a.prototype.measureAxis=function(e){var t=this.chart,i=t.chartArea.width?Ph(t.chartArea.width,t.availableSize.width):null;this.crossAt(t),this.seriesClipRect=new Ye(e.x,e.y,e.width,e.height),this.initialClipRect=e,this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.initialClipRect=ws(this.initialClipRect,new Ss(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.initialClipRect=ws(this.initialClipRect,new Ss(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||this.calculateAxisSize(this.initialClipRect),this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.seriesClipRect=ws(this.seriesClipRect,new Ss(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.seriesClipRect=ws(this.seriesClipRect,new Ss(0,0,this.topSize,this.bottomSize)),i&&this.calculateFixedChartArea(t,i),this.chart.delayRedraw||(t.refreshAxis(),this.calculateAxisSize(this.seriesClipRect))},a.prototype.calculateFixedChartArea=function(e,t){this.seriesClipRect.width=t,this.seriesClipRect.x=e.availableSize.width-e.margin.right-t-(e.legendSettings.position==="Right"?e.legendModule.legendBounds.width:0);for(var i=0,s=e.rows;i<s.length;i++){var o=s[i];this.seriesClipRect.x-=Ot(o.farSizes)}},a.prototype.measureRowAxis=function(e,t){var i;this.calculateRowSize(t);for(var s=0,o=e.rows;s<o.length;s++){var c=o[s];i=c,i.nearSizes=[],i.farSizes=[],i.insideNearSizes=[],i.insideFarSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new Qt(e.availableSize.width,i.computedHeight)),this.leftSize<Ot(i.nearSizes)&&(this.leftSize=Ot(i.nearSizes)),this.rightSize<Ot(i.farSizes)&&(this.rightSize=Ot(i.farSizes))}},a.prototype.measureColumnAxis=function(e,t){var i;this.calculateColumnSize(t);for(var s=0,o=e.columns;s<o.length;s++){var c=o[s];i=c,i.farSizes=[],i.nearSizes=[],i.insideNearSizes=[],i.insideFarSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new Qt(i.computedWidth,e.availableSize.height)),this.bottomSize<Ot(i.nearSizes)&&(this.bottomSize=Ot(i.nearSizes)),this.topSize<Ot(i.farSizes)&&(this.topSize=Ot(i.farSizes))}},a.prototype.measureDefinition=function(e,t,i){for(var s,o=0,c=e.axes;o<c.length;o++){var f=c[o];s=f.scrollbarSettings.height,f.scrollBarHeight=t.scrollBarModule&&t.zoomModule&&t.zoomSettings.enableScrollbar&&f.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(f.zoomFactor<1||f.zoomPosition>0)?s:0,f.scrollBarHeight=t.scrollBarModule&&(t.zoomModule&&t.zoomSettings.enableScrollbar&&f.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(f.zoomFactor<1||f.zoomPosition>0)||f.scrollbarSettings.enable)?s:0,f.getModule(t),f.baseModule.calculateRangeAndInterval(i,f),e.computeSize(f,f.scrollBarHeight,e,t)}e.farSizes.length>0&&(e.farSizes[e.farSizes.length-1]-=Va),e.nearSizes.length>0&&(e.nearSizes[e.nearSizes.length-1]-=Va)},a.prototype.calculateAxisSize=function(e){var t=this.chart,i,s,o,c,f=0,m=0,b=0,S,k,L;this.calculateRowSize(e);for(var I=0,_=t.rows.length;I<_;I++){i=t.rows[I],f=0,m=0;for(var N=0,U=i.axes.length;N<U;N++){if(c=i.axes[N],L=c.plotOffset,c.rect.height===0){c.rect.height=i.computedHeight,b=0;for(var Z=I+1,V=I+c.span;Z<V;Z++)o=t.rows[Z],b+=o.computedHeight;c.rect.y=i.computedTop-b+(c.plotOffsetTop?c.plotOffsetTop:L),c.rect.height=c.rect.height+b-this.getAxisOffsetValue(c.plotOffsetTop,c.plotOffsetBottom,c.plotOffset),c.rect.width=0}c.isAxisOpposedPosition?(c.labelPosition==="Inside"&&c.orientation==="Vertical"?S=e.x+e.width-Ot(Bi(i.insideFarSizes,m)):S=e.x+e.width+Ot(Bi(i.farSizes,m)),c.rect.x=c.rect.x>=S?c.rect.x:S,m++):(c.labelPosition==="Inside"&&c.orientation==="Vertical"?S=e.x+Ot(Bi(i.insideNearSizes,f)):S=e.x-Ot(Bi(i.nearSizes,f)),c.rect.x=c.rect.x<=S?c.rect.x:S,f++)}}this.calculateColumnSize(e);for(var I=0,_=t.columns.length;I<_;I++){s=t.columns[I],f=0,m=0;for(var N=0,$=s.axes.length;N<$;N++){if(c=s.axes[N],L=c.plotOffset,c.rect.width===0){for(var Z=I,Q=I+c.span;Z<Q;Z++)o=t.columns[Z],c.rect.width+=o.computedWidth;c.rect.x=s.computedLeft+(c.plotOffsetLeft?c.plotOffsetLeft:L),c.rect.width-=this.getAxisOffsetValue(c.plotOffsetLeft,c.plotOffsetRight,c.plotOffset),c.rect.height=0}c.isAxisOpposedPosition?(c.labelPosition==="Inside"&&c.orientation==="Horizontal"?k=e.y+Ot(Bi(s.insideFarSizes,m)):k=e.y-Ot(Bi(s.farSizes,m)),c.rect.y=c.rect.y<=k?c.rect.y:k,m++):(c.labelPosition==="Inside"&&c.orientation==="Horizontal"?k=e.y+e.height-Ot(Bi(s.insideNearSizes,f)):k=e.y+e.height+Ot(Bi(s.nearSizes,f)),c.rect.y=c.rect.y>=k?c.rect.y:k,f++)}}},a.prototype.measure=function(){for(var e=this.chart,t,i,s,o,c,f=0,m=e.axisCollections;f<m.length;f++){var b=m[f];if(b.orientation==="Vertical"){e.verticalAxes.push(b),o=this.getActualRow(b),t=e.rows[o],this.pushAxis(t,b),c=o+b.span>e.rows.length?e.rows.length:o+b.span;for(var S=o+1;S<c;S++)s=e.rows[S],s.axes[t.axes.length-1]=b,e.rows[S]=s;e.rows[o]=t}else{e.horizontalAxes.push(b),o=this.getActualColumn(b),i=e.columns[o],this.pushAxis(i,b),c=o+b.span>e.columns.length?e.columns.length:o+b.span;for(var S=o+1;S<c;S++)s=e.columns[S],s.axes[i.axes.length-1]=b,e.columns[S]=s;e.columns[o]=i}b.isRTLEnabled=e.enableRtl,b.setIsInversedAndOpposedPosition()}},a.prototype.getAxisOffsetValue=function(e,t,i){var s=e?e+(t||i):t?t+i:2*i;return s},a.prototype.crossAt=function(e){for(var t=0,i=e.axisCollections;t<i.length;t++){var s=i[t];if(s.crossesAt!==null)if(s.crossesInAxis){for(var o=2,c=e.axisCollections.length;o<c;o++)if(s.crossesInAxis===e.axisCollections[o].name){s.crossInAxis=e.axisCollections[o],s.crossAt=this.updateCrossAt(s.crossInAxis,s.crossesAt);continue}}else{e.requireInvertedAxis?s.crossInAxis=s.orientation==="Horizontal"?e.primaryXAxis:e.primaryYAxis:s.crossInAxis=s.orientation==="Horizontal"?e.primaryYAxis:e.primaryXAxis,s.crossAt=this.updateCrossAt(s.crossInAxis,s.crossesAt);continue}}},a.prototype.updateCrossAt=function(e,t){switch(e.valueType){case"DateTime":{var i={skeleton:"full",type:"dateTime"},s=this.chart.intl.getDateParser(i),o=this.chart.intl.getDateFormat(i);return Date.parse(s(o(new Date(_s.parse.parseJson({val:t}).val))))}case"Category":return parseFloat(t)?parseFloat(t):e.labels.indexOf(t);case"Logarithmic":return Aa(t,e.logBase);default:return t}},a.prototype.pushAxis=function(e,t){for(var i=0,s=e.axes.length;i<=s;i++)if(!e.axes[i]){e.axes[i]=t;break}},a.prototype.arrangeAxis=function(e){for(var t=[],i=0,s=e.axes.length;i<=s;i++)e.axes[i]&&t.push(e.axes[i]);e.axes=t},a.prototype.getActualColumn=function(e){var t=this.chart.columns.length,i=e.columnIndex,s=i>=t?t-1:i<0?0:i;return s},a.prototype.getActualRow=function(e){var t=this.chart.rows.length,i=e.rowIndex,s=i>=t?t-1:i<0?0:i;return s},a.prototype.calculateRowSize=function(e){for(var t=this.chart,i,s=e.y+e.height,o=0,c=Math.max(0,e.height),f=0,m=t.rows.length;f<m;f++)i=t.rows[f],i.height.indexOf("%")!==-1?o=Math.min(c,e.height*parseInt(i.height,10)/100):o=Math.min(c,parseInt(i.height,10)),o=f!==m-1?o:c,i.computedHeight=o,s-=o,i.computedTop=s,c-=o},a.prototype.calculateColumnSize=function(e){for(var t=this.chart,i,s=e.x,o=0,c=Math.max(0,e.width),f=0,m=t.columns.length;f<m;f++)i=t.columns[f],i.width.indexOf("%")!==-1?o=Math.min(c,e.width*parseInt(i.width,10)/100):o=Math.min(c,parseInt(i.width,10)),o=f!==m-1?o:c,i.computedWidth=o,i.computedLeft=s,s+=o,c-=o},a.prototype.renderAxes=function(){var e=this.chart,t,i=e.renderer.createGroup({id:e.element.id+"AxisInsideCollection"}),s=e.renderer.createGroup({id:e.element.id+"AxisOutsideCollection"});s&&s.setAttribute("aria-hidden","true");for(var o,c,f=0,m=e.axisCollections.length;f<m;f++){var b=!0;t=e.axisCollections[f],this.element=e.renderer.createGroup({id:e.element.id+"AxisGroup"+f+"Inside"}),this.element&&this.element.setAttribute("aria-hidden","true"),o=e.renderer.createGroup({id:e.element.id+"AxisGroup"+f+"Outside"}),o&&o.setAttribute("aria-hidden","true");for(var S=0,k=t.series;S<k.length;S++){var L=k[S];if(t.name===L.yAxisName||t.name===L.xAxisName){if(b=L.visible,L.category==="Pareto"&&!L.paretoOptions.showAxis&&L.type==="Line"&&(b=!1),b)break;continue}}b&&(c=this.findAxisPosition(t),this.drawAxis(t,f,c,o,i,s))}return this.drawPaneLines(e,i),Be(e.enableCanvas,e.svgObject,i,e.redraw),s},a.prototype.renderScrollbar=function(e,t){var i=pe(e.zoomModule)?!1:e.zoomModule.isZoomed;t.zoomingScrollBar||e.scrollBarModule.injectTo(t,e),(i&&(t.zoomFactor<1||t.zoomPosition>0)||t.scrollbarSettings.enable&&(t.zoomFactor<=1||t.zoomPosition>=0))&&!t.zoomingScrollBar.isScrollUI?(e.scrollElement||(e.scrollElement=Si(e.redraw,e.element.id+"_scrollElement")||Pr("div",{id:e.element.id+"_scrollElement"})),Be(!1,e.scrollElement,t.zoomingScrollBar.render(!0),!0)):t.zoomFactor===1&&t.zoomPosition===0&&t.zoomingScrollBar.svgObject&&!t.scrollbarSettings.enable?t.zoomingScrollBar.destroy():t.zoomingScrollBar.svgObject&&(t.zoomingScrollBar.svgObject.style.top=(t.isAxisOpposedPosition&&t.orientation==="Horizontal"?-16:0)+t.rect.y+Math.max(.5,t.lineStyle.width/2)+"px",t.zoomingScrollBar.svgObject.style.left=(t.isAxisOpposedPosition&&t.orientation!=="Horizontal"?16:0)+t.rect.x-(t.orientation==="Vertical"?t.scrollbarSettings.height:0)+"px"),t.zoomingScrollBar.isScrollUI&&(t.zoomingScrollBar.isScrollUI=!1)},a.prototype.drawPaneLines=function(e,t){this.element=e.renderer.createGroup({id:e.element.id+"DefinitionLine"});for(var i=0,s=e.rows.length;i<s;i++){var o=e.rows[i];o.border.color&&this.drawBottomLine(o,i,!0)}for(var i=0,s=e.columns.length;i<s;i++){var c=e.columns[i];c.border.color&&this.drawBottomLine(c,i,!1)}t=t||ye(e.element.id+"AxisInsideCollection"),this.chart.enableCanvas||t.appendChild(this.element)},a.prototype.drawAxis=function(e,t,i,s,o,c){e.updateCrossValue();var f="";e.orientation==="Horizontal"?(e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,t,e.plotOffset,0,0,0,e.plotOffsetLeft,e.plotOffsetRight,i?s:this.element,e.updatedRect),f="X"):(e.visible&&e.internalVisibility&&e.lineStyle.width>0&&this.drawAxisLine(e,t,0,e.plotOffset,e.plotOffsetBottom,e.plotOffsetTop,0,0,i?s:this.element,e.updatedRect),f="Y"),(e.majorGridLines.width>0||e.majorTickLines.width>0||e.minorTickLines.width>0||e.minorGridLines.width>0)&&this["draw"+f+"AxisGridLine"](e,t,i||e.tickPosition==="Inside"?s:this.element,e.updatedRect),e.visible&&e.internalVisibility&&(this["draw"+f+"AxisLabels"](e,t,i||e.labelPosition==="Inside"?s:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this["draw"+f+"AxisBorder"](e,t,i||e.labelPosition==="Inside"?s:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect),this["draw"+f+"AxisTitle"](e,t,i?s:this.element,e.placeNextToAxisLine?e.updatedRect:e.rect)),this.chart.enableCanvas||(o.appendChild(this.element),s&&s.childNodes.length>0&&c.appendChild(s)),this.chart.scrollBarModule&&(this.chart.zoomSettings.enableScrollbar&&e.enableScrollbarOnZooming||e.scrollbarSettings.enable)?this.renderScrollbar(this.chart,e):e.zoomingScrollBar&&e.zoomingScrollBar.destroy()},a.prototype.findAxisPosition=function(e){return e.crossAt!==null&&e.isInside(e.crossInAxis.visibleRange)},a.prototype.drawBottomLine=function(e,t,i){var s=this.chart,o={},c,f,m,b,S;i?(e=e,m=b=e.computedTop+e.computedHeight,c=this.seriesClipRect.x,f=c+this.seriesClipRect.width,S="Row"):(e=e,c=f=e.computedLeft,m=this.seriesClipRect.y,b=m+this.seriesClipRect.height,S="Column"),o={id:s.element.id+"_AxisBottom_"+S+t,x1:c,y1:m,x2:f,y2:b,"stroke-width":e.border.width,stroke:e.border.color},this.htmlObject=s.renderer.drawLine(o),Be(s.enableCanvas,this.element,this.htmlObject)},a.prototype.drawAxisLine=function(e,t,i,s,o,c,f,m,b,S){var k=this.chart,L={},I=ye(k.element.id+"AxisLine_"+t),_=I?I.getAttribute("d"):"";I=null,L={id:k.element.id+"AxisLine_"+t,d:"M "+(S.x-i-f)+" "+(S.y-s-c)+" L "+(S.x+S.width+i+m)+" "+(S.y+S.height+s+o),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||k.themeStyle.axisLine},this.htmlObject=k.renderer.drawPath(L),Be(k.enableCanvas,b,this.htmlObject,k.redraw,!0,"x","y",null,_,null,null,null,k.duration)},a.prototype.drawYAxisGridLine=function(e,t,i,s){var o=e.valueType==="Logarithmic",c=e.valueType.indexOf("Category")>-1,f,m=0,b="",S="",k,L=e.isAxisOpposedPosition,I=L?e.majorTickLines.height:-e.majorTickLines.height,_=L?e.lineStyle.width*.5:-e.lineStyle.width*.5,N=e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?.5:0,U=pe(e.crossesAt)?L?e.scrollBarHeight:-e.scrollBarHeight:0,Z=e.tickPosition==="Inside",V=Z?s.x-I-_:s.x+I+_+U,$=e.visibleLabels.length,Q=this.chart.themeStyle,H=1;e.valueType.indexOf("Category")>-1&&e.labelPlacement==="BetweenTicks"&&$>0&&!this.chart.stockChart&&($+=1);for(var re=e.minorGridLines,ie=e.minorTickLines,ae=0;ae<$;ae++)f=e.visibleLabels[ae]?e.visibleLabels[ae].value-N:e.visibleLabels[ae-1].value+e.visibleRange.interval-N,m=mi(f,e)*s.height,m=m*-1+(s.y+s.height),m>=s.y&&s.y+s.height>=m&&(this.chart.redraw&&!this.chart.enableCanvas&&this.chart.zoomRedraw&&e.visible&&e.majorGridLines.width&&ae!==0&&!ye(this.chart.element.id+"_MajorGridLine_"+t+"_"+ae)&&(b="M "+this.seriesClipRect.x+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(ae||1)*H:-(this.seriesClipRect.height/(ae||1)*H)))+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(ae||1)*H:-(this.seriesClipRect.height/(ae||1)*H))),this.updateAxisElement(e,t,b,ae,"_MajorGridLine_",this.element,!1),ye(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1])),(Cs(f,e.visibleRange)||this.isBorder(e,ae,m))&&(b="M "+this.seriesClipRect.x+" "+m+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+m,this.renderGridLine(e,t,b,e.majorGridLines,"_MajorGridLine_",ae,this.element,Q.majorGridLine,e.majorGridLines.dashArray)),this.chart.redraw&&this.chart.zoomRedraw&&e.majorTickLines.width&&ae!==0&&!ye(this.chart.element.id+"_MajorTickLine_"+t+"_"+ae)&&!this.chart.enableCanvas&&e.visible&&(S="M "+this.seriesClipRect.x+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(ae||1)*H:-(this.seriesClipRect.height/(ae||1)*H)))+" L "+V+" "+(this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(ae||1)*H:-(this.seriesClipRect.height/(ae||1)*H))),this.updateAxisElement(e,t,S,ae,"_MajorTickLine_",i,!1),ye(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1]),H+=1),S="M "+(s.x+_+(Z?U:0))+" "+m+" L "+V+" "+m,this.renderGridLine(e,t,S,e.majorTickLines,"_MajorTickLine_",ae,i,Q.majorTickLine),(re.width>0||ie.width>0)&&e.minorTicksPerInterval>0&&(ae===0&&es(e)&&!o&&!c&&this.renderMinorGridOnZooming(e,f,s,ae,t,Q,i),k=this.drawAxisMinorLine(e,f,s,ae),this.renderGridLine(e,t,k[0],re,"_MinorGridLine_",ae,this.element,Q.minorGridLine,re.dashArray),this.renderGridLine(e,t,k[1],ie,"_MinorTickLine_",ae,i,Q.minorTickLine),ae===$-1&&es(e)&&o&&!c&&this.renderMinorGridOnZooming(e,f+e.visibleRange.interval,s,ae,t,Q,i)));if($&&this.previousYLabel>$&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&this.chart.redraw)for(var ae=$;ae<this.previousYLabel;ae++){var Ce=this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height/$*(ae-$+1)+this.seriesClipRect.height:-(this.seriesClipRect.height/$*(ae-$+1)));e.majorGridLines.width&&(b="M "+this.seriesClipRect.x+" "+ +Ce+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+Ce,this.updateAxisElement(e,t,b,ae,"_MajorGridLine_",this.element,!0)),e.majorTickLines.width&&(S="M "+this.seriesClipRect.x+" "+Ce+" L "+V+" "+Ce,this.updateAxisElement(e,t,S,ae,"_MajorTickLine_",i,!0))}},a.prototype.isBorder=function(e,t,i){var s=this.chart.chartArea.border,o=this.seriesClipRect,c=e.orientation,f=c==="Horizontal"?o.x:o.y,m=c==="Horizontal"?o.width:o.height,b=c==="Horizontal"?0:e.visibleLabels.length-1,S=c==="Horizontal"?e.visibleLabels.length-1:0;return e.plotOffset>0||(i===f||i===f+m)&&(s.width<=0||s.color==="transparent")?!0:i!==f&&t===b||i!==f+m&&t===S},a.prototype.drawYAxisLabels=function(e,t,i,s){var o=this.chart,c,f=0,m=0,b,S=e.labelPadding,k,L,I=e.labelPosition==="Inside",_=e.isAxisOpposedPosition,N,U=e.labelPosition===e.tickPosition?e.majorTickLines.height:0,Z=U+S+e.lineStyle.width*.5,V=e.angle%360,$=V===-90||V===90||V===270||V===-270;Z+=$?I?5:-5:0,Z=_?Z:-Z;var Q=o.renderer.createGroup({id:o.element.id+"AxisLabels"+t}),H=pe(e.crossesAt)?e.scrollBarHeight*(_?1:-1):0,re,ie,ae,Ce=10,me=e.isAxisInverse,ke=1,Pe=me?s.y:s.y+s.height,Oe,le,Ae,Ue,Qe=!_&&!I||_&&I;I?Oe=Qe?Z:-Z:Oe=Qe?Z+(o.enableRtl?-H:H):-Z+(o.enableRtl?-H:H);var wt=[],at=[];e.visibleLabels.map(function(Tt){wt.push(Tt.size.width),at.push(Tt.breakLabelSize.width)});var pt=Math.max.apply(Math,wt),Ge=Math.max.apply(Math,at);N=pt,V>=-45&&V<=45&&V!==0&&(N=pt*Math.cos(V*Math.PI/180),N<0&&(N=-N));for(var ve=0,rt=e.visibleLabels.length;ve<rt;ve++){switch(c=e.visibleLabels[ve],L=fn(e.visibleLabels[ve].originalText),b=L?e.visibleLabels[ve].breakLabelSize:e.visibleLabels[ve].size,m=mi(e.visibleLabels[ve].value,e)*s.height+(o.stockChart?7:0),m=Math.floor(m*-1+(s.y+s.height)),re=b.height/8*e.visibleLabels[ve].text.length/2,ie=o.requireInvertedAxis&&e.labelPosition==="Inside"?0:b.height/4*3+3,le=s.height/e.visibleLabels.length,Ae=(e.labelIntersectAction==="Trim"||e.labelIntersectAction==="Wrap")&&V!==0&&b.width>le?le:b.width,m=L?e.labelPosition==="Inside"?m-b.height/2-re+ie:m-re:e.labelPosition==="Inside"?m+ie:m,e.labelPosition==="Inside"&&(ve===0&&!e.isInversed||ve===rt-1&&e.isInversed)&&(o.stockChart?m-=ie:m-=ie-(o.requireInvertedAxis&&e.labelPosition==="Inside"?0:e.opposedPosition?-Z:Z)),e.majorGridLines.width>e.majorTickLines.width?ae=e.majorGridLines.width:ae=e.majorTickLines.width,e.labelStyle.textAlignment==="Far"?m=m-ae-Ce:e.labelStyle.textAlignment==="Near"&&(m=m+ae+Ce),I?Ue=Oe+(V===0?b.width:L?Ge:pt)/2:Ue=Oe-(V===0?b.width:L?Ge:N)/2,f=_?e.scrollBarHeight!==0?s.x+e.scrollBarHeight+Z-Ue:s.x-Ue:s.x+Ue,$&&(f+=_?5:-5),Ue=Oe,k=new rr(o.element.id+t+"_AxisLabel_"+ve,f,m,"middle",c.text,"","middle",V),e.edgeLabelPlacement){case"None":break;case"Hide":((ve===0||me&&ve===rt-1)&&k.y>s.y||(ve===rt-1||me&&ve===0)&&k.y-b.height*.5<s.y)&&(k.text="");break;case"Shift":(ve===0||me&&ve===rt-1)&&k.y>s.y+s.height?k.y=m=s.y+s.height:(ve===rt-1||me&&ve===0)&&(k.y<s.y||k.y-b.height*.5<=0)&&(k.y=m=s.y+b.height*.5);break}var ct=k.y,we=k.y-Ae;if(L&&(ct=k.y-Ae/2,we=k.y+Ae/2),!((V===90||V===270)&&e.labelIntersectAction==="Hide"&&ve!==0&&(me?we<=Pe:ct>=Pe))){if(Pe=me?ct:we,k.transform="rotate("+V+","+f+","+m+")",this.chart.redraw&&this.chart.zoomRedraw&&!ye(k.id)&&!this.chart.enableCanvas&&e.visible){var $e=k.y;k.y=this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/(ve||1)*ke:-(this.seriesClipRect.height/(ve||1)*ke)),this.updateAxisElement(e,t,"",ve,"_AxisLabel_",Q,!1,k,c),k.y=$e,ke+=1}Ti(o.renderer,k,c.labelStyle,c.labelStyle.color||o.themeStyle.axisLabelFont.color,Q,!1,o.redraw,!0,!0,o.duration,null,null,null,o.enableCanvas,null,o.themeStyle.axisLabelFont,new Ze(f,m))}}if(this.previousYLabel&&e.visibleLabels.length&&this.previousYLabel>e.visibleLabels.length&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&o.redraw&&k.text)for(var ve=e.visibleLabels.length;ve<this.previousYLabel;ve++)k.y=this.seriesClipRect.y+(e.isInversed?this.seriesClipRect.height+this.seriesClipRect.height/e.visibleLabels.length*(ve-e.visibleLabels.length+1):-(this.seriesClipRect.height/e.visibleLabels.length*(ve-e.visibleLabels.length+1))),k.id=o.element.id+t+"_AxisLabel_"+ve,this.updateAxisElement(e,t,"",ve,"_AxisLabel_",Q,!0,k,c);else this.previousYLabel=e.visibleLabels.length;this.chart.enableCanvas||(o.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,Q,e,t,s):Be(o.enableCanvas,i,Q,o.redraw))},a.prototype.rangeAnimate=function(e,t,i,s,o,c,f){var m=this;t&&new ls({}).animate(t,{duration:i,progress:function(){var b=ye(t.id);if(b.style.animation="",s)$t(parseFloat(b.getAttribute("x")),parseFloat(b.getAttribute("y")),o)?b.style.visibility="visible":b.style.visibility="hidden";else{var S=b.getAttribute("d").split(" ");$t(parseFloat(S[1]),parseFloat(S[2]),o)?b.style.visibility="visible":b.style.visibility="hidden"}},end:function(){var b=ye(t.id);b.style.visibility="",c&&f>=e.visibleLabels.length&&(It(b),s&&(e.orientation==="Vertical"?m.previousYLabel=e.visibleLabels.length:m.previousXLabel=e.visibleLabels.length))}})},a.prototype.getAxisLabelXvalue=function(e,t,i){var s=t.lineBreakAlignment,o=t.labelPosition==="Inside",c=t.isAxisOpposedPosition;return c&&o||!c&&!o?s==="Right"?e:s==="Center"?e-i/2:e-i:s==="Left"?e:s==="Center"?e+i/2:e+i},a.prototype.drawYAxisBorder=function(e,t,i,s){if(e.border.width>0){var o=void 0,c=void 0,f=e.labelPosition==="Outside"?e.scrollBarHeight:0,m=e.isAxisOpposedPosition;f=(m?1:-1)*f;for(var b=s.height/e.visibleRange.delta*(e.valueType==="DateTime"?e.dateTimeInterval:e.visibleRange.interval),S=void 0,k=e.maxLabelSize.width+10+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),L="",I=e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?-.5:0,_=m&&e.labelPosition==="Inside"||!m&&e.labelPosition==="Outside"?s.x-k+f:s.x+k+f,N=0,U=e.visibleLabels.length;N<U;N++)switch(c=mi(e.visibleLabels[N].value+I,e),c=(e.isAxisInverse?1-c:c)*s.height,e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?(o=c*-1+(s.y+s.height),S=c*-1-b+(s.y+s.height)):(o=c*-1+b/2+(s.y+s.height),S=c*-1-b/2+(s.y+s.height)),e.border.type){case"Rectangle":case"WithoutTopBorder":o>s.y+s.height?L+="M "+_+" "+(s.y+s.height)+" L "+_+" "+S+" ":Math.floor(s.y)>S?L+="M "+(s.x+f)+" "+o+" L "+_+" "+o+" L "+_+" "+s.y+" ":(L+="M "+(s.x+f)+" "+o+" L "+_+" "+o+" L "+_+" "+S+" ",N===e.visibleLabels.length-1&&(L+="M "+(s.x+f)+" "+S+" L "+_+" "+S+" "));break;case"WithoutTopandBottomBorder":!(o>s.y+s.height)&&!(S<Math.floor(s.y))&&(L+="M "+(s.x+f)+" "+o+" L "+_+" "+o+" M "+_+" "+S+" L "+(s.x+f)+" "+S);break}L+=e.border.type==="Rectangle"?"M "+(s.x+f)+" "+s.y+" L "+(s.x+f)+" "+(s.y+s.height)+" ":"",L!==""&&this.createAxisBorderElement(e,t,L,i)}for(var N=0;N<this.chart.visibleSeries.length;N++)if(e.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule&&this.chart.visibleSeries[N].visible){this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(e,t,i,s);break}},a.prototype.drawYAxisTitle=function(e,t,i,s){if(e.title){var o=this.chart,c=!1,f=e.isAxisOpposedPosition,m=(e.titleRotation==null?f?90:-90:e.titleRotation)%360,b=(e.tickPosition==="Inside"?0:e.majorTickLines.height+e.titlePadding)+(e.labelPosition==="Inside"?0:e.maxLabelSize.width+e.multiLevelLabelHeight+this.padding);b=f?b+e.scrollBarHeight:-b-e.scrollBarHeight,(m!==-90&&!f||m!==90&&f)&&(b+=e.isAxisOpposedPosition?e.titleSize.width/2+e.labelPadding:-e.titleSize.width/2-e.labelPadding,c=!0);var S=s.x+b,k=void 0,L=void 0;e.titleStyle.textAlignment==="Center"?(L="middle",k=s.y+s.height*.5):e.titleStyle.textAlignment==="Near"?(L=e.opposedPosition?"end":"start",k=s.height+s.y):(L=e.opposedPosition?"start":"end",k=s.y);var I=e.titleSize.height*(e.titleCollection.length-1),_=new rr(o.element.id+"_AxisTitle_"+t,S,k+(c?-I:-e.labelPadding-I),L,e.titleCollection,"rotate("+m+","+S+","+k+")",null,m),N=Ti(o.renderer,_,e.titleStyle,e.titleStyle.color||o.themeStyle.axisTitleFont.color,i,null,null,null,null,null,null,null,null,o.enableCanvas,null,o.themeStyle.axisTitleFont,new Ze(S,k));N.setAttribute("aria-hidden","true")}},a.prototype.drawXAxisGridLine=function(e,t,i,s){var o=e.valueType==="Logarithmic",c=e.valueType.indexOf("Category")>-1,f,m=0,b="",S="",k,L=1,I=e.isAxisOpposedPosition,_=I?-e.majorTickLines.height:e.majorTickLines.height,N=I?-e.lineStyle.width*.5:e.lineStyle.width*.5,U=pe(e.crossesAt)?I?-e.scrollBarHeight:e.scrollBarHeight:0,Z=e.valueType.indexOf("Category")>-1&&e.labelPlacement==="BetweenTicks"&&!this.chart.stockChart?.5:0,V=e.visibleLabels.length,$=e.tickPosition==="Inside",Q=$?s.y-_-N:s.y+_+N+U,H=this.chart.themeStyle;e.valueType.indexOf("Category")>-1&&V>0&&e.labelPlacement==="BetweenTicks"&&!this.chart.stockChart&&(V+=1);for(var re=this.calculateGridLineId(i,V),ie=0;ie<V;ie++)if(e.valueType!=="DateTimeCategory"?f=e.visibleLabels[ie]?e.visibleLabels[ie].value-Z:e.visibleLabels[ie-1].value+e.visibleRange.interval-Z:f=e.visibleLabels[ie]?e.visibleLabels[ie].value-Z:e.visibleRange.max,m=mi(f,e)*s.width+s.x,m>=s.x&&s.x+s.width>=m){if(Cs(f,e.visibleRange)||this.isBorder(e,ie,m)){if(this.chart.redraw&&(this.chart.pointsAdded&&!this.chart.pointsRemoved||this.chart.zoomRedraw)&&e.majorGridLines.width&&ie!==0&&e.visible&&!ye(this.chart.element.id+"_MajorGridLine_"+t+"_"+ie)&&!this.chart.enableCanvas){var ae=this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/V*L):this.seriesClipRect.width+this.seriesClipRect.width/(ie||1)*L);b="M "+ae+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+ae+" "+this.seriesClipRect.y,this.renderGridLine(e,t,b,e.majorGridLines,"_MajorGridLine_",ie,this.element,H.majorGridLine,e.majorGridLines.dashArray,re.MajorGridLine&&re.MajorGridLine.ids?re.MajorGridLine.ids[ie]:null,re.MajorGridLine?re.MajorGridLine.isPointRemoved:!1),this.rangeAnimate(e,this.element.childNodes[this.element.childNodes.length-1],this.chart.duration,!1,new Ye(this.seriesClipRect.x,e.rect.y,this.seriesClipRect.x+this.seriesClipRect.width,this.chart.availableSize.height),!1,ie),ye(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1])}b="M "+m+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+m+" "+this.seriesClipRect.y,this.renderGridLine(e,t,b,e.majorGridLines,"_MajorGridLine_",ie,this.element,H.majorGridLine,e.majorGridLines.dashArray,re.MajorGridLine&&re.MajorGridLine.ids?re.MajorGridLine.ids[ie]:null,re.MajorGridLine?re.MajorGridLine.isPointRemoved:!1)}this.chart.redraw&&this.chart.zoomRedraw&&e.majorTickLines.width&&!ye(this.chart.element.id+"_MajorTickLine_"+t+"_"+ie)&&!this.chart.enableCanvas&&e.visible&&(S="M "+(this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/V*L):this.seriesClipRect.width+this.seriesClipRect.width/(ie||1)*L))+" "+(s.y+N+($?U:0))+" L "+(this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/V*L):this.seriesClipRect.width+this.seriesClipRect.width/(ie||1)*L))+" "+Q,this.updateAxisElement(e,t,S,ie,"_MajorTickLine_",i,!1),ye(i.id).appendChild(this.element.childNodes[this.element.childNodes.length-1]),L+=1),S="M "+m+" "+(s.y+N+($?U:0))+" L "+m+" "+Q,this.renderGridLine(e,t,S,e.majorTickLines,"_MajorTickLine_",ie,i,H.majorTickLine,null,re.MajorTickLine&&re.MajorTickLine.ids?re.MajorTickLine.ids[ie]:null,re.MajorTickLine?re.MajorTickLine.isPointRemoved:!1),e.minorTicksPerInterval>0&&(e.minorGridLines.width>0||e.minorTickLines.width>0)&&(ie===0&&es(e)&&!o&&!c&&this.renderMinorGridOnZooming(e,f,s,ie,t,H,i),k=this.drawAxisMinorLine(e,f,s,ie),this.renderGridLine(e,t,k[0],e.minorGridLines,"_MinorGridLine_",ie,this.element,H.minorGridLine,e.minorGridLines.dashArray,re.MinorGridLine&&re.MinorGridLine.ids?re.MinorGridLine.ids[ie]:null,re.MinorGridLine?re.MinorGridLine.isPointRemoved:!1),this.renderGridLine(e,t,k[1],e.minorTickLines,"_MinorTickLine_",ie,i,H.minorTickLine,null,re.MinorTickLine&&re.MinorTickLine.ids?re.MinorTickLine.ids[ie]:null,re.MinorTickLine?re.MinorTickLine.isPointRemoved:!1),ie===V-1&&es(e)&&o&&!c&&this.renderMinorGridOnZooming(e,f+e.visibleRange.interval,s,ie,t,H,i))}if(V&&this.previousXLabel>V&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&this.chart.redraw)for(var ie=V;ie<this.previousXLabel;ie++){var ae=this.seriesClipRect.x+(this.chart.enableRtl!==e.isInversed?-(this.seriesClipRect.width/V*(ie-V+1)):this.seriesClipRect.width+this.seriesClipRect.width/V*(ie-V+1));e.majorGridLines.width&&(b="M "+ae+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+ae+" "+this.seriesClipRect.y,this.updateAxisElement(e,t,b,ie,"_MajorGridLine_",this.element,!0)),e.majorTickLines.width&&(S="M "+ae+" "+(s.y+N+($?U:0))+" L "+ae+" "+Q,this.updateAxisElement(e,t,S,ie,"_MajorTickLine_",i,!0))}},a.prototype.calculateGridLineId=function(e,t){var i=this,s={};if(this.chart.pointsRemoved){var o=["MajorGridLine","MajorTickLine","MinorGridLine","MinorTickLine"];o.forEach(function(c){for(var f=ye(e.id),m=f.querySelectorAll('[id*="_'+c+'_"]'),b=[],S=0;S<m.length;S++)b.push(m[S]);var k=c==="MajorGridLine"&&i.chart.chartArea.border.width?t-2:t;if(k=c==="MinorGridLine"||c==="MinorTickLine"?t-1:k,b.length>0&&b.length>k){for(var L=b.length,I=0;I<L-k;I++)b[I]&&f.removeChild(b[I]),b.shift();var _=b.map(function(N){var U=N.id.split("_");return parseInt(U[U.length-1],10)});s[c]={ids:_,isPointRemoved:!0}}})}return s},a.prototype.renderMinorGridOnZooming=function(e,t,i,s,o,c,f){var m=this.drawAxisMinorLine(e,t,i,s,!0);this.renderGridLine(e,o,m[0],e.minorGridLines,"_MinorGridLine_",-1,this.element,c.minorGridLine,e.minorGridLines.dashArray),this.renderGridLine(e,o,m[1],e.minorTickLines,"_MinorTickLine_",-1,f,c.minorTickLine)},a.prototype.drawAxisMinorLine=function(e,t,i,s,o){var c=t,f=0,m=0,b=e.visibleRange,S=e.tickPosition==="Inside",k=[],L=e.isAxisOpposedPosition?-e.minorTickLines.height:e.minorTickLines.height,I,_,N=1,U=1,Z=S?i.y-L:i.y+L,V=S?i.x+L:i.x-L,$="",Q="",H=e.isAxisInverse;if(e.valueType==="Logarithmic"&&(I=Math.pow(e.logBase,c-b.interval),_=Math.pow(e.logBase,c),N=(_-I)/(e.minorTicksPerInterval+1),U=I+N),e.orientation==="Horizontal")for(var re=0;re<e.minorTicksPerInterval;re++)c=this.findLogNumeric(e,U,c,s,o),U+=N,Cs(c,b)&&(m=(c-b.min)/(b.max-b.min),m=Math.ceil((H?1-m:m)*i.width),f=Math.floor(m+i.x),$=$.concat("M "+f+" "+this.seriesClipRect.y+"L "+f+" "+(this.seriesClipRect.y+this.seriesClipRect.height)),f=Math.floor(m+i.x),Q=Q.concat("M "+f+" "+i.y+"L "+f+" "+(Z+e.scrollBarHeight)));else for(var re=0;re<e.minorTicksPerInterval;re++)c=this.findLogNumeric(e,U,c,s,o),Cs(c,b)&&(m=(c-b.min)/(b.max-b.min),m=Math.ceil((H?1-m:m)*i.height)*-1,f=Math.floor(m+i.y+i.height),$=$.concat("M "+this.seriesClipRect.x+" "+f+"L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+f+" "),f=Math.floor(m+i.y+i.height),Q=Q.concat("M "+i.x+" "+f+"L "+(V-e.scrollBarHeight)+" "+f+" ")),U+=N;return k.push($),k.push(Q),k},a.prototype.findLogNumeric=function(e,t,i,s,o){var c=e.visibleRange,f;if(e.valueType==="Logarithmic")i=Aa(t,e.logBase);else if(e.valueType==="DateTime")f=e.dateTimeInterval/(e.minorTicksPerInterval+1),i=o?i-f:i+f;else if(e.valueType==="DateTimeCategory"){var m=e.labelPlacement==="BetweenTicks"?.5:0;i+=((e.visibleLabels[s+1]?e.visibleLabels[s+1].value-m:e.visibleRange.max)-(e.visibleLabels[s]?e.visibleLabels[s].value-m:e.visibleRange.min))/(e.minorTicksPerInterval+1)}else f=c.interval/(e.minorTicksPerInterval+1),i=o?i-f:i+f;return i},a.prototype.drawXAxisLabels=function(e,t,i,s){var o=this.chart,c=0,f=0,m=e.labelPadding,b,S,k,L,I=10,_=o.renderer.createGroup({id:o.element.id+"AxisLabels"+t}),N=e.labelPosition==="Inside",U=e.isAxisOpposedPosition,Z=e.labelPosition===e.tickPosition?e.majorTickLines.height:0,V=Z+m+e.lineStyle.width*.5,$=e.angle%360,Q=$===0||$===-180||$===180,H,re,ie=e.isAxisInverse,ae,Ce=1,me=ie?s.x+s.width:s.x,ke=0,Pe=e.visibleLabels.length,Oe,le,Ae,Ue=e.scrollbarSettings.enable||!N&&pe(e.crossesAt)&&(e.zoomFactor<1||e.zoomPosition>0)?e.scrollBarHeight:0,Qe=[],wt=!1,at=[],pt=new Qt(0,0);V+=$===90||$===270||$===-90||$===-270?N?5:-5:0;for(var Ge=!U&&!N||U&&N,ve=ye(o.element.id+"AxisLabels"+t),rt=this.removeAxisLabelElements(e,ve),ct=Ge?360>=$&&$>=180||-1>=$&&$>=-180:1<=$&&$<=180||-181>=$&&$>=-360,we=0,$e=Pe;we<$e;we++){le=e.visibleLabels[we],Ae=fn(le.originalText)||e.labelIntersectAction==="Wrap"&&le.text.length>1,c=mi(le.value,e)*s.width+s.x,S=le.size,Oe=s.width/Pe,re=Ae?le.breakLabelSize.width:S.width,ke=(e.labelIntersectAction==="Trim"||e.labelIntersectAction==="Wrap")&&$===0&&re>Oe?Oe:re,b=S.height/4,c-=Ae||$!==0?0:ke/2,$!==0&&(Ae?c-=e.lineBreakAlignment==="Left"?le.breakLabelSize.width/2:e.lineBreakAlignment==="Right"?-(le.breakLabelSize.width/2):0:c-=$===-90||$===270?-b:$===90||$===-270?b:0),e.labelStyle.textAlignment==="Far"?c=c+ke-I:e.labelStyle.textAlignment==="Near"&&(c=c-ke+I),Ae&&e.lineBreakAlignment!=="Center"&&$===0&&(c+=e.lineBreakAlignment==="Left"?-(ke/2):ke/2);var Tt=Ae?Q?e.opposedPosition||N?0:S.height:le.breakLabelSize.width/2:0;if(V=Ae?Z+m+e.lineStyle.width*.5:V,N&&$?Ae?f=U?s.y+V+Tt:s.y-V-Tt:f=U?s.y+V+b:s.y-V-b:(Ae?k=Ge?V+Ue+($?Tt:3*b):-(V+Ue+Tt):k=Ge?V+Ue+($?1:3)*b:-(V+Ue+($?b:le.index>1?2*b:0)),f=s.y+k*le.index),Ae?L=this.getAnchor(e):L=o.enableRtl?ct?"":"end":o.isRtlEnabled||ct?"end":"",H=new rr(o.element.id+t+"_AxisLabel_"+we,c,f,L),H.id=rt&&ve&&ve.children[we]?ve.children[we].id:H.id,$!==0&&(pt=jo(le.labelStyle,le.originalText,$,o,o.themeStyle.axisLabelFont),ae=$<0&&$>-90||$<-180&&$>-270||$>90&&$<180||$>270&&$<360),e.edgeLabelPlacement)switch(e.edgeLabelPlacement){case"None":break;case"Hide":if((we===0||ie&&we===$e-1)&&H.x<s.x||(we===$e-1||ie&&we===0)&&H.x+($===0?ke:pt.width)>s.x+s.width)continue;break;case"Shift":if((we===0||ie&&we===$e-1)&&(H.x<s.x||$!==0&&ae&&H.x-pt.width<=s.x||e.lineBreakAlignment==="Center"&&H.x-le.size.width/le.text.length/2<s.x&&$===0))if(Oe-=s.x-H.x,L===""&&!ie&&$===0)H.x<=0?c=H.x=0:c=H.x,Oe=s.width/Pe;else if(ae&&$!==0)Oe=s.width/Pe,s.x+Oe>H.x+pt.width?H.x=c=s.x+V:H.x=c=s.x+Oe-V;else if(Ae&&e.lineBreakAlignment==="Center"&&e.labelPlacement==="OnTicks"&&$===0){for(var Vt=0,ii=0;ii<le.text.length;ii++){var Bt=jt(le.text[ii],e.labelStyle,o.themeStyle.axisLabelFont).width;Bt>Vt&&(Vt=Bt)}H.x=c=s.x+Vt/2}else L==="start"&&H.x>0||(H.x=c=Q?s.x:s.x+V);else(we===$e-1||ie&&we===0)&&(H.x+ke>s.x+s.width&&L!=="end"&&$===0||$!==0&&!ae&&H.x+pt.width>s.x+s.width||L==="end"&&H.x>s.x+s.width)&&(S.width>Oe&&e.labelIntersectAction==="Trim"&&$===0?Oe-=H.x+ke-(s.x+s.width):$!==0?pt.width<Oe&&(Oe=pt.width):Oe=ke,$!==0?H.x=c=s.x+s.width-Oe+V:H.x=c=Q?s.x+s.width-Oe:s.x+s.width-Oe/2);break}H.text=this.getLabelText(le,e,Oe),H.labelRotation=$;var Dt=void 0,gt=void 0;if(Ae&&$===0?e.lineBreakAlignment==="Right"?(Dt=H.x-ke,gt=H.x):e.lineBreakAlignment==="Center"?(Dt=H.x-ke/2,gt=H.x+ke/2):(Dt=H.x,gt=H.x+ke):(Dt=H.x,gt=H.x+ke),!($===0&&e.labelIntersectAction==="Hide"&&we!==0&&(ie?gt>=me:Dt<=me))){if(Ae?e.lineBreakAlignment==="Right"?me=ie?H.x-ke:H.x:e.lineBreakAlignment==="Center"?me=ie?H.x-ke/2:H.x+ke/2:me=ie?H.x:H.x+ke:me=ie?H.x:H.x+ke,$!==0){var Ft=void 0,Nt=void 0;if(Ae){var ci=0,Lt=0;Ft=le.breakLabelSize.height,Lt=le.breakLabelSize.height-4,e.lineBreakAlignment==="Center"?ci=-(le.breakLabelSize.width/2):e.lineBreakAlignment==="Right"&&(ci=-le.breakLabelSize.width),Ge&&(Lt=le.breakLabelSize.height/(H.text.length+1)),Nt=new Ye(H.x+ci,H.y-Lt,le.breakLabelSize.width,Ft)}else Ft=f-(H.y-le.size.height/2),Nt=new Ye(H.x,H.y-(le.size.height/2-5),le.size.width,Ft);var Mt=this.getRectanglePoints(Nt),Y=Ae?Nt.x+Nt.width/2:c,O=Ae?Nt.y+Nt.height/2:f-Ft/2;if(Ae?H.transform="rotate("+$+","+Y+","+O+")":H.transform="rotate("+$+","+c+","+f+")",Qe.push(ka(Mt,Y,O,$)),wt=!1,e.labelIntersectAction!=="None"){for(var R=we;R>0;R--)if(Qe[we]&&Qe[R-1]&&Xo(Qe[we],Qe[R-1])){wt=!0,Qe[we]=null;break}}var q=$>0&&$<90||$>180&&$<270||$<-90&&$>-180||$<-270&&$>-360,te=new Ye(H.x,H.y-(S.height/2+V/2),le.size.width,Ft),ue=this.getRectanglePoints(te),fe=[];fe.push(new Ze(q?this.chart.availableSize.width:this.padding,e.rect.y)),fe.push(new Ze(q?this.chart.availableSize.width:this.padding,e.rect.y+e.maxLabelSize.height)),at.push(ka(ue,Y,O,$));for(var De=new Ye(0,e.rect.y,this.chart.availableSize.width,e.maxLabelSize.height*2),_e=0;_e<at[we].length;_e++)if(!e.opposedPosition&&!$t(at[we][_e].x,at[we][_e].y,De)&&typeof H.text=="string"){var Ke=this.calculateIntersection(at[we][0],at[we][1],fe[0],fe[1]),dt=q?this.chart.availableSize.width-c:c,Je=Ke.y-e.rect.y,Ri=Math.sqrt(dt*dt+Je*Je);H.text=Tn(Ri,le.text,le.labelStyle,o.enableRtl,o.themeStyle.axisLabelFont)}}if(this.chart.redraw&&(o.pointsAdded&&!o.pointsRemoved||this.chart.zoomRedraw)&&!ye(H.id)&&we!==0&&!this.chart.enableCanvas&&e.visible){var ji=H.x;H.x=this.seriesClipRect.x+(o.enableRtl!==e.isInversed?-(this.seriesClipRect.width/(we||1)*Ce):this.seriesClipRect.width+this.seriesClipRect.width/(we||1)*Ce);var lr=H.transform;H.transform=$?"rotate("+$+","+H.x+","+parseFloat(H.transform.split(",")[2])+")":"";var ms=Ti(o.renderer,H,le.labelStyle,le.labelStyle.color||o.themeStyle.axisLabelFont.color,_,e.isAxisOpposedPosition!==(e.labelPosition==="Inside"),o.redraw,!0,null,o.duration,null,le.size,wt,o.enableCanvas,null,o.themeStyle.axisLabelFont);this.rangeAnimate(e,ms,this.chart.duration,!0,new Ye(this.seriesClipRect.x,e.rect.y,this.seriesClipRect.x+this.seriesClipRect.width,this.chart.availableSize.height),!1,we),H.x=ji,H.transform=lr,Ce+=1}var rn=Ti(o.renderer,H,le.labelStyle,le.labelStyle.color||o.themeStyle.axisLabelFont.color,_,e.isAxisOpposedPosition!==(e.labelPosition==="Inside"),o.redraw,!0,null,o.duration,null,le.size,wt,o.enableCanvas,null,o.themeStyle.axisLabelFont,new Ze(parseFloat(H.transform.split(",")[1]),parseFloat(H.transform.split(",")[2])));rt&&(rn.id=o.element.id+t+"_AxisLabel_"+we)}}if(this.previousXLabel&&Pe&&this.previousXLabel>Pe&&!this.chart.enableCanvas&&e.visible&&this.chart.zoomRedraw&&this.chart.redraw&&H.text)for(var we=Pe;we<this.previousXLabel;we++)H.x=this.seriesClipRect.x+(o.enableRtl!==e.isInversed?-(this.seriesClipRect.width/Pe*(we-Pe+1)):this.seriesClipRect.width+this.seriesClipRect.width/Pe*(we-Pe+1)),H.id=o.element.id+t+"_AxisLabel_"+we,H.transform=$?"rotate("+$+","+H.x+","+parseFloat(H.transform.split(",")[2])+")":"",this.updateAxisElement(e,t,"",we,"_AxisLabel_",_,!0,H,le);else this.previousXLabel=Pe;this.chart.enableCanvas||(o.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,_,e,t,s):i.appendChild(_))},a.prototype.updateAxisElement=function(e,t,i,s,o,c,f,m,b){var S,k=o.indexOf("Grid")>-1,L=o.indexOf("Label")>-1;L?S=Ti(this.chart.renderer,m,b.labelStyle,b.labelStyle.color||this.chart.themeStyle.axisLabelFont.color,c,e.isAxisOpposedPosition!==(e.labelPosition==="Inside"),this.chart.redraw,!0,null,this.chart.duration,null,null,null,this.chart.enableCanvas,null,this.chart.themeStyle.axisLabelFont):(this.renderGridLine(e,t,i,k?e.majorGridLines:e.majorTickLines,o,s,this.element,k?this.chart.themeStyle.majorGridLine:this.chart.themeStyle.majorTickLine,k?e.majorGridLines.dashArray:null),this.element&&c.childNodes&&(S=this.element.childNodes[c.childNodes.length-1])),this.rangeAnimate(e,S,this.chart.duration,L,new Ye(e.orientation==="Vertical"?0:this.seriesClipRect.x,e.orientation==="Vertical"?this.seriesClipRect.y:e.rect.y,this.seriesClipRect.width,this.seriesClipRect.height),f,s)},a.prototype.removeAxisLabelElements=function(e,t){if(this.chart.pointsRemoved&&t&&t.childNodes.length){var i=!1;if(e.valueType.indexOf("Category")>-1){var s=[];e.visibleLabels.map(function(m){typeof m.text!="string"?s.push(m.text.join("")):s.push(m.text)});for(var o=t.childNodes.length-1;o>=0;o--){var c=t.childNodes[o];s.indexOf(c.textContent.trim())===-1&&(t.removeChild(c),i=!0)}}else if(t.childNodes.length>e.visibleLabels.length)for(var f=0;f<t.childNodes.length-e.visibleLabels.length;f++)t.removeChild(t.childNodes[f]),i=!0;return i}return!1},a.prototype.calculateIntersection=function(e,t,i,s){var o=i.x-s.x,c=e.x-t.x,f=i.y-s.y,m=e.y-t.y,b=c*f-m*o,S=e.x*t.y-e.y*t.x,k=i.x*s.y-i.y*s.x,L=(S*o-c*k)/b,I=(S*f-m*k)/b,_={x:L,y:I};return _},a.prototype.getAnchor=function(e){return e.lineBreakAlignment==="Center"?"middle":this.chart.enableRtl?e.lineBreakAlignment==="Left"?"end":"start":e.lineBreakAlignment==="Left"?"start":"end"},a.prototype.getRectanglePoints=function(e){var t=new Ze(e.x,e.y),i=new Ze(e.x+e.width,e.y),s=new Ze(e.x+e.width,e.y+e.height),o=new Ze(e.x,e.y+e.height);return[t,i,s,o]},a.prototype.getLabelText=function(e,t,i){if(fn(e.originalText)){for(var s=[],o=void 0,c=0;c<e.text.length;c++)o=this.findAxisLabel(t,e.text[c],i),s.push(o);return s}else return this.findAxisLabel(t,e.text,i)},a.prototype.drawXAxisBorder=function(e,t,i,s){if(e.border.width>0){for(var o=e.labelPosition==="Outside"?e.scrollBarHeight:0,c=e.isAxisOpposedPosition,f=void 0,m=s.y+(c?-1:1)*o,b=10,S=void 0,k=s.width/e.visibleRange.delta*(e.valueType==="DateTime"?e.dateTimeInterval:e.visibleRange.interval),L=void 0,I=e.maxLabelSize.height+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0),_="",N=e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?-.5:0,U=c&&e.labelPosition==="Inside"||!c&&e.labelPosition==="Outside"?s.y+I+b+o:s.y-I-b-o,Z=0,V=e.visibleLabels.length;Z<V;Z++)switch(S=mi(e.visibleLabels[Z].value+N,e),S=(e.isAxisInverse?1-S:S)*s.width,e.valueType==="Category"&&e.labelPlacement==="BetweenTicks"?(f=S+s.x,L=S+k+s.x):(f=S-k*.5+s.x,L=S+k*.5+s.x),e.border.type){case"Rectangle":case"WithoutTopBorder":f<s.x&&e.labelPlacement!=="OnTicks"?_+="M "+s.x+" "+U+" L "+L+" "+U+" ":Math.floor(L)>s.width+s.x&&e.visibleLabels.length!==1&&Z!==e.visibleLabels.length-1?_+="M "+f+" "+m+" L "+f+" "+U+" L "+(s.width+s.x)+" "+U+" ":(f=Z===0&&e.labelPlacement==="OnTicks"?s.x:f,L=Z===e.visibleLabels.length-1&&e.labelPlacement==="OnTicks"?L-k*.5:L,_+="M "+f+" "+m+" L "+f+" "+U+" L "+L+" "+U+" ",Z===0&&(_+="M "+f+" "+m+" L "+f+" "+U+" M "+f+" "+U+" L "+s.x+" "+U),Z===e.visibleLabels.length-1&&(_+="M "+L+" "+m+" L "+L+" "+U+" M "+L+" "+U+" L "+(s.width+s.x)+" "+U));break;case"WithoutTopandBottomBorder":!(f<s.x)&&!(Math.floor(L)>s.width+s.x)&&(_+="M "+f+" "+m+" L "+f+" "+U+" M "+L+" "+m+" L "+L+" "+U);break}_+=e.border.type==="Rectangle"?"M  "+s.x+" "+m+"L "+(s.x+s.width)+" "+m:"",_!==""&&this.createAxisBorderElement(e,t,_,i)}for(var Z=0;Z<this.chart.visibleSeries.length;Z++)if(this.chart.multiLevelLabelModule&&e.multiLevelLabels.length>0&&this.chart.visibleSeries[Z].visible){this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(e,t,i,s);break}},a.prototype.createAxisBorderElement=function(e,t,i,s){var o=ye(this.chart.element.id+"_BorderLine_"+t),c=o?o.getAttribute("d"):"",f=this.chart.renderer.drawPath(new Rr(this.chart.element.id+"_BorderLine_"+t,"transparent",e.border.width,e.border.color||this.chart.themeStyle.axisLine,1,"",i));f.style.pointerEvents="none",Be(this.chart.enableCanvas,s,f,this.chart.redraw,!1,"x","y",null,c,!0,null,null,this.chart.duration)},a.prototype.findAxisLabel=function(e,t,i){return e.labelIntersectAction==="Trim"&&e.angle%360===0&&!e.enableTrim?Tn(i,t,e.labelStyle,this.chart.enableRtl,this.chart.themeStyle.axisLabelFont):t},a.prototype.drawXAxisTitle=function(e,t,i,s){if(e.title){var o=this.chart,c=jt(e.title,e.titleStyle,this.chart.themeStyle.axisTitleFont),f=pe(e.crossesAt)?e.scrollBarHeight:0,m=(e.tickPosition==="Inside"?0:e.majorTickLines.height+e.titlePadding)+(e.labelPosition==="Inside"?0:e.maxLabelSize.height+e.multiLevelLabelHeight+e.labelPadding),b=e.titleSize.height*(e.titleCollection.length-1);m=e.isAxisOpposedPosition?-(m+c.height/4+f+b):m+3*c.height/4+f;var S=e.titleRotation?e.titleRotation:0,k=void 0,L=s.y+m,I=void 0;e.titleStyle.textAlignment==="Center"?(I="middle",k=s.x+s.width*.5):e.titleStyle.textAlignment==="Near"?(I="start",k=s.x):(I="end",k=s.x+s.width),S!==0&&(L+=e.opposedPosition?-(e.titleSize.height/2+c.height/4):e.titleSize.height/2-c.height/4);var _=new rr(o.element.id+"_AxisTitle_"+t,k,L,I,e.titleCollection,"rotate("+S+","+k+","+L+")",null,S),N=Ti(o.renderer,_,e.titleStyle,e.titleStyle.color||o.themeStyle.axisTitleFont.color,i,null,o.redraw,o.redraw,null,null,null,null,null,o.enableCanvas,null,o.themeStyle.axisTitleFont,new Ze(k,L));N.setAttribute("aria-hidden","true")}},a.prototype.renderGridLine=function(e,t,i,s,o,c,f,m,b,S,k){b===void 0&&(b=null),S===void 0&&(S=null),k===void 0&&(k=!1);var L=this.chart,I,_;s.width>0&&e.visible&&e.internalVisibility&&i&&(_=ye(L.element.id+o+t+"_"+(k?S:c)),I=_?_.getAttribute("d"):null,_=null,this.htmlObject=L.renderer.drawPath(new Rr(L.element.id+o+t+"_"+(k?S:c),"transparent",s.width,s.color||m,null,b,i)),Be(L.enableCanvas,f,this.htmlObject,L.redraw,!0,"x","y",null,I,!0,null,null,L.duration),k&&(this.htmlObject.id=L.element.id+o+t+"_"+c))},a.prototype.findParentNode=function(e,t,i){return document.getElementById(e+"AxisGroup"+i+"Inside").contains(document.getElementById(t.id))?document.getElementById(e+"AxisGroup"+i+"Inside"):document.getElementById(e+"AxisGroup"+i+"Outside")},a.prototype.createZoomingLabel=function(e,t,i,s,o){var c=this.findParentNode(e.element.id,t,s);t.setAttribute("opacity","0.3");var f=e.renderer.createGroup({id:e.element.id+"AxisLabels_Zoom"+s});f=Eh(e,i,f,s,i.orientation==="Vertical",o),c.replaceChild(t,document.getElementById(t.id)),ye(e.element.id+"AxisLabels_Zoom"+s)?c.replaceChild(f,document.getElementById(f.id)):c.appendChild(f)},a}(),Oi=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ne=globalThis&&globalThis.__decorate||function(a,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,e,t,i);else for(var f=a.length-1;f>=0;f--)(c=a[f])&&(o=(s<3?c(o):s>3?c(e,t,o):c(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Fc=function(a){Oi(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return ne([K(!1)],e.prototype,"visible",void 0),ne([K(!0)],e.prototype,"showZero",void 0),ne([K(null)],e.prototype,"name",void 0),ne([K("transparent")],e.prototype,"fill",void 0),ne([K(null)],e.prototype,"format",void 0),ne([K(1)],e.prototype,"opacity",void 0),ne([K(0)],e.prototype,"angle",void 0),ne([K(!1)],e.prototype,"enableRotation",void 0),ne([K("Auto")],e.prototype,"position",void 0),ne([K(5)],e.prototype,"rx",void 0),ne([K(5)],e.prototype,"ry",void 0),ne([K("Center")],e.prototype,"alignment",void 0),ne([He({width:null,color:null},gs)],e.prototype,"border",void 0),ne([He({left:5,right:5,top:5,bottom:5},Yo)],e.prototype,"margin",void 0),ne([He({size:null,color:null,fontStyle:null,fontWeight:null,fontFamily:null},Mh)],e.prototype,"font",void 0),ne([K(null)],e.prototype,"template",void 0),ne([K("Hide")],e.prototype,"labelIntersectAction",void 0),e}(li),sa=function(a){Oi(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return ne([K(!1)],e.prototype,"visible",void 0),ne([K(null)],e.prototype,"shape",void 0),ne([K("")],e.prototype,"imageUrl",void 0),ne([K(5)],e.prototype,"height",void 0),ne([K(!1)],e.prototype,"isFilled",void 0),ne([K(5)],e.prototype,"width",void 0),ne([He({width:2,color:null},gs)],e.prototype,"border",void 0),ne([He({x:0,y:0},Oh)],e.prototype,"offset",void 0),ne([K(null)],e.prototype,"fill",void 0),ne([K(!0)],e.prototype,"allowHighlight",void 0),ne([K(1)],e.prototype,"opacity",void 0),ne([He({},Fc)],e.prototype,"dataLabel",void 0),e}(li),Nc=function(a){Oi(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return ne([K(null)],e.prototype,"fill",void 0),ne([K(1)],e.prototype,"width",void 0),ne([K("0")],e.prototype,"dashArray",void 0),ne([He(null,sa)],e.prototype,"marker",void 0),ne([K(!0)],e.prototype,"showAxis",void 0),e}(li),Mn=function(){function a(){this.symbolLocations=null,this.regions=null,this.percentage=null,this.regionData=null,this.isSelect=!1,this.marker={visible:!1},this.isPointInRange=!0,this.verticalError=null,this.verticalNegativeError=null,this.horizontalError=null,this.horizontalNegativeError=null,this.verticalPositiveError=null,this.horizontalPositiveError=null}return a}(),zc=function(a){Oi(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.clipRect=new Ye(0,0,0,0),t}return e.prototype.setDataSource=function(t,i){t&&(this.points=t.points),i.trendLineModule.initDataSource(this),i.visibleSeriesCount++},ne([K("")],e.prototype,"name",void 0),ne([K("")],e.prototype,"dashArray",void 0),ne([K(!0)],e.prototype,"visible",void 0),ne([K("Linear")],e.prototype,"type",void 0),ne([K(2)],e.prototype,"period",void 0),ne([K(2)],e.prototype,"polynomialOrder",void 0),ne([K(0)],e.prototype,"backwardForecast",void 0),ne([K(0)],e.prototype,"forwardForecast",void 0),ne([He({},Go)],e.prototype,"animation",void 0),ne([He({},sa)],e.prototype,"marker",void 0),ne([K(!0)],e.prototype,"enableTooltip",void 0),ne([K(null)],e.prototype,"intercept",void 0),ne([K("")],e.prototype,"fill",void 0),ne([K(1)],e.prototype,"width",void 0),ne([K("SeriesType")],e.prototype,"legendShape",void 0),e}(li),_c=function(a){Oi(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return ne([K(1)],e.prototype,"width",void 0),ne([K(10)],e.prototype,"length",void 0),ne([K(null)],e.prototype,"color",void 0),ne([K(1)],e.prototype,"opacity",void 0),e}(li),Vc=function(a){Oi(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return ne([K(null)],e.prototype,"value",void 0),ne([K(null)],e.prototype,"color",void 0),ne([K("0")],e.prototype,"dashArray",void 0),e}(li),Hc=function(a){Oi(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return ne([K(!1)],e.prototype,"visible",void 0),ne([K("Fixed")],e.prototype,"type",void 0),ne([K("Both")],e.prototype,"direction",void 0),ne([K("Vertical")],e.prototype,"mode",void 0),ne([K(null)],e.prototype,"color",void 0),ne([K(1)],e.prototype,"verticalError",void 0),ne([K(1)],e.prototype,"width",void 0),ne([K(1)],e.prototype,"horizontalError",void 0),ne([K(3)],e.prototype,"verticalPositiveError",void 0),ne([K(3)],e.prototype,"verticalNegativeError",void 0),ne([K(1)],e.prototype,"horizontalPositiveError",void 0),ne([K(1)],e.prototype,"horizontalNegativeError",void 0),ne([He(null,_c)],e.prototype,"errorBarCap",void 0),ne([K("")],e.prototype,"errorBarColorMapping",void 0),e}(li),dl=function(a){Oi(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.rangeColorPoints=[],t.isAdvancedColor=void 0,t.currentViewData=[],t.clipRect=new Ye(0,0,0,0),t.seriesType="XY",t.isRectTypeSeries=!1,t.removedPointIndex=null,t.isLegendClicked=!1,t}return e.prototype.processJsonData=function(){var t=0,i=new Mn,s=this instanceof Ct&&this.type==="Histogram"?"x":this.xName,o=this instanceof Ct&&this.marker.dataLabel.name?this.marker.dataLabel.name:"";this instanceof Ct&&((this.type==="Waterfall"||this.type==="Histogram")&&(this.currentViewData=this.chart[Ut(this.type)+"SeriesModule"].processInternalData(Et([],this.currentViewData,null,!0),this)),this.category==="Pareto"&&(this.currentViewData=Et([],this.currentViewData,null,!0),this.type==="Line"&&(this.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.currentViewData,this))),this.isRectTypeSeries=this.type.indexOf("Column")>-1||this.type.indexOf("Bar")>-1||this.type.indexOf("Histogram")>-1);var c=(this.currentViewData||[]).length;if(this.points=[],this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0,this.sizeMax=-1/0,this.getSeriesType(),this.xAxis.valueType==="Category")for(;t<c;)this.pushCategoryPoint(i,t,o,s),t++;else if(this.xAxis.valueType.indexOf("DateTime")>-1)for(var f={skeleton:"full",type:"dateTime"},m=this.chart.intl.getDateParser(f),b=this.chart.intl.getDateFormat(f);t<c;)this.pushDateTimePoint(i,t,o,s,m,b),t++;else for(;t<c;)this.pushDoublePoint(i,t,o,s),t++;this.updateSplineValue()},e.prototype.pushCategoryPoint=function(t,i,s,o){t=this.dataPoint(i,s,o),this.pushCategoryData(t,i,t.x),this.pushData(t,i),this.setEmptyPoint(t,i),this.rangeColorsInterior(t)},e.prototype.pushDoublePoint=function(t,i,s,o){t=this.dataPoint(i,s,o),t.xValue=t.x,this.pushData(t,i),this.setEmptyPoint(t,i)},e.prototype.pushDateTimePoint=function(t,i,s,o,c,f){t=this.dataPoint(i,s,o),!pe(t.x)&&t.x!==""?(t.x=new Date(_s.parse.parseJson({val:t.x}).val),this.xAxis.valueType==="DateTime"?t.xValue=Date.parse(t.x.toString()):this.chart.isBlazor?this.pushCategoryData(t,i,Date.parse(t.x.toString()).toString()):this.pushCategoryData(t,i,Date.parse(c(f(t.x))).toString()),this.pushData(t,i),this.setEmptyPoint(t,i)):t.visible=!1},e.prototype.updateSplineValue=function(){if(this instanceof Ct&&!(this.chart.stockChart&&this.xAxis.valueType==="DateTimeCategory")){if(this.type.indexOf("Spline")>-1||this.drawType.indexOf("Spline")>-1&&this.chart.chartAreaType==="PolarRadar"){var t=this.type.indexOf("Area")>-1||this.drawType.indexOf("Area")>-1,i=this.type.indexOf("Range")>-1;this.chart["spline"+(t?i?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(this)}else this.type.indexOf("Histogram")>-1&&(this.xAxis.maximum||this.xAxis.minimum)&&this.chart.histogramSeriesModule.calculateBinValues(this);this.type.indexOf("Histogram")>-1&&this.points.length===1&&(this.xMin=this.xMin-this.histogramValues.binWidth,this.xMax=this.xMax+this.histogramValues.binWidth)}},e.prototype.rangeColorsInterior=function(t){this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0&&this.chart.visibleSeries.length===1&&(this.chart.series[0].type==="Column"||this.chart.series[0].type==="Bar"||this.chart.series[0].type==="Scatter"||this.chart.series[0].type==="Bubble")&&(this.rangeColorPoints[t.interior]?this.rangeColorPoints[t.interior]!==void 0&&this.rangeColorPoints[t.interior].push(t):this.rangeColorPoints[t.interior]=[])},e.prototype.pushData=function(t,i){t.index=i,t.yValue=t.y,t.series=this,this.xMin=Math.min(this.xMin,t.xValue),this.xMax=Math.max(this.xMax,t.xValue),this.xData.push(t.xValue)},e.prototype.dataPoint=function(t,i,s){this.points[t]=new Mn;var o=this.points[t],c=this.currentViewData[t],f=this.enableComplexProperty?fs:this.getObjectValue;return o.x=f(s,c),o.high=f(this.high,c),o.low=f(this.low,c),o.open=f(this.open,c),o.close=f(this.close,c),o.volume=f(this.volume,c),o.interior=f(this.pointColorMapping,c),this instanceof Ct&&(this.errorBar.visible&&(o.errorBarColor=f(this.errorBar.errorBarColorMapping,c),o.verticalError=typeof this.errorBar.verticalError=="string"?f(this.errorBar.verticalError,c):this.errorBar.verticalError,o.horizontalError=typeof this.errorBar.horizontalError=="string"?f(this.errorBar.horizontalError,c):this.errorBar.horizontalError,o.verticalNegativeError=typeof this.errorBar.verticalNegativeError=="string"?f(this.errorBar.verticalNegativeError,c):this.errorBar.verticalNegativeError,o.verticalPositiveError=typeof this.errorBar.verticalPositiveError=="string"?f(this.errorBar.verticalPositiveError,c):this.errorBar.verticalPositiveError,o.horizontalNegativeError=typeof this.errorBar.horizontalNegativeError=="string"?f(this.errorBar.horizontalNegativeError,c):this.errorBar.horizontalNegativeError,o.horizontalPositiveError=typeof this.errorBar.horizontalPositiveError=="string"?f(this.errorBar.horizontalPositiveError,c):this.errorBar.horizontalPositiveError),o.y=f(this.yName,c),o.size=f(this.size,c),o.text=f(i,c),o.tooltip=f(this.tooltipMappingName,c),this.isAdvancedColorSupported()&&(this.rangeColorName=this.colorName.length>0?this.colorName:this.yName,o.colorValue=f(this.rangeColorName,c),o.interior=this.getPointFillColor(o.interior,o.colorValue))),o},e.prototype.isAdvancedColorSupported=function(){return pe(this.isAdvancedColor)&&(this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0&&(this.chart.series[0].type==="Column"||this.chart.series[0].type==="Bar"||this.chart.series[0].type==="Scatter"||this.chart.series[0].type==="Bubble")?this.isAdvancedColor=!0:this.isAdvancedColor=!1),this.isAdvancedColor},e.prototype.getPointFillColor=function(t,i){var s=t;if(i&&this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0)for(var o=0,c=this.chart.rangeColorSettings;o<c.length;o++){var f=c[o];i>=f.start&&i<=f.end&&(f.colors.length>1?s=Rh(f,i):s=f.colors[0])}return s},e.prototype.getObjectValue=function(t,i){return i[t]},e.prototype.setEmptyPoint=function(t,i){if(!this.findVisibility(t))return t.visible=!0,null;t.isEmpty=!0;var s=this instanceof Ct&&t.isPointInRange?this.emptyPointSettings.mode:"Drop";switch(s){case"Zero":t.visible=!0,this instanceof Ct&&this.seriesType.indexOf("HighLow")>-1?(t.high=t.low=0,this.seriesType.indexOf("HighLowOpenClose")>-1&&(t.open=t.close=0)):t.y=t.yValue=this.yData[i]=0;break;case"Average":this instanceof Ct&&(this.seriesType.indexOf("HighLow")>-1?(t.high=pe(t.high)||isNaN(+t.high)?this.getAverage(this.high,i):t.high,t.low=pe(t.low)||isNaN(+t.low)?this.getAverage(this.low,i):t.low,this.seriesType.indexOf("HighLowOpenClose")>-1&&(t.open=pe(t.open)||isNaN(+t.open)?this.getAverage(this.open,i):t.open,t.close=pe(t.close)||isNaN(+t.close)?this.getAverage(this.close,i):t.close)):t.y=t.yValue=this.yData[i]=this.getAverage(this.yName,i)),t.visible=!0;break;case"Drop":case"Gap":this.yData[i]=null,t.visible=!1;break}},e.prototype.findVisibility=function(t){var i=this instanceof Ct?this.seriesType:"HighLowOpenClose",s,o=this.yAxis.minimum,c=this.yAxis.maximum;switch(i){case"XY":return this.chart.chartAreaType==="PolarRadar"&&(!pe(o)&&t.yValue<o||!pe(c)&&t.yValue>c)?(t.isPointInRange=!1,!0):(this.setXYMinMax(t.yValue),this.yData.push(t.yValue),this instanceof Ct&&this.type==="Bubble"&&(this.sizeMax=Math.max(this.sizeMax,pe(t.size)||isNaN(+t.size)?this.sizeMax:t.size)),pe(t.x)||pe(t.y)||isNaN(+t.y));case"HighLow":return this.setHiloMinMax(t.high,t.low),pe(t.x)||pe(t.low)||isNaN(+t.low)||pe(t.high)||isNaN(+t.high);case"HighLowOpenClose":return this.setHiloMinMax(t.high,t.low),pe(t.x)||pe(t.low)||isNaN(+t.low)||pe(t.open)||isNaN(+t.open)||pe(t.close)||isNaN(+t.close)||pe(t.high)||isNaN(+t.high);case"BoxPlot":return s=(t.y||[null]).filter(function(f){return!pe(f)&&!isNaN(f)}).sort(function(f,m){return f-m}),t.y=s,this.yMin=Math.min(this.yMin,Math.min.apply(Math,s)),this.yMax=Math.max(this.yMax,Math.max.apply(Math,s)),!s.length}},e.prototype.setXYMinMax=function(t){var i=this.yAxis.valueType==="Logarithmic"||this.xAxis.valueType==="Logarithmic",s=t<0||this.yAxis.rangePadding==="None",o;this.isRectTypeSeries&&!si(this.yAxis)?o=i||s?t:0:o=t,this.yMin=i?Math.min(this.yMin,pe(o)||isNaN(o)||o===0||o.toString()==="0"||o.toString()===""?this.yMin:o):Math.min(this.yMin,pe(o)||isNaN(o)?this.yMin:o),this.yMax=Math.max(this.yMax,pe(t)||isNaN(t)?this.yMax:t)},e.prototype.setHiloMinMax=function(t,i){this.yMin=Math.min(this.yMin,Math.min(pe(i)||isNaN(i)?this.yMin:i,pe(t)||isNaN(t)?this.yMin:t)),this.yMax=Math.max(this.yMax,Math.max(pe(i)||isNaN(i)?this.yMax:i,pe(t)||isNaN(t)?this.yMax:t))},e.prototype.getSeriesType=function(){var t;if(this instanceof Ct){var i=this.chart.chartAreaType==="PolarRadar"?this.drawType:this.type;if(i)switch(i){case"RangeColumn":case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"Hilo":t="HighLow";break;case"HiloOpenClose":case"Candle":t="HighLowOpenClose";break;case"BoxAndWhisker":t="BoxPlot";break;default:t="XY"}}this.seriesType=t},e.prototype.pushCategoryData=function(t,i,s){if(!this.chart.tooltip.shared&&!this.visible)return null;this.xAxis.isIndexed?(this.xAxis.labels[i]?this.xAxis.labels[i]+=", "+s:this.xAxis.labels.push(s),t.xValue=i):(this.xAxis.indexLabels[s]===void 0&&(this.xAxis.indexLabels[s]=this.xAxis.labels.length,this.xAxis.labels.push(s)),t.xValue=this.xAxis.indexLabels[s])},e.prototype.getAverage=function(t,i,s){s===void 0&&(s=this.currentViewData);var o=s[i-1]&&s[i-1][t]||0,c=s[i+1]&&s[i+1][t]||0;return(o+c)/2},e.prototype.refreshDataManager=function(t){var i=this;this.chart=t;var s,o="isAngular";if(t[o]?s=Object.keys(this.dataSource).length?this.dataSource:t.dataSource:s=this.dataSource||t.dataSource,!(s instanceof Ih)&&pe(this.query)){this.dataManagerSuccess({result:s,count:s.length},!1);return}var c=this.dataModule.getData(this.dataModule.generateQuery().requiresCount());c.then(function(f){return i.dataManagerSuccess(f)})},e.prototype.dataManagerSuccess=function(t,i){if(i===void 0&&(i=!0),this.currentViewData=t.count?t.result:[],this.chart.allowServerDataBinding=!1,this instanceof Ct){this.chart.stockChart&&(this.chart.stockChart.series[this.index].localData=this.currentViewData);var s={name:Ta,series:this,data:this.currentViewData,fill:this.interior};this.chart.trigger(Ta,s),this.interior=s.fill,this.currentViewData=s.data}this.chart.stockChart&&!(this instanceof Ct)&&(this.currentViewData=this.chart.stockChart.findCurrentData(this.chart.stockChart.series[0].localData,this.chart.stockChart.series[0].xName)),this.processJsonData(),this.recordsCount=t.count,this.refreshChart(i),this.currentViewData=null},e.prototype.refreshChart=function(t){var i=this.chart;if(this instanceof Ct&&(i.visibleSeriesCount+=t?1:0),i.refreshTechnicalIndicator(this),this instanceof Ct&&this.category!=="TrendLine")for(var s=0,o=this.trendlines;s<o.length;s++){var c=o[s];c.setDataSource(this,i)}i.visibleSeries.length===i.visibleSeriesCount&&(i.refreshBound(),i.trigger("loaded",{chart:i.isBlazor?{}:i}),this.chart.stockChart&&this.chart.stockChart.initialRender&&(this.chart.stockChart.initialRender=!1,this.chart.stockChart.stockChartDataManagerSuccess())),this instanceof Ct&&(i.visibleSeriesCount+=t?0:1)},ne([K("")],e.prototype,"xName",void 0),ne([K("")],e.prototype,"colorName",void 0),ne([K("")],e.prototype,"high",void 0),ne([K("")],e.prototype,"low",void 0),ne([K("")],e.prototype,"open",void 0),ne([K("")],e.prototype,"close",void 0),ne([K("")],e.prototype,"volume",void 0),ne([K("")],e.prototype,"pointColorMapping",void 0),ne([K(!0)],e.prototype,"visible",void 0),ne([K(null)],e.prototype,"xAxisName",void 0),ne([K(null)],e.prototype,"yAxisName",void 0),ne([He(null,Go)],e.prototype,"animation",void 0),ne([K(null)],e.prototype,"fill",void 0),ne([K(1)],e.prototype,"width",void 0),ne([K("")],e.prototype,"dashArray",void 0),ne([K("")],e.prototype,"dataSource",void 0),ne([K()],e.prototype,"query",void 0),ne([fi([],Vc)],e.prototype,"segments",void 0),ne([K("X")],e.prototype,"segmentAxis",void 0),ne([K(!1)],e.prototype,"enableComplexProperty",void 0),e}(li),Ct=function(a){Oi(e,a);function e(t,i,s,o){var c=a.call(this,t,i,s,o)||this;return c.visibleSeriesCount=0,c.category="Series",c.isRectSeries=!1,c.drawPoints=[],c.lowDrawPoints=[],c.delayedAnimation=!1,c.rangeColorName=c.colorName.length>0?c.colorName:c.yName,c.currentData=[],c}return e.prototype.refreshAxisLabel=function(){if(this.xAxis.valueType.indexOf("Category")===-1)return null;this.xAxis.labels=[],this.xAxis.indexLabels={};for(var t={skeleton:"full",type:"dateTime"},i=this.chart.intl.getDateParser(t),s=this.chart.intl.getDateFormat(t),o=0,c=this.xAxis.series;o<c.length;o++){var f=c[o];if(f.visible&&f.category!=="TrendLine"){f.xMin=1/0,f.xMax=-1/0;for(var m=0,b=f.points;m<b.length;m++){var S=b[m];f.pushCategoryData(S,S.index,this.xAxis.valueType==="DateTimeCategory"?Date.parse(i(s(S.x))).toString():S.x),f.xMin=Math.min(f.xMin,S.xValue),f.xMax=Math.max(f.xMax,S.xValue)}}}},e.prototype.findSeriesCollection=function(t,i,s){for(var o=[],c=0,f=i.axes;c<f.length;c++)for(var m=f[c],b=0,S=m.series;b<S.length;b++)for(var k=S[b],L=0,I=t.axes;L<I.length;L++)for(var _=I[L],N=0,U=_.series;N<U.length;N++){var Z=U[N];Z===k&&Z.visible&&this.rectSeriesInChart(Z,s)&&o.push(Z)}return o},e.prototype.rectSeriesInChart=function(t,i){var s=t.type.toLowerCase();return s.indexOf("column")!==-1||s.indexOf("bar")!==-1||s.indexOf("histogram")!==-1||s.indexOf("hiloopenclose")!==-1||s.indexOf("candle")!==-1||s.indexOf("pareto")!==-1||s.indexOf("hilo")!==-1||t.drawType.indexOf("Column")!==-1||s.indexOf("waterfall")!==-1||s.indexOf("boxandwhisker")!==-1||i},e.prototype.calculateStackedValue=function(t,i){for(var s=0,o=i.columns;s<o.length;s++)for(var c=o[s],f=0,m=i.rows;f<m.length;f++){var b=m[f];this.calculateStackingValues(this.findSeriesCollection(c,b,!0),t)}},e.prototype.calculateStackingValues=function(t,i){var s,o,c=[],f=[],m=[],b,S,k,L=[];i&&(L=this.findFrequencies(t));for(var I=[],_=[],N=0;N<t.length;N++){var U=t[N];I[U.stackingGroup]?I[U.stackingGroup]!==void 0&&I[U.stackingGroup].push(U):(I[U.stackingGroup]=[],I[U.stackingGroup].push(U))}for(var Z=Object.keys(I),V=0;V<Z.length;V++){for(var $=[],Q=[],H=I[Z[V]],re=0,ie=H;re<ie.length;re++){var U=ie[re];if(U.type.indexOf("Stacking")!==-1||U.drawType.indexOf("Stacking")!==-1&&U.chart.chartAreaType==="PolarRadar"){b=U.type.indexOf("StackingArea")!==-1?"StackingArea100":U.type.indexOf("StackingLine")!==-1?"StackingLine100":U.stackingGroup,f[b]||(f[b]=[],m[b]=[]),c=U.yData,s=[],o=[],$.push(U),_=Cr(U);for(var ae=0,Ce=_.length;ae<Ce;ae++)S=0,k=+c[ae],f[b][_[ae].xValue]===void 0&&(f[b][_[ae].xValue]=0),m[b][_[ae].xValue]===void 0&&(m[b][_[ae].xValue]=0),i?(k=k/L[b][_[ae].xValue]*100,k=isNaN(k)?0:k,_[ae].percentage=+k.toFixed(2)):Q[ae]=Q[ae]?Q[ae]+Math.abs(k):Math.abs(k),k>=0?(S=f[b][_[ae].xValue],f[b][_[ae].xValue]+=k):(S=m[b][_[ae].xValue],m[b][_[ae].xValue]+=k),s.push(S),o.push(k+S),i&&o[ae]>100&&(o[ae]=100);U.stackedValues=new Bh(s,o);var me=U.yAxis.valueType==="Logarithmic",ke=U.type.indexOf("Column")!==-1||U.type.indexOf("Bar")!==-1;U.yMin=me&&ke&&U.yMin<1?U.yMin:U.yAxis.startFromZero&&U.yAxis.rangePadding==="Auto"&&U.yMin>=0?0:parseFloat(Math.min.apply(0,i?s:o).toFixed(10)),U.yMax=Math.max.apply(0,o),U.yMin>Math.min.apply(0,o)&&(U.yMin=i?-100:me&&ke&&U.yMin<1?U.yMin:Math.min.apply(0,o)),U.yMax<Math.max.apply(0,s)&&(U.yMax=0)}}this.findPercentageOfStacking($,Q,i)}},e.prototype.findPercentageOfStacking=function(t,i,s){for(var o=0,c=t;o<c.length;o++){var f=c[o];if(s)return null;for(var m=0,b=Cr(f);m<b.length;m++){var S=b[m];S.percentage=Math.abs(+(S.y/i[S.index]*100).toFixed(2))}}},e.prototype.findFrequencies=function(t){for(var i=[],s,o=[],c=0,f=t;c<f.length;c++){var m=f[c];if(m.yAxis.isStack100=m.type.indexOf("100")!==-1,o=Cr(m),m.type.indexOf("Stacking")!==-1){s=m.type.indexOf("StackingArea")!==-1?"StackingArea100":m.type.indexOf("StackingLine")!==-1?"StackingLine100":m.stackingGroup,i[s]||(i[s]=[]);for(var b=0,S=o.length;b<S;b++)i[s][o[b].xValue]===void 0&&(i[s][o[b].xValue]=0),m.yData[b]>0?i[s][o[b].xValue]+=m.yData[b]:i[s][o[b].xValue]-=m.yData[b]}}return i},e.prototype.renderSeries=function(t){if(this.chart.stockChart&&this.xAxis.valueType==="DateTimeCategory"){for(var i=0;i<this.points.length;i++){var s=this.xAxis.labels.indexOf(Date.parse(this.points[i].x.toString()).toString());this.points[i].xValue=s,t.series.length>1&&(this.xData[i]=s,this.xMin=this.xMin>s?s:this.xMin,this.xMax=this.xMax<s?s:this.xMax)}if(this instanceof e&&this.type.indexOf("Spline")>-1){var o=this.type.indexOf("Area")>-1,c=this.type.indexOf("Range")>-1;this.chart["spline"+(o?c?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(this)}}var f=Ut(this.type);f=f.replace("100",""),t[f+"SeriesModule"]&&(this.category!=="Indicator"&&this.category!=="TrendLine"&&this.createSeriesElements(t),this.visiblePoints=Cr(this),this.chart.enableCanvas?(this.chart.canvasRender.ctx.save(),this.chart.canvasRender.ctx.beginPath(),t.requireInvertedAxis?this.chart.canvasRender.ctx.rect(this.yAxis.rect.x,this.xAxis.rect.y,this.yAxis.rect.width,this.xAxis.rect.height):this.chart.canvasRender.ctx.rect(this.xAxis.rect.x,this.yAxis.rect.y,this.xAxis.rect.width,this.yAxis.rect.height),this.chart.canvasRender.ctx.clip(),t[f+"SeriesModule"].render(this,this.xAxis,this.yAxis,t.requireInvertedAxis),this.chart.canvasRender.ctx.restore()):t[f+"SeriesModule"].render(this,this.xAxis,this.yAxis,t.requireInvertedAxis),this.category!=="Indicator"&&(this.errorBar.visible&&this.chart.errorBarModule.render(this),this.marker.dataLabel.visible&&(this.chart.enableCanvas?(this.chart.canvasRender.ctx.save(),this.chart.canvasRender.ctx.beginPath(),t.requireInvertedAxis?this.chart.canvasRender.ctx.rect(this.yAxis.rect.x,this.xAxis.rect.y,this.yAxis.rect.width,this.xAxis.rect.height):this.chart.canvasRender.ctx.rect(this.xAxis.rect.x,this.yAxis.rect.y,this.xAxis.rect.width,this.yAxis.rect.height),this.chart.canvasRender.ctx.clip(),t.dataLabelModule.render(this,this.chart,this.marker.dataLabel),this.chart.canvasRender.ctx.restore()):t.dataLabelModule.render(this,this.chart,this.marker.dataLabel)),this.appendSeriesElement(t.seriesElements,t)),this.chart.enableCanvas||this.performAnimation(t,f,this.errorBar,this.marker,this.marker.dataLabel))},e.prototype.createSeriesElements=function(t){if(this.category!=="Indicator"){var i=t.element.id,s=this.marker.border.width+8+5,o=this.type==="Bubble"||!this.marker.visible&&t.tooltip.shared&&t.enableCanvas?t.svgRenderer:t.renderer,c=this.index===void 0?this.category:this.index,f=void 0,m=void 0,b=void 0;if(this.type==="Scatter"||this.drawType==="Scatter"?(f=(this.marker.height+s)/2,m=(this.marker.width+s)/2):(f=0,m=0),t.chartAreaType==="PolarRadar"){var S=this.drawType==="Scatter"?Math.max(this.marker.width,this.marker.height):0;b=new Uo(i+"_ChartSeriesClipRect_"+c,"transparent",{width:1,color:"Gray"},1,this.clipRect.width/2+this.clipRect.x,this.clipRect.height/2+this.clipRect.y,t.radius+S),this.clipRectElement=Ir(t.redraw,b,o,"drawCircularClipPath")}else b=new nr(i+"_ChartSeriesClipRect_"+c,"transparent",{width:1,color:"Gray"},1,{x:this.xAxis.columnIndex===0?-m:0,y:this.yAxis.rowIndex===t.rows.length-1?-f:0,width:this.clipRect.width+(this.xAxis.columnIndex===t.columns.length-1?m*2:m),height:this.clipRect.height+(this.yAxis.rowIndex===0?f*2:f)}),this.clipRectElement=Ir(t.redraw,b,o);var k=t.chartAreaType==="Cartesian"?"translate("+this.clipRect.x+","+this.clipRect.y+")":"";this.symbolElement=null,this.seriesElement=o.createGroup({id:i+"SeriesGroup"+c,transform:k,"clip-path":"url(#"+i+"_ChartSeriesClipRect_"+c+")"}),this.seriesElement&&(this.seriesElement.setAttribute("role","region"),this.seriesElement.setAttribute("aria-label",this.name+","+this.type+" series with "+this.points.length+" data points"),this.seriesElement.setAttribute("aria-hidden","false")),(!this.chart.enableCanvas||this.type==="Bubble")&&(this.seriesElement.setAttribute("tabindex",c===0?"0":this.checkTabindex(t.visibleSeries,c)?"":"0"),this.seriesElement.setAttribute("style","outline: none"),this.seriesElement.appendChild(this.clipRectElement))}},e.prototype.checkTabindex=function(t,i){for(var s=0;s<i;s++)if(t[s].visible)return!0;return!1},e.prototype.appendSeriesElement=function(t,i){var s=this.marker,o=s.dataLabel,c=i.redraw;if(this.category!=="TrendLine"){Be(i.enableCanvas,i.seriesElements,this.seriesElement,c);var f=this.errorBar;f.visible&&(i.chartAreaType==="PolarRadar"?Be(i.enableCanvas,i.seriesElements,this.seriesElement,c):Be(i.enableCanvas,i.seriesElements,this.errorBarElement,c))}s.visible&&(i.chartAreaType==="Cartesian"||this.drawType!=="Scatter"&&i.chartAreaType==="PolarRadar")&&this.type!=="Scatter"&&this.type!=="Bubble"&&this.type!=="Candle"&&this.type!=="Hilo"&&this.type!=="HiloOpenClose"&&this.symbolElement&&Be(i.enableCanvas,i.seriesElements,this.symbolElement,c),o.visible&&this.textElement&&(Be(i.enableCanvas,i.dataLabelElements,this.shapeElement,c),Be(i.enableCanvas,i.dataLabelElements,this.textElement,c)),!i.enableCanvas&&i.dataLabelElements.hasChildNodes()&&i.seriesElements.appendChild(i.dataLabelElements)},e.prototype.performAnimation=function(t,i,s,o,c){(this.animation.enable&&Mr!=="Disable"||Mr==="Enable")&&t.animateSeries&&(!t.stockChart||!t.stockChart.isStockChartRendered)&&(t[i+"SeriesModule"].doAnimation(this),s.visible&&t.errorBarModule.doErrorBarAnimation(this),o.visible&&(this.isRectSeries||this.type==="Line"||this.type==="Polar"||this.type==="Radar")&&t.markerRender.doMarkerAnimation(this),c.visible&&ze.info.name!=="edge"&&!ze.isIE&&t.dataLabelModule.doDataLabelAnimation(this))},e.prototype.setPointColor=function(t,i){return i=t.interior||i,t.isEmpty&&this.emptyPointSettings.fill||i},e.prototype.setBorderColor=function(t,i){return i.width=t.isEmpty&&this.emptyPointSettings.border.width||i.width,i.color=t.isEmpty&&this.emptyPointSettings.border.color||i.color,i},e.prototype.addPoint=function(t,i){var s=this.yMin,o=this.yMax;if(this.removeTrackballElements(),this.dataSource.push(t),this.type==="Radar"||this.type==="Polar")return this.chart.refresh();if(this.type==="Histogram"){this.currentViewData=this.chart[Ut(this.type)+"SeriesModule"].processInternalData(Et([],this.dataSource,null,!0),this);for(var c=0;c<this.currentViewData.length;c++)this.updatePoint(c)}else{this.currentViewData=this.dataSource;var f=this.points.length===0?0:this.points[this.points.length-1].index+1;this.updatePoint(f)}if(this.category==="Pareto"){var m=Et([],this.dataSource,null,!0),b=this.chart.visibleSeries[this.index+this.chart.series.length];b.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(m,this);for(var c=0;c<b.currentViewData.length;c++)b.points[c]||b.updatePoint(c),b.points[c].y=b.points[c].yValue=b.currentViewData[c][b.yName]}this.updateSplineValue(),this.chart.calculateStackValues(),this.chart.redraw=this.chart.enableAnimation;var S=this.chart.duration;if(this.chart.duration=pe(i)?500:i,this.chart.animateSeries=!1,this.chart.pointsAdded=!0,this.chart.enableAnimation&&!(this.isRectSeries||this.type==="Bubble"||this.type==="Scatter")&&this.type.indexOf("step")===-1&&this.marker&&this.marker.visible&&this.visible){for(var c=this.points.length-2;c>=0;c--)if(this.points[c]&&this.points[c].symbolLocations[0]!==void 0){this.chart.markerRender.renderMarker(this,this.points[this.points.length-2],this.points[c].symbolLocations[0],null,!0);break}}this.yMin>=s&&this.yMax<=o&&(si(this.xAxis)||(this.xAxis.baseModule.calculateRangeAndInterval(new Qt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis()),this.chart.pointsAdded=!1,this.updateSeries(!0,!1)),(this.yMin<s||this.yMax>o)&&(this.updateChartAxis(),this.chart.pointsAdded=!1,this.updateSeries(!0,!0)),this.chart.redraw=!1,this.chart.duration=S},e.prototype.removePoint=function(t,i){var s=Et([],this.dataSource,null,!0),o=this.chart.duration;if(s.length>0&&t>=0&&t<s.length){if(s.splice(t,1),this.dataSource.splice(t,1),this.removeTrackballElements(t),this.type==="Radar"||this.type==="Polar")return this.chart.refresh();if(this.chart.redraw=this.chart.enableAnimation,this.chart.animateSeries=!1,this.chart.pointsAdded=!0,this.chart.duration=pe(i)?500:i,this.type==="Histogram"){var c=this.points.length;this.points=[],this.visiblePoints=[],this.currentViewData=this.chart[Ut(this.type)+"SeriesModule"].processInternalData(Et([],this.dataSource,null,!0),this);for(var f=0;f<this.currentViewData.length;f++)this.updatePoint(f);c>this.points.length&&(this.removedPointIndex=t)}else this.removedPointIndex=t,this.points.splice(t,1),this.visiblePoints.splice(t,1);this.yData=[],this.xData=[];var m=this.yMin,b=this.yMax;this.yMin=1/0,this.xMin=1/0,this.yMax=-1/0,this.xMax=-1/0,this.xAxis.valueType.indexOf("Category")>-1&&this.chart.series.length===1&&(this.xAxis.labels=[],this.xAxis.indexLabels={}),t===0&&(this.chart.pointsRemoved=this.chart.enableAnimation);for(var f=0;f<this.points.length;f++)this.updatePointsAfterRemoval(f);if(this.category==="Pareto"){var S=this.chart.visibleSeries[this.index+this.chart.series.length];S.yMin=1/0,S.xMin=1/0,S.yMax=-1/0,S.xMax=-1/0,S.points.splice(t,1),S.visiblePoints.splice(t,1),S.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.dataSource,this);for(var f=0;f<S.currentViewData.length;f++)S.points[f].y=S.points[f].yValue=S.currentViewData[f][S.yName],S.updatePointsAfterRemoval(f)}this.updateSplineValue(),this.chart.calculateStackValues(),!si(this.xAxis)&&b===this.yMax&&m===this.yMin?(this.xAxis.baseModule.calculateRangeAndInterval(new Qt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis(),this.createSeriesElements(this.chart),this.chart.pointsAdded=!1,this.updateSeries(!0,!1)):(b<this.yMax||m>this.yMin||b>this.yMax||m<this.yMin)&&(this.updateChartAxis(),this.createSeriesElements(this.chart),this.chart.pointsAdded=!1,this.updateSeries(!0,!0))}Be(this.chart.enableCanvas,this.chart.seriesElements,this.seriesElement,!0),this.chart.redraw=!1,this.chart.duration=o,this.chart.pointsRemoved=!1,this.removedPointIndex=null},e.prototype.updatePointsAfterRemoval=function(t){var i=this.points[t],s={skeleton:"full",type:"dateTime"},o=this.chart.intl.getDateParser(s),c=this.chart.intl.getDateFormat(s);this.xAxis.valueType==="Category"&&this.chart.series.length===1?this.pushCategoryData(i,t,i.x):this.xAxis.valueType==="DateTimeCategory"&&this.chart.series.length===1&&this.pushCategoryData(i,t,Date.parse(o(c(i.x))).toString()),this.pushData(i,t),this.setEmptyPoint(this.points[t],t)},e.prototype.removeTrackballElements=function(t){if(this.marker.visible)if(t!==void 0){var i=this.chart.element.id+"_Series_"+this.index+"_Point_"+t+"_Trackball_",s=ye(i+"0");s&&s.remove();var o=ye(i+"1");o&&o.remove();var c=ye(this.chart.element.id+"_Series_"+this.index+"_Point_"+t+"_Symbol");c&&c.setAttribute("visibility","visible")}else{var f=this.chart.element.id+"_EJ2-Trackball_Series_"+this.index+"_Point_",m=document.querySelectorAll('[class*="'+f+'"]');if(m[0]){var b=m[0].id.match(/_Point_(\d+)_/),S=b?parseInt(b[1],10):null;m[0].remove();var c=ye(this.chart.element.id+"_Series_"+this.index+"_Point_"+S+"_Symbol");c&&c.setAttribute("visibility","visible")}m[1]&&m[1].remove()}if(this.chart.tooltip.enable){this.chart.tooltipModule.previousPoints=[];var k=ye(this.chart.element.id+"_tooltip");k&&k.remove()}},e.prototype.setData=function(t,i){var s=this;if(!t)return null;var o=[];if(this.dataSource.length===t.length){for(var c=0;c<t.length;c++)if(t[c][this.xName]instanceof Date?o.push(t[c][this.xName].getTime()):o.push(t[c][this.xName]),this.currentData.length<this.dataSource.length){var f=Et([],this.dataSource,null,!0);f[c][this.xName]instanceof Date?this.currentData.push(f[c][this.xName].getTime()):this.currentData.push(f[c][this.xName])}}var m=o.every(function(ae){return s.currentData.indexOf(ae)!==-1});this.currentViewData&&(m=!0);var b=!1,S=this.yMin,k=this.yMax;this.yMin=1/0,this.yMax=-1/0;var L=[];this.chart.dataLabelCollections=[],this.chart.rotatedDataLabelCollections=[];var I=!1,_=null;if(this.dataSource.length===t.length&&!(this.type==="Radar"||this.type==="Polar")&&m)if(I=!0,this.yData=[],this.type==="Histogram"&&this.dataSource.length===t.length){var N=this.chart[Ut(this.type)+"SeriesModule"].processInternalData(Et([],t,null,!0),this);this.currentViewData=N;for(var U=0;U<N.length;U++)this.updatePoint(U)}else for(var c=0;c<t.length;c++){var Z=t[c][this.xName];this.dataSource[c][this.xName],t[c][this.xName]instanceof Date&&(Z=t[c][this.xName].getTime(),this.dataSource[c][this.xName].getTime()),this.currentData[c]!==Z&&(b=!0);var V=this.points[c],$=this.enableComplexProperty?fs:this.getObjectValue,Q=this.dataSource[c],H=t[c];this.seriesType==="XY"||this.seriesType==="BoxPlot"?(V.y=$(this.yName,H),this.type==="Bubble"&&Q[this.size]!==H[this.size]&&(V.size=$(this.size,H)),L.push(c)):(Q[this.high]!==H[this.high]||Q[this.low]!==H[this.low]||Q[this.open]!==H[this.open]||Q[this.close]!==H[this.close]||Q[this.volume]!==H[this.volume])&&(V.high=$(this.high,H),V.low=$(this.low,H),V.open=$(this.open,H),V.close=$(this.close,H),V.volume=$(this.volume,H),L.push(c)),V.yValue=V.y,V.x=$(this.xName,H),this.currentViewData||(V.index=this.xAxis.valueType==="DateTime"&&typeof V.x!="number"?this.currentData.indexOf(V.x.getTime()):this.currentData.indexOf(V.x)),(this.xAxis.valueType==="Category"||this.xAxis.valueType==="DateTimeCategory")&&c<this.xAxis.visibleLabels.length&&(this.xAxis.visibleLabels[c].value=o.indexOf(this.currentData[c*this.xAxis.visibleRange.interval]),this.xAxis.labels[c]=String(o[c])),this.setEmptyPoint(V,c),this.dataSource[c]=t[c]}if(!I)this.dataSource=t;else{this.chart.redraw=this.chart.enableAnimation,this.chart.animateSeries=!1,this.chart.pointsAdded=!0;var re=this.chart.duration;if(this.chart.duration=pe(i)?500:i,this.type.indexOf("Stacking")!==-1&&this.chart.calculateStackValues(),this.updateSplineValue(),k===this.yMax&&S===this.yMin&&this.visible)this.chart.pointsAdded=!1,this.chart[Ut(this.category==="Pareto"?"Column":this.type.replace("100",""))+"SeriesModule"].updateDirection(this,L,this.chart.requireInvertedAxis),this.chart.annotationModule&&this.chart.annotationModule.renderAnnotations(ye(this.chart.element.id+"_Secondary_Element")),!si(this.xAxis)&&b&&this.xAxis.updateAxis();else if((k<this.yMax||S>this.yMin||k>this.yMax||S<this.yMin)&&this.visible){var ie=this.yAxis.maxLabelSize.width;this.yAxis.baseModule.calculateRangeAndInterval(new Qt(this.chart.availableSize.width,this.yAxis.rect.height),this.yAxis),ie<this.yAxis.maxLabelSize.width?(this.chart.calculateBounds(),this.chart.axisCollections.forEach(function(ae){si(ae)||ae.updateAxis()}),this.chart.chartAxisLayoutPanel.drawPaneLines(this.chart),this.chart.renderAreaBorder()):(si(this.yAxis)||this.yAxis.updateAxis(),!si(this.xAxis)&&b&&this.xAxis.updateAxis(),this.type==="Histogram"&&!si(this.xAxis)&&(this.xAxis.baseModule.calculateRangeAndInterval(new Qt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis())),this.chart.pointsAdded=!1,b&&(this.chart[Ut(this.category==="Pareto"?"Column":this.type.replace("100",""))+"SeriesModule"].updateDirection(this,L,this.chart.requireInvertedAxis),_=this.index),this.updateSeries(!1,!0,_),this.chart.stripLineModule&&this.chart.stripLineModule.renderStripLine(this.chart,"Behind",this.chart.axisCollections)}this.chart.redraw=!1,this.chart.pointsRemoved=!1,this.chart.duration=re}},e.prototype.updateChartAxis=function(){var t=this.yAxis.maxLabelSize.width;this.yAxis.baseModule.calculateRangeAndInterval(new Qt(this.chart.availableSize.width,this.yAxis.rect.height),this.yAxis),t<this.yAxis.maxLabelSize.width?(this.chart.calculateBounds(),this.chart.axisCollections.forEach(function(i){si(i)||i.updateAxis()}),this.chart.chartAxisLayoutPanel.drawPaneLines(this.chart),this.chart.renderAreaBorder()):(si(this.xAxis)||(this.xAxis.baseModule.calculateRangeAndInterval(new Qt(this.xAxis.rect.width,this.chart.availableSize.height),this.xAxis),this.xAxis.updateAxis()),si(this.yAxis)||this.yAxis.updateAxis()),this.chart.stripLineModule&&this.chart.stripLineModule.renderStripLine(this.chart,"Behind",this.chart.axisCollections)},e.prototype.updateSeries=function(t,i,s){var o=[];if(t&&i){var c=new Set(this.xAxis.series.concat(this.yAxis.series));c.forEach(function(k){o.push(k)})}else o=t?this.xAxis.series.slice():this.yAxis.series.slice();for(var f=0,m=o;f<m.length;f++){var b=m[f];if(b.visible&&b.index!==s){Ln(b,this.chart.enableCanvas);var S="translate("+this.clipRect.x+","+this.clipRect.y+")";b.seriesElement.setAttribute("transform",S),b.chart[Ut(b.type.replace("100",""))+"SeriesModule"].render(b,b.xAxis,b.yAxis,b.chart.requireInvertedAxis,b.chart.enableAnimation),b.marker.visible&&b.chart.chartAreaType==="Cartesian"&&b.type!=="Scatter"&&b.type!=="Bubble"&&b.type!=="Candle"&&b.type!=="Hilo"&&b.type!=="HiloOpenClose"&&b.symbolElement&&(b.symbolElement.setAttribute("transform",S),Be(b.chart.enableCanvas,b.chart.seriesElements,b.symbolElement,!0)),b.marker.dataLabel.visible&&b.chart.dataLabelModule&&(b.chart.dataLabelCollections=[],b.chart.dataLabelModule.render(b,b.chart,b.marker.dataLabel),b.textElement&&(b.shapeElement&&b.shapeElement.setAttribute("transform",S),Be(b.chart.enableCanvas,b.chart.dataLabelElements,b.shapeElement,!0),b.textElement.setAttribute("transform",S),Be(b.chart.enableCanvas,b.chart.dataLabelElements,b.textElement,!0))),b.chart.annotationModule&&b.chart.annotationModule.renderAnnotations(ye(b.chart.element.id+"_Secondary_Element"))}}},e.prototype.updatePoint=function(t){var i=new Mn,s=this instanceof e&&this.marker.dataLabel.name?this.marker.dataLabel.name:"",o=this instanceof e&&this.type==="Histogram"?"x":this.xName;if(this.xAxis.valueType==="Category")this.pushCategoryPoint(i,t,s,o);else if(this.xAxis.valueType.indexOf("DateTime")>-1){var c=this.points[t],f={skeleton:"full",type:"dateTime"},m=this.chart.intl.getDateParser(f),b=this.chart.intl.getDateFormat(f);this.pushDateTimePoint(c,t,s,o,m,b)}else this.pushDoublePoint(i,t,s,o)},ne([K("")],e.prototype,"name",void 0),ne([K("")],e.prototype,"yName",void 0),ne([K("Line")],e.prototype,"drawType",void 0),ne([K(!0)],e.prototype,"isClosed",void 0),ne([K(null)],e.prototype,"bearFillColor",void 0),ne([K(null)],e.prototype,"bullFillColor",void 0),ne([K(!1)],e.prototype,"enableSolidCandles",void 0),ne([K("")],e.prototype,"size",void 0),ne([K(null)],e.prototype,"binInterval",void 0),ne([K(!1)],e.prototype,"showNormalDistribution",void 0),ne([K("")],e.prototype,"stackingGroup",void 0),ne([He({color:null,width:0},gs)],e.prototype,"border",void 0),ne([K(1)],e.prototype,"opacity",void 0),ne([K(0)],e.prototype,"zOrder",void 0),ne([K("")],e.prototype,"groupName",void 0),ne([K("Line")],e.prototype,"type",void 0),ne([He(null,Hc)],e.prototype,"errorBar",void 0),ne([He(null,sa)],e.prototype,"marker",void 0),ne([He(null,Nc)],e.prototype,"paretoOptions",void 0),ne([He({},Dh)],e.prototype,"dragSettings",void 0),ne([fi([],zc)],e.prototype,"trendlines",void 0),ne([K(!0)],e.prototype,"enableTooltip",void 0),ne([K("")],e.prototype,"tooltipFormat",void 0),ne([K("")],e.prototype,"tooltipMappingName",void 0),ne([K("SeriesType")],e.prototype,"legendShape",void 0),ne([K("")],e.prototype,"legendImageUrl",void 0),ne([K(null)],e.prototype,"selectionStyle",void 0),ne([K(null)],e.prototype,"unSelectedStyle",void 0),ne([K(null)],e.prototype,"nonHighlightStyle",void 0),ne([K(1)],e.prototype,"minRadius",void 0),ne([K(3)],e.prototype,"maxRadius",void 0),ne([K("Natural")],e.prototype,"splineType",void 0),ne([K(.5)],e.prototype,"cardinalSplineTension",void 0),ne([He(null,Fh)],e.prototype,"emptyPointSettings",void 0),ne([K(!0)],e.prototype,"showMean",void 0),ne([K("Normal")],e.prototype,"boxPlotMode",void 0),ne([K(null)],e.prototype,"columnWidth",void 0),ne([K(null)],e.prototype,"columnWidthInPixel",void 0),ne([K("Rectangle")],e.prototype,"columnFacet",void 0),ne([K(0)],e.prototype,"columnSpacing",void 0),ne([K("#C64E4A")],e.prototype,"negativeFillColor",void 0),ne([K("#4E81BC")],e.prototype,"summaryFillColor",void 0),ne([K()],e.prototype,"intermediateSumIndexes",void 0),ne([K()],e.prototype,"sumIndexes",void 0),ne([K("Left")],e.prototype,"step",void 0),ne([K(!1)],e.prototype,"noRisers",void 0),ne([He({color:"black",width:2},ts)],e.prototype,"connector",void 0),ne([He(null,Nh)],e.prototype,"cornerRadius",void 0),e}(dl),Wc=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),jc=function(a){Wc(e,a);function e(t){var i=a.call(this,t)||this;return i.elementId=t.element.id,i.commonXvalues=[],i}return e.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(ze.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(ze.touchEndEvent,this.mouseUpHandler,this))},e.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(ze.touchMoveEvent,this.mouseMoveHandler),this.chart.off(ze.touchEndEvent,this.mouseUpHandler))},e.prototype.mouseUpHandler=function(){var t=this.chart;t.isTouch&&!t.crosshair.enable&&!this.isSelected(t)&&!(this.chart.zoomModule&&ye(this.elementId+"_ZoomArea"))&&this.markerMove(!0)},e.prototype.mouseMoveHandler=function(){var t=this.chart;(t.highlightMode!=="None"||t.tooltip.enable)&&(!t.isTouch||t.startMove)&&!this.isSelected(t)&&!(this.chart.zoomModule&&ye(this.elementId+"_ZoomArea"))&&this.markerMove(!1)},e.prototype.markerMove=function(t){var i=this,s=this.chart;this.currentPoints=[];var o,c,f,m;if(!s.tooltip.shared||!s.tooltip.enable)o=this.getData(),m=o.series,c=this.previousPoints[0],f=m&&(m.type==="Bubble"||m.drawType==="Scatter"||m.type==="Scatter"||m.type!=="Candle"&&m.type!=="Hilo"&&m.type!=="HiloOpenClose"&&m.marker.visible&&m.marker.width!==0&&m.marker.height!==0),o.lierIndex=this.lierIndex,o.point&&f&&(!c||c.point!==o.point||c&&c.lierIndex>3&&c.lierIndex!==this.lierIndex)&&this.currentPoints.push(o),o.point&&f&&s.isPointMouseDown&&this.currentPoints.push(o);else{if(!$t(s.mouseX,s.mouseY,s.chartAxisLayoutPanel.seriesClipRect))return null;if(s.tooltip.enable){var b=s.chartAreaType==="PolarRadar"?this.getData():null;if(!this.chart.tooltip.showNearestPoint)this.currentPoints=this.chart.tooltipModule.currentPoints;else for(var S=0,k=s.visibleSeries;S<k.length;S++){var L=k[S];!L.enableTooltip||L.category==="Indicator"||(s.chartAreaType==="Cartesian"&&L.visible?o=this.getClosestX(s,L,this.commonXValue(this.chart.visibleSeries)):s.chartAreaType==="PolarRadar"&&L.visible&&b.point!==null&&(o=new qo(L.points[b.point.index],L)),o&&(this.currentPoints.push(o),o=null))}}}var I=this.previousPoints.length;if((this.currentPoints.length>0||I>0&&s.tooltip.shared)&&(I===0||s.isPointMouseDown||I>0&&(this.currentPoints.length===0||this.previousPoints[0].point!==this.currentPoints[0].point))){if(I>0)for(var _=0,N=this.previousPoints;_<N.length;_++){var U=N[_];pe(U)||this.removeHighlightedMarker(U.series,U.point)}for(var Z=function(re){(re&&re.point||m.type!=="Candle"&&m.type!=="Hilo"&&m.type!=="HiloOpenClose")&&(zh(V.markerExplode),V.isRemove=!0,re.point.symbolLocations.map(function(ie,ae){re.series.marker.allowHighlight&&(!re.series.isRectSeries||re.point.marker.visible)&&i.drawTrackBall(re.series,re.point,ie,ae)}))},V=this,$=0,Q=this.currentPoints;$<Q.length;$++){var H=Q[$];Z(H)}this.previousPoints=Et([],this.currentPoints,null,!0)}!s.tooltip.enable&&(this.currentPoints.length===0&&this.isRemove||t&&this.isRemove||!$t(s.mouseX,s.mouseY,s.chartAxisLayoutPanel.seriesClipRect))&&(this.isRemove=!1,pe(this.previousPoints[0])||(this.markerExplode=+setTimeout(function(){i.previousPoints[0]&&i.removeHighlightedMarker(i.previousPoints[0].series,i.previousPoints[0].point)},2e3))),this.currentPoints=[]},e.prototype.animationDuration=function(){var t=200;return this.chart.maxPointCount>100?t=10:this.chart.maxPointCount>50&&(t=100),t},e.prototype.drawTrackBall=function(t,i,s,o){var c=i.marker,f=t.marker,m=c.shape||f.shape||"Circle",b;if(m==="None"||m==="Image")return null;var S=t.symbolElement||t.seriesElement,k;this.chart.highlightModule&&this.chart.highlightMode!=="None"&&(k=this.chart.highlightModule.generateStyle(t)),this.chart.selectionModule&&this.chart.selectionMode!=="None"&&(k=this.chart.selectionModule.generateStyle(t));var L=this.elementId+"_Series_"+t.index+"_Point_"+i.index+"_Trackball"+(o||""),I=new Qt((c.width||f.width)+3,(c.height||f.height)+3),_=c.border||t.border,N=t.type==="BoxAndWhisker"||t.type==="Bubble"||t.type==="Scatter",U=_.color&&_.color!=="transparent"?_.color:c.fill||i.interior||(N?i.color:t.interior),Z=Pn(hs(U)),V=c.border?c.border.width:f.border.width,$=t.chart.themeStyle.markerShadow||"rgba("+Z.r+","+Z.g+","+Z.b+",0.2)",Q=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+i.index+"_Symbol");if(pe(Q)||Q.setAttribute("visibility","hidden"),this.chart.enableCanvas){var H=document.getElementById(this.chart.element.id+"_Secondary_Element");b=this.chart.svgRenderer.createSvg({id:this.chart.element.id+"_trackball_svg",width:this.chart.availableSize.width,height:this.chart.availableSize.height}),b.style.cssText="position: absolute; display:block; pointer-events: none",H.appendChild(b)}for(var re=0;re<2;re++){var ie=new Rr(L+"_"+re,re?c.fill||i.color||(N?t.interior:"#ffffff"):"transparent",V+(re?0:8),re?U:$,c.opacity||f.opacity,t.marker.border.dashArray,""),ae=Zo(s,m,I,c.imageUrl,ie,"",this.chart.svgRenderer,t.clipRect);ae.setAttribute("class",this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index);var Ce=S.id.indexOf("Symbol")!==-1?"_Symbol":"",me=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+i.index+Ce);k!==""&&!pe(k)&&!pe(me)&&me.hasAttribute("class")&&k===me.getAttribute("class")&&ae.classList.add(k),ae.setAttribute("clip-path",S.getAttribute("clip-path")),ae.setAttribute("transform",S.getAttribute("transform")),this.chart.enableCanvas?b.appendChild(ae):this.chart.svgObject.appendChild(ae)}this.doAnimation(t,i,!1)},e.prototype.doAnimation=function(t,i,s){s===void 0&&(s=!1);for(var o=this.animationDuration(),c=0,f=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index),m=0,b=f.length;m<b;m++)this.trackballAnimate(f[m],c,o,t,i.index,i.symbolLocations[0],!1,s)},e.prototype.trackballAnimate=function(t,i,s,o,c,f,m,b){var S=f.x,k=f.y,L=o.type!=="Polar"&&o.type!=="Radar"?o.clipRect.x:0,I=o.type!=="Polar"&&o.type!=="Radar"?o.clipRect.y:0,_=t.getAttribute("transform");new ls({}).animate(t,{duration:s,delay:i,progress:function(N){N.timeStamp>N.delay&&(N.element.style.visibility="visible",t.setAttribute("transform","translate("+(S+L)+" "+(k+I)+") scale(1) translate("+-S+" "+-k+")"))},end:function(){t.style.visibility="",t.setAttribute("transform",_),!m&&c===o.points.length-1&&o.chart.trigger("animationComplete",{series:o.chart.isBlazor?{}:o}),b&&At(t)}})},e.prototype.removeHighlightedMarker=function(t,i,s){if(t===void 0&&(t=null),i===void 0&&(i=null),s===void 0&&(s=!1),!pe(t)&&!pe(i)){var o=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+i.index+"_Symbol"),c=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index);if(c.length===0){var f=document.querySelectorAll('[class*="'+(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+i.index)+'"]');f[1]&&f[1].remove(),f[0]&&f[0].remove()}for(var m=0,b=c.length;m<b;m++)At(c[0]);pe(o)||o.setAttribute("visibility","visible")}else for(var S=0,k=t.points;S<k.length;S++)for(var L=k[S],f=document.getElementsByClassName(this.elementId+"_EJ2-Trackball_Series_"+t.index+"_Point_"+L.index),o=document.getElementById(this.elementId+"_Series_"+t.index+"_Point_"+L.index+"_Symbol"),m=0,b=f.length;m<b;m++)pe(o)||o.setAttribute("visibility","visible"),At(f[0]);s&&(this.previousPoints=[])},e}($o),Xc=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fl=["Circle","Triangle","Diamond","Rectangle","Pentagon","InvertedTriangle","VerticalLine","Cross","Plus","HorizontalLine","Star"],Yc=function(a){Xc(e,a);function e(t){var i=a.call(this,t)||this;return i.addEventListener(),i}return e.prototype.render=function(t){var i=this,s=t.chart.redraw;this.createElement(t,s);for(var o=function(b){b.visible&&b.symbolLocations&&b.symbolLocations.length&&b.symbolLocations.map(function(S,k){t.marker.shape!=="None"&&i.renderMarker(t,b,S,k,s)})},c=0,f=t.points;c<f.length;c++){var m=f[c];o(m)}},e.prototype.renderMarker=function(t,i,s,o,c){var f=t.index===void 0?t.category:t.index,m=t.marker;t.marker.shape=t.marker.shape?t.marker.shape:fl[f%10];var b={color:m.border.color,width:m.border.width},S=m.border.color,k,L,I,_;s.x=s.x+m.offset.x,s.y=s.y-m.offset.y;var N=t.type==="BoxAndWhisker",U=m.fill||(N||t.marker.isFilled?i.interior||t.interior:"#ffffff"),Z,V=N&&!this.chart.enableCanvas?_h(t.seriesElement.childNodes,"Series_"+t.index+"_Point_"+i.index):t.symbolElement;b.color=S||t.setPointColor(i,t.interior);var $=this.elementId+"_Series_"+f+"_Point_"+(t.removedPointIndex!==null&&t.removedPointIndex<=i.index||this.chart.pointsAdded?i.index+1:i.index)+"_Symbol"+(o||""),Q={cancel:!1,name:Vs,series:t,point:i,fill:i.isEmpty&&t.emptyPointSettings.fill||U,border:{color:t.type==="BoxAndWhisker"?!pe(S)&&S!=="transparent"?S:Vh(U,-.6):b.color,width:b.width},height:m.height,width:m.width,shape:m.shape};if(Q.border=t.setBorderColor(i,{width:Q.border.width,color:Q.border.color}),(!t.isRectSeries||t.type==="BoxAndWhisker")&&(this.chart.trigger(Vs,Q),i.color=Q.fill),i.color=Q.fill,Q.cancel)s=null,i.marker={visible:!1};else{var H=void 0;t.type==="RangeArea"||t.type==="RangeColumn"||t.drawType==="RangeColumn"||t.type==="SplineRangeArea"||t.type==="RangeStepArea"?H=o?i.low:i.high:N?H=i.outliers[o]:H=i.y;var re=Q.point.marker.fill||Q.fill,ie=void 0;pe(Q.point.marker.border)?ie={color:Q.border.color,width:Q.border.width}:ie={color:Q.point.marker.border.color||Q.border.color,width:Q.point.marker.border.width||Q.border.width};var ae=Q.point.marker.width||Q.width,Ce=Q.point.marker.height||Q.height,me=Q.point.marker.opacity||m.opacity,ke=Q.point.marker.shape||Q.shape,Pe=Q.point.marker.imageUrl||m.imageUrl;_=new Rr($,re,ie.width,ie.color,me,t.marker.border.dashArray),(V!=null||this.chart.enableCanvas)&&(c&&ye(_.id)&&(Z=ye(_.id),I=ke==="Circle"?"c":"",k={x:+Z.getAttribute(I+"x"),y:+Z.getAttribute(I+"y")},L=Z.getAttribute("d")),Z=Zo(s,ke,new Qt(ae,Ce),Pe,_,i.x.toString()+":"+H.toString(),this.chart.renderer,t.clipRect),Z&&(Z.setAttribute("role","img"),Z.setAttribute("aria-label",i.x+": "+i.y+", "+t.name)),Be(this.chart.enableCanvas,V,Z,c,!0,I+"x",I+"y",k,L,!1,!1,null,t.chart.duration),t.removedPointIndex!==null&&t.removedPointIndex<=i.index&&(V.lastChild.id=this.elementId+"_Series_"+f+"_Point_"+i.index+"_Symbol"+(o||""))),i.marker={border:ie,fill:re,height:Ce,visible:!0,shape:ke,width:ae,imageUrl:Pe}}},e.prototype.createElement=function(t,i){var s,o=t.marker,c=o.border.width+8+5,f=t.chart.svgRenderer,m=t.index===void 0?t.category:t.index,b,S=t.chart.chartAreaType==="Cartesian"?"translate("+t.clipRect.x+","+t.clipRect.y+")":"";if(o.visible){var k=(o.height+c)/2,L=(o.width+c)/2;if(t.chart.chartAreaType==="Cartesian"?(b=new nr(this.elementId+"_ChartMarkerClipRect_"+m,"transparent",{width:1,color:"Gray"},1,{x:-L,y:-k,width:t.clipRect.width+L*2,height:t.clipRect.height+k*2},0,0,"",t.marker.border.dashArray),s=Ir(i,b,f)):(b=new Uo(this.elementId+"_ChartMarkerClipRect_"+m,"transparent",{width:1,color:"Gray"},1,t.clipRect.width/2+t.clipRect.x,t.clipRect.height/2+t.clipRect.y,t.chart.radius+Math.max(k,L)),s=Ir(i,b,f,"drawCircularClipPath")),b={id:this.elementId+"SymbolGroup"+m,transform:S,"clip-path":"url(#"+this.elementId+"_ChartMarkerClipRect_"+m+")"},t.symbolElement=f.createGroup(b),t.symbolElement.appendChild(s),this.chart.enableCanvas){var I=document.getElementById(this.chart.element.id+"_tooltip_svg");I.appendChild(t.symbolElement)}}},e.prototype.getRangeLowPoint=function(t,i){var s=t.x,o=t.y;return i.chart.requireInvertedAxis?(o+=t.height/2,s+=i.yAxis.isAxisInverse?t.width:0):(o+=i.yAxis.isAxisInverse?0:t.height,s+=t.width/2),{x:s,y:o}},e.prototype.calculateDistance=function(t,i){var s=i.x-t.x,o=i.y-t.y;return Math.sqrt(s*s+o*o)},e.prototype.doMarkerAnimation=function(t){if(!(t.type==="Scatter"||t.type==="Bubble"||t.type==="Candle"||t.type==="Hilo"||t.type==="HiloOpenClose"||t.chart.chartAreaType==="PolarRadar"&&t.drawType==="Scatter")){for(var i=t.symbolElement.childNodes,s=t.animation.delay+(t.animation.duration===0&&Mr==="Enable"?1e3:t.animation.duration),o=t.chart.animated?t.chart.duration:200,c=s,f=t.pathElement?t.pathElement.getTotalLength():0,m=[],b=1;t.type==="Line"&&b<t.points.length;b++)if(t.points[b-1].symbolLocations[0]&&t.points[b].symbolLocations[0]){var S=this.calculateDistance(t.points[b-1].symbolLocations[0],t.points[b].symbolLocations[0]);m.push(S)}for(var k=1,L=t.type==="RangeArea"||t.type==="RangeColumn"||t.type==="SplineRangeArea"||t.type==="RangeStepArea"?2:1,b=0;b<t.points.length;b++)if(t.points[b].symbolLocations){if(!t.points[b].symbolLocations.length||!i[k])continue;if(t.type==="Line"&&(b===0&&(c=0),b>0&&(c+=m[b-1]/f*s,o=0)),Hs(i[k],c,o,t,b,t.points[b].symbolLocations[0],!1),L===2){var I=this.getRangeLowPoint(t.points[b].regions[0],t);Hs(i[k+1],c,o,t,b,I,!1)}k+=L}}},e}(jc),Gc=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),St=globalThis&&globalThis.__decorate||function(a,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,e,t,i);else for(var f=a.length-1;f>=0;f--)(c=a[f])&&(o=(s<3?c(o):s>3?c(e,t,o):c(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ha=function(a){Gc(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.clipRect=new Ye(0,0,0,0),t}return e.prototype.setDataSource=function(t,i){t&&(this.xData=t.xData,this.yData=t.yData,this.points=t.points);var s=Ut(this.type);this.visible&&i[s+"IndicatorModule"].initDataSource(this,i),i.visibleSeriesCount+=this.targetSeries.length},St([K("Sma")],e.prototype,"type",void 0),St([K(14)],e.prototype,"period",void 0),St([K(14)],e.prototype,"kPeriod",void 0),St([K(3)],e.prototype,"dPeriod",void 0),St([K(80)],e.prototype,"overBought",void 0),St([K(20)],e.prototype,"overSold",void 0),St([K(2)],e.prototype,"standardDeviation",void 0),St([K("Close")],e.prototype,"field",void 0),St([K(12)],e.prototype,"slowPeriod",void 0),St([K(26)],e.prototype,"fastPeriod",void 0),St([K(!0)],e.prototype,"showZones",void 0),St([He({color:"#ff9933",width:2},ts)],e.prototype,"macdLine",void 0),St([K("Both")],e.prototype,"macdType",void 0),St([K("#2ecd71")],e.prototype,"macdPositiveColor",void 0),St([K("#e74c3d")],e.prototype,"macdNegativeColor",void 0),St([K("rgba(211,211,211,0.25)")],e.prototype,"bandColor",void 0),St([He({color:"#ffb735",width:1},ts)],e.prototype,"upperLine",void 0),St([He({color:"#f2ec2f",width:1},ts)],e.prototype,"lowerLine",void 0),St([He({color:"#f2ec2f",width:1},ts)],e.prototype,"periodLine",void 0),St([K("")],e.prototype,"seriesName",void 0),e}(dl),Qs=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),de=globalThis&&globalThis.__decorate||function(a,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,e,t,i);else for(var f=a.length-1;f>=0;f--)(c=a[f])&&(o=(s<3?c(o):s>3?c(e,t,o):c(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Uc=function(a){Qs(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return de([K()],e.prototype,"start",void 0),de([K()],e.prototype,"end",void 0),de([K([])],e.prototype,"colors",void 0),de([K("")],e.prototype,"label",void 0),e}(li),qc=function(a){Qs(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return de([K(!1)],e.prototype,"enable",void 0),de([K("")],e.prototype,"dashArray",void 0),de([He({color:null,width:1},gs)],e.prototype,"line",void 0),de([K("Both")],e.prototype,"lineType",void 0),de([K("")],e.prototype,"verticalLineColor",void 0),de([K("")],e.prototype,"horizontalLineColor",void 0),de([K(1)],e.prototype,"opacity",void 0),e}(li),Zc=function(a){Qs(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return de([K(!1)],e.prototype,"enableSelectionZooming",void 0),de([K(!1)],e.prototype,"enablePinchZooming",void 0),de([K(!1)],e.prototype,"showToolbar",void 0),de([K(!1)],e.prototype,"enableMouseWheelZooming",void 0),de([K(!0)],e.prototype,"enableDeferredZooming",void 0),de([K("XY")],e.prototype,"mode",void 0),de([K(["Zoom","ZoomIn","ZoomOut","Pan","Reset"])],e.prototype,"toolbarItems",void 0),de([K(!1)],e.prototype,"enablePan",void 0),de([K(!1)],e.prototype,"enableScrollbar",void 0),de([K(!1)],e.prototype,"enableAnimation",void 0),e}(li),$c=function(a){Qs(e,a);function e(t,i){var s=a.call(this,t,i)||this;return s.rotatedDataLabelCollections=[],s.animated=!1,s.isPointMouseDown=!1,s.isScrolling=!1,s.checkResize=0,s.visible=0,s.clickCount=0,s.maxPointCount=0,s.singleClickTimer=0,s.chartAreaType="Cartesian",s.isRtlEnabled=!1,s.isCrosshair=!0,s.chartid=57723,s.isLegendClicked=!1,s.isZoomed=!1,s.previousTargetId="",s.currentPointIndex=0,s.currentSeriesIndex=0,s.currentLegendIndex=0,s.previousPageX=null,s.previousPageY=null,s.allowPan=!1,s.pointsRemoved=!1,s.pointsAdded=!1,s.zoomRedraw=!1,ch("mergePersistData",s.mergePersistChartData,s),s}return e.prototype.mergePersistChartData=function(){var t=window.localStorage.getItem(this.getModuleName()+this.element.id);if(!(pe(t)||t==="")){var i=JSON.parse(t),s=Object.keys(i);this.isProtectedOnChange=!0;for(var o=0,c=s;o<c.length;o++){var f=c[o];typeof this[f]=="object"&&!pe(this[f])?Et(this[f],i[f]):this[f]=i[f]}this.isProtectedOnChange=!1}},e.prototype.isIdHasSpecialCharacter=function(t){var i=/^[A-Za-z ]+$/,s=/^[0-9 ]+$/,o="";if(i.test(t))return t;var c=0;s.test(t[0])&&(o+="\\3"+t[0],c=1);for(var f=c;f<t.length;f++)!i.test(t[f])&&t.indexOf("-")===-1&&t.indexOf("_")===-1&&t.indexOf("\\")===-1&&!s.test(t[f])?o+="\\"+t[f]:o+=t[f];return o},e.prototype.preRender=function(){this.element.id=this.isIdHasSpecialCharacter(this.element.id);var t="Blazor";this.isBlazor=window[t],this.allowServerDataBinding=!1,this.markerIndex=0,this.unWireEvents(),this.initPrivateVariable(),this.setCulture(),this.wireEvents(),this.stockChart&&(this.stockChart.tooltip.header===null&&(this.tooltip.header="<b>${point.x}</b>"),this.stockChart.tooltip.format===null&&(this.tooltip.format="High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>")),this.element.setAttribute("dir",this.enableRtl?"rtl":"ltr")},e.prototype.initPrivateVariable=function(){if(this.animateSeries=!0,this.delayRedraw=!1,this.dragY=null,this.horizontalAxes=[],this.verticalAxes=[],this.refreshAxis(),this.refreshDefinition(this.rows),this.refreshDefinition(this.columns),this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.element.setAttribute("role","region"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-label",this.description||this.title+". Syncfusion interactive chart."),this.element.classList.contains("e-chart-focused")||this.element.setAttribute("class",this.element.getAttribute("class")+" e-chart-focused"),this.element.id===""){for(var t=document.getElementsByClassName("e-chart").length,i="chart_"+this.chartid+"_"+t;document.getElementById(i);)t++,i="chart_"+this.chartid+"_"+t;this.element.id="chart_"+this.chartid+"_"+t}this.svgId=this.stockChart?this.stockChart.element.id+"_stockChart_chart":this.element.id+(this.enableCanvas?"_canvas":"_svg")},e.prototype.render=function(){var t=this;this.svgRenderer=new En(this.element.id);var i={chart:this.isBlazor?{}:this,theme:this.theme,name:La,cancel:!1};this.stockChart?(this.isRtlEnabled=window.getComputedStyle(document.querySelector("body")).direction==="rtl",this.cartesianChartRendering(i)):this.trigger(La,i,function(){i.cancel||t.cartesianChartRendering(i)}),this.applyZoomkit()},e.prototype.cartesianChartRendering=function(t){this.theme=this.isBlazor?t.theme:this.theme,this.setTheme(),this.createChartSvg(),this.markerRender=new Yc(this),this.calculateAreaType(),this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.calculateVisibleAxis(),this.processData(),this.renderComplete(),this.mouseMoveEvent(),this.allowServerDataBinding=!0},e.prototype.getLocalizedLabel=function(t){return this.localeObject.getConstant(t)},e.prototype.animate=function(t){if(this.redraw=!0,this.animated=!0,this.duration=t||1e3,this.tooltipModule)this.tooltipModule.removeHighlightedMarker(this.tooltipModule.previousPoints,!0);else if(this.markerRender.previousPoints)for(var i=0;i<this.markerRender.previousPoints.length;i++)this.markerRender.removeHighlightedMarker(this.markerRender.previousPoints[i].series,this.markerRender.previousPoints[i].point)},e.prototype.refreshBound=function(){if(this.rotatedDataLabelCollections=[],this.legendModule&&this.legendSettings.visible&&this.legendModule.getLegendOptions(this.visibleSeries,this),this.tooltip.enable&&this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.calculateStackValues(),this.calculateBounds(),this.stockChart&&!this.stockChart.rangeFound&&(this.stockChart.enablePeriodSelector||this.stockChart.enableSelector))return null;this.renderElements(),It("chartmeasuretext"),this.removeSelection(),this.markerRender&&this.markerRender.mergeXvalues(this.visibleSeries)},e.prototype.calculateStackValues=function(){for(var t,i=!1,s=0,o=this.visibleSeries.length;s<o;s++)t=this.visibleSeries[s],t.visible&&(t.position=t.rectCount=void 0),(t.type.indexOf("Stacking")!==-1||t.drawType.indexOf("Stacking")!==-1&&this.chartAreaType==="PolarRadar")&&!i&&(t.calculateStackedValue(t.type.indexOf("100")>-1,this),i=!0)},e.prototype.removeSelection=function(){for(var t=0,i=this.visibleSeries;t<i.length;t++){var s=i[t];if(s.visible)for(var o=0,c=s.points;o<c.length;o++){var f=c[o];f.isSelect=!1}}ye(this.element.id+"_ej2_drag_multi_group")?(this.selectionMode.indexOf("Drag")>-1&&(this.selectionModule.filterArray=[]),It(this.element.id+"_ej2_drag_multi_group"),this.selectionModule.calculateDragSelectedElements(this,new Ye(0,0,0,0),!0)):ye(this.element.id+"_ej2_drag_group")&&(this.selectionMode!=="Lasso"&&(this.selectionModule.filterArray=[]),It(this.element.id+"_ej2_drag_group"),this.selectionModule.calculateDragSelectedElements(this,new Ye(0,0,0,0),!0))},e.prototype.renderElements=function(){this.renderBorder(),this.renderTitle(),this.renderAreaBorder(),this.renderSeriesElements(this.renderAxes()),this.renderLegend(),this.applyZoomkit(),this.performSelection(),this.setSecondaryElementPosition();for(var t=0,i=this.visibleSeries;t<i.length;t++){var s=i[t];uh(this.element.id+"_DataLabel","Template",s.marker.dataLabel)}this.renderAnnotation()},e.prototype.renderAxes=function(){this.yAxisElements=this.renderer.createGroup({id:this.element.id+"yAxisCollection"});var t;return this.rows.length>0&&this.columns.length>0&&(t=this.chartAxisLayoutPanel.renderAxes()),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Behind",this.axisCollections),t},e.prototype.renderLegend=function(){if(this.legendModule&&this.legendModule.legendCollections.length&&this.legendSettings.visible){this.legendModule.calTotalPage=!0;var t=this.legendSettings.border.width,i=this.legendModule.legendBounds,s=new Ye(i.x,i.y,i.width,i.height);this.enableCanvas&&(this.canvasRender.ctx.beginPath(),s=new Ye(s.x-t/2,s.y-t/2,s.width+t,s.height+t),this.renderer.canvasClip(s)),this.legendModule.renderLegend(this,this.legendSettings,i),this.enableCanvas&&this.renderer.canvasRestore()}this.redraw||(this.stockChart?ye(this.stockChart.chartObject.id)||this.stockChart.mainObject.appendChild(this.svgObject):this.element.appendChild(this.svgObject))},e.prototype.setSecondaryElementPosition=function(){var t=ye(this.element.id+"_Secondary_Element");if(t){var i=this.element.getBoundingClientRect(),s=ye(this.svgId).getBoundingClientRect();t.style.left=Math.max((s.left-i.left)/this.scaleX,0)+"px",t.style.top=Math.max((s.top-i.top)/this.scaleY,0)+"px"}},e.prototype.initializeModuleElements=function(){this.dataLabelCollections=[];var t=this.element.id;this.series.length&&(this.seriesElements=this.svgRenderer.createGroup({id:t+"SeriesCollection"})),this.indicators.length&&(this.indicatorElements=this.renderer.createGroup({id:t+"IndicatorCollection"})),this.hasTrendlines()&&(this.trendLineElements=this.renderer.createGroup({id:t+"TrendLineCollection"})),this.dataLabelElements=this.renderer.createGroup({id:t+"DataLabelCollection"})},e.prototype.hasTrendlines=function(){for(var t,i=0,s=this.series;i<s.length;i++){var o=s[i];if(t=!!o.trendlines.length,t)break}return t},e.prototype.renderSeriesElements=function(t){this.initializeModuleElements();var i=this.element.id;if(this.element.tagName!=="g"){var s=Si(this.redraw,i+"_Secondary_Element")||this.createElement("div");s.id=i+"_Secondary_Element",s.style.cssText="position: relative",Be(!1,this.element,s,this.redraw)}if(this.enableCanvas){var o=document.getElementById(i+"_Secondary_Element");o=o||this.createElement("div",{id:i+"_Secondary_Element",attrs:{style:"position: relative; left:0px; top:0px"}});var c=this.svgRenderer.createSvg({id:i+"_tooltip_svg",width:this.availableSize.width,height:this.availableSize.height});c.style.cssText="position: absolute; pointer-events: none",o.appendChild(c)}this.tooltip.enable&&!this.stockChart&&Be(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:i+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.rows.length>0&&this.columns.length>0&&(this.initializeIndicator(),this.initializeTrendLine(),this.renderSeries(),this.trendLineElements&&Be(this.enableCanvas,this.svgObject,this.trendLineElements,this.redraw),this.appendElementsAfterSeries(t))},e.prototype.renderSeries=function(){var t;this.enableCanvas&&this.renderer.canvasClip(this.chartAxisLayoutPanel.seriesClipRect);for(var i=0,s=this.visibleSeries;i<s.length;i++){var o=s[i];o.category==="TrendLine"?t=this.series[o.sourceIndex].trendlines[o.index].visible:t=o.visible,t?(this.visible++,Ln(o,this.enableCanvas),this.enableCanvas&&this.renderCanvasSeries(),o.renderSeries(this)):o.isLegendClicked&&(o.type.indexOf("StackingArea")>-1||o.type.indexOf("StackingBar")>-1||o.type.indexOf("StackingColumn")>-1)&&(Ln(o,this.enableCanvas),o.renderSeries(this))}this.enableCanvas&&this.renderer.canvasRestore(),this.visible=0;var c={id:this.element.id+"_ChartAreaClipRect_",x:this.chartAxisLayoutPanel.seriesClipRect.x,y:this.chartAxisLayoutPanel.seriesClipRect.y,width:this.chartAxisLayoutPanel.seriesClipRect.width,height:this.chartAxisLayoutPanel.seriesClipRect.height,fill:"transparent","stroke-width":1,stroke:"Gray"};if(!(!this.seriesElements||c.height<0||c.width<0)){var f;this.chartAreaType==="PolarRadar"?f=Ir(this.redraw,c,this.renderer,"drawCircularClipPath"):f=Ir(this.redraw,c,this.renderer),this.enableCanvas||this.seriesElements.appendChild(f);var m=document.getElementById(this.element.id+"_series_svg");m?Be(!1,m,this.seriesElements,this.redraw):Be(this.enableCanvas,this.svgObject,this.seriesElements,this.redraw)}},e.prototype.renderCanvasSeries=function(){this.enableCanvas||this.svgObject},e.prototype.initializeIndicator=function(){for(var t=0,i=this.indicators;t<i.length;t++){var s=i[t];this[Ut(s.type)+"IndicatorModule"]&&this[Ut(s.type)+"IndicatorModule"].createIndicatorElements(this,s,s.index)}this.indicatorElements&&Be(this.enableCanvas,this.svgObject,this.indicatorElements,this.redraw)},e.prototype.initializeTrendLine=function(){for(var t=0,i=this.visibleSeries;t<i.length;t++){var s=i[t];s.trendlines.length&&this.trendLineModule.getTrendLineElements(s,this)}},e.prototype.appendElementsAfterSeries=function(t){this.chartAreaType==="PolarRadar"&&Be(this.enableCanvas,this.svgObject,this.yAxisElements,this.redraw),Be(this.enableCanvas,this.svgObject,t,this.redraw),(this.zoomModule&&this.zoomSettings.enableScrollbar&&this.scrollElement.childElementCount||this.scrollElement&&this.scrollElement.childElementCount)&&Be(!1,ye(this.element.id+"_Secondary_Element"),this.scrollElement,this.redraw),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Over",this.axisCollections),(!this.tooltip.enable||this.stockChart)&&Be(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:this.element.id+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.stockChart&&this.stockChart.calculateStockEvents()},e.prototype.applyZoomkit=function(){this.chartAreaType!=="PolarRadar"&&(!this.redraw||this.zoomRedraw)&&this.zoomModule&&(!this.zoomSettings.enablePan||this.zoomModule.performedUI||this.zoomSettings.showToolbar)&&this.zoomModule.applyZoomToolkit(this,this.axisCollections)},e.prototype.renderAnnotation=function(){this.annotationModule&&this.annotationModule.renderAnnotations(ye((this.stockChart?this.stockChart.element.id:this.element.id)+"_Secondary_Element"))},e.prototype.performSelection=function(){var t=[];this.selectionModule&&(t=Et([],this.selectionModule.selectedDataIndexes,null,!0),this.selectionModule.invokeSelection(this)),this.highlightModule&&this.highlightModule.invokeHighlight(this),t.length>0&&(this.selectionModule.selectedDataIndexes=t,this.selectionModule.redrawSelection(this,this.selectionMode))},e.prototype.processData=function(t){t===void 0&&(t=!0),this.visibleSeriesCount=0;for(var i=!0,s=0,o=0,c=this.visibleSeries;o<c.length;o++){var f=c[o];if(!f.visible&&!this.legendSettings.visible){this.visibleSeriesCount++;continue}f.category!=="Indicator"&&f.category!=="TrendLine"&&this.initializeDataModule(f)}for(var m=0,b=this.indicators;m<b.length;m++){var S=b[m];if(S.dataSource){var k=S;this.initializeDataModule(k),i=!1}}if(t&&(!this.visibleSeries.length||this.visibleSeriesCount===this.visibleSeries.length&&i)&&(this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),!this.stockChart&&this.visibleSeries.length>0)for(var L=0,I=this.visibleSeries;L<I.length;L++){var f=I[L];pe(f.points)||(this.maxPointCount=Math.max(s,f.points.length),s=f.points.length)}},e.prototype.initializeDataModule=function(t){t.xData=[],t.yData=[];var i,s="isAngular";this[s]?i=Object.keys(t.dataSource).length?t.dataSource:this.dataSource:i=t.dataSource||this.dataSource,t.dataModule=new Hh(i,t.query),t.points=[],t.refreshDataManager(this)},e.prototype.calculateBounds=function(){var t=this.margin,i=0,s=0,o=this.titleStyle.position==="Top"||this.titleStyle.position==="Bottom"&&!this.legendSettings.visible?15:5,c=t.left+this.border.width,f=this.availableSize.width-c-t.right-this.border.width,m=0;this.titleCollection=[],this.subTitleCollection=[],this.title?(this.titleCollection=Pa(this.title,this.titleStyle,f,this.enableRtl,this.themeStyle.chartTitleFont),i=jt(this.title,this.titleStyle,this.themeStyle.chartTitleFont).height*this.titleCollection.length+o,this.subTitle&&(this.subTitleCollection=Pa(this.subTitle,this.subTitleStyle,f,this.enableRtl,this.themeStyle.chartSubTitleFont),s=jt(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont).height*this.subTitleCollection.length+o)):this.legendSettings.position!=="Top"&&this.border.width&&(m=10);var b=t.top+m+this.border.width+this.chartArea.border.width*.5,S=this.availableSize.height-b-this.border.width-t.bottom,k=s+i+this.titleStyle.border.width+this.subTitleStyle.border.width;switch(this.titleStyle.position){case"Top":b+=k,S-=k;break;case"Bottom":S-=k;break;case"Left":c+=k,f-=k;break;case"Right":c-=this.titleStyle.border.width+this.subTitleStyle.border.width,f-=k;break}this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&(this.stockChart.legendSettings.position==="Top"?b+=this.stockChart.stockLegendModule.legendBounds.height:this.stockChart.legendSettings.position==="Left"&&(c+=this.stockChart.stockLegendModule.legendBounds.width)),this.initialClipRect=new Ye(c,b,f,S),this.legendModule&&this.legendSettings.visible&&this.legendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null),this.chartAxisLayoutPanel.measureAxis(this.initialClipRect)},e.prototype.print=function(t){var i=new uc(this),s=this.width;this.getModuleName()==="chart"&&parseInt(this.width,10)>=80&&this.width.indexOf("%")>-1&&(this.width="80%",this.dataBind()),i.print(t),this.getModuleName()==="chart"&&parseInt(this.width,10)>=80&&this.width.indexOf("%")>-1&&(this.width=s,this.dataBind())},e.prototype.initTrendLines=function(){this.isProtectedOnChange=!0;for(var t=0,i=this.visibleSeries;t<i.length;t++)for(var s=i[t],o=0,c=0,f=s.trendlines;c<f.length;c++){var m=f[c],b=m;this.trendLineModule&&(b.index=o,b.sourceIndex=s.index,this.trendLineModule.initSeriesCollection(b,this),b.targetSeries&&(b.targetSeries.xAxisName=s.xAxisName,b.targetSeries.yAxisName=s.yAxisName,this.visibleSeries.push(b.targetSeries))),o++}this.isProtectedOnChange=!1},e.prototype.calculateAreaType=function(){var t=this.series[0];this.chartArea.border.width=this.stockChart?0:this.chartArea.border.width,t&&(this.requireInvertedAxis=t.type.indexOf("Bar")!==-1&&!this.isTransposed||t.type.indexOf("Bar")===-1&&this.isTransposed&&this.chartAreaType!=="PolarRadar"),this.chartAxisLayoutPanel=this.chartAreaType==="PolarRadar"?this.polarSeriesModule||this.radarSeriesModule:new Dc(this)},e.prototype.calculateVisibleAxis=function(){var t,i=[this.primaryXAxis,this.primaryYAxis];i=this.chartAreaType==="Cartesian"?i.concat(this.axes):i,this.paretoSeriesModule&&this.series[0].type==="Pareto"&&(i=i.concat(this.paretoSeriesModule.paretoAxes)),this.axisCollections=[],this.zoomModule&&(this.zoomModule.isPanning=this.zoomModule.isAxisZoomed(i)&&this.zoomSettings.enablePan,this.svgObject.setAttribute("cursor",this.zoomModule.isPanning?"pointer":"auto"),this.scrollBarModule&&(this.scrollBarModule.axes=i)),this.scrollSettingEnabled&&this.scrollBarModule&&(this.scrollBarModule.axes=i);for(var s=0,o=i.length;s<o;s++){t=i[s],t.series=[],t.labels=[],t.indexLabels={},t.orientation=s===0?this.requireInvertedAxis?"Vertical":"Horizontal":s===1?this.requireInvertedAxis?"Horizontal":"Vertical":t.orientation;for(var c=0,f=this.visibleSeries;c<f.length;c++){var m=f[c];this.initAxis(m,t,!0),m.category==="Pareto"&&m.type==="Line"&&m.yAxis&&(m.yAxis.internalVisibility=m.paretoOptions.showAxis)}for(var b=0,S=this.indicators;b<S.length;b++){var k=S[b];this.initAxis(k,t,!1)}this.scrollBarModule&&!t.zoomingScrollBar&&this.scrollBarModule.injectTo(t,this),t.orientation!=null&&this.axisCollections.push(t)}this.rows.length>0&&this.columns.length>0&&this.chartAxisLayoutPanel.measure()},e.prototype.initAxis=function(t,i,s){t.xAxisName===i.name||t.xAxisName==null&&i.name==="primaryXAxis"?(i.orientation=this.requireInvertedAxis?"Vertical":"Horizontal",t.xAxis=i,s&&i.series.push(t)):(t.yAxisName===i.name||t.yAxisName==null&&i.name==="primaryYAxis")&&(i.orientation=this.requireInvertedAxis?"Horizontal":"Vertical",t.yAxis=i,s&&i.series.push(t))},e.prototype.initTechnicalIndicators=function(){for(var t=0,i=0,s=this.indicators;i<s.length;i++){var o=s[i],c=o,f=Ut(c.type);if(this[f+"IndicatorModule"]){c.index=t,this[f+"IndicatorModule"].initSeriesCollection(c,this);for(var m=0,b=c.targetSeries;m<b.length;m++){var S=b[m];(o.seriesName||o.dataSource)&&this.visibleSeries.push(S)}}t++}},e.prototype.refreshTechnicalIndicator=function(t){if(this.indicators.length){var i=null;if(t instanceof Ct&&t.category!=="Indicator")for(var s=0,o=this.indicators;s<o.length;s++){var c=o[s];c.seriesName===t.name&&!c.dataSource&&(i=c,i.setDataSource(t,this))}else t instanceof Ha&&(i=t,i.setDataSource(t instanceof Ct?t:null,this))}},e.prototype.calculateVisibleSeries=function(){var t;this.visibleSeries=[];for(var i=this.palettes.length?this.palettes:Wh(this.theme),s=i.length,o=this.series.sort(function(m,b){return m.zOrder-b.zOrder}),c=0,f=o.length;c<f;c++){switch(t=o[c],t.category=o[0].type==="Pareto"?"Pareto":"Series",t.index=c,t.interior=t.fill||i[c%s],!t.marker.shape&&(t.marker.visible||t.type==="Scatter"||t.drawType==="Scatter")&&(t.marker.shape=fl[this.markerIndex%10],this.markerIndex++),this.isSecondaryAxis(t.xAxis)&&(t.xAxis.internalVisibility=t.xAxis.series.some(function(m){return m.visible})),this.isSecondaryAxis(t.yAxis)&&(t.yAxis.internalVisibility=t.yAxis.series.some(function(m){return m.visible})),t.type){case"Bar":case"StackingBar":case"StackingBar100":if(o[0].type.indexOf("Bar")===-1)continue;break;case"Polar":case"Radar":if(this.chartAreaType!=="PolarRadar"||this.chartAreaType==="PolarRadar"&&(t.xAxisName!==null&&this.primaryXAxis.name!==t.xAxisName||t.yAxisName!==null&&this.primaryYAxis.name!==t.yAxisName))continue;break;case"Pareto":this.visibleSeries.push(t),this.paretoSeriesModule.initSeries(t,this);continue;default:if(this.chartAreaType==="PolarRadar"||o[0].type.indexOf("Bar")>-1)continue;break}this.visibleSeries.push(t),o[c]=t}},e.prototype.isSecondaryAxis=function(t){return this.axes.indexOf(t)>-1},e.prototype.renderTitle=function(){var t,i=this.margin,s=5;if(this.title){var o=pn(this.titleStyle.textAlignment,this.enableRtl),c=jt(this.title,this.titleStyle,this.themeStyle.chartTitleFont);t=new Ye(i.left,0,this.availableSize.width-i.left-i.right,0);var f=this.titleStyle.border.width,m=this.margin.top+c.height*3/4,b=gn(t,this.titleStyle||this.themeStyle.chartTitleFont)+f,S=void 0,k=this.titleStyle.textAlignment,L=jt(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont);switch(this.titleStyle.position){case"Top":m+=f*.5,b+=o==="start"?f*.5+this.border.width:o==="end"?-f*2-this.border.width:0;break;case"Bottom":b+=o==="start"?f*.5+this.border.width:o==="end"?-f*2-this.border.width:0,m=this.availableSize.height-this.margin.bottom-L.height-c.height/2-f*.5-this.subTitleStyle.border.width*.5;break;case"Left":b=this.margin.left+c.height*3/4+f*.5,m=k==="Near"?i.bottom+f*.5+this.border.width:k==="Far"?this.availableSize.height-i.bottom-f*.5-this.border.width:this.availableSize.height/2,o=k==="Near"?"end":k==="Far"?"start":"middle",o=this.enableRtl?o==="end"?"start":o==="start"?"end":o:o,S="rotate(-90,"+b+","+m+")";break;case"Right":b=this.availableSize.width-this.margin.right-c.height*3/4-f*.5,m=k==="Near"?i.bottom+f*.5+this.border.width:k==="Far"?this.availableSize.height-i.bottom-f*.5-this.border.width:this.availableSize.height/2,o=k==="Near"?"start":k==="Far"?"end":"middle",o=this.enableRtl?o==="end"?"start":o==="start"?"end":o:o,S="rotate(90,"+b+","+m+")";break;case"Custom":b=this.titleStyle.x,m=this.titleStyle.y,o="middle";break}var I={id:this.element.id+"_ChartTitleBorder",x:b-(o==="middle"?c.width/2+s:o==="end"?c.width+s:s),y:m-c.height+c.height/4,rx:this.titleStyle.border.cornerRadius,ry:this.titleStyle.border.cornerRadius,width:c.width+s*2,height:c.height*this.titleCollection.length,fill:this.titleStyle.background,"stroke-width":f,stroke:this.titleStyle.border.color,transform:S||"",d:""},_=Si(this.redraw,this.element.id+"_ChartTitleBorder",I,this.renderer)||this.renderer.drawRectangle(I);Be(this.enableCanvas,this.svgObject,_,this.redraw);var N=new rr(this.element.id+"_ChartTitle",b,m,o,this.titleCollection,S,"auto"),U=Si(this.redraw,this.element.id+"_ChartTitle",N,this.renderer)||Ti(this.renderer,N,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitleFont.color,this.svgObject,null,null,null,null,null,null,null,null,this.enableCanvas,null,this.themeStyle.chartTitleFont);U&&(U.setAttribute("tabindex","0"),U.setAttribute("class","e-chart-focused")),this.subTitle&&this.renderSubTitle(N)}},e.prototype.renderSubTitle=function(t){for(var i=0,s=0,o=10,c=this.titleStyle.textAlignment,f=0,m=this.titleCollection;f<m.length;f++){var b=m[f];s=jt(b,this.titleStyle,this.themeStyle.chartTitleFont).width,i=s>i?s:i}var S=jt(this.subTitle,this.subTitleStyle,this.themeStyle.chartSubTitleFont).width;i=Math.max(s,S);var k=jt(this.subTitleCollection.reduce(function($,Q){return $.length>Q.length?$:Q}),this.subTitleStyle,this.themeStyle.chartSubTitleFont),L=pn(this.subTitleStyle.textAlignment,this.enableRtl),I=new Ye(c==="Center"?t.x-i*.5:c==="Far"?t.x-i:t.x,0,i,0);this.titleStyle.position==="Left"&&(I.x=c==="Center"?t.x-i*.5:c==="Far"?this.margin.left+k.height*3/4:t.x-i);var _=jt(this.title,this.titleStyle,this.themeStyle.chartTitleFont),N=t.y*t.text.length+k.height+o/2+this.titleStyle.border.width+this.subTitleStyle.border.width*.5;this.titleStyle.position==="Bottom"&&(N=t.y*t.text.length+o/2+_.height/2+k.height/2);var U={id:this.element.id+"_ChartSubTitleBorder",x:gn(I,this.subTitleStyle)-(L==="middle"?k.width/2+o/2:L==="end"?k.width+o/2:o/2),y:N-k.height+k.height/4,rx:this.subTitleStyle.border.cornerRadius,ry:this.subTitleStyle.border.cornerRadius,width:k.width+o,height:k.height*this.subTitleCollection.length,fill:this.subTitleStyle.background,"stroke-width":this.subTitleStyle.border.width,stroke:this.subTitleStyle.border.color,transform:t.transform,d:""},Z=Si(this.redraw,this.element.id+"_ChartSubTitleBorder",U,this.renderer)||this.renderer.drawRectangle(U);Be(this.enableCanvas,this.svgObject,Z,this.redraw);var V=new rr(this.element.id+"_ChartSubTitle",gn(I,this.subTitleStyle),N,pn(this.subTitleStyle.textAlignment,this.enableRtl),this.subTitleCollection,t.transform,"auto");Si(this.redraw,this.element.id+"_ChartSubTitle",V,this.renderer)||Ti(this.renderer,V,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartSubTitleFont.color,this.svgObject,null,null,null,null,null,null,null,null,this.enableCanvas,null,this.themeStyle.chartSubTitleFont)},e.prototype.renderBorder=function(){var t=0,i=0,s=this.border.width,o=this.backgroundImage,c=o?"transparent":this.background||this.themeStyle.background;this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&(this.stockChart.legendSettings.position==="Top"?i+=this.stockChart.stockLegendModule.legendBounds.height:this.stockChart.legendSettings.position==="Left"&&(t+=this.stockChart.stockLegendModule.legendBounds.width));var f=new nr(this.element.id+"_ChartBorder",c,this.border,1,new Ye(s*.5+t,s*.5+i,this.availableSize.width-s,this.availableSize.height-s),0,0,"",this.border.dashArray);if(this.htmlObject=Si(this.redraw,this.element.id+"_ChartBorder",f,this.renderer)||this.renderer.drawRectangle(f),this.htmlObject.setAttribute("aria-hidden","true"),Be(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw),o){var m=new Ea(this.availableSize.height-s,this.availableSize.width-s,o,0,0,this.element.id+"_ChartBackground","visible","none");this.htmlObject=Si(this.redraw,this.element.id+"_ChartBackground",m,this.renderer)||this.renderer.drawImage(m),Be(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw)}},e.prototype.renderAreaBorder=function(){if(this.chartAreaType==="PolarRadar")return null;var t=ye(this.element.id+"_ChartAreaBorder"),i=t?new Ye(+t.getAttribute("x"),+t.getAttribute("y"),+t.getAttribute("width"),+t.getAttribute("height")):null,s=new nr(this.element.id+"_ChartAreaBorder",this.chartArea.background,{width:this.chartArea.border.width,color:this.chartArea.border.color||this.themeStyle.areaBorder},this.chartArea.opacity,this.chartAxisLayoutPanel.seriesClipRect,0,0,"",this.chartArea.border.dashArray);if(s.height<0||s.width<0)return null;this.htmlObject=this.renderer.drawRectangle(s),this.htmlObject.setAttribute("aria-hidden","true"),Be(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0,i),this.htmlObject=null;var o=this.chartArea.backgroundImage;if(o){var c=this.chartArea.border.width,f=new Ea(this.initialClipRect.height-c,this.initialClipRect.width-c,o,this.initialClipRect.x,this.initialClipRect.y,this.element.id+"_ChartAreaBackground","visible","none");this.htmlObject=this.renderer.drawImage(f),Be(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0)}},e.prototype.addSeries=function(t){for(var i=window.pageYOffset||document.documentElement.scrollTop,s=0,o=t;s<o.length;s++){var c=o[s];c=new Ct(this,"series",c),this.series.push(c)}this.refresh(),window.scrollTo(0,i)},e.prototype.removeSeries=function(t){this.redraw=!1;var i=window.pageYOffset||document.documentElement.scrollTop;this.visibleSeries[t]&&(this.visibleSeries[t].xAxis.orientation=null,this.visibleSeries[t].yAxis.orientation=null);for(var s=0;s<this.axes.length;s++)this.axes[s].orientation===null&&this.axes.splice(s,1);this.series.splice(t,1),this.refresh(),window.scrollTo(0,i)},e.prototype.clearSeries=function(){this.series=[];var t=window.pageYOffset||document.documentElement.scrollTop;this.refresh(),window.scrollTo(0,t)},e.prototype.addAxes=function(t){for(var i=0,s=t;i<s.length;i++){var o=s[i];o=new As(this,"axes",o),this.isBlazor&&(o.interval=isNaN(o.interval)?null:o.interval,o.desiredIntervals=isNaN(o.desiredIntervals)?null:o.desiredIntervals),this.axes.push(o)}this.refresh()},e.prototype.removeAxis=function(t){this.redraw=!1,this.axes.splice(t,1),this.refresh()},e.prototype.destroy=function(){this.scrollBarModule&&this.scrollBarModule.destroy(),this.markerRender&&(this.markerRender.removeEventListener(),this.markerRender=null),this.horizontalAxes=[],this.verticalAxes=[],this.visibleSeries=[],this.axisCollections=[],this.rotatedDataLabelCollections=[],this.seriesElements=null,this.chartAxisLayoutPanel=null,this.dataLabelCollections=null,this.dataLabelElements=null,this.yAxisElements=null;var t=document.getElementById(this.element.id+"Keyboard_chart_focus");t&&t.remove();var i=document.getElementById(this.element.id+"_ej2_chart_highlight");i&&i.remove(),It("chartmeasuretext"),this.element&&(this.unWireEvents(),this.isReact&&this.clearTemplate(),a.prototype.destroy.call(this),this.enableCanvas||(this.removeSvg(),this.svgObject=null))},e.prototype.getModuleName=function(){return"chart"},e.prototype.getPersistData=function(){var t=["loaded","animationComplete","primaryXAxis","primaryYAxis"];return this.addOnPersist(t)},e.prototype.createChartSvg=function(){this.removeSvg(),jh(this)},e.prototype.unWireEvents=function(){var t=ze.touchStartEvent,i=ze.touchMoveEvent,s=ze.touchEndEvent,o=ze.isPointer?"pointerleave":"mouseleave";xe.remove(this.element,t,this.chartOnMouseDown),xe.remove(this.element,i,this.mouseMove),xe.remove(this.element,s,this.mouseEnd),xe.remove(this.element,"click",this.chartOnMouseClick),xe.remove(this.element,"dblclick",this.chartOnDoubleClick),xe.remove(this.element,"contextmenu",this.chartRightClick),xe.remove(this.element,o,this.mouseLeave),xe.remove(this.element,"keydown",this.chartKeyDown),xe.remove(document.body,"keydown",this.documentKeyHandler),xe.remove(this.element,"keyup",this.chartKeyUp),window.removeEventListener(ze.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.touchObject&&(this.touchObject.destroy(),this.touchObject=null)},e.prototype.wireEvents=function(){if(this.element){var t=ze.isPointer?"pointerleave":"mouseleave";xe.add(this.element,ze.touchStartEvent,this.chartOnMouseDown,this),xe.add(this.element,ze.touchMoveEvent,this.mouseMove,this),xe.add(this.element,ze.touchEndEvent,this.mouseEnd,this),xe.add(this.element,"click",this.chartOnMouseClick,this),xe.add(this.element,"dblclick",this.chartOnDoubleClick,this),xe.add(this.element,"contextmenu",this.chartRightClick,this),xe.add(this.element,t,this.mouseLeave,this),xe.add(this.element,"keydown",this.chartKeyDown,this),xe.add(document.body,"keydown",this.documentKeyHandler,this),xe.add(this.element,"keyup",this.chartKeyUp,this),this.resizeBound=this.chartResize.bind(this),window.addEventListener(ze.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.longPressBound=this.longPress.bind(this),this.touchObject=new Bo(this.element,{tapHold:this.longPressBound,tapHoldThreshold:500}),this.setStyle(this.element)}},e.prototype.chartRightClick=function(t){return this.crosshair.enable&&this.crosshairModule&&(t.buttons===2||t.which===0||t.pointerType==="touch")?(t.preventDefault(),t.stopPropagation(),!1):!0},e.prototype.setStyle=function(t){var i=this.zoomSettings,s=i.enableSelectionZooming||i.enablePinchZooming||this.selectionMode!=="None"||this.highlightMode!=="None";t.style.touchAction=s?"none":"element",t.style.msTouchAction=s?"none":"element",t.style.msContentZooming="none",t.style.msUserSelect="none",t.style.webkitUserSelect="none",t.style.position="relative",t.style.display="block",t.style.overflow="hidden",t.style.height=t.style.height||this.height&&this.height.indexOf("%")===-1?t.style.height:"inherit"},e.prototype.isOrientation=function(){return"orientation"in window&&"onorientationchange"in window},e.prototype.longPress=function(t){return this.mouseX=t&&t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].clientX:0,this.mouseY=t&&t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].clientY:0,this.startMove=!0,this.allowPan=this.stockChart?!1:this.allowPan,this.setMouseXY(this.mouseX,this.mouseY),this.notify("tapHold",t),!1},e.prototype.setMouseXY=function(t,i){if(ye(this.svgId)){var s=ye(this.svgId).getBoundingClientRect(),o=this.element.getBoundingClientRect();this.scaleX=s.width/this.availableSize.width,this.scaleY=s.height/this.availableSize.height,this.mouseY=(i-o.top-Math.max(s.top-o.top,0))/this.scaleY,this.mouseX=(t-o.left-Math.max(s.left-o.left,0))/this.scaleX,this.stockChart&&(this.mouseX+=this.stockChart.legendSettings.position==="Left"?this.stockChart.stockLegendModule.legendBounds.width:0,this.mouseY+=this.stockChart.legendSettings.position==="Top"?this.stockChart.stockLegendModule.legendBounds.height:0)}},e.prototype.export=function(t,i){this.exportModule&&(this.exportModule.export(t,i),this.afterExport&&this.exportModule.getDataUrl(this))},e.prototype.chartResize=function(){var t=this;this.animateSeries=!1;var i={chart:this,name:Ma,currentSize:new Qt(0,0),previousSize:new Qt(this.availableSize.width,this.availableSize.height)},s={name:"beforeResize",cancelResizedEvent:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(Xh,s),s.cancelResizedEvent||(this.resizeTo=+setTimeout(function(){if(t.isDestroyed||t.stockChart){clearTimeout(t.resizeTo);return}t.createChartSvg(),i.currentSize=t.availableSize,t.trigger(Ma,i),t.refreshAxis(),t.refreshBound(),t.trigger("loaded",{chart:t.isBlazor?{}:t})},500)),!1},e.prototype.mouseMove=function(t){var i,s,o;return this.allowPan||(t.type==="touchmove"?(this.isTouch=!0,o=t,i=o.changedTouches[0].clientX,s=o.changedTouches[0].clientY):(this.isTouch=t.pointerType==="touch"||t.pointerType==="2"||this.isTouch,i=t.clientX,s=t.clientY),this.previousPageX=i,this.previousPageY=s,ye(this.svgId)&&(this.setMouseXY(i,s),this.chartOnMouseMove(t))),!1},e.prototype.mouseLeave=function(t){var i,s,o;return this.stockChart&&this.stockChart.onPanning||(t.type==="touchleave"?(this.isTouch=!0,o=t,i=o.changedTouches[0].clientX,s=o.changedTouches[0].clientY):(this.isTouch=t.pointerType==="touch"||t.pointerType==="2",i=t.clientX,s=t.clientY),this.previousPageX=null,this.previousPageY=null,this.setMouseXY(i,s),this.chartOnMouseLeave(t)),!1},e.prototype.chartOnMouseLeave=function(t){var i=t.target,s=ze.isPointer?"pointerleave":"mouseleave";return this.trigger(Yh,{target:i.id,x:this.mouseX,y:this.mouseY}),It(this.element.id+"_EJ2_AxisLabel_Tooltip"),this.isChartDrag=this.isPointMouseDown=!1,this.notify(s,t),!1},e.prototype.chartOnDoubleClick=function(t){var i=t.target;return this.trigger(Gh,{target:i.id,x:this.mouseX,y:this.mouseY}),!1},e.prototype.chartKeyDown=function(t){var i="";return(this.isZoomed&&t.code==="Tab"||t.code==="Space")&&t.preventDefault(),this.tooltip.enable&&(t.code==="Tab"&&this.previousTargetId.indexOf("Series")>-1||t.code==="Escape")&&(i="ESC"),this.highlightMode!=="None"&&t.code==="Tab"&&this.previousTargetId.indexOf("_chart_legend_")>-1&&this.highlightModule&&this.highlightModule.removeLegendHighlightStyles(),t.ctrlKey&&(t.key==="+"||t.code==="Equal"||t.key==="-"||t.code==="Minus")?(t.preventDefault(),this.isZoomed=this.zoomModule&&(this.zoomSettings.enableDeferredZooming||this.zoomSettings.enableSelectionZooming||this.zoomSettings.enablePinchZooming||this.zoomSettings.enableMouseWheelZooming),i=this.isZoomed?t.code:""):t.keyCode===82&&this.isZoomed?(t.preventDefault(),this.isZoomed=!1,i="R"):t.code.indexOf("Arrow")>-1&&(t.preventDefault(),i=this.isZoomed?t.code:""),t.ctrlKey&&t.key==="p"&&(t.preventDefault(),i="CtrlP"),i!==""&&this.chartKeyboardNavigations(t,t.target.id,i),!1},e.prototype.chartKeyUp=function(t){var i="",s=t.target.id,o,c,f=t.target,m=ye(this.element.id+"_ChartTitle"),b=ye(this.element.id+"SeriesCollection"),S=ye(this.element.id+"_chart_legend_translate_g"),k=ye(this.element.id+"_chart_legend_pageup");if(m&&m.setAttribute("class","e-chart-focused"),b&&b.firstElementChild&&b.firstElementChild.children[1]){var L=b.firstElementChild.children[1],I=L.getAttribute("class");I&&I.indexOf("e-chart-focused")===-1?I=I+" e-chart-focused":I||(I="e-chart-focused"),L.setAttribute("class",I)}if(S){var L=S.firstElementChild,I=L.getAttribute("class");I&&I.indexOf("e-chart-focused")===-1?I=I+" e-chart-focused":I||(I="e-chart-focused"),L.setAttribute("class",I)}if(k&&k.setAttribute("class","e-chart-focused"),t.code==="Tab"){if(this.previousTargetId!=="")if(this.previousTargetId.indexOf("_Series_")>-1&&s.indexOf("_Series_")===-1){o=ye(this.element.id+"SeriesCollection");var _=this.previousTargetId.indexOf("_Symbol")>-1?ye(this.element.id+"SymbolGroup"+this.currentSeriesIndex).children[this.currentPointIndex+1]:this.previousTargetId.indexOf("_Point_")>-1?o.children[this.currentSeriesIndex].children[this.currentPointIndex+1]:o.children[this.currentSeriesIndex];this.setTabIndex(_,o.firstElementChild),this.currentPointIndex=0,this.currentSeriesIndex=0}else this.previousTargetId.indexOf("_chart_legend_page")>-1&&s.indexOf("_chart_legend_page")===-1&&s.indexOf("_chart_legend_g_")===-1?this.setTabIndex(t.target,ye(this.element.id+"_chart_legend_pageup")):this.previousTargetId.indexOf("_chart_legend_g_")>-1&&s.indexOf("_chart_legend_g_")===-1&&(o=ye(this.element.id+"_chart_legend_translate_g"),this.setTabIndex(o.children[this.currentLegendIndex],o.firstElementChild));this.previousTargetId=s,s.indexOf("SeriesGroup")>-1&&(this.currentSeriesIndex=+s.split("SeriesGroup")[1],f.removeAttribute("tabindex"),f.blur(),f.children[1].id.indexOf("_Point_")===-1&&(c=ye(this.element.id+"SymbolGroup"+s.split("SeriesGroup")[1])),s=this.focusChild(c!=null?c.children[1]:f.children[1])),i=this.highlightMode!=="None"||this.tooltip.enable?"Tab":""}else if(t.code.indexOf("Arrow")>-1){if(t.preventDefault(),this.previousTargetId=s,s.indexOf("_chart_legend_page")>-1)t.code==="ArrowLeft"?(ye(this.element.id+"_chart_legend_pagedown").removeAttribute("tabindex"),this.focusChild(ye(this.element.id+"_chart_legend_pageup"))):t.code==="ArrowRight"&&(ye(this.element.id+"_chart_legend_pageup").removeAttribute("tabindex"),this.focusChild(ye(this.element.id+"_chart_legend_pagedown")));else if(s.indexOf("_chart_legend_")>-1){var N=f.parentElement.children;N[this.currentLegendIndex].removeAttribute("tabindex"),this.currentLegendIndex+=t.code==="ArrowUp"||t.code==="ArrowRight"?1:-1,this.currentLegendIndex=this.getActualIndex(this.currentLegendIndex,N.length);var U=N[this.currentLegendIndex];this.focusChild(U),s=U.children[1].id,i=this.highlightMode!=="None"?"ArrowMove":""}else if(s.indexOf("_Series_")>-1){o=f.parentElement.parentElement;var Z=t.target;if(f.removeAttribute("tabindex"),f.blur(),t.code==="ArrowRight"||t.code==="ArrowLeft"){for(var V=[],$=0;$<o.children.length;$++)o.children[$].id.indexOf("SeriesGroup")>-1&&V.push(+o.children[$].id.split("SeriesGroup")[1]);this.currentSeriesIndex=V.indexOf(this.currentSeriesIndex)+(t.code==="ArrowRight"?1:-1),this.currentSeriesIndex=V[this.getActualIndex(this.currentSeriesIndex,V.length)]}else this.currentPointIndex+=t.code==="ArrowUp"?1:-1;s.indexOf("_Symbol")>-1?(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,ye(this.element.id+"SymbolGroup"+this.currentSeriesIndex).childElementCount-1),Z=ye(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex+"_Symbol")):s.indexOf("_Point_")>-1&&(this.currentPointIndex=this.getActualIndex(this.currentPointIndex,ye(this.element.id+"SeriesGroup"+this.currentSeriesIndex).childElementCount-1),Z=ye(this.element.id+"_Series_"+this.currentSeriesIndex+"_Point_"+this.currentPointIndex)),s=this.focusChild(Z),i=this.tooltip.enable||this.highlightMode!=="None"?"ArrowMove":""}}else(t.code==="Enter"||t.code==="Space")&&(s.indexOf("_chart_legend_")>-1||s.indexOf("_Point_")>-1)&&(s=s.indexOf("_chart_legend_page")>-1?s:s.indexOf("_chart_legend_")>-1?f.children[1].id:s,i="Enter");return i!==""&&this.chartKeyboardNavigations(t,s,i),!1},e.prototype.setTabIndex=function(t,i){t&&t.removeAttribute("tabindex"),i&&i.setAttribute("tabindex","0")},e.prototype.getActualIndex=function(t,i){return t>i-1?0:t<0?i-1:t},e.prototype.focusChild=function(t){t.setAttribute("tabindex","0");var i=t.getAttribute("class");return t.setAttribute("tabindex","0"),i&&i.indexOf("e-chart-focused")===-1?i="e-chart-focused "+i:i||(i="e-chart-focused"),t.setAttribute("class",i),t.focus(),t.id},e.prototype.documentKeyHandler=function(t){t.altKey&&t.keyCode===74&&!pe(this.element)&&this.element.focus()},e.prototype.chartKeyboardNavigations=function(t,i,s){switch(this.isLegendClicked=!1,s){case"Tab":case"ArrowMove":if(this.highlightModule&&this.highlightModule.removeLegendHighlightStyles(),i.indexOf("_Point_")>-1){var o=+i.split("_Series_")[1].split("_Point_")[0],c=+i.split("_Series_")[1].replace("_Symbol","").split("_Point_")[1],f=this.visibleSeries[o].points[c].symbolLocations[0];this.mouseX=f.x+this.initialClipRect.x,this.mouseY=f.y+this.initialClipRect.y,this.highlightModule&&(this.highlightModule.highlightChart(document.getElementById(i),"mousemove"),this.highlightModule.completeSelection(document.getElementById(i),"mousemove")),this.tooltipModule&&this.tooltipModule.tooltip()}if(this.highlightModule&&this.highlightMode!=="None"){i=i.indexOf("_chart_legend_g_")>-1?document.getElementById(i).firstChild.id:i;for(var m=this.element.id+"_chart_legend",b=[m+"_text_",m+"_shape_marker_",m+"_shape_"],S=0;S<b.length;S++){var k=b[S];if(i.indexOf(k)>-1){document.getElementById(i).setAttribute("class",""),this.highlightModule.legendSelection(this,parseInt(i.split(k)[1],10),document.getElementById(i),"mousemove");break}}}break;case"Enter":case"Space":i.indexOf("_chart_legend_")>-1?(this.isLegendClicked=!0,this.legendModule.click(t),this.focusChild(document.getElementById(i).parentElement)):this.selectionModule.calculateSelectedElements(document.getElementById(i),"click");break;case"CtrlP":this.print();break;case"ESC":this.tooltipModule.removeTooltip(1);break;case"Equal":case"Minus":this.zoomModule.isZoomed=this.zoomModule.performedUI=!0,this.zoomModule.isPanning=this.isChartDrag=!1,s==="Equal"?this.zoomModule.toolkit.zoomInOutCalculation(1,this,this.axisCollections,this.zoomSettings.mode):this.zoomModule.toolkit.zoomInOutCalculation(-1,this,this.axisCollections,this.zoomSettings.mode),this.zoomModule.performZoomRedraw(this),this.element.focus();break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":{var L=s==="ArrowUp"?10:s==="ArrowDown"?-10:0,I=s==="ArrowLeft"?-10:s==="ArrowRight"?10:0;this.zoomModule.isPanning=this.isChartDrag=!0,this.zoomModule.doPan(this,this.axisCollections,I,L),this.zoomModule.performZoomRedraw(this),this.element.focus();break}case"R":this.zoomModule.toolkit.reset(t);break}},e.prototype.chartOnMouseClick=function(t){var i=this,s=t.target,o=this;this.clickCount++;var c=this.FindXYPointValue(o.mouseX,o.mouseY),f=400;this.clickCount===1?this.singleClickTimer=+setTimeout(function(){o.clickCount=0,o.trigger(Uh,{target:s.id,x:o.mouseX,y:o.mouseY,axisData:c})},f):this.clickCount===2&&!this.pointDoubleClick&&(clearTimeout(this.singleClickTimer),this.clickCount=0);var m="isAngular";if(this[m]){var b="observers";f=this.pointDoubleClick[b].length>0?400:0}else f=this.pointDoubleClick?400:0;return this.clickCount===1&&this.pointClick?this.singleClickTimer=+setTimeout(function(){i.clickCount=0,i.triggerPointEvent(qh,t)},f):this.clickCount===2&&this.pointDoubleClick&&(clearTimeout(this.singleClickTimer),this.clickCount=0,this.triggerPointEvent(Zh,t)),this.axisLabelClick&&this.triggerAxisLabelClickEvent($h,t),this.notify("click",t),!1},e.prototype.FindXYPointValue=function(t,i){if($t(t,i,this.chartAxisLayoutPanel.seriesClipRect)&&this.series.some(function(S){return S.visible})){for(var s=void 0,o=void 0,c=void 0,f={},m=0,b=this.axisCollections.length;m<b;m++)s=this.axisCollections[m],s.orientation==="Horizontal"?(o=Kh(Math.abs(t-s.rect.x),s.rect.width,s),f[this.axisCollections[m].name]=o):(c=Jh(Math.abs(i-s.rect.y),s.rect.height,s),f[this.axisCollections[m].name]=c);return f}return null},e.prototype.triggerPointEvent=function(t,i){var s=i,o=new $o(this),c=o.getData();c.series&&c.point&&this.trigger(t,{series:this.isBlazor?{}:c.series,point:c.point,seriesIndex:c.series.index,pointIndex:c.point.index,x:this.mouseX,y:this.mouseY,pageX:s.pageX,pageY:s.pageY})},e.prototype.triggerAxisLabelClickEvent=function(t,i){var s=i.target,o=i;if(s.id.indexOf("_AxisLabel_")!==-1){var c=s.id.split("_AxisLabel_"),f=+c[0].slice(-1),m=+c[1],b=this.axisCollections[f];b.visible&&(f===0||f===1)&&this.trigger(t,{chart:this,axis:b,text:b.visibleLabels[m].text,labelID:s.id,index:m,location:new Ze(o.pageX,o.pageY),value:b.visibleLabels[m].value})}},e.prototype.chartOnMouseMove=function(t){var i=t.target,s=this.FindXYPointValue(this.mouseX,this.mouseY);return this.trigger(Qh,{target:i.id,x:this.mouseX,y:this.mouseY,axisData:s}),this.pointMove&&this.triggerPointEvent(ec,t),this.isTouch||(this.titleTooltip(t,this.mouseX,this.mouseY),this.axisTooltip(t,this.mouseX,this.mouseY)),this.dataEditingModule&&this.dataEditingModule.pointMouseMove(t),this.crosshair.enable&&this.startMove&&t.preventDefault(),this.notify(ze.touchMoveEvent,t),this.isTouch=!1,!1},e.prototype.titleTooltip=function(t,i,s,o){var c=t.target.id,f=c===this.element.id+"_ChartTitle"||c===this.element.id+"_ChartSubTitle"||c.indexOf("_AxisTitle")>-1||c.indexOf("_legend_title")>-1,m=0;if(c.indexOf("_AxisTitle")>-1&&(m=parseInt(c.replace(this.element.id,"").replace("AxisLabel_","").split("_")[2],10)),f&&t.target.textContent.indexOf("...")>-1){var b=c===this.element.id+"_ChartTitle"?this.title:c.indexOf("_AxisTitle")>-1?this.axisCollections[m].title:c.indexOf("_ChartSubTitle")>-1?this.subTitle:this.legendSettings.title;Oa(b,i,s,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",ye(this.element.id+"_Secondary_Element"),o)}else It(this.element.id+"_EJ2_Title_Tooltip")},e.prototype.axisTooltip=function(t,i,s,o){var c=t.target.id;if((c.indexOf("AxisLabel")>-1||c.indexOf("Axis_MultiLevelLabel")>-1)&&t.target.textContent.indexOf("...")>-1){var f=this.legendSettings.visible||this.primaryXAxis.title==="";Oa(this.findAxisLabel(c),i,s,this.element.offsetWidth,this.element.id+"_EJ2_AxisLabel_Tooltip",ye(this.element.id+"_Secondary_Element"),o,f)}else It(this.element.id+"_EJ2_AxisLabel_Tooltip")},e.prototype.findAxisLabel=function(t){var i;return t.indexOf("AxisLabel")>-1?(i=t.replace(this.element.id,"").replace("AxisLabel_","").split("_"),this.axisCollections[parseInt(i[0],10)].visibleLabels[parseInt(i[1],10)].originalText):(i=t.replace(this.element.id,"").replace("Axis_MultiLevelLabel_Level_","").replace("Text_","").split("_"),this.axisCollections[parseInt(i[0],10)].multiLevelLabels[parseInt(i[1],10)].categories[parseInt(i[2],10)].text)},e.prototype.chartOnMouseDown=function(t){var i,s,o,c,f=this.FindXYPointValue(this.mouseX,this.mouseY),m=ze.isDevice?20:30,b=this.element.getBoundingClientRect(),S=t.target;this.stockChart&&this.stockChart.zoomSettings.enablePan&&(this.allowPan=!0),this.trigger(tc,{target:S.id,x:this.mouseX,y:this.mouseY,axisData:f}),t.type==="touchstart"?(this.isTouch=!0,c=t,i=c.changedTouches[0].clientX,s=c.changedTouches[0].clientY,o=c.target):(this.isTouch=t.pointerType==="touch",i=t.clientX,s=t.clientY,o=t.target);var k=ye(this.svgId).getBoundingClientRect();return this.mouseDownX=this.previousMouseMoveX=i-b.left-Math.max(k.left-b.left,0),this.mouseDownY=this.previousMouseMoveY=s-b.top-Math.max(k.top-b.top,0),this.isTouch&&(this.isDoubleTap=new Date().getTime()<this.threshold&&o.id.indexOf(this.element.id+"_Zooming_")===-1&&(this.mouseDownX-m>=this.mouseX||this.mouseDownX+m>=this.mouseX)&&(this.mouseDownY-m>=this.mouseY||this.mouseDownY+m>=this.mouseY)&&(this.mouseX-m>=this.mouseDownX||this.mouseX+m>=this.mouseDownX)&&(this.mouseY-m>=this.mouseDownY||this.mouseY+m>=this.mouseDownY)),this.dataEditingModule&&this.dataEditingModule.pointMouseDown(),this.notify(ze.touchStartEvent,t),!1},e.prototype.mouseEnd=function(t){var i,s,o;return t.type==="touchend"?(o=t,s=o.changedTouches[0].clientX,this.isTouch=!0,i=o.changedTouches[0].clientY):(i=t.clientY,s=t.clientX,this.isTouch=t.pointerType==="touch"||t.pointerType==="2"),this.setMouseXY(s,i),this.chartOnMouseUp(t),!1},e.prototype.chartOnMouseUp=function(t){var i=t.target,s=this.FindXYPointValue(this.mouseX,this.mouseY);return this.trigger(ic,{target:i.id,x:this.mouseX,y:this.mouseY,axisData:s}),this.isChartDrag=!1,this.allowPan=!1,this.isTouch&&(this.titleTooltip(t,this.mouseX,this.mouseY,this.isTouch),this.axisTooltip(t,this.mouseX,this.mouseY,this.isTouch),this.threshold=new Date().getTime()+300),this.dataEditingModule&&this.dataEditingModule.pointMouseUp(),!this.enableCanvas&&this.seriesElements&&this.seriesElements.removeAttribute("clip-path"),this.notify(ze.touchEndEvent,t),!1},e.prototype.setCulture=function(){this.intl=new jn,this.setLocaleConstants(),this.localeObject=new Do(this.getModuleName(),this.defaultLocalConstants,this.locale)},e.prototype.setAnnotationValue=function(t,i){var s=ye(this.element.id+"_Annotation_Collections"),o=this.annotations[t],c;i!==null&&(o.content=i,s?(It(this.element.id+"_Annotation_"+t),c=this.createElement("div"),this.annotationModule.processAnnotation(o,t,c),s.appendChild(c.children[0])):this.annotationModule.renderAnnotations(ye(this.element.id+"_Secondary_Element")))},e.prototype.setLocaleConstants=function(){this.defaultLocalConstants={ZoomIn:"Zoom in",Zoom:"Zoom",ZoomOut:"Zoom out",Pan:"Pan",Reset:"Reset",ResetZoom:"Reset Zoom"}},e.prototype.setTheme=function(){if(this.themeStyle=rc(this.theme,this.enableCanvas,this),!document.getElementById(this.element.id+"Keyboard_chart_focus")){var t=document.createElement("style");t.setAttribute("id",this.element.id+"Keyboard_chart_focus"),t.innerText=".e-chart-focused:focus, path[class*=_ej2_chart_selection_series]:focus,path[id*=_Point_]:focus, text[id*=_ChartTitle]:focus {outline: none } .e-chart-focused:focus-visible, path[class*=_ej2_chart_selection_series]:focus-visible,path[id*=_Point_]:focus-visible, text[id*=_ChartTitle]:focus-visible {outline: 1.5px "+this.themeStyle.tabColor+" solid}",document.body.appendChild(t)}},e.prototype.requiredModules=function(){var t=this,i=[],s=this.series,o=!1,c,f=!1,m=!1,b=!1,S=this.zoomSettings;return this.chartAreaType=s.length>0&&(s[0].type==="Polar"||s[0].type==="Radar")?"PolarRadar":"Cartesian",this.tooltip.enable&&i.push({member:"Tooltip",args:[this]}),s.map(function(k){t.isLegend=t.legendSettings.visible&&(k.name!==""||!!t.isLegend),c=k.type.indexOf("100")!==-1?k.type.replace("100","")+"Series":k.type+"Series",f=k.errorBar.visible||f,b=k.marker.dataLabel.visible||b||k.type==="Pareto"&&k.paretoOptions.marker.dataLabel.visible,m=k.dragSettings.enable||m,i.some(function(L){return L.member===c})||i.push({member:c,args:[t,s]}),t.chartAreaType==="PolarRadar"&&i.push({member:k.drawType+"Series",args:[t,s]}),k.type==="Pareto"&&(i.push({member:"ColumnSeries",args:[t,s]}),i.push({member:"LineSeries",args:[t,s]}))}),this.findIndicatorModules(i),this.findTrendLineModules(i),i=this.findAxisModule(i),o=this.annotations.some(function(k){return k.content!==null}),f&&i.push({member:"ErrorBar",args:[this,s]}),this.isLegend&&i.push({member:"Legend",args:[this]}),(this.enableExport||this.allowExport)&&i.push({member:"Export",args:[this]}),this.chartAreaType!=="PolarRadar"&&this.crosshair.enable&&i.push({member:"Crosshair",args:[this]}),this.chartAreaType!=="PolarRadar"&&!this.scrollSettingEnabled&&(S.enableSelectionZooming||S.enableMouseWheelZooming||S.enablePinchZooming||S.enablePan||S.enableScrollbar||S.showToolbar)&&(i.push({member:"Zoom",args:[this,this.zoomSettings]}),S.enableScrollbar&&i.push({member:"ScrollBar",args:[this]})),this.selectionMode!=="None"&&!(this.chartAreaType==="PolarRadar"&&this.selectionMode.indexOf("Drag")>-1)&&i.push({member:"Selection",args:[this]}),(this.highlightMode!=="None"||this.legendSettings.enableHighlight)&&i.push({member:"Highlight",args:[this]}),b&&i.push({member:"DataLabel",args:[this,s]}),m&&i.push({member:"DataEditing",args:[this]}),o&&i.push({member:"Annotation",args:[this]}),i},e.prototype.findAxisModule=function(t){var i=[];i.push(this.primaryXAxis),i.push(this.primaryYAxis),i=i.concat(this.axes);for(var s=!1,o=!1,c=!1,f=!1,m=!1,b=!1,S=0,k=i;S<k.length;S++){var L=k[S];s=L.valueType==="DateTime"||s,o=L.valueType==="Category"||o,c=L.valueType==="Logarithmic"||c,m=L.valueType==="DateTimeCategory"||m,f=this.findStriplineVisibility(L.stripLines)||f,b=L.multiLevelLabels.length>0||b,this.scrollSettingEnabled=L.scrollbarSettings.enable?!0:this.scrollSettingEnabled}return s&&t.push({member:"DateTime",args:[this]}),o&&t.push({member:"Category",args:[this]}),c&&t.push({member:"Logarithmic",args:[this]}),f&&t.push({member:"StripLine",args:[this]}),b&&t.push({member:"MultiLevelLabel",args:[this]}),m&&t.push({member:"DateTimeCategory",args:[this]}),this.scrollSettingEnabled&&t.push({member:"ScrollBar",args:[this]}),t},e.prototype.findIndicatorModules=function(t){var i,s,o=this.indicators;if(this.indicators.length){t.push({member:"LineSeries",args:[this]}),o.map(function(b){i=i||b.type==="Macd",s=s||b.type==="BollingerBands"}),i&&t.push({member:"ColumnSeries",args:[this]}),s&&t.push({member:"RangeAreaSeries",args:[this]}),s&&t.push({member:"SplineRangeAreaSeries",args:[this]});for(var c=0,f=this.indicators;c<f.length;c++){var m=f[c];t.push({member:m.type+"Indicator",args:[this]})}}},e.prototype.findTrendLineModules=function(t){for(var i,s,o=function(S){var k;S.trendlines.map(function(L){k=k||L.marker.visible,i=!!(i||L.type==="Linear"||L.type==="MovingAverage"),s=!!(s||!i||L.type==="Exponential"||L.type==="Logarithmic"||L.type==="Power"||L.type==="Polynomial")}),k&&t.push({member:"Marker",args:[c,S]})},c=this,f=0,m=this.series;f<m.length;f++){var b=m[f];o(b)}(i||s)&&t.push({member:"TrendLine",args:[this]}),i&&t.push({member:"LineSeries",args:[this]}),s&&t.push({member:"SplineSeries",args:[this]})},e.prototype.findStriplineVisibility=function(t){for(var i=!1,s=0,o=t;s<o.length;s++){var c=o[s];if(c.visible){i=!0;break}}return i},e.prototype.removeSvg=function(){if(this.redraw)return null;if(Ko(this),this.enableCanvas&&this.svgObject&&this.svgObject.tagName==="CANVAS")return this.renderer.clearRect(new Ye(0,0,this.availableSize.width,this.availableSize.height)),this.svgObject.parentNode&&At(this.svgObject),null;It(this.element.id+"_Secondary_Element"),this.isReact&&this.clearTemplate();var t=0;if(this.zoomModule&&this.zoomModule.pinchTarget&&(this.zoomModule.pinchTarget.id="",this.zoomModule.pinchTarget.setAttribute("opacity","0"),this.svgObject.appendChild(this.zoomModule.pinchTarget),t=1),!pe(this.resizeTo)){if(this.resizeTo!==this.checkResize&&this.isBlazor&&this.element.childElementCount)for(var i=document.querySelectorAll(".e-chart"),s=0;s<i.length;s++)for(var o=i[s];o.firstChild;)At(o.firstChild);this.checkResize=this.resizeTo}if(this.svgObject){for(;this.svgObject.childNodes.length>t;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&!this.stockChart&&At(this.svgObject)}},e.prototype.refreshDefinition=function(t){for(var i=0,s=t;i<s.length;i++){var o=s[i];o.axes=[]}},e.prototype.refreshAxis=function(){var t=this.primaryXAxis;t.rect=new Ye(void 0,void 0,0,0),t=this.primaryYAxis,t.isStack100=!1,t.rect=new Ye(void 0,void 0,0,0);for(var i=0,s=this.axes;i<s.length;i++){var o=s[i];t=o,t.rect=new Ye(void 0,void 0,0,0),t.isStack100=!1}if(this.paretoSeriesModule&&this.series[0].type==="Pareto")for(var c=0,f=this.paretoSeriesModule.paretoAxes;c<f.length;c++){var o=f[c];t=o,t.rect=new Ye(void 0,void 0,0,0),t.isStack100=!1}},e.prototype.axisChange=function(t){return!t.name&&!t.valueType?!1:(this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(),!0)},e.prototype.getVisibleSeries=function(t,i){for(var s=0,o=t;s<o.length;s++){var c=o[s];if(i===c.index)return c}return null},e.prototype.refreshLiveData=function(){this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),this.isBlazor||(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))},e.prototype.removeStyles=function(){It(this.element.id+"_ej2_chart_selection"),It(this.element.id+"_ej2_chart_highlight")},e.prototype.mouseMoveEvent=function(){if(this.tooltip.enable&&this.previousPageX!==null&&this.previousPageY!==null){var t=document.createEvent("MouseEvent");t.initMouseEvent("mousemove",!0,!1,window,1,100,100,this.previousPageX,this.previousPageY,!1,!1,!1,!1,0,null),this.element.dispatchEvent(t)}},e.prototype.showTooltip=function(t,i,s){if(s===void 0&&(s=!1),s)for(var o=0,c=this.visibleSeries;o<c.length;o++)for(var f=c[o],m=0,b=f.points;m<b.length;m++){var S=b[m],k=f.xAxis.valueType==="DateTime"?S.xValue:S.x,L=t;if(f.xAxis.valueType==="DateTime"&&(L=new Date(L).getTime()),t===k&&i===S.yValue){this.mouseX=S.regions[0].x+this.chartAxisLayoutPanel.seriesClipRect.x,this.mouseY=S.regions[0].y+this.chartAxisLayoutPanel.seriesClipRect.y,this.tooltipModule.tooltip(),this.markerRender.mouseMoveHandler();break}}else this.isTouch&&(this.startMove=!0),this.mouseX=t,this.mouseY=i,this.tooltipModule.mouseMoveHandler(),this.markerRender.mouseMoveHandler()},e.prototype.hideTooltip=function(){this.tooltipModule.removeTooltip(ze.isDevice?2e3:1e3)},e.prototype.showCrosshair=function(t,i){this.mouseX=t,this.mouseY=i,this.isCrosshair=!1,$t(this.mouseX,this.mouseY,this.chartAxisLayoutPanel.seriesClipRect)?this.crosshairModule.crosshair():this.hideCrosshair(),this.isCrosshair=!0},e.prototype.hideCrosshair=function(){this.crosshairModule.removeCrosshair(ze.isDevice?2e3:1e3)},e.prototype.sanitize=function(t){return this.enableHtmlSanitizer?kn.sanitize(t):t},e.prototype.onPropertyChanged=function(t,i){var s=!1,o=!1;this.animateSeries=!1;var c;if(!this.delayRedraw&&!this.zoomRedraw){for(var f=0,m=Object.keys(t);f<m.length;f++){var b=m[f];switch(b){case"primaryXAxis":c=t.primaryXAxis,o=this.axisChange(c),t.primaryXAxis.edgeLabelPlacement&&(s=!0),t.primaryXAxis.crosshairTooltip||(o=!0),t.primaryXAxis.scrollbarSettings&&(o=!0),(!pe(c.isInversed)||!pe(c.opposedPosition))&&this.primaryXAxis.setIsInversedAndOpposedPosition();break;case"primaryYAxis":c=t.primaryYAxis,o=this.axisChange(c),t.primaryYAxis.edgeLabelPlacement&&(s=!0),t.primaryYAxis.crosshairTooltip||(o=!0),t.primaryYAxis.scrollbarSettings&&(o=!0),(!pe(c.isInversed)||!pe(c.opposedPosition))&&this.primaryYAxis.setIsInversedAndOpposedPosition();break;case"axes":for(var S=0,k=Object.keys(t.axes);S<k.length;S++){var L=k[S];c=t.axes[L],o=o||this.axisChange(c),c.crosshairTooltip||(o=!0),c.scrollbarSettings&&(o=!0),(!pe(c.isInversed)||!pe(c.opposedPosition))&&this.axes[L].setIsInversedAndOpposedPosition()}break;case"height":case"width":this.createChartSvg(),o=!0;break;case"subTitle":case"title":o=!0;break;case"titleStyle":t.titleStyle&&(t.titleStyle.size||t.titleStyle.textOverflow)?o=!0:s=!0;break;case"subTitleStyle":t.subTitleStyle&&(t.subTitleStyle.size||t.subTitleStyle.textOverflow)?o=!0:s=!0;break;case"border":s=!0;break;case"dataSource":this.processData(!1),o=!0;break;case"enableCanvas":this.refresh();break;case"series":{for(var I=this.series.length,_=!1,N=void 0,U=void 0,Z=0;Z<I;Z++)N=t.series[Z],this.isBlazor&&N&&(N.visible!==i.series[Z].visible||N.isClosed||N.marker||N.emptyPointSettings||N.type||N.boxPlotMode||N.showMean)&&(U=!0),!pe(N)&&(N.dataSource||N.query||N.errorBar||N.xName||N.yName||N.size||N.high||N.low||N.open||N.close||N.trendlines||N.fill||N.name||N.marker||N.width||N.binInterval||N.type||N.visible!==i.series[Z].visible||U)&&(Et(this.getVisibleSeries(this.visibleSeries,Z),N,null,!0),_=!0);_&&(this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),o=!0);break}case"indicators":o=!0;break;case"zoomSettings":(t.zoomSettings.enableScrollbar||i.zoomSettings.enableScrollbar)&&(o=!0),s=!0;break;case"background":s=!0;break;case"chartArea":t.chartArea.border&&t.chartArea.border.width&&(o=!0),s=!0;break;case"legendSettings":(!t.legendSettings.background||!t.legendSettings.opacity)&&(o=!0),s=!0;break;case"palettes":this.calculateVisibleSeries(),s=!0;break;case"selectedDataIndexes":this.selectionModule?(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.selectedDataIndexes=this.selectedDataIndexes,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode,!0)):this.highlightModule&&(this.highlightModule.currentMode=this.highlightMode,this.highlightModule.highlightDataIndexes=this.selectedDataIndexes,this.highlightModule.styleId=this.element.id+"_ej2_chart_highlight",this.highlightModule.redrawSelection(this,i.selectionMode,!0));break;case"selectionMode":this.selectionModule&&t.selectionMode&&t.selectionMode.indexOf("Drag")===-1&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode,!0));break;case"isMultiSelect":this.selectionModule&&!t.isMultiSelect&&this.selectionModule.selectedDataIndexes.length>1&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode));break;case"highlightMode":case"selectionPattern":case"highlightPattern":this.removeStyles(),s=!0;break;case"theme":this.animateSeries=!0;break;case"enableRtl":case"locale":case"currencyCode":this.isBlazor?(this.setCulture(),s=!0):this.refresh();break;case"tooltip":this.tooltipModule&&(this.tooltipModule.previousPoints=[],this.tooltip.template&&(this.tooltipModule.template=this.tooltip.template));break}}!o&&s&&(this.rotatedDataLabelCollections=[],this.removeSvg(),this.renderElements(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),o&&(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.isReact&&this.clearTemplate(),this.dragY=null,this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}),this.redraw=!1,this.animated=!1)}this.zoomRedraw=!1},de([K(null)],e.prototype,"width",void 0),de([K(null)],e.prototype,"height",void 0),de([K("")],e.prototype,"title",void 0),de([K("")],e.prototype,"dataSource",void 0),de([He({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Ra)],e.prototype,"titleStyle",void 0),de([K("")],e.prototype,"subTitle",void 0),de([He({fontFamily:null,size:null,fontStyle:null,fontWeight:null,color:null},Ra)],e.prototype,"subTitleStyle",void 0),de([He({},Yo)],e.prototype,"margin",void 0),de([He({color:"#DDDDDD",width:0},gs)],e.prototype,"border",void 0),de([K(null)],e.prototype,"background",void 0),de([He({border:{color:null,width:.5},background:"transparent"},sc)],e.prototype,"chartArea",void 0),de([K(!1)],e.prototype,"enableHtmlSanitizer",void 0),de([He({name:"primaryXAxis"},As)],e.prototype,"primaryXAxis",void 0),de([He({name:"primaryYAxis"},As)],e.prototype,"primaryYAxis",void 0),de([fi([{}],nc)],e.prototype,"rows",void 0),de([fi([{}],ac)],e.prototype,"columns",void 0),de([fi([{}],As)],e.prototype,"axes",void 0),de([fi([{}],Ct)],e.prototype,"series",void 0),de([fi([{}],oc)],e.prototype,"annotations",void 0),de([K([])],e.prototype,"palettes",void 0),de([K("Material")],e.prototype,"theme",void 0),de([He({},lc)],e.prototype,"tooltip",void 0),de([He({},qc)],e.prototype,"crosshair",void 0),de([He({},hc)],e.prototype,"legendSettings",void 0),de([fi([{}],Uc)],e.prototype,"rangeColorSettings",void 0),de([He({},Zc)],e.prototype,"zoomSettings",void 0),de([K("")],e.prototype,"highlightColor",void 0),de([K("None")],e.prototype,"selectionMode",void 0),de([K("None")],e.prototype,"highlightMode",void 0),de([K("None")],e.prototype,"selectionPattern",void 0),de([K("None")],e.prototype,"highlightPattern",void 0),de([K(!1)],e.prototype,"isMultiSelect",void 0),de([K(!1)],e.prototype,"allowMultiSelection",void 0),de([K(!0)],e.prototype,"enableExport",void 0),de([K(!1)],e.prototype,"allowExport",void 0),de([fi([],cc)],e.prototype,"selectedDataIndexes",void 0),de([K(!1)],e.prototype,"useGroupingSeparator",void 0),de([K(!1)],e.prototype,"enableAutoIntervalOnBothAxis",void 0),de([K(!1)],e.prototype,"isTransposed",void 0),de([K(!1)],e.prototype,"enableCanvas",void 0),de([K(null)],e.prototype,"backgroundImage",void 0),de([fi([],Ha)],e.prototype,"indicators",void 0),de([K(!0)],e.prototype,"enableAnimation",void 0),de([K(null)],e.prototype,"description",void 0),de([K(1)],e.prototype,"tabIndex",void 0),de([K(!0)],e.prototype,"enableSideBySidePlacement",void 0),de([Ee()],e.prototype,"resized",void 0),de([Ee()],e.prototype,"beforeResize",void 0),de([Ee()],e.prototype,"annotationRender",void 0),de([Ee()],e.prototype,"beforePrint",void 0),de([Ee()],e.prototype,"loaded",void 0),de([Ee()],e.prototype,"beforeExport",void 0),de([Ee()],e.prototype,"afterExport",void 0),de([Ee()],e.prototype,"load",void 0),de([Ee()],e.prototype,"animationComplete",void 0),de([Ee()],e.prototype,"legendRender",void 0),de([Ee()],e.prototype,"textRender",void 0),de([Ee()],e.prototype,"pointRender",void 0),de([Ee()],e.prototype,"seriesRender",void 0),de([Ee()],e.prototype,"axisLabelRender",void 0),de([Ee()],e.prototype,"axisLabelClick",void 0),de([Ee()],e.prototype,"axisRangeCalculated",void 0),de([Ee()],e.prototype,"axisMultiLabelRender",void 0),de([Ee()],e.prototype,"legendClick",void 0),de([Ee()],e.prototype,"multiLevelLabelClick",void 0),de([Ee()],e.prototype,"tooltipRender",void 0),de([Ee()],e.prototype,"sharedTooltipRender",void 0),de([Ee()],e.prototype,"chartMouseMove",void 0),de([Ee()],e.prototype,"chartMouseClick",void 0),de([Ee()],e.prototype,"chartDoubleClick",void 0),de([Ee()],e.prototype,"pointClick",void 0),de([Ee()],e.prototype,"pointDoubleClick",void 0),de([Ee()],e.prototype,"pointMove",void 0),de([Ee()],e.prototype,"chartMouseLeave",void 0),de([Ee()],e.prototype,"chartMouseDown",void 0),de([Ee()],e.prototype,"chartMouseUp",void 0),de([Ee()],e.prototype,"dragComplete",void 0),de([Ee()],e.prototype,"selectionComplete",void 0),de([Ee()],e.prototype,"zoomComplete",void 0),de([Ee()],e.prototype,"onZooming",void 0),de([Ee()],e.prototype,"scrollStart",void 0),de([Ee()],e.prototype,"scrollEnd",void 0),de([Ee()],e.prototype,"scrollChanged",void 0),de([Ee()],e.prototype,"dragStart",void 0),de([Ee()],e.prototype,"drag",void 0),de([Ee()],e.prototype,"dragEnd",void 0),de([K("USD")],e.prototype,"currencyCode",void 0),e=de([Zs],e),e}($s),Kc=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),pl=function(a){Kc(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.calculateDateTimeNiceInterval=function(t,i,s,o,c){c===void 0&&(c=!0);var f=24*60*60*1e3,m=new Date(s),b=new Date(o),S=Math.abs((m.getTime()-b.getTime())/f),k;t.actualIntervalType=t.intervalType;var L=t.intervalType;switch(L){case"Years":k=this.calculateNumericNiceInterval(t,S/365,i);break;case"Quarter":k=this.calculateNumericNiceInterval(t,S/365*4,i);break;case"Months":k=this.calculateNumericNiceInterval(t,S/30,i);break;case"Weeks":k=this.calculateNumericNiceInterval(t,S/7,i);break;case"Days":k=this.calculateNumericNiceInterval(t,S,i);break;case"Hours":k=this.calculateNumericNiceInterval(t,S*24,i);break;case"Minutes":k=this.calculateNumericNiceInterval(t,S*24*60,i);break;case"Seconds":k=this.calculateNumericNiceInterval(t,S*24*60*60,i);break;case"Auto":return k=this.calculateNumericNiceInterval(t,S/365,i),k>=1?(t.actualIntervalType="Years",k):(k=this.calculateNumericNiceInterval(t,S/30,i),k>=1?(t.actualIntervalType="Months",k):(k=this.calculateNumericNiceInterval(t,S/7,i),k>=1&&!c?(t.actualIntervalType="Weeks",k):(k=this.calculateNumericNiceInterval(t,S,i),k>=1?(t.actualIntervalType="Days",k):(k=this.calculateNumericNiceInterval(t,S*24,i),k>=1?(t.actualIntervalType="Hours",k):(k=this.calculateNumericNiceInterval(t,S*24*60,i),k>=1?(t.actualIntervalType="Minutes",k):(k=this.calculateNumericNiceInterval(t,S*24*60*60,i),t.actualIntervalType="Seconds",k))))))}return k},e.prototype.getSkeleton=function(t,i,s,o){var c,f=t.actualIntervalType;return t.skeleton?t.skeleton:(f==="Years"?o?c=(t.isChart&&t.valueType==="DateTime","y"):c=t.isChart?t.valueType==="DateTime"&&t.isIntervalInDecimal?"y":"yMMM":"y":f==="Quarter"?c=o?"y":"yMMM":f==="Months"?o?c=(t.isChart,"m"):c=t.isChart?"MMMd":"MMM":f==="Weeks"?c=o?"m":"MEd":f==="Days"?o?c="d":c=t.isChart?t.valueType==="DateTime"?"MMMd":"yMd":"MMMd":f==="Hours"?o?c="t":c=t.isChart?t.valueType==="DateTime"?"Hm":"EHm":"h":f==="Minutes"?o?c="T":c=t.isChart?"Hms":"hm":o?c="T":c=t.isChart?"Hms":"hms",c)},e.prototype.findCustomFormats=function(t){var i=t.labelFormat?t.labelFormat:"";return t.isChart&&!t.skeleton&&t.actualIntervalType==="Months"&&!i&&(i=t.valueType==="DateTime"?"MMM yyyy":"yMMM"),i},e}(dc),Jc=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gl=function(a){Jc(e,a);function e(t){return a.call(this,t)||this}return e.prototype.calculateRangeAndInterval=function(t,i){this.calculateRange(i),this.getActualRange(i,t),this.applyRangePadding(i,t),this.calculateVisibleLabels(i,this.chart)},e.prototype.getActualRange=function(t,i){var s={skeleton:"full",type:"dateTime"},o=this.chart.intl.getDateParser(s),c=this.chart.intl.getDateFormat(s);t.minimum!==null?this.min=this.chart.isBlazor?Date.parse(t.minimum.toString()):Date.parse(o(c(new Date(_s.parse.parseJson({val:t.minimum}).val)))):(this.min===null||this.min===Number.POSITIVE_INFINITY)&&(this.min=Date.parse(o(c(new Date(1970,1,1))))),t.maximum!==null?this.max=this.chart.isBlazor?Date.parse(t.maximum.toString()):Date.parse(o(c(new Date(_s.parse.parseJson({val:t.maximum}).val)))):(this.max===null||this.max===Number.NEGATIVE_INFINITY)&&(this.max=Date.parse(o(c(new Date(1970,5,1))))),this.min===this.max&&(this.max=this.max+2592e6,this.min=this.min-2592e6),t.actualRange={},t.doubleRange=new Li(this.min,this.max);var f=this.calculateDateTimeNiceInterval(t,i,t.doubleRange.start,t.doubleRange.end);t.interval?t.actualRange.interval=t.interval:t.actualRange.interval=f,t.actualRange.min=t.doubleRange.start,t.actualRange.max=t.doubleRange.end},e.prototype.applyRangePadding=function(t,i){this.min=t.actualRange.min,this.max=t.actualRange.max;var s,o,c=t.actualRange.interval;if(!si(t)){var f=t.getRangePadding(this.chart);s=new Date(this.min),o=new Date(this.max);var m=t.actualIntervalType;if(f==="None")this.min=s.getTime(),this.max=o.getTime();else if(f==="Additional"||f==="Round")switch(m){case"Years":this.getYear(s,o,f,c);break;case"Months":this.getMonth(s,o,f,c);break;case"Days":this.getDay(s,o,f,c);break;case"Hours":this.getHour(s,o,f,c);break;case"Minutes":{var b=s.getMinutes()/c*c,S=o.getMinutes()+(s.getMinutes()-b);f==="Round"?(this.min=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),b,0).getTime(),this.max=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),S,59).getTime()):(this.min=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),b+-c,0).getTime(),this.max=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),S+c,0).getTime());break}case"Seconds":{var k=s.getSeconds()/c*c,L=o.getSeconds()+(s.getSeconds()-k);f==="Round"?(this.min=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),k,0).getTime(),this.max=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),L,0).getTime()):(this.min=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),k+-c,0).getTime(),this.max=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),L+c,0).getTime());break}}}t.actualRange.min=t.minimum!=null?this.min:this.min,t.actualRange.max=t.maximum!=null?this.max:this.max,t.actualRange.delta=t.actualRange.max-t.actualRange.min,t.doubleRange=new Li(t.actualRange.min,t.actualRange.max),this.calculateVisibleRange(i,t)},e.prototype.getYear=function(t,i,s,o){var c=t.getFullYear(),f=i.getFullYear();s==="Additional"?(this.min=new Date(c-o,1,1,0,0,0).getTime(),this.max=new Date(f+o,1,1,0,0,0).getTime()):(this.min=new Date(c,0,0,0,0,0).getTime(),this.max=new Date(f,11,30,23,59,59).getTime())},e.prototype.getMonth=function(t,i,s,o){var c=t.getMonth(),f=i.getMonth();s==="Round"?(this.min=new Date(t.getFullYear(),c,0,0,0,0).getTime(),this.max=new Date(i.getFullYear(),f,new Date(i.getFullYear(),i.getMonth(),0).getDate(),23,59,59).getTime()):(this.min=new Date(t.getFullYear(),c+-o,1,0,0,0).getTime(),this.max=new Date(i.getFullYear(),f+o,f===2?28:30,0,0,0).getTime())},e.prototype.getDay=function(t,i,s,o){var c=t.getDate(),f=i.getDate();s==="Round"?(this.min=new Date(t.getFullYear(),t.getMonth(),c,0,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),f,23,59,59).getTime()):(this.min=new Date(t.getFullYear(),t.getMonth(),c+-o,0,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),f+o,0,0,0).getTime())},e.prototype.getHour=function(t,i,s,o){var c=t.getHours()/o*o,f=i.getHours()+(t.getHours()-c);s==="Round"?(this.min=new Date(t.getFullYear(),t.getMonth(),t.getDate(),c,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),i.getDate(),f,59,59).getTime()):(this.min=new Date(t.getFullYear(),t.getMonth(),t.getDate(),c+-o,0,0).getTime(),this.max=new Date(i.getFullYear(),i.getMonth(),i.getDate(),f+o,0,0).getTime())},e.prototype.calculateVisibleRange=function(t,i){i.visibleRange={min:i.actualRange.min,max:i.actualRange.max,interval:i.actualRange.interval,delta:i.actualRange.delta};var s=pe(i.zoomingScrollBar)?!1:i.zoomingScrollBar.isLazyLoad;es(i)&&!s&&(i.calculateVisibleRangeOnZooming(),i.visibleRange.interval=i.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(i,t,i.visibleRange.min,i.visibleRange.max):i.visibleRange.interval),i.dateTimeInterval=this.increaseDateTimeInterval(i,i.visibleRange.min,i.visibleRange.interval).getTime()-i.visibleRange.min,i.triggerRangeRender(this.chart,i.visibleRange.min,i.visibleRange.max,i.visibleRange.interval)},e.prototype.calculateVisibleLabels=function(t,i){t.visibleLabels=[];var s=t.visibleRange.min,o,c,f=i.getModuleName()==="chart"?i.isBlazor:!1,m=t.visibleLabels;for(t.minimum===null&&(s=this.alignRangeStart(t,s,t.visibleRange.interval).getTime()),this.startValue&&this.startValue<s&&i.zoomModule&&i.zoomModule.isPanning?s=this.startValue:this.startValue=s;s<=t.visibleRange.max;){if(o=Et({},fs("properties",t.labelStyle),null,!0),c=m.length?t.visibleLabels[m.length-1].value:s,t.format=i.intl.getDateFormat({format:this.findCustomFormats(t)||this.blazorCustomFormat(t),type:Ut(t.skeletonType),skeleton:this.getSkeleton(t,s,c,f)}),t.startLabel=t.format(new Date(t.visibleRange.min)),t.endLabel=t.format(new Date(t.visibleRange.max)),rs(s,t.visibleRange)){var b=this.increaseDateTimeInterval(t,s,t.visibleRange.interval).getTime();b>t.visibleRange.max&&(t.endLabel=t.format(new Date(s))),Jo(i,s,t.format(new Date(s)),o,t)}var S=s;if(s=this.increaseDateTimeInterval(t,s,t.visibleRange.interval).getTime(),S===s)break}(t.actualIntervalType==="Months"||t.actualIntervalType==="Days")&&t.isChart&&(t.format=i.intl.getDateFormat({format:t.labelFormat||(t.actualIntervalType==="Months"&&!t.skeleton?"y MMM":""),type:Ut(t.skeletonType),skeleton:t.skeleton||(t.actualIntervalType==="Days"?"MMMd":"")})),t.getMaxLabelWidth&&t.getMaxLabelWidth(this.chart)},e.prototype.blazorCustomFormat=function(t){return this.chart.isBlazor?t.actualIntervalType==="Years"?t.isIntervalInDecimal?"yyyy":"MMM y":t.actualIntervalType==="Days"&&!t.isIntervalInDecimal?"ddd HH tt":"":""},e.prototype.increaseDateTimeInterval=function(t,i,s){var o=new Date(i);t.interval?(t.isIntervalInDecimal=s%1===0,t.visibleRange.interval=s):(s=Math.ceil(s),t.visibleRange.interval=s);var c=t.actualIntervalType;if(t.isIntervalInDecimal)switch(c){case"Years":return o.setFullYear(o.getFullYear()+s),o;case"Quarter":return o.setMonth(o.getMonth()+3*s),o;case"Months":return o.setMonth(o.getMonth()+s),o;case"Weeks":return o.setDate(o.getDate()+s*7),o;case"Days":return o.setDate(o.getDate()+s),o;case"Hours":return o.setHours(o.getHours()+s),o;case"Minutes":return o.setMinutes(o.getMinutes()+s),o;case"Seconds":return o.setSeconds(o.getSeconds()+s),o}else o=this.getDecimalInterval(o,s,c);return o},e.prototype.alignRangeStart=function(t,i,s){var o=new Date(i);switch(t.actualIntervalType){case"Years":{var c=Math.floor(Math.floor(o.getFullYear()/s)*s);return o=new Date(c,o.getMonth(),o.getDate(),0,0,0),o}case"Months":{var f=Math.floor(Math.floor(o.getMonth()/s)*s);return o=new Date(o.getFullYear(),f,o.getDate(),0,0,0),o}case"Days":{var m=Math.floor(Math.floor(o.getDate()/s)*s);return o=new Date(o.getFullYear(),o.getMonth(),m,0,0,0),o}case"Hours":{var b=Math.floor(Math.floor(o.getHours()/s)*s);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),b,0,0),o}case"Minutes":{var S=Math.floor(Math.floor(o.getMinutes()/s)*s);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),S,0,0),o}case"Seconds":{var k=Math.floor(Math.floor(o.getSeconds()/s)*s);return o=new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),k,0),o}}return o},e.prototype.getDecimalInterval=function(t,i,s){var o=Math.floor(i),c=i-o;switch(s){case"Years":{var f=Math.round(12*c);return t.setFullYear(t.getFullYear()+o),t.setMonth(t.getMonth()+f),t}case"Quarter":return t.setMonth(t.getMonth()+3*i),t;case"Months":{var m=Math.round(30*c);return t.setMonth(t.getMonth()+o),t.setDate(t.getDate()+m),t}case"Weeks":return t.setDate(t.getDate()+i*7),t;case"Days":{var b=Math.round(24*c);return t.setDate(t.getDate()+o),t.setHours(t.getHours()+b),t}case"Hours":{var S=Math.round(60*c);return t.setHours(t.getHours()+o),t.setMinutes(t.getMinutes()+S),t}case"Minutes":{var k=Math.round(60*c);return t.setMinutes(t.getMinutes()+o),t.setSeconds(t.getSeconds()+k),t}case"Seconds":{var L=Math.round(1e3*c);return t.setSeconds(t.getSeconds()+o),t.setMilliseconds(t.getMilliseconds()+L),t}}return t},e.prototype.getModuleName=function(){return"DateTime"},e.prototype.destroy=function(){},e}(pl),Qc=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ml=function(a){Qc(e,a);function e(t){return a.call(this,t)||this}return e.prototype.calculateRangeAndInterval=function(t,i){this.calculateRange(i),this.getActualRange(i,t),this.applyRangePadding(i,t),this.calculateVisibleLabels(i)},e.prototype.getActualRange=function(t,i){this.initializeDoubleRange(t),t.actualRange={},t.interval?t.actualRange.interval=Math.ceil(t.interval):t.actualRange.interval=Math.max(1,Math.floor(t.doubleRange.delta/fc(i,t))),t.actualRange.min=t.doubleRange.start,t.actualRange.max=t.doubleRange.end,t.actualRange.delta=t.doubleRange.delta},e.prototype.applyRangePadding=function(t,i){var s;t.series.forEach(function(c){s||(s=(c.type.indexOf("Column")>-1||c.type.indexOf("Bar")>-1)&&!(t.zoomFactor<1||t.zoomPosition>0)&&pe(t.minimum)&&pe(t.maximum))});var o=(t.labelPlacement==="BetweenTicks"||s)&&!this.chart.stockChart&&this.chart.chartAreaType!=="PolarRadar"?.5:0;o>0?(t.actualRange.min-=o,t.actualRange.max+=o):t.actualRange.max+=t.actualRange.max?0:.5,t.doubleRange=new Li(t.actualRange.min,t.actualRange.max),t.actualRange.delta=t.doubleRange.delta,this.calculateVisibleRange(i,t)},e.prototype.calculateVisibleLabels=function(t){t.visibleLabels=[],t.visibleRange.interval=t.visibleRange.interval<1?1:t.visibleRange.interval;var i=Math.ceil(t.visibleRange.min),s;(t.zoomFactor<1||t.zoomPosition>0)&&(i=t.visibleRange.min-t.visibleRange.min%t.visibleRange.interval);var o;for(t.startLabel=t.labels[Math.round(t.visibleRange.min)],t.endLabel=t.labels[Math.floor(t.visibleRange.max)];i<=t.visibleRange.max;i+=t.visibleRange.interval)s=Et({},fs("properties",t.labelStyle),null,!0),rs(i,t.visibleRange)&&t.labels.length>0&&(o=Math.round(i),Jo(this.chart,o,t.labels[o]?t.labels[o].toString():"",s,t));t.getMaxLabelWidth&&t.getMaxLabelWidth(this.chart)},e.prototype.getModuleName=function(){return"Category"},e.prototype.destroy=function(){},e}(pl),eu=function(){function a(e){this.chart=e}return a.prototype.enableComplexProperty=function(e){var t=[],i=[],s=e.xAxis.visibleRange,o=e.yAxis.visibleRange,c=e.points,f=e.clipRect,m=this.chart&&this.chart.zoomRedraw&&this.chart.redraw?this.previousX:Math.abs(s.delta/f.width),b=this.chart&&this.chart.zoomRedraw&&this.chart.redraw?this.previousY:Math.abs(o.delta/f.height),S=c[0]&&c[0].xValue>m?0:m,k=c[0]&&c[0].y>b?0:b;this.previousX=m,this.previousY=b;for(var L=0,I=0,_=0,N=c;_<N.length;_++){var U=N[_];U.symbolLocations=[],L=pe(U.xValue)?s.min:U.xValue,I=pe(U.yValue)?o.min:U.yValue,(Math.abs(S-L)>=m||Math.abs(k-I)>=b)&&(t.push(U),S=L,k=I)}for(var Z,V=0;V<t.length;V++)Z=t[V],!(pe(Z.x)||e.category==="Indicator"&&(isNaN(Z.xValue)||isNaN(Z.yValue)))&&i.push(Z);return i},a.prototype.getLineDirection=function(e,t,i,s,o,c){var f="";if(e!=null){var m=o(e.xValue,e.yValue,i.xAxis,i.yAxis,s,i),b=o(t.xValue,t.yValue,i.xAxis,i.yAxis,s,i);f=c+" "+m.x+" "+m.y+" L "+b.x+" "+b.y+" "}return f},a.prototype.appendLinePath=function(e,t,i){var s=this.appendPathElement(e,t,i);Qo(s.element,e.d,t.chart.redraw,s.previousDirection,s.chart.duration)},a.prototype.appendPathElement=function(e,t,i){var s=ye(e.id),o=t.chart,c=s?s.getAttribute("d"):null,f=t.chart.renderer.drawPath(e,new Int32Array([t.clipRect.x,t.clipRect.y]));return f&&f.setAttribute("clip-path",i),t.pathElement=f,t.chart.enableCanvas||t.seriesElement.appendChild(f),t.isRectSeries=!1,{element:s,previousDirection:c,chart:o}},a.prototype.addPath=function(e,t,i){var s=this.appendPathElement(e,t,i);if(s.previousDirection!==""&&e.d!==""){var o=s.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),c=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),f=Math.max(o.length,c.length),m=Math.min(o.length,c.length);if(o.length<c.length){for(var b=m;b<f;b++)c.length!==o.length&&o.push(o[o.length-1].replace("M","L"));ur(s.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>c.length){for(var b=m;b<f;b++)c.length!==o.length&&(t.removedPointIndex===t.points.length?c.push(c[c.length-1].replace("M","L")):c.splice(1,0,c[0].replace("M","L")));ur(s.element,c.join(""),t.chart.redraw,s.previousDirection,this.chart.duration,e.d)}else ur(s.element,e.d,t.chart.redraw,s.previousDirection,this.chart.duration)}},a.prototype.addAreaPath=function(e,t,i){var s=this.appendPathElement(e,t,i);if(s.previousDirection!==""&&e.d!==""){var o=s.previousDirection.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),c=e.d.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/g),f=Math.max(o.length,c.length),m=Math.min(o.length,c.length);if(m<c.length){for(var b=m;b<f;b++)c.length!==o.length&&c.length!==o.length&&(o.length===1?o.push(o[o.length-(e.id.indexOf("border")!==-1?1:2)].replace("M","L")):o.splice(o.length-1,0,o[o.length-(e.id.indexOf("border")!==-1?1:2)]));ur(s.element,e.d,t.chart.redraw,o.join(" "),this.chart.duration)}else if(o.length>c.length){for(var b=m;b<f;b++)c.length!==o.length&&(t.removedPointIndex===t.points.length?c.length===1?c.push(c[c.length-(e.id.indexOf("border")!==-1?1:2)].replace("M","L")):c.splice(c.length-1,0,c[c.length-(e.id.indexOf("border")!==-1?1:2)]):c.splice(1,0,c[1]?c[1]:c[0]));ur(s.element,c.join(""),t.chart.redraw,s.previousDirection,this.chart.duration,e.d)}else ur(s.element,e.d,t.chart.redraw,s.previousDirection,this.chart.duration)}},a.prototype.renderMarker=function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)},a.prototype.doProgressiveAnimation=function(e,t){var i=new ls({}),s=e.pathElement,o=s.getAttribute("stroke-dasharray"),c=e.pathElement.getTotalLength(),f;s.style.visibility="hidden",i.animate(s,{duration:t.duration===0&&Mr==="Enable"?1e3:t.duration,delay:t.delay,progress:function(m){s.style.visibility="visible",f=Math.abs(Math.round(m.timeStamp*c/m.duration)),s.setAttribute("stroke-dasharray",f+","+c)},end:function(){var m=ye(e.chart.element.id+"_Annotation_Collections");m&&(m.style.visibility="visible"),s.setAttribute("stroke-dasharray",o),s.style.visibility="",e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})},a.prototype.storePointLocation=function(e,t,i,s){var o=t.marker&&t.marker.width?t.marker.width:0,c=t.marker&&t.marker.height?t.marker.height:0;e.symbolLocations.push(s(e.xValue,e.yValue,t.xAxis,t.yAxis,i,t)),e.regions.push(new Ye(e.symbolLocations[0].x-o,e.symbolLocations[0].y-c,2*o,2*c))},a.prototype.withinYRange=function(e,t){return e.yValue>=t.visibleRange.min&&e.yValue<=t.visibleRange.max},a.prototype.GetStepLineDirection=function(e,t,i,s,o,c){s===void 0&&(s="L");var f=o.noRisers&&c?" M ":" L ";if(i==="Right")return s=o.noRisers&&c?"M":"L",s+" "+t.x+" "+e.y+" L "+e.x+" "+e.y+" ";if(i==="Center"){var m=t.x+(e.x-t.x)/2;return s+" "+m+" "+t.y+f+m+" "+e.y+" L "+e.x+" "+e.y+" "}else return s+" "+e.x+" "+t.y+f+e.x+" "+e.y+" "},a.prototype.getFirstLastVisiblePoint=function(e){for(var t=null,i=null,s=0,o=e;s<o.length;s++){var c=o[s];t===null&&c.visible&&(t=i=c),i=c.visible?c:i}return{first:t||e[0],last:i||e[e.length-1]}},a.prototype.getBorderDirection=function(e){var t=e.split(" ");return t.length>3&&!this.chart.stackingAreaSeriesModule&&!this.chart.stackingStepAreaSeriesModule?t.splice(t.length-4,3):(this.chart.stackingAreaSeriesModule||this.chart.stackingStepAreaSeriesModule)&&(t.splice(t.length/2+1,t.length/2+1),(t[t.length-1]==="L"||t[t.length-1]==="M")&&t.splice(t.length-1,1)),t.join(" ")},a.prototype.removeEmptyPointsBorder=function(e){var t=0,i=e.split(" "),s;if(i.length===4)return i.join(" ");do s=i.indexOf("M",t),s>-1&&(i.splice(s+1,3),t=s+1,s-6>0&&(i.splice(s-6,6),t-=6));while(s!==-1);return i.join(" ")},a.prototype.doLinearAnimation=function(e,t){var i=e.clipRectElement.childNodes[0].childNodes[0],s=e.chart.animated?e.chart.duration:t.duration,o=el("Linear"),c=+i.getAttribute("height"),f=+i.getAttribute("width"),m=+i.getAttribute("x"),b=e.chart.requireInvertedAxis?+i.getAttribute("height")+ +i.getAttribute("y"):+i.getAttribute("y"),S;if(i.style.visibility="hidden",this.animateRect(e,t,i,s,o,c,f,m,b,S),e.marker&&e.marker.visible&&e.symbolElement){var k=e.symbolElement.childNodes[0].childNodes[0];k.style.visibility="hidden",this.animateRect(e,t,k,s,o,c,f,m,b,S)}},a.prototype.animateRect=function(e,t,i,s,o,c,f,m,b,S){new ls({}).animate(i,{duration:s===0&&Mr==="Enable"?1e3:s,delay:t.delay,progress:function(k){i.style.visibility="visible",e.chart.requireInvertedAxis?(S=o(k.timeStamp,0,c,k.duration),i.setAttribute("transform","translate("+m+" "+b+") scale(1,"+S/c+") translate("+-m+" "+-b+")")):(S=o(k.timeStamp,0,f,k.duration),i.setAttribute("transform","translate("+m+" "+b+") scale("+S/f+", 1) translate("+-m+" "+-b+")"))},end:function(){var k=ye(e.chart.element.id+"_Annotation_Collections");k&&(k.style.visibility="visible"),i.setAttribute("transform","translate(0,0)"),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})},a}(),tu=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vl=function(a){tu(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.render=function(t,i,s,o,c,f){for(var m,b,S="",k=null,L="M",I=t.chart&&t.chart.chartAreaType==="PolarRadar",_=t.emptyPointSettings&&t.emptyPointSettings.mode==="Drop",N=I?pc:Pi,U=t.category==="TrendLine"?t.points:this.enableComplexProperty(t),Z=0,V=U;Z<V.length;Z++){var $=V[Z];$.regions=[],$.symbolLocations=[],$.visible&&tl(U[$.index-1],$,U[$.index+1],t)?(S+=this.getLineDirection(k,$,t,o,N,L),L=k?"L":L,k=$,this.storePointLocation($,t,o,N),S===""&&U.length===1&&(S="M "+$.symbolLocations[0].x+" "+$.symbolLocations[0].y)):(k=_?k:null,L=_?L:"M")}if(I&&t.isClosed){var Q=this.getFirstLastVisiblePoint(U);b=N(Q.last.xValue,Q.last.yValue,i,s,o,t),m=N(Q.first.xValue,Q.first.yValue,i,s,o,t),S=S.concat(L+" "+b.x+" "+b.y+" L "+m.x+" "+m.y)}var H=t.category==="Indicator"?t.chart.element.id+"_Indicator_"+t.index+"_"+t.name:t.category==="TrendLine"?t.chart.element.id+"_Series_"+t.sourceIndex+"_TrendLine_"+t.index:t.chart.element.id+"_Series_"+(t.index===void 0?t.category:t.index),re=new Rr(H,"none",t.width,t.interior,t.opacity,t.dashArray,S);this[c?"addPath":"appendLinePath"](re,t,""),f||this.renderMarker(t)},e.prototype.updateDirection=function(t,i){this.render(t,t.xAxis,t.yAxis,t.chart.requireInvertedAxis,!1,!0);for(var s=0;s<i.length;s++)t.marker&&t.marker.visible&&t.chart.markerRender.renderMarker(t,t.points[i[s]],t.points[i[s]].symbolLocations[0],null,!0),t.marker.dataLabel.visible&&t.chart.dataLabelModule&&(t.chart.dataLabelModule.commonId=t.chart.element.id+"_Series_"+t.index+"_Point_",t.chart.dataLabelModule.renderDataLabel(t,t.points[i[s]],null,t.marker.dataLabel))},e.prototype.doAnimation=function(t){var i=t.animation;this.doProgressiveAnimation(t,i)},e.prototype.getModuleName=function(){return"LineSeries"},e.prototype.destroy=function(){},e}(eu),iu=function(){function a(){}return a.prototype.getSideBySideInfo=function(e){if(e.chart.enableSideBySidePlacement&&!e.position&&this.getSideBySidePositions(e),e.columnWidthInPixel)return new Li(0,0);var t=e.type==="Histogram"||!e.chart.enableSideBySidePlacement?0:e.position,i=e.type==="Histogram"||!e.chart.enableSideBySidePlacement?1:e.rectCount;e.isRectSeries=!0;var s=e.chart.visibleSeries,o=e.chart.enableSideBySidePlacement?e.columnSpacing:0,c=e.columnWidth===null||isNaN(+e.columnWidth)?e.type==="Histogram"?1:.7:Math.min(e.columnWidth,1),f=gc(e.xAxis,s),m=f*c,b,S=t/i-.5,k=new Li(S,S+1/i);if(!(isNaN(k.start)||isNaN(k.end))){if(e.groupName&&e.type.indexOf("Stacking")===-1){var L=.7;e.chart.series.filter(function(U){U.columnWidth>L&&(L=U.columnWidth)});var I=f*L,_=new Li(k.start*I,k.end*I),N=(_.delta-(k.end*m-k.start*m))/2;k=new Li(_.start+N,_.end-N)}else k=new Li(k.start*m,k.end*m);b=o*k.delta,k=new Li(k.start+b/2,k.end-b/2)}return k},a.prototype.getRectangle=function(e,t,i,s,o){var c=Pi(e,t,o.xAxis,o.yAxis,o.chart.requireInvertedAxis),f=Pi(i,s,o.xAxis,o.yAxis,o.chart.requireInvertedAxis);return new Ye(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(f.x-c.x),Math.abs(f.y-c.y))},a.prototype.drawCylinder=function(e,t,i,s,o){var c=s.width,f=s.height;if(o.chart.enableCanvas){var m=o.chart.canvasRender.ctx,b=m;m.save();var S=hs(e.fill),k=s.x+o.clipRect.x,L=s.y+o.clipRect.y,I=2*Math.PI+.1,_=void 0,N=void 0,U=void 0,Z=void 0,V=void 0,$=void 0,Q=void 0,H=void 0,re=void 0,ie=void 0,ae=void 0,Ce=void 0,me=void 0,ke=void 0,Pe=void 0,Oe=void 0,le=void 0,Ae=void 0,Ue=void 0,Qe=0,wt=0,at=0,pt=0,Ge=0;m.fillStyle=Ui(S,.9),m.lineWidth=0,m.strokeStyle=Ui(S,.9),m.globalAlpha=e.opacity,i.isColumn?(Qe=k,wt=c+k,_=c/2,N=_/4,Z=U=k+_,ie=V=L-N,H=k,Q=k+c,$=re=L+f-N,le=Math.PI,Ae=-_,Ue=N,i.stacking&&(i.isLastSeries||(ie=V=L+N))):(pt=f+L,at=L,N=f/2,_=N/4,H=U=k+_,Q=Z=k+c+_,re=L+f,ie=L,$=V=L+N,Ge=Math.PI/2,le=Math.PI*1.5,i.stacking&&(i.isLastSeries||(Q=Z=k+c-_)),N=-N,_=-_,Ae=_,Ue=-N);var ve=Ui(S,.7),rt=m.createLinearGradient(Qe,at,wt,pt);rt.addColorStop(0,S),rt.addColorStop(.3,ve),rt.addColorStop(.7,ve),rt.addColorStop(1,S);for(var ct=1;ct<=4;ct++){var we=0;for(ct<4&&m.beginPath(),ct%2===0?(ae=Z,Ce=$,me=H,ke=ie):(ae=U,Ce=V,me=Q,ke=re),ct===4&&(_=Ae,N=Ue,m.fillStyle=rt),ct>2&&(we=Ge,I=le);we<=I;we+=.1)Pe=ae-_*Math.cos(we),Oe=Ce+N*Math.sin(we),we===0?m.moveTo(Pe,Oe):m.lineTo(Pe,Oe);ct>2&&m.lineTo(me,ke),ct!==3&&(m.stroke(),m.fill())}e.id.indexOf("Series")>=0&&(m.clip(),m.restore(),m=b)}else{var $e=o.chart,k=s.x,L=s.y,Tt=e.id,S=e.fill,Vt=S,ii=mc(S);ii||(S=hs(S));var Bt=0,Dt=0,gt=0,Ft=0,Nt=0,ci=0,Lt=void 0,Mt=void 0,Y=void 0,O=void 0,R=void 0,q=void 0,_=void 0,N=void 0,we=2;for(i.isColumn?(_=c/2,N=_/4,Lt=Y=k,Mt=N<L?L-N:i.stacking?L+N:L-N,O=Mt,Bt=2*_,Ft=N<L||f<2*N?f:i.stacking?f-2*N:f,R=Lt,q=N<L?Mt+f:f<Mt?f+Mt:i.stacking?f+(L-N):f+Mt,Nt=100,i.stacking&&(i.isLastSeries||(Mt=O=L+N,Ft=f<_/2?f:f-_/2))):(N=f/2,_=N/4,Mt=O=L,Lt=Y=Math.abs(k-_),Dt=2*N,gt=c,R=Lt+c,q=Mt,ci=100,i.stacking&&(i.isLastSeries||(R=Lt+c-_*2,gt=c-_*2))),At(this.element);we--;)e.d="M"+Lt.toString()+","+Mt.toString()+"a"+_.toString()+","+N.toString()+" 0 1,0 "+Bt.toString()+","+Dt.toString()+"a"+_.toString()+","+N.toString()+" 0 1,0 "+(-1*Bt).toString()+","+(-1*Dt).toString(),e.id=Tt+"_Region_"+we,e.fill=Ui(S,.9),we%2===0&&o.type!=="StackingBar100"&&o.type!=="StackingBar"&&o.type!=="Bar"&&(e.fill=e.fill+"10"),this.element=$e.renderer.drawPath(this.options,new Int32Array([o.clipRect.x,o.clipRect.y])),Be(o.chart.enableCanvas,o.seriesElement,this.element,$e.redraw),Lt=R,Mt=q;e.d="M"+Y.toString()+","+O.toString()+"a"+_.toString()+","+N.toString()+" 0 1,0 "+Bt.toString()+","+Dt.toString()+"l"+gt.toString()+" "+Ft.toString()+"a"+_.toString()+","+N.toString()+" 0 1,1 "+(-1*Bt).toString()+","+(-1*Dt).toString()+" z",e.id=Tt+"_Region_2",e.fill=Ui(S,.7);var te=void 0;if(Vt.indexOf("url")===-1){if(!document.getElementById(Tt)){te={id:Tt,x1:"0%",y1:"0%",x2:Nt.toString()+"%",y2:ci.toString()+"%"};var ue=[{colorStop:"0%",color:S},{colorStop:"30%",color:Ui(S,.7)},{colorStop:"70%",color:Ui(S,.7)},{colorStop:"100%",color:S}];this.drawGradient(te,ue,o)}e.fill="url(#"+te.id+")"}this.element=$e.renderer.drawPath(this.options,new Int32Array([o.clipRect.x,o.clipRect.y])),Be(o.chart.enableCanvas,o.seriesElement,this.element,$e.redraw)}},a.prototype.drawGradient=function(e,t,i){var s=i.chart,o=s.renderer.createDefs(),c="http://www.w3.org/2000/svg",f=document.createElementNS(c,"linearGradient");f.setAttribute("id",e.id),f.setAttribute("x1",e.x1),f.setAttribute("y1",e.y1),f.setAttribute("x2",e.x2),f.setAttribute("y2",e.y2);for(var m=0;m<t.length;m++){var b=document.createElementNS(c,"stop");b.setAttribute("offset",t[m].colorStop),b.setAttribute("stop-color",t[m].color),b.setAttribute("stop-opacity","1"),f.appendChild(b)}i.seriesElement.appendChild(o),o.appendChild(f)},a.prototype.getSideBySidePositions=function(e){for(var t=e.chart,i=0,s=t.columns;i<s.length;i++)for(var o=s[i],c=0,f=t.rows;c<f.length;c++){var m=f[c];this.findRectPosition(e.findSeriesCollection(o,m,!1))}},a.prototype.findRectPosition=function(e){for(var t=[],i={rectCount:0,position:null},s=0;s<e.length;s++){var o=e[s];if(o.type.indexOf("Stacking")!==-1||o.groupName!==""){var c=o.type.indexOf("Stacking")!==-1?o.stackingGroup:o.type+o.groupName;c?t[c]===void 0?(o.position=i.rectCount,t[c]=i.rectCount++):o.position=t[c]:i.position===null?(o.position=i.rectCount,i.position=i.rectCount++):o.position=i.position}else o.position=i.rectCount++}for(var s=0;s<e.length;s++){var o=e[s];o.rectCount=i.rectCount}},a.prototype.updateSymbolLocation=function(e,t,i){i.chart.requireInvertedAxis?this.updateYRegion(e,t,i):this.updateXRegion(e,t,i),i.type==="Histogram"&&(e.minimum=+e.x-i.histogramValues.binWidth/2,e.maximum=+e.x+i.histogramValues.binWidth/2)},a.prototype.updateXRegion=function(e,t,i){e.symbolLocations.push({x:t.x+t.width/2,y:i.seriesType==="BoxPlot"||i.seriesType.indexOf("HighLow")!==-1||e.yValue>=0==!i.yAxis.isAxisInverse?t.y:t.y+t.height}),this.getRegion(e,t,i),i.type==="RangeColumn"&&e.symbolLocations.push({x:t.x+t.width/2,y:t.y+t.height})},a.prototype.updateYRegion=function(e,t,i){e.symbolLocations.push({x:i.seriesType==="BoxPlot"||i.seriesType.indexOf("HighLow")!==-1||e.yValue>=0==!i.yAxis.isAxisInverse?t.x+t.width:t.x,y:t.y+t.height/2}),this.getRegion(e,t,i),i.type==="RangeColumn"&&e.symbolLocations.push({x:t.x,y:t.y+t.height/2})},a.prototype.renderMarker=function(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)},a.prototype.getRegion=function(e,t,i){if(e.y===0){var s=i.marker&&i.marker.width?i.marker.width:0,o=i.marker&&i.marker.height?i.marker.height:0;e.regions.push(new Ye(e.symbolLocations[0].x-s,e.symbolLocations[0].y-o,2*s,2*o))}else e.regions.push(t)},a.prototype.triggerEvent=function(e,t,i,s){var o={cancel:!1,name:Vs,series:e,point:t,fill:e.setPointColor(t,i),border:e.setBorderColor(t,s)};return e.chart.trigger(Vs,o),t.color=o.fill,o},a.prototype.drawRectangle=function(e,t,i,s){var o=e.chart,c=o.requireInvertedAxis?i.height:i.width;if(c<=0)return null;var f;t.y===0?f=this.calculateRoundedRectPath(i,0,0,0,0):f=this.calculateRoundedRectPath(i,e.cornerRadius.topLeft,e.cornerRadius.topRight,e.cornerRadius.bottomLeft,e.cornerRadius.bottomRight,o.requireInvertedAxis);var m=e.category==="Indicator"?o.element.id+"_Indicator_"+e.index+"_"+e.name+"_Point_"+t.index:o.element.id+"_Series_"+e.index+"_Point_"+(e.removedPointIndex!==null&&e.removedPointIndex<=t.index?t.index+1:t.index),b=Si(o.redraw,m),S=b?b.getAttribute("d"):"";switch(this.options=new Rr(m,s.fill,s.border.width,s.border.color,e.opacity,e.border.dashArray,e.columnFacet==="Cylinder"?"":f),this.element=o.renderer.drawPath(this.options,new Int32Array([e.clipRect.x,e.clipRect.y])),e.removedPointIndex!==null&&e.removedPointIndex<=t.index&&(this.element.id=o.element.id+"_Series_"+e.index+"_Point_"+t.index),e.seriesType){case"XY":this.element.setAttribute("role","img"),this.element.setAttribute("aria-label",t.x+":"+t.yValue+", "+e.name);break;case"HighLow":this.element.setAttribute("role","img"),this.element.setAttribute("aria-label",t.x+":"+t.high+", "+t.low+", "+e.name);break}e.columnFacet==="Cylinder"&&(o.redraw||!o.enableAnimation)&&e.seriesElement.querySelector("#"+this.element.id)||Be(e.chart.enableCanvas,e.seriesElement,this.element,o.redraw),e.chart.enableCanvas||Qo(this.element,e.columnFacet==="Cylinder"?"":f,o.redraw,S,o.duration)},a.prototype.animate=function(e){for(var t=e.seriesElement.childNodes,i=e.category==="Indicator"?0:1,s=Cr(e),o=0,c=s;o<c.length;o++){var f=c[o];if(!(!f.symbolLocations.length&&!(e.type==="BoxAndWhisker"&&f.regions.length)))if((e.type==="Column"||e.type==="Bar"||e.type==="StackingColumn"||e.type==="StackingColumn100"||e.type==="StackingBar"||e.type==="StackingBar100")&&e.columnFacet==="Cylinder")for(var m=0;m<t.length;m++)this.animateRect(t[m],e,f);else this.animateRect(t[i],e,f),i++}},a.prototype.animateRect=function(e,t,i){var s=t.animation,o=t.chart.animated?t.chart.duration:s.duration,c=el("Linear"),f=i.yValue<0,m,b,S=+i.regions[0].height,k=+i.regions[0].width,L,I;t.chart.requireInvertedAxis?(b=+i.regions[0].y,t.type.indexOf("Stacking")>-1?(m=mi(0,t.yAxis)*t.yAxis.rect.width,L=m,I=b):(m=+i.regions[0].x,I=f?b:b+S,L=t.seriesType.indexOf("HighLow")!==-1||t.type.indexOf("Waterfall")!==-1?m+k/2:f!==t.yAxis.isAxisInverse?m+k:m)):(m=+i.regions[0].x,t.type.indexOf("Stacking")>-1?(b=(1-mi(0,t.yAxis))*t.yAxis.rect.height,L=m,I=b):(b=+i.regions[0].y,I=t.seriesType.indexOf("HighLow")!==-1||t.type.indexOf("Waterfall")!==-1?b+S/2:f!==t.yAxis.isAxisInverse?b:b+S,L=f?m:m+k));var _;pe(e)||(e.style.visibility="hidden",new ls({}).animate(e,{duration:o===0&&Mr==="Enable"?1e3:o,delay:s.delay,progress:function(N){N.timeStamp>=N.delay&&(e.style.visibility="visible",t.chart.requireInvertedAxis?(k=k||1,_=c(N.timeStamp-N.delay,0,k,N.duration),e.setAttribute("transform","translate("+L+" "+I+") scale("+_/k+", 1) translate("+-L+" "+-I+")")):(S=S||1,_=c(N.timeStamp-N.delay,0,S,N.duration),e.setAttribute("transform","translate("+L+" "+I+") scale(1,"+_/S+") translate("+-L+" "+-I+")")))},end:function(){var N=document.getElementById(t.chart.element.id+"_Annotation_Collections");N&&(N.style.visibility="visible"),e.setAttribute("transform","translate(0,0)");var U=t.seriesElement;if((e===U.lastElementChild||i.index===t.points.length-1||t.type==="Waterfall"&&e===U.children[U.childElementCount-2])&&(t.chart.trigger("animationComplete",{series:t.chart.isBlazor?{}:t}),t.type==="Waterfall"))for(var Z=U.childNodes,V=0;V<Z.length;V++)Z[V].id.indexOf("Connector")!==-1&&(Z[V].style.visibility="visible",Z[V].setAttribute("transform","translate(0,0)"))}}))},a.prototype.calculateRoundedRectPath=function(e,t,i,s,o,c){c===void 0&&(c=!1);var f=c?e.width/2:e.height/2;return t=Math.min(t,f),i=Math.min(i,f),s=Math.min(s,f),o=Math.min(o,f),"M "+e.x+" "+(t+e.y)+" Q "+e.x+" "+e.y+" "+(e.x+t)+" "+e.y+" L "+(e.x+e.width-i)+" "+e.y+" Q "+(e.x+e.width)+" "+e.y+" "+(e.x+e.width)+" "+(e.y+i)+" L "+(e.x+e.width)+" "+(e.y+e.height-o)+" Q "+(e.x+e.width)+" "+(e.y+e.height)+" "+(e.x+e.width-o)+" "+(e.y+e.height)+" L "+(e.x+s)+" "+(e.y+e.height)+" Q "+e.x+" "+(e.y+e.height)+" "+e.x+" "+(e.y+e.height-s)+" L "+e.x+" "+(t+e.y)+" Z"},a}(),ru=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yl=function(a){ru(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.sideBySideInfo=[],t}return e.prototype.render=function(t){this.sideBySideInfo[t.index]=this.getSideBySideInfo(t);for(var i=Math.max(t.yAxis.visibleRange.min,0),s=0,o=t.points;s<o.length;s++){var c=o[s];this.renderPoint(t,c,this.sideBySideInfo[t.index],i)}this.renderMarker(t)},e.prototype.renderPoint=function(t,i,s,o){if(i.symbolLocations=[],i.regions=[],i.visible&&tl(t.points[i.index-1],i,t.points[i.index+1],t)){this.rect=this.getRectangle(i.xValue+s.start,i.yValue,i.xValue+s.end,o,t),this.rect.width=t.columnWidthInPixel?t.columnWidthInPixel-(t.chart.enableSideBySidePlacement?t.columnWidthInPixel*t.columnSpacing:0):this.rect.width,this.rect.x=t.columnWidthInPixel?this.rect.x-(t.columnWidthInPixel/2*t.rectCount-t.columnWidthInPixel*t.index):this.rect.x;var c=t.category==="Indicator"?i.color:t.interior,f=this.triggerEvent(t,i,c,{width:t.border.width,color:t.border.color});if(!f.cancel&&(this.updateSymbolLocation(i,this.rect,t),this.drawRectangle(t,i,this.rect,f),t.columnFacet==="Cylinder")){var m={isColumn:!0,stacking:!1,isLastSeries:!0};this.drawCylinder(this.options,this.element,m,this.rect,t)}}},e.prototype.updateDirection=function(t,i){for(var s=Math.max(t.yAxis.visibleRange.min,0),o=0;o<i.length;o++)this.renderPoint(t,t.points[i[o]],this.sideBySideInfo[t.index],s),t.marker&&t.marker.visible&&t.chart.markerRender.renderMarker(t,t.points[i[o]],t.points[i[o]].symbolLocations[0],null,!0),t.marker.dataLabel.visible&&t.chart.dataLabelModule&&(t.chart.dataLabelModule.commonId=t.chart.element.id+"_Series_"+t.index+"_Point_",t.chart.dataLabelModule.renderDataLabel(t,t.points[i[o]],null,t.marker.dataLabel))},e.prototype.doAnimation=function(t){this.animate(t)},e.prototype.getModuleName=function(){return"ColumnSeries"},e.prototype.destroy=function(){},e}(iu),su=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),bl=function(a){su(e,a);function e(t){var i=a.call(this,t)||this;return i.commonXvalues=[],i.addEventListener(),i}return e.prototype.addEventListener=function(){if(!this.chart.isDestroyed){var t=ze.isPointer?"pointerleave":"mouseleave";this.chart.on(t,this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this),this.chart.on(ze.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(ze.touchEndEvent,this.mouseUpHandler,this)}},e.prototype.mouseUpHandler=function(){var t=this.control,i=this.getData();i.lierIndex=this.lierIndex,t.isTouch&&!this.isSelected(t)&&($t(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)&&t.tooltip.shared||!t.tooltip.shared)?t.crosshair.enable?t.startMove&&t.tooltip.fadeOutMode==="Move"&&this.removeTooltip(2e3):(this.tooltip(),t.tooltip.fadeOutMode==="Move"&&this.removeTooltip(t.tooltip.fadeOutDuration)):!this.findData(i,this.previousPoints[0])&&t.tooltip.fadeOutMode==="Click"&&this.removeTooltip(0)},e.prototype.mouseLeaveHandler=function(){this.removeTooltip(this.chart.tooltip.fadeOutDuration)},e.prototype.mouseMoveHandler=function(){var t=this.chart;t.stockChart&&t.stockChart.onPanning&&(t.mouseY<t.chartAxisLayoutPanel.seriesClipRect.y?t.mouseY=t.chartAxisLayoutPanel.seriesClipRect.y:t.mouseY>t.chartAxisLayoutPanel.seriesClipRect.y+t.chartAxisLayoutPanel.seriesClipRect.height&&(t.mouseY=t.chartAxisLayoutPanel.seriesClipRect.y+t.chartAxisLayoutPanel.seriesClipRect.height)),!t.disableTrackTooltip&&!this.isSelected(t)&&(!t.tooltip.shared&&(!t.isTouch||t.startMove)&&this.tooltip(),$t(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?t.tooltip.shared&&(!t.isTouch||t.startMove)&&this.tooltip():t.tooltip.shared&&t.tooltip.fadeOutMode==="Move"&&this.removeTooltip(this.chart.tooltip.fadeOutDuration))},e.prototype.longPress=function(){var t=this.chart;return t.crosshair.enable&&$t(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)&&(this.tooltip(),t.markerRender.markerMove(!1)),!1},e.prototype.tooltip=function(){var t=this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg",i=this.getElement(t),s=this.chart.stockChart&&i&&i.firstChild.childNodes.length>1,o=i&&parseInt(i.getAttribute("opacity"),10)>0&&!s,c=this.getTooltipElement(o);this.chart.enableCanvas&&c&&(document.getElementById(this.chart.element.id+"_Secondary_Element").appendChild(c),c.appendChild(document.getElementById(this.chart.element.id+"_tooltip_svg"))),this.chart.tooltip.shared?this.renderGroupedTooltip(this.chart,!o,c):this.renderSeriesTooltip(this.chart,!o,c)},e.prototype.findHeader=function(t){return this.header===""?"":(this.header=this.parseTemplate(t.point,t.series,this.header,t.series.xAxis,t.series.yAxis),this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()!==""?this.header:"")},e.prototype.findShapes=function(){if(!this.chart.tooltip.enableMarker)return[];for(var t=[],i=0,s=this.currentPoints;i<s.length;i++){var o=s[i];t.push(o.point.marker.shape||o.series.marker.shape||"Circle")}return t},e.prototype.renderSeriesTooltip=function(t,i,s){var o=this.getData();if(o.lierIndex=this.lierIndex,this.currentPoints=[],this.findData(o,this.previousPoints[0])){if(!(t.dataEditingModule&&t.dataEditingModule.isPointDragging)&&this.previousPoints[0]&&o.point.index===this.previousPoints[0].point.index&&o.series.index===this.previousPoints[0].series.index)return null;this.pushData(o,i,s,!0)&&this.triggerTooltipRender(o,i,this.getTooltipText(o),this.findHeader(o))}else if(!o.point&&this.isRemove&&t.tooltip.fadeOutMode==="Move")this.removeTooltip(this.chart.tooltip.fadeOutDuration),this.isRemove=!1;else for(var c=this.mergeXvalues(this.chart.visibleSeries),f=0,m=t.visibleSeries;f<m.length;f++){var b=m[f];b.visible&&b.category!=="TrendLine"&&(o=this.getClosestX(t,b,c)||o)}o&&o.point&&this.findMouseValue(o,t)},e.prototype.triggerTooltipRender=function(t,i,s,o){var c=this,f,m={cancel:!1,name:Ia,text:s,headerText:o,template:f,series:this.chart.isBlazor?{}:t.series,textStyle:this.textStyle,point:t.point,data:{pointX:t.point.x,pointY:t.point.y,seriesIndex:t.series.index,seriesName:t.series.name,pointIndex:t.point.index,pointText:t.point.text}},b=this.chart.border.width,S=3,k=this.chart.tooltip,L=function(I){if(I.cancel)c.removeHighlight(),At(c.getElement(c.element.id+"_tooltip"));else{t.series.type==="BoxAndWhisker"&&(c.removeText(),i=!0),c.headerText=I.headerText,c.formattedText=c.formattedText.concat(I.text),c.text=c.formattedText;var _=c.getSymbolLocation(t);_=_||new Ze(null,null),_.x=k.location.x!==null?k.location.x:_.x,_.y=k.location.y!==null?k.location.y:_.y,_=_.x===null&&_.y===null?null:_,c.createTooltip(c.chart,i,_,t.series.clipRect,t.point,c.findShapes(),c.findMarkerHeight(c.currentPoints[0]),new Ye(b,b,c.chart.availableSize.width-S-b*2,c.chart.availableSize.height-S-b*2),c.chart.crosshair.enable,null,c.getTemplateText(t),c.template?I.template:"")}c.isRemove=!0};L.bind(this,t),this.chart.trigger(Ia,m,L)},e.prototype.findMarkerHeight=function(t){var i=0,s=t.series;return i=(s.marker.visible||this.chart.tooltip.shared&&(!s.isRectSeries||s.marker.visible)||s.type==="Scatter"||s.drawType==="Scatter")&&!(s.type==="Candle"||s.type==="Hilo"||s.type==="HiloOpenClose")?(s.marker.height+2)/2+2*s.marker.border.width:0,i},e.prototype.findData=function(t,i){return t.point&&(!i||i.point!==t.point||i&&i.lierIndex>3&&i.lierIndex!==this.lierIndex||i.point===t.point)},e.prototype.getSymbolLocation=function(t){var i;if(t.series.type!=="BoxAndWhisker"){if(!t.point.symbolLocations[0])return null;i=new Ze(t.point.symbolLocations[0].x,t.point.symbolLocations[0].y)}switch(t.series.type){case"BoxAndWhisker":return this.getBoxLocation(t);case"Waterfall":return this.getWaterfallRegion(t,i);case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"RangeColumn":return this.getRangeArea(t,i);default:return i}},e.prototype.getRangeArea=function(t,i){return t.point.regions[0]&&(this.inverted?i.x=t.point.regions[0].x+t.point.regions[0].width/2:i.y=t.point.regions[0].y+t.point.regions[0].height/2,t.series.type==="RangeStepArea"&&(i.y=t.point.regions[0].y+t.point.regions[0].height/2+t.point.regions[0].width)),i},e.prototype.getWaterfallRegion=function(t,i){return this.inverted?i.x=t.point.y<0?i.x+(this.chart.enableRtl?-t.point.regions[0].width:t.point.regions[0].width):i.x:i.y=t.point.y<0?i.y-t.point.regions[0].height:i.y,i},e.prototype.getTooltipText=function(t){var i=t.series;return this.parseTemplate(t.point,i,this.getFormat(this.chart,i),i.xAxis,i.yAxis)},e.prototype.getTemplateText=function(t){if(this.template=this.chart.enableHtmlSanitizer?this.chart.sanitize(this.template):this.template,this.template&&this.chart.tooltip.shared){for(var i=[],s=0;s<t.length;s++)i[s]=Et({},t[s].point),i[s].x=this.formatPointValue(t[s].point,t[s].series.xAxis,"x",!0,!1),t[s].series.seriesType==="XY"?i[s].y=this.formatPointValue(t[s].point,t[s].series.yAxis,"y",!1,!0):(i[s].low=this.formatPointValue(t[s].point,t[s].series.yAxis,"low",!1,!0),i[s].high=this.formatPointValue(t[s].point,t[s].series.yAxis,"high",!1,!0));return i}else if(this.template){var i=Et({},t.point);return i.x=this.formatPointValue(t.point,t.series.xAxis,"x",!0,!1),t.series.seriesType==="XY"?i.y=this.formatPointValue(t.point,t.series.yAxis,"y",!1,!0):(i.low=this.formatPointValue(t.point,t.series.yAxis,"low",!1,!0),i.high=this.formatPointValue(t.point,t.series.yAxis,"high",!1,!0)),i}else return t.point},e.prototype.findMouseValue=function(t,i){i.requireInvertedAxis?(this.valueY=(1-mi(t.point.xValue,t.series.xAxis))*t.series.xAxis.rect.height+t.series.xAxis.rect.y,this.valueX=i.mouseX):(i.chartAreaType==="PolarRadar"?this.valueX=vc(t.point.xValue,t.series.xAxis)*t.series.xAxis.rect.width+t.series.xAxis.rect.x:this.valueX=t.series.category==="TrendLine"&&i.tooltip.shared?this.valueX:mi(t.point.xValue,t.series.xAxis)*t.series.xAxis.rect.width+t.series.xAxis.rect.x,this.valueY=i.mouseY)},e.prototype.renderGroupedTooltip=function(t,i,s){var o,c=[],f,m=t.chartAreaType==="PolarRadar"?this.getData():null;this.stopAnimation(),this.removeHighlight(),this.currentPoints=[];var b=[],S=Number.MAX_VALUE,k=Number.MAX_VALUE,L,I,_;i&&(t.stockChart?s&&!il(s.id)&&document.getElementById(t.stockChart.element.id+"_Secondary_Element").appendChild(s):s&&document.getElementById(this.element.id+"_Secondary_Element").appendChild(s)),this.removeText();for(var N={text:[],cancel:!1,name:mn,data:[],point:[],series:[],headerText:"",textStyle:this.textStyle,template:[]},U=0,Z=0,V=t.visibleSeries;Z<V.length;Z++){var $=V[Z];!$.enableTooltip||!$.visible||(t.chartAreaType==="Cartesian"&&$.visible?o=this.getClosestX(t,$,this.commonXValue(this.chart.visibleSeries)):t.chartAreaType==="PolarRadar"&&$.visible&&m.point!==null&&(o=new qo($.points[m.point.index],$)),t.tooltip.showNearestPoint&&!o&&(o=this.getClosestX(t,$,this.commonXValue([$]))),o&&(N.data.push({pointX:o.point.x,pointY:o.point.y,seriesIndex:o.series.index,seriesName:o.series.name,pointIndex:o.point.index,pointText:o.point.text}),N.series[U]=o.series,N.point[U]=o.point,N.headerText=this.findHeader(o),this.currentPoints.push(o),this.template!=null&&N.template.push(t.enableHtmlSanitizer?t.sanitize(this.template.toString()):this.template.toString()),N.text.push(this.getTooltipText(o)),L=t.requireInvertedAxis?t.mouseY-o.series.clipRect.y:t.mouseX-o.series.clipRect.x,I=t.mouseY-o.series.clipRect.y,o.point.symbolLocations&&o.point.symbolLocations.length&&Math.abs(L-o.point.symbolLocations[0].x)<=S&&Math.abs(o.point.symbolLocations[0].y-I)<Math.abs(k-I)&&(S=Math.abs(L-o.point.symbolLocations[0].x),k=o.point.symbolLocations[0].y,_=o),f=o.series.category==="TrendLine"&&t.tooltip.shared?f:_||o,c.push(o)),U++)}if(!t.tooltip.showNearestPoint){var Q=[];this.currentPoints=[],N.point=[],N.series=[],N.data=[],N.text=[];for(var H=0,re=c;H<re.length;H++){var ie=re[H];(ie.point.symbolLocations[0].x===f.point.symbolLocations[0].x||(ie.series.type.indexOf("Column")!==-1||f.series.type.indexOf("Column")!==-1)&&ie.point.xValue===f.point.xValue)&&(N.point.push(ie.point),N.series.push(ie.series),N.text.push(this.getTooltipText(ie)),N.headerText=this.findHeader(ie),Q.push(ie),N.data.push({pointX:ie.point.x,pointY:ie.point.y,seriesIndex:ie.series.index,seriesName:ie.series.name,pointIndex:ie.point.index,pointText:ie.point.text}))}c=Q,this.currentPoints=Q}c.length>0&&this.currentPoints.length>0?this.triggerSharedTooltip(N,f,b,t,i,c):this.getElement(this.element.id+"_tooltip_path")&&this.getElement(this.element.id+"_tooltip_path").setAttribute("d","")},e.prototype.triggerSharedTooltip=function(t,i,s,o,c,f){var m=this,b=t.template,S={cancel:!1,name:mn,text:t.text,headerText:t.headerText,textStyle:t.textStyle,template:b,point:t.point,series:t.series,data:t.data},k=this.chart.border.width,L=3,I,_,N=[];o.stockChart&&(I=o.stockChart.enablePeriodSelector?o.stockChart.toolbarHeight:0,_=jt(this.chart.stockChart.title,this.chart.stockChart.titleStyle,this.chart.themeStyle.tooltipLabelFont).height+10);var U=function(Z){if(Z.cancel)It(m.element.id+"_tooltip"),s.push(i);else{i.series.type==="BoxAndWhisker"&&(m.removeText(),c=!0);for(var V=0;V<Z.text.length;V++)Z.text[V]&&N.push(m.currentPoints[V]);m.currentPoints=N,m.formattedText=m.formattedText.concat(Z.text),m.text=Z.text,m.headerText=Z.headerText,typeof Z.template!="object"?(Z.template=Z.template.split(","),Z.template.length>N.length&&(Z.template=Z.template.splice(Z.template.length-1))):Z.template.length>N.length&&Z.template.splice(Z.template.length-1);var $=m.chart.tooltip;m.findMouseValue(i,m.chart);var Q=m.findSharedLocation();Q=Q||new Ze(null,null),Q.x=$.location.x!==null?$.location.x:Q.x,Q.y=$.location.y!==null?$.location.y:Q.y,Q=Q.x===null&&Q.y===null?null:Q,m.createTooltip(o,c,Q,m.currentPoints.length===1?m.currentPoints[0].series.clipRect:null,f.length===1?f[0].point:null,m.findShapes(),m.findMarkerHeight(m.currentPoints[0]),new Ye(k,o.stockChart?I+_+k:k,m.chart.availableSize.width-L-k*2,m.chart.availableSize.height-L-k*2),m.chart.crosshair.enable,s,m.template?m.getTemplateText(f):null,m.template?Z.template.join(""):""),i=null}};U.bind(this,i,s),this.chart.trigger(mn,S,U)},e.prototype.findSharedLocation=function(){var t=this.chart.stockChart;if(t){this.text.length===1&&this.text.push("");var i=t.enablePeriodSelector?t.toolbarHeight:0,s=document.getElementById(t.element.id+"_ChartTitle"),o=t.title!==""?s.getBoundingClientRect().height+10:0;return t.tooltip.position==="Nearest"?new Ze(this.valueX,this.valueY+i+o):new Ze(this.chart.chartAxisLayoutPanel.seriesClipRect.x+5,this.chart.chartAxisLayoutPanel.seriesClipRect.y+i+5+o)}else return this.currentPoints.length>1?new Ze(this.valueX,this.valueY):this.getSymbolLocation(this.currentPoints[0])},e.prototype.getBoxLocation=function(t){var i=this.lierIndex>3?t.point.outliers.length>0?t.point.symbolLocations[this.lierIndex-4]:null:{x:t.point.regions[0].x+t.point.regions[0].width/2,y:t.point.regions[0].y+t.point.regions[0].height/2};return i},e.prototype.parseTemplate=function(t,i,s,o,c){for(var f,m,b=RegExp,S=0,k=Object.keys(t);S<k.length;S++){var L=k[S];f=new b("${point."+L+"}","gm"),s=s.replace(f.source,this.formatPointValue(t,f.source==="${point.x}"?o:c,L,f.source==="${point.x}",f.source==="${point.high}"||f.source==="${point.open}"||f.source==="${point.close}"||f.source==="${point.low}"||f.source==="${point.y}"||f.source==="${point.minimum}"||f.source==="${point.maximum}"||f.source==="${point.outliers}"||f.source==="${point.upperQuartile}"||f.source==="${point.lowerQuartile}"||f.source==="${point.median}"))}for(var I=0,_=Object.keys(Object.getPrototypeOf(i));I<_.length;I++){var L=_[I];f=new b("${series."+L+"}","gm"),m=i[L],s=s.replace(f.source,m)}return s},e.prototype.formatPointValue=function(t,i,s,o,c){var f,m,b;if(i.valueType!=="Category"&&o){m=i.labelFormat&&i.labelFormat.match("{value}")!==null;var S=i.valueType==="Double"?+t[s]:t[s];f=m?i.labelFormat.replace("{value}",i.format(S)):i.format(S)}else if(c&&!pe(t[s]))m=i.labelFormat&&i.labelFormat.match("{value}")!==null,b=s==="outliers"?i.format(t[s][this.lierIndex-4]):i.format(+t[s]),f=m?i.labelFormat.replace("{value}",b):b;else if(s==="size"){var k=this.chart.intl.getNumberFormat({format:"",useGrouping:this.chart.useGroupingSeparator});f=typeof t[s]=="number"?k(t[s]):t[s]}else f=t[s];return f},e.prototype.getFormat=function(t,i){if(i.tooltipFormat)return i.seriesType==="XY"&&i.category==="Indicator"?this.getIndicatorTooltipFormat(i,t,t.tooltip.format):i.tooltipFormat;if(!i.tooltipFormat&&t.tooltip.format)return i.seriesType==="XY"&&i.category==="Indicator"?this.getIndicatorTooltipFormat(i,t,t.tooltip.format):t.tooltip.format;var s=i.type==="Histogram"?"${point.minimum}-${point.maximum}":"${point.x}",o=t.tooltip.shared?"${series.name}":s;switch(i.seriesType){case"XY":return i.category==="Indicator"&&this.getIndicatorTooltipFormat(i,t,t.tooltip.format),o+" : "+(i.type==="Bubble"?"<b>${point.y}</b>  Size : <b>${point.size}</b>":"<b>${point.y}</b>");case"HighLow":return o+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>";case"HighLowOpenClose":return o+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>";case"BoxPlot":return o+"<br/>"+(this.lierIndex>3?"Outliers : <b>${point.outliers}</b>":"Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>")}},e.prototype.getIndicatorTooltipFormat=function(t,i,s){var o;return t.seriesType==="XY"?o=t.name+" : <b>${point.y}</b>":o=s,o},e.prototype.removeHighlightedMarker=function(t,i){for(var s=0,o=t;s<o.length;s++){var c=o[s];It(this.element.id+"_Series_"+c.series.index+"_Point_"+c.point.index+"_Trackball"),this.chart.markerRender&&this.chart.markerRender.removeHighlightedMarker(c.series,c.point,i)}this.previousPoints=[]},e.prototype.getModuleName=function(){return"Tooltip"},e.prototype.destroy=function(){},e}(yc),xl=function(){function a(e){this.errorHeight=0,this.chart=e}return a.prototype.initPrivateVariables=function(e,t){var i="",s="",o=e.chart.renderer,c=e.index===void 0?e.category:e.index;e.chart.chartAreaType==="Cartesian"&&(i="translate("+e.clipRect.x+","+e.clipRect.y+")",s="url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+c+")"),t.dataLabel.visible&&!this.chart.enableCanvas&&(e.shapeElement=o.createGroup({id:this.chart.element.id+"ShapeGroup"+c,transform:i,"clip-path":"url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+c+")"}),e.textElement=o.createGroup({id:this.chart.element.id+"TextGroup"+c,transform:i,"clip-path":s}),e.textElement.setAttribute("aria-hidden","true")),this.markerHeight=e.type==="Scatter"||t.visible?t.height/2:0,this.commonId=this.chart.element.id+"_Series_"+c+"_Point_",this.calculateErrorHeight(e,e.marker.dataLabel.position),this.chartBackground=this.chart.chartArea.background==="transparent"?this.chart.background||this.chart.themeStyle.background:this.chart.chartArea.background},a.prototype.calculateErrorHeight=function(e,t){if(e.errorBar.visible)if(e.errorBar.visible&&this.chart.chartAreaType!=="PolarRadar"){var i=e.errorBar.direction,s=this.chart.errorBarModule.positiveHeight,o=this.chart.errorBarModule.negativeHeight;this.isRectSeries(e)?((t==="Top"||t==="Auto")&&(i==="Both"||i==="Minus"?this.errorHeight=o:this.errorHeight=0),(t==="Outer"||t==="Auto")&&(i==="Both"||i==="Plus"?this.errorHeight=s:this.errorHeight=0)):((t==="Top"||t==="Outer"||t==="Auto")&&((i==="Both"||i==="Plus")&&!e.chart.isTransposed?this.errorHeight=s:this.errorHeight=0),(t==="Bottom"||t==="Auto")&&(i==="Both"||i==="Minus"?this.errorHeight=o:this.errorHeight=0))}else this.errorHeight=0;else return null},a.prototype.isRectSeries=function(e){return e.isRectSeries||e.type==="RangeArea"||e.type==="SplineRangeArea"||e.type==="RangeStepArea"},a.prototype.render=function(e,t,i){this.initPrivateVariables(e,e.marker),this.inverted=t.requireInvertedAxis,this.yAxisInversed=e.yAxis.isAxisInverse;var s=t.element.id+"_Series_"+(e.index===void 0?e.category:e.index)+"_DataLabelCollections",o=Pr("div",{id:s}),c=Cr(e);if(e.visible)for(var f=0;f<c.length;f++)this.renderDataLabel(e,c[f],o,i);o.childElementCount&&(t.enableCanvas?ye(t.element.id+"_Secondary_Element").appendChild(o):Be(t.enableCanvas,ye(t.element.id+"_Secondary_Element"),o,t.redraw,!1,"x","y",null,"",!1,!1,null,t.duration))},a.prototype.renderDataLabel=function(e,t,i,s){if(!s.showZero&&(t.y===0||t.y===0&&e.emptyPointSettings.mode==="Zero"))return null;this.margin=s.margin;var o=[],c,f,m,b,S,k,L=!0,I,_,N={x:0,y:0},U,Z=e.clipRect,V,$=!1,Q=[];s.angle=s.labelIntersectAction==="Rotate90"?90:s.angle,s.enableRotation=s.labelIntersectAction==="Rotate90"?!0:s.enableRotation;var H=k=s.angle,re={width:s.border.width,color:s.border.color},ie=Et({},fs("properties",s.font),null,!0);if(t.symbolLocations.length&&t.symbolLocations[0]||e.type==="BoxAndWhisker"&&t.regions.length){o=t.text!==null?bc(t,e,this.chart):[],c=o.length;for(var ae=0;ae<c;ae++){var Ce={cancel:!1,name:Ba,series:e,point:t,text:o[ae],border:re,color:s.fill,template:s.template,font:ie,location:N,textSize:jt(o[ae],s.font,this.chart.themeStyle.datalabelFont)};if(this.chart.trigger(Ba,Ce),!Ce.cancel)if(this.fontBackground=Ce.color,this.isDataLabelShape(Ce),this.markerHeight=e.type==="Bubble"?t.regions[0].height/2:this.markerHeight,Ce.template!==null)this.createDataLabelTemplate(i,e,s,t,Ce,ae,this.chart.redraw);else{s.enableRotation?U=jo(s.font,Ce.text,s.angle,this.chart,this.chart.themeStyle.datalabelFont):U=jt(Ce.text,s.font,this.chart.themeStyle.datalabelFont);var me=this.calculateTextPosition(t,e,U,s,ae);if(this.chart.chartAreaType==="PolarRadar")for(var ke=0,Pe=this.chart.chartAxisLayoutPanel.visibleAxisLabelRect;ke<Pe.length;ke++){var Oe=Pe[ke];if(xc(new Ye(me.x,me.y,me.width,me.height),Oe)){L=!1;break}}var le=new Ye(me.x+Z.x,me.y+Z.y,me.width,me.height);if(s.enableRotation){var Ae=this.getRectanglePoints(me);if(I=me.x+me.width/2,_=me.y+me.height/2,$=s.labelIntersectAction==="Rotate90"||H===-90?!1:this.isDataLabelOverlapWithChartBound(Ae,this.chart,Z),!$){this.chart.rotatedDataLabelCollections.push(Ae);for(var Ue=this.chart.rotatedDataLabelCollections.length-1,Qe=Ue;Qe>=0;Qe--)if(this.chart.rotatedDataLabelCollections[Ue]&&this.chart.rotatedDataLabelCollections[Qe-1]&&Xo(this.chart.rotatedDataLabelCollections[Ue],this.chart.rotatedDataLabelCollections[Qe-1])){$=!0,this.chart.rotatedDataLabelCollections[Ue]=null;break}}}else $=Wr(me,this.chart.dataLabelCollections,Z);if((!$||s.labelIntersectAction==="None")&&L){this.chart.dataLabelCollections.push(le),this.isShape&&(V=this.chart.renderer.drawRectangle(new nr(this.commonId+t.index+"_TextShape_"+ae,Ce.color,Ce.border,s.opacity,me,s.rx,s.ry,"",s.border.dashArray),new Int32Array([Z.x,Z.y])),e.shapeElement&&e.shapeElement.appendChild(V));var wt=this.fontBackground==="transparent"?this.chart.theme.indexOf("Dark")>-1||this.chart.theme.indexOf("HighContrast")>-1?"black":"white":this.fontBackground,at=Pn(hs(wt)),pt=Math.round((at.r*299+at.g*587+at.b*114)/1e3);f=me.x+this.margin.left+U.width/2+N.x,m=s.enableRotation&&this.chart.chartAreaType!=="PolarRadar"?me.y+this.margin.top+U.height/2+U.width/4+(s.position==="Auto"?t.regions[0].width/10:0)+N.y:me.y+this.margin.top+U.height*3/4+N.y,N={x:0,y:0},H!==0&&s.enableRotation?(b=I,S=_,k=H>360?H-360:H<-360?H+360:H):(k=0,b=me.x,S=me.y,f-=this.chart.chartAreaType==="Cartesian"&&f+U.width/2>Z.width?!this.chart.requireInvertedAxis&&f>Z.width?0:f+U.width/2-Z.width:0,m-=m+U.height>Z.y+Z.height&&!(e.type.indexOf("Bar")>-1)?m+U.height-(Z.y+Z.height):0);var Ge=s.labelIntersectAction==="Rotate90"?s.position==="Top"?"start":s.position==="Middle"?"middle":"end":H===-90&&s.enableRotation?s.position==="Top"?"end":s.position==="Middle"?"middle":"start":"middle",ve=void 0;this.chart.redraw&&document.getElementById(this.commonId+t.index+"_Text_"+ae)&&(ve=document.getElementById(this.commonId+t.index+"_Text_"+ae).textContent),Q.push(Ti(this.chart.renderer,new rr(this.commonId+(e.removedPointIndex!==null&&e.removedPointIndex<=t.index?t.index+1:t.index)+"_Text_"+ae,f,m,Ge,Ce.text,"rotate("+k+","+b+","+S+")","auto",k),Ce.font,Ce.font.color||(this.chart.theme==="Bootstrap5"?"#212529":this.chart.theme==="Bootstrap5Dark"?"#DEE2E6":pt>=128||e.type==="Hilo"||e.type==="HiloOpenClose"?"black":"white"),e.textElement,!1,this.chart.redraw,!0,!1,e.chart.duration,e.clipRect,null,null,this.chart.enableCanvas,null,this.chart.themeStyle.datalabelFont,new Ze(b,S))),e.removedPointIndex!==null&&e.removedPointIndex<=t.index&&(e.textElement.lastChild.id=this.commonId+t.index+"_Text_"+ae),this.chart.redraw&&ve!==Ce.text&&wc(e.textElement.querySelector("#"+this.commonId+t.index+"_Text_"+ae),this.chart.duration,parseFloat(ve),parseFloat(Ce.text),e.marker.dataLabel.format||e.yAxis.labelFormat)}else ye(this.commonId+t.index+"_Text_0")&&e.chart.redraw&&e.currentData&&ye(this.commonId+t.index+"_Text_0").remove()}}}return Q},a.prototype.getRectanglePoints=function(e){var t=new Ze(e.x,e.y),i=new Ze(e.x+e.width,e.y),s=new Ze(e.x+e.width,e.y+e.height),o=new Ze(e.x,e.y+e.height);return[t,i,s,o]},a.prototype.isDataLabelOverlapWithChartBound=function(e,t,i){for(var s=0;s<e.length;s++)if(!$t(e[s].x+i.x,e[s].y+i.y,t.initialClipRect))return!0;return!1},a.prototype.createDataLabelTemplate=function(e,t,i,s,o,c,f){this.margin={left:0,right:0,bottom:0,top:0};var m=t.clipRect,b=Sc(Pr("div",{id:this.chart.element.id+"_Series_"+(t.index===void 0?t.category:t.index)+"_DataLabel_"+s.index+(c?"_"+c:""),styles:"position: absolute;background-color:"+o.color+";"+Cc(i.font,this.chart.themeStyle.datalabelFont)+";border:"+o.border.width+"px solid "+o.border.color+";"}),s.index,this.chart.enableHtmlSanitizer?this.chart.sanitize(o.template):o.template,this.chart,s,t,this.chart.element.id+"_DataLabel",c);this.calculateTemplateLabelSize(e,b,s,t,i,c,m,f)},a.prototype.calculateTemplateLabelSize=function(e,t,i,s,o,c,f,m,b){var S=Ac(t,m,b),k=this.calculateTextPosition(i,s,{width:S.width,height:S.height},o,c),L=0,I=0,_=!1;b&&(_=S.width===0||S.height===0),t.style.left=(this.chart.chartAreaType==="PolarRadar"?0:s.clipRect.x)+k.x-L+"px",t.style.top=(this.chart.chartAreaType==="PolarRadar"?0:s.clipRect.y)+k.y+I+"px";var N=this.fontBackground==="transparent"?this.chart.theme.indexOf("Dark")>-1?"black":"white":this.fontBackground,U=Pn(hs(N)),Z=s.chart.requireInvertedAxis?s.xAxis:s.yAxis,V=s.chart.requireInvertedAxis?s.yAxis:s.xAxis;t.style.color=o.font.color||(this.chart.theme==="Bootstrap5"?"#212529":this.chart.theme==="Bootstrap5Dark"?"#DEE2E6":Math.round((U.r*299+U.g*587+U.b*114)/1e3)>=128?"black":"white"),t.childElementCount&&!_&&(!Wr(k,this.chart.dataLabelCollections,f)||o.labelIntersectAction==="None")&&(s.seriesType!=="XY"||i.yValue===void 0||rs(i.yValue,s.yAxis.visibleRange)||s.type.indexOf("Stacking")>-1||s.type.indexOf("100")>-1&&rs(s.stackedValues.endValues[i.index],s.yAxis.visibleRange))&&rs(i.xValue,s.xAxis.visibleRange)&&parseFloat(t.style.top)>=Z.rect.y&&parseFloat(t.style.left)>=V.rect.x&&parseFloat(t.style.top)<=Z.rect.y+Z.rect.height&&parseFloat(t.style.left)<=V.rect.x+V.rect.width&&(this.chart.dataLabelCollections.push(new Ye(k.x+f.x,k.y+f.y,k.width,k.height)),Be(this.chart.enableCanvas,e,t,m,!0,"left","top"),s.animation.enable&&this.chart.animateSeries&&!this.chart.enableCanvas?this.doDataLabelAnimation(s,t):this.chart.enableCanvas&&e.appendChild(t))},a.prototype.calculateTextPosition=function(e,t,i,s,o){var c=o>1&&t.type==="Candle"?e.regions[1]:e.regions[0];o>1&&t.type==="HiloOpenClose"&&(c=o===2?e.regions[1]:e.regions[2]);var f;f=this.getLabelLocation(e,t,i,o);var m=5,b=t.clipRect;if(!this.chart.requireInvertedAxis||!this.isRectSeries(t)||t.type==="BoxAndWhisker"){this.locationX=f.x;var S=i.height+this.borderWidth*2+this.markerHeight+this.margin.bottom+this.margin.top+m;f.x=s.position==="Auto"?f.x:this.calculateAlignment(S,f.x,s.alignment,this.isRectSeries(t)?e.yValue<0:!1),f.y=!this.isRectSeries(t)||t.type==="BoxAndWhisker"?this.calculatePathPosition(f.y,s.position,t,e,i,o):this.calculateRectPosition(f.y,c,e.yValue<0!==this.yAxisInversed,s.position,t,i,o,e),this.isRectSeries(t)&&this.chart.chartAreaType==="PolarRadar"&&(f=this.calculatePolarRectPosition(f,s.position,t,e,i,o,s.alignment,S))}else{this.locationY=f.y;var S=i.width+this.borderWidth+this.margin.left+this.margin.right-m;f.x=s.position==="Auto"?f.x:this.calculateAlignment(S,f.x,s.alignment,e.yValue<0),f.x=this.calculateRectPosition(f.x,c,e.yValue<0!==this.yAxisInversed,s.position,t,i,o,e)}var k=ks(f,i,this.margin);!(s.enableRotation===!0&&s.angle!==0)&&!(k.y>b.y+b.height||k.x>b.x+b.width||k.x+k.width<0||k.y+k.height<0)&&(k.x=k.x<0?m:k.x,k.y=k.y<0&&s.labelIntersectAction!=="None"?m:k.y,k.x-=k.x+k.width>b.x+b.width?k.x+k.width-(b.x+b.width)+m:0,k.y-=k.y+k.height>b.y+b.height?k.y+k.height-(b.y+b.height)+m:0,this.fontBackground=this.fontBackground==="transparent"?this.chartBackground:this.fontBackground);var L;return this.inverted&&t.isRectSeries&&k.x+k.width>c.x+c.width&&(L=!0),this.fontBackground=L?this.chartBackground:this.fontBackground,k},a.prototype.calculatePolarRectPosition=function(e,t,i,s,o,c,f,m){var b=5,S,k=this.chart.availableSize.width,L=f==="Center"?0:f==="Far"?1:-1,I=s.regionData.startAngle-.5*Math.PI+(s.regionData.endAngle-s.regionData.startAngle)/2;return c===0?S=s.regionData.radius<s.regionData.innerRadius?s.regionData.innerRadius:s.regionData.radius:S=s.regionData.radius>s.regionData.innerRadius?s.regionData.innerRadius:s.regionData.radius,this.fontBackground=this.fontBackground==="transparent"?this.chartBackground:this.fontBackground,i.drawType.indexOf("Stacking")>-1?t=t==="Outer"?"Top":t:i.drawType.indexOf("Range")>-1&&(t=t==="Outer"||t==="Top"?t:"Auto"),t==="Outer"?S=c===0?S+2*b+this.markerHeight:S-2*b-this.markerHeight:t==="Middle"?(S=S/2+b,i.drawType==="StackingColumn"&&(S=s.regionData.innerRadius+(s.regionData.radius-s.regionData.innerRadius)/2+b-o.height/2)):t==="Top"?S=c===0?S-2*b-this.markerHeight:S+2*b+this.markerHeight:t==="Bottom"?(S=2*b,S+=i.drawType==="StackingColumn"?s.regionData.innerRadius+this.markerHeight:0):c===0?S=S>=i.chart.radius?S-b:i.drawType==="StackingColumn"?S-2*b:S+2*b:S=S>=i.chart.radius?S+b:S-2*b,S+=m*L,e.x=i.clipRect.width/2+i.clipRect.x+S*Math.cos(I),i.drawType==="StackingColumn"?e.x=e.x<k/2?e.x+o.width/2:e.x>k/2?e.x-o.width/2:e.x:i.drawType==="Column"&&(e.x=e.x<k/2?e.x-o.width/2:e.x>k/2?e.x+o.width/2:e.x),e.y=i.clipRect.height/2+i.clipRect.y+S*Math.sin(I),e},a.prototype.getLabelLocation=function(e,t,i,s){var o=new Ze(0,0),c=t.type==="Candle"&&s>1?e.regions[1]:e.regions[0];t.type==="HiloOpenClose"&&(c=s===2?e.regions[1]:e.regions[2]);var f=t.xAxis,m=t.yAxis,b=t.chart.requireInvertedAxis;if(t.type==="BoxAndWhisker"){switch(this.markerHeight=0,s){case 0:o=Pi(e.xValue,e.median,f,m,b);break;case 1:o=Pi(e.xValue,e.maximum,f,m,b);break;case 2:o=Pi(e.xValue,e.minimum,f,m,b);break;case 3:o=Pi(e.xValue,e.upperQuartile,f,m,b);break;case 4:o=Pi(e.xValue,e.lowerQuartile,f,m,b);break;default:{o=Pi(e.xValue,e.outliers[s-5],f,m,b),this.markerHeight=t.marker.height/2;break}}b?o.y=e.regions[0].y+e.regions[0].height/2:o.x=e.regions[0].x+e.regions[0].width/2}else s===0||s===1?o=new Ze(e.symbolLocations[0].x,e.symbolLocations[0].y):(s===2||s===3)&&t.type==="Candle"?o=new Ze(e.symbolLocations[1].x,e.symbolLocations[1].y):b?o={x:c.x+c.width/2,y:c.y}:o={x:c.x+c.width,y:c.y+c.height/2};if(s>1&&t.type==="HiloOpenClose")if(t.chart.requireInvertedAxis){var S=c.height;o.y=c.y+S/2+2*(s===2?1:-1)}else{var k=c.width;o.x=c.x+k/2+2*(s===2?1:-1)}return o},a.prototype.calculateRectPosition=function(e,t,i,s,o,c,f,m){if(o.chart.chartAreaType==="PolarRadar")return null;var b=5,S=this.margin,k=o.marker.dataLabel.enableRotation||this.inverted?c.width:c.height;switch(this.extraSpace=this.borderWidth+k/2+(s!=="Outer"&&o.type.indexOf("Column")>-1&&Math.abs(t.height-c.height)<b?0:b),o.type==="StackingColumn100"||o.type==="StackingBar100"?s=s==="Outer"?"Top":s:o.type.indexOf("Range")>-1?s=s==="Outer"||s==="Top"?s:"Auto":o.type==="Waterfall"&&(s=s==="Auto"?"Middle":s),s){case"Bottom":e=this.inverted?i?e+(o.type==="Waterfall"?+this.extraSpace+S.left+this.markerHeight:+t.width-this.extraSpace-S.left):e-t.width+this.extraSpace+S.right:i?e+(o.type==="Waterfall"?-this.extraSpace-S.top-this.markerHeight:-t.height+this.extraSpace+S.top):e+t.height-this.extraSpace-S.bottom;break;case"Middle":e=e=this.inverted?i?e+t.width/2:e-t.width/2:i?e-t.height/2:e+t.height/2;break;case"Auto":e=this.calculateRectActualPosition(e,t,i,o,c,f,m);break;default:this.extraSpace+=this.errorHeight,e=this.calculateTopAndOuterPosition(e,t,s,o,f,this.extraSpace,i,m);break}var L=this.inverted?e<t.x||e>t.x+t.width:e<t.y||e>t.y+t.height;this.fontBackground=L?this.fontBackground==="transparent"?this.chartBackground:this.fontBackground:this.fontBackground==="transparent"?m.color||o.interior:this.fontBackground;var I=o.chart.series.length;if(s==="Outer"&&o.type.indexOf("Stacking")>-1&&I-1>o.index){for(var _=void 0,N=void 0,U=o.index+1;U<I;U++)if(_=o.chart.series[U],N=_.points[m.index],_.type.indexOf("Stacking")>-1&&_.type.indexOf("100")===-1){this.fontBackground=N&&(N.yValue<0&&m.yValue<0||N.yValue>0&&m.yValue>0)?N?N.color:_.interior:this.fontBackground;break}}return e},a.prototype.calculatePathPosition=function(e,t,i,s,o,c){var f=5;switch(i.type.indexOf("Area")>-1&&i.type!=="RangeArea"&&i.type!=="SplineRangeArea"&&i.type!=="RangeStepArea"&&this.yAxisInversed&&i.marker.dataLabel.position!=="Auto"&&(t=t==="Top"?"Bottom":t==="Bottom"?"Top":t),this.fontBackground=this.fontBackground==="transparent"?this.chartBackground:this.fontBackground,t){case"Top":case"Outer":e=e-this.markerHeight-this.borderWidth-o.height/2-this.margin.bottom-f-this.errorHeight;break;case"Bottom":e=e+this.markerHeight+this.borderWidth+o.height/2+this.margin.top+f+this.errorHeight;break;case"Auto":e=this.calculatePathActualPosition(e,this.markerHeight,i,s,o,c);break}return e},a.prototype.isDataLabelShape=function(e){this.isShape=e.color!=="transparent"||e.border.width>0,this.borderWidth=e.border.width,this.isShape||(this.margin={left:0,right:0,bottom:0,top:0})},a.prototype.calculateRectActualPosition=function(e,t,i,s,o,c,f){for(var m,b,S=!0,k=0,L=this.chart.dataLabelCollections,I=s.type.indexOf("Range")!==-1||s.type==="Hilo"?2:4;S&&k<I;){var _=this.getPosition(k);this.fontBackground=s.marker.dataLabel.fill,s.type.indexOf("Stacking")>-1&&_==="Outer"&&(_="Top",k++),m=this.calculateRectPosition(e,t,i,_,s,o,c,f),this.inverted?(b=ks(new Ze(m,this.locationY),o,this.margin),S=b.x<0||Wr(b,L,s.clipRect)||b.x+b.width>s.clipRect.width):(s.marker.dataLabel.enableRotation&&(o.width=o.width-f.regions[0].width/10),b=ks(new Ze(this.locationX,m),o,this.margin),S=b.y<0||Wr(b,L,s.clipRect)||b.y>s.clipRect.height,s.marker.dataLabel.template===null&&S!==!0&&(S=b.y/2+o.height+(_==="Outer"?f.regions[0].height+this.extraSpace:f.regions[0].height-2*this.extraSpace)>s.clipRect.height)),k++}return m},a.prototype.calculateAlignment=function(e,t,i,s){switch(i){case"Far":t=this.inverted?s?t-e:t+e:s?t+e:t-e;break;case"Near":t=this.inverted?s?t+e:t-e:s?t-e:t+e;break}return t},a.prototype.calculateTopAndOuterPosition=function(e,t,i,s,o,c,f,m){var b=this.margin,S;switch(s.type){case"RangeColumn":case"RangeArea":case"RangeStepArea":case"SplineRangeArea":case"Hilo":S=o===0&&!this.yAxisInversed||o===1&&this.yAxisInversed,e=this.updateLabelLocation(i,e,c,b,t,S);break;case"Candle":S=(o===0||o===2)&&!this.yAxisInversed||(o===1||o===3)&&this.yAxisInversed,e=this.updateLabelLocation(i,e,c,b,t,S,o>1);break;case"HiloOpenClose":o<=1?(S=o===0&&!this.yAxisInversed||o===1&&this.yAxisInversed,e=this.updateLabelLocation(i,e,c,b,t,S)):this.yAxisInversed?e=this.inverted?e-c-b.right:e+c+b.top:e=this.inverted?e+c+b.left:e-c-b.bottom;break;default:f&&i==="Top"||!f&&i==="Outer"||i==="Top"&&s.visiblePoints[m.index].yValue===0?e=this.inverted?e+(f&&s.type==="Waterfall"?+t.width-c-b.left:+c+b.left+this.markerHeight):e+(f&&s.type==="Waterfall"?-t.height+c+b.bottom:-c-b.bottom-this.markerHeight):e=this.inverted?e+(f&&s.type==="Waterfall"?+t.width+c+b.top:-c-b.right-this.markerHeight):e+(f&&s.type==="Waterfall"?-t.height-c-b.top:+c+b.top+this.markerHeight);break}return e},a.prototype.updateLabelLocation=function(e,t,i,s,o,c,f){return f===void 0&&(f=!1),this.inverted?c?t=e==="Outer"&&!f?t+i+s.left+this.markerHeight:t-i-s.right-this.markerHeight:t=e==="Outer"&&!f?t-o.width-i-s.right-this.markerHeight:t-o.width+i+s.left+this.markerHeight:c?t=e==="Outer"&&!f?t-i-s.bottom-this.markerHeight:t+i+s.top+this.markerHeight:t=e==="Outer"&&!f?t+o.height+i+s.top+this.markerHeight:t+o.height-i-s.bottom-this.markerHeight,t},a.prototype.calculatePathActualPosition=function(e,t,i,s,o,c){var f=i.points,m=s.index,b=f[m].yValue,S,k=f.length-1>m?f[m+1]:null,L=m>0?f[m-1]:null,I,_=!0,N,U,Z,V=this.chart.dataLabelCollections;if(i.type==="Bubble")S="Top";else if(i.type.indexOf("Step")>-1)S="Top",m&&(S=!L||!L.visible||b>L.yValue!==this.yAxisInversed||b===L.yValue?"Top":"Bottom");else if(i.type==="BoxAndWhisker")c===1||c===3||c>4?S=i.yAxis.isAxisInverse?"Bottom":"Top":c===2||c===4?S=i.yAxis.isAxisInverse?"Top":"Bottom":(_=!1,S="Middle",I=this.calculatePathPosition(e,S,i,s,o,c));else if(m===0)S=!k||!k.visible||b>k.yValue||b<k.yValue&&this.yAxisInversed?"Top":"Bottom";else if(m===f.length-1)S=!L||!L.visible||b>L.yValue||b<L.yValue&&this.yAxisInversed?"Top":"Bottom";else if(!k.visible&&!(L&&L.visible))S="Top";else if(!k.visible||!L)S=k.yValue>b||L&&L.yValue>b?"Bottom":"Top";else{var $=(k.yValue-L.yValue)/2,Q=$*m+(k.yValue-$*(m+1));S=this.yAxisInversed?Q<b?"Bottom":"Top":Q<b?"Top":"Bottom"}for(U=S==="Bottom",Z=["Outer","Top","Bottom","Middle","Auto"].indexOf(S);_&&Z<4;)I=this.calculatePathPosition(e,this.getPosition(Z),i,s,o,c),N=ks(new Ze(this.locationX,I),o,this.margin),_=N.y<0||Wr(N,V,i.clipRect)||N.y+N.height>i.clipRect.height,Z=U?Z-1:Z+1,U=!1;return I},a.prototype.doDataLabelAnimation=function(e,t){for(var i=e.shapeElement.childNodes,s=e.textElement.childNodes,o=e.animation.delay+e.animation.duration,c=e.chart.animated?e.chart.duration:200,f,m=t?1:s.length,b,S=0;S<m;S++)b=s[S],t?(t.style.visibility="hidden",kc(t,o,c,"ZoomIn")):(f=new Ze(+b.getAttribute("x")+ +b.getAttribute("width")/2,+b.getAttribute("y")+ +b.getAttribute("height")/2),Hs(b,o,c,e,null,f,!0),i[S]&&(b=i[S],f=new Ze(+b.getAttribute("x")+ +b.getAttribute("width")/2,+b.getAttribute("y")+ +b.getAttribute("height")/2),Hs(b,o,c,e,null,f,!0)))},a.prototype.getPosition=function(e){return["Outer","Top","Bottom","Middle","Auto"][e]},a.prototype.getModuleName=function(){return"DataLabel"},a.prototype.destroy=function(){},a}(),nu=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wl=function(a){nu(e,a);function e(t){var i=a.call(this,t)||this;return i.library=i,i.addEventListener(),i}return e.prototype.addEventListener=function(){this.chart.isDestroyed||(this.chart.on(ze.touchMoveEvent,this.mouseMove,this),this.chart.on("click",this.click,this),this.chart.on(ze.touchEndEvent,this.mouseEnd,this))},e.prototype.removeEventListener=function(){this.chart.isDestroyed||(this.chart.off(ze.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(ze.touchEndEvent,this.mouseEnd))},e.prototype.mouseMove=function(t){if(this.chart.legendSettings.visible&&!this.chart.isTouch&&(this.move(t),this.chart.highlightModule&&(this.chart.highlightMode!=="None"||this.chart.legendSettings.enableHighlight)))for(var i=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_",this.legendID+"_g_"],s=t.target.id,o=void 0,c=0,f=i;c<f.length;c++){var m=f[c];if(s.indexOf(m)>-1){o=parseInt(s.split(m)[1],10),this.chart.highlightModule.legendSelection(this.chart,o,t.target,t.type);break}}},e.prototype.mouseEnd=function(t){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(t)},e.prototype.getLegendOptions=function(t,i){this.legendCollections=[];var s,o,c,f=[];this.isRtlEnable=i.enableRtl,this.isReverse=!this.isRtlEnable&&i.legendSettings.reverse,t.length>1&&(this.legend.mode="Series");for(var m=0,b=t;m<b.length;m++){var S=b[m];if(this.legend.mode==="Series")S.category!=="Indicator"&&(s=i.chartAreaType==="PolarRadar"?S.drawType:S.type,c=!S.marker.visible&&s.indexOf("Line")>-1&&s.indexOf("Area")===-1?S.dashArray:"",o=S.pointColorMapping&&S.points.length>0&&S.points[0].interior?S.points[0].interior:S.interior,this.legendCollections.push(new jr(S.name,o,S.legendShape,S.category==="TrendLine"?this.chart.series[S.sourceIndex].trendlines[S.index].visible:S.visible,s,S.legendImageUrl?S.legendImageUrl:S.type==="Scatter"&&S.marker.shape==="Image"?S.marker.imageUrl:"",S.marker.shape,S.marker.visible,null,null,c)));else if(this.legend.mode==="Point")for(var k=0,L=S.points;k<L.length;k++){var I=L[k];s=i.chartAreaType==="PolarRadar"?S.drawType:S.type,o=I.interior?I.interior:S.interior,this.legendCollections.push(new jr(I.x.toString(),o,S.legendShape,S.category==="TrendLine"?this.chart.series[S.sourceIndex].trendlines[S.index].visible:I.visible,s,S.type==="Scatter"&&S.marker.shape==="Image"?S.marker.imageUrl:"",S.marker.shape,S.marker.visible))}else if(this.legend.mode==="Range")for(var _=0,N=S.points;_<N.length;_++){var I=N[_];s=i.chartAreaType==="PolarRadar"?S.drawType:S.type,o=I.interior?I.interior:S.interior;var U="Others";if(f.indexOf(o)<0&&(f.push(o),i.rangeColorSettings.length>=1&&i.rangeColorSettings[0].colors.length===1)){for(var Z=0,V=i.rangeColorSettings;Z<V.length;Z++){var $=V[Z];$.colors[0]===o&&(U=$.label)}this.legendCollections.push(new jr(U,o,S.legendShape,S.category==="TrendLine"?this.chart.series[S.sourceIndex].trendlines[S.index].visible:I.visible,s,S.type==="Scatter"&&S.marker.shape==="Image"?S.marker.imageUrl:"",S.marker.shape,S.marker.visible))}}else if(this.legendCollections.length===0&&i.rangeColorSettings.length>0){var Q=i.rangeColorSettings[0].start.toString(),H=i.rangeColorSettings[i.rangeColorSettings.length-1].end.toString();this.legendCollections.push(new jr(Q,S.interior,"Rectangle",!0,s,"",S.marker.shape,S.marker.visible)),this.legendCollections.push(new jr(H,S.interior,"Rectangle",!0,s,"",S.marker.shape,S.marker.visible))}}this.isReverse&&i.legendSettings.mode!=="Gradient"&&this.legendCollections.reverse()},e.prototype.getLegendBounds=function(t,i,s){this.calculateLegendTitle(s,i),this.isTitle=!!s.title,this.chartRowCount=1,this.rowHeights=[],this.columnHeights=[],this.pageHeights=[];var o=s.padding,c=s.titlePosition,f=0,m,b=0,S=this.arrowWidth,k=this.arrowHeight,L=this.isVertical&&!s.enablePages?k:0,I=this.isTitle&&c==="Top"?this.legendTitleSize.height+this.fivePixel:0;I=this.isTitle&&this.isVertical&&c!=="Top"?this.legendTitleSize.height+this.fivePixel:I,this.isVertical?b=s.width?0:t.width/100*5:f=s.height?0:t.height/100*5,i.height+=f,i.width+=b;var _=s.shapeWidth,N=s.shapePadding,U=0,Z=0,V=0,$=0,Q=0,H=0,re=0,ie,ae=!1;this.maxItemHeight=Math.max(jt("MeasureText",s.textStyle,this.chart.themeStyle.legendLabelFont).height,s.shapeHeight);for(var Ce=0;Ce<this.legendCollections.length;Ce++)if(m=this.legendCollections[Ce],Da.test(m.text)&&(m.text=Fa(m.text,Da)),Na.test(m.text)&&(m.text=Fa(m.text,Na)),ie={fill:m.fill,text:m.text,shape:m.shape,markerShape:m.markerShape,name:za,cancel:!1},this.chart.trigger(za,ie),m.render=!ie.cancel,m.text=ie.text,m.fill=ie.fill,m.shape=ie.shape,m.markerShape=ie.markerShape,m.textSize=jt(m.text,s.textStyle,this.chart.themeStyle.legendLabelFont),_=m.text?s.shapeWidth:0,N=m.text?s.shapePadding:0,m.render&&m.text){ae=!0,V=_+N+(s.maximumLabelWidth?s.maximumLabelWidth:m.textSize.width)+(this.isVertical||Ce===0?o:this.itemPadding),Z=Z+V,!s.enablePages&&!this.isVertical&&(re=this.isTitle&&c!=="Top"?this.legendTitleSize.width+this.fivePixel:0,re+=S),this.getLegendHeight(m,s,i,Z,this.maxItemHeight,o),(i.width<o+Z+re||this.isVertical)&&(U=Math.max(U,Z+o+re-(this.isVertical?0:V)),H===0&&V!==Z&&(H=1),Z=this.isVertical?0:V,H++,Q=0,$=L);var me=H>0?H-1:0;this.rowHeights[me]=Math.max(this.rowHeights[me]?this.rowHeights[me]:0,m.textSize.height),this.columnHeights[Q]=(this.columnHeights[Q]?this.columnHeights[Q]:0)+m.textSize.height+(this.isVertical?Ce===0?o:this.itemPadding:o),Q++}$=Math.max.apply(null,this.columnHeights)+o+I,$=Math.max($,this.maxItemHeight+o+o+I),this.isPaging=i.height<$,this.isPaging&&!s.enablePages&&(this.isVertical||($=this.maxItemHeight+o+o+(c==="Top"?I:0))),this.totalPages=H,!this.isPaging&&!this.isVertical&&(Z+=this.isTitle&&c!=="Top"?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0),ae?this.setBounds(Math.max(Z+o,U),$,s,i):this.setBounds(0,0,s,i)},e.prototype.getLegendHeight=function(t,i,s,o,c,f){var m=t.textSize.width,b=i.shapePadding+f*2+i.shapeWidth;switch(i.textWrap){case"Wrap":case"AnyWhere":m>i.maximumLabelWidth||m+o>s.width?t.textCollection=Tc(t.text,i.maximumLabelWidth?Math.min(i.maximumLabelWidth,s.width-b):s.width-b,i.textStyle,this.chart.enableRtl,null,null,this.chart.themeStyle.legendLabelFont):t.textCollection.push(t.text),t.textSize.height=c*t.textCollection.length;break}},e.prototype.getRenderPoint=function(t,i,s,o,c,f,m){var b=this.legend.padding,S=s+(this.legend.maximumLabelWidth?this.legend.maximumLabelWidth:o.textSize.width),k=o.location.x+(this.isRtlEnable?-S:S);this.isWithinBounds(k,(this.legend.maximumLabelWidth?this.legend.maximumLabelWidth:t.textSize.width)+s-this.itemPadding,c)||this.isVertical?(t.location.x=i.x,f!==m&&this.chartRowCount++,t.location.y=f===m?o.location.y:o.location.y+(this.isVertical?o.textSize.height:this.rowHeights[this.chartRowCount-2])+(this.isVertical?this.itemPadding:b)):(t.location.x=f===m?o.location.x:k,t.location.y=o.location.y);var L=this.isRtlEnable?t.location.x-s+this.itemPadding+this.legend.shapeWidth/2-this.legendBounds.x:this.legendBounds.x+this.legendBounds.width-(t.location.x+s-this.itemPadding-this.legend.shapeWidth/2);!this.isVertical&&this.isPaging&&!this.legend.enablePages&&(L=this.legendBounds.width-t.location.x-this.fivePixel),L=this.legend.maximumLabelWidth?Math.min(this.legend.maximumLabelWidth,L):L,this.legend.textOverflow==="Ellipsis"&&this.legend.textWrap==="Normal"&&(t.text=Tn(+L.toFixed(4),t.text,this.legend.textStyle,this.chart.enableRtl,this.chart.themeStyle.legendLabelFont))},e.prototype.isWithinBounds=function(t,i,s){return this.isRtlEnable?t-i<s.x-this.legend.shapeWidth/2:t+i>s.x+s.width+this.legend.shapeWidth/2},e.prototype.LegendClick=function(t,i){var s=this.chart,o=s.legendSettings.mode==="Series"?t:0,c=this.isReverse?this.legendCollections.length-1-t:t,f=s.visibleSeries[o],m=this.legendCollections[c],b="isProtectedOnChange";if(s.legendSettings.mode==="Series"){var S={legendText:m.text,legendShape:m.shape,chart:s.isBlazor?{}:s,series:f,points:f.points,name:dr,cancel:!1};this.chart.trigger(dr,S),f.legendShape=S.legendShape,S.cancel||(f.fill!==null&&(s.visibleSeries[t].interior=f.fill),s.legendSettings.toggleVisibility?(f.chart[b]=!0,f.category==="TrendLine"?!s.series[f.sourceIndex].trendlines[f.index].visible&&s.series[f.sourceIndex].visible?s.series[f.sourceIndex].trendlines[f.index].visible=!0:s.series[f.sourceIndex].trendlines[f.index].visible=!1:this.changeSeriesVisiblity(f,f.visible),m.visible=f.category==="TrendLine"?s.series[f.sourceIndex].trendlines[f.index].visible:f.visible,this.refreshLegendToggle(s,f),s.highlightModule&&s.legendSettings.enableHighlight&&s.highlightModule.legendSelection(s,t,i.target,"mousemove")):s.highlightModule?s.highlightModule.legendSelection(s,t,i.target,i.type):s.selectionModule&&s.selectionModule.legendSelection(s,t,i.target,i.type),f.chart[b]=!1)}else if(s.legendSettings.mode==="Point"){var k=f.points[t],S={legendText:m.text,legendShape:m.shape,chart:s.isBlazor?{}:s,series:f,points:[k],name:dr,cancel:!1};if(this.chart.trigger(dr,S),s.legendSettings.toggleVisibility&&!S.cancel){k.visible=!k.visible;var L=this.legendCollections[t];L.visible=k.visible,this.refreshLegendToggle(s,f)}}else if(s.legendSettings.mode==="Range"){for(var I=[],L=this.legendCollections[t],_=0,N=f.points;_<N.length;_++){var k=N[_];L.fill===(k.interior||f.interior)&&I.push(k)}var S={legendText:m.text,legendShape:m.shape,chart:s.isBlazor?{}:s,series:f,points:I,name:dr,cancel:!1};if(this.chart.trigger(dr,S),s.legendSettings.toggleVisibility&&!S.cancel){L.visible=!L.visible;for(var U=0,Z=I;U<Z.length;U++){var k=Z[U];k.visible=!k.visible}this.refreshLegendToggle(s,f)}}},e.prototype.refreshLegendToggle=function(t,i){var s=[];if(t.selectionModule&&(s=Et([],t.selectionModule.selectedDataIndexes,null,!0)),t.svgObject.childNodes.length>0&&!t.enableAnimation&&!t.enableCanvas){for(;t.svgObject.lastChild;)t.svgObject.removeChild(t.svgObject.lastChild);At(t.svgObject)}t.animateSeries=!1,t.redraw=t.enableAnimation,i.isLegendClicked=!0,t.rotatedDataLabelCollections=[],It(il(t.element.id+"_Secondary_Element").querySelectorAll(".ejSVGTooltip")[0]),Ko(t),this.redrawSeriesElements(i,t),t.removeSvg(),t.refreshAxis(),i.refreshAxisLabel(),this.refreshSeries(t.visibleSeries);for(var o=0,c=t.visibleSeries;o<c.length;o++){var f=c[o];pe(f)||t.markerRender.removeHighlightedMarker(f,null,!0)}t.refreshBound(),t.trigger("loaded",{chart:t}),s.length>0&&(t.selectionModule.selectedDataIndexes=s,t.selectionModule.redrawSelection(t,t.selectionMode)),!t.enableCanvas&&t.highlightModule&&(t.highlightMode!=="None"||t.legendSettings.enableHighlight)&&t.highlightModule.redrawSelection(t,t.highlightMode),t.redraw=!1,i.isLegendClicked=!1},e.prototype.changeSeriesVisiblity=function(t,i){t.visible=!i,this.isSecondaryAxis(t.xAxis)&&(t.xAxis.internalVisibility=t.xAxis.series.some(function(s){return s.visible})),(this.isSecondaryAxis(t.yAxis)||t.category==="Pareto"&&t.type==="Line")&&(t.yAxis.internalVisibility=t.yAxis.series.some(function(s){return s.visible})),t.trendlines.length&&t.visible&&t.trendlines.forEach(function(s){s.visible=!0})},e.prototype.isSecondaryAxis=function(t){return this.chart.axes.indexOf(t)>-1},e.prototype.redrawSeriesElements=function(t,i){if(!i.redraw)return null;It(i.element.id+"_Series_"+(t.index===void 0?t.category:t.index)+"_DataLabelCollections")},e.prototype.refreshSeries=function(t){for(var i=0,s=t;i<s.length;i++){var o=s[i];if(o.type.indexOf("Spline")>-1){var c=o.type.indexOf("Area")>-1||o.drawType.indexOf("Area")>-1,f=o.type.indexOf("Range")>-1;this.chart["spline"+(c?f?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(o)}o.visible&&(o.position=void 0)}},e.prototype.click=function(t){var i=this;if(this.chart.legendSettings.visible){for(var s=this.chart.mouseX,o=this.chart.mouseY,c=[],f=t.target.id.indexOf("_chart_legend_g_")>-1?t.target.firstChild.id:t.target.id,m=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"],b,S=0,k=m;S<k.length;S++){var L=k[S];if(f.indexOf(L)>-1){b=parseInt(f.split(L)[1],10),this.LegendClick(b,t);break}}f.indexOf(this.legendID+"_pageup")>-1?this.changePage(t,!0):f.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(t,!1),this.chart.enableCanvas&&this.pagingRegions.length&&this.checkWithinBounds(s,o),c=this.legendRegions.filter(function(I){return $t(s,o+(i.isPaging?(i.currentPageNumber-1)*i.translatePage(i.chart.enableCanvas,null,1,2):0),I.rect)}),c.length&&this.chart.enableCanvas&&this.LegendClick(c[0].index,t)}},e.prototype.checkWithinBounds=function(t,i){var s=this.chart.renderer,o=this.legendBounds,c=this.chart.legendSettings.border.width,f=new Ye(o.x,o.y,o.width,o.height);if(f.x=f.x-c/2,f.y=f.y-c/2,f.width=f.width+c,f.height=f.height+c,$t(t,i,this.pagingRegions[0]))return this.isRtlEnable?this.canvasPageUp(s,f,o):this.canvasPageDown(s,f,o),null;if($t(t,i,this.pagingRegions[1]))return this.isRtlEnable?this.canvasPageDown(s,f,o):this.canvasPageUp(s,f,o),null},e.prototype.canvasPageDown=function(t,i,s){--this.currentPageNumber>0?(this.legendRegions=[],t.clearRect(i),t.canvasClip(new nr("legendClipPath","transparent",{width:0,color:""},null,i)),this.renderLegend(this.chart,this.legend,s),t.canvasRestore()):++this.currentPageNumber},e.prototype.canvasPageUp=function(t,i,s){++this.currentPageNumber>0&&this.currentPageNumber<=this.totalNoOfPages?(this.legendRegions=[],t.clearRect(i),t.canvasClip(new nr("legendClipPath","transpaent",{width:0,color:""},null,i)),this.renderLegend(this.chart,this.legend,s),t.canvasRestore()):--this.currentPageNumber},e.prototype.getModuleName=function(){return"Legend"},e.prototype.destroy=function(){this.removeEventListener()},e}(Lc);function au(a){return Object.prototype.toString.call(a)==="[object String]"?"$s"+a:"$o"+a.toString()}var nt=function(){function a(e){this.table={},this.nElements=0,this.toStr=e||au}return a.prototype.getValue=function(e){var t=this.table["$"+this.toStr(e)];if(!(typeof t>"u"))return t.value},a.prototype.setValue=function(e,t){var i,s="$"+this.toStr(e);return this.table[s],this.nElements++,i=void 0,this.table[s]={key:e,value:t},i},a.prototype.remove=function(e){var t="$"+this.toStr(e),i=this.table[t];return delete this.table[t],this.nElements--,i.value},a.prototype.keys=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var s=this.table[t[i]];e.push(s.key)}return e},a.prototype.values=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var s=this.table[t[i]];e.push(s.value)}return e},a.prototype.containsKey=function(e){var t=!0;return typeof this.getValue(e)>"u"?t=!0:t=!1,!t},a.prototype.clear=function(){this.table={},this.nElements=0},a.prototype.size=function(){return this.nElements},a}(),Me=function(){function a(e){this.stringStartMark="/",this.internalValue="",this.isSaving6=!1,this.position6=-1,this.internalValue=this.normalizeValue(e)}return Object.defineProperty(a.prototype,"status",{get:function(){return this.status6},set:function(e){this.status6=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSaving",{get:function(){return this.isSaving6},set:function(e){this.isSaving6=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"objectCollectionIndex",{get:function(){return this.index6},set:function(e){this.index6=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return this.position6},set:function(e){this.position6=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this.internalValue},set:function(e){var t=e;e!==null&&e.length>0?(t=e,this.internalValue=this.normalizeValue(t)):this.internalValue=t},enumerable:!0,configurable:!0}),a.prototype.save=function(e){e.write(this.toString())},a.prototype.toString=function(){return this.stringStartMark+this.escapeString(this.value)},a.prototype.clone=function(e){var t=new a;return t.value=this.internalValue,t},a.prototype.escapeString=function(e){for(var t="",i=0,s=e.length;i<s;i++){var o=e[i];a.delimiters.indexOf(o),t=t+o}return t},a.prototype.normalizeValue=function(e,t){return e},a.delimiters="()<>[]{}/%}",a.replacements=[" ","	",`
`,"\r"],a}(),oe=function(){function a(){this.forTest="test",this.forTest=a.obj}return a.obj="obj",a.endObj="endobj",a.r="R",a.whiteSpace=" ",a.slash="/",a.newLine=`\r
`,a.stream="stream",a.endStream="endstream",a.xref="xref",a.f="f",a.n="n",a.trailer="trailer",a.startxref="startxref",a.eof="%%EOF",a.header="%PDF-1.5",a.beginText="BT",a.endText="ET",a.beginPath="m",a.appendLineSegment="l",a.stroke="S",a.fill="f",a.fillEvenOdd="f*",a.fillStroke="B",a.fillStrokeEvenOdd="B*",a.appendbeziercurve="c",a.appendRectangle="re",a.saveState="q",a.restoreState="Q",a.paintXObject="Do",a.modifyCtm="cm",a.modifyTM="Tm",a.setLineWidth="w",a.setLineCapStyle="J",a.setLineJoinStyle="j",a.setDashPattern="d",a.setFlatnessTolerance="i",a.closePath="h",a.closeStrokePath="s",a.closeFillStrokePath="b",a.setCharacterSpace="Tc",a.setWordSpace="Tw",a.setHorizontalScaling="Tz",a.setTextLeading="TL",a.setFont="Tf",a.setRenderingMode="Tr",a.setTextRise="Ts",a.setTextScaling="Tz",a.setCoords="Td",a.goToNextLine="T*",a.setText="Tj",a.setTextWithFormatting="TJ",a.setTextOnNewLine="'",a.selectcolorspaceforstroking="CS",a.selectcolorspacefornonstroking="cs",a.setrbgcolorforstroking="RG",a.setrbgcolorfornonstroking="rg",a.setcmykcolorforstroking="K",a.setcmykcolorfornonstroking="k",a.setgraycolorforstroking="G",a.setgraycolorfornonstroking="g",a.clipPath="W",a.clipPathEvenOdd="W*",a.endPath="n",a.setGraphicsState="gs",a.comment="%",a.evenOdd="*",a.setMiterLimit="M",a.setColorAndPattern="scn",a.setColorAndPatternStroking="SCN",a}(),xt=function(){function a(){this.pages="Pages",this.kids="Kids",this.count="Count",this.resources="Resources",this.type="Type",this.size="Size",this.mediaBox="MediaBox",this.parent="Parent",this.root="Root",this.decodeParms="DecodeParms",this.filter="Filter",this.font="Font",this.type1="Type1",this.baseFont="BaseFont",this.encoding="Encoding",this.subtype="Subtype",this.contents="Contents",this.procset="ProcSet",this.colorSpace="ColorSpace",this.extGState="ExtGState",this.pattern="Pattern",this.xObject="XObject",this.length="Length",this.width="Width",this.height="Height",this.bitsPerComponent="BitsPerComponent",this.image="Image",this.dctdecode="DCTDecode",this.columns="Columns",this.blackIs1="BlackIs1",this.k="K",this.s="S",this.predictor="Predictor",this.deviceRgb="DeviceRGB",this.next="Next",this.action="Action",this.link="Link",this.a="A",this.annot="Annot",this.p="P",this.c="C",this.rect="Rect",this.uri="URI",this.annots="Annots",this.ca="ca",this.CA="CA",this.xyz="XYZ",this.fit="Fit",this.dest="Dest",this.BM="BM",this.flatedecode="FlateDecode",this.rotate="Rotate",this.bBox="BBox",this.form="Form",this.w="W",this.cIDFontType2="CIDFontType2",this.cIDToGIDMap="CIDToGIDMap",this.identity="Identity",this.dw="DW",this.fontDescriptor="FontDescriptor",this.cIDSystemInfo="CIDSystemInfo",this.fontName="FontName",this.flags="Flags",this.fontBBox="FontBBox",this.missingWidth="MissingWidth",this.stemV="StemV",this.italicAngle="ItalicAngle",this.capHeight="CapHeight",this.ascent="Ascent",this.descent="Descent",this.leading="Leading",this.avgWidth="AvgWidth",this.fontFile2="FontFile2",this.maxWidth="MaxWidth",this.xHeight="XHeight",this.stemH="StemH",this.registry="Registry",this.ordering="Ordering",this.supplement="Supplement",this.type0="Type0",this.identityH="Identity-H",this.toUnicode="ToUnicode",this.descendantFonts="DescendantFonts",this.background="Background",this.shading="Shading",this.matrix="Matrix",this.antiAlias="AntiAlias",this.function="Function",this.extend="Extend",this.shadingType="ShadingType",this.coords="Coords",this.domain="Domain",this.range="Range",this.functionType="FunctionType",this.bitsPerSample="BitsPerSample",this.patternType="PatternType",this.paintType="PaintType",this.tilingType="TilingType",this.xStep="XStep",this.yStep="YStep",this.viewerPreferences="ViewerPreferences",this.centerWindow="CenterWindow",this.displayTitle="DisplayTitle",this.fitWindow="FitWindow",this.hideMenuBar="HideMenubar",this.hideToolBar="HideToolbar",this.hideWindowUI="HideWindowUI",this.pageMode="PageMode",this.pageLayout="PageLayout",this.duplex="Duplex",this.printScaling="PrintScaling"}return a}(),tt=function(){function a(e){if(this.position7=-1,this.primitiveItems=new nt,this.prefix="<<",this.suffix=">>",this.resources=[],this.object=null,this.archive=!0,this.isResource=!1,typeof e>"u")this.primitiveItems=new nt,this.encrypt=!0,this.dictionaryProperties=new xt;else{this.primitiveItems=new nt;for(var t=e.items.keys(),i=e.items.values(),s=0;s<e.items.size();s++)this.primitiveItems.setValue(t[s],i[s]);this.status=e.status,this.freezeChanges(this),this.encrypt=!0,this.dictionaryProperties=new xt}}return Object.defineProperty(a.prototype,"items",{get:function(){return this.primitiveItems},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"status",{get:function(){return this.status7},set:function(e){this.status7=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSaving",{get:function(){return this.isSaving7},set:function(e){this.isSaving7=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"objectCollectionIndex",{get:function(){return this.index7},set:function(e){this.index7=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clonedObject",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return this.position7},set:function(e){this.position7=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"Count",{get:function(){return this.primitiveItems.size()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"Dictionary",{get:function(){return this},enumerable:!0,configurable:!0}),a.prototype.getArchive=function(){return this.archive},a.prototype.setArchive=function(e){this.archive=e},a.prototype.setEncrypt=function(e){this.encrypt=e,this.modify()},a.prototype.getEncrypt=function(){return this.encrypt},a.prototype.freezeChanges=function(e){this.bChanged=!1},a.prototype.clone=function(e){var t=new a;return t},a.prototype.modify=function(){this.bChanged=!0},a.prototype.remove=function(e){typeof e!="string"?(this.primitiveItems.remove(e.value),this.modify()):this.remove(new Me(e))},a.prototype.containsKey=function(e){var t=!1;return t=this.primitiveItems.containsKey(e.toString()),t},a.prototype.onBeginSave=function(){this.beginSave.sender.beginSave()},a.prototype.onFontDictionaryBeginSave=function(){this.fontDictionaryBeginSave.sender.fontDictionaryBeginSave()},a.prototype.onDescendantFontBeginSave=function(){this.descendantFontBeginSave.sender.descendantFontBeginSave()},a.prototype.onTemplateBeginSave=function(){this.pageBeginDrawTemplate.sender.pageBeginSave()},a.prototype.onBeginAnnotationSave=function(){this.annotationBeginSave.sender.beginSave()},a.prototype.onSectionBeginSave=function(e){var t=this.sectionBeginSave;t.sender.beginSave(t.state,e)},a.prototype.save=function(e,t){typeof t>"u"?this.save(e,!0):(e.write(this.prefix),typeof this.beginSave<"u"&&this.onBeginSave(),typeof this.descendantFontBeginSave<"u"&&this.onDescendantFontBeginSave(),typeof this.fontDictionaryBeginSave<"u"&&this.onFontDictionaryBeginSave(),typeof this.annotationBeginSave<"u"&&this.onBeginAnnotationSave(),typeof this.sectionBeginSave<"u"&&this.onSectionBeginSave(e),typeof this.pageBeginDrawTemplate<"u"&&this.onTemplateBeginSave(),this.Count>0&&this.saveItems(e),e.write(this.suffix),e.write(oe.newLine))},a.prototype.saveItems=function(e){e.write(oe.newLine);for(var t=this.primitiveItems.keys(),i=this.primitiveItems.values(),s=0;s<t.length;s++){var o=t[s],c=new Me(o);c.save(e),e.write(oe.whiteSpace);var f=i[s];f.save(e),e.write(oe.newLine)}},a}(),ou=function(){function a(e){this.sender=e}return a}(),lu=function(){function a(e){this.sender=e}return a}(),hu=function(){function a(e){this.sender=e}return a}(),cu=function(){function a(e,t){this.sender=e,this.state=t}return a}(),uu=function(){function a(e){this.sender=e}return a}(),Le=function(){function a(e){this.position5=-1,this.value=e}return Object.defineProperty(a.prototype,"intValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isInteger",{get:function(){return this.integer},set:function(e){this.integer=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"status",{get:function(){return this.status5},set:function(e){this.status5=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSaving",{get:function(){return this.isSaving5},set:function(e){this.isSaving5=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"objectCollectionIndex",{get:function(){return this.index5},set:function(e){this.index5=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return this.position5},set:function(e){this.position5=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clonedObject",{get:function(){var e=null;return e},enumerable:!0,configurable:!0}),a.prototype.save=function(e){e.write(this.intValue.toString())},a.prototype.clone=function(e){var t=new a(this.value);return t},a.floatToString=function(e){var t=e.toFixed(2);return t==="0.00"&&(t=".00"),t},a.min=function(e,t,i){var s=Math.min(e,t);return Math.min(i,s)},a}(),ft=function(){function a(e){if(this.startMark="[",this.endMark="]",this.position9=-1,this.clonedObject9=null,this.isFont=!1,typeof e>"u")this.internalElements=[];else if(typeof e<"u"&&!(e instanceof a))for(var t=e,i=0;i<t.length;i++){var s=new Le(t[i]);this.add(s)}else{var o=e;this.internalElements=[];for(var i=0;i<o.elements.length;i++)this.internalElements.push(o.elements[i])}}return a.prototype.items=function(e){return this.internalElements[e]},Object.defineProperty(a.prototype,"count",{get:function(){return this.internalElements.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"status",{get:function(){return this.status9},set:function(e){this.status9=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSaving",{get:function(){return this.isSaving9},set:function(e){this.isSaving9=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clonedObject",{get:function(){return this.clonedObject9},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return this.position9},set:function(e){this.position9=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"objectCollectionIndex",{get:function(){return this.index9},set:function(e){this.index9=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"CrossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"elements",{get:function(){return this.internalElements},enumerable:!0,configurable:!0}),a.prototype.add=function(e){typeof this.internalElements>"u"&&(this.internalElements=[]),this.internalElements.push(e),this.markedChange()},a.prototype.markedChange=function(){this.bChanged=!0},a.prototype.contains=function(e){for(var t=!1,i=0;i<this.internalElements.length;i++){var s=this.internalElements[i],o=e;if(s!=null&&typeof s<"u"&&o!=null&&typeof o<"u"&&s.value===o.value)return!0}return t},a.prototype.getItems=function(e){return this.internalElements[e]},a.prototype.save=function(e){e.write(this.startMark);for(var t=0,i=this.count;t<i;t++)this.getItems(t).save(e),t+1!==i&&e.write(oe.whiteSpace);e.write(this.endMark)},a.prototype.clone=function(e){this.clonedObject9=null;for(var t=new a,i=0;i<this.internalElements.length;i++){var s=this.internalElements[i];t.add(s.clone(e))}return t.pdfCrossTable=e,this.clonedObject9=t,t},a.fromRectangle=function(e){var t=[e.x,e.y,e.width,e.height],i=new a(t);return i},a.prototype.insert=function(e,t){if(e<this.internalElements.length&&e>0){for(var i=[],s=0;s<e;s++)i.push(this.internalElements[s]);i.push(t);for(var s=e;s<this.internalElements.length;s++)i.push(this.internalElements[s]);this.internalElements=i}else this.internalElements.push(t);this.markChanged()},a.prototype.indexOf=function(e){return this.internalElements.indexOf(e)},a.prototype.remove=function(e){var t=this.internalElements.indexOf(e);this.internalElements[t]=null,this.markChanged()},a.prototype.removeAt=function(e){if(this.internalElements.length>e){for(var t=[],i=0;i<e;i++)t.push(this.internalElements[i]);for(var i=e+1;i<this.internalElements.length;i++)t.push(this.internalElements[i]);this.internalElements=t}this.markChanged()},a.prototype.clear=function(){this.internalElements=[],this.markChanged()},a.prototype.markChanged=function(){this.bChanged=!0},a}(),js=function(){function a(){}return a.save=function(e,t){if(e==null||e==="")throw new Error("ArgumentException: fileName cannot be undefined, null or empty");var i=e.substring(e.lastIndexOf(".")+1,e.length),s=this.getMimeType(i);if(s!==""&&(t=new Blob([t],{type:s})),this.isMicrosoftBrowser)navigator.msSaveBlob(t,e);else{var o=document.createElementNS("http://www.w3.org/1999/xhtml","a");this.saveInternal(e,i,t,o,"download"in o)}},a.saveInternal=function(e,t,i,s,o){if(o){s.download=e;var c=window.URL.createObjectURL(i);s.href=c;var f=document.createEvent("MouseEvent");f.initEvent("click",!0,!0),s.dispatchEvent(f),setTimeout(function(){window.URL.revokeObjectURL(c),c=void 0})}else if(t!=="docx"&&t!=="xlsx"){var m=window.URL.createObjectURL(i),b=window.open(m,"_blank");b||(window.location.href=m)}else{var S=new FileReader;S.onloadend=function(){var k=window.open(S.result,"_blank");k||(window.location.href=S.result)},S.readAsDataURL(i)}},a.getMimeType=function(e){var t="";switch(e){case"html":t="text/html";break;case"pdf":t="application/pdf";break;case"docx":t="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"txt":t="text/plain";break}return t},a}(),Br=function(){function a(e){this.emitBOM=!0,this.encodingType="Ansi",this.initBOM(e)}return Object.defineProperty(a.prototype,"includeBom",{get:function(){return this.emitBOM},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"type",{get:function(){return this.encodingType},set:function(e){this.encodingType=e},enumerable:!0,configurable:!0}),a.prototype.initBOM=function(e){e==null?this.emitBOM=!0:this.emitBOM=e},a.prototype.getByteCount=function(e){if(Ci(e,"string"),e===""){var t=this.utf8Len(e.charCodeAt(0));return t}return(this.type===null||this.type===void 0)&&(this.type="Ansi"),this.getByteCountInternal(e,0,e.length)},a.prototype.utf8Len=function(e){var t=e<=127?1:e<=2047?2:e<=65535?3:e<=2097151?4:0;return t},a.prototype.isHighSurrogate=function(e){return e>=55296&&e<=56319},a.prototype.toCodepoint=function(e,t){e=(1023&e)<<10;var i=e|1023&t;return i+65536},a.prototype.getByteCountInternal=function(e,t,i){var s=0;if(this.encodingType==="Utf8"||this.encodingType==="Unicode"){for(var o=this.encodingType==="Utf8",c=0;c<i;c++){var f=e.charCodeAt(o?t:t++);if(this.isHighSurrogate(f))if(o){var m=f,b=e.charCodeAt(++t);s+=this.utf8Len(this.toCodepoint(m,b))}else s+=4,++c;else o?s+=this.utf8Len(f):s+=2;o&&t++}return s}else return s=i,s},a.prototype.getBytes=function(e,t,i){if(Ci(e,"string"),Ci(t,"charIndex"),Ci(i,"charCount"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: charIndex or charCount is less than zero");if(e.length-t<i)throw new RangeError("Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string");var s;if(e==="")return s=new ArrayBuffer(0),s;(this.type===null||this.type===void 0)&&(this.type="Ansi");var o=this.getByteCountInternal(e,t,i);switch(this.type){case"Utf8":return s=this.getBytesOfUtf8Encoding(o,e,t,i),s;case"Unicode":return s=this.getBytesOfUnicodeEncoding(o,e,t,i),s;default:return s=this.getBytesOfAnsiEncoding(o,e,t,i),s}},a.prototype.getString=function(e,t,i){if(Ci(e,"bytes"),Ci(t,"index"),Ci(i,"count"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: index or count is less than zero");if(e.byteLength-t<i)throw new RangeError("Argument Out Of Range Exception: index and count do not denote a valid range in bytes");if(e.byteLength===0||i===0)return"";(this.type===null||this.type===void 0)&&(this.type="Ansi");var s="",o=new Uint8Array(e);switch(this.type){case"Utf8":var c=this.getStringOfUtf8Encoding(o,t,i);return c;case"Unicode":var f=new Uint16Array(e);return s=this.getStringofUnicodeEncoding(f,t,i),s;default:for(var m=t,b=0;b<i;b++){var S=o[m];s+=String.fromCharCode(S),m++}return s}},a.prototype.getBytesOfAnsiEncoding=function(e,t,i,s){for(var o=new ArrayBuffer(e),c=new Uint8Array(o),f=0,m=0;m<s;m++){var b=t.charCodeAt(i++);b<2048?c[f]=b:c[f]=63,f++}return o},a.prototype.getBytesOfUtf8Encoding=function(e,t,i,s){for(var o=new ArrayBuffer(e),c=new Uint8Array(o),f=i,m=0,b=0;b<s;b++){var S=t.charCodeAt(f);S<=127?c[m]=S:S<2048?(c[m]=192|S>>6,c[++m]=128|S&63):S<55296||S>=57344?(c[m]=224|S>>12,c[++m]=128|S>>6&63,c[++m]=128|S&63):(c[m]=239,c[++m]=191,c[++m]=189),++m,++f}return o},a.prototype.getBytesOfUnicodeEncoding=function(e,t,i,s){for(var o=new ArrayBuffer(e),c=new Uint16Array(o),f=0;f<s;f++){var m=t.charCodeAt(f);c[f]=m}return o},a.prototype.getStringOfUtf8Encoding=function(e,t,i){var s=0,o=t,c="";for(s;s<i;s++){for(var f=e[o++];o>e.length;)return c;f>127&&(f>191&&f<224&&o<i?f=(f&31)<<6|e[o]&63:f>223&&f<240&&o<e.byteLength?f=(f&15)<<12|(e[o]&63)<<6|e[++o]&63:f>239&&f<248&&o<e.byteLength&&(f=(f&7)<<18|(e[o]&63)<<12|(e[++o]&63)<<6|e[++o]&63),++o),c+=String.fromCharCode(f)}return c},a.prototype.getStringofUnicodeEncoding=function(e,t,i){if(i>e.length)throw new RangeError("ArgumentOutOfRange_Count");for(var s=new Uint16Array(i),o="",c=0;c<i&&c<e.length;c++)s[c]=e[t++];return o=String.fromCharCode.apply(null,s),o},a.prototype.destroy=function(){this.emitBOM=void 0,this.encodingType=void 0},a}();function Ci(a,e){if(a==null)throw new Error("ArgumentException: "+e+" cannot be null or undefined")}var Wa=function(){function a(e){this.bufferBlob=new Blob([""]),this.bufferText="",this.init(e),js.isMicrosoftBrowser=!!navigator.msSaveBlob}return Object.defineProperty(a.prototype,"buffer",{get:function(){return this.flush(),this.bufferBlob},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"encoding",{get:function(){return this.enc},enumerable:!0,configurable:!0}),a.prototype.init=function(e){e==null?(this.enc=new Br(!1),this.enc.type="Utf8"):(this.enc=e,this.setBomByte())},a.prototype.setBomByte=function(){if(this.encoding.includeBom)switch(this.encoding.type){case"Unicode":var e=new ArrayBuffer(2),t=new Uint8Array(e);t[0]=255,t[1]=254,this.bufferBlob=new Blob([e]);break;case"Utf8":var i=new ArrayBuffer(3),s=new Uint8Array(i);s[0]=239,s[1]=187,s[2]=191,this.bufferBlob=new Blob([i]);break;default:this.bufferBlob=new Blob([""]);break}},a.prototype.save=function(e){this.bufferText!==""&&this.flush(),js.save(e,this.buffer)},a.prototype.write=function(e){if(this.encoding===void 0)throw new Error("Object Disposed Exception: current writer is disposed");Ci(e,"string"),this.bufferText+=e,this.bufferText.length>=10240&&this.flush()},a.prototype.flush=function(){if(!(this.bufferText===void 0||this.bufferText===null||this.bufferText.length===0)){var e=this.encoding.getBytes(this.bufferText,0,this.bufferText.length);this.bufferText="",this.bufferBlob=new Blob([this.bufferBlob,e])}},a.prototype.writeLine=function(e){if(this.encoding===void 0)throw new Error("Object Disposed Exception: current writer is disposed");Ci(e,"string"),this.bufferText=this.bufferText+e+`\r
`,this.bufferText.length>=10240&&this.flush()},a.prototype.destroy=function(){this.bufferBlob=void 0,this.bufferText=void 0,this.enc instanceof Br&&this.enc.destroy(),this.enc=void 0},a}(),bt=function(){function a(){}return a.bitReverse=function(e){return a.reverseBits[e&15]<<12|a.reverseBits[e>>4&15]<<8|a.reverseBits[e>>8&15]<<4|a.reverseBits[e>>12]},a.bitConverterToInt32=function(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24},a.bitConverterToInt16=function(e,t){return e[t]|e[t+1]<<8},a.bitConverterToUInt32=function(e){var t=new Uint32Array(1);return t[0]=e,t[0]},a.bitConverterToUInt16=function(e,t){var i=new Uint16Array(1);return i[0]=e[t]|e[t+1]<<8,i[0]},a.bitConverterUintToInt32=function(e){var t=new Int32Array(1);return t[0]=e,t[0]},a.bitConverterInt32ToUint=function(e){var t=new Uint32Array(1);return t[0]=e,t[0]},a.bitConverterInt32ToInt16=function(e){var t=new Int16Array(1);return t[0]=e,t[0]},a.byteToString=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},a.byteIntToString=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},a.arrayCopy=function(e,t,i,s,o){var c=new Uint8Array(e.buffer,t),f=c.subarray(0,o);i.set(f,s)},a.mergeArray=function(e,t){var i=new Uint8Array(e.length+t.length);return i.set(e),i.set(t,e.length),i},a.encodedString=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,s,o,c,f,m,b,S=0,k=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var L=e.length*3/4;if(e.charAt(e.length-1)===t.charAt(64)&&L--,e.charAt(e.length-2)===t.charAt(64)&&L--,L%1!==0)throw new Error("Invalid base64 input, bad content length.");for(var I=new Uint8Array(L|0);S<e.length;)c=t.indexOf(e.charAt(S++)),f=t.indexOf(e.charAt(S++)),m=t.indexOf(e.charAt(S++)),b=t.indexOf(e.charAt(S++)),i=c<<2|f>>4,s=(f&15)<<4|m>>2,o=(m&3)<<6|b,I[k++]=i,m!==64&&(I[k++]=s),b!==64&&(I[k++]=o);return I},a.reverseBits=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],a.huffCodeLengthOrders=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],a}(),Ls=[],Xr=4,fr=2,du=101010256,fu=12,pu=33639248,Ps=4096,_t=function(){function a(){Ls.length===0&&a.initCrc32Table(),this.files=[],this.level="Normal",js.isMicrosoftBrowser=!!navigator.msSaveBlob}return Object.defineProperty(a.prototype,"items",{get:function(){return this.files},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"compressionLevel",{get:function(){return this.level},set:function(e){this.level=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this.files===void 0?0:this.files.length},enumerable:!0,configurable:!0}),a.prototype.addItem=function(e){if(e==null)throw new Error("ArgumentException: item cannot be null or undefined");for(var t=0;t<this.files.length;t++){var i=this.files[t];if(i instanceof Ar&&i.name===e.name)throw new Error("item with same name already exist")}this.files.push(e)},a.prototype.addDirectory=function(e){if(e==null)throw new Error("ArgumentException: string cannot be null or undefined");if(e.length===0)throw new Error("ArgumentException: string cannot be empty");if(e.slice(-1)!=="/"&&(e+="/"),this.files.indexOf(e)!==-1)throw new Error("item with same name already exist");this.files.push(e)},a.prototype.getItem=function(e){if(e>=0&&e<this.files.length)return this.files[e]},a.prototype.contains=function(e){return this.files.indexOf(e)!==-1},a.prototype.open=function(e){var t=bt.encodedString(e);if(t.length==0)throw new DOMException("stream");var i=new Xs(t),s=a.findValueFromEnd(i,du,65557);if(s<0)throw new DOMException("Can't locate end of central directory record. Possible wrong file format or archive is corrupt.");i.position=s+fu;var o=a.ReadInt32(i),c=s-o;i.position=c,this.readCentralDirectoryDataAndExtractItems(i)},a.prototype.readCentralDirectoryDataAndExtractItems=function(e){if(e==null)throw new DOMException("stream");for(var t;a.ReadInt32(e)==pu;)t=new gu,t.readCentralDirectoryData(e);t.readData(e,t.checkCrc),t.decompressData(),this.files.push(new Ar(t.unCompressedStream.buffer,t.name))},a.prototype.save=function(e){if(e==null||e.length===0)throw new Error("ArgumentException: fileName cannot be null or undefined");if(this.files.length===0)throw new Error("InvalidOperation");var t=this;return new Promise(function(i,s){t.saveInternal(e,!1).then(function(){i(t)})})},a.prototype.saveAsBlob=function(){var e=this;return new Promise(function(t,i){e.saveInternal("",!0).then(function(s){t(s)})})},a.prototype.saveInternal=function(e,t){var i=this,s=this;return new Promise(function(o,c){for(var f=[],m=0,b=0;b<s.files.length;b++){var S=i.getCompressedData(i.files[b]);S.then(function(k){if(m=s.constructZippedObject(f,k,m,k.isDirectory),f.length===s.files.length){var L=s.writeZippedContent(e,f,m,t);o(L)}})}})},a.prototype.destroy=function(){if(this.files!==void 0&&this.files.length>0){for(var e=0;e<this.files.length;e++){var t=this.files[e];t instanceof Ar&&t.destroy(),t=void 0}this.files=[]}this.files=void 0,this.level=void 0},a.prototype.getCompressedData=function(e){var t=this,i=new Promise(function(s,o){if(e instanceof Ar){var c=new FileReader;c.onload=function(){var m=new Uint8Array(c.result),b={fileName:e.name,crc32Value:0,compressedData:[],compressedSize:void 0,uncompressedDataSize:m.length,compressionType:void 0,isDirectory:!1};if(t.level==="Normal"){t.compressData(m,b,Ls);for(var S=0,k=0;k<b.compressedData.length;k++)S+=b.compressedData[k].length;b.compressedSize=S,b.compressionType="\b\0"}else b.compressedSize=m.length,b.crc32Value=t.calculateCrc32Value(0,m,Ls),b.compressionType="\0\0",b.compressedData.push(m);s(b)},c.readAsArrayBuffer(e.data)}else{var f={fileName:e,crc32Value:0,compressedData:"",compressedSize:0,uncompressedDataSize:0,compressionType:"\0\0",isDirectory:!0};s(f)}});return i},a.prototype.compressData=function(e,t,i){var s=new Sl(!0),o=0,c=0;do{if(o>=e.length){s.close();break}c=Math.min(e.length,o+16384);var f=e.subarray(o,c);t.crc32Value=this.calculateCrc32Value(t.crc32Value,f,i),s.write(f,0,c-o),o=c}while(o<=e.length);t.compressedData=s.compressedData,s.destroy()},a.prototype.constructZippedObject=function(e,t,i,s){var o=0,c=new Date;s&&(o=o|16),o=o|0;var f=this.writeHeader(t,c),m="PK"+f+t.fileName,b=this.writeCentralDirectory(t,f,i,o);return e.push({localHeader:m,centralDir:b,compressedData:t}),i+m.length+t.compressedSize},a.prototype.writeHeader=function(e,t){var i="";return i+=`
\0\0\0`,i+=e.compressionType,i+=this.getBytes(this.getModifiedTime(t),2),i+=this.getBytes(this.getModifiedDate(t),2),i+=this.getBytes(e.crc32Value,4),i+=this.getBytes(e.compressedSize,4),i+=this.getBytes(e.uncompressedDataSize,4),i+=this.getBytes(e.fileName.length,2),i+=this.getBytes(0,2),i},a.prototype.writeZippedContent=function(e,t,i,s){for(var o=0,c=[],f=0;f<t.length;f++){var m=t[f];for(o+=m.centralDir.length,c.push(this.getArrayBuffer(m.localHeader));m.compressedData.compressedData.length;)c.push(m.compressedData.compressedData.shift().buffer)}for(var f=0;f<t.length;f++)c.push(this.getArrayBuffer(t[f].centralDir));c.push(this.getArrayBuffer(this.writeFooter(t,o,i)));var b=new Blob(c,{type:"application/zip"});return s||js.save(e,b),b},a.prototype.writeCentralDirectory=function(e,t,i,s){var o="PK"+this.getBytes(20,2)+t+this.getBytes(0,2)+"\0\0\0\0"+this.getBytes(s,4)+this.getBytes(i,4)+e.fileName;return o},a.prototype.writeFooter=function(e,t,i){var s="PK\0\0\0\0"+this.getBytes(e.length,2)+this.getBytes(e.length,2)+this.getBytes(t,4)+this.getBytes(i,4)+this.getBytes(0,2);return s},a.prototype.getArrayBuffer=function(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;++i)t[i]=e.charCodeAt(i)&255;return t.buffer},a.prototype.getBytes=function(e,t){for(var i="",s=0;s<t;s++)i+=String.fromCharCode(e&255),e=e>>>8;return i},a.prototype.getModifiedTime=function(e){var t=e.getHours();return t=t<<6,t=t|e.getMinutes(),t=t<<5,t=t|e.getSeconds()/2},a.prototype.getModifiedDate=function(e){var t=e.getFullYear()-1980;return t=t<<4,t=t|e.getMonth()+1,t=t<<5,t=t|e.getDate()},a.prototype.calculateCrc32Value=function(e,t,i){e^=-1;for(var s=0;s<t.length;s++)e=e>>>8^i[(e^t[s])&255];return e^-1},a.initCrc32Table=function(){for(var e,t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;Ls[t]=e}},a.findValueFromEnd=function(e,t,i){if(e==null)throw new DOMException("stream");var s=e.inputStream.buffer.byteLength;if(s<4)return-1;var o=new Uint8Array(4),c=Math.max(0,s-i),f=s-1-Xr;e.position=f,e.read(o,0,Xr);var m=o[0],b=m==t;if(!b){for(;f>c;)if(m<<=8,f--,e.position=f,m+=e.readByte(),m==t){b=!0;break}}return b?f:-1},a.ReadInt32=function(e){var t=new Uint8Array(Xr);if(e.read(t,0,Xr)!=Xr)throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return bt.bitConverterToInt32(t,0)},a.ReadInt16=function(e){var t=new Uint8Array(fr);if(e.read(t,0,fr)!=fr)throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return bt.bitConverterToInt16(t,0)},a.ReadUInt16=function(e){{var t=new Uint8Array(fr);if(e.read(t,0,fr)!=fr)throw new DOMException("Unable to read value at the specified position - end of stream was reached.");return bt.bitConverterToInt16(t,0)}},a}(),gu=function(){function a(){this.headerSignature=67324752,this.checkCrc=!0,this.crc32=0}return a.prototype.readCentralDirectoryData=function(e){e.position+=4,this.options=_t.ReadInt16(e),this.compressionMethod=_t.ReadInt16(e),this.checkCrc=this.compressionMethod!=99,_t.ReadInt32(e),this.crc32=bt.bitConverterToUInt32(_t.ReadInt32(e)),this.compressedSize=_t.ReadInt32(e),this.originalSize=_t.ReadInt32(e);var t=_t.ReadInt16(e),i=_t.ReadInt16(e),s=_t.ReadInt16(e);e.position+=4,this.externalAttributes=_t.ReadInt32(e),this.localHeaderOffset=_t.ReadInt32(e);var o=new Uint8Array(t);e.read(o,0,t);var c=bt.byteToString(o);c=c.replace("\\","/"),this.name=c,e.position+=i+s,this.options!=0&&(this.options=0)},a.prototype.readData=function(e,t){if(e.length==0)throw new DOMException("stream");e.position=this.localHeaderOffset,this.checkCrc=t,this.readLocalHeader(e),this.readCompressedData(e)},a.prototype.decompressData=function(){this.compressionMethod==8&&this.originalSize>0&&this.decompressDataOld()},a.prototype.decompressDataOld=function(){var e=new yu(this.compressedStream,!0),t;this.originalSize>0&&(t=new Xs(new Uint8Array(this.originalSize)));for(var i=new Uint8Array(Ps),s;(s=e.read(i,0,Ps))>0;)t.write(i.subarray(0,s),0,s);this.unCompressedStream=t.toByteArray(),this.checkCrc},a.prototype.readLocalHeader=function(e){if(e.length==0)throw new DOMException("stream");if(_t.ReadInt32(e)!=this.headerSignature)throw new DOMException("Can't find local header signature - wrong file format or file is corrupt.");e.position+=22;var t=_t.ReadInt16(e),i=_t.ReadUInt16(e);if(this.compressionMethod!=99)if(i>2){e.position+=t;var s=_t.ReadInt16(e);if(s==23)throw new DOMException("UnSupported");e.position+=i-2}else e.position+=t+i},a.prototype.readCompressedData=function(e){var t;if(this.compressedSize>0){var i=this.compressedSize;t=new Xs(new Uint8Array(i));for(var s=new Uint8Array(Ps);i>0;){var o=Math.min(i,Ps);if(e.read(s,0,o)!=o)throw new DOMException("End of file reached - wrong file format or file is corrupt.");t.write(s.subarray(0,o),0,o),i-=o}this.compressedStream=new Uint8Array(t.inputStream)}else this.compressedSize<0||this.compressedSize==0},a}(),Ar=function(){function a(e,t){if(e==null)throw new Error("ArgumentException: data cannot be null or undefined");if(t==null)throw new Error("ArgumentException: string cannot be null or undefined");if(t.length===0)throw new Error("string cannot be empty");this.data=e,this.name=t}return Object.defineProperty(a.prototype,"dataStream",{get:function(){return this.decompressedStream},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this.fileName},set:function(e){this.fileName=e},enumerable:!0,configurable:!0}),a.prototype.destroy=function(){this.fileName=void 0,this.data=void 0},a}(),Yr=new Int16Array(286),pr=new Uint8Array(286),ja=new Int16Array(30),vn=new Uint8Array(30),Sl=function(){function a(e){this.pendingBuffer=new Uint8Array(65536),this.pendingBufLength=0,this.pendingBufCache=0,this.pendingBufBitsInCache=0,this.bufferPosition=0,this.extraBits=0,this.currentHash=0,this.matchStart=0,this.matchLength=0,this.matchPrevAvail=!1,this.blockStart=0,this.stringStart=0,this.lookAhead=0,this.totalBytesIn=0,this.inputOffset=0,this.inputEnd=0,this.windowSize=32768,this.windowMask=this.windowSize-1,this.hashSize=32768,this.hashMask=this.hashSize-1,this.hashShift=Math.floor((15+3-1)/3),this.maxDist=this.windowSize-262,this.checkSum=1,this.noWrap=!1,a.isHuffmanTreeInitiated||(a.initHuffmanTree(),a.isHuffmanTreeInitiated=!0),this.treeLiteral=new pi(this,286,257,15),this.treeDistances=new pi(this,30,1,15),this.treeCodeLengths=new pi(this,19,4,7),this.arrDistances=new Uint16Array(16384),this.arrLiterals=new Uint8Array(16384),this.stream=[],this.dataWindow=new Uint8Array(2*this.windowSize),this.hashHead=new Int16Array(this.hashSize),this.hashPrevious=new Int16Array(this.windowSize),this.blockStart=this.stringStart=1,this.noWrap=e,e||this.writeZLibHeader()}return Object.defineProperty(a.prototype,"compressedData",{get:function(){return this.stream},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"getCompressedString",{get:function(){var e="";if(this.stream!==void 0)for(var t=0;t<this.stream.length;t++)e+=String.fromCharCode.apply(null,this.stream[t]);return e},enumerable:!0,configurable:!0}),a.prototype.write=function(e,t,i){if(e==null)throw new Error("ArgumentException: data cannot null or undefined");var s=t+i;if(0>t||t>s||s>e.length)throw new Error("ArgumentOutOfRangeException: Offset or length is incorrect");if(typeof e=="string"){var o=new Br(!1);o.type="Utf8",e=new Uint8Array(o.getBytes(e,0,e.length)),s=t+e.length}for(this.inputBuffer=e,this.inputOffset=t,this.inputEnd=s,this.noWrap||(this.checkSum=mu.checksumUpdate(this.checkSum,this.inputBuffer,this.inputOffset,s));this.inputEnd!==this.inputOffset||this.pendingBufLength!==0;)this.pendingBufferFlush(),this.compressData(!1)},a.prototype.writeZLibHeader=function(){var e=30720;e|=64,e+=31-e%31,this.pendingBufferWriteShortBytes(e)},a.prototype.pendingBufferWriteShortBytes=function(e){this.pendingBuffer[this.pendingBufLength++]=e>>8,this.pendingBuffer[this.pendingBufLength++]=e},a.prototype.compressData=function(e){var t;do{this.fillWindow();var i=e&&this.inputEnd===this.inputOffset;t=this.compressSlow(i,e)}while(this.pendingBufLength===0&&t);return t},a.prototype.compressSlow=function(e,t){if(this.lookAhead<262&&!e)return!1;for(;this.lookAhead>=262||e;){if(this.lookAhead===0)return this.lookAheadCompleted(t);this.stringStart>=2*this.windowSize-262&&this.slideWindow();var i=this.matchStart,s=this.matchLength;if(this.lookAhead>=3&&this.discardMatch(),s>=3&&this.matchLength<=s?s=this.matchPreviousBest(i,s):this.matchPreviousAvailable(),this.bufferPosition>=16384)return this.huffmanIsFull(t)}return!0},a.prototype.discardMatch=function(){var e=this.insertString();e!==0&&this.stringStart-e<=this.maxDist&&this.findLongestMatch(e)&&this.matchLength<=5&&this.matchLength===3&&this.stringStart-this.matchStart>4096&&(this.matchLength=3-1)},a.prototype.matchPreviousAvailable=function(){this.matchPrevAvail&&this.huffmanTallyLit(this.dataWindow[this.stringStart-1]&255),this.matchPrevAvail=!0,this.stringStart++,this.lookAhead--},a.prototype.matchPreviousBest=function(e,t){this.huffmanTallyDist(this.stringStart-1-e,t),t-=2;do this.stringStart++,this.lookAhead--,this.lookAhead>=3&&this.insertString();while(--t>0);return this.stringStart++,this.lookAhead--,this.matchPrevAvail=!1,this.matchLength=3-1,t},a.prototype.lookAheadCompleted=function(e){return this.matchPrevAvail&&this.huffmanTallyLit(this.dataWindow[this.stringStart-1]&255),this.matchPrevAvail=!1,this.huffmanFlushBlock(this.dataWindow,this.blockStart,this.stringStart-this.blockStart,e),this.blockStart=this.stringStart,!1},a.prototype.huffmanIsFull=function(e){var t=this.stringStart-this.blockStart;this.matchPrevAvail&&t--;var i=e&&this.lookAhead===0&&!this.matchPrevAvail;return this.huffmanFlushBlock(this.dataWindow,this.blockStart,t,i),this.blockStart+=t,!i},a.prototype.fillWindow=function(){for(this.stringStart>=this.windowSize+this.maxDist&&this.slideWindow();this.lookAhead<262&&this.inputOffset<this.inputEnd;){var e=2*this.windowSize-this.lookAhead-this.stringStart;e>this.inputEnd-this.inputOffset&&(e=this.inputEnd-this.inputOffset),this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset,this.inputOffset+e),this.stringStart+this.lookAhead),this.inputOffset+=e,this.totalBytesIn+=e,this.lookAhead+=e}this.lookAhead>=3&&this.updateHash()},a.prototype.slideWindow=function(){this.dataWindow.set(this.dataWindow.subarray(this.windowSize,this.windowSize+this.windowSize),0),this.matchStart-=this.windowSize,this.stringStart-=this.windowSize,this.blockStart-=this.windowSize;for(var e=0;e<this.hashSize;++e){var t=this.hashHead[e]&65535;this.hashHead[e]=t>=this.windowSize?t-this.windowSize:0}for(var e=0;e<this.windowSize;e++){var t=this.hashPrevious[e]&65535;this.hashPrevious[e]=t>=this.windowSize?t-this.windowSize:0}},a.prototype.insertString=function(){var e,t=(this.currentHash<<this.hashShift^this.dataWindow[this.stringStart+2])&this.hashMask;return this.hashPrevious[this.stringStart&this.windowMask]=e=this.hashHead[t],this.hashHead[t]=this.stringStart,this.currentHash=t,e&65535},a.prototype.findLongestMatch=function(e){var t=4096,i=258,s=this.stringStart,o,c=this.stringStart+this.matchLength,f=Math.max(this.matchLength,3-1),m=Math.max(this.stringStart-this.maxDist,0),b=this.stringStart+258-1,S=this.dataWindow[c-1],k=this.dataWindow[c],L=this.dataWindow;f>=32&&(t>>=2),i>this.lookAhead&&(i=this.lookAhead);do if(!(L[e+f]!==k||L[e+f-1]!==S||L[e]!==L[s]||L[e+1]!==L[s+1])){for(o=e+2,s+=2;L[++s]===L[++o]&&L[++s]===L[++o]&&L[++s]===L[++o]&&L[++s]===L[++o]&&L[++s]===L[++o]&&L[++s]===L[++o]&&L[++s]===L[++o]&&L[++s]===L[++o]&&s<b;);if(s>c){if(this.matchStart=e,c=s,f=s-this.stringStart,f>=i)break;S=L[c-1],k=L[c]}s=this.stringStart}while((e=this.hashPrevious[e&this.windowMask]&65535)>m&&--t!==0);return this.matchLength=Math.min(f,this.lookAhead),this.matchLength>=3},a.prototype.updateHash=function(){this.currentHash=this.dataWindow[this.stringStart]<<this.hashShift^this.dataWindow[this.stringStart+1]},a.prototype.huffmanTallyLit=function(e){return this.arrDistances[this.bufferPosition]=0,this.arrLiterals[this.bufferPosition++]=e,this.treeLiteral.codeFrequencies[e]++,this.bufferPosition>=16384},a.prototype.huffmanTallyDist=function(e,t){this.arrDistances[this.bufferPosition]=e,this.arrLiterals[this.bufferPosition++]=t-3;var i=this.huffmanLengthCode(t-3);this.treeLiteral.codeFrequencies[i]++,i>=265&&i<285&&(this.extraBits+=Math.floor((i-261)/4));var s=this.huffmanDistanceCode(e-1);return this.treeDistances.codeFrequencies[s]++,s>=4&&(this.extraBits+=Math.floor(s/2-1)),this.bufferPosition>=16384},a.prototype.huffmanFlushBlock=function(e,t,i,s){this.treeLiteral.codeFrequencies[256]++,this.treeLiteral.buildTree(),this.treeDistances.buildTree(),this.treeLiteral.calculateBLFreq(this.treeCodeLengths),this.treeDistances.calculateBLFreq(this.treeCodeLengths),this.treeCodeLengths.buildTree();for(var o=4,c=18;c>o;c--)this.treeCodeLengths.codeLengths[pi.huffCodeLengthOrders[c]]>0&&(o=c+1);for(var f=14+o*3+this.treeCodeLengths.getEncodedLength()+this.treeLiteral.getEncodedLength()+this.treeDistances.getEncodedLength()+this.extraBits,m=this.extraBits,c=0;c<286;c++)m+=this.treeLiteral.codeFrequencies[c]*pr[c];for(var c=0;c<30;c++)m+=this.treeDistances.codeFrequencies[c]*vn[c];f>=m&&(f=m),t>=0&&i+4<f>>3?this.huffmanFlushStoredBlock(e,t,i,s):f==m?(this.pendingBufferWriteBits(2+(s?1:0),3),this.treeLiteral.setStaticCodes(Yr,pr),this.treeDistances.setStaticCodes(ja,vn),this.huffmanCompressBlock(),this.huffmanReset()):(this.pendingBufferWriteBits(4+(s?1:0),3),this.huffmanSendAllTrees(o),this.huffmanCompressBlock(),this.huffmanReset())},a.prototype.huffmanFlushStoredBlock=function(e,t,i,s){this.pendingBufferWriteBits(0+(s?1:0),3),this.pendingBufferAlignToByte(),this.pendingBufferWriteShort(i),this.pendingBufferWriteShort(~i),this.pendingBufferWriteByteBlock(e,t,i),this.huffmanReset()},a.prototype.huffmanLengthCode=function(e){if(e===255)return 285;for(var t=257;e>=8;)t+=4,e>>=1;return t+e},a.prototype.huffmanDistanceCode=function(e){for(var t=0;e>=4;)t+=2,e>>=1;return t+e},a.prototype.huffmanSendAllTrees=function(e){this.treeCodeLengths.buildCodes(),this.treeLiteral.buildCodes(),this.treeDistances.buildCodes(),this.pendingBufferWriteBits(this.treeLiteral.treeLength-257,5),this.pendingBufferWriteBits(this.treeDistances.treeLength-1,5),this.pendingBufferWriteBits(e-4,4);for(var t=0;t<e;t++)this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[pi.huffCodeLengthOrders[t]],3);this.treeLiteral.writeTree(this.treeCodeLengths),this.treeDistances.writeTree(this.treeCodeLengths)},a.prototype.huffmanReset=function(){this.bufferPosition=0,this.extraBits=0,this.treeLiteral.reset(),this.treeDistances.reset(),this.treeCodeLengths.reset()},a.prototype.huffmanCompressBlock=function(){for(var e=0;e<this.bufferPosition;e++){var t=this.arrLiterals[e]&255,i=this.arrDistances[e];if(i--!==0){var s=this.huffmanLengthCode(t);this.treeLiteral.writeCodeToStream(s);var o=Math.floor((s-261)/4);o>0&&o<=5&&this.pendingBufferWriteBits(t&(1<<o)-1,o);var c=this.huffmanDistanceCode(i);this.treeDistances.writeCodeToStream(c),o=Math.floor(c/2-1),o>0&&this.pendingBufferWriteBits(i&(1<<o)-1,o)}else this.treeLiteral.writeCodeToStream(t)}this.treeLiteral.writeCodeToStream(256)},a.prototype.pendingBufferWriteBits=function(e,t){var i=new Uint32Array(1);i[0]=this.pendingBufCache|e<<this.pendingBufBitsInCache,this.pendingBufCache=i[0],this.pendingBufBitsInCache+=t,this.pendingBufferFlushBits()},a.prototype.pendingBufferFlush=function(e){if(this.pendingBufferFlushBits(),this.pendingBufLength>0){var t=new Uint8Array(this.pendingBufLength);t.set(this.pendingBuffer.subarray(0,this.pendingBufLength),0),this.stream.push(t)}this.pendingBufLength=0},a.prototype.pendingBufferFlushBits=function(){for(var e=0;this.pendingBufBitsInCache>=8&&this.pendingBufLength<65536;)this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache,this.pendingBufCache>>=8,this.pendingBufBitsInCache-=8,e++;return e},a.prototype.pendingBufferWriteByteBlock=function(e,t,i){var s=e.subarray(t,t+i);this.pendingBuffer.set(s,this.pendingBufLength),this.pendingBufLength+=i},a.prototype.pendingBufferWriteShort=function(e){this.pendingBuffer[this.pendingBufLength++]=e,this.pendingBuffer[this.pendingBufLength++]=e>>8},a.prototype.pendingBufferAlignToByte=function(){this.pendingBufBitsInCache>0&&(this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache),this.pendingBufCache=0,this.pendingBufBitsInCache=0},a.initHuffmanTree=function(){for(var e=0;e<144;)Yr[e]=pi.bitReverse(48+e<<8),pr[e++]=8;for(;e<256;)Yr[e]=pi.bitReverse(400-144+e<<7),pr[e++]=9;for(;e<280;)Yr[e]=pi.bitReverse(0-256+e<<9),pr[e++]=7;for(;e<286;)Yr[e]=pi.bitReverse(192-280+e<<8),pr[e++]=8;for(e=0;e<30;e++)ja[e]=pi.bitReverse(e<<11),vn[e]=5},a.prototype.close=function(){do this.pendingBufferFlush(!0),this.compressData(!0)||(this.pendingBufferFlush(!0),this.pendingBufferAlignToByte(),this.noWrap||(this.pendingBufferWriteShortBytes(this.checkSum>>16),this.pendingBufferWriteShortBytes(this.checkSum&65535)),this.pendingBufferFlush(!0));while(this.inputEnd!==this.inputOffset||this.pendingBufLength!==0)},a.prototype.destroy=function(){this.stream=[],this.stream=void 0,this.pendingBuffer=void 0,this.treeLiteral=void 0,this.treeDistances=void 0,this.treeCodeLengths=void 0,this.arrLiterals=void 0,this.arrDistances=void 0,this.hashHead=void 0,this.hashPrevious=void 0,this.dataWindow=void 0,this.inputBuffer=void 0,this.pendingBufLength=void 0,this.pendingBufCache=void 0,this.pendingBufBitsInCache=void 0,this.bufferPosition=void 0,this.extraBits=void 0,this.currentHash=void 0,this.matchStart=void 0,this.matchLength=void 0,this.matchPrevAvail=void 0,this.blockStart=void 0,this.stringStart=void 0,this.lookAhead=void 0,this.totalBytesIn=void 0,this.inputOffset=void 0,this.inputEnd=void 0,this.windowSize=void 0,this.windowMask=void 0,this.hashSize=void 0,this.hashMask=void 0,this.hashShift=void 0,this.maxDist=void 0,this.checkSum=void 0,this.noWrap=void 0},a.isHuffmanTreeInitiated=!1,a}(),pi=function(){function a(e,t,i,s){this.writer=e,this.codeMinCount=i,this.maxLength=s,this.codeFrequency=new Uint16Array(t),this.lengthCount=new Int32Array(s)}return Object.defineProperty(a.prototype,"treeLength",{get:function(){return this.codeCount},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"codeLengths",{get:function(){return this.codeLength},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"codeFrequencies",{get:function(){return this.codeFrequency},enumerable:!0,configurable:!0}),a.prototype.setStaticCodes=function(e,t){var i=new Int16Array(e.length);i.set(e,0),this.codes=i;var s=new Uint8Array(t.length);s.set(t,0),this.codeLength=s},a.prototype.reset=function(){for(var e=0;e<this.codeFrequency.length;e++)this.codeFrequency[e]=0;this.codes=void 0,this.codeLength=void 0},a.prototype.writeCodeToStream=function(e){this.writer.pendingBufferWriteBits(this.codes[e]&65535,this.codeLength[e])},a.prototype.buildCodes=function(){var e=new Int32Array(this.maxLength);this.codes=new Int16Array(this.codeCount);for(var t=0,i=0;i<this.maxLength;i++)e[i]=t,t+=this.lengthCount[i]<<15-i;for(var s=0;s<this.codeCount;s++){var o=this.codeLength[s];o>0&&(this.codes[s]=a.bitReverse(e[o-1]),e[o-1]+=1<<16-o)}},a.bitReverse=function(e){return a.reverseBits[e&15]<<12|a.reverseBits[e>>4&15]<<8|a.reverseBits[e>>8&15]<<4|a.reverseBits[e>>12]},a.prototype.getEncodedLength=function(){for(var e=0,t=0;t<this.codeFrequency.length;t++)e+=this.codeFrequency[t]*this.codeLength[t];return e},a.prototype.calculateBLFreq=function(e){for(var t,i,s,o=-1,c=0;c<this.codeCount;){s=1;var f=this.codeLength[c];for(f===0?(t=138,i=3):(t=6,i=3,o!==f&&(e.codeFrequency[f]++,s=0)),o=f,c++;c<this.codeCount&&o===this.codeLength[c]&&(c++,!(++s>=t)););s<i?e.codeFrequency[o]+=s:o!==0?e.codeFrequency[16]++:s<=10?e.codeFrequency[17]++:e.codeFrequency[18]++}},a.prototype.writeTree=function(e){for(var t,i,s,o=-1,c=0;c<this.codeCount;){s=1;var f=this.codeLength[c];for(f===0?(t=138,i=3):(t=6,i=3,o!==f&&(e.writeCodeToStream(f),s=0)),o=f,c++;c<this.codeCount&&o===this.codeLength[c]&&(c++,!(++s>=t)););if(s<i)for(;s-- >0;)e.writeCodeToStream(o);else o!==0?(e.writeCodeToStream(16),this.writer.pendingBufferWriteBits(s-3,2)):s<=10?(e.writeCodeToStream(17),this.writer.pendingBufferWriteBits(s-3,3)):(e.writeCodeToStream(18),this.writer.pendingBufferWriteBits(s-11,7))}},a.prototype.buildTree=function(){for(var e=this.codeFrequency.length,t=new Int32Array(e),i=0,s=0,o=0;o<e;o++){var c=this.codeFrequency[o];if(c!==0){for(var f=i++,m=0;f>0&&this.codeFrequency[t[m=Math.floor((f-1)/2)]]>c;)t[f]=t[m],f=m;t[f]=o,s=o}}for(;i<2;)t[i++]=s<2?++s:0;this.codeCount=Math.max(s+1,this.codeMinCount);for(var b=i,S=b,k=new Int32Array(4*i-2),L=new Int32Array(2*i-1),I=0;I<i;I++){var _=t[I],N=2*I;k[N]=_,k[N+1]=-1,L[I]=this.codeFrequency[_]<<8,t[I]=I}this.constructHuffmanTree(t,i,L,S,k),this.buildLength(k)},a.prototype.constructHuffmanTree=function(e,t,i,s,o){do{for(var c=e[0],f=e[--t],m=i[f],b=0,S=1;S<t;)S+1<t&&i[e[S]]>i[e[S+1]]&&S++,e[b]=e[S],b=S,S=b*2+1;for(;(S=b)>0&&i[e[b=Math.floor((S-1)/2)]]>m;)e[S]=e[b];e[S]=f;var k=e[0];f=s++,o[2*f]=c,o[2*f+1]=k;var L=Math.min(i[c]&255,i[k]&255);for(i[f]=m=i[c]+i[k]-L+1,b=0,S=1;S<t;)S+1<t&&i[e[S]]>i[e[S+1]]&&S++,e[b]=e[S],b=S,S=b*2+1;for(;(S=b)>0&&i[e[b=Math.floor((S-1)/2)]]>m;)e[S]=e[b];e[S]=f}while(t>1)},a.prototype.buildLength=function(e){this.codeLength=new Uint8Array(this.codeFrequency.length);for(var t=Math.floor(e.length/2),i=Math.floor((t+1)/2),s=0,o=0;o<this.maxLength;o++)this.lengthCount[o]=0;if(s=this.calculateOptimalCodeLength(e,s,t),s!==0){var c=this.maxLength-1;do{for(;this.lengthCount[--c]===0;);do this.lengthCount[c]--,this.lengthCount[++c]++,s-=1<<this.maxLength-1-c;while(s>0&&c<this.maxLength-1)}while(s>0);this.recreateTree(e,s,i)}},a.prototype.recreateTree=function(e,t,i){this.lengthCount[this.maxLength-1]+=t,this.lengthCount[this.maxLength-2]-=t;for(var s=2*i,o=this.maxLength;o!==0;o--)for(var c=this.lengthCount[o-1];c>0;){var f=2*e[s++];e[f+1]===-1&&(this.codeLength[e[f]]=o,c--)}},a.prototype.calculateOptimalCodeLength=function(e,t,i){var s=new Int32Array(i);s[i-1]=0;for(var o=i-1;o>=0;o--){var c=2*o+1;if(e[c]!==-1){var f=s[o]+1;f>this.maxLength&&(f=this.maxLength,t++),s[e[c-1]]=s[e[c]]=f}else{var f=s[o];this.lengthCount[f-1]++,this.codeLength[e[c-1]]=s[o]}}return t},a.reverseBits=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],a.huffCodeLengthOrders=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],a}(),mu=function(){function a(){}return a.checksumUpdate=function(e,t,i,s){var o=new Uint32Array(1);o[0]=e;for(var c=o[0],f=o[0]=c&65535,m=o[0]=c>>a.checkSumBitOffset;s>0;){var b=Math.min(s,a.checksumIterationCount);for(s-=b;--b>=0;)f=f+(o[0]=t[i++]&255),m=m+f;f%=a.checksumBase,m%=a.checksumBase}return c=m<<a.checkSumBitOffset|f,c},a.checkSumBitOffset=16,a.checksumBase=65521,a.checksumIterationCount=3800,a}(),gr=function(){function a(e){this.buildTree(e)}return a.init=function(){var e,t;for(e=new Uint8Array(288),t=0;t<144;)e[t++]=8;for(;t<256;)e[t++]=9;for(;t<280;)e[t++]=7;for(;t<288;)e[t++]=8;for(a.m_LengthTree=new a(e),e=new Uint8Array(32),t=0;t<32;)e[t++]=5;a.m_DistanceTree=new a(e)},a.prototype.prepareData=function(e,t,i){for(var s=0,o=512,c=0;c<i.length;c++){var f=i[c];f>0&&e[f]++}for(var m=1;m<=a.MAX_BITLEN;m++)if(t[m]=s,s+=e[m]<<16-m,m>=10){var b=t[m]&130944,S=s&130944;o+=S-b>>16-m}return{code:s,treeSize:o}},a.prototype.treeFromData=function(e,t,i,s,o){for(var c=new Int16Array(o),f=512,m=128,b=a.MAX_BITLEN;b>=10;b--){var S=s&130944;s-=e[b]<<16-b;for(var k=s&130944,L=k;L<S;L+=m)c[bt.bitReverse(L)]=bt.bitConverterInt32ToInt16(-f<<4|b),f+=1<<b-9}for(var L=0;L<i.length;L++){var b=i[L];if(b!=0){s=t[b];var I=bt.bitReverse(s);if(b<=9)do c[I]=bt.bitConverterInt32ToInt16(L<<4|b),I+=1<<b;while(I<512);else{var _=c[I&511],N=1<<(_&15);_=-(_>>4);do c[_|I>>9]=bt.bitConverterInt32ToInt16(L<<4|b),I+=1<<b;while(I<N)}t[b]=s+(1<<16-b)}}return c},a.prototype.buildTree=function(e){var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=this.prepareData(t,i,e);this.m_Tree=this.treeFromData(t,i,e,s.code,s.treeSize)},a.prototype.unpackSymbol=function(e){var t,i;if((t=e.peekBits(9))>=0){if((i=this.m_Tree[t])>=0)return e.skipBits(i&15),i>>4;var s=-(i>>4),o=i&15;if((t=e.peekBits(o))>=0)return i=this.m_Tree[s|t>>9],e.skipBits(i&15),i>>4;var c=e.availableBits;return t=e.peekBits(c),i=this.m_Tree[s|t>>9],(i&15)<=c?(e.skipBits(i&15),i>>4):-1}else{var c=e.availableBits;return t=e.peekBits(c),i=this.m_Tree[t],i>=0&&(i&15)<=c?(e.skipBits(i&15),i>>4):-1}},Object.defineProperty(a,"lengthTree",{get:function(){return this.m_LengthTree},enumerable:!0,configurable:!0}),Object.defineProperty(a,"distanceTree",{get:function(){return this.m_DistanceTree},enumerable:!0,configurable:!0}),a.MAX_BITLEN=15,a}(),vu=function(){function a(){}return a.ChecksumUpdate=function(e,t,i,s){for(var o=e,c=o&65535,f=o>>this.DEF_CHECKSUM_BIT_OFFSET;s>0;){var m=Math.min(s,this.DEF_CHECKSUM_ITERATIONSCOUNT);for(s-=m;--m>=0;)c=c+(t[i++]&255),f=f+c;c%=this.DEF_CHECKSUM_BASE,f%=this.DEF_CHECKSUM_BASE}o=f<<this.DEF_CHECKSUM_BIT_OFFSET|c,e=o},a.ChecksumGenerate=function(e,t,i){var s=1;return a.ChecksumUpdate(s,e,t,i),s},a.DEF_CHECKSUM_BIT_OFFSET=16,a.DEF_CHECKSUM_BASE=65521,a.DEF_CHECKSUM_ITERATIONSCOUNT=3800,a}(),yu=function(){function a(e,t){if(this.defaultHuffmanDynamicTree=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],this.DEF_HEADER_METHOD_MASK=3840,this.DEF_HEADER_INFO_MASK=61440,this.DEF_HEADER_FLAGS_FCHECK=31,this.DEF_HEADER_FLAGS_FDICT=32,this.DEF_HEADER_FLAGS_FLEVEL=192,this.DEF_MAX_WINDOW_SIZE=65535,this.DEF_HUFFMAN_REPEATE_MAX=258,this.DEF_HUFFMAN_END_BLOCK=256,this.DEF_HUFFMAN_LENGTH_MINIMUMCODE=257,this.DEF_HUFFMAN_LENGTH_MAXIMUMCODE=285,this.DEF_HUFFMAN_DISTANCE_MAXIMUMCODE=29,this.mCheckSum=1,this.tBuffer=0,this.mBufferedBits=0,this.mTempBuffer=new Uint8Array(4),this.mBlockBuffer=new Uint8Array(this.DEF_MAX_WINDOW_SIZE),this.mbNoWrap=!1,this.mWindowSize=0,this.mCurrentPosition=0,this.mDataLength=0,this.mbCanReadNextBlock=!0,this.mbCanReadMoreData=!0,this.mbCheckSumRead=!1,e==null)throw new DOMException("stream");if(e.length===0)throw new DOMException("stream - string can not be empty");gr.init(),this.mInputStream=new Xs(e),this.mbNoWrap=t,this.mbNoWrap||this.readZLibHeader(),this.decodeBlockHeader()}return Object.defineProperty(a.prototype,"mBuffer",{get:function(){return this.tBuffer},set:function(e){this.tBuffer=e},enumerable:!0,configurable:!0}),a.prototype.peekBits=function(e){if(e<0)throw new DOMException("count","Bits count can not be less than zero.");if(e>32)throw new DOMException("count","Count of bits is too large.");if(this.mBufferedBits<e&&this.fillBuffer(),this.mBufferedBits<e)return-1;var t=~(4294967295<<e),i=bt.bitConverterUintToInt32(this.mBuffer&t);return i},a.prototype.fillBuffer=function(){var e=4-(this.mBufferedBits>>3)-(this.mBufferedBits&7?1:0);if(e!==0)for(var t=this.mInputStream.read(this.mTempBuffer,0,e),i=0;i<t;i++)this.mBuffer=bt.bitConverterInt32ToUint(this.mBuffer|bt.bitConverterInt32ToUint(this.mTempBuffer[i]<<this.mBufferedBits)),this.mBufferedBits+=8},a.prototype.skipBits=function(e){if(e<0)throw new DOMException("count","Bits count can not be less than zero.");e!==0&&(e>=this.mBufferedBits?(e-=this.mBufferedBits,this.mBufferedBits=0,this.mBuffer=0,e>0&&(this.mInputStream.position+=e>>3,e&=7,e>0&&(this.fillBuffer(),this.mBufferedBits-=e,this.mBuffer=bt.bitConverterInt32ToUint(this.mBuffer>>>e)))):(this.mBufferedBits-=e,this.mBuffer=bt.bitConverterInt32ToUint(this.mBuffer>>>e)))},Object.defineProperty(a.prototype,"availableBits",{get:function(){return this.mBufferedBits},enumerable:!0,configurable:!0}),a.prototype.readZLibHeader=function(){var e=this.readInt16();if(e===-1)throw new DOMException("Header of the stream can not be read.");if(e%31!==0)throw new DOMException("Header checksum illegal");if((e&this.DEF_HEADER_METHOD_MASK)!==2048)throw new DOMException("Unsupported compression method.");if(this.mWindowSize=Math.pow(2,((e&this.DEF_HEADER_INFO_MASK)>>12)+8),this.mWindowSize>65535)throw new DOMException("Unsupported window size for deflate compression method.");if((e&this.DEF_HEADER_FLAGS_FDICT)>>5===1)throw new DOMException("Custom dictionary is not supported at the moment.")},a.prototype.readInt16=function(){var e=this.readBits(8)<<8;return e|=this.readBits(8),e},a.prototype.readBits=function(e){var t=this.peekBits(e);return t===-1?-1:(this.mBufferedBits-=e,this.mBuffer=bt.bitConverterInt32ToUint(this.mBuffer>>>e),t)},a.prototype.decodeBlockHeader=function(){if(!this.mbCanReadNextBlock)return!1;var e=this.readBits(1);if(e===-1)return!1;var t=this.readBits(2);if(t===-1)return!1;switch(this.mbCanReadNextBlock=e===0,t){case 0:this.mbReadingUncompressed=!0,this.skipToBoundary();var i=this.readInt16Inverted(),s=this.readInt16Inverted();if(i!==(s^65535))throw new DOMException("Wrong block length.");if(i>65535)throw new DOMException("Uncompressed block length can not be more than 65535.");this.mUncompressedDataLength=i,this.mCurrentLengthTree=null,this.mCurrentDistanceTree=null;break;case 1:this.mbReadingUncompressed=!1,this.mUncompressedDataLength=-1,this.mCurrentLengthTree=gr.lengthTree,this.mCurrentDistanceTree=gr.distanceTree;break;case 2:this.mbReadingUncompressed=!1,this.mUncompressedDataLength=-1;var o=this.decodeDynamicHeader(this.mCurrentLengthTree,this.mCurrentDistanceTree);this.mCurrentLengthTree=o.lengthTree,this.mCurrentDistanceTree=o.distanceTree;break;default:throw new DOMException("Wrong block type.")}return!0},a.prototype.skipToBoundary=function(){this.mBuffer=bt.bitConverterInt32ToUint(this.mBuffer>>>(this.mBufferedBits&7)),this.mBufferedBits&=-8},a.prototype.readInt16Inverted=function(){var e=this.readBits(8);return e|=this.readBits(8)<<8,e},a.prototype.decodeDynamicHeader=function(e,t){var i=0,s=this.readBits(5),o=this.readBits(5),c=this.readBits(4);if(s<0||o<0||c<0)throw new DOMException("Wrong dynamic huffman codes.");s+=257,o+=1;var f=s+o,m=new Uint8Array(f),b=new Uint8Array(19);c+=4;for(var S=0;S<c;){var k=this.readBits(3);if(k<0)throw new DOMException("Wrong dynamic huffman codes.");b[this.defaultHuffmanDynamicTree[S++]]=k}var L=new gr(b);for(S=0;;){var I=void 0,_=!1;for(I=L.unpackSymbol(this);!(I&-16);){if(m[S++]=i=I,S===f){_=!0;break}I=L.unpackSymbol(this)}if(_)break;if(I<0)throw new DOMException("Wrong dynamic huffman codes.");if(I>=17)i=0;else if(S===0)throw new DOMException("Wrong dynamic huffman codes.");var N=I-16,U=a.DEF_HUFFMAN_DYNTREE_REPEAT_BITS[N],Z=this.readBits(U);if(Z<0)throw new DOMException("Wrong dynamic huffman codes.");if(Z+=a.DEF_HUFFMAN_DYNTREE_REPEAT_MINIMUMS[N],S+Z>f)throw new DOMException("Wrong dynamic huffman codes.");for(;Z-- >0;)m[S++]=i;if(S===f)break}var V=new Uint8Array(s);return V.set(m.subarray(0,s),0),e=new gr(V),V=m.slice(s,s+o),t=new gr(V),{lengthTree:e,distanceTree:t}},a.prototype.readHuffman=function(){for(var e=this.DEF_MAX_WINDOW_SIZE-(this.mDataLength-this.mCurrentPosition),t=!1,i={};e>=this.DEF_HUFFMAN_REPEATE_MAX;){var s=void 0;for(s=this.mCurrentLengthTree.unpackSymbol(this);!(s&-256);){if(i[(this.mDataLength+1)%this.DEF_MAX_WINDOW_SIZE]=s,this.mBlockBuffer[this.mDataLength++%this.DEF_MAX_WINDOW_SIZE]=s,t=!0,--e<this.DEF_HUFFMAN_REPEATE_MAX)return!0;s=this.mCurrentLengthTree.unpackSymbol(this)}if(s<this.DEF_HUFFMAN_LENGTH_MINIMUMCODE){if(s<this.DEF_HUFFMAN_END_BLOCK)throw new DOMException("Illegal code.");var o=t?1:0;this.mbCanReadMoreData=this.decodeBlockHeader();var c=this.mbCanReadMoreData?1:0;return!!(o|c)}if(s>this.DEF_HUFFMAN_LENGTH_MAXIMUMCODE)throw new DOMException("Illegal repeat code length.");var f=a.DEF_HUFFMAN_REPEAT_LENGTH_BASE[s-this.DEF_HUFFMAN_LENGTH_MINIMUMCODE],m=a.DEF_HUFFMAN_REPEAT_LENGTH_EXTENSION[s-this.DEF_HUFFMAN_LENGTH_MINIMUMCODE];if(m>0){var b=this.readBits(m);if(b<0)throw new DOMException("Wrong data.");f+=b}if(s=this.mCurrentDistanceTree.unpackSymbol(this),s<0||s>a.DEF_HUFFMAN_REPEAT_DISTANCE_BASE.length)throw new DOMException("Wrong distance code.");var S=a.DEF_HUFFMAN_REPEAT_DISTANCE_BASE[s];if(m=a.DEF_HUFFMAN_REPEAT_DISTANCE_EXTENSION[s],m>0){var b=this.readBits(m);if(b<0)throw new DOMException("Wrong data.");S+=b}for(var k=0;k<f;k++)this.mBlockBuffer[this.mDataLength%this.DEF_MAX_WINDOW_SIZE]=this.mBlockBuffer[(this.mDataLength-S)%this.DEF_MAX_WINDOW_SIZE],this.mDataLength++,e--;t=!0}return t},a.prototype.read=function(e,t,i){if(e==null)throw new DOMException("buffer");if(t<0||t>e.length-1)throw new DOMException("offset","Offset does not belong to specified buffer.");if(i<0||i>e.length-t)throw new DOMException("length","Length is illegal.");for(var s=i;i>0;)if(this.mCurrentPosition<this.mDataLength){var o=this.mCurrentPosition%this.DEF_MAX_WINDOW_SIZE,c=Math.min(this.DEF_MAX_WINDOW_SIZE-o,this.mDataLength-this.mCurrentPosition);c=Math.min(c,i),bt.arrayCopy(this.mBlockBuffer,o,e,t,c),this.mCurrentPosition+=c,t+=c,i-=c}else{if(!this.mbCanReadMoreData)break;var f=this.mDataLength;if(this.mbReadingUncompressed)if(this.mUncompressedDataLength===0){if(this.mbCanReadMoreData=this.decodeBlockHeader(),!this.mbCanReadMoreData)break}else{var o=this.mDataLength%this.DEF_MAX_WINDOW_SIZE,m=Math.min(this.mUncompressedDataLength,this.DEF_MAX_WINDOW_SIZE-o),b=this.readPackedBytes(this.mBlockBuffer,o,m);if(m!==b)throw new DOMException("Not enough data in stream.");this.mUncompressedDataLength-=b,this.mDataLength+=b}else if(!this.readHuffman())break;if(f<this.mDataLength){var S=f%this.DEF_MAX_WINDOW_SIZE,k=this.mDataLength%this.DEF_MAX_WINDOW_SIZE;S<k?this.checksumUpdate(this.mBlockBuffer,S,k-S):(this.checksumUpdate(this.mBlockBuffer,S,this.DEF_MAX_WINDOW_SIZE-S),k>0&&this.checksumUpdate(this.mBlockBuffer,0,k))}}if(!this.mbCanReadMoreData&&!this.mbCheckSumRead&&!this.mbNoWrap){this.skipToBoundary();var L=this.readInt32();if(L!==this.mCheckSum)throw new DOMException("Checksum check failed.");this.mbCheckSumRead=!0}return s-i},a.prototype.readPackedBytes=function(e,t,i){if(e==null)throw new DOMException("buffer");if(t<0||t>e.length-1)throw new DOMException('offset", "Offset can not be less than zero or greater than buffer length - 1.');if(i<0)throw new DOMException('length", "Length can not be less than zero.');if(i>e.length-t)throw new DOMException('length", "Length is too large.');if(this.mBufferedBits&7)throw new DOMException("Reading of unalligned data is not supported.");if(i===0)return 0;for(var s=0;this.mBufferedBits>0&&i>0;)e[t++]=this.mBuffer,this.mBufferedBits-=8,this.mBuffer=bt.bitConverterInt32ToUint(this.mBuffer>>>8),i--,s++;return i>0&&(s+=this.mInputStream.read(e,t,i)),s},a.prototype.readInt32=function(){var e=this.readBits(8)<<24;return e|=this.readBits(8)<<16,e|=this.readBits(8)<<8,e|=this.readBits(8),e},a.prototype.checksumUpdate=function(e,t,i){vu.ChecksumUpdate(this.mCheckSum,e,t,i)},a.DEF_REVERSE_BITS=new Uint8Array([0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]),a.DEF_HUFFMAN_DYNTREE_REPEAT_MINIMUMS=[3,3,11],a.DEF_HUFFMAN_DYNTREE_REPEAT_BITS=[2,3,7],a.DEF_HUFFMAN_REPEAT_LENGTH_BASE=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],a.DEF_HUFFMAN_REPEAT_LENGTH_EXTENSION=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a.DEF_HUFFMAN_REPEAT_DISTANCE_BASE=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],a.DEF_HUFFMAN_REPEAT_DISTANCE_EXTENSION=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a}(),Xs=function(){function a(e){this.position=0,this.inputStream=new Uint8Array(e.buffer)}return Object.defineProperty(a.prototype,"length",{get:function(){return this.inputStream.buffer.byteLength},enumerable:!0,configurable:!0}),a.prototype.read=function(e,t,i){var s=new Uint8Array(this.inputStream.buffer,this.position+t),o=s.subarray(0,i);return e.set(o,0),this.position+=o.byteLength,o.byteLength},a.prototype.readByte=function(){return this.inputStream[this.position++]},a.prototype.write=function(e,t,i){bt.arrayCopy(e,0,this.inputStream,this.position+t,i),this.position+=i},a.prototype.toByteArray=function(){return new Uint8Array(this.inputStream.buffer)},a}(),bu=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Kt=function(a){bu(e,a);function e(t,i){var s=a.call(this,t)||this;return s.dicPrefix="stream",s.dicSuffix="endstream",s.clonedObject2=null,s.bCompress=!0,typeof t<"u"||typeof i<"u"?(s.dataStream2=[],s.dataStream2=i,s.bCompress2=!1):(s.dataStream2=[],s.bCompress2=!0),s}return Object.defineProperty(e.prototype,"internalStream",{get:function(){return this.dataStream2},set:function(t){this.dataStream2=[],this.dataStream2=t,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compress",{get:function(){return this.bCompress},set:function(t){this.bCompress=t,this.modify()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.dataStream2},set:function(t){this.dataStream2=[],this.dataStream2=t,this.modify()},enumerable:!0,configurable:!0}),e.prototype.clearStream=function(){this.internalStream=[],this.items.containsKey(this.dictionaryProperties.filter)&&this.remove(this.dictionaryProperties.filter),this.bCompress=!0,this.modify()},e.prototype.write=function(t){if(t==null)throw new Error("ArgumentNullException:text");if(t.length<=0)throw new Error("ArgumentException: Can not write an empty string, text");this.dataStream2.push(t),this.modify()},e.prototype.writeBytes=function(t){if(t===null)throw new Error("ArgumentNullException:data");if(t.length<=0)throw new Error("ArgumentException: Can not write an empty bytes, data");for(var i="",s=0;s<t.length;s++)i+=String.fromCharCode(t[s]);this.dataStream2.push(i),this.modify()},e.prototype.onCmapBeginSave=function(){this.cmapBeginSave.sender.cmapBeginSave()},e.prototype.onFontProgramBeginSave=function(){this.fontProgramBeginSave.sender.fontProgramBeginSave()},e.prototype.compressContent=function(t,i){if(this.bCompress){for(var s=[],o=0;o<t.length;o++)s.push(t.charCodeAt(o));var c=new Uint8Array(s),f=new Sl;f.write(c,0,c.length),f.close(),t=f.getCompressedString,this.addFilter(this.dictionaryProperties.flatedecode)}return t},e.prototype.addFilter=function(t){var i=this.items.getValue(this.dictionaryProperties.filter);if(i instanceof it){var s=i;i=s.object}var o=i,c=i;c!=null&&(o=new ft,o.insert(0,c),this.items.setValue(this.dictionaryProperties.filter,o)),c=new Me(t),o==null?this.items.setValue(this.dictionaryProperties.filter,c):o.insert(0,c)},e.prototype.save=function(t){typeof this.cmapBeginSave<"u"&&this.onCmapBeginSave(),typeof this.fontProgramBeginSave<"u"&&this.onFontProgramBeginSave();for(var i="",s=0;s<this.data.length;s++)i=i+this.data[s];i.length>1&&!this.isResource&&(i=`q\r
`+i+`Q\r
`),i=this.compressContent(i,t);var o=i.length;this.items.setValue(this.dictionaryProperties.length,new Le(o)),a.prototype.save.call(this,t,!1),t.write(this.dicPrefix),t.write(oe.newLine),i.length>0&&t.write(i),t.write(oe.newLine),t.write(this.dicSuffix),t.write(oe.newLine)},e.bytesToString=function(t){for(var i="",s=0;s<t.length;s++)i=i+String.fromCharCode(t[s]);return i},e}(tt),xu=function(){function a(e){this.sender=e}return a}(),wu=function(){function a(e){this.sender=e}return a}(),cs;(function(a){(function(t){t[t.None=0]="None",t[t.Ascii=1]="Ascii",t[t.Unicode=2]="Unicode"})(a.ForceEncoding||(a.ForceEncoding={}));var e;(function(t){t[t.StringValue=0]="StringValue",t[t.ByteBuffer=1]="ByteBuffer"})(e||(e={}))})(cs||(cs={}));var Xt=function(){function a(e){if(this.bHex=!1,this.position1=-1,this.clonedObject1=null,this.bDecrypted=!1,this.isParentDecrypted=!1,this.isPacked=!1,this.isFormField=!1,this.isColorSpace=!1,this.isHexString=!0,typeof e>"u")this.bHex=!1;else if(!(e.length>0&&e[0]==="0xfeff")){this.stringValue=e,this.data=[];for(var t=0;t<e.length;++t)this.data.push(e.charCodeAt(t))}}return Object.defineProperty(a.prototype,"hex",{get:function(){return this.bHex},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this.stringValue},set:function(e){this.stringValue=e,this.data=null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"status",{get:function(){return this.status1},set:function(e){this.status1=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSaving",{get:function(){return this.isSaving1},set:function(e){this.isSaving1=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"objectCollectionIndex",{get:function(){return this.index1},set:function(e){this.index1=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clonedObject",{get:function(){return this.clonedObject1},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return this.position1},set:function(e){this.position1=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"CrossTable",{get:function(){return this.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"converted",{get:function(){return this.bConverted},set:function(e){this.bConverted=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"encode",{get:function(){return this.bForceEncoding},set:function(e){this.bForceEncoding=e},enumerable:!0,configurable:!0}),a.bytesToHex=function(e){if(e==null)return"";var t="";return t},a.prototype.save=function(e){if(e===null)throw new Error("ArgumentNullException : writer");this.encode!==void 0&&this.encode===cs.ForceEncoding.Ascii?e.write(this.pdfEncode()):e.write(a.stringMark[0]+this.value+a.stringMark[1])},a.prototype.pdfEncode=function(){var e="";if(this.encode!==void 0&&this.encode===cs.ForceEncoding.Ascii){for(var t=this.escapeSymbols(this.value),i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);e=a.stringMark[0]+e+a.stringMark[1]}else e=this.value;return e},a.prototype.escapeSymbols=function(e){for(var t=[],i=0;i<e.length;i++){var s=e.charCodeAt(i);switch(s){case 40:case 41:t.push(92),t.push(s);break;case 13:t.push(92),t.push(114);break;case 92:t.push(92),t.push(s);break;default:t.push(s);break}}return t},a.prototype.clone=function(e){if(this.clonedObject1!==null&&this.clonedObject1.CrossTable===e)return this.clonedObject1;this.clonedObject1=null;var t=new a(this.stringValue);return t.bHex=this.bHex,t.crossTable=e,t.isColorSpace=this.isColorSpace,this.clonedObject1=t,t},a.toUnicodeArray=function(e,t){if(e==null)throw new Error("Argument Null Exception : value");for(var i=[],s=0;s<e.length;s++){var o=e.charCodeAt(s);i.push(o/256>>>0),i.push(o&255)}return i},a.byteToString=function(e){if(e==null)throw new Error("Argument Null Exception : stream");for(var t="",i=0;i<e.length;++i)t+=String.fromCharCode(e[i]);return t},a.stringMark="()",a.hexStringMark="<>",a.hexFormatPattern="{0:X2}",a}(),On=function(){function a(e,t){this.index3=-1,this.position3=-1,this.objNumber=0,this.genNumber=0,typeof e=="number"&&typeof t=="number"?(this.objNumber=e,this.genNumber=t):(this.objNumber=Number(e),this.genNumber=Number(t))}return Object.defineProperty(a.prototype,"status",{get:function(){return this.status3},set:function(e){this.status3=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSaving",{get:function(){return this.isSaving3},set:function(e){this.isSaving3=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"objectCollectionIndex",{get:function(){return this.index3},set:function(e){this.index3=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return this.position3},set:function(e){this.position3=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clonedObject",{get:function(){var e=null;return e},enumerable:!0,configurable:!0}),a.prototype.save=function(e){e.write(this.toString())},a.prototype.toString=function(){return this.objNumber.toString()+" "+this.genNumber.toString()+" R"},a.prototype.clone=function(e){return null},a}(),it=function(){function a(e,t){this.index4=-1,this.position4=-1,this.objectIndex=-1,this.dictionaryProperties=new xt,this.initialize(e)}return Object.defineProperty(a.prototype,"status",{get:function(){return this.status4},set:function(e){this.status4=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSaving",{get:function(){return this.isSaving4},set:function(e){this.isSaving4=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"objectCollectionIndex",{get:function(){return this.index4},set:function(e){this.index4=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return this.position4},set:function(e){this.position4=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clonedObject",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"object",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"index",{get:function(){return this.objectIndex},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"element",{get:function(){return this.primitiveObject},enumerable:!0,configurable:!0}),a.prototype.initialize=function(e){if(e instanceof ft||e instanceof tt||e instanceof Me||e instanceof Le||e instanceof Kt||e instanceof On||e instanceof Xt)this.primitiveObject=e;else{var t=e;this.initialize(t.element)}},a.prototype.save=function(e){e.position;var t=e.document.crossTable;this.object.isSaving=!0;var i=null;i=t.getReference(this.object),i.save(e)},a.prototype.clone=function(e){return null},a}(),Xa;(function(a){a[a.Left=0]="Left",a[a.Center=1]="Center",a[a.Right=2]="Right"})(Xa||(Xa={}));var zi;(function(a){a[a.Top=0]="Top",a[a.Middle=1]="Middle",a[a.Bottom=2]="Bottom"})(zi||(zi={}));var di;(function(a){a[a.Left=0]="Left",a[a.Center=1]="Center",a[a.Right=2]="Right",a[a.Justify=3]="Justify"})(di||(di={}));var Ei;(function(a){a[a.Fill=0]="Fill",a[a.Stroke=1]="Stroke",a[a.FillStroke=2]="FillStroke",a[a.None=3]="None",a[a.ClipFlag=4]="ClipFlag",a[a.ClipFill=4]="ClipFill",a[a.ClipStroke=5]="ClipStroke",a[a.ClipFillStroke=6]="ClipFillStroke",a[a.Clip=7]="Clip"})(Ei||(Ei={}));var Ya;(function(a){a[a.Miter=0]="Miter",a[a.Round=1]="Round",a[a.Bevel=2]="Bevel"})(Ya||(Ya={}));var Ga;(function(a){a[a.Flat=0]="Flat",a[a.Round=1]="Round",a[a.Square=2]="Square"})(Ga||(Ga={}));var gi;(function(a){a[a.Solid=0]="Solid",a[a.Dash=1]="Dash",a[a.Dot=2]="Dot",a[a.DashDot=3]="DashDot",a[a.DashDotDot=4]="DashDotDot",a[a.Custom=5]="Custom"})(gi||(gi={}));var Ki;(function(a){a[a.Winding=0]="Winding",a[a.Alternate=1]="Alternate"})(Ki||(Ki={}));var ht;(function(a){a[a.Rgb=0]="Rgb",a[a.Cmyk=1]="Cmyk",a[a.GrayScale=2]="GrayScale",a[a.Indexed=3]="Indexed"})(ht||(ht={}));var Ys;(function(a){a[a.Normal=0]="Normal",a[a.Multiply=1]="Multiply",a[a.Screen=2]="Screen",a[a.Overlay=3]="Overlay",a[a.Darken=4]="Darken",a[a.Lighten=5]="Lighten",a[a.ColorDodge=6]="ColorDodge",a[a.ColorBurn=7]="ColorBurn",a[a.HardLight=8]="HardLight",a[a.SoftLight=9]="SoftLight",a[a.Difference=10]="Difference",a[a.Exclusion=11]="Exclusion",a[a.Hue=12]="Hue",a[a.Saturation=13]="Saturation",a[a.Color=14]="Color",a[a.Luminosity=15]="Luminosity"})(Ys||(Ys={}));var kr;(function(a){a[a.Centimeter=0]="Centimeter",a[a.Pica=1]="Pica",a[a.Pixel=2]="Pixel",a[a.Point=3]="Point",a[a.Inch=4]="Inch",a[a.Document=5]="Document",a[a.Millimeter=6]="Millimeter"})(kr||(kr={}));var Ua;(function(a){a[a.Fit=0]="Fit",a[a.Center=1]="Center",a[a.Stretch=2]="Stretch",a[a.Tile=3]="Tile"})(Ua||(Ua={}));var vi;(function(a){a[a.None=0]="None",a[a.LeftToRight=1]="LeftToRight",a[a.RightToLeft=2]="RightToLeft"})(vi||(vi={}));var ar=function(){function a(e,t,i,s){typeof e>"u"?typeof t<"u"&&typeof i<"u"&&typeof s<"u"?this.assignRGB(t,i,s):this.filled=!1:e instanceof a?(this.redColor=e.r,this.greenColor=e.g,this.blueColor=e.b,this.grayColor=e.gray,this.alpha=e.alpha,this.filled=this.alpha!==0):typeof e=="number"&&typeof t>"u"&&typeof i>"u"&&typeof s>"u"?(e<0&&(e=0),e>1&&(e=1),this.redColor=e*a.maxColourChannelValue,this.greenColor=e*a.maxColourChannelValue,this.blueColor=e*a.maxColourChannelValue,this.cyanColor=e,this.magentaColor=e,this.yellowColor=e,this.blackColor=e,this.grayColor=e,this.alpha=a.maxColourChannelValue,this.filled=!0):typeof s>"u"?this.assignRGB(e,t,i):this.assignRGB(t,i,s,e)}return a.prototype.assignRGB=function(e,t,i,s){typeof e>"u"||typeof t>"u"||typeof i>"u"?this.filled=!1:(this.cyanColor=0,this.magentaColor=0,this.yellowColor=0,this.blackColor=0,this.grayColor=0,this.redColor=e,this.greenColor=t,this.blueColor=i,typeof s>"u"?this.alpha=a.maxColourChannelValue:this.alpha=s,this.filled=!0,this.assignCMYK(e,t,i))},a.prototype.assignCMYK=function(e,t,i){var s=e/a.maxColourChannelValue,o=t/a.maxColourChannelValue,c=i/a.maxColourChannelValue,f=Le.min(1-s,1-o,1-c),m=f===1?0:(1-s-f)/(1-f),b=f===1?0:(1-o-f)/(1-f),S=f===1?0:(1-c-f)/(1-f);this.blackColor=f,this.cyanColor=m,this.magentaColor=b,this.yellowColor=S},Object.defineProperty(a.prototype,"r",{get:function(){return this.redColor},set:function(e){this.redColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"red",{get:function(){return this.r/a.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"b",{get:function(){return this.blueColor},set:function(e){this.blueColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"blue",{get:function(){return this.b/a.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"c",{get:function(){return this.cyanColor},set:function(e){e<0?this.cyanColor=0:e>1?this.cyanColor=1:this.cyanColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"k",{get:function(){return this.blackColor},set:function(e){e<0?this.blackColor=0:e>1?this.blackColor=1:this.blackColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"m",{get:function(){return this.magentaColor},set:function(e){e<0?this.magentaColor=0:e>1?this.magentaColor=1:this.magentaColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this.yellowColor},set:function(e){e<0?this.yellowColor=0:e>1?this.yellowColor=1:this.yellowColor=e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"g",{get:function(){return this.greenColor},set:function(e){this.greenColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"green",{get:function(){return this.g/a.maxColourChannelValue},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"gray",{get:function(){return(this.redColor+this.greenColor+this.blueColor)/(a.maxColourChannelValue*3)},set:function(e){e<0?this.grayColor=0:e>1?this.grayColor=1:this.grayColor=e,this.r=this.grayColor*a.maxColourChannelValue,this.g=this.grayColor*a.maxColourChannelValue,this.b=this.grayColor*a.maxColourChannelValue,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isEmpty",{get:function(){return!this.filled},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"a",{get:function(){return this.alpha},set:function(e){e<0?this.alpha=0:this.alpha=e,this.filled=!0},enumerable:!0,configurable:!0}),a.prototype.toString=function(e,t){if(this.isEmpty)return"";var i="";switch(e){case ht.Rgb:i=this.rgbToString(t);break;case ht.GrayScale:i=this.grayScaleToString(t);break;case ht.Cmyk:i=this.cmykToString(t);break}return i},a.prototype.grayScaleToString=function(e){var t=this.gray,i="",s=null;return s=e?a.grayStringsSroke.containsKey(t)?a.grayStringsSroke.getValue(t):null:a.grayStringsFill.containsKey(t)?a.grayStringsFill.getValue(t):null,s==null?e&&(i=t.toString()+" G",a.grayStringsSroke.setValue(t,i)):i=s.toString(),i+oe.newLine},a.prototype.rgbToString=function(e){var t=this.r,i=this.g,s=this.b,o=(t<<16)+(i<<8)+s;e&&(o+=1<<24);var c="",f=null;if(a.rgbStrings.containsKey(o)&&(f=a.rgbStrings.getValue(o)),f==null){var m=t/a.maxColourChannelValue,b=i/a.maxColourChannelValue,S=s/a.maxColourChannelValue;e?c=m.toString()+" "+b.toString()+" "+S.toString()+" RG":c=m.toString()+" "+b.toString()+" "+S.toString()+" rg",a.rgbStrings.setValue(o,c)}else c=f.toString();return c+oe.newLine},a.prototype.cmykToString=function(e){var t=this.c,i=this.m,s=this.y,o=this.b,c="";return c=t.toString()+" "+i.toString()+" "+s.toString()+" "+o.toString()+" K",c+oe.newLine},a.prototype.toArray=function(e){var t=new ft;switch(e){case ht.Rgb:t.add(new Le(this.red)),t.add(new Le(this.green)),t.add(new Le(this.blue));break}return t},a.rgbStrings=new nt,a.grayStringsSroke=new nt,a.grayStringsFill=new nt,a.maxColourChannelValue=255,a}(),We=function(){function a(e,t){typeof e>"u"?(this.x=0,this.y=0):(e!==null?this.x=e:this.x=0,t!==null?this.y=t:this.y=0)}return a}(),Se=function(){function a(e,t){typeof t>"u"?(this.height=0,this.width=0):(t!==null?this.height=t:this.height=0,e!==null?this.width=e:this.width=0)}return a}(),et=function(){function a(e,t,i,s){if(typeof e==typeof e&&typeof e>"u")this.x=0,this.y=0,this.height=0,this.width=0;else if(e instanceof We&&t instanceof Se&&typeof i>"u"){var o=e;this.x=o.x,this.y=o.y;var c=t;this.height=c.height,this.width=c.width}else{var f=e,m=t,b=i,S=s;this.x=f,this.y=m,this.height=S,this.width=b}}return a}(),Rn=function(){function a(e,t,i,s){this.left=e,this.top=t,this.right=i,this.bottom=s}return Object.defineProperty(a.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"topLeft",{get:function(){return new We(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return new Se(this.width,this.height)},enumerable:!0,configurable:!0}),a.prototype.toString=function(){return this.topLeft+"x"+this.size},a}(),or=function(){function a(){}return a.prototype.clone=function(){return this},a}(),Su=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Dr=function(a){Su(e,a);function e(t){var i=a.call(this)||this;return i.pdfColor=t,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this.pdfColor},set:function(t){this.pdfColor=t},enumerable:!0,configurable:!0}),e.prototype.monitorChanges=function(t,i,s,o,c){if(i==null)throw new Error("ArgumentNullException:streamWriter");var f=!1;return t==null?(f=!0,i.setColorAndSpace(this.pdfColor,c,!1),f):(f=!0,i.setColorAndSpace(this.pdfColor,c,!1),f)},e.prototype.resetChanges=function(t){t.setColorAndSpace(new ar(0,0,0),ht.Rgb,!1)},e}(or),lt;(function(a){a[a.Regular=0]="Regular",a[a.Bold=1]="Bold",a[a.Italic=2]="Italic",a[a.Underline=4]="Underline",a[a.Strikeout=8]="Strikeout"})(lt||(lt={}));var qt;(function(a){a[a.Helvetica=0]="Helvetica",a[a.Courier=1]="Courier",a[a.TimesRoman=2]="TimesRoman",a[a.Symbol=3]="Symbol",a[a.ZapfDingbats=4]="ZapfDingbats"})(qt||(qt={}));var qa;(function(a){a[a.Standard=0]="Standard",a[a.TrueType=1]="TrueType",a[a.TrueTypeEmbedded=2]="TrueTypeEmbedded"})(qa||(qa={}));var yi;(function(a){a[a.None=0]="None",a[a.Word=1]="Word",a[a.WordOnly=2]="WordOnly",a[a.Character=3]="Character"})(yi||(yi={}));var _i;(function(a){a[a.None=0]="None",a[a.SuperScript=1]="SuperScript",a[a.SubScript=2]="SubScript"})(_i||(_i={}));var In;(function(a){a[a.Unknown=0]="Unknown",a[a.StandardEncoding=1]="StandardEncoding",a[a.MacRomanEncoding=2]="MacRomanEncoding",a[a.MacExpertEncoding=3]="MacExpertEncoding",a[a.WinAnsiEncoding=4]="WinAnsiEncoding",a[a.PdfDocEncoding=5]="PdfDocEncoding",a[a.IdentityH=6]="IdentityH"})(In||(In={}));var ss;(function(a){a[a.Apple=0]="Apple",a[a.Microsoft=4]="Microsoft",a[a.Trimmed=6]="Trimmed"})(ss||(ss={}));var Gt;(function(a){a[a.Unknown=0]="Unknown",a[a.Symbol=1]="Symbol",a[a.Unicode=2]="Unicode",a[a.Macintosh=3]="Macintosh"})(Gt||(Gt={}));var Ji;(function(a){a[a.AppleUnicode=0]="AppleUnicode",a[a.Macintosh=1]="Macintosh",a[a.Iso=2]="Iso",a[a.Microsoft=3]="Microsoft"})(Ji||(Ji={}));var Gs;(function(a){a[a.Undefined=0]="Undefined",a[a.Unicode=1]="Unicode"})(Gs||(Gs={}));var Bn;(function(a){a[a.Roman=0]="Roman",a[a.Japanese=1]="Japanese",a[a.Chinese=2]="Chinese"})(Bn||(Bn={}));var Qi;(function(a){a[a.FixedPitch=1]="FixedPitch",a[a.Serif=2]="Serif",a[a.Symbolic=4]="Symbolic",a[a.Script=8]="Script",a[a.Nonsymbolic=32]="Nonsymbolic",a[a.Italic=64]="Italic",a[a.ForceBold=262144]="ForceBold"})(Qi||(Qi={}));var er;(function(a){a[a.Arg1And2AreWords=1]="Arg1And2AreWords",a[a.ArgsAreXyValues=2]="ArgsAreXyValues",a[a.RoundXyToGrid=4]="RoundXyToGrid",a[a.WeHaveScale=8]="WeHaveScale",a[a.Reserved=16]="Reserved",a[a.MoreComponents=32]="MoreComponents",a[a.WeHaveAnXyScale=64]="WeHaveAnXyScale",a[a.WeHaveTwoByTwo=128]="WeHaveTwoByTwo",a[a.WeHaveInstructions=256]="WeHaveInstructions",a[a.UseMyMetrics=512]="UseMyMetrics"})(er||(er={}));var zs=function(){function a(e,t){this.scalingFactor=100,this.wordWrapType=yi.Word,this.internalLineLimit=!0,this.wordWrapType=yi.Word,typeof e<"u"&&typeof e!="string"&&(this.textAlignment=e),typeof t<"u"&&(this.verticalAlignment=t)}return Object.defineProperty(a.prototype,"alignment",{get:function(){return this.textAlignment},set:function(e){this.textAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"textDirection",{get:function(){return this.direction},set:function(e){this.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lineAlignment",{get:function(){return typeof this.verticalAlignment>"u"||this.verticalAlignment==null?zi.Top:this.verticalAlignment},set:function(e){this.verticalAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rightToLeft",{get:function(){return typeof this.isRightToLeft>"u"||this.isRightToLeft==null?!1:this.isRightToLeft},set:function(e){this.isRightToLeft=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"characterSpacing",{get:function(){return typeof this.internalCharacterSpacing>"u"||this.internalCharacterSpacing==null?0:this.internalCharacterSpacing},set:function(e){this.internalCharacterSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"wordSpacing",{get:function(){return typeof this.internalWordSpacing>"u"||this.internalWordSpacing==null?0:this.internalWordSpacing},set:function(e){this.internalWordSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lineSpacing",{get:function(){return typeof this.leading>"u"||this.leading==null?0:this.leading},set:function(e){this.leading=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clipPath",{get:function(){return typeof this.clip>"u"||this.clip==null?!1:this.clip},set:function(e){this.clip=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"subSuperScript",{get:function(){return typeof this.pdfSubSuperScript>"u"||this.pdfSubSuperScript==null?_i.None:this.pdfSubSuperScript},set:function(e){this.pdfSubSuperScript=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"paragraphIndent",{get:function(){return typeof this.internalParagraphIndent>"u"||this.internalParagraphIndent==null?0:this.internalParagraphIndent},set:function(e){this.internalParagraphIndent=e,this.firstLineIndent=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lineLimit",{get:function(){return this.internalLineLimit},set:function(e){this.internalLineLimit=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"measureTrailingSpaces",{get:function(){return typeof this.trailingSpaces>"u"||this.trailingSpaces==null?!1:this.trailingSpaces},set:function(e){this.trailingSpaces=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"noClip",{get:function(){return typeof this.isNoClip>"u"||this.isNoClip==null?!1:this.isNoClip},set:function(e){this.isNoClip=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"wordWrap",{get:function(){return this.wordWrapType},set:function(e){this.wordWrapType=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"horizontalScalingFactor",{get:function(){return this.scalingFactor},set:function(e){if(e<=0)throw new Error("ArgumentOutOfRangeException:The scaling factor cant be less of equal to zero, ScalingFactor");this.scalingFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"firstLineIndent",{get:function(){return typeof this.initialLineIndent>"u"||this.initialLineIndent==null?0:this.initialLineIndent},set:function(e){this.initialLineIndent=e},enumerable:!0,configurable:!0}),a.prototype.clone=function(){var e=this;return e},a}(),Zt=function(){function a(e){if(this.currentPosition=0,e==null)throw new Error("ArgumentNullException:text");this.text=e}return Object.defineProperty(a.prototype,"length",{get:function(){return this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"end",{get:function(){return this.currentPosition===this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return this.currentPosition},set:function(e){this.currentPosition=e},enumerable:!0,configurable:!0}),a.getCharsCount=function(e,t){if(typeof t=="string"){if(e==null)throw new Error("ArgumentNullException:wholeText");for(var i=0,s=0;s=e.indexOf(t,s),s!==-1;)i++,s++;return i}else{if(e==null)throw new Error("ArgumentNullException:text");if(t==null)throw new Error("ArgumentNullException:symbols");for(var o=0,c=0,f=e.length;c<f;c++){var m=e[c];this.contains(t,m)&&o++}return o}},a.prototype.readLine=function(){for(var e=this.currentPosition;e<this.length;){var t=this.text[e];switch(t){case"\r":case`
`:{var i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,t==="\r"&&this.currentPosition<this.length&&this.text[this.currentPosition]===`
`&&this.currentPosition++,i}}e++}if(e>this.currentPosition){var s=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,s}return null},a.prototype.peekLine=function(){var e=this.currentPosition,t=this.readLine();return this.currentPosition=e,t},a.prototype.readWord=function(){for(var e=this.currentPosition;e<this.length;){var t=this.text[e];switch(t){case"\r":case`
`:var i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,t==="\r"&&this.currentPosition<this.length&&this.text[this.currentPosition]===`
`&&this.currentPosition++,i;case" ":case"	":{e===this.currentPosition&&e++;var s=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,s}}e++}if(e>this.currentPosition){var o=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,o}return null},a.prototype.peekWord=function(){var e=this.currentPosition,t=this.readWord();return this.currentPosition=e,t},a.prototype.read=function(e){if(typeof e>"u"){var t="0";return this.end||(t=this.text[this.currentPosition],this.currentPosition++),t}else{for(var i=0,s="";!this.end&&i<e;){var t=this.read();s=s+t,i++}return s}},a.prototype.peek=function(){var e="0";return this.end||(e=this.text[this.currentPosition]),e},a.prototype.close=function(){this.text=null},a.prototype.readToEnd=function(){var e;return this.currentPosition===0?e=this.text:e=this.text.substr(this.currentPosition,this.length-this.currentPosition),this.currentPosition=this.length,e},a.contains=function(e,t){for(var i=!1,s=0;s<e.length;s++)if(e[s]===t){i=!0;break}return i},a.whiteSpace=" ",a.tab="	",a.spaces=[a.whiteSpace,a.tab],a.whiteSpacePattern="^[ 	]+$",a}(),na=function(){function a(){this.isOverloadWithPosition=!1}return a.prototype.layout=function(e,t,i,s,o,c,f){if(s instanceof et){this.initialize(e,t,i,s,o),this.isOverloadWithPosition=c,this.clientSize=f;var m=this.doLayout();return this.clear(),m}else{this.initialize(e,t,i,s),this.isOverloadWithPosition=o,this.clientSize=c;var m=this.doLayout();return this.clear(),m}},a.prototype.initialize=function(e,t,i,s,o){if(typeof o=="number"){if(e==null)throw new Error("ArgumentNullException:text");if(t==null)throw new Error("ArgumentNullException:font");this.text=e,this.font=t,this.format=i,this.size=new Se(s.width,s.height),this.rectangle=s,this.pageHeight=o,this.reader=new Zt(e)}else this.initialize(e,t,i,new et(new We(0,0),s),0)},a.prototype.clear=function(){this.font=null,this.format=null,this.reader.close(),this.reader=null,this.text=null},a.prototype.doLayout=function(){for(var e=new yn,t=new yn,i=[],s=this.reader.peekLine(),o=this.getLineIndent(!0);s!=null;){if(t=this.layoutLine(s,o),t!==null||typeof t<"u"){var c=0,f=this.copyToResult(e,t,i,c),m=f.success;if(c=f.numInserted,!m){this.reader.read(c);break}}this.reader.readLine(),s=this.reader.peekLine(),o=this.getLineIndent(!1)}return this.finalizeResult(e,i),e},a.prototype.getLineIndent=function(e){var t=0;return this.format!=null&&(t=e?this.format.firstLineIndent:this.format.paragraphIndent,t=this.size.width>0?Math.min(this.size.width,t):t),t},a.prototype.getLineHeight=function(){var e=this.font.height;return this.format!=null&&this.format.lineSpacing!==0&&(e=this.format.lineSpacing+this.font.height),e},a.prototype.getLineWidth=function(e){var t=this.font.getLineWidth(e,this.format);return t},a.prototype.layoutLine=function(e,t){var i=new yn;i.layoutLineHeight=this.getLineHeight();var s=[],o=this.size.width,c=this.getLineWidth(e)+t,f=ai.FirstParagraphLine,m=!0;if(o<=0||Math.round(c)<=Math.round(o))this.addToLineResult(i,s,e,c,ai.NewLineBreak|f);else{var b="",S="";c=t;var k=t,L=new Zt(e),I=L.peekWord();for(I.length!==L.length&&I===" "&&(S=S+I,b=b+I,L.position+=1,I=L.peekWord());I!=null;){S=S+I;var _=this.getLineWidth(S.toString())+k;if(S.toString()===" "&&(S="",_=0),_>o){if(this.getWrapType()===yi.None)break;if(S.length===I.length)if(this.getWrapType()===yi.WordOnly){i.textRemainder=e.substring(L.position);break}else if(S.length===1){b=b+I;break}else{m=!1,S="",I=L.peek().toString();continue}else{if(this.getLineWidth(I.toString())>o?this.format.wordWrap=yi.Character:typeof this.format<"u"&&this.format!==null&&(this.format.wordWrap=yi.Word),this.getWrapType()!==yi.Character||!m){var N=b.toString();N!==" "&&this.addToLineResult(i,s,N,c,ai.LayoutBreak|f),this.isOverloadWithPosition&&(o=this.clientSize.width),S="",b="",c=0,k=0,_=0,f=ai.None,I=m?I:L.peekWord(),m=!0}else m=!1,S="",S=S+b.toString(),I=L.peek().toString();continue}}b=b+I,c=_,m?(L.readWord(),I=L.peekWord()):(L.read(),I=L.peek().toString())}if(b.length>0){var N=b.toString();this.addToLineResult(i,s,N,c,ai.NewLineBreak|ai.LastParagraphLine)}L.close()}i.layoutLines=[];for(var U=0;U<s.length;U++)i.layoutLines.push(s[U]);return s=[],i},a.prototype.addToLineResult=function(e,t,i,s,o){var c=new Cu;c.text=i,c.width=s,c.lineType=o,t.push(c);var f=e.actualSize;f.height+=this.getLineHeight(),f.width=Math.max(f.width,s),e.size=f},a.prototype.copyToResult=function(e,t,i,s){var o=!0,c=this.format!=null&&!this.format.lineLimit,f=e.actualSize.height,m=this.size.height;if(this.pageHeight>0&&m+this.rectangle.y>this.pageHeight&&(m=this.rectangle.y-this.pageHeight,m=Math.max(m,-m)),s=0,t.lines!=null)for(var b=0,S=t.lines.length;b<S;b++){var k=f+t.lineHeight;if(k<=m||m<=0||c){var L=t.lines[b];s+=L.text.length,L=this.trimLine(L,i.length===0),i.push(L);var I=e.actualSize;I.width=Math.max(I.width,L.width),e.size=I,f=k}else{o=!1;break}}if(f!=e.size.height){var _=e.actualSize;_.height=f,e.size=_}return{success:o,numInserted:s}},a.prototype.finalizeResult=function(e,t){e.layoutLines=[];for(var i=0;i<t.length;i++)e.layoutLines.push(t[i]);e.layoutLineHeight=this.getLineHeight(),this.reader.end||(e.textRemainder=this.reader.readToEnd()),t=[]},a.prototype.trimLine=function(e,t){var i=e.text,s=e.width;e.lineType&ai.FirstParagraphLine;var o=this.format==null||!this.format.rightToLeft;return i=i.trim(),i.length!==e.text.length&&(s=this.getLineWidth(i),(e.lineType&ai.FirstParagraphLine)>0&&(s+=this.getLineIndent(t))),e.text=i,e.width=s,e},a.prototype.getWrapType=function(){var e=this.format!=null?this.format.wordWrap:yi.Word;return e},a}(),yn=function(){function a(){}return Object.defineProperty(a.prototype,"remainder",{get:function(){return this.textRemainder},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"actualSize",{get:function(){return typeof this.size>"u"&&(this.size=new Se(0,0)),this.size},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lines",{get:function(){return this.layoutLines},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lineHeight",{get:function(){return this.layoutLineHeight},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return this.layoutLines==null||this.layoutLines.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lineCount",{get:function(){var e=this.empty?0:this.layoutLines.length;return e},enumerable:!0,configurable:!0}),a}(),Cu=function(){function a(){}return Object.defineProperty(a.prototype,"lineType",{get:function(){return this.type},set:function(e){this.type=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"text",{get:function(){return this.content},set:function(e){this.content=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return this.lineWidth},set:function(e){this.lineWidth=e},enumerable:!0,configurable:!0}),a}(),ai;(function(a){a[a.None=0]="None",a[a.NewLineBreak=1]="NewLineBreak",a[a.LayoutBreak=2]="LayoutBreak",a[a.FirstParagraphLine=4]="FirstParagraphLine",a[a.LastParagraphLine=8]="LastParagraphLine"})(ai||(ai={}));var Vi=function(){function a(e,t){this.fontStyle=lt.Regular,typeof e=="number"&&typeof t>"u"?this.fontSize=e:(this.fontSize=e,this.setStyle(t))}return Object.defineProperty(a.prototype,"name",{get:function(){return this.metrics.name},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this.metrics.getHeight(null)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"style",{get:function(){return this.fontStyle},set:function(e){this.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bold",{get:function(){return(this.style&lt.Bold)>0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"italic",{get:function(){return(this.style&lt.Italic)>0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"strikeout",{get:function(){return(this.style&lt.Strikeout)>0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"underline",{get:function(){return(this.style&lt.Underline)>0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"metrics",{get:function(){return this.fontMetrics},set:function(e){this.fontMetrics=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"element",{get:function(){return this.pdfFontInternals},enumerable:!0,configurable:!0}),a.prototype.measureString=function(e,t,i,s,o){if(typeof e=="string"&&typeof t>"u")return this.measureString(e,null);if(typeof e=="string"&&(t instanceof zs||t==null)&&typeof i>"u"&&typeof s>"u"){var c=t,f=0,m=0;return this.measureString(e,c,f,m)}else if(typeof e=="string"&&(t instanceof zs||t==null)&&typeof i=="number"&&typeof s=="number"){var c=t;return this.measureString(e,0,c,i,s)}else if(typeof e=="string"&&typeof t=="number"&&(i instanceof zs||i==null)&&typeof s=="number"&&typeof o=="number"){var b=new Se(t,0),S=i;return this.measureString(e,b,S,s,o)}else{if(e==null)throw Error('ArgumentNullException("text")');var c=t,S=i,k=new na,L=k.layout(e,this,S,c,!1,new Se(0,0));return s=e.length,o=L.empty?0:L.lines.length,L.actualSize}},a.prototype.equalsTo=function(e){var t=this.equalsToFont(e);return t},a.prototype.getInternals=function(){return this.pdfFontInternals},a.prototype.setInternals=function(e){if(e==null)throw new Error("ArgumentNullException:internals");this.pdfFontInternals=e},a.prototype.setStyle=function(e){this.fontStyle=e},a.prototype.applyFormatSettings=function(e,t,i){var s=i;if(t!=null&&i>0&&(t.characterSpacing!==0&&(s+=(e.length-1)*t.characterSpacing),t.wordSpacing!==0)){var o=Zt.spaces,c=Zt.getCharsCount(e,o);s+=c*t.wordSpacing}return s},a.charSizeMultiplier=.001,a.syncObject=new Object,a}(),Za=function(){function a(e){this.streamWriter=e}return Object.defineProperty(a.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this.streamWriter.buffer.size},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"stream",{get:function(){return this.streamWriter},enumerable:!0,configurable:!0}),a.prototype.write=function(e){var t=e;this.streamWriter.write(t)},a}(),Au=function(){function a(){this.buffer=new ku}return a.prototype.write=function(e){this.buffer.write(e)},a.prototype.destroy=function(){this.buffer&&(this.buffer.destroy(),this.buffer=void 0)},a}(),ku=function(){function a(){this.buffer=[]}return Object.defineProperty(a.prototype,"size",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0}),a.prototype.write=function(e){for(var t=0;t<e.length;t++)this.buffer.push(e.charCodeAt(t)&255)},a.prototype.destroy=function(){this.buffer&&(this.buffer=[],this.buffer=void 0)},a}(),us;(function(a){a[a.None=0]="None",a[a.Registered=1]="Registered"})(us||(us={}));var Tu=function(){function a(){this.objectCollections=[],this.mainObjectCollection=new nt,this.primitiveObjectCollection=new nt}return Object.defineProperty(a.prototype,"count",{get:function(){return this.objectCollections.length},enumerable:!0,configurable:!0}),a.prototype.items=function(e){return this.objectCollections[e]},Object.defineProperty(a.prototype,"outIsNew",{get:function(){return this.isNew},enumerable:!0,configurable:!0}),a.prototype.add=function(e){var t=new Lu(e);this.objectCollections.push(t),this.primitiveObjectCollection.containsKey(e)||this.primitiveObjectCollection.setValue(e,this.objectCollections.length-1),e.position=this.index=this.objectCollections.length-1,e.status=us.Registered},a.prototype.lookFor=function(e){var t=-1;if(e.position!==-1)return e.position;if(this.primitiveObjectCollection.containsKey(e)&&this.count===this.primitiveObjectCollection.size())t=this.primitiveObjectCollection.getValue(e);else for(var i=this.count-1;i>=0;i--){var s=this.objectCollections[i];if(s.object===e){t=i;break}}return t},a.prototype.getReference=function(e,t){this.index=this.lookFor(e);var i;this.isNew=!1;var s=this.objectCollections[this.index];i=s.reference;var o={reference:i,wasNew:t};return o},a.prototype.trySetReference=function(e,t,i){var s=!0;this.index=this.lookFor(e);var o=this.objectCollections[this.index];return o.setReference(t),s},a.prototype.destroy=function(){for(var e=0,t=this.objectCollections;e<t.length;e++){var i=t[e];i!==void 0&&(i.pdfObject.position=-1,i.pdfObject.isSaving=void 0,i.pdfObject.objectCollectionIndex=void 0,i.pdfObject.position=void 0)}this.objectCollections=[],this.mainObjectCollection=new nt,this.primitiveObjectCollection=new nt},a}(),Lu=function(){function a(e,t){this.pdfObject=e,this.pdfReference=t}return Object.defineProperty(a.prototype,"object",{get:function(){return this.pdfObject},set:function(e){this.pdfObject=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"reference",{get:function(){return this.pdfReference},enumerable:!0,configurable:!0}),a.prototype.setReference=function(e){this.pdfReference=e},a}(),Pu=function(){function a(e){this.isStreamCopied=!1,e instanceof en&&(this.document=e)}return Object.defineProperty(a.prototype,"pdfObjects",{get:function(){return this.objects},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"crossTable",{get:function(){return this.pdfCrossTable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"currentSavingObj",{get:function(){return this.currentSavingObject},set:function(e){this.currentSavingObject=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"catalog",{get:function(){return this.pdfCatalog},set:function(e){this.pdfCatalog=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"viewerPreferences",{get:function(){return this.pdfCatalog.viewerPreferences},enumerable:!0,configurable:!0}),a.prototype.setMainObjectCollection=function(e){this.objects=e},a.prototype.setCrossTable=function(e){this.pdfCrossTable=e},a.prototype.setCatalog=function(e){this.pdfCatalog=e},a.prototype.save=function(e){var t=this,i=new Br(!0),s=new Wa(i);if(typeof e>"u"){var o=new Br(!0),c=new Wa(o);return new Promise(function(f,m){var b={};b.blobData=new Blob([t.document.docSave(c,!0)],{type:"application/pdf"}),f(b)})}else this.document.docSave(s,e,!0)},a.prototype.clone=function(){return this.document},a.prototype._save=function(){return this.document._docSave()},a}(),ds;(function(a){a[a.Free=0]="Free",a[a.Normal=1]="Normal",a[a.Packed=2]="Packed"})(ds||(ds={}));var Mi=function(){function a(e){this.currentPosition=-1,this.value=e}return Object.defineProperty(a.prototype,"status",{get:function(){return this.objectStatus},set:function(e){this.objectStatus=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSaving",{get:function(){return this.saving},set:function(e){this.saving=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"objectCollectionIndex",{get:function(){return this.index},set:function(e){this.index=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return this.currentPosition},set:function(e){this.currentPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clonedObject",{get:function(){var e=null;return e},enumerable:!0,configurable:!0}),a.prototype.save=function(e){e.write(this.boolToStr(this.value))},a.prototype.clone=function(e){var t=new a(this.value);return t},a.prototype.boolToStr=function(e){return e?"true":"false"},a}(),Eu=function(){function a(e){this._dictionaryProperties=new xt,this._centerWindow=!1,this._fitWindow=!1,this._displayTitle=!1,this._splitWindow=!1,this._hideMenuBar=!1,this._hideToolBar=!1,this._hideWindowUI=!1,this._pageMode=Ai.UseNone,this._pageLayout=ki.SinglePage,this._dictionary=new tt,this._duplex=tr.None,this._catalog=e}return Object.defineProperty(a.prototype,"centerWindow",{get:function(){return this._centerWindow},set:function(e){this._centerWindow=e,this._dictionary.items.setValue(this._dictionaryProperties.centerWindow,new Mi(this._centerWindow))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"displayTitle",{get:function(){return this._displayTitle},set:function(e){this._displayTitle=e,this._dictionary.items.setValue(this._dictionaryProperties.displayTitle,new Mi(this._displayTitle))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"fitWindow",{get:function(){return this._fitWindow},set:function(e){this._fitWindow=e,this._dictionary.items.setValue(this._dictionaryProperties.fitWindow,new Mi(this._fitWindow))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hideMenuBar",{get:function(){return this._hideMenuBar},set:function(e){this._hideMenuBar=e,this._dictionary.items.setValue(this._dictionaryProperties.hideMenuBar,new Mi(this._hideMenuBar))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hideToolBar",{get:function(){return this._hideToolBar},set:function(e){this._hideToolBar=e,this._dictionary.items.setValue(this._dictionaryProperties.hideToolBar,new Mi(this._hideToolBar))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hideWindowUI",{get:function(){return this._hideWindowUI},set:function(e){this._hideWindowUI=e,this._dictionary.items.setValue(this._dictionaryProperties.hideWindowUI,new Mi(this._hideWindowUI))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pageMode",{get:function(){return this._pageMode},set:function(e){this._pageMode=e,this._catalog.items.setValue(this._dictionaryProperties.pageMode,new Me(this._mapPageMode(this._pageMode)))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"duplex",{get:function(){return this._duplex},set:function(e){this._duplex=e,this._catalog.items.setValue(this._dictionaryProperties.duplex,new Me(this._mapDuplexMode(this._duplex)))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pageLayout",{get:function(){return this._pageLayout},set:function(e){this._pageLayout=e,this._catalog.items.setValue(this._dictionaryProperties.pageLayout,new Me(this._mapPageLayout(this._pageLayout)))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pageScaling",{get:function(){return this._pageScaling},set:function(e){this._pageScaling=e,this._pageScaling===Us.AppDefault&&this._dictionary.items.containsKey(this._dictionaryProperties.printScaling)?this._dictionary.items.remove(this._dictionaryProperties.printScaling):this._pageScaling===Us.None&&this._dictionary.items.setValue(this._dictionaryProperties.printScaling,new Me("None"))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"element",{get:function(){return this._dictionary},enumerable:!0,configurable:!0}),a.prototype._mapDuplexMode=function(e){switch(e){case tr.Simplex:return"Simplex";case tr.DuplexFlipShortEdge:return"DuplexFlipShortEdge";case tr.DuplexFlipLongEdge:return"DuplexFlipLongEdge";case tr.None:return"None"}},a.prototype._mapPageMode=function(e){switch(e){case Ai.UseNone:return"UseNone";case Ai.UseOutlines:return"UseOutlines";case Ai.UseThumbs:return"UseThumbs";case Ai.FullScreen:return"FullScreen";case Ai.UseOC:return"UseOC";case Ai.UseAttachments:return"UseAttachments"}},a.prototype._mapPageLayout=function(e){switch(e){case ki.SinglePage:return"SinglePage";case ki.OneColumn:return"OneColumn";case ki.TwoColumnLeft:return"TwoColumnLeft";case ki.TwoColumnRight:return"TwoColumnRight";case ki.TwoPageLeft:return"TwoPageLeft";case ki.TwoPageRight:return"TwoPageRight"}},a}(),Ai;(function(a){a[a.UseNone=0]="UseNone",a[a.UseOutlines=1]="UseOutlines",a[a.UseThumbs=2]="UseThumbs",a[a.FullScreen=3]="FullScreen",a[a.UseOC=4]="UseOC",a[a.UseAttachments=5]="UseAttachments"})(Ai||(Ai={}));var ki;(function(a){a[a.SinglePage=0]="SinglePage",a[a.OneColumn=1]="OneColumn",a[a.TwoColumnLeft=2]="TwoColumnLeft",a[a.TwoColumnRight=3]="TwoColumnRight",a[a.TwoPageLeft=4]="TwoPageLeft",a[a.TwoPageRight=5]="TwoPageRight"})(ki||(ki={}));var tr;(function(a){a[a.Simplex=0]="Simplex",a[a.DuplexFlipShortEdge=1]="DuplexFlipShortEdge",a[a.DuplexFlipLongEdge=2]="DuplexFlipLongEdge",a[a.None=3]="None"})(tr||(tr={}));var Us;(function(a){a[a.AppDefault=0]="AppDefault",a[a.None=1]="None"})(Us||(Us={}));var Mu=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Cl=function(a){Mu(e,a);function e(){var t=a.call(this)||this;return t.sections=null,t.tempDictionaryProperties=new xt,t.items.setValue(new xt().type,new Me("Catalog")),t}return Object.defineProperty(e.prototype,"pages",{get:function(){return this.sections},set:function(t){t.element,this.sections=t,this.items.setValue(this.tempDictionaryProperties.pages,new it(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewerPreferences",{get:function(){return(this._viewerPreferences===null||typeof this._viewerPreferences>"u")&&(this._viewerPreferences=new Eu(this),this.items.setValue(this.tempDictionaryProperties.viewerPreferences,new it(this._viewerPreferences.element))),this._viewerPreferences},enumerable:!0,configurable:!0}),e}(tt),Al=function(){function a(){this.objects=new nt,this.maxGenNumIndex=0,this.objectCount=0,this.dictionaryProperties=new xt}return Object.defineProperty(a.prototype,"isMerging",{get:function(){return this.merging},set:function(e){this.merging=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"trailer",{get:function(){return this.internalTrailer==null&&(this.internalTrailer=new Kt),this.internalTrailer},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"document",{get:function(){return this.pdfDocument},set:function(e){this.pdfDocument=e,this.items=this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pdfObjects",{get:function(){return this.items},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"objectCollection",{get:function(){return this.pdfDocument.pdfObjects},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this.objectCount},set:function(e){this.objectCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"nextObjNumber",{get:function(){return this.count=this.count+1,this.count},enumerable:!0,configurable:!0}),a.prototype.save=function(e,t){if(this._saveProcess(e),typeof t>"u")return e.stream.buffer;e.stream.save(t)},a.prototype._saveProcess=function(e){this.saveHead(e),this.mappedReferences=null,this.objects.clear(),this.markTrailerReferences(),this.saveObjects(e);var t=this.count,i=e.position;this.registerObject(0,new On(0,-1),!0);var s=0;e.write(oe.xref),e.write(oe.newLine),this.saveSections(e),this.saveTrailer(e,this.count,s),this.saveTheEndess(e,i),this.count=t;for(var o=0;o<this.objectCollection.count;++o){var c=this.objectCollection.items(o);c.object.isSaving=!1}},a.prototype._save=function(e){return this._saveProcess(e),new Uint8Array(e.stream.buffer.buffer)},a.prototype.saveTheEndess=function(e,t){e.write(oe.newLine+oe.startxref+oe.newLine),e.write(t.toString()+oe.newLine),e.write(oe.eof+oe.newLine)},a.prototype.saveTrailer=function(e,t,i){e.write(oe.trailer+oe.newLine);var s=this.trailer;s.items.setValue(this.dictionaryProperties.size,new Le(this.objectCount+1)),s=new tt(s),s.setEncrypt(!1),s.save(e)},a.prototype.saveSections=function(e){var t=0,i=0;do i=this.prepareSubsection(t),this.saveSubsection(e,t,i),t+=i;while(i!==0)},a.prototype.saveSubsection=function(e,t,i){if(!(i<=0||t>=this.count)){e.write(t+" "+(i+1)+oe.newLine);for(var s=t;s<=t+i;++s){var o=this.objects.getValue(s),c="";o.type===ds.Free?c=this.getItem(o.offset,65535,!0):c=this.getItem(o.offset,o.generation,!1),e.write(c)}}},a.prototype.getItem=function(e,t,i){var s="",o=10-e.toString().length;t<=0&&(t=0);for(var c=5-t.toString().length<=0?0:5-t.toString().length,f=0;f<o;f++)s=s+"0";s=s+e.toString()+" ";for(var f=0;f<c;f++)s=s+"0";return s=s+t.toString()+" ",s=s+(i?oe.f:oe.n)+oe.newLine,s},a.prototype.prepareSubsection=function(e){for(var t=0,i,s=this.count,o=0;o<this.document.pdfObjects.count;o++){var c=this.document.pdfObjects.items(o).reference,f=c.toString();f.split(" ")}if(e>=s)return t;for(i=e;i<s;++i)break;for(e=i;i<s;++i)++t;return t},a.prototype.markTrailerReferences=function(){this.trailer.items.keys(),this.trailer.items.values()},a.prototype.saveHead=function(e){var t=this.generateFileVersion(e.document);e.write("%PDF-"+t),e.write(oe.newLine)},a.prototype.generateFileVersion=function(e){var t=4,i="1."+t.toString();return i},a.prototype.getReference=function(e,t){if(typeof t>"u"){var i=!1;return this.getReference(e,i)}else return this.getSubReference(e,t)},a.prototype.getSubReference=function(e,t){var i=!1,s,o=null;if(this.items.count>0&&e.objectCollectionIndex>0&&this.items.count>e.objectCollectionIndex-1){var c=this.document.pdfObjects.getReference(e,s);o=c.reference,s=c.wasNew}if(o==null?e.status===us.Registered?s=!1:s=!0:s=!1,o==null){var f=this.nextObjNumber;o=new On(f,0);var m=void 0;if(s){this.document.pdfObjects.add(e),this.document.pdfObjects.trySetReference(e,o,m);var b=this.document.pdfObjects.count-1,S=this.document.pdfObjects.objectCollections[b].reference.objNumber,k=this.document.pdfObjects.objectCollections[this.document.pdfObjects.count-1];this.document.pdfObjects.mainObjectCollection.setValue(S,k),e.position=-1}else this.document.pdfObjects.trySetReference(e,o,m);e.objectCollectionIndex=o.objNumber,e.status=us.None,i=!0}return i||this.bForceNew,o},a.prototype.saveObjects=function(e){for(var t=this.objectCollection,i=0;i<t.count;++i){var s=t.items(i),o=s.object;o.isSaving=!0,this.saveIndirectObject(o,e)}},a.prototype.saveIndirectObject=function(e,t){var i=this.getReference(e);e instanceof Cl&&this.trailer.items.setValue(this.dictionaryProperties.root,i),this.pdfDocument.currentSavingObj=i,e.getArchive(),this.registerObject(t.position,i),this.doSaveObject(e,i,t)},a.prototype.doSaveObject=function(e,t,i){i.write(t.objNumber.toString()),i.write(oe.whiteSpace),i.write(t.genNumber.toString()),i.write(oe.whiteSpace),i.write(oe.obj),i.write(oe.newLine),e.save(i),i.write(oe.endObj),i.write(oe.newLine)},a.prototype.registerObject=function(e,t,i){typeof i=="boolean"?(this.objects.setValue(t.objNumber,new $a(e,t,i)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber)):typeof i>"u"&&(this.objects.setValue(t.objNumber,new $a(e,t)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber))},a.dereference=function(e){var t=e;return t!=null&&(e=t.object),e},a}(),$a=function(){function a(e,t,i){var s=e;this.offsetNumber=s;var o=t;this.generation=o.genNumber,this.object=o.objNumber,typeof i>"u"?this.type=ds.Normal:this.type=ds.Free}return Object.defineProperty(a.prototype,"objectNumber",{get:function(){return this.object},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"offset",{get:function(){var e;return e=this.offsetNumber,e},enumerable:!0,configurable:!0}),a}(),Ou=function(){function a(){}return a.letter=new Se(612,792),a.note=new Se(540,720),a.legal=new Se(612,1008),a.a0=new Se(2380,3368),a.a1=new Se(1684,2380),a.a2=new Se(1190,1684),a.a3=new Se(842,1190),a.a4=new Se(595,842),a.a5=new Se(421,595),a.a6=new Se(297,421),a.a7=new Se(210,297),a.a8=new Se(148,210),a.a9=new Se(105,148),a.a10=new Se(74,105),a.b0=new Se(2836,4008),a.b1=new Se(2004,2836),a.b2=new Se(1418,2004),a.b3=new Se(1002,1418),a.b4=new Se(709,1002),a.b5=new Se(501,709),a.archE=new Se(2592,3456),a.archD=new Se(1728,2592),a.archC=new Se(1296,1728),a.archB=new Se(864,1296),a.archA=new Se(648,864),a.flsa=new Se(612,936),a.halfLetter=new Se(396,612),a.letter11x17=new Se(792,1224),a.ledger=new Se(1224,792),a}(),sr;(function(a){a[a.Portrait=0]="Portrait",a[a.Landscape=1]="Landscape"})(sr||(sr={}));var Dn;(function(a){a[a.RotateAngle0=0]="RotateAngle0",a[a.RotateAngle90=1]="RotateAngle90",a[a.RotateAngle180=2]="RotateAngle180",a[a.RotateAngle270=3]="RotateAngle270"})(Dn||(Dn={}));var Ka;(function(a){a[a.None=0]="None",a[a.Numeric=1]="Numeric",a[a.LowerLatin=2]="LowerLatin",a[a.LowerRoman=3]="LowerRoman",a[a.UpperLatin=4]="UpperLatin",a[a.UpperRoman=5]="UpperRoman"})(Ka||(Ka={}));var ut;(function(a){a[a.None=0]="None",a[a.Bottom=1]="Bottom",a[a.Top=2]="Top",a[a.Left=3]="Left",a[a.Right=4]="Right",a[a.Fill=5]="Fill"})(ut||(ut={}));var Ie;(function(a){a[a.None=0]="None",a[a.TopLeft=1]="TopLeft",a[a.TopCenter=2]="TopCenter",a[a.TopRight=3]="TopRight",a[a.MiddleLeft=4]="MiddleLeft",a[a.MiddleCenter=5]="MiddleCenter",a[a.MiddleRight=6]="MiddleRight",a[a.BottomLeft=7]="BottomLeft",a[a.BottomCenter=8]="BottomCenter",a[a.BottomRight=9]="BottomRight"})(Ie||(Ie={}));var Ne;(function(a){a[a.None=0]="None",a[a.Top=1]="Top",a[a.Bottom=2]="Bottom",a[a.Left=3]="Left",a[a.Right=4]="Right"})(Ne||(Ne={}));var Ru=function(){function a(){this.pdfMargin=40,this.setMargins(this.pdfMargin)}return Object.defineProperty(a.prototype,"left",{get:function(){return this.leftMargin},set:function(e){this.leftMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"top",{get:function(){return this.topMargin},set:function(e){this.topMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){return this.rightMargin},set:function(e){this.rightMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bottom",{get:function(){return this.bottomMargin},set:function(e){this.bottomMargin=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"all",{set:function(e){this.setMargins(e)},enumerable:!0,configurable:!0}),a.prototype.setMargins=function(e,t,i,s){typeof t>"u"?this.leftMargin=this.topMargin=this.rightMargin=this.bottomMargin=e:typeof i>"u"?(this.leftMargin=this.rightMargin=e,this.bottomMargin=this.topMargin=t):(this.leftMargin=e,this.topMargin=t,this.rightMargin=i,this.bottomMargin=s)},a.prototype.clone=function(){return this},a}(),Iu=function(){function a(e){this.pageMargins=new Ru,this.pageSize=Ou.a4,this.rotateAngle=Dn.RotateAngle0,this.pageOrientation=sr.Portrait,this.pageOrigin=new We(0,0),this.isRotation=!1,typeof e=="number"&&this.pageMargins.setMargins(e)}return Object.defineProperty(a.prototype,"size",{get:function(){return this.pageSize},set:function(e){this.setSize(e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(e){this.pageOrientation!==e&&(this.pageOrientation=e,this.updateSize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"margins",{get:function(){return this.pageMargins},set:function(e){this.pageMargins=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return this.pageSize.width},set:function(e){this.pageSize.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this.pageSize.height},set:function(e){this.pageSize.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"origin",{get:function(){return this.pageOrigin},set:function(e){this.pageOrigin=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rotate",{get:function(){return this.rotateAngle},set:function(e){this.rotateAngle=e,this.isRotation=!0},enumerable:!0,configurable:!0}),a.prototype.updateSize=function(e){var t=Math.min(this.pageSize.width,this.pageSize.height),i=Math.max(this.pageSize.width,this.pageSize.height);switch(e){case sr.Portrait:this.pageSize=new Se(t,i);break;case sr.Landscape:this.pageSize=new Se(i,t);break}},a.prototype.clone=function(){var e=this;return e.pageMargins=this.pageMargins.clone(),e},a.prototype.getActualSize=function(){var e=this.width-(this.margins.left+this.margins.right),t=this.height-(this.margins.top+this.margins.bottom),i=new Se(e,t);return i},a.prototype.setSize=function(e){var t=Math.min(e.width,e.height),i=Math.max(e.width,e.height);this.orientation===sr.Portrait?this.pageSize=new Se(t,i):this.pageSize=new Se(i,t)},a}(),Ja=function(){function a(e){if(e==null)throw new Error("ArgumentNullException:stream");this.stream=e}return a.prototype.clear=function(){this.stream.clearStream()},a.prototype.setGraphicsState=function(e){e instanceof Me?(this.stream.write(e.toString()),this.stream.write(oe.whiteSpace),this.writeOperator(oe.setGraphicsState)):(this.stream.write(oe.slash),this.stream.write(e),this.stream.write(oe.whiteSpace),this.writeOperator(oe.setGraphicsState))},a.prototype.executeObject=function(e){this.stream.write(e.toString()),this.stream.write(oe.whiteSpace),this.writeOperator(oe.paintXObject),this.stream.write(oe.newLine)},a.prototype.closePath=function(){this.writeOperator(oe.closePath)},a.prototype.clipPath=function(e){this.stream.write(oe.clipPath),e&&this.stream.write(oe.evenOdd),this.stream.write(oe.whiteSpace),this.stream.write(oe.endPath),this.stream.write(oe.newLine)},a.prototype.closeFillStrokePath=function(e){this.stream.write(oe.closeFillStrokePath),e?(this.stream.write(oe.evenOdd),this.stream.write(oe.newLine)):this.stream.write(oe.newLine)},a.prototype.fillStrokePath=function(e){this.stream.write(oe.fillStroke),e?(this.stream.write(oe.evenOdd),this.stream.write(oe.newLine)):this.stream.write(oe.newLine)},a.prototype.fillPath=function(e){this.stream.write(oe.fill),e?(this.stream.write(oe.evenOdd),this.stream.write(oe.newLine)):this.stream.write(oe.newLine)},a.prototype.endPath=function(){this.writeOperator(oe.n)},a.prototype.closeFillPath=function(e){this.writeOperator(oe.closePath),this.stream.write(oe.fill),e?(this.stream.write(oe.evenOdd),this.stream.write(oe.newLine)):this.stream.write(oe.newLine)},a.prototype.closeStrokePath=function(){this.writeOperator(oe.closeStrokePath)},a.prototype.setTextScaling=function(e){this.stream.write(Le.floatToString(e)),this.stream.write(oe.whiteSpace),this.writeOperator(oe.setTextScaling)},a.prototype.strokePath=function(){this.writeOperator(oe.stroke)},a.prototype.restoreGraphicsState=function(){this.writeOperator(oe.restoreState)},a.prototype.saveGraphicsState=function(){this.writeOperator(oe.saveState)},a.prototype.startNextLine=function(e,t){typeof e>"u"?this.writeOperator(oe.goToNextLine):e instanceof We?(this.writePoint(e),this.writeOperator(oe.setCoords)):(this.writePoint(e,t),this.writeOperator(oe.setCoords))},a.prototype.showText=function(e){this.checkTextParam(e),this.writeText(e),this.writeOperator(oe.setText)},a.prototype.setLeading=function(e){this.stream.write(Le.floatToString(e)),this.stream.write(oe.whiteSpace),this.writeOperator(oe.setTextLeading)},a.prototype.beginPath=function(e,t){this.writePoint(e,t),this.writeOperator(oe.beginPath)},a.prototype.beginText=function(){this.writeOperator(oe.beginText)},a.prototype.endText=function(){this.writeOperator(oe.endText)},a.prototype.appendRectangle=function(e,t,i,s){e instanceof et?this.appendRectangle(e.x,e.y,e.width,e.height):(this.writePoint(e,t),this.writePoint(i,s),this.writeOperator(oe.appendRectangle))},a.prototype.appendLineSegment=function(e,t){e instanceof We?this.appendLineSegment(e.x,e.y):(this.writePoint(e,t),this.writeOperator(oe.appendLineSegment))},a.prototype.setTextRenderingMode=function(e){this.stream.write(e.toString()),this.stream.write(oe.whiteSpace),this.writeOperator(oe.setRenderingMode)},a.prototype.setCharacterSpacing=function(e){this.stream.write(Le.floatToString(e)),this.stream.write(oe.whiteSpace),this.stream.write(oe.setCharacterSpace),this.stream.write(oe.newLine)},a.prototype.setWordSpacing=function(e){this.stream.write(Le.floatToString(e)),this.stream.write(oe.whiteSpace),this.writeOperator(oe.setWordSpace)},a.prototype.showNextLineText=function(e,t){e instanceof Xt?(this.checkTextParam(e),this.writeText(e),this.writeOperator(oe.setTextOnNewLine)):(this.checkTextParam(e),this.writeText(e,t),this.writeOperator(oe.setTextOnNewLine))},a.prototype.setColorSpace=function(e,t){if(e instanceof Me&&typeof t=="boolean"){var i=e,s=t,o=s?oe.selectcolorspaceforstroking:oe.selectcolorspacefornonstroking;this.stream.write(i.toString()),this.stream.write(oe.whiteSpace),this.stream.write(o),this.stream.write(oe.newLine)}else{var i=e,s=t;this.setColorSpace(new Me(i),s)}},a.prototype.modifyCtm=function(e){if(e==null)throw new Error("ArgumentNullException:matrix");this.stream.write(e.toString()),this.stream.write(oe.whiteSpace),this.writeOperator(oe.modifyCtm)},a.prototype.setFont=function(e,t,i){if(typeof t=="string")this.setFont(e,new Me(t),i);else{if(e==null)throw new Error("ArgumentNullException:font");this.stream.write(t.toString()),this.stream.write(oe.whiteSpace),this.stream.write(Le.floatToString(i)),this.stream.write(oe.whiteSpace),this.writeOperator(oe.setFont)}},a.prototype.writeOperator=function(e){this.stream.write(e),this.stream.write(oe.newLine)},a.prototype.checkTextParam=function(e){if(e==null)throw new Error("ArgumentNullException:text");if(typeof e=="string"&&e==="")throw new Error("ArgumentException:The text can not be an empty string, text")},a.prototype.writeText=function(e,t){if(e instanceof Xt&&typeof t>"u")this.stream.write(e.pdfEncode());else{var i=void 0,s=void 0;t?(i=Xt.hexStringMark[0],s=Xt.hexStringMark[1]):(i=Xt.stringMark[0],s=Xt.stringMark[1]),this.stream.write(i),this.stream.write(e),this.stream.write(s)}},a.prototype.writePoint=function(e,t){if(e instanceof We&&typeof t>"u")this.writePoint(e.x,e.y);else{var i=e;this.stream.write(Le.floatToString(i)),this.stream.write(oe.whiteSpace),t=this.updateY(t),this.stream.write(Le.floatToString(t)),this.stream.write(oe.whiteSpace)}},a.prototype.updateY=function(e){return-e},a.prototype.write=function(e){var t="";t+=e,t+=oe.newLine,this.writeOperator(t)},a.prototype.writeComment=function(e){if(e!=null&&e.length>0){var t="";t+=oe.comment,t+=oe.whiteSpace,t+=e,this.writeOperator(t)}else throw new Error("Invalid comment")},a.prototype.setColorAndSpace=function(e,t,i){e.isEmpty||(this.stream.write(e.toString(t,i)),this.stream.write(oe.newLine))},a.prototype.setLineDashPattern=function(e,t){this.setLineDashPatternHelper(e,t)},a.prototype.setLineDashPatternHelper=function(e,t){var i="[";if(e.length>1)for(var s=0;s<e.length;s++)s===e.length-1?i+=e[s].toString():i+=e[s].toString()+" ";i+="] ",i+=t.toString(),i+=" "+oe.setDashPattern,this.stream.write(i),this.stream.write(oe.newLine)},a.prototype.setMiterLimit=function(e){this.stream.write(Le.floatToString(e)),this.stream.write(oe.whiteSpace),this.writeOperator(oe.setMiterLimit)},a.prototype.setLineWidth=function(e){this.stream.write(Le.floatToString(e)),this.stream.write(oe.whiteSpace),this.writeOperator(oe.setLineWidth)},a.prototype.setLineCap=function(e){this.stream.write(e.toString()),this.stream.write(oe.whiteSpace),this.writeOperator(oe.setLineCapStyle)},a.prototype.setLineJoin=function(e){this.stream.write(e.toString()),this.stream.write(oe.whiteSpace),this.writeOperator(oe.setLineJoinStyle)},Object.defineProperty(a.prototype,"position",{get:function(){return this.stream.position},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){var e=0;if(this.stream.data.length!==0&&this.stream.data.length!==-1)for(var t=0;t<this.stream.data.length;t++)e+=this.stream.data[t].length;return e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"document",{get:function(){return null},enumerable:!0,configurable:!0}),a.prototype.appendBezierSegment=function(e,t,i,s,o,c){e instanceof We&&t instanceof We&&i instanceof We?(this.writePoint(e.x,e.y),this.writePoint(t.x,t.y),this.writePoint(i.x,i.y)):(this.writePoint(e,t),this.writePoint(i,s),this.writePoint(o,c)),this.writeOperator(oe.appendbeziercurve)},a.prototype.setColourWithPattern=function(e,t,i){if(e!=null){var s=e.length,o=0;for(o=0;o<s;++o)this.stream.write(e[o].toString()),this.stream.write(oe.whiteSpace)}t!=null&&(this.stream.write(t.toString()),this.stream.write(oe.whiteSpace)),i?this.writeOperator(oe.setColorAndPatternStroking):this.writeOperator(oe.setColorAndPattern)},a}(),Es=function(){function a(e,t){this.pdfColor=new ar(0,0,0),this.dashOffsetValue=0,this.penDashPattern=[0],this.pdfDashStyle=gi.Solid,this.pdfLineCap=0,this.pdfLineJoin=0,this.penWidth=1,this.internalMiterLimit=0,this.colorSpace=ht.Rgb,e instanceof or?this.setBrush(e):e instanceof ar&&(this.color=e),typeof t=="number"&&(this.width=t)}return Object.defineProperty(a.prototype,"color",{get:function(){return this.pdfColor},set:function(e){this.pdfColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dashOffset",{get:function(){return typeof this.dashOffsetValue>"u"||this.dashOffsetValue==null?0:this.dashOffsetValue},set:function(e){this.dashOffsetValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dashPattern",{get:function(){return this.penDashPattern},set:function(e){this.penDashPattern=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dashStyle",{get:function(){return this.pdfDashStyle},set:function(e){if(this.pdfDashStyle!==e)switch(this.pdfDashStyle=e,this.pdfDashStyle){case gi.Custom:break;case gi.Dash:this.penDashPattern=[3,1];break;case gi.Dot:this.penDashPattern=[1,1];break;case gi.DashDot:this.penDashPattern=[3,1,1,1];break;case gi.DashDotDot:this.penDashPattern=[3,1,1,1,1,1];break;case gi.Solid:break;default:this.pdfDashStyle=gi.Solid,this.penDashPattern=[0];break}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lineCap",{get:function(){return this.pdfLineCap},set:function(e){this.pdfLineCap=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lineJoin",{get:function(){return this.pdfLineJoin},set:function(e){this.pdfLineJoin=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"miterLimit",{get:function(){return this.internalMiterLimit},set:function(e){this.internalMiterLimit=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return this.penWidth},set:function(e){this.penWidth=e},enumerable:!0,configurable:!0}),a.prototype.clone=function(){var e=this;return e},a.prototype.setBrush=function(e){var t=e;t!=null&&t instanceof Dr&&(this.color=t.color,this.pdfBrush=t),this.color=t.color,this.pdfBrush=t},a.prototype.monitorChanges=function(e,t,i,s,o,c){var f=!1;s=!0,e==null&&(f=!0),f=this.dashControl(e,s,t),t.setLineWidth(this.width),t.setLineJoin(this.lineJoin),t.setLineCap(this.lineCap);var m=this.miterLimit;return m>0&&(t.setMiterLimit(m),f=!0),this.pdfBrush,t.setColorAndSpace(this.color,o,!0),f=!0,f},a.prototype.dashControl=function(e,t,i){t=!0;var s=this.width,o=this.getPattern();return i.setLineDashPattern(o,this.dashOffset*s),t},a.prototype.getPattern=function(){for(var e=this.dashPattern,t=0;t<e.length;++t)e[t]*=this.width;return e},a}(),wi=function(){function a(e){this.radDegFactor=180/Math.PI,typeof e>"u"?this.transformationMatrix=new Fn(1,0,0,1,0,0):this.transformationMatrix=new Fn(1,0,0,-1,0,0)}return Object.defineProperty(a.prototype,"matrix",{get:function(){return this.transformationMatrix},set:function(e){this.transformationMatrix=e},enumerable:!0,configurable:!0}),a.prototype.translate=function(e,t){this.transformationMatrix.translate(e,t)},a.prototype.scale=function(e,t){this.transformationMatrix.elements[0]=e,this.transformationMatrix.elements[3]=t},a.prototype.rotate=function(e){e=e*Math.PI/180,this.transformationMatrix.elements[0]=Math.cos(e),this.transformationMatrix.elements[1]=Math.sin(e),this.transformationMatrix.elements[2]=-Math.sin(e),this.transformationMatrix.elements[3]=Math.cos(e)},a.prototype.toString=function(){for(var e="",t=" ",i=0,s=this.transformationMatrix.elements.length;i<s;i++)this.matrix.elements[i],e+=Le.floatToString(this.transformationMatrix.elements[i]),e+=t;return e},a.prototype.multiply=function(e){this.transformationMatrix.multiply(e.matrix)},a.degreesToRadians=function(e){return this.degRadFactor*e},a.prototype.radiansToDegrees=function(e){return this.radDegFactor*e},a.prototype.clone=function(){return this},a.degRadFactor=Math.PI/180,a}(),Fn=function(){function a(e,t,i,s,o,c){typeof e>"u"?this.metrixElements=[]:typeof e=="number"?(this.metrixElements=[],this.metrixElements.push(e),this.metrixElements.push(t),this.metrixElements.push(i),this.metrixElements.push(s),this.metrixElements.push(o),this.metrixElements.push(c)):this.metrixElements=e}return Object.defineProperty(a.prototype,"elements",{get:function(){return this.metrixElements},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"offsetX",{get:function(){return this.metrixElements[4]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"offsetY",{get:function(){return this.metrixElements[5]},enumerable:!0,configurable:!0}),a.prototype.translate=function(e,t){this.metrixElements[4]=e,this.metrixElements[5]=t},a.prototype.transform=function(e){var t=e.x,i=e.y,s=t*this.elements[0]+i*this.elements[2]+this.offsetX,o=t*this.elements[1]+i*this.elements[3]+this.offsetY;return new We(s,o)},a.prototype.multiply=function(e){var t=[];t.push(this.elements[0]*e.elements[0]+this.elements[1]*e.elements[2]),t[1]=this.elements[0]*e.elements[1]+this.elements[1]*e.elements[3],t[2]=this.elements[2]*e.elements[0]+this.elements[3]*e.elements[2],t[3]=this.elements[2]*e.elements[1]+this.elements[3]*e.elements[3],t[4]=this.offsetX*e.elements[0]+this.offsetY*e.elements[2]+e.offsetX,t[5]=this.offsetX*e.elements[1]+this.offsetY*e.elements[3]+e.offsetY;for(var i=0;i<t.length;i++)this.elements[i]=t[i]},a.prototype.dispose=function(){this.metrixElements=null},a.prototype.clone=function(){var e=new a(this.metrixElements);return e},a}(),Bu=function(){function a(){this.pdf="PDF",this.text="Text",this.imageB="ImageB",this.imageC="ImageC",this.imageI="ImageI"}return a}(),kl=function(){function a(){this.mKeys=[],this.mValues=[]}return a.prototype.size=function(){return this.mKeys.length},a.prototype.add=function(e,t){if(e==null||t===void 0||t===null)throw new ReferenceError("Provided key or value is not valid.");var i=this.mKeys.indexOf(e);if(i<0)return this.mKeys.push(e),this.mValues.push(t),1;throw new RangeError("An item with the same key has already been added.")},a.prototype.keys=function(){return this.mKeys},a.prototype.values=function(){return this.mValues},a.prototype.getValue=function(e){if(e==null)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mValues[t]},a.prototype.setValue=function(e,t){if(e==null)throw new ReferenceError("Provided key is not valid.");var i=this.mKeys.indexOf(e);i<0?(this.mKeys.push(e),this.mValues.push(t)):this.mValues[i]=t},a.prototype.remove=function(e){if(e==null)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mKeys.splice(t,1),this.mValues.splice(t,1),!0},a.prototype.containsKey=function(e){if(e==null)throw new ReferenceError("Provided key is not valid.");var t=this.mKeys.indexOf(e);return!(t<0)},a.prototype.clear=function(){this.mKeys=[],this.mValues=[]},a}(),Nn=function(){function a(e,t,i){this.dictionary=new tt,this.dictionaryProperties=new xt,this.dictionary.items.setValue(this.dictionaryProperties.CA,new Le(e)),this.dictionary.items.setValue(this.dictionaryProperties.ca,new Le(t)),this.dictionary.items.setValue(this.dictionaryProperties.BM,new Me(i.toString()))}return Object.defineProperty(a.prototype,"element",{get:function(){return this.dictionary},enumerable:!0,configurable:!0}),a}(),Du=function(){function a(){this.automaticFieldsInformation=[]}return Object.defineProperty(a.prototype,"automaticFields",{get:function(){return this.automaticFieldsInformation},enumerable:!0,configurable:!0}),a.prototype.add=function(e){return this.automaticFields.push(e)},a}(),Fu=function(){function a(){}return a.prototype.drawHelper=function(e,t,i){var s=t!==0||i!==0,o=null;s&&(o=e.save(),e.translateTransform(t,i)),this.drawInternal(e),s&&e.restore(o)},a}(),Nu=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),zu=function(a){Nu(e,a);function e(){var t=a.call(this)||this;return t.internalBounds=new et(0,0,0,0),t.internalTemplateSize=new Se(0,0),t}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.internalBounds},set:function(t){this.internalBounds=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return new Se(this.bounds.width,this.bounds.height)},set:function(t){this.bounds.width=t.width,this.bounds.height=t.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return new We(this.bounds.x,this.bounds.y)},set:function(t){this.bounds.x=t.x,this.bounds.y=t.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this.internalFont},set:function(t){this.internalFont=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brush",{get:function(){return this.internalBrush},set:function(t){this.internalBrush=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pen",{get:function(){return this.internalPen},set:function(t){this.internalPen=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringFormat",{get:function(){return this.internalStringFormat},set:function(t){this.internalStringFormat=t},enumerable:!0,configurable:!0}),e.prototype.performDrawHelper=function(t,i,s,o){if(this.bounds.height===0||this.bounds.width===0){var c=this.getValue(t);this.internalTemplateSize=this.getFont().measureString(c,this.size,this.stringFormat)}},e.prototype.draw=function(t,i,s){if(typeof i>"u"){var o=new We(0,0);this.draw(t,o)}else if(i instanceof We)this.draw(t,i.x,i.y);else{this.drawHelper(t,i,s);var c=new Tl(this,new We(i,s));t.automaticFields.add(c)}},e.prototype.getSize=function(){return this.bounds.height===0||this.bounds.width===0?this.internalTemplateSize:this.size},e.prototype.drawInternal=function(t){},e.prototype.getBrush=function(){return typeof this.internalBrush>"u"||this.internalBrush==null?new Dr(new ar(0,0,0)):this.internalBrush},e.prototype.getFont=function(){return typeof this.internalFont>"u"||this.internalFont==null?en.defaultFont:this.internalFont},e.prototype.getPageFromGraphics=function(t){if(typeof t.page<"u"&&t.page!==null){var i=t.page;return i}else{var i=t.currentPage;return i}},e}(Fu),Tl=function(){function a(e,t,i,s){this.pageNumberFieldLocation=new We,this.pageNumberField=null,this.scaleX=1,this.scaleY=1,typeof t>"u"&&e instanceof a?(this.pageNumberField=e.field,this.pageNumberFieldLocation=e.location,this.scaleX=e.scalingX,this.scaleY=e.scalingY):typeof i>"u"&&t instanceof We&&e instanceof zu?(this.pageNumberField=e,this.pageNumberFieldLocation=t):(this.pageNumberField=e,this.pageNumberFieldLocation=t,this.scaleX=i,this.scaleY=s)}return Object.defineProperty(a.prototype,"location",{get:function(){return this.pageNumberFieldLocation},set:function(e){this.pageNumberFieldLocation=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"field",{get:function(){return this.pageNumberField},set:function(e){this.pageNumberField=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"scalingX",{get:function(){return this.scaleX},set:function(e){this.scaleX=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"scalingY",{get:function(){return this.scaleY},set:function(e){this.scaleY=e},enumerable:!0,configurable:!0}),a}(),ns=function(){function a(e){this.mPosition=0,this.buffer=new Uint8Array(e),this.dataView=new DataView(this.buffer.buffer)}return Object.defineProperty(a.prototype,"position",{get:function(){return this.mPosition},set:function(e){this.mPosition=e},enumerable:!0,configurable:!0}),a.prototype.read=function(e,t,i){for(var s=t;s<i;s++){var o=this.position;e.buffer[s]=this.readByte(o),this.position++}},a.prototype.getBuffer=function(e){return this.buffer[e]},a.prototype.writeFromBase64String=function(e){var t=this.encodedString(e);this.buffer=t},a.prototype.encodedString=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,s,o,c,f,m,b,S=0,k=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var L=e.length*3/4;e.charAt(e.length-1)===t.charAt(64)&&L--;for(var I=new Uint8Array(L|0);S<e.length;)c=t.indexOf(e.charAt(S++)),f=t.indexOf(e.charAt(S++)),m=t.indexOf(e.charAt(S++)),b=t.indexOf(e.charAt(S++)),i=c<<2|f>>4,s=(f&15)<<4|m>>2,o=(m&3)<<6|b,I[k++]=i,I[k++]=s,I[k++]=o;return I},a.prototype.readByte=function(e){return this.buffer[e]},Object.defineProperty(a.prototype,"internalBuffer",{get:function(){return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this.buffer.byteLength},enumerable:!0,configurable:!0}),a.prototype.readNextTwoBytes=function(e){var t=e.readByte(this.position);return this.position++,t<<=8,t|=e.readByte(this.position),this.position++,t},a}(),Tr;(function(a){a[a.Unknown=0]="Unknown",a[a.Bmp=1]="Bmp",a[a.Emf=2]="Emf",a[a.Gif=3]="Gif",a[a.Jpeg=4]="Jpeg",a[a.Png=5]="Png",a[a.Wmf=6]="Wmf",a[a.Icon=7]="Icon"})(Tr||(Tr={}));var _u=function(){function a(e){this.sof1Marker=193,this.sof2Marker=194,this.sof3Marker=195,this.sof5Marker=197,this.sof6Marker=198,this.sof7Marker=199,this.sof9Marker=201,this.sof10Marker=202,this.sof11Marker=203,this.sof13Marker=205,this.sof14Marker=206,this.sof15Marker=207,this.mFormat=Tr.Unknown,this.mbitsPerComponent=8,this.dictionaryProperties=new xt,this.mStream=e,this.initialize()}return Object.defineProperty(a.prototype,"height",{get:function(){return this.mHeight},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return this.mWidth},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bitsPerComponent",{get:function(){return this.mbitsPerComponent},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this.mImageData.count},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"imageData",{get:function(){return this.mImageData},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"imageDataAsNumberArray",{get:function(){return this.mImageData.internalBuffer.buffer},enumerable:!0,configurable:!0}),a.prototype.initialize=function(){if(this.mFormat===Tr.Unknown&&this.checkIfJpeg())this.mFormat=Tr.Jpeg,this.parseJpegImage();else throw new TypeError("Only the JPEG format is supported");this.reset(),this.mImageData=new ns(this.mStream.count),this.mStream.read(this.mImageData,0,this.mImageData.count)},a.prototype.reset=function(){this.mStream.position=0},a.prototype.parseJpegImage=function(){this.reset();var e=new ns(this.mStream.count);this.mStream.read(e,0,e.count);for(var t=4,i=!1,s=e.getBuffer(t)*256+e.getBuffer(t+1);t<e.count;)if(t+=s,t<e.count)if(e.getBuffer(t+1)===192){this.mHeight=e.getBuffer(t+5)*256+e.getBuffer(t+6),this.mWidth=e.getBuffer(t+7)*256+e.getBuffer(t+8);return}else t+=2,s=e.getBuffer(t)*256+e.getBuffer(t+1);else{i=!0;break}i&&(this.mStream.position=0,this.skip(this.mStream,2),this.readExceededJPGImage(this.mStream))},Object.defineProperty(a.prototype,"format",{get:function(){return this.mFormat},enumerable:!0,configurable:!0}),a.prototype.checkIfJpeg=function(){this.reset();for(var e=0;e<a.mJpegHeader.length;e++){if(a.mJpegHeader[e]!==this.mStream.readByte(e))return!1;this.mStream.position++}return!0},a.prototype.getImageDictionary=function(){if(this.mFormat===Tr.Jpeg){this.imageData.internalBuffer.length,this.imageStream=new Kt,this.imageStream.isResource=!0;for(var e="",t="",i=0;i<this.imageDataAsNumberArray.byteLength;i++)e+=String.fromCharCode(null,this.mStream.readByte(i));for(var i=0;i<e.length;i++)i%2!==0&&(t+=e[i]);return this.imageStream.data=[t],this.imageStream.compress=!1,this.imageStream.items.setValue(this.dictionaryProperties.type,new Me(this.dictionaryProperties.xObject)),this.imageStream.items.setValue(this.dictionaryProperties.subtype,new Me(this.dictionaryProperties.image)),this.imageStream.items.setValue(this.dictionaryProperties.width,new Le(this.width)),this.imageStream.items.setValue(this.dictionaryProperties.height,new Le(this.height)),this.imageStream.items.setValue(this.dictionaryProperties.bitsPerComponent,new Le(this.bitsPerComponent)),this.imageStream.items.setValue(this.dictionaryProperties.filter,new Me(this.dictionaryProperties.dctdecode)),this.imageStream.items.setValue(this.dictionaryProperties.colorSpace,new Me(this.getColorSpace())),this.imageStream.items.setValue(this.dictionaryProperties.decodeParms,this.getDecodeParams()),this.imageStream}else return this.imageStream},a.prototype.getColorSpace=function(){return this.dictionaryProperties.deviceRgb},a.prototype.getDecodeParams=function(){var e=new tt;return e.items.setValue(this.dictionaryProperties.columns,new Le(this.width)),e.items.setValue(this.dictionaryProperties.blackIs1,new Mi(!0)),e.items.setValue(this.dictionaryProperties.k,new Le(-1)),e.items.setValue(this.dictionaryProperties.predictor,new Le(15)),e.items.setValue(this.dictionaryProperties.bitsPerComponent,new Le(this.bitsPerComponent)),e},a.prototype.readExceededJPGImage=function(e){this.mStream=e;for(var t=!0;t;){var i=this.getMarker(e);switch(i){case this.sof1Marker:case this.sof2Marker:case this.sof3Marker:case this.sof5Marker:case this.sof6Marker:case this.sof7Marker:case this.sof9Marker:case this.sof10Marker:case this.sof11Marker:case this.sof13Marker:case this.sof14Marker:case this.sof15Marker:e.position+=3,this.mHeight=this.mStream.readNextTwoBytes(e),this.mWidth=this.mStream.readNextTwoBytes(e),t=!1;break;default:this.skipStream(e);break}}},a.prototype.skip=function(e,t){this.mStream=e;var i=new ns(t);this.mStream.read(i,0,i.count)},a.prototype.getMarker=function(e){var t=32;for(t=e.readByte(this.mStream.position),e.position++;t!==255;)t=e.readByte(this.mStream.position),e.position++;do t=e.readByte(this.mStream.position),e.position++;while(t===255);return t},a.prototype.skipStream=function(e){var t=this.mStream.readNextTwoBytes(e)-2;t>0&&(e.position+=t)},a.mPngHeader=[137,80,78,71,13,10,26,10],a.mJpegHeader=[255,216],a.GIF_HEADER="G,I,F,8",a.BMP_HEADER="B,M",a}(),Ms=function(){function a(e){this.updateProportionsHelper(e)}return a.prototype.convertUnits=function(e,t,i){return this.convertFromPixels(this.convertToPixels(e,t),i)},a.prototype.convertToPixels=function(e,t){var i=t,s=e*this.proportions[i];return s},a.prototype.convertFromPixels=function(e,t){var i=t,s=e/this.proportions[i];return s},a.prototype.updateProportionsHelper=function(e){this.proportions=[e/2.54,e/6,1,e/72,e,e/300,e/25.4]},a.horizontalResolution=96,a.verticalResolution=96,a}(),Ll=function(){function a(){}return Object.defineProperty(a.prototype,"width",{get:function(){return this.imageWidth},set:function(e){this.imageWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this.imageHeight},set:function(e){this.imageHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{set:function(e){this.width=e.width,this.height=e.height},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"physicalDimension",{get:function(){return this.imagePhysicalDimension=this.getPointSize(this.width,this.height,this.horizontalResolution,this.verticalResolution),new Se(this.width,this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"element",{get:function(){return this.imageStream},enumerable:!0,configurable:!0}),a.prototype.getPointSize=function(e,t,i,s){if(typeof i>"u"){var o=Ms.horizontalResolution,c=Ms.verticalResolution,f=this.getPointSize(e,t,o,c);return f}else{var m=new Ms(i),b=new Ms(s),S=m.convertUnits(e,kr.Pixel,kr.Point),k=b.convertUnits(t,kr.Pixel,kr.Point),f=new Se(S,k);return f}},a}(),Vu=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Pl=function(a){Vu(e,a);function e(t){var i=a.call(this)||this;return i.imageStatus=!0,i.dictionaryProperties=new xt,i.loadImage(t),i}return e.prototype.loadImage=function(t){this.initializeAsync(t)},e.prototype.initializeAsync=function(t){var i=new ns(t.length);i.writeFromBase64String(t),this.decoder=new _u(i),this.height=this.decoder.height,this.width=this.decoder.width,this.bitsPerComponent=this.decoder.bitsPerComponent},e.prototype.save=function(){this.imageStatus=!0,this.imageStream=this.decoder.getImageDictionary()},e}(Ll),Qa=function(){function a(){}return Object.defineProperty(a.prototype,"empty",{get:function(){var e=this.offset===this.length&&this.length===this.checksum&&this.checksum===0;return e},enumerable:!0,configurable:!0}),a}(),Hu=function(){function a(){}return a}(),Wu=function(){function a(){}return a}(),ju=function(){function a(){}return a}(),eo=function(){function a(){}return Object.defineProperty(a.prototype,"isItalic",{get:function(){return(this.macStyle&2)!==0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isBold",{get:function(){return(this.macStyle&1)!==0},enumerable:!0,configurable:!0}),a}(),Xu=function(){function a(){}return a}(),Yu=function(){function a(){}return a}(),Gu=function(){function a(){}return a}(),Uu=function(){function a(){}return a}(),qu=function(){function a(){}return a}(),Zu=function(){function a(){}return a}(),Gr=function(){function a(){}return Object.defineProperty(a.prototype,"empty",{get:function(){var e=this.index===this.width&&this.width===this.charCode&&this.charCode===0;return e},enumerable:!0,configurable:!0}),a.prototype.compareTo=function(e){var t=e;return this.index-t.index},a}(),$u=function(){function a(){}return a}(),Ku=function(){function a(){}return a}(),Ju=function(){function a(){}return a}(),Qu=function(){function a(){}return a}(),ed=function(){function a(){}return a}(),to=function(){function a(e){this.int32Size=4,this.int16Size=2,this.int64Size=8,this.bufferLength=e,this.buffer=[]}return Object.defineProperty(a.prototype,"data",{get:function(){if(this.buffer.length<this.bufferLength)for(var e=this.bufferLength-this.buffer.length,t=0;t<e;t++)this.buffer.push(0);return this.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return(this.internalPosition===void 0||this.internalPosition===null)&&(this.internalPosition=0),this.internalPosition},enumerable:!0,configurable:!0}),a.prototype.writeShort=function(e){var t=[(e&65280)>>8,e&255];this.flush(t)},a.prototype.writeInt=function(e){var t=[(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255];this.flush(t)},a.prototype.writeUInt=function(e){var t=[(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255];this.flush(t)},a.prototype.writeString=function(e){if(e==null)throw new Error("Argument Null Exception : value");for(var t=[],i=0;i<e.length;i++)t.push(e.charCodeAt(i));this.flush(t)},a.prototype.writeBytes=function(e){this.flush(e)},a.prototype.flush=function(e){if(e===null)throw new Error("Argument Null Exception : buff");for(var t=this.position,i=0;i<e.length;i++)this.buffer[t]=e[i],t++;this.internalPosition+=e.length},a}(),td=function(){function a(e){this.int32Size=4,this.isTtcFont=!1,this.isMacTtf=!1,this.metricsName="",this.isMacTTF=!1,this.missedGlyphs=0,this.tableNames=["cvt ","fpgm","glyf","head","hhea","hmtx","loca","maxp","prep"],this.entrySelectors=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4],this.fontData=e,this.initialize()}return Object.defineProperty(a.prototype,"macintosh",{get:function(){return(this.macintoshDictionary===null||this.macintoshDictionary===void 0)&&(this.macintoshDictionary=new nt),this.macintoshDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"microsoft",{get:function(){return(this.microsoftDictionary===null||this.microsoftDictionary===void 0)&&(this.microsoftDictionary=new nt),this.microsoftDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"macintoshGlyphs",{get:function(){return(this.internalMacintoshGlyphs===null||this.internalMacintoshGlyphs===void 0)&&(this.internalMacintoshGlyphs=new nt),this.internalMacintoshGlyphs},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"microsoftGlyphs",{get:function(){return(this.internalMicrosoftGlyphs===null||this.internalMicrosoftGlyphs===void 0)&&(this.internalMicrosoftGlyphs=new nt),this.internalMicrosoftGlyphs},enumerable:!0,configurable:!0}),a.prototype.initialize=function(){this.metrics===void 0&&(this.metrics=new eo),this.readFontDictionary();var e=this.readNameTable(),t=this.readHeadTable();this.initializeFontName(e),this.metrics.macStyle=t.macStyle},a.prototype.readFontDictionary=function(){this.offset=0,this.checkPreambula();var e=this.readInt16(this.offset);this.readInt16(this.offset),this.readInt16(this.offset),this.readInt16(this.offset),this.tableDirectory===void 0&&(this.tableDirectory=new nt);for(var t=0;t<e;++t){var i=new Qa,s=this.readString(this.int32Size);i.checksum=this.readInt32(this.offset),i.offset=this.readInt32(this.offset),i.length=this.readInt32(this.offset),this.tableDirectory.setValue(s,i)}this.lowestPosition=this.offset,this.isTtcFont||this.fixOffsets()},a.prototype.fixOffsets=function(){for(var e=Number.MAX_VALUE,t=this.tableDirectory.keys(),i=0;i<t.length;i++){var s=this.tableDirectory.getValue(t[i]),o=s.offset;if(e>o&&(e=o,e<=this.lowestPosition))break}var c=e-this.lowestPosition;if(c!==0){for(var f=new nt,i=0;i<t.length;i++){var s=this.tableDirectory.getValue(t[i]);s.offset-=c,f.setValue(t[i],s)}this.tableDirectory=f}},a.prototype.checkPreambula=function(){var e=this.readInt32(this.offset);if(this.isMacTtf=e===1953658213,e!==65536&&e!==1953658213&&e!==1330926671){this.isTtcFont=!0,this.offset=0;var t=this.readString(4);if(t!=="ttcf")throw new Error("Can not read TTF font data");this.offset+=4;var i=this.readInt32(this.offset);if(i<0)throw new Error("Can not read TTF font data");this.offset=this.readInt32(this.offset),e=this.readInt32(this.offset)}return e},a.prototype.readNameTable=function(){var e=this.getTable("name");this.offset=e.offset;var t=new Hu;t.formatSelector=this.readUInt16(this.offset),t.recordsCount=this.readUInt16(this.offset),t.offset=this.readUInt16(this.offset),t.nameRecords=[];for(var i=12,s=this.offset,o=0;o<t.recordsCount;o++){this.offset=s;var c=new Wu;c.platformID=this.readUInt16(this.offset),c.encodingID=this.readUInt16(this.offset),c.languageID=this.readUInt16(this.offset),c.nameID=this.readUInt16(this.offset),c.length=this.readUInt16(this.offset),c.offset=this.readUInt16(this.offset),this.offset=e.offset+t.offset+c.offset;var f=c.platformID===0||c.platformID===3;c.name=this.readString(c.length,f),t.nameRecords[o]=c,s+=i}return t},a.prototype.readHeadTable=function(){var e=this.getTable("head");this.offset=e.offset;var t=new ju;return t.version=this.readFixed(this.offset),t.fontRevision=this.readFixed(this.offset),t.checkSumAdjustment=this.readUInt32(this.offset),t.magicNumber=this.readUInt32(this.offset),t.flags=this.readUInt16(this.offset),t.unitsPerEm=this.readUInt16(this.offset),t.created=this.readInt64(this.offset),t.modified=this.readInt64(this.offset),t.xMin=this.readInt16(this.offset),t.yMin=this.readInt16(this.offset),t.xMax=this.readInt16(this.offset),t.yMax=this.readInt16(this.offset),t.macStyle=this.readUInt16(this.offset),t.lowestReadableSize=this.readUInt16(this.offset),t.fontDirectionHint=this.readInt16(this.offset),t.indexToLocalFormat=this.readInt16(this.offset),t.glyphDataFormat=this.readInt16(this.offset),t},a.prototype.readHorizontalHeaderTable=function(){var e=this.getTable("hhea");this.offset=e.offset;var t=new Xu;return t.version=this.readFixed(this.offset),t.ascender=this.readInt16(this.offset),t.descender=this.readInt16(this.offset),t.lineGap=this.readInt16(this.offset),t.advanceWidthMax=this.readUInt16(this.offset),t.minLeftSideBearing=this.readInt16(this.offset),t.minRightSideBearing=this.readInt16(this.offset),t.xMaxExtent=this.readInt16(this.offset),t.caretSlopeRise=this.readInt16(this.offset),t.caretSlopeRun=this.readInt16(this.offset),this.offset+=10,t.metricDataFormat=this.readInt16(this.offset),t.numberOfHMetrics=this.readUInt16(this.offset),t},a.prototype.readOS2Table=function(){var e=this.getTable("OS/2");this.offset=e.offset;var t=new Yu;return t.version=this.readUInt16(this.offset),t.xAvgCharWidth=this.readInt16(this.offset),t.usWeightClass=this.readUInt16(this.offset),t.usWidthClass=this.readUInt16(this.offset),t.fsType=this.readInt16(this.offset),t.ySubscriptXSize=this.readInt16(this.offset),t.ySubscriptYSize=this.readInt16(this.offset),t.ySubscriptXOffset=this.readInt16(this.offset),t.ySubscriptYOffset=this.readInt16(this.offset),t.ySuperscriptXSize=this.readInt16(this.offset),t.ySuperscriptYSize=this.readInt16(this.offset),t.ySuperscriptXOffset=this.readInt16(this.offset),t.ySuperscriptYOffset=this.readInt16(this.offset),t.yStrikeoutSize=this.readInt16(this.offset),t.yStrikeoutPosition=this.readInt16(this.offset),t.sFamilyClass=this.readInt16(this.offset),t.panose=this.readBytes(10),t.ulUnicodeRange1=this.readUInt32(this.offset),t.ulUnicodeRange2=this.readUInt32(this.offset),t.ulUnicodeRange3=this.readUInt32(this.offset),t.ulUnicodeRange4=this.readUInt32(this.offset),t.vendorIdentifier=this.readBytes(4),t.fsSelection=this.readUInt16(this.offset),t.usFirstCharIndex=this.readUInt16(this.offset),t.usLastCharIndex=this.readUInt16(this.offset),t.sTypoAscender=this.readInt16(this.offset),t.sTypoDescender=this.readInt16(this.offset),t.sTypoLineGap=this.readInt16(this.offset),t.usWinAscent=this.readUInt16(this.offset),t.usWinDescent=this.readUInt16(this.offset),t.ulCodePageRange1=this.readUInt32(this.offset),t.ulCodePageRange2=this.readUInt32(this.offset),t.version>1?(t.sxHeight=this.readInt16(this.offset),t.sCapHeight=this.readInt16(this.offset),t.usDefaultChar=this.readUInt16(this.offset),t.usBreakChar=this.readUInt16(this.offset),t.usMaxContext=this.readUInt16(this.offset)):(t.sxHeight=0,t.sCapHeight=0,t.usDefaultChar=0,t.usBreakChar=0,t.usMaxContext=0),t},a.prototype.readPostTable=function(){var e=this.getTable("post");this.offset=e.offset;var t=new Gu;return t.formatType=this.readFixed(this.offset),t.italicAngle=this.readFixed(this.offset),t.underlinePosition=this.readInt16(this.offset),t.underlineThickness=this.readInt16(this.offset),t.isFixedPitch=this.readUInt32(this.offset),t.minType42=this.readUInt32(this.offset),t.maxType42=this.readUInt32(this.offset),t.minType1=this.readUInt32(this.offset),t.maxType1=this.readUInt32(this.offset),t},a.prototype.readWidthTable=function(e,t){var i=this.getTable("hmtx");this.offset=i.offset;for(var s=[],o=0;o<e;o++){var c=new Uu;c.advanceWidth=this.readUInt16(this.offset),c.lsb=this.readInt16(this.offset);var f=c.advanceWidth*1e3/t;s.push(Math.floor(f))}return s},a.prototype.readCmapTable=function(){var e=this.getTable("cmap");this.offset=e.offset;var t=new Zu;t.version=this.readUInt16(this.offset),t.tablesCount=this.readUInt16(this.offset);for(var i=this.offset,s=[],o=0;o<t.tablesCount;o++){this.offset=i;var c=new qu;c.platformID=this.readUInt16(this.offset),c.encodingID=this.readUInt16(this.offset),c.offset=this.readUInt32(this.offset),i=this.offset,this.readCmapSubTable(c),s[o]=c}return s},a.prototype.readCmapSubTable=function(e){var t=this.getTable("cmap");this.offset=t.offset+e.offset;var i=this.readUInt16(this.offset),s=this.getCmapEncoding(e.platformID,e.encodingID);if(s===Gt.Macintosh?Ji.Macintosh:Ji.Microsoft,s!==Gt.Unknown)switch(i){case ss.Apple:this.readAppleCmapTable(e,s);break;case ss.Microsoft:this.readMicrosoftCmapTable(e,s);break;case ss.Trimmed:this.readTrimmedCmapTable(e,s);break}},a.prototype.readAppleCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var s=new Ku;s.format=this.readUInt16(this.offset),s.length=this.readUInt16(this.offset),s.version=this.readUInt16(this.offset),(this.maxMacIndex===null||this.maxMacIndex===void 0)&&(this.maxMacIndex=0);for(var o=0;o<256;++o){var c=new Gr;c.index=this.readByte(this.offset),c.width=this.getWidth(c.index),c.charCode=o,this.macintosh.setValue(o,c),this.addGlyph(c,t),this.maxMacIndex=Math.max(o,this.maxMacIndex)}},a.prototype.readMicrosoftCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var s=t===Gt.Unicode?this.microsoft:this.macintosh,o=new Ju;o.format=this.readUInt16(this.offset),o.length=this.readUInt16(this.offset),o.version=this.readUInt16(this.offset),o.segCountX2=this.readUInt16(this.offset),o.searchRange=this.readUInt16(this.offset),o.entrySelector=this.readUInt16(this.offset),o.rangeShift=this.readUInt16(this.offset);var c=o.segCountX2/2;o.endCount=this.readUshortArray(c),o.reservedPad=this.readUInt16(this.offset),o.startCount=this.readUshortArray(c),o.idDelta=this.readUshortArray(c),o.idRangeOffset=this.readUshortArray(c);var f=o.length/2-8-c*4;o.glyphID=this.readUshortArray(f);for(var m=0,b=0,S=0;S<c;S++)for(var k=o.startCount[S];k<=o.endCount[S]&&k!==65535;k++){if(o.idRangeOffset[S]===0)m=k+o.idDelta[S]&65535;else{if(b=S+o.idRangeOffset[S]/2-c+k-o.startCount[S],b>=o.glyphID.length)continue;m=o.glyphID[b]+o.idDelta[S]&65535}var L=new Gr;L.index=m,L.width=this.getWidth(L.index);var I=t===Gt.Symbol&&(k&65280)===61440?k&255:k;L.charCode=I,s.setValue(I,L),this.addGlyph(L,t)}},a.prototype.readTrimmedCmapTable=function(e,t){var i=this.getTable("cmap");this.offset=i.offset+e.offset;var s=new Qu;s.format=this.readUInt16(this.offset),s.length=this.readUInt16(this.offset),s.version=this.readUInt16(this.offset),s.firstCode=this.readUInt16(this.offset),s.entryCount=this.readUInt16(this.offset);for(var o=0;o<s.entryCount;++o){var c=new Gr;c.index=this.readUInt16(this.offset),c.width=this.getWidth(c.index),c.charCode=o+s.firstCode,this.macintosh.setValue(o,c),this.addGlyph(c,t),this.maxMacIndex=Math.max(o,this.maxMacIndex)}},a.prototype.initializeFontName=function(e){for(var t=0;t<e.recordsCount;t++){var i=e.nameRecords[t];if(i.nameID===1?this.metrics.fontFamily=i.name:i.nameID===6&&(this.metrics.postScriptName=i.name),this.metrics.fontFamily!==null&&this.metrics.fontFamily!==void 0&&this.metrics.postScriptName!==null&&this.metrics.postScriptName!==void 0)break}},a.prototype.getTable=function(e){var t=new Qa,i;return this.tableDirectory.containsKey(e)&&(i=this.tableDirectory.getValue(e)),i!=null&&(t=i),t},a.prototype.getWidth=function(e){return e=e<this.width.length?e:this.width.length-1,this.width[e]},a.prototype.getCmapEncoding=function(e,t){var i=Gt.Unknown;return e==Ji.Microsoft&&t==Gs.Undefined?i=Gt.Symbol:e==Ji.Microsoft&&t==Gs.Unicode?i=Gt.Unicode:e==Ji.Macintosh&&t==Bn.Roman&&(i=Gt.Macintosh),i},a.prototype.addGlyph=function(e,t){var i=null;switch(t){case Gt.Unicode:i=this.microsoftGlyphs;break;case Gt.Macintosh:case Gt.Symbol:i=this.macintoshGlyphs;break}i.setValue(e.index,e)},a.prototype.initializeMetrics=function(e,t,i,s,o,c){this.initializeFontName(e);for(var f=!1,m=0;m<c.length;m++){var b=c[m],S=this.getCmapEncoding(b.platformID,b.encodingID);if(S===Gt.Symbol){f=!0;break}}this.metrics.isSymbol=f,this.metrics.macStyle=t.macStyle,this.metrics.isFixedPitch=o.isFixedPitch!==0,this.metrics.italicAngle=o.italicAngle;var k=1e3/t.unitsPerEm;this.metrics.winAscent=s.sTypoAscender*k,this.metrics.macAscent=i.ascender*k,this.metrics.capHeight=s.sCapHeight!==0?s.sCapHeight:.7*t.unitsPerEm*k,this.metrics.winDescent=s.sTypoDescender*k,this.metrics.macDescent=i.descender*k,this.metrics.leading=(s.sTypoAscender-s.sTypoDescender+s.sTypoLineGap)*k,this.metrics.lineGap=Math.ceil(i.lineGap*k);var L=t.xMin*k,I=Math.ceil(this.metrics.macAscent+this.metrics.lineGap),_=t.xMax*k,N=this.metrics.macDescent;this.metrics.fontBox=new Rn(L,I,_,N),this.metrics.stemV=80,this.metrics.widthTable=this.updateWidth(),this.metrics.contains=this.tableDirectory.containsKey("CFF"),this.metrics.subScriptSizeFactor=t.unitsPerEm/s.ySubscriptYSize,this.metrics.superscriptSizeFactor=t.unitsPerEm/s.ySuperscriptYSize},a.prototype.updateWidth=function(){var e=256,t=[];if(this.metrics.isSymbol)for(var i=0;i<e;i++){var s=this.getGlyph(String.fromCharCode(i));t[i]=s.empty?0:s.width}else for(var o=[],c="?",f=String.fromCharCode(32),i=0;i<e;i++){o[0]=i;var m=this.getString(o,0,o.length),b=m.length>0?m[0]:c,s=this.getGlyph(b);s.empty?(s=this.getGlyph(f),t[i]=s.empty?0:s.width):t[i]=s.width}return t},a.prototype.getDefaultGlyph=function(){var e=this.getGlyph(Zt.whiteSpace);return e},a.prototype.getString=function(e,t,i){for(var s="",o=0;o<i;o++)s+=String.fromCharCode(e[o+t]);return s},a.prototype.readLocaTable=function(e){var t=this.getTable("loca");this.offset=t.offset;var i=new $u,s=null;if(e){var o=t.length/2;s=[];for(var c=0;c<o;c++)s[c]=this.readUInt16(this.offset)*2}else{var o=t.length/4;s=[];for(var c=0;c<o;c++)s[c]=this.readUInt32(this.offset)}return i.offsets=s,i},a.prototype.updateGlyphChars=function(e,t){e.containsKey(0)||e.setValue(0,0);for(var i=new nt,s=e.keys(),o=0;o<s.length;o++)i.setValue(s[o],e.getValue(s[o]));for(var o=0;o<s.length;o++){var c=s[o];this.processCompositeGlyph(e,c,t)}},a.prototype.processCompositeGlyph=function(e,t,i){if(t<i.offsets.length-1){var s=i.offsets[t];if(s!==i.offsets[t+1]){var o=this.getTable("glyf");this.offset=o.offset+s;var c=new ed;if(c.numberOfContours=this.readInt16(this.offset),c.xMin=this.readInt16(this.offset),c.yMin=this.readInt16(this.offset),c.xMax=this.readInt16(this.offset),c.yMax=this.readInt16(this.offset),c.numberOfContours<0)for(var f=0,m=!0;m;){var b=this.readUInt16(this.offset),S=this.readUInt16(this.offset);if(e.containsKey(S)||e.setValue(S,0),!(b&er.MoreComponents))break;f=b&er.Arg1And2AreWords?4:2,b&er.WeHaveScale?f+=2:b&er.WeHaveAnXyScale?f+=4:b&er.WeHaveTwoByTwo&&(f+=2*4),this.offset+=f}}}},a.prototype.generateGlyphTable=function(e,t,i,s){i=[];var o=e.keys();o.sort(function(U,Z){return U-Z});for(var c=0,f=0;f<o.length;f++){var m=o[f];t.offsets.length>0&&(c+=t.offsets[m+1]-t.offsets[m])}var b=this.align(c);s=[];for(var f=0;f<b;f++)s.push(0);for(var S=0,k=0,L=this.getTable("glyf"),f=0;f<t.offsets.length;f++)if(i.push(S),k<o.length&&o[k]===f){++k,i[f]=S;var I=t.offsets[f],_=t.offsets[f+1]-I;if(_>0){this.offset=L.offset+I;var N=this.read(s,S,_);s=N.buffer,S+=_}}return{glyphTableSize:c,newLocaTable:i,newGlyphTable:s}},a.prototype.updateLocaTable=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : newLocaTable");for(var s=t?e.length*2:e.length*4,o=this.align(s),c=new to(o),f=0;f<e.length;f++){var m=e[f];t?(m/=2,c.writeShort(m)):c.writeInt(m)}return{newLocaUpdated:c.data,newLocaSize:s}},a.prototype.align=function(e){return e+3&-4},a.prototype.getFontProgram=function(e,t,i,s){if(e===null)throw new Error("Argument Null Exception : newLocaTableOut");if(t===null)throw new Error("Argument Null Exception : newGlyphTable");this.tableNames;var o=this.getFontProgramLength(e,t,0),c=o.fontProgramLength,f=o.numTables,m=new to(c);m.writeInt(65536),m.writeShort(f);var b=this.entrySelectors[f];return m.writeShort((1<<(b&31))*16),m.writeShort(b),m.writeShort((f-(1<<(b&31)))*16),this.writeCheckSums(m,f,e,t,i,s),this.writeGlyphs(m,e,t),m.data},a.prototype.getFontProgramLength=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : newLocaTableOut");if(t===null)throw new Error("Argument Null Exception : newGlyphTable");i=2;for(var s=this.tableNames,o=0,c=0;c<s.length;c++){var f=s[c];if(f!=="glyf"&&f!=="loca"){var m=this.getTable(f);m.empty||(++i,o+=this.align(m.length))}}o+=e.length,o+=t.length;var b=i*16+3*4;return o+=b,{fontProgramLength:o,numTables:i}},a.prototype.writeCheckSums=function(e,t,i,s,o,c){if(e===null)throw new Error("Argument Null Exception : writer");if(i===null)throw new Error("Argument Null Exception : newLocaTableOut");if(s===null)throw new Error("Argument Null Exception : newGlyphTable");for(var f=this.tableNames,m=t*16+3*4,b=0,S=0;S<f.length;S++){var k=f[S],L=this.getTable(k);if(!L.empty){if(e.writeString(k),k==="glyf"){var I=this.calculateCheckSum(s);e.writeInt(I),b=o}else if(k==="loca"){var I=this.calculateCheckSum(i);e.writeInt(I),b=c}else e.writeInt(L.checksum),b=L.length;e.writeUInt(m),e.writeUInt(b),m+=this.align(b)}}},a.prototype.calculateCheckSum=function(e){if(e===null)throw new Error("Argument Null Exception : bytes");for(var t=0,i=0,s=0,o=0,c=0,f=0;f<(e.length+1)/4;f++)c+=e[t++]&255,o+=e[t++]&255,s+=e[t++]&255,i+=e[t++]&255;var m=i;return m+=s<<8,m+=o<<16,m+=c<<24,m},a.prototype.writeGlyphs=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : writer");if(t===null)throw new Error("Argument Null Exception : newLocaTableOut");if(i===null)throw new Error("Argument Null Exception : newGlyphTable");for(var s=this.tableNames,o=0;o<s.length;o++){var c=s[o],f=this.getTable(c);if(!f.empty)if(c==="glyf")e.writeBytes(i);else if(c==="loca")e.writeBytes(t);else{for(var m=this.align(f.length),b=[],S=0;S<m;S++)b.push(0);this.offset=f.offset;var k=this.read(b,0,f.length);e.writeBytes(k.buffer)}}},a.prototype.setOffset=function(e){this.offset=e},a.prototype.createInternals=function(){this.metrics=new eo;var e=this.readNameTable(),t=this.readHeadTable();this.bIsLocaShort=t.indexToLocalFormat===0;var i=this.readHorizontalHeaderTable(),s=this.readOS2Table(),o=this.readPostTable();this.width=this.readWidthTable(i.numberOfHMetrics,t.unitsPerEm);var c=this.readCmapTable();this.initializeMetrics(e,t,i,s,o,c)},a.prototype.getGlyph=function(e){if(typeof e=="number"){var t=null;!this.metrics.isSymbol&&this.microsoftGlyphs!=null?this.microsoftGlyphs.containsKey(e)&&(t=this.microsoftGlyphs.getValue(e)):this.metrics.isSymbol&&this.macintoshGlyphs!=null&&this.macintoshGlyphs.containsKey(e)&&(t=this.macintoshGlyphs.getValue(e));var i=t??this.getDefaultGlyph();return i}else{var s=null,o=e.charCodeAt(0);!this.metrics.isSymbol&&this.microsoft!==null?this.microsoft.containsKey(o)?(s=this.microsoft.getValue(o),o!==Zt.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!0)):o!==Zt.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!1):(this.metrics.isSymbol&&this.macintosh!==null||this.isMacTTF)&&(this.maxMacIndex!==0?o%=this.maxMacIndex+1:o=(o&65280)===61440?o&255:o,this.macintosh.containsKey(o)&&(s=this.macintosh.getValue(o),this.isFontPresent=!0)),e===Zt.whiteSpace&&s===null&&(s=new Gr);var i=s!==null?s:this.getDefaultGlyph();return i}},a.prototype.getGlyphChars=function(e){if(e==null)throw new Error("Argument Null Exception : chars");for(var t=new nt,i=e.keys(),s=0;s<i.length;s++){var o=i[s],c=this.getGlyph(o);c.empty||t.setValue(c.index,o.charCodeAt(0))}return t},a.prototype.getAllGlyphs=function(){for(var e=[],t=new Gr,i=0,s=0;s<this.width.length;s++){var o=this.width[s];t.index=i,t.width=o,e.push(t),i++}return e},a.prototype.readFontProgram=function(e){var t=this.getGlyphChars(e),i=this.readLocaTable(this.bIsLocaShort);t.size()<e.size()&&(this.missedGlyphs=e.size()-t.size()),this.updateGlyphChars(t,i);var s=this.generateGlyphTable(t,i,null,null),o=s.glyphTableSize,c=s.newLocaTable,f=s.newGlyphTable,m=this.updateLocaTable(c,this.bIsLocaShort,null),b=m.newLocaSize,S=m.newLocaUpdated,k=this.getFontProgram(S,f,o,b);return k},a.prototype.convertString=function(e){if(e===null)throw new Error("Argument Null Exception : text");for(var t="",i=0;i<e.length;i++){var s=e[i],o=this.getGlyph(s);o.empty||(t+=String.fromCharCode(o.index))}return t},a.prototype.getCharWidth=function(e){var t=this.getGlyph(e);t=t.empty?this.getDefaultGlyph():t;var i=t.empty?0:t.width;return i},a.prototype.readString=function(e,t){if(t===void 0)return this.readString(e,!1);var i="";if(t)for(var s=0;s<e;s++)s%2!==0&&(i+=String.fromCharCode(this.fontData[this.offset])),this.offset+=1;else for(var s=0;s<e;s++)i+=String.fromCharCode(this.fontData[this.offset]),this.offset+=1;return i},a.prototype.readFixed=function(e){var t=this.readInt16(e),i=this.readInt16(e+2),s=i/16384;return t+s},a.prototype.readInt32=function(e){var t=this.fontData[e+3],i=this.fontData[e+2],s=this.fontData[e+1],o=this.fontData[e];return this.offset+=4,t+(i<<8)+(s<<16)+(o<<24)},a.prototype.readUInt32=function(e){var t=this.fontData[e+3],i=this.fontData[e+2],s=this.fontData[e+1],o=this.fontData[e];return this.offset+=4,t|i<<8|s<<16|o<<24},a.prototype.readInt16=function(e){var t=(this.fontData[e]<<8)+this.fontData[e+1];return t=t&32768?t-65536:t,this.offset+=2,t},a.prototype.readInt64=function(e){var t=this.readInt32(e+4),i=this.readInt32(e)*4294967296+t;return t<0&&(i+=4294967296),i},a.prototype.readUInt16=function(e){var t=this.fontData[e]<<8|this.fontData[e+1];return this.offset+=2,t},a.prototype.readUshortArray=function(e){for(var t=[],i=0;i<e;i++)t[i]=this.readUInt16(this.offset);return t},a.prototype.readBytes=function(e){for(var t=[],i=0;i<e;i++)t.push(this.fontData[this.offset]),this.offset+=1;return t},a.prototype.readByte=function(e){var t=this.fontData[e];return this.offset+=1,t},a.prototype.read=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : buffer");var s=0,o=0;do{for(var c=0;c<i-s&&this.offset+c<this.fontData.length;c++)e[t+c]=this.fontData[this.offset+c];o=i-s,this.offset+=o,s+=o}while(s<i);return{buffer:e,written:s}},a}(),id=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sr=function(){function a(){this.lineGap=0}return a.prototype.getAscent=function(e){var t=this.ascent*Vi.charSizeMultiplier*this.getSize(e);return t},a.prototype.getDescent=function(e){var t=this.descent*Vi.charSizeMultiplier*this.getSize(e);return t},a.prototype.getLineGap=function(e){var t=this.lineGap*Vi.charSizeMultiplier*this.getSize(e);return t},a.prototype.getHeight=function(e){var t;return this.getDescent(e)<0?t=this.getAscent(e)-this.getDescent(e)+this.getLineGap(e):t=this.getAscent(e)+this.getDescent(e)+this.getLineGap(e),t},a.prototype.getSize=function(e){var t=this.size;if(e!=null)switch(e.subSuperScript){case _i.SubScript:t/=this.subScriptSizeFactor;break;case _i.SuperScript:t/=this.superscriptSizeFactor;break}return t},a.prototype.clone=function(){var e=this;return e.widthTable=El.clone(),e},Object.defineProperty(a.prototype,"widthTable",{get:function(){return this.internalWidthTable},set:function(e){this.internalWidthTable=e},enumerable:!0,configurable:!0}),a}(),El=function(){function a(){}return a.clone=function(){return null},a}(),Wt=function(a){id(e,a);function e(t){var i=a.call(this)||this;if(t==null)throw new Error("ArgumentNullException:widths");return i.widths=t,i}return e.prototype.items=function(t){if(t<0||t>=this.widths.length)throw new Error("ArgumentOutOfRangeException:index, The character is not supported by the font.");var i=this.widths[t];return i},Object.defineProperty(e.prototype,"length",{get:function(){return this.widths.length},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=this;return t.widths=this.widths,t},e.prototype.toArray=function(){var t=new ft(this.widths);return t},e}(El),rd=function(){function a(e,t){if(this.nameString="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.dictionaryProperties=new xt,this.isCompress=!1,this.isEmbedFont=!1,this.cmapPrefix=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap`+oe.newLine+`/CIDSystemInfo << /Registry (Adobe)/Ordering (UCS)/Supplement 0>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange`+oe.newLine,this.cmapEndCodespaceRange="endcodespacerange"+oe.newLine,this.cmapBeginRange="beginbfrange"+oe.newLine,this.cmapEndRange="endbfrange"+oe.newLine,this.cmapSuffix=`endbfrange
endcmap
CMapName currentdict /CMap defineresource pop
end end`+oe.newLine,e==null)throw new Error("ArgumentNullException:base64String");this.fontSize=t,this.fontString=e,this.Initialize()}return a.prototype.getCharWidth=function(e){var t=this.ttfReader.getCharWidth(e);return t},a.prototype.getLineWidth=function(e){for(var t=0,i=0,s=e.length;i<s;i++){var o=e[i],c=this.getCharWidth(o);t+=c}return t},a.prototype.Initialize=function(){var e=new ns(this.fontString.length);e.writeFromBase64String(this.fontString),this.fontData=e.internalBuffer,this.ttfReader=new td(this.fontData),this.ttfMetrics=this.ttfReader.metrics},a.prototype.createInternals=function(){this.fontDictionary=new tt,this.fontProgram=new Kt,this.cmap=new Kt,this.descendantFont=new tt,this.metrics=new Sr,this.ttfReader.createInternals(),this.ttfMetrics=this.ttfReader.metrics,this.initializeMetrics(),this.subsetName=this.getFontName(),this.createDescendantFont(),this.createCmap(),this.createFontDictionary(),this.createFontProgram()},a.prototype.getInternals=function(){return this.fontDictionary},a.prototype.initializeMetrics=function(){var e=this.ttfReader.metrics;this.metrics.ascent=e.macAscent,this.metrics.descent=e.macDescent,this.metrics.height=e.macAscent-e.macDescent+e.lineGap,this.metrics.name=e.fontFamily,this.metrics.postScriptName=e.postScriptName,this.metrics.size=this.fontSize,this.metrics.widthTable=new Wt(e.widthTable),this.metrics.lineGap=e.lineGap,this.metrics.subScriptSizeFactor=e.subScriptSizeFactor,this.metrics.superscriptSizeFactor=e.superscriptSizeFactor,this.metrics.isBold=e.isBold},a.prototype.getFontName=function(){for(var e="",t,i=0;i<6;i++){var s=Math.floor(Math.random()*26)+0;e+=this.nameString[s]}return e+="+",e+=this.ttfReader.metrics.postScriptName,t=e.toString(),t=this.formatName(t),t},a.prototype.formatName=function(e){var t=e.replace("(","#28");return t=t.replace(")","#29"),t=t.replace("[","#5B"),t=t.replace("]","#5D"),t=t.replace("<","#3C"),t=t.replace(">","#3E"),t=t.replace("{","#7B"),t=t.replace("}","#7D"),t=t.replace("/","#2F"),t=t.replace("%","#25"),t.replace(" ","#20")},a.prototype.createDescendantFont=function(){this.descendantFont.isResource=!0,this.descendantFont.descendantFontBeginSave=new lu(this),this.descendantFont.items.setValue(this.dictionaryProperties.type,new Me(this.dictionaryProperties.font)),this.descendantFont.items.setValue(this.dictionaryProperties.subtype,new Me(this.dictionaryProperties.cIDFontType2)),this.descendantFont.items.setValue(this.dictionaryProperties.baseFont,new Me(this.subsetName)),this.descendantFont.items.setValue(this.dictionaryProperties.cIDToGIDMap,new Me(this.dictionaryProperties.identity)),this.descendantFont.items.setValue(this.dictionaryProperties.dw,new Le(1e3)),this.fontDescriptor=this.createFontDescriptor(),this.descendantFont.items.setValue(this.dictionaryProperties.fontDescriptor,new it(this.fontDescriptor));var e=this.createSystemInfo();this.descendantFont.items.setValue(this.dictionaryProperties.cIDSystemInfo,e)},a.prototype.createFontDescriptor=function(){var e=new tt,t=this.ttfReader.metrics;return e.isResource=!0,e.items.setValue(this.dictionaryProperties.type,new Me(this.dictionaryProperties.fontDescriptor)),e.items.setValue(this.dictionaryProperties.fontName,new Me(this.subsetName)),e.items.setValue(this.dictionaryProperties.flags,new Le(this.getDescriptorFlags())),e.items.setValue(this.dictionaryProperties.fontBBox,ft.fromRectangle(this.getBoundBox())),e.items.setValue(this.dictionaryProperties.missingWidth,new Le(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.stemV,new Le(t.stemV)),e.items.setValue(this.dictionaryProperties.italicAngle,new Le(t.italicAngle)),e.items.setValue(this.dictionaryProperties.capHeight,new Le(t.capHeight)),e.items.setValue(this.dictionaryProperties.ascent,new Le(t.winAscent)),e.items.setValue(this.dictionaryProperties.descent,new Le(t.winDescent)),e.items.setValue(this.dictionaryProperties.leading,new Le(t.leading)),e.items.setValue(this.dictionaryProperties.avgWidth,new Le(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.fontFile2,new it(this.fontProgram)),e.items.setValue(this.dictionaryProperties.maxWidth,new Le(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.xHeight,new Le(0)),e.items.setValue(this.dictionaryProperties.stemH,new Le(0)),e},a.prototype.createCmap=function(){this.cmap.cmapBeginSave=new xu(this)},a.prototype.createFontDictionary=function(){this.fontDictionary.isResource=!0,this.fontDictionary.fontDictionaryBeginSave=new hu(this),this.fontDictionary.items.setValue(this.dictionaryProperties.type,new Me(this.dictionaryProperties.font)),this.fontDictionary.items.setValue(this.dictionaryProperties.baseFont,new Me(this.subsetName)),this.fontDictionary.items.setValue(this.dictionaryProperties.subtype,new Me(this.dictionaryProperties.type0)),this.fontDictionary.items.setValue(this.dictionaryProperties.encoding,new Me(this.dictionaryProperties.identityH));var e=new ft,t=new it(this.descendantFont);e.isFont=!0,e.add(t),this.fontDictionary.items.setValue(this.dictionaryProperties.descendantFonts,e)},a.prototype.createFontProgram=function(){this.fontProgram.fontProgramBeginSave=new wu(this)},a.prototype.createSystemInfo=function(){var e=new tt;return e.items.setValue(this.dictionaryProperties.registry,new Xt("Adobe")),e.items.setValue(this.dictionaryProperties.ordering,new Xt(this.dictionaryProperties.identity)),e.items.setValue(this.dictionaryProperties.supplement,new Le(0)),e},a.prototype.descendantFontBeginSave=function(){if(this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0){var e=this.getDescendantWidth();e!==null&&this.descendantFont.items.setValue(this.dictionaryProperties.w,e)}},a.prototype.cmapBeginSave=function(){this.generateCmap()},a.prototype.fontDictionaryBeginSave=function(){this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0&&!this.fontDictionary.containsKey(this.dictionaryProperties.toUnicode)&&this.fontDictionary.items.setValue(this.dictionaryProperties.toUnicode,new it(this.cmap))},a.prototype.fontProgramBeginSave=function(){this.isCompress=!0,this.generateFontProgram()},a.prototype.getDescendantWidth=function(){var e=new ft;if(this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0){for(var t=[],i=this.usedChars.keys(),s=0;s<i.length;s++){var o=i[s],c=this.ttfReader.getGlyph(o);c.empty||t.push(c)}t.sort(function(k,L){return k.index-L.index});for(var f=0,m=0,b=!1,S=new ft,s=0;s<t.length;s++){var c=t[s];b||(b=!0,f=c.index,m=c.index-1),(m+1!==c.index||s+1===t.length)&&t.length>1&&(e.add(new Le(f)),s!==0&&e.add(S),f=c.index,S=new ft),S.add(new Le(c.width)),s+1===t.length&&(e.add(new Le(f)),e.add(S)),m=c.index}}return e},a.prototype.generateCmap=function(){if(this.usedChars!==null&&this.usedChars!==void 0&&this.usedChars.size()>0){var e=this.ttfReader.getGlyphChars(this.usedChars);if(e.size()>0){var t=e.keys().sort(),i=t[0],s=t[t.length-1],o=this.toHexString(i,!1)+this.toHexString(s,!1)+oe.newLine,c="";c+=this.cmapPrefix,c+=o,c+=this.cmapEndCodespaceRange;for(var f=0,m=0;m<t.length;m++){f===0&&(m!==0&&(c+=this.cmapEndRange),f=Math.min(100,t.length-m),c+=f,c+=oe.whiteSpace,c+=this.cmapBeginRange),f-=1;var b=t[m];c+=this.toHexString(b,!0)+this.toHexString(b,!0)+this.toHexString(e.getValue(b),!0)+`
`}c+=this.cmapSuffix,this.cmap.clearStream(),this.cmap.isResource=!0,this.cmap.write(c)}}},a.prototype.generateFontProgram=function(){var e=null;this.usedChars=this.usedChars===null||this.usedChars===void 0?new nt:this.usedChars,this.ttfReader.setOffset(0),e=this.ttfReader.readFontProgram(this.usedChars),this.fontProgram.clearStream(),this.fontProgram.isResource=!0,this.fontProgram.writeBytes(e)},a.prototype.getDescriptorFlags=function(){var e=0,t=this.ttfReader.metrics;return t.isFixedPitch&&(e|=Qi.FixedPitch),t.isSymbol?e|=Qi.Symbolic:e|=Qi.Nonsymbolic,t.isItalic&&(e|=Qi.Italic),t.isBold&&(e|=Qi.ForceBold),e},a.prototype.getBoundBox=function(){var e=this.ttfReader.metrics.fontBox,t=Math.abs(e.right-e.left),i=Math.abs(e.top-e.bottom),s=new et(e.left,e.bottom,t,i);return s},a.prototype.toHexString=function(e,t){var i=e.toString(16);return t&&(i=i.toUpperCase()),"<0000".substring(0,5-i.length)+i+">"},a.prototype.setSymbols=function(e){if(e===null)throw new Error("Argument Null Exception : text");(this.usedChars===null||this.usedChars===void 0)&&(this.usedChars=new nt);for(var t=0;t<e.length;t++){var i=e[t];this.usedChars.setValue(i,String.fromCharCode(0))}this.isEmbedFont===!1&&this.getDescendantWidth()},a}(),io=function(){function a(){this.arabicCharTable=[["",""],["","",""],["","",""],["","",""],["","",""],["","","","",""],["","",""],["","","","",""],["","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","",""],["","",""],["","",""],["","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","",""],["","","","",""],["","","","",""],["","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","",""],["","","","",""],["","","","",""],["","",""],["","","","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","","","",""],["","","","",""],["","",""],["","",""]],this.alef="",this.alefHamza="",this.alefHamzaBelow="",this.alefMadda="",this.lam="",this.hamza="",this.zeroWidthJoiner="",this.hamzaAbove="",this.hamzaBelow="",this.wawHamza="",this.yehHamza="",this.waw="",this.alefMaksura="",this.yeh="",this.farsiYeh="",this.shadda="",this.madda="",this.lwa="",this.lwawh="",this.lwawhb="",this.lwawm="",this.bwhb="",this.fathatan="",this.superScriptalef="",this.vowel=1,this.arabicMapTable=new nt;for(var e=0;e<this.arabicCharTable.length;e++)this.arabicMapTable.setValue(this.arabicCharTable[e][0],this.arabicCharTable[e])}return a.prototype.getCharacterShape=function(e,t){if(e>=this.hamza&&e<=this.bwhb){var i=[];if(this.arabicMapTable.getValue(e))return i=this.arabicMapTable.getValue(e),i[t+1]}else if(e>=this.lwawm&&e<=this.lwa)return e;return e},a.prototype.shape=function(e,t){for(var i="",s="",o=0;o<e.length;o++){var c=e[o];if(c>=""&&c<="")s=s+c;else{if(s.length>0){var f=this.doShape(s.toString(),0);i=i+f,s=""}i=i+c}}if(s.length>0){var f=this.doShape(s.toString(),0);i=i+f}return i.toString()},a.prototype.doShape=function(e,t){for(var i="",s=0,o=0,c=0,f="",m=new bn,b=new bn;c<e.length;)if(f=e[c++],s=this.ligature(f,b),s===0){var S=this.getShapeCount(f);o=S===1?0:2,m.Shapes>2&&(o+=1),o=o%b.Shapes,b.Value=this.getCharacterShape(b.Value,o),i=this.append(i,m,t),m=b,b=new bn,b.Value=f,b.Shapes=S,b.Ligature++}return o=m.Shapes>2?1:0,o=o%b.Shapes,b.Value=this.getCharacterShape(b.Value,o),i=this.append(i,m,t),i=this.append(i,b,t),i.toString()},a.prototype.append=function(e,t,i){return t.Value!==""&&(e=e+t.Value,t.Ligature-=1,t.Type!==""&&(i&this.vowel||(e=e+t.Type),t.Ligature-=1),t.vowel!==""&&(i&this.vowel||(e=e+t.vowel),t.Ligature-=1)),e},a.prototype.ligature=function(e,t){if(t.Value!==""){var i=0;if(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef){if(i=1,t.vowel!==""&&e!==this.shadda&&(i=2),e===this.shadda)if(t.Type==null)t.Type=this.shadda;else return 0;else e===this.hamzaBelow?t.Value===this.alef?(t.Value=this.alefHamzaBelow,i=2):e===this.lwa?(t.Value=this.lwawhb,i=2):t.Type=this.hamzaBelow:e===this.hamzaAbove?t.Value===this.alef?(t.Value=this.alefHamza,i=2):t.Value===this.lwa?(t.Value=this.lwawh,i=2):t.Value===this.waw?(t.Value=this.wawHamza,i=2):t.Value===this.yeh||t.Value===this.alefMaksura||t.Value===this.farsiYeh?(t.Value=this.yehHamza,i=2):t.Type=this.hamzaAbove:e===this.madda?t.Value===this.alef&&(t.Value=this.alefMadda,i=2):t.vowel=e;return i===1&&t.Ligature++,i}return t.vowel!==""?0:(t.Value===this.lam&&(e===this.alef?(t.Value=this.lwa,t.Shapes=2,i=3):e===this.alefHamza?(t.Value=this.lwawh,t.Shapes=2,i=3):e===this.alefHamzaBelow?(t.Value=this.lwawhb,t.Shapes=2,i=3):e===this.alefMadda&&(t.Value=this.lwawm,t.Shapes=2,i=3)),i)}else return 0},a.prototype.getShapeCount=function(e){if(e>=this.hamza&&e<=this.bwhb&&!(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef)){var t=[];if(this.arabicMapTable.getValue(e))return t=this.arabicMapTable.getValue(e),t.length-1}else if(e===this.zeroWidthJoiner)return 4;return 1},a}(),bn=function(){function a(){this.shapeValue="",this.shapeType="",this.shapeVowel="",this.shapeLigature=0,this.shapeShapes=1}return Object.defineProperty(a.prototype,"Value",{get:function(){return this.shapeValue},set:function(e){this.shapeValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"Type",{get:function(){return this.shapeType},set:function(e){this.shapeType=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"vowel",{get:function(){return this.shapeVowel},set:function(e){this.shapeVowel=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"Ligature",{get:function(){return this.shapeLigature},set:function(e){this.shapeLigature=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"Shapes",{get:function(){return this.shapeShapes},set:function(e){this.shapeShapes=e},enumerable:!0,configurable:!0}),a}(),sd=function(){function a(){this.indexes=[],this.indexLevels=[],this.mirroringShapeCharacters=new nt,this.update()}return a.prototype.doMirrorShaping=function(e){for(var t=[],i=0;i<e.length;i++)(this.indexLevels[i]&1)===1&&this.mirroringShapeCharacters.containsKey(e[i].charCodeAt(0))?t[i]=String.fromCharCode(this.mirroringShapeCharacters.getValue(e[i].charCodeAt(0))):t[i]=e[i].toString();for(var s="",o=0;o<t.length;o++)s=s+t[o];return s},a.prototype.getLogicalToVisualString=function(e,t){var i=new nd;this.indexLevels=i.getVisualOrder(e,t),this.setDefaultIndexLevel(),this.doOrder(0,this.indexLevels.length-1);for(var s=this.doMirrorShaping(e),o="",c=0;c<this.indexes.length;c++){var f=this.indexes[c];o+=s[f]}return o.toString()},a.prototype.setDefaultIndexLevel=function(){for(var e=0;e<this.indexLevels.length;e++)this.indexes[e]=e},a.prototype.doOrder=function(e,t){for(var i=this.indexLevels[e],s=i,o=i,c=i,f=e+1;f<=t;++f){var m=this.indexLevels[f];m>i?i=m:m<s&&(s=m),o&=m,c|=m}if(c&1){if((o&1)===1){this.reArrange(e,t+1);return}for(s|=1;i>=s;){for(var b=e;;){for(;b<=t&&!(this.indexLevels[b]>=i);)b+=1;if(b>t)break;for(var S=b+1;S<=t&&!(this.indexLevels[S]<i);)S+=1;this.reArrange(b,S),b=S+1}i-=1}}},a.prototype.reArrange=function(e,t){var i=(e+t)/2;for(--t;e<i;++e,--t){var s=this.indexes[e];this.indexes[e]=this.indexes[t],this.indexes[t]=s}},a.prototype.update=function(){this.mirroringShapeCharacters.setValue(40,41),this.mirroringShapeCharacters.setValue(41,40),this.mirroringShapeCharacters.setValue(60,62),this.mirroringShapeCharacters.setValue(62,60),this.mirroringShapeCharacters.setValue(91,93),this.mirroringShapeCharacters.setValue(93,91),this.mirroringShapeCharacters.setValue(123,125),this.mirroringShapeCharacters.setValue(125,123),this.mirroringShapeCharacters.setValue(171,187),this.mirroringShapeCharacters.setValue(187,171),this.mirroringShapeCharacters.setValue(8249,8250),this.mirroringShapeCharacters.setValue(8250,8249),this.mirroringShapeCharacters.setValue(8261,8262),this.mirroringShapeCharacters.setValue(8262,8261),this.mirroringShapeCharacters.setValue(8317,8318),this.mirroringShapeCharacters.setValue(8318,8317),this.mirroringShapeCharacters.setValue(8333,8334),this.mirroringShapeCharacters.setValue(8334,8333),this.mirroringShapeCharacters.setValue(8712,8715),this.mirroringShapeCharacters.setValue(8713,8716),this.mirroringShapeCharacters.setValue(8714,8717),this.mirroringShapeCharacters.setValue(8715,8712),this.mirroringShapeCharacters.setValue(8716,8713),this.mirroringShapeCharacters.setValue(8717,8714),this.mirroringShapeCharacters.setValue(8725,10741),this.mirroringShapeCharacters.setValue(8764,8765),this.mirroringShapeCharacters.setValue(8765,8764),this.mirroringShapeCharacters.setValue(8771,8909),this.mirroringShapeCharacters.setValue(8786,8787),this.mirroringShapeCharacters.setValue(8787,8786),this.mirroringShapeCharacters.setValue(8788,8789),this.mirroringShapeCharacters.setValue(8789,8788),this.mirroringShapeCharacters.setValue(8804,8805),this.mirroringShapeCharacters.setValue(8805,8804),this.mirroringShapeCharacters.setValue(8806,8807),this.mirroringShapeCharacters.setValue(8807,8806),this.mirroringShapeCharacters.setValue(8808,8809),this.mirroringShapeCharacters.setValue(8809,8808),this.mirroringShapeCharacters.setValue(8810,8811),this.mirroringShapeCharacters.setValue(8811,8810),this.mirroringShapeCharacters.setValue(8814,8815),this.mirroringShapeCharacters.setValue(8815,8814),this.mirroringShapeCharacters.setValue(8816,8817),this.mirroringShapeCharacters.setValue(8817,8816),this.mirroringShapeCharacters.setValue(8818,8819),this.mirroringShapeCharacters.setValue(8819,8818),this.mirroringShapeCharacters.setValue(8820,8821),this.mirroringShapeCharacters.setValue(8821,8820),this.mirroringShapeCharacters.setValue(8822,8823),this.mirroringShapeCharacters.setValue(8823,8822),this.mirroringShapeCharacters.setValue(8824,8825),this.mirroringShapeCharacters.setValue(8825,8824),this.mirroringShapeCharacters.setValue(8826,8827),this.mirroringShapeCharacters.setValue(8827,8826),this.mirroringShapeCharacters.setValue(8828,8829),this.mirroringShapeCharacters.setValue(8829,8828),this.mirroringShapeCharacters.setValue(8830,8831),this.mirroringShapeCharacters.setValue(8831,8830),this.mirroringShapeCharacters.setValue(8832,8833),this.mirroringShapeCharacters.setValue(8833,8832),this.mirroringShapeCharacters.setValue(8834,8835),this.mirroringShapeCharacters.setValue(8835,8834),this.mirroringShapeCharacters.setValue(8836,8837),this.mirroringShapeCharacters.setValue(8837,8836),this.mirroringShapeCharacters.setValue(8838,8839),this.mirroringShapeCharacters.setValue(8839,8838),this.mirroringShapeCharacters.setValue(8840,8841),this.mirroringShapeCharacters.setValue(8841,8840),this.mirroringShapeCharacters.setValue(8842,8843),this.mirroringShapeCharacters.setValue(8843,8842),this.mirroringShapeCharacters.setValue(8847,8848),this.mirroringShapeCharacters.setValue(8848,8847),this.mirroringShapeCharacters.setValue(8849,8850),this.mirroringShapeCharacters.setValue(8850,8849),this.mirroringShapeCharacters.setValue(8856,10680),this.mirroringShapeCharacters.setValue(8866,8867),this.mirroringShapeCharacters.setValue(8867,8866),this.mirroringShapeCharacters.setValue(8870,10974),this.mirroringShapeCharacters.setValue(8872,10980),this.mirroringShapeCharacters.setValue(8873,10979),this.mirroringShapeCharacters.setValue(8875,10981),this.mirroringShapeCharacters.setValue(8880,8881),this.mirroringShapeCharacters.setValue(8881,8880),this.mirroringShapeCharacters.setValue(8882,8883),this.mirroringShapeCharacters.setValue(8883,8882),this.mirroringShapeCharacters.setValue(8884,8885),this.mirroringShapeCharacters.setValue(8885,8884),this.mirroringShapeCharacters.setValue(8886,8887),this.mirroringShapeCharacters.setValue(8887,8886),this.mirroringShapeCharacters.setValue(8905,8906),this.mirroringShapeCharacters.setValue(8906,8905),this.mirroringShapeCharacters.setValue(8907,8908),this.mirroringShapeCharacters.setValue(8908,8907),this.mirroringShapeCharacters.setValue(8909,8771),this.mirroringShapeCharacters.setValue(8912,8913),this.mirroringShapeCharacters.setValue(8913,8912),this.mirroringShapeCharacters.setValue(8918,8919),this.mirroringShapeCharacters.setValue(8919,8918),this.mirroringShapeCharacters.setValue(8920,8921),this.mirroringShapeCharacters.setValue(8921,8920),this.mirroringShapeCharacters.setValue(8922,8923),this.mirroringShapeCharacters.setValue(8923,8922),this.mirroringShapeCharacters.setValue(8924,8925),this.mirroringShapeCharacters.setValue(8925,8924),this.mirroringShapeCharacters.setValue(8926,8927),this.mirroringShapeCharacters.setValue(8927,8926),this.mirroringShapeCharacters.setValue(8928,8929),this.mirroringShapeCharacters.setValue(8929,8928),this.mirroringShapeCharacters.setValue(8930,8931),this.mirroringShapeCharacters.setValue(8931,8930),this.mirroringShapeCharacters.setValue(8932,8933),this.mirroringShapeCharacters.setValue(8933,8932),this.mirroringShapeCharacters.setValue(8934,8935),this.mirroringShapeCharacters.setValue(8935,8934),this.mirroringShapeCharacters.setValue(8936,8937),this.mirroringShapeCharacters.setValue(8937,8936),this.mirroringShapeCharacters.setValue(8938,8939),this.mirroringShapeCharacters.setValue(8939,8938),this.mirroringShapeCharacters.setValue(8940,8941),this.mirroringShapeCharacters.setValue(8941,8940),this.mirroringShapeCharacters.setValue(8944,8945),this.mirroringShapeCharacters.setValue(8945,8944),this.mirroringShapeCharacters.setValue(8946,8954),this.mirroringShapeCharacters.setValue(8947,8955),this.mirroringShapeCharacters.setValue(8948,8956),this.mirroringShapeCharacters.setValue(8950,8957),this.mirroringShapeCharacters.setValue(8951,8958),this.mirroringShapeCharacters.setValue(8954,8946),this.mirroringShapeCharacters.setValue(8955,8947),this.mirroringShapeCharacters.setValue(8956,8948),this.mirroringShapeCharacters.setValue(8957,8950),this.mirroringShapeCharacters.setValue(8958,8951),this.mirroringShapeCharacters.setValue(8968,8969),this.mirroringShapeCharacters.setValue(8969,8968),this.mirroringShapeCharacters.setValue(8970,8971),this.mirroringShapeCharacters.setValue(8971,8970),this.mirroringShapeCharacters.setValue(9001,9002),this.mirroringShapeCharacters.setValue(9002,9001),this.mirroringShapeCharacters.setValue(10088,10089),this.mirroringShapeCharacters.setValue(10089,10088),this.mirroringShapeCharacters.setValue(10090,10091),this.mirroringShapeCharacters.setValue(10091,10090),this.mirroringShapeCharacters.setValue(10092,10093),this.mirroringShapeCharacters.setValue(10093,10092),this.mirroringShapeCharacters.setValue(10094,10095),this.mirroringShapeCharacters.setValue(10095,10094),this.mirroringShapeCharacters.setValue(10096,10097),this.mirroringShapeCharacters.setValue(10097,10096),this.mirroringShapeCharacters.setValue(10098,10099),this.mirroringShapeCharacters.setValue(10099,10098),this.mirroringShapeCharacters.setValue(10100,10101),this.mirroringShapeCharacters.setValue(10101,10100),this.mirroringShapeCharacters.setValue(10197,10198),this.mirroringShapeCharacters.setValue(10198,10197),this.mirroringShapeCharacters.setValue(10205,10206),this.mirroringShapeCharacters.setValue(10206,10205),this.mirroringShapeCharacters.setValue(10210,10211),this.mirroringShapeCharacters.setValue(10211,10210),this.mirroringShapeCharacters.setValue(10212,10213),this.mirroringShapeCharacters.setValue(10213,10212),this.mirroringShapeCharacters.setValue(10214,10215),this.mirroringShapeCharacters.setValue(10215,10214),this.mirroringShapeCharacters.setValue(10216,10217),this.mirroringShapeCharacters.setValue(10217,10216),this.mirroringShapeCharacters.setValue(10218,10219),this.mirroringShapeCharacters.setValue(10219,10218),this.mirroringShapeCharacters.setValue(10627,10628),this.mirroringShapeCharacters.setValue(10628,10627),this.mirroringShapeCharacters.setValue(10629,10630),this.mirroringShapeCharacters.setValue(10630,10629),this.mirroringShapeCharacters.setValue(10631,10632),this.mirroringShapeCharacters.setValue(10632,10631),this.mirroringShapeCharacters.setValue(10633,10634),this.mirroringShapeCharacters.setValue(10634,10633),this.mirroringShapeCharacters.setValue(10635,10636),this.mirroringShapeCharacters.setValue(10636,10635),this.mirroringShapeCharacters.setValue(10637,10640),this.mirroringShapeCharacters.setValue(10638,10639),this.mirroringShapeCharacters.setValue(10639,10638),this.mirroringShapeCharacters.setValue(10640,10637),this.mirroringShapeCharacters.setValue(10641,10642),this.mirroringShapeCharacters.setValue(10642,10641),this.mirroringShapeCharacters.setValue(10643,10644),this.mirroringShapeCharacters.setValue(10644,10643),this.mirroringShapeCharacters.setValue(10645,10646),this.mirroringShapeCharacters.setValue(10646,10645),this.mirroringShapeCharacters.setValue(10647,10648),this.mirroringShapeCharacters.setValue(10648,10647),this.mirroringShapeCharacters.setValue(10680,8856),this.mirroringShapeCharacters.setValue(10688,10689),this.mirroringShapeCharacters.setValue(10689,10688),this.mirroringShapeCharacters.setValue(10692,10693),this.mirroringShapeCharacters.setValue(10693,10692),this.mirroringShapeCharacters.setValue(10703,10704),this.mirroringShapeCharacters.setValue(10704,10703),this.mirroringShapeCharacters.setValue(10705,10706),this.mirroringShapeCharacters.setValue(10706,10705),this.mirroringShapeCharacters.setValue(10708,10709),this.mirroringShapeCharacters.setValue(10709,10708),this.mirroringShapeCharacters.setValue(10712,10713),this.mirroringShapeCharacters.setValue(10713,10712),this.mirroringShapeCharacters.setValue(10714,10715),this.mirroringShapeCharacters.setValue(10715,10714),this.mirroringShapeCharacters.setValue(10741,8725),this.mirroringShapeCharacters.setValue(10744,10745),this.mirroringShapeCharacters.setValue(10745,10744),this.mirroringShapeCharacters.setValue(10748,10749),this.mirroringShapeCharacters.setValue(10749,10748),this.mirroringShapeCharacters.setValue(10795,10796),this.mirroringShapeCharacters.setValue(10796,10795),this.mirroringShapeCharacters.setValue(10797,10796),this.mirroringShapeCharacters.setValue(10798,10797),this.mirroringShapeCharacters.setValue(10804,10805),this.mirroringShapeCharacters.setValue(10805,10804),this.mirroringShapeCharacters.setValue(10812,10813),this.mirroringShapeCharacters.setValue(10813,10812),this.mirroringShapeCharacters.setValue(10852,10853),this.mirroringShapeCharacters.setValue(10853,10852),this.mirroringShapeCharacters.setValue(10873,10874),this.mirroringShapeCharacters.setValue(10874,10873),this.mirroringShapeCharacters.setValue(10877,10878),this.mirroringShapeCharacters.setValue(10878,10877),this.mirroringShapeCharacters.setValue(10879,10880),this.mirroringShapeCharacters.setValue(10880,10879),this.mirroringShapeCharacters.setValue(10881,10882),this.mirroringShapeCharacters.setValue(10882,10881),this.mirroringShapeCharacters.setValue(10883,10884),this.mirroringShapeCharacters.setValue(10884,10883),this.mirroringShapeCharacters.setValue(10891,10892),this.mirroringShapeCharacters.setValue(10892,10891),this.mirroringShapeCharacters.setValue(10897,10898),this.mirroringShapeCharacters.setValue(10898,10897),this.mirroringShapeCharacters.setValue(10899,10900),this.mirroringShapeCharacters.setValue(10900,10899),this.mirroringShapeCharacters.setValue(10901,10902),this.mirroringShapeCharacters.setValue(10902,10901),this.mirroringShapeCharacters.setValue(10903,10904),this.mirroringShapeCharacters.setValue(10904,10903),this.mirroringShapeCharacters.setValue(10905,10906),this.mirroringShapeCharacters.setValue(10906,10905),this.mirroringShapeCharacters.setValue(10907,10908),this.mirroringShapeCharacters.setValue(10908,10907),this.mirroringShapeCharacters.setValue(10913,10914),this.mirroringShapeCharacters.setValue(10914,10913),this.mirroringShapeCharacters.setValue(10918,10919),this.mirroringShapeCharacters.setValue(10919,10918),this.mirroringShapeCharacters.setValue(10920,10921),this.mirroringShapeCharacters.setValue(10921,10920),this.mirroringShapeCharacters.setValue(10922,10923),this.mirroringShapeCharacters.setValue(10923,10922),this.mirroringShapeCharacters.setValue(10924,10925),this.mirroringShapeCharacters.setValue(10925,10924),this.mirroringShapeCharacters.setValue(10927,10928),this.mirroringShapeCharacters.setValue(10928,10927),this.mirroringShapeCharacters.setValue(10931,10932),this.mirroringShapeCharacters.setValue(10932,10931),this.mirroringShapeCharacters.setValue(10939,10940),this.mirroringShapeCharacters.setValue(10940,10939),this.mirroringShapeCharacters.setValue(10941,10942),this.mirroringShapeCharacters.setValue(10942,10941),this.mirroringShapeCharacters.setValue(10943,10944),this.mirroringShapeCharacters.setValue(10944,10943),this.mirroringShapeCharacters.setValue(10945,10946),this.mirroringShapeCharacters.setValue(10946,10945),this.mirroringShapeCharacters.setValue(10947,10948),this.mirroringShapeCharacters.setValue(10948,10947),this.mirroringShapeCharacters.setValue(10949,10950),this.mirroringShapeCharacters.setValue(10950,10949),this.mirroringShapeCharacters.setValue(10957,10958),this.mirroringShapeCharacters.setValue(10958,10957),this.mirroringShapeCharacters.setValue(10959,10960),this.mirroringShapeCharacters.setValue(10960,10959),this.mirroringShapeCharacters.setValue(10961,10962),this.mirroringShapeCharacters.setValue(10962,10961),this.mirroringShapeCharacters.setValue(10963,10964),this.mirroringShapeCharacters.setValue(10964,10963),this.mirroringShapeCharacters.setValue(10965,10966),this.mirroringShapeCharacters.setValue(10966,10965),this.mirroringShapeCharacters.setValue(10974,8870),this.mirroringShapeCharacters.setValue(10979,8873),this.mirroringShapeCharacters.setValue(10980,8872),this.mirroringShapeCharacters.setValue(10981,8875),this.mirroringShapeCharacters.setValue(10988,10989),this.mirroringShapeCharacters.setValue(10989,10988),this.mirroringShapeCharacters.setValue(10999,11e3),this.mirroringShapeCharacters.setValue(11e3,10999),this.mirroringShapeCharacters.setValue(11001,11002),this.mirroringShapeCharacters.setValue(11002,11001),this.mirroringShapeCharacters.setValue(12296,12297),this.mirroringShapeCharacters.setValue(12297,12296),this.mirroringShapeCharacters.setValue(12298,12299),this.mirroringShapeCharacters.setValue(12299,12298),this.mirroringShapeCharacters.setValue(12300,12301),this.mirroringShapeCharacters.setValue(12301,12300),this.mirroringShapeCharacters.setValue(12302,12303),this.mirroringShapeCharacters.setValue(12303,12302),this.mirroringShapeCharacters.setValue(12304,12305),this.mirroringShapeCharacters.setValue(12305,12304),this.mirroringShapeCharacters.setValue(12308,12309),this.mirroringShapeCharacters.setValue(12309,12308),this.mirroringShapeCharacters.setValue(12310,12311),this.mirroringShapeCharacters.setValue(12311,12310),this.mirroringShapeCharacters.setValue(12312,12313),this.mirroringShapeCharacters.setValue(12313,12312),this.mirroringShapeCharacters.setValue(12314,12315),this.mirroringShapeCharacters.setValue(12315,12314),this.mirroringShapeCharacters.setValue(65288,65289),this.mirroringShapeCharacters.setValue(65289,65288),this.mirroringShapeCharacters.setValue(65308,65310),this.mirroringShapeCharacters.setValue(65310,65308),this.mirroringShapeCharacters.setValue(65339,65341),this.mirroringShapeCharacters.setValue(65341,65339),this.mirroringShapeCharacters.setValue(65371,65373),this.mirroringShapeCharacters.setValue(65373,65371),this.mirroringShapeCharacters.setValue(65375,65376),this.mirroringShapeCharacters.setValue(65376,65375),this.mirroringShapeCharacters.setValue(65378,65379),this.mirroringShapeCharacters.setValue(65379,65378)},a}(),nd=function(){function a(){this.types=[],this.textOrder=-1,this.rtlCharacterTypes=new Array(65536),this.L=0,this.LRE=1,this.LRO=2,this.R=3,this.AL=4,this.RLE=5,this.RLO=6,this.PDF=7,this.EN=8,this.ES=9,this.ET=10,this.AN=11,this.CS=12,this.NSM=13,this.BN=14,this.B=15,this.S=16,this.WS=17,this.ON=18,this.charTypes=[this.L,this.EN,this.BN,this.ES,this.ES,this.S,this.ET,this.ET,this.B,this.AN,this.AN,this.S,this.CS,this.CS,this.WS,this.NSM,this.NSM,this.B,this.BN,27,this.BN,28,30,this.B,31,31,this.S,32,32,this.WS,33,34,this.ON,35,37,this.ET,38,42,this.ON,43,43,this.ET,44,44,this.CS,45,45,this.ET,46,46,this.CS,47,47,this.CS,48,57,this.EN,58,58,this.CS,59,64,this.ON,65,90,this.L,91,96,this.ON,97,122,this.L,123,126,this.ON,127,132,this.BN,133,133,this.B,134,159,this.BN,160,160,this.CS,161,161,this.ON,162,165,this.ET,166,169,this.ON,170,170,this.L,171,175,this.ON,176,177,this.ET,178,179,this.EN,180,180,this.ON,181,181,this.L,182,184,this.ON,185,185,this.EN,186,186,this.L,187,191,this.ON,192,214,this.L,215,215,this.ON,216,246,this.L,247,247,this.ON,248,696,this.L,697,698,this.ON,699,705,this.L,706,719,this.ON,720,721,this.L,722,735,this.ON,736,740,this.L,741,749,this.ON,750,750,this.L,751,767,this.ON,768,855,this.NSM,856,860,this.L,861,879,this.NSM,880,883,this.L,884,885,this.ON,886,893,this.L,894,894,this.ON,895,899,this.L,900,901,this.ON,902,902,this.L,903,903,this.ON,904,1013,this.L,1014,1014,this.ON,1015,1154,this.L,1155,1158,this.NSM,1159,1159,this.L,1160,1161,this.NSM,1162,1417,this.L,1418,1418,this.ON,1419,1424,this.L,1425,1441,this.NSM,1442,1442,this.L,1443,1465,this.NSM,1466,1466,this.L,1467,1469,this.NSM,1470,1470,this.R,1471,1471,this.NSM,1472,1472,this.R,1473,1474,this.NSM,1475,1475,this.R,1476,1476,this.NSM,1477,1487,this.L,1488,1514,this.R,1515,1519,this.L,1520,1524,this.R,1525,1535,this.L,1536,1539,this.AL,1540,1547,this.L,1548,1548,this.CS,1549,1549,this.AL,1550,1551,this.ON,1552,1557,this.NSM,1558,1562,this.L,1563,1563,this.AL,1564,1566,this.L,1567,1567,this.AL,1568,1568,this.L,1569,1594,this.AL,1595,1599,this.L,1600,1610,this.AL,1611,1624,this.NSM,1625,1631,this.L,1632,1641,this.AN,1642,1642,this.ET,1643,1644,this.AN,1645,1647,this.AL,1648,1648,this.NSM,1649,1749,this.AL,1750,1756,this.NSM,1757,1757,this.AL,1758,1764,this.NSM,1765,1766,this.AL,1767,1768,this.NSM,1769,1769,this.ON,1770,1773,this.NSM,1774,1775,this.AL,1776,1785,this.EN,1786,1805,this.AL,1806,1806,this.L,1807,1807,this.BN,1808,1808,this.AL,1809,1809,this.NSM,1810,1839,this.AL,1840,1866,this.NSM,1867,1868,this.L,1869,1871,this.AL,1872,1919,this.L,1920,1957,this.AL,1958,1968,this.NSM,1969,1969,this.AL,1970,2304,this.L,2305,2306,this.NSM,2307,2363,this.L,2364,2364,this.NSM,2365,2368,this.L,2369,2376,this.NSM,2377,2380,this.L,2381,2381,this.NSM,2382,2384,this.L,2385,2388,this.NSM,2389,2401,this.L,2402,2403,this.NSM,2404,2432,this.L,2433,2433,this.NSM,2434,2491,this.L,2492,2492,this.NSM,2493,2496,this.L,2497,2500,this.NSM,2501,2508,this.L,2509,2509,this.NSM,2510,2529,this.L,2530,2531,this.NSM,2532,2545,this.L,2546,2547,this.ET,2548,2560,this.L,2561,2562,this.NSM,2563,2619,this.L,2620,2620,this.NSM,2621,2624,this.L,2625,2626,this.NSM,2627,2630,this.L,2631,2632,this.NSM,2633,2634,this.L,2635,2637,this.NSM,2638,2671,this.L,2672,2673,this.NSM,2674,2688,this.L,2689,2690,this.NSM,2691,2747,this.L,2748,2748,this.NSM,2749,2752,this.L,2753,2757,this.NSM,2758,2758,this.L,2759,2760,this.NSM,2761,2764,this.L,2765,2765,this.NSM,2766,2785,this.L,2786,2787,this.NSM,2788,2800,this.L,2801,2801,this.ET,2802,2816,this.L,2817,2817,this.NSM,2818,2875,this.L,2876,2876,this.NSM,2877,2878,this.L,2879,2879,this.NSM,2880,2880,this.L,2881,2883,this.NSM,2884,2892,this.L,2893,2893,this.NSM,2894,2901,this.L,2902,2902,this.NSM,2903,2945,this.L,2946,2946,this.NSM,2947,3007,this.L,3008,3008,this.NSM,3009,3020,this.L,3021,3021,this.NSM,3022,3058,this.L,3059,3064,this.ON,3065,3065,this.ET,3066,3066,this.ON,3067,3133,this.L,3134,3136,this.NSM,3137,3141,this.L,3142,3144,this.NSM,3145,3145,this.L,3146,3149,this.NSM,3150,3156,this.L,3157,3158,this.NSM,3159,3259,this.L,3260,3260,this.NSM,3261,3275,this.L,3276,3277,this.NSM,3278,3392,this.L,3393,3395,this.NSM,3396,3404,this.L,3405,3405,this.NSM,3406,3529,this.L,3530,3530,this.NSM,3531,3537,this.L,3538,3540,this.NSM,3541,3541,this.L,3542,3542,this.NSM,3543,3632,this.L,3633,3633,this.NSM,3634,3635,this.L,3636,3642,this.NSM,3643,3646,this.L,3647,3647,this.ET,3648,3654,this.L,3655,3662,this.NSM,3663,3760,this.L,3761,3761,this.NSM,3762,3763,this.L,3764,3769,this.NSM,3770,3770,this.L,3771,3772,this.NSM,3773,3783,this.L,3784,3789,this.NSM,3790,3863,this.L,3864,3865,this.NSM,3866,3892,this.L,3893,3893,this.NSM,3894,3894,this.L,3895,3895,this.NSM,3896,3896,this.L,3897,3897,this.NSM,3898,3901,this.ON,3902,3952,this.L,3953,3966,this.NSM,3967,3967,this.L,3968,3972,this.NSM,3973,3973,this.L,3974,3975,this.NSM,3976,3983,this.L,3984,3991,this.NSM,3992,3992,this.L,3993,4028,this.NSM,4029,4037,this.L,4038,4038,this.NSM,4039,4140,this.L,4141,4144,this.NSM,4145,4145,this.L,4146,4146,this.NSM,4147,4149,this.L,4150,4151,this.NSM,4152,4152,this.L,4153,4153,this.NSM,4154,4183,this.L,4184,4185,this.NSM,4186,5759,this.L,5760,5760,this.WS,5761,5786,this.L,5787,5788,this.ON,5789,5905,this.L,5906,5908,this.NSM,5909,5937,this.L,5938,5940,this.NSM,5941,5969,this.L,5970,5971,this.NSM,5972,6001,this.L,6002,6003,this.NSM,6004,6070,this.L,6071,6077,this.NSM,6078,6085,this.L,6086,6086,this.NSM,6087,6088,this.L,6089,6099,this.NSM,6100,6106,this.L,6107,6107,this.ET,6108,6108,this.L,6109,6109,this.NSM,6110,6127,this.L,6128,6137,this.ON,6138,6143,this.L,6144,6154,this.ON,6155,6157,this.NSM,6158,6158,this.WS,6159,6312,this.L,6313,6313,this.NSM,6314,6431,this.L,6432,6434,this.NSM,6435,6438,this.L,6439,6443,this.NSM,6444,6449,this.L,6450,6450,this.NSM,6451,6456,this.L,6457,6459,this.NSM,6460,6463,this.L,6464,6464,this.ON,6465,6467,this.L,6468,6469,this.ON,6470,6623,this.L,6624,6655,this.ON,6656,8124,this.L,8125,8125,this.ON,8126,8126,this.L,8127,8129,this.ON,8130,8140,this.L,8141,8143,this.ON,8144,8156,this.L,8157,8159,this.ON,8160,8172,this.L,8173,8175,this.ON,8176,8188,this.L,8189,8190,this.ON,8191,8191,this.L,8192,8202,this.WS,8203,8205,this.BN,8206,8206,this.L,8207,8207,this.R,8208,8231,this.ON,8232,8232,this.WS,8233,8233,this.B,8234,8234,this.LRE,8235,8235,this.RLE,8236,8236,this.PDF,8237,8237,this.LRO,8238,8238,this.RLO,8239,8239,this.WS,8240,8244,this.ET,8245,8276,this.ON,8277,8278,this.L,8279,8279,this.ON,8280,8286,this.L,8287,8287,this.WS,8288,8291,this.BN,8292,8297,this.L,8298,8303,this.BN,8304,8304,this.EN,8305,8307,this.L,8308,8313,this.EN,8314,8315,this.ET,8316,8318,this.ON,8319,8319,this.L,8320,8329,this.EN,8330,8331,this.ET,8332,8334,this.ON,8335,8351,this.L,8352,8369,this.ET,8370,8399,this.L,8400,8426,this.NSM,8427,8447,this.L,8448,8449,this.ON,8450,8450,this.L,8451,8454,this.ON,8455,8455,this.L,8456,8457,this.ON,8458,8467,this.L,8468,8468,this.ON,8469,8469,this.L,8470,8472,this.ON,8473,8477,this.L,8478,8483,this.ON,8484,8484,this.L,8485,8485,this.ON,8486,8486,this.L,8487,8487,this.ON,8488,8488,this.L,8489,8489,this.ON,8490,8493,this.L,8494,8494,this.ET,8495,8497,this.L,8498,8498,this.ON,8499,8505,this.L,8506,8507,this.ON,8508,8511,this.L,8512,8516,this.ON,8517,8521,this.L,8522,8523,this.ON,8524,8530,this.L,8531,8543,this.ON,8544,8591,this.L,8592,8721,this.ON,8722,8723,this.ET,8724,9013,this.ON,9014,9082,this.L,9083,9108,this.ON,9109,9109,this.L,9110,9168,this.ON,9169,9215,this.L,9216,9254,this.ON,9255,9279,this.L,9280,9290,this.ON,9291,9311,this.L,9312,9371,this.EN,9372,9449,this.L,9450,9450,this.EN,9451,9751,this.ON,9752,9752,this.L,9753,9853,this.ON,9854,9855,this.L,9856,9873,this.ON,9874,9887,this.L,9888,9889,this.ON,9890,9984,this.L,9985,9988,this.ON,9989,9989,this.L,9990,9993,this.ON,9994,9995,this.L,9996,10023,this.ON,10024,10024,this.L,10025,10059,this.ON,10060,10060,this.L,10061,10061,this.ON,10062,10062,this.L,10063,10066,this.ON,10067,10069,this.L,10070,10070,this.ON,10071,10071,this.L,10072,10078,this.ON,10079,10080,this.L,10081,10132,this.ON,10133,10135,this.L,10136,10159,this.ON,10160,10160,this.L,10161,10174,this.ON,10175,10191,this.L,10192,10219,this.ON,10220,10223,this.L,10224,11021,this.ON,11022,11903,this.L,11904,11929,this.ON,11930,11930,this.L,11931,12019,this.ON,12020,12031,this.L,12032,12245,this.ON,12246,12271,this.L,12272,12283,this.ON,12284,12287,this.L,12288,12288,this.WS,12289,12292,this.ON,12293,12295,this.L,12296,12320,this.ON,12321,12329,this.L,12330,12335,this.NSM,12336,12336,this.ON,12337,12341,this.L,12342,12343,this.ON,12344,12348,this.L,12349,12351,this.ON,12352,12440,this.L,12441,12442,this.NSM,12443,12444,this.ON,12445,12447,this.L,12448,12448,this.ON,12449,12538,this.L,12539,12539,this.ON,12540,12828,this.L,12829,12830,this.ON,12831,12879,this.L,12880,12895,this.ON,12896,12923,this.L,12924,12925,this.ON,12926,12976,this.L,12977,12991,this.ON,12992,13003,this.L,13004,13007,this.ON,13008,13174,this.L,13175,13178,this.ON,13179,13277,this.L,13278,13279,this.ON,13280,13310,this.L,13311,13311,this.ON,13312,19903,this.L,19904,19967,this.ON,19968,42127,this.L,42128,42182,this.ON,42183,64284,this.L,64285,64285,this.R,64286,64286,this.NSM,64287,64296,this.R,64297,64297,this.ET,64298,64310,this.R,64311,64311,this.L,64312,64316,this.R,64317,64317,this.L,64318,64318,this.R,64319,64319,this.L,64320,64321,this.R,64322,64322,this.L,64323,64324,this.R,64325,64325,this.L,64326,64335,this.R,64336,64433,this.AL,64434,64466,this.L,64467,64829,this.AL,64830,64831,this.ON,64832,64847,this.L,64848,64911,this.AL,64912,64913,this.L,64914,64967,this.AL,64968,65007,this.L,65008,65020,this.AL,65021,65021,this.ON,65022,65023,this.L,65024,65039,this.NSM,65040,65055,this.L,65056,65059,this.NSM,65060,65071,this.L,65072,65103,this.ON,65104,65104,this.CS,65105,65105,this.ON,65106,65106,this.CS,65107,65107,this.L,65108,65108,this.ON,65109,65109,this.CS,65110,65118,this.ON,65119,65119,this.ET,65120,65121,this.ON,65122,65123,this.ET,65124,65126,this.ON,65127,65127,this.L,65128,65128,this.ON,65129,65130,this.ET,65131,65131,this.ON,65132,65135,this.L,65136,65140,this.AL,65141,65141,this.L,65142,65276,this.AL,65277,65278,this.L,65279,65279,this.BN,65280,65280,this.L,65281,65282,this.ON,65283,65285,this.ET,65286,65290,this.ON,65291,65291,this.ET,65292,65292,this.CS,65293,65293,this.ET,65294,65294,this.CS,65295,65295,this.ES,65296,65305,this.EN,65306,65306,this.CS,65307,65312,this.ON,65313,65338,this.L,65339,65344,this.ON,65345,65370,this.L,65371,65381,this.ON,65382,65503,this.L,65504,65505,this.ET,65506,65508,this.ON,65509,65510,this.ET,65511,65511,this.L,65512,65518,this.ON,65519,65528,this.L,65529,65531,this.BN,65532,65533,this.ON,65534,65535,this.L];for(var e=0;e<this.charTypes.length;++e)for(var t=this.charTypes[e],i=this.charTypes[++e],s=this.charTypes[++e];t<=i;)this.rtlCharacterTypes[t++]=s}return a.prototype.getVisualOrder=function(e,t){this.types=this.getCharacterCode(e),this.textOrder=t?this.LRE:this.L,this.doVisualOrder();for(var i=[],s=0;s<this.levels.length;s++)i[s]=this.levels[s];return i},a.prototype.getCharacterCode=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=this.rtlCharacterTypes[e[i].charCodeAt(0)];return t},a.prototype.setDefaultLevels=function(){for(var e=0;e<this.length;e++)this.levels[e]=this.textOrder},a.prototype.setLevels=function(){this.setDefaultLevels();for(var e=0;e<this.length;++e){var t=this.levels[e];t&128&&(t&=127,this.result[e]=t&1?this.R:this.L),this.levels[e]=t}},a.prototype.updateLevels=function(e,t,i){if(t&1)for(var s=e;s<i;++s)this.result[s]!==this.R&&(this.levels[s]+=1);else for(var s=e;s<i;++s)this.result[s]===this.R?this.levels[s]+=1:this.result[s]!==this.L&&(this.levels[s]+=2)},a.prototype.doVisualOrder=function(){this.length=this.types.length,this.result=this.types,this.levels=[],this.setLevels(),this.length=this.getEmbeddedCharactersLength();for(var e=this.textOrder,t=0;t<this.length;){for(var i=this.levels[t],s=Math.max(e,i)&1?this.R:this.L,o=t+1;o<this.length&&this.levels[o]===i;)++o;var c=o<this.length?this.levels[o]:this.textOrder,f=Math.max(c,i)&1?this.R:this.L;this.checkNSM(t,o,i,s,f),this.updateLevels(t,i,o),e=i,t=o}this.checkEmbeddedCharacters(this.length)},a.prototype.getEmbeddedCharactersLength=function(){for(var e=0,t=0;t<this.length;++t)this.types[t]===this.LRE||this.types[t]===this.RLE||this.types[t]===this.LRO||this.types[t]===this.RLO||this.types[t]===this.PDF||this.types[t]===this.BN||(this.result[e]=this.result[t],this.levels[e]=this.levels[t],e++);return e},a.prototype.checkEmbeddedCharacters=function(e){for(var t=this.types.length-1;t>=0;--t)this.types[t]===this.LRE||this.types[t]===this.RLE||this.types[t]===this.LRO||this.types[t]===this.RLO||this.types[t]===this.PDF||this.types[t]===this.BN?(this.result[t]=this.types[t],this.levels[t]=-1):(e-=1,this.result[t]=this.result[e],this.levels[t]=this.levels[e]);for(var t=0;t<this.types.length;t++)this.levels[t]===-1&&(t===0?this.levels[t]=this.textOrder:this.levels[t]=this.levels[t-1])},a.prototype.checkNSM=function(e,t,i,s,o){for(var c=s,f=e;f<t;++f)this.result[f]===this.NSM?this.result[f]=c:c=this.result[f];this.checkEuropeanDigits(e,t,i,s,o)},a.prototype.checkEuropeanDigits=function(e,t,i,s,o){for(var c=e;c<t;++c)if(this.result[c]===this.EN){for(var f=c-1;f>=e;--f)if(this.result[f]===this.L||this.result[f]===this.R||this.result[f]===this.AL){this.result[f]===this.AL&&(this.result[c]=this.AN);break}}this.checkArabicCharacters(e,t,i,s,o)},a.prototype.checkArabicCharacters=function(e,t,i,s,o){for(var c=e;c<t;++c)this.result[c]===this.AL&&(this.result[c]=this.R);this.checkEuropeanNumberSeparator(e,t,i,s,o)},a.prototype.checkEuropeanNumberSeparator=function(e,t,i,s,o){for(var c=e+1;c<t-1;++c)if(this.result[c]===this.ES||this.result[c]===this.CS){var f=this.result[c-1],m=this.result[c+1];f===this.EN&&m===this.EN?this.result[c]=this.EN:this.result[c]===this.CS&&f===this.AN&&m===this.AN&&(this.result[c]=this.AN)}this.checkEuropeanNumberTerminator(e,t,i,s,o)},a.prototype.checkEuropeanNumberTerminator=function(e,t,i,s,o){for(var c=e;c<t;++c)if(this.result[c]===this.ET){var f=c,m=[];m.push(this.ET);var b=this.getLength(f,t,m),S=f===e?s:this.result[f-1];if(S!==this.EN&&(S=b===t?o:this.result[b]),S===this.EN)for(var k=f;k<b;++k)this.result[k]=this.EN;c=b}this.checkOtherNeutrals(e,t,i,s,o)},a.prototype.checkOtherNeutrals=function(e,t,i,s,o){for(var c=e;c<t;++c)(this.result[c]===this.ES||this.result[c]===this.ET||this.result[c]===this.CS)&&(this.result[c]=this.ON);this.checkOtherCharacters(e,t,i,s,o)},a.prototype.checkOtherCharacters=function(e,t,i,s,o){for(var c=e;c<t;++c)if(this.result[c]===this.EN){for(var f=s,m=c-1;m>=e;--m)if(this.result[m]===this.L||this.result[m]===this.R){f=this.result[m];break}f===this.L&&(this.result[c]=this.L)}this.checkCommanCharacters(e,t,i,s,o)},a.prototype.getLength=function(e,t,i){for(--e;++e<t;){for(var s=this.result[e],o=0;o<i.length;++o)s===i[o]&&(e=this.getLength(++e,t,i));return e}return t},a.prototype.checkCommanCharacters=function(e,t,i,s,o){for(var c=e;c<t;++c)if(this.result[c]===this.WS||this.result[c]===this.ON||this.result[c]===this.B||this.result[c]===this.S){var f=c,m=[this.B,this.S,this.WS,this.ON],b=this.getLength(f,t,m),S=0,k=0,L=0;f===e?S=s:(S=this.result[f-1],S===this.AN?S=this.R:S===this.EN&&(S=this.R)),b===t?k=o:(k=this.result[b],k===this.AN?k=this.R:k===this.EN&&(k=this.R)),S===k?L=S:L=i&1?this.R:this.L;for(var I=f;I<b;++I)this.result[I]=L;c=b}},a}(),ad=function(){function a(){this.openBracket="(",this.closeBracket=")"}return a.prototype.layout=function(e,t,i,s,o){if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");var c=[];return t.Unicode?c=this.customLayout(e,i,o,t,s):(c=[],c[0]=e),c},a.prototype.splitLayout=function(e,t,i,s,o){if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");var c=[];return c=this.customSplitLayout(e,t,i,s,o),c},a.prototype.getGlyphIndex=function(e,t,i,s,o){var c=!0,f=!1;if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");if(s=null,e.length===0)return{success:f,glyphs:s};var m=new io,b=m.shape(e,0),S=t.fontInternal,k=S.ttfReader;s=new Uint16Array(b.length);for(var L=0,I=0,_=b.length;I<_;I++){var N=b[I],U=k.getGlyph(N);U!==null&&typeof U<"u"&&(s[L++]=U.index)}return{success:c,glyphs:s}},a.prototype.customLayout=function(e,t,i,s,o){if(o===null||typeof o>"u"){if(e==null)throw new Error("ArgumentNullException : line");var c=null;if(i!==null&&typeof i<"u"&&i.textDirection!==vi.None){var f=new sd;c=f.getLogicalToVisualString(e,t)}return c}else{if(e==null)throw new Error("ArgumentNullException : line");if(s==null)throw new Error("ArgumentNullException : font");var m=null;if(i!==null&&typeof i<"u"&&i.textDirection!==vi.None){var b=new io,S=b.shape(e,0);m=this.customLayout(S,t,i)}var c=[];if(o){for(var k=m.split(""),L=k.length,I=0;I<L;I++)k[I]=this.addChars(s,k[I]);c=k}else c=[],c[0]=this.addChars(s,m);return c}},a.prototype.addChars=function(e,t){var i=t;if(e==null)throw new Error("ArgumentNullException : font");if(i==null)throw new Error("ArgumentNullException : line");var s=i,o=e.fontInternal,c=o.ttfReader;e.setSymbols(s),s=c.convertString(s);var f=Xt.toUnicodeArray(s,!1);return s=Xt.byteToString(f),s},a.prototype.customSplitLayout=function(e,t,i,s,o){if(e==null)throw new Error("ArgumentNullException : line");if(t==null)throw new Error("ArgumentNullException : font");var c=this.customLayout(e,i,o),f=c.split("");return f},a}(),ro;(function(a){a[a.Paginate=0]="Paginate",a[a.OnePage=1]="OnePage"})(ro||(ro={}));var so;(function(a){a[a.FitPage=0]="FitPage",a[a.FitElement=1]="FitElement",a[a.FitColumnsToPage=2]="FitColumnsToPage"})(so||(so={}));var Jt;(function(a){a[a.Start=0]="Start",a[a.Line=1]="Line",a[a.Bezier3=3]="Bezier3",a[a.Bezier=3]="Bezier",a[a.PathTypeMask=7]="PathTypeMask",a[a.DashMode=16]="DashMode",a[a.PathMarker=32]="PathMarker",a[a.CloseSubpath=128]="CloseSubpath"})(Jt||(Jt={}));var od=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Lr=function(a){od(e,a);function e(t){var i=a.call(this)||this;return i.mbackground=new ar(255,255,255),i.mbStroking=!1,i.mfunction=null,i.dictionaryProperties=new xt,i.mpatternDictionary=new tt,i.mpatternDictionary.items.setValue(i.dictionaryProperties.type,new Me(i.dictionaryProperties.pattern)),i.mpatternDictionary.items.setValue(i.dictionaryProperties.patternType,new Le(2)),i.shading=t,i.colorSpace=ht.Rgb,i}return Object.defineProperty(e.prototype,"background",{get:function(){return this.mbackground},set:function(t){this.mbackground=t;var i=this.shading;t.isEmpty?i.remove(this.dictionaryProperties.background):i.items.setValue(this.dictionaryProperties.background,t.toArray(this.colorSpace))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"antiAlias",{get:function(){var t=this.shading,i=t.items.getValue(this.dictionaryProperties.antiAlias);return i.value},set:function(t){var i=this.shading,s=i.items.getValue(this.dictionaryProperties.antiAlias);s==null&&typeof s>"u"?(s=new Mi(t),i.items.setValue(this.dictionaryProperties.antiAlias,s)):s.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"function",{get:function(){return this.mfunction},set:function(t){this.mfunction=t,t!=null&&typeof t<"u"?this.shading.items.setValue(this.dictionaryProperties.function,new it(this.mfunction)):this.shading.remove(this.dictionaryProperties.function)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bBox",{get:function(){var t=this.shading,i=t.items.getValue(this.dictionaryProperties.bBox);return i},set:function(t){var i=this.shading;t==null&&typeof t>"u"?i.remove(this.dictionaryProperties.bBox):i.items.setValue(this.dictionaryProperties.bBox,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.mcolorSpace},set:function(t){var i=this.shading.items.getValue(this.dictionaryProperties.colorSpace);if(t!==this.mcolorSpace||i==null){this.mcolorSpace=t;var s=this.colorSpaceToDeviceName(t);this.shading.items.setValue(this.dictionaryProperties.colorSpace,new Me(s))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroking",{get:function(){return this.mbStroking},set:function(t){this.mbStroking=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patternDictionary",{get:function(){return this.mpatternDictionary==null&&(this.mpatternDictionary=new tt),this.mpatternDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shading",{get:function(){return this.mshading},set:function(t){if(t==null)throw new Error("ArgumentNullException : Shading");t!==this.mshading&&(this.mshading=t,this.patternDictionary.items.setValue(this.dictionaryProperties.shading,new it(this.mshading)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.mmatrix},set:function(t){if(t==null)throw new Error("ArgumentNullException : Matrix");if(t!==this.mmatrix){this.mmatrix=t.clone();var i=new ft(this.mmatrix.matrix.elements);this.mpatternDictionary.items.setValue(this.dictionaryProperties.matrix,i)}},enumerable:!0,configurable:!0}),e.prototype.monitorChanges=function(t,i,s,o,c){var f=!1;if(t instanceof e){this.colorSpace!==c&&(this.colorSpace=c,this.resetFunction()),i.setColorSpace("Pattern",this.mbStroking);var m=s.getResources(),b=m.getName(this);i.setColourWithPattern(null,b,this.mbStroking),f=!0}return f},e.prototype.resetChanges=function(t){},e.prototype.colorSpaceToDeviceName=function(t){var i;switch(t){case ht.Rgb:i="DeviceRGB";break}return i},e.prototype.resetPatternDictionary=function(t){this.mpatternDictionary=t},e.prototype.cloneAntiAliasingValue=function(t){if(t==null)throw new Error("ArgumentNullException : brush");var i=this.shading,s=i.items.getValue(this.dictionaryProperties.antiAlias);s!=null&&t.shading.items.setValue(this.dictionaryProperties.antiAlias,new Mi(s.value))},e.prototype.cloneBackgroundValue=function(t){var i=this.background;i.isEmpty||(t.background=i)},Object.defineProperty(e.prototype,"element",{get:function(){return this.patternDictionary},enumerable:!0,configurable:!0}),e}(or),zn=function(){function a(e,t){if(this.dictionaryProperties=new xt,this.writeTransformation=!0,!(typeof e>"u"))if(e instanceof Se&&typeof t>"u"){this.content=new Kt;var i=new Se(e.width,e.height);this.setSize(i),this.initialize()}else this.content=new Kt,this.setSize(new Se(e,t)),this.initialize()}return Object.defineProperty(a.prototype,"size",{get:function(){return this.templateSize},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"graphics",{get:function(){if(this.pdfGraphics==null||typeof this.pdfGraphics>"u"){var e=new oa(this),t=new aa(this.size,e,this.content);this.pdfGraphics=t,this.pdfGraphics.initializeCoordinates()}return this.pdfGraphics},enumerable:!0,configurable:!0}),a.prototype.getResources=function(){return this.resources==null&&(this.resources=new as,this.content.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},a.prototype.initialize=function(){this.addType(),this.addSubType()},a.prototype.addType=function(){var e=new Me(this.dictionaryProperties.xObject);this.content.items.setValue(this.dictionaryProperties.type,e)},a.prototype.addSubType=function(){var e=new Me(this.dictionaryProperties.form);this.content.items.setValue(this.dictionaryProperties.subtype,e)},a.prototype.reset=function(e){typeof e>"u"?(this.resources!=null&&(this.resources=null,this.content.remove(this.dictionaryProperties.resources)),this.graphics!=null&&this.graphics.reset(this.size)):(this.setSize(e),this.reset())},a.prototype.setSize=function(e){var t=new et(new We(0,0),e),i=ft.fromRectangle(t);this.content.items.setValue(this.dictionaryProperties.bBox,i),this.templateSize=e},Object.defineProperty(a.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),a}(),ld=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),as=function(a){ld(e,a);function e(t){var i=a.call(this,t)||this;return i.properties=new tt,i}return Object.defineProperty(e.prototype,"names",{get:function(){return this.getNames()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this.pdfDocument},set:function(t){this.pdfDocument=t},enumerable:!0,configurable:!0}),e.prototype.getName=function(t){var i=t.element,s=null;if(this.names.containsKey(i)&&(s=this.names.getValue(i)),s==null){var o=this.generateName();s=new Me(o),this.names.setValue(i,s),t instanceof Vi?this.add(t,s):t instanceof zn?this.add(t,s):t instanceof Lr||t instanceof ir?this.add(t,s):t instanceof Nn?this.add(t,s):(t instanceof Ll||t instanceof Pl)&&this.add(t,s)}return s},e.prototype.getNames=function(){this.pdfNames==null&&(this.pdfNames=new kl);var t=this.items.getValue(this.dictionaryProperties.font);return t!=null&&Al.dereference(t),this.pdfNames},e.prototype.requireProcedureSet=function(t){if(t==null)throw new Error("ArgumentNullException:procedureSetName");var i=this.items.getValue(this.dictionaryProperties.procset);i==null&&(i=new ft,this.items.setValue(this.dictionaryProperties.procset,i));var s=new Me(t);i.contains(s)||i.add(s)},e.prototype.removeFont=function(t){for(var i=null,s=this.pdfNames.keys(),o=0;o<this.pdfNames.size();o++)if(this.pdfNames.getValue(s[o])===new Me(t)){i=s[o];break}i!=null&&this.pdfNames.remove(i)},e.prototype.generateName=function(){var t=hd.getNewGuidString();return t},e.prototype.add=function(t,i){if(t instanceof Vi){var s=null,o=this.items.getValue(this.dictionaryProperties.font);if(o!=null){var c=o;s=o,s=o}else s=new tt,this.items.setValue(this.dictionaryProperties.font,s);s.items.setValue(i.value,new it(t.element))}else if(t instanceof zn){var f=void 0;f=this.items.getValue(this.dictionaryProperties.xObject),f==null&&(f=new tt,this.items.setValue(this.dictionaryProperties.xObject,f)),f.items.setValue(i.value,new it(t.element))}else if(t instanceof or){if(t instanceof Lr||t instanceof ir){var m=t.element;if(m!=null){var b=this.items.getValue(this.dictionaryProperties.pattern);b==null&&(b=new tt,this.items.setValue(this.dictionaryProperties.pattern,b)),b.items.setValue(i.value,new it(m))}}}else if(t instanceof Nn){var m=t.element,S=null;S=this.items.getValue(this.dictionaryProperties.extGState),S==null&&(S=new tt,this.items.setValue(this.dictionaryProperties.extGState,S)),S.items.setValue(i.value,new it(m))}else{var f=this.Dictionary.items.getValue(this.dictionaryProperties.xObject),k=void 0;typeof this.pdfDocument<"u"&&(k=this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject)),this.Dictionary.items.values();var L=!1,I=void 0;if(typeof this.pdfDocument<"u"&&(typeof k===void 0||k==null))k=new tt,this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject,k);else if(typeof this.pdfDocument<"u")for(var _=k.items.values(),N=0;N<_.length;N++)typeof _[N]<"u"&&typeof _[N].element<"u"&&_[N].element.data[0]===t.element.data[0]&&(I=_[N],L=!0);if(f==null&&(f=new tt,this.Dictionary.items.setValue(this.dictionaryProperties.xObject,f)),L&&typeof I<"u")f.items.setValue(i.value,I);else{var c=new it(t.element);f.items.setValue(i.value,c),typeof this.pdfDocument<"u"&&k.items.setValue(i.value,c)}}},e}(tt),hd=function(){function a(){}return a.getNewGuidString=function(){return"aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa".replace(/[ab]/g,function(e){var t=Math.random()*16|0,i=e==="a"?t:t&3|8;return i.toString(16)})},a}(),cd=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ir=function(a){cd(e,a);function e(t,i){var s=a.call(this)||this;s.mStroking=!1,s.mLocation=new We(0,0),s.mDictionaryProperties=new xt;var o=null;return t instanceof Rn?o=t:t instanceof Se&&(o=new Rn(0,0,t.width,t.height)),i!==null&&i instanceof Hi&&(s.mPage=i),s.brushStream=new Kt,s.mResources=new as,s.brushStream.items.setValue(s.mDictionaryProperties.resources,s.mResources),s.setBox(o),s.setObligatoryFields(),i!==null&&i instanceof Hi&&(s.mPage=i,s.graphics.colorSpace=i.document.colorSpace),s}return e.prototype.initialize=function(t,i,s,o){this.mPage=i,this.mLocation=s,this.mTransformationMatrix=o,this.tempBrushStream=this.brushStream,this.brushStream=new Kt;var c=new as;return this.brushStream.items.setValue(this.mDictionaryProperties.resources,c),this.setBox(t),this.setObligatoryFields(),this},Object.defineProperty(e.prototype,"location",{get:function(){return this.mLocation},set:function(t){this.mLocation=t},enumerable:!0,configurable:!0}),e.prototype.setObligatoryFields=function(){if(this.brushStream.items.setValue(this.mDictionaryProperties.patternType,new Le(1)),this.brushStream.items.setValue(this.mDictionaryProperties.paintType,new Le(1)),this.brushStream.items.setValue(this.mDictionaryProperties.tilingType,new Le(1)),this.brushStream.items.setValue(this.mDictionaryProperties.xStep,new Le(this.mBox.right-this.mBox.left)),this.brushStream.items.setValue(this.mDictionaryProperties.yStep,new Le(this.mBox.bottom-this.mBox.top)),this.mPage!=null&&this.mLocation!=null)if(this.mTransformationMatrix==null&&typeof this.mTransformationMatrix>"u"){var t=this.mPage.size.height%this.rectangle.size.height-this.mLocation.y;this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new ft([1,0,0,1,this.mLocation.x,t]))}else{var t=0,i=this.mTransformationMatrix.matrix.elements;this.mPage.size.height>this.rectangle.size.height?t=this.mTransformationMatrix.matrix.offsetY-this.mPage.size.height%this.rectangle.size.height:t=this.mPage.size.height%this.rectangle.size.height+this.mTransformationMatrix.matrix.offsetY,this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new ft([i[0],i[1],i[2],i[3],i[4],t]))}},e.prototype.setBox=function(t){this.mBox=t;var i=new et(this.mBox.left,this.mBox.top,this.mBox.right,this.mBox.bottom);this.brushStream.items.setValue(this.mDictionaryProperties.bBox,ft.fromRectangle(i))},Object.defineProperty(e.prototype,"rectangle",{get:function(){return this.mBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.mBox.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){if(this.mGraphics==null&&typeof this.mGraphics>"u"){var t=new oa(this),i=new aa(this.size,t,this.brushStream);this.mGraphics=i,this.mResources=this.getResources(),this.mGraphics.initializeCoordinates()}return this.mGraphics},enumerable:!0,configurable:!0}),e.prototype.getResources=function(){return this.mResources},Object.defineProperty(e.prototype,"stroking",{get:function(){return this.mStroking},set:function(t){this.mStroking=t},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=this.initialize(this.rectangle,this.mPage,this.location,this.mTransformationMatrix);return this.mTransformationMatrix!=null&&this.mTransformationMatrix.matrix!=null&&t.brushStream.items.setValue(this.mDictionaryProperties.matrix,new ft(this.mTransformationMatrix.matrix.elements)),t.brushStream.data=this.tempBrushStream.data,t.mResources=new as(this.mResources),t.brushStream.items.setValue(this.mDictionaryProperties.resources,t.mResources),t},e.prototype.monitorChanges=function(t,i,s,o,c){var f=!1;if(t!==this){i.setColorSpace("Pattern",this.mStroking);var m=s.getResources(),b=m.getName(this);i.setColourWithPattern(null,b,this.mStroking),f=!0}else if(t instanceof e){i.setColorSpace("Pattern",this.mStroking);var S=s.getResources(),k=S.getName(this);i.setColourWithPattern(null,k,this.mStroking),f=!0}return f},e.prototype.resetChanges=function(t){},Object.defineProperty(e.prototype,"element",{get:function(){return this.brushStream},enumerable:!0,configurable:!0}),e}(or),aa=function(){function a(e,t,i){this.currentColorSpace=ht.Rgb,this.previousTextRenderingMode=Ei.Fill,this.previousCharacterSpacing=0,this.previousWordSpacing=0,this.previousTextScaling=100,this.procedureSets=new Bu,this.isNormalRender=!0,this.isUseFontSize=!1,this.isItalic=!1,this.isEmfTextScaled=!1,this.isEmf=!1,this.isEmfPlus=!1,this.isBaselineFormat=!0,this.emfScalingFactor=new Se(0,0),this.colorSpaceChanged=!1,this.dictionaryProperties=new xt,this.isOverloadWithPosition=!1,this.isPointOverload=!1,this.currentColorSpaces=["RGB","CMYK","GrayScale","Indexed"],this.isImageOptimized=!1,this.graphicsState=[],this.istransparencySet=!1,this.internalAutomaticFields=null,this.startCutIndex=-1,this.getResources=t,this.canvasSize=e,i instanceof Ja?this.pdfStreamWriter=i:this.pdfStreamWriter=new Ja(i),this.initialize()}return Object.defineProperty(a.prototype,"stringLayoutResult",{get:function(){return this.pdfStringLayoutResult},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this.canvasSize},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"mediaBoxUpperRightBound",{get:function(){return typeof this.internalMediaBoxUpperRightBound>"u"&&(this.internalMediaBoxUpperRightBound=0),this.internalMediaBoxUpperRightBound},set:function(e){this.internalMediaBoxUpperRightBound=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clientSize",{get:function(){return new Se(this.clipBounds.width,this.clipBounds.height)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"colorSpace",{get:function(){return this.currentColorSpace},set:function(e){this.currentColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"streamWriter",{get:function(){return this.pdfStreamWriter},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"matrix",{get:function(){return this.transformationMatrix==null&&(this.transformationMatrix=new wi),this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"layer",{get:function(){return this.pageLayer},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"page",{get:function(){return this.pageLayer.page},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"automaticFields",{get:function(){return(this.internalAutomaticFields==null||typeof this.internalAutomaticFields>"u")&&(this.internalAutomaticFields=new Du),this.internalAutomaticFields},enumerable:!0,configurable:!0}),a.prototype.initialize=function(){this.bStateSaved=!1,this.currentPen=null,this.currentBrush=null,this.currentFont=null,this.currentColorSpace=ht.Rgb,this.bCSInitialized=!1,this.transformationMatrix=null,this.previousTextRenderingMode=-1,this.previousCharacterSpacing=-1,this.previousWordSpacing=-1,this.previousTextScaling=-100,this.currentStringFormat=null,this.clipBounds=new et(new We(0,0),this.size),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)},a.prototype.drawPdfTemplate=function(e,t,i){if(typeof i>"u"){if(e==null)throw Error("ArgumentNullException-template");this.drawPdfTemplate(e,t,e.size)}else{if(e==null)throw Error("ArgumentNullException-template");var s=e.width>0?i.width/e.width:1,o=e.height>0?i.height/e.height:1,c=!(s===1&&o===1),f=this.save(),m=new wi;this.pageLayer!=null&&this.getTranslateTransform(t.x,t.y+i.height,m),c&&this.getScaleTransform(s,o,m),this.pdfStreamWriter.modifyCtm(m);var b=this.getResources.getResources(),S=b.getName(e);this.pdfStreamWriter.executeObject(S),this.restore(f);var k=e.graphics;if(k!=null)for(var L=0;L<k.automaticFields.automaticFields.length;L++){var I=k.automaticFields.automaticFields[L],_=new We(I.location.x+t.x,I.location.y+t.y),N=e.size.width==0?0:i.width/e.size.width,U=e.size.height==0?0:i.height/e.size.height;this.automaticFields.add(new Tl(I.field,_,N,U)),this.page.dictionary.modify()}this.getResources.getResources().requireProcedureSet(this.procedureSets.imageB),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageC),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageI),this.getResources.getResources().requireProcedureSet(this.procedureSets.text)}},a.prototype.drawString=function(e,t,i,s,o,c,f,m,b){if(typeof e=="string"&&t instanceof Vi&&(i instanceof Es||i===null)&&(s instanceof or||s===null)&&typeof o=="number"&&typeof c=="number"&&(f instanceof zs||f===null)&&typeof m>"u")this.isOverloadWithPosition=!0,this.drawString(e,t,i,s,o,c,this.clientSize.width-o,0,f);else{var S=i,k=s,L=o,I=c,_=f,N=m,U=b,Z=new na,V=Z.layout(e,t,U,new Se(_,N),this.isOverloadWithPosition,this.clientSize);if(!V.empty){var $=this.checkCorrectLayoutRectangle(V.actualSize,L,I,U);_<=0&&(L=$.x,_=$.width),N<=0&&(I=$.y,N=$.height),this.drawStringLayoutResult(V,t,S,k,new et(L,I,_,N),U),this.isEmfTextScaled=!1,this.emfScalingFactor=new Se(0,0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),this.isNormalRender=!0,this.pdfStringLayoutResult=V,this.isUseFontSize=!1}},a.prototype.drawLine=function(e,t,i,s,o){if(t instanceof We){var c=t,f=i;this.drawLine(e,c.x,c.y,f.x,f.y)}else{var c=t,f=i,m=s,b=o;this.stateControl(e,null,null);var S=this.streamWriter;S.beginPath(c,f),S.appendLineSegment(m,b),S.strokePath(),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)}},a.prototype.drawRectangle=function(e,t,i,s,o,c){if(e instanceof Es&&typeof t=="number"){var f=i;this.drawRectangle(e,null,t,f,s,o)}else if(e instanceof or&&typeof t=="number"){var f=i;this.drawRectangle(null,e,t,f,s,o)}else{var f=i,m=s,b=o,S=c;if(t instanceof ir){this.bCSInitialized=!1;var k=this.matrix.matrix.offsetX+f,L=void 0;this.layer!=null&&this.layer.page!=null?L=this.layer.page.size.height-this.matrix.matrix.offsetY+m:L=this.clientSize.height-this.matrix.matrix.offsetY+m,t.location=new We(k,L),t.graphics.colorSpace=this.colorSpace}else t instanceof Lr&&(t.colorSpace=this.colorSpace);t instanceof Dr&&t.color.isEmpty&&(t=null);var I=e,_=t;this.stateControl(I,_,null),this.streamWriter.appendRectangle(f,m,b,S),this.drawPathHelper(I,_,!1)}},a.prototype.drawRoundedRectangle=function(e,t,i,s,o,c,f){if(e===null)throw new Error("pen");if(t===null)throw new Error("brush");if(f===0)this.drawRectangle(e,t,i,s,o,c);else{var m=[i,s,o,c],b=f*2,S=[b,b],k=[m[0],m[1],S[0],S[1]];this._pathPoints=[],this._pathTypes=[];var L=!0;L=this._addArc(k[0],k[1],k[2],k[3],180,90,L),k[0]=m[0]+m[2]-b,L=this._addArc(k[0],k[1],k[2],k[3],270,90,L),k[1]=m[1]+m[3]-b,L=this._addArc(k[0],k[1],k[2],k[3],0,90,L),k[0]=m[0],L=this._addArc(k[0],k[1],k[2],k[3],90,90,L);var I=this._pathPoints.length-1,_=this._pathTypes[I];_=_|Jt.CloseSubpath,this._pathTypes[I]=_,this._drawPath(e,t,this._pathPoints,this._pathTypes,Ki.Alternate),this._pathPoints=[],this._pathTypes=[]}},a.prototype._addArc=function(e,t,i,s,o,c,f){for(var m=this._getBezierArcPoints(e,t,e+i,t+s,o,c),b=0;b<m.length;b=b+8){var S=[m[b],m[b+1],m[b+2],m[b+3],m[b+4],m[b+5],m[b+6],m[b+7]];f=this._addArcPoints(S,Jt.Bezier3,f)}return f},a.prototype._addArcPoints=function(e,t,i){for(var s=0;s<e.length;s++){var o=new We(e[s],e[s+1]);s===0?this._pathPoints.length===0||i?(this._addPoint(o,Jt.Start),i=!1):(o.x!==this._getLastPoint().x||o.y!==this._getLastPoint().y)&&this._addPoint(o,Jt.Line):this._addPoint(o,t),s++}return i},a.prototype._getLastPoint=function(){var e=new We(0,0),t=this._pathPoints.length;return t>0&&(e.x=this._pathPoints[t-1].x,e.y=this._pathPoints[t-1].y),e},a.prototype._addPoint=function(e,t){this._pathPoints.push(e),this._pathTypes.push(t)},a.prototype._getBezierArcPoints=function(e,t,i,s,o,c){if(e>i){var f=void 0;f=e,e=i,i=f}if(s>t){var f=void 0;f=t,t=s,s=f}var m,b;Math.abs(c)<=90?(m=c,b=1):(b=Math.ceil(Math.abs(c)/90),m=c/b);for(var S=(e+i)/2,k=(t+s)/2,L=(i-e)/2,I=(s-t)/2,_=m*(Math.PI/360),N=Math.abs(4/3*(1-Math.cos(_))/Math.sin(_)),U=[],Z=0;Z<b;Z++){var V=(o+Z*m)*(Math.PI/180),$=(o+(Z+1)*m)*(Math.PI/180),Q=Math.cos(V),H=Math.cos($),re=Math.sin(V),ie=Math.sin($);m>0?U.push(S+L*Q,k-I*re,S+L*(Q-N*re),k-I*(re+N*Q),S+L*(H+N*ie),k-I*(ie-N*H),S+L*H,k-I*ie):U.push(S+L*Q,k-I*re,S+L*(Q+N*re),k-I*(re-N*Q),S+L*(H-N*ie),k-I*(ie+N*H),S+L*H,k-I*ie)}return U},a.prototype.drawPathHelper=function(e,t,i,s){if(typeof i=="boolean"){var o=i;this.drawPathHelper(e,t,Ki.Winding,o)}else{var o=i,c=e!=null,f=t!=null,m=o===Ki.Alternate;c&&f?this.streamWriter.fillStrokePath(m):!c&&!f?this.streamWriter.endPath():c?this.streamWriter.strokePath():this.streamWriter.fillPath(m)}},a.prototype.drawImage=function(e,t,i,s,o){if(typeof t=="number"&&typeof i=="number"&&typeof s>"u"){var c=e.physicalDimension;this.drawImage(e,t,i,c.width,c.height)}else{var f=t,m=i,b=o;e.save();var S=new wi;this.getTranslateTransform(f,m+b,S),this.getScaleTransform(s,o,S),this.pdfStreamWriter.write("q"),this.pdfStreamWriter.modifyCtm(S);var k=this.getResources.getResources();typeof this.pageLayer<"u"&&this.page!=null&&(k.document=this.page.document);var L=k.getName(e);typeof this.pageLayer<"u"&&this.page.setResources(k),this.pdfStreamWriter.executeObject(L),this.pdfStreamWriter.write(oe.restoreState),this.pdfStreamWriter.write(oe.newLine);var I=this.getResources.getResources();I.requireProcedureSet(this.procedureSets.imageB),I.requireProcedureSet(this.procedureSets.imageC),I.requireProcedureSet(this.procedureSets.imageI),I.requireProcedureSet(this.procedureSets.text)}},a.prototype.getLineBounds=function(e,t,i,s,o){var c;if(!t.empty&&e<t.lineCount&&e>=0){var f=t.lines[e],m=this.getTextVerticalAlignShift(t.actualSize.height,s.height,o),b=m+s.y+t.lineHeight*e,S=f.width,k=this.getHorizontalAlignShift(S,s.width,o),L=this.getLineIndent(f,o,s,e===0);k+=this.rightToLeft(o)?0:L;var I=s.x+k,_=this.shouldJustify(f,s.width,o)?s.width-L:S-L,N=t.lineHeight;c=new et(I,b,_,N)}else c=new et(0,0,0,0);return c},a.prototype.checkCorrectLayoutRectangle=function(e,t,i,s){var o=new et(t,i,e.width,e.width);if(s!=null){switch(s.alignment){case di.Center:o.x-=o.width/2;break;case di.Right:o.x-=o.width;break}switch(s.lineAlignment){case zi.Middle:o.y-=o.height/2;break;case zi.Bottom:o.y-=o.height;break}}return o},a.prototype.setLayer=function(e){this.pageLayer=e;var t=e.page;t!=null&&typeof t<"u"&&(t.beginSave=this.pageSave)},a.prototype.pageSave=function(e){if(e.graphics.automaticFields!=null)for(var t=0;t<e.graphics.automaticFields.automaticFields.length;t++){var i=e.graphics.automaticFields.automaticFields[t];i.field.performDraw(e.graphics,i.location,i.scalingX,i.scalingY)}},a.prototype.drawStringLayoutResult=function(e,t,i,s,o,c){if(e.empty)throw new Error("ArgumentNullException:result");this.applyStringSettings(t,i,s,c,o);var f=c!=null?c.horizontalScalingFactor:100;f!==this.previousTextScaling&&!this.isEmfTextScaled&&(this.pdfStreamWriter.setTextScaling(f),this.previousTextScaling=f);var m=c==null||c.lineSpacing===0?t.height:c.lineSpacing+t.height,b=c!=null&&c.subSuperScript===_i.SubScript,S=0;S=b?m-(t.height+t.metrics.getDescent(c)):m-t.metrics.getAscent(c),this.shift=S,this.pdfStreamWriter.startNextLine(o.x,o.y-S),this.pdfStreamWriter.setLeading(+m);for(var k=0,L="",I=0;I<e.lines.length;I++)if(k+=e.lineHeight,o.y+k>this.clientSize.height){this.startCutIndex=I;break}for(var _=this.startCutIndex;_<e.lines.length&&_>=0;_++)L+=e.lines[_].text;var N=new et(o.x,o.y,o.width,o.height);if(this.drawLayoutResult(e,t,c,o),this.underlineStrikeoutText(i,s,e,t,N,c),this.isEmfPlus=!1,this.isUseFontSize=!1,this.startCutIndex!==-1){var U=this.getNextPage();U.graphics.drawString(L,t,i,s,o.x,0,o.width,0,c)}},a.prototype.getNextPage=function(){var e=this.currentPage.section,t=null,i=e.indexOf(this.currentPage);return i===e.count-1?t=e.add():t=e.getPages()[i+1],t},a.prototype.setClip=function(e,t){typeof t>"u"?this.setClip(e,Ki.Winding):(this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.clipPath(t===Ki.Alternate))},a.prototype.applyStringSettings=function(e,t,i,s,o){i instanceof ir?(this.bCSInitialized=!1,i.graphics.colorSpace=this.colorSpace):i instanceof Lr&&(this.bCSInitialized=!1,i.colorSpace=this.colorSpace);var c=this.getTextRenderingMode(t,i,s);this.stateControl(t,i,e,s),this.pdfStreamWriter.beginText(),c!==this.previousTextRenderingMode&&(this.pdfStreamWriter.setTextRenderingMode(c),this.previousTextRenderingMode=c);var f=s!=null?s.characterSpacing:0;f!==this.previousCharacterSpacing&&!this.isEmfTextScaled&&(this.pdfStreamWriter.setCharacterSpacing(f),this.previousCharacterSpacing=f);var m=s!=null?s.wordSpacing:0;m!==this.previousWordSpacing&&(this.pdfStreamWriter.setWordSpacing(m),this.previousWordSpacing=m)},a.prototype.getTextVerticalAlignShift=function(e,t,i){var s=0;if(t>=0&&i!=null&&i.lineAlignment!==zi.Top)switch(i.lineAlignment){case zi.Middle:s=(t-e)/2;break;case zi.Bottom:s=t-e;break}return s},a.prototype.drawLayoutResult=function(e,t,i,s){var o=this.getTextVerticalAlignShift(e.actualSize.height,s.height,i);o!==0&&this.pdfStreamWriter.startNextLine(0,o);var c=t,f=c!=null&&c.isUnicode;c!=null&&c.isEmbedFont;for(var m=e.lines,b=0,S=m.length;b<S&&b!==this.startCutIndex;b++){var k=m[b];k.text;var L=k.width,I=this.getHorizontalAlignShift(L,s.width,i),_=this.getLineIndent(k,i,s,b===0);I+=this.rightToLeft(i)?0:_,I!==0&&!this.isEmfTextScaled&&this.pdfStreamWriter.startNextLine(I,0),f?this.drawUnicodeLine(k,s,t,i):this.drawAsciiLine(k,s,t,i),I!==0&&!this.isEmfTextScaled&&this.pdfStreamWriter.startNextLine(-I,0),this.isOverloadWithPosition&&m.length>1&&(this.pdfStreamWriter.startNextLine(-s.x,0),s.x=0,s.width=this.clientSize.width,this.isOverloadWithPosition=!1,this.isPointOverload=!0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),o!==0&&this.pdfStreamWriter.startNextLine(0,-(o-e.lineHeight)),this.pdfStreamWriter.endText()},a.prototype.drawAsciiLine=function(e,t,i,s){this.justifyLine(e,t.width,s);var o="";if(e.text.indexOf("(")!==-1||e.text.indexOf(")")!==-1)for(var c=0;c<e.text.length;c++)e.text[c]==="("?o+="\\(":e.text[c]===")"?o+="\\)":o+=e.text[c];o===""&&(o=e.text);var f="("+o+")";this.pdfStreamWriter.showNextLineText(new Xt(f))},a.prototype.drawUnicodeLine=function(e,t,i,s){var o=e.text;e.width;var c=s!==null&&typeof s<"u"&&s.rightToLeft,f=s!==null&&typeof s<"u"&&(s.wordSpacing!==0||s.alignment===di.Justify),m=i,b=this.justifyLine(e,t.width,s),S=new ad;if(c||s!==null&&typeof s<"u"&&s.textDirection!==vi.None){var k=null,L=s!==null&&typeof s<"u"&&s.alignment===di.Right;s!==null&&typeof s<"u"&&s.textDirection!==vi.None?k=S.layout(o,m,s.textDirection===vi.RightToLeft,f,s):k=S.layout(o,m,L,f,s);var I=null;k.length>1?s!==null&&typeof s<"u"&&s.textDirection!==vi.None?I=S.splitLayout(o,m,s.textDirection===vi.RightToLeft,f,s):I=S.splitLayout(o,m,L,f,s):I=[o],this.drawUnicodeBlocks(k,I,m,s,b)}else if(f){var _=this.breakUnicodeLine(o,m,null),k=_.tokens,I=_.words;this.drawUnicodeBlocks(k,I,m,s,b)}else{var N=this.convertToUnicode(o,m),U=this.getUnicodeString(N);this.streamWriter.showNextLineText(U)}},a.prototype.drawUnicodeBlocks=function(e,t,i,s,o){if(e==null)throw new Error("Argument Null Exception : blocks");if(t==null)throw new Error("Argument Null Exception : words");if(i==null)throw new Error("Argument Null Exception : font");this.streamWriter.startNextLine();var c=0,f=0,m=0,b=0;try{s!==null&&typeof s<"u"&&(m=s.firstLineIndent,b=s.paragraphIndent,s.firstLineIndent=0,s.paragraphIndent=0);var S=i.getCharWidth(Zt.whiteSpace,s)+o,k=s!=null?s.characterSpacing:0,L=s!==null&&typeof s<"u"&&o===0?s.wordSpacing:0;S+=k+L;for(var I=0;I<e.length;I++){var _=e[I],N=t[I],U=0;if(c!==0&&this.streamWriter.startNextLine(c,0),N.length>0){U+=i.measureString(N,s).width,U+=k;var Z=this.getUnicodeString(_);this.streamWriter.showText(Z)}I!==e.length-1&&(c=U+S,f+=c)}f>0&&this.streamWriter.startNextLine(-f,0)}finally{s!==null&&typeof s<"u"&&(s.firstLineIndent=m,s.paragraphIndent=b)}},a.prototype.breakUnicodeLine=function(e,t,i){if(e===null)throw new Error("Argument Null Exception : line");i=e.split(null);for(var s=[],o=0;o<i.length;o++){var c=i[o],f=this.convertToUnicode(c,t);s[o]=f}return{tokens:s,words:i}},a.prototype.getUnicodeString=function(e){if(e===null)throw new Error("Argument Null Exception : token");var t=new Xt(e);return t.converted=!0,t.encode=cs.ForceEncoding.Ascii,t},a.prototype.convertToUnicode=function(e,t){var i=null;if(e==null)throw new Error("Argument Null Exception : text");if(t==null)throw new Error("Argument Null Exception : ttfFont");if(t.fontInternal instanceof rd){var s=t.fontInternal.ttfReader;t.setSymbols(e),i=s.convertString(e);var o=Xt.toUnicodeArray(i,!1);i=Xt.byteToString(o)}return i},a.prototype.justifyLine=function(e,t,i){var s=e.text,o=e.width,c=this.shouldJustify(e,t,i),f=i!=null&&i.wordSpacing!==0,m=Zt.spaces,b=Zt.getCharsCount(s,m),S=0;if(c){f&&(o-=b*i.wordSpacing);var k=t-o;S=k/b,this.pdfStreamWriter.setWordSpacing(S)}else f?this.pdfStreamWriter.setWordSpacing(i.wordSpacing):this.pdfStreamWriter.setWordSpacing(0);return S},a.prototype.reset=function(e){this.canvasSize=e,this.streamWriter.clear(),this.initialize(),this.initializeCoordinates()},a.prototype.shouldJustify=function(e,t,i){var s=e.text,o=e.width,c=i!=null&&i.alignment===di.Justify,f=t>=0&&o<t,m=Zt.spaces,b=Zt.getCharsCount(s,m),S=b>0&&s[0]!==Zt.whiteSpace,k=(e.lineType&ai.LayoutBreak)>0,L=c&&f&&S&&(k||i.alignment===di.Justify);return L},a.prototype.underlineStrikeoutText=function(e,t,i,s,o,c){if(s.underline||s.strikeout){var f=this.createUnderlineStikeoutPen(e,t,s,c);if(f!=null){var m=this.getTextVerticalAlignShift(i.actualSize.height,o.height,c),b=0;b=o.y+m+s.metrics.getAscent(c)+1.5*f.width;for(var S=o.y+m+s.metrics.getHeight(c)/2+1.5*f.width,k=i.lines,L=0,I=i.lineCount;L<I;L++){var _=k[L];_.text;var N=_.width,U=this.getHorizontalAlignShift(N,o.width,c),Z=this.getLineIndent(_,c,o,L===0);U+=this.rightToLeft(c)?0:Z;var V=o.x+U,$=this.shouldJustify(_,o.width,c)?V+o.width-Z:V+N-Z;if(s.underline){var Q=b;this.drawLine(f,V,Q,$,Q),b+=i.lineHeight}if(s.strikeout){var Q=S;this.drawLine(f,V,Q,$,Q),S+=i.lineHeight}this.isPointOverload&&k.length>1&&(o.x=0,o.width=this.clientSize.width)}this.isPointOverload=!1}}},a.prototype.createUnderlineStikeoutPen=function(e,t,i,s){var o=i.metrics.getSize(s)/20,c=null;return e!=null?c=new Es(e.color,o):t!=null&&(c=new Es(t,o)),c},a.prototype.getTextRenderingMode=function(e,t,i){var s=Ei.None;return e!=null&&t!=null?s=Ei.FillStroke:e!=null?s=Ei.Stroke:s=Ei.Fill,i!=null&&i.clipPath&&(s|=Ei.ClipFlag),s},a.prototype.getLineIndent=function(e,t,i,s){var o=0,c=(e.lineType&ai.FirstParagraphLine)>0;return t!=null&&c&&(o=s?t.firstLineIndent:t.paragraphIndent,o=i.width>0?Math.min(i.width,o):o),o},a.prototype.getHorizontalAlignShift=function(e,t,i){var s=0;if(t>=0&&i!=null&&i.alignment!==di.Left)switch(i.alignment){case di.Center:s=(t-e)/2;break;case di.Right:s=t-e;break}return s},a.prototype.rightToLeft=function(e){var t=e!==null&&typeof e<"u"&&e.rightToLeft;return e!==null&&typeof e<"u"&&e.textDirection!==vi.None&&typeof e.textDirection<"u"&&(t=!0),t},a.prototype.stateControl=function(e,t,i,s){if(typeof s>"u")this.stateControl(e,t,i,null);else{t instanceof Lr&&(this.bCSInitialized=!1,t.colorSpace=this.colorSpace),t instanceof ir&&(this.bCSInitialized=!1,t.graphics.colorSpace=this.colorSpace);var o=!1;t!==null?(typeof this.pageLayer<"u"&&this.pageLayer!=null&&this.colorSpaceChanged===!1&&(this.lastDocumentCS=this.pageLayer.page.document.colorSpace,this.lastGraphicsCS=this.pageLayer.page.graphics.colorSpace,this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace,this.colorSpaceChanged=!0),this.initCurrentColorSpace(this.currentColorSpace)):e!=null&&(typeof this.pageLayer<"u"&&this.pageLayer!=null&&(this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace),this.initCurrentColorSpace(this.currentColorSpace)),this.penControl(e,o),this.brushControl(t,o),this.fontControl(i,s,o)}},a.prototype.initCurrentColorSpace=function(e){this.getResources.getResources(),this.bCSInitialized||(this.currentColorSpace!=ht.GrayScale?(this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!0),this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!1),this.bCSInitialized=!0):(this.pdfStreamWriter.setColorSpace("DeviceGray",!0),this.pdfStreamWriter.setColorSpace("DeviceGray",!1),this.bCSInitialized=!0))},a.prototype.penControl=function(e,t){e!=null&&(this.currentPen=e,e.monitorChanges(this.currentPen,this.pdfStreamWriter,this.getResources,t,this.colorSpace,this.matrix.clone()),this.currentPen=e.clone())},a.prototype.brushControl=function(e,t){if(e!=null&&typeof e<"u"){var i=e.clone(),s=i;if(s!==null&&typeof s<"u"&&!(e instanceof Dr)&&!(e instanceof ir)){var o=s.matrix,c=this.matrix.clone();o!=null&&(o.multiply(c),c=o),s.matrix=c}this.currentBrush=s,i.monitorChanges(this.currentBrush,this.pdfStreamWriter,this.getResources,t,this.colorSpace),this.currentBrush=e,e=null}},a.prototype.fontControl=function(e,t,i){if(e!=null){var s=t!=null?t.subSuperScript:_i.None,o=this.currentStringFormat!=null?this.currentStringFormat.subSuperScript:_i.None;if(i||e!==this.currentFont||s!==o){var c=this.getResources.getResources();this.currentFont=e,this.currentStringFormat=t;var f=e.metrics.getSize(t);this.isEmfTextScaled=!1;var m=c.getName(e);this.pdfStreamWriter.setFont(e,m,f)}}},a.prototype.setTransparency=function(e,t,i){if(typeof t>"u")this.istransparencySet=!0,this.setTransparency(e,e,Ys.Normal);else if(typeof t=="number"&&typeof i>"u")this.setTransparency(e,t,Ys.Normal);else{this.trasparencies==null&&(this.trasparencies=new kl);var s=null,o=new dd(e,t,i);this.trasparencies.containsKey(o)&&(s=this.trasparencies.getValue(o)),s==null&&(s=new Nn(e,t,i),this.trasparencies.setValue(o,s));var c=this.getResources.getResources(),f=c.getName(s),m=this.streamWriter;m.setGraphicsState(f)}},a.prototype.clipTranslateMargins=function(e,t,i,s,o,c){if(e instanceof et&&typeof t>"u")this.clipBounds=e,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(e),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e.x,e.y);else if(typeof e=="number"){var f=new et(i,s,this.size.width-i-o,this.size.height-s-c);this.clipBounds=f,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(f),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(e,t)}},a.prototype.updateY=function(e){return-e},a.prototype.translateTransform=function(e,t){var i=new wi;this.getTranslateTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},a.prototype.getTranslateTransform=function(e,t,i){return i.translate(e,this.updateY(t)),i},a.prototype.scaleTransform=function(e,t){var i=new wi;this.getScaleTransform(e,t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)},a.prototype.getScaleTransform=function(e,t,i){return i==null&&(i=new wi),i.scale(e,t),i},a.prototype.rotateTransform=function(e){var t=new wi;this.getRotateTransform(e,t),this.pdfStreamWriter.modifyCtm(t),this.matrix.multiply(t)},a.prototype.initializeCoordinates=function(){this.pdfStreamWriter.writeComment("Change co-ordinate system to left/top."),this.mediaBoxUpperRightBound!==-this.size.height&&this.cropBox==null&&(this.mediaBoxUpperRightBound===this.size.height||this.mediaBoxUpperRightBound===0?this.translateTransform(0,this.updateY(this.size.height)):this.translateTransform(0,this.updateY(this.mediaBoxUpperRightBound)))},a.prototype.getRotateTransform=function(e,t){return(t==null||typeof t>"u")&&(t=new wi),t.rotate(this.updateY(e)),t},a.prototype.save=function(){var e=new ud(this,this.matrix.clone());return e.brush=this.currentBrush,e.pen=this.currentPen,e.font=this.currentFont,e.colorSpace=this.currentColorSpace,e.characterSpacing=this.previousCharacterSpacing,e.wordSpacing=this.previousWordSpacing,e.textScaling=this.previousTextScaling,e.textRenderingMode=this.previousTextRenderingMode,this.graphicsState.push(e),this.pdfStreamWriter.saveGraphicsState(),e},a.prototype.restore=function(e){if(typeof e>"u")this.graphicsState.length>0&&this.doRestoreState();else if(this.graphicsState.indexOf(e)!==-1)for(;this.graphicsState.length!==0;){var t=this.doRestoreState();if(t===e)break}},a.prototype.doRestoreState=function(){var e=this.graphicsState.pop();return this.transformationMatrix=e.matrix,this.currentBrush=e.brush,this.currentPen=e.pen,this.currentFont=e.font,this.currentColorSpace=e.colorSpace,this.previousCharacterSpacing=e.characterSpacing,this.previousWordSpacing=e.wordSpacing,this.previousTextScaling=e.textScaling,this.previousTextRenderingMode=e.textRenderingMode,this.pdfStreamWriter.restoreGraphicsState(),e},a.prototype.drawPath=function(e,t,i){this._drawPath(e,t,i.pathPoints,i.pathTypes,i.fillMode)},a.prototype._drawPath=function(e,t,i,s,o){t instanceof ir?(this.bCSInitialized=!1,t.graphics.colorSpace=this.colorSpace):t instanceof Lr&&(this.bCSInitialized=!1,t.colorSpace=this.colorSpace),this.stateControl(e,t,null),this.buildUpPath(i,s),this.drawPathHelper(e,t,o,!1)},a.prototype.drawArc=function(e,t,i,s,o,c,f){t instanceof et?this.drawArc(e,t.x,t.y,t.width,t.height,i,s):f!==0&&(this.stateControl(e,null,null),this.constructArcPath(t,i,t+s,i+o,c,f),this.drawPathHelper(e,null,!1))},a.prototype.buildUpPath=function(e,t){for(var i=e.length,s=0;s<i;++s){var o=0,c=e[s];switch(t[s]&a.pathTypesValuesMask){case Jt.Start:this.pdfStreamWriter.beginPath(c.x,c.y);break;case Jt.Bezier3:var f=new We(0,0),m=new We(0,0),b=this.getBezierPoints(e,t,s,f,m);this.pdfStreamWriter.appendBezierSegment(c,b.p2,b.p3),s=b.i;break;case Jt.Line:this.pdfStreamWriter.appendLineSegment(c);break;default:throw new Error("ArithmeticException - Incorrect path formation.")}o=t[s],this.checkFlags(o)}},a.prototype.getBezierPoints=function(e,t,i,s,o){if(++i,(t[i]&a.pathTypesValuesMask)===Jt.Bezier3)if(s=e[i],++i,(t[i]&a.pathTypesValuesMask)===Jt.Bezier3)o=e[i];else throw new Error("ArgumentException : errorMsg");else throw new Error("ArgumentException : errorMsg");return{i,p2:s,p3:o}},a.prototype.checkFlags=function(e){(e&Jt.CloseSubpath)===Jt.CloseSubpath&&this.pdfStreamWriter.closePath()},a.prototype.constructArcPath=function(e,t,i,s,o,c){var f=this.getBezierArc(e,t,i,s,o,c);if(f.length!==0){var m=[f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7]];this.pdfStreamWriter.beginPath(m[0],m[1]);var b=0;for(b=0;b<f.length;b=b+8)m=[f[b],f[b+1],f[b+2],f[b+3],f[b+4],f[b+5],f[b+6],f[b+7]],this.pdfStreamWriter.appendBezierSegment(m[2],m[3],m[4],m[5],m[6],m[7])}},a.prototype.getBezierArc=function(e,t,i,s,o,c){if(e>i){var f=void 0;f=e,e=i,i=f}if(s>t){var f=void 0;f=t,t=s,s=f}var m,b;Math.abs(c)<=90?(m=c,b=1):(b=Math.ceil(Math.abs(c)/90),m=c/b);for(var S=(e+i)/2,k=(t+s)/2,L=(i-e)/2,I=(s-t)/2,_=m*(Math.PI/360),N=Math.abs(4/3*(1-Math.cos(_))/Math.sin(_)),U=[],Z=0;Z<b;Z++){var V=(o+Z*m)*(Math.PI/180),$=(o+(Z+1)*m)*(Math.PI/180),Q=Math.cos(V),H=Math.cos($),re=Math.sin(V),ie=Math.sin($);m>0?U.push(S+L*Q,k-I*re,S+L*(Q-N*re),k-I*(re+N*Q),S+L*(H+N*ie),k-I*(ie-N*H),S+L*H,k-I*ie):U.push(S+L*Q,k-I*re,S+L*(Q+N*re),k-I*(re-N*Q),S+L*(H-N*ie),k-I*(ie+N*H),S+L*H,k-I*ie)}return U},a.pathTypesValuesMask=15,a.transparencyObject=!1,a}(),oa=function(){function a(e){this.sender=e}return a.prototype.getResources=function(){return this.sender.getResources()},a}(),ud=function(){function a(e,t){if(this.internalTextRenderingMode=Ei.Fill,this.internalCharacterSpacing=0,this.internalWordSpacing=0,this.internalTextScaling=100,this.pdfColorSpace=ht.Rgb,typeof e<"u"){this.pdfGraphics=e;var i=[];e.matrix.matrix.elements.forEach(function(s){i.push(s)}),this.transformationMatrix=new wi,this.transformationMatrix.matrix=new Fn(i)}}return Object.defineProperty(a.prototype,"graphics",{get:function(){return this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"matrix",{get:function(){return this.transformationMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"characterSpacing",{get:function(){return this.internalCharacterSpacing},set:function(e){this.internalCharacterSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"wordSpacing",{get:function(){return this.internalWordSpacing},set:function(e){this.internalWordSpacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"textScaling",{get:function(){return this.internalTextScaling},set:function(e){this.internalTextScaling=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pen",{get:function(){return this.pdfPen},set:function(e){this.pdfPen=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"brush",{get:function(){return this.pdfBrush},set:function(e){this.pdfBrush=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"font",{get:function(){return this.pdfFont},set:function(e){this.pdfFont=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(e){this.pdfColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"textRenderingMode",{get:function(){return this.internalTextRenderingMode},set:function(e){this.internalTextRenderingMode=e},enumerable:!0,configurable:!0}),a}(),dd=function(){function a(e,t,i){this.alphaPen=e,this.alphaBrush=t,this.blendMode=i}return a}(),qs=function(){function a(e,t){if(this.pdfColorSpace=ht.Rgb,this.isVisible=!0,this.sublayer=!1,this.contentLength=0,this.dictionaryProperties=new xt,e===null)throw new Error("ArgumentNullException:page");if(this.pdfPage=e,this.clipPageTemplates=!0,typeof t>"u")this.content=new Kt;else if(t instanceof Kt||t===null){if(t===null)throw new Error("ArgumentNullException:stream");this.content=t}else this.content=new Kt,this.clipPageTemplates=t}return Object.defineProperty(a.prototype,"colorSpace",{get:function(){return this.pdfColorSpace},set:function(e){this.pdfColorSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"layerId",{get:function(){return this.layerid},set:function(e){this.layerid=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this.layerName},set:function(e){this.layerName=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"visible",{get:function(){return this.isVisible},set:function(e){this.isVisible=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"graphics",{get:function(){return this.pdfGraphics==null&&this.initializeGraphics(this.page),this.pdfGraphics},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"layers",{get:function(){return this.layer==null?(this.layer=new Ml(this.page),this.layer.sublayer=!0,this.layer):this.layer},enumerable:!0,configurable:!0}),a.prototype.add=function(){var e=new a(this.pdfPage);return e.name="",e},a.prototype.sign=function(e){return e===0?0:e>0?1:-1},a.prototype.initializeGraphics=function(e){var t=e,i=new oa(this.page);if(this.pdfGraphics=new aa(e.size,i,this.content),this.pdfGraphics.mediaBoxUpperRightBound=0,t!=null){var s=t.section.parent;s!=null&&(this.pdfGraphics.colorSpace=s.document.colorSpace,this.colorSpace=s.document.colorSpace)}var o=this.sign(e.origin.y)===this.sign(e.origin.x);(e.origin.x>=0&&e.origin.y>=0||!o)&&this.pdfGraphics.initializeCoordinates();var c=t.section.getActualBounds(t,!0),f=t.section.pageSettings.margins;this.clipPageTemplates?e.origin.x>=0&&e.origin.y>=0&&this.pdfGraphics.clipTranslateMargins(c):this.graphics.clipTranslateMargins(c.x,c.y,f.left,f.top,f.right,f.bottom),this.pdfGraphics.setLayer(this)},Object.defineProperty(a.prototype,"element",{get:function(){return this.content},enumerable:!0,configurable:!0}),a}(),fd=function(){function a(){}return Object.defineProperty(a.prototype,"count",{get:function(){return typeof this.collection>"u"&&(this.collection=[]),this.collection.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"list",{get:function(){return typeof this.collection>"u"&&(this.collection=[]),this.collection},enumerable:!0,configurable:!0}),a}(),pd=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ml=function(a){pd(e,a);function e(t){var i=a.call(this)||this;if(i.parentLayerCount=0,i.sublayer=!1,i.optionalContent=new tt,t instanceof Ol){i.page=t;var s=t;i.parseLayers(s)}return i}return e.prototype.items=function(t,i){if(typeof t=="number"&&typeof i>"u"){var s=this.list[t];return s}else{if(i==null)throw new Error("ArgumentNullException: layer");if(i.page!==this.page)throw new Error("ArgumentException: The layer belongs to another page")}},e.prototype.add=function(t,i){if(typeof t>"u"){var s=new qs(this.page);return s.name="",this.add(s),s}else if(t instanceof qs){var o=this.list.push(t);return this.addLayer(o,t),o}else return 0},e.prototype.addLayer=function(t,i){var s=new it(i);this.page.contents.add(s)},e.prototype.insert=function(t,i){for(var s=[],o=this.list.length,c=t;c<o;c++)s.push(this.list.pop());this.list.push(i);for(var c=0;c<s.length;c++)this.list.push(s[c]);this.insertLayer(t,i)},e.prototype.insertLayer=function(t,i){if(i==null)throw new Error("ArgumentNullException:layer");var s=new it(i);this.page.contents.insert(t,s)},e.prototype.parseLayers=function(t){var i=this.page.contents;this.page.getResources(),t.crossTable;var s=new Kt,o=new Kt,c="q",f="Q",m=[];m.push(c),s.data=m,i.insert(0,new it(s)),m=[],m.push(f),o.data=m,i.insert(i.count,new it(o))},e.prototype.indexOf=function(t){if(t==null)throw new Error("ArgumentNullException: layer");var i=this.list.indexOf(t);return i},e}(fd),Ol=function(){function a(e){this.defLayerIndex=-1,this.modified=!1,this.dictionaryProperties=new xt,this.pageDictionary=e}return Object.defineProperty(a.prototype,"section",{get:function(){return this.pdfSection},set:function(e){this.pdfSection=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dictionary",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"element",{get:function(){return this.pageDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"defaultLayer",{get:function(){var e=this.layers,t=this.defaultLayerIndex,i=e.items(t);return i},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"defaultLayerIndex",{get:function(){if(this.layerCollection.count===0||this.defLayerIndex===-1){var e=this.layerCollection.add();this.defLayerIndex=this.layerCollection.indexOf(e)}return this.defLayerIndex},set:function(e){if(e<0||e>this.layers.count-1)throw new Error("ArgumentOutOfRangeException : value, Index can not be less 0 and greater Layers.Count - 1");this.defLayerIndex=e,this.modified=!0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"layers",{get:function(){return(this.layerCollection==null||typeof this.layerCollection>"u")&&(this.layerCollection=new Ml(this)),this.layerCollection},enumerable:!0,configurable:!0}),a.prototype.getResources=function(){return this.resources==null&&(this.resources=new as,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources},Object.defineProperty(a.prototype,"contents",{get:function(){var e=this.pageDictionary.items.getValue(this.dictionaryProperties.contents),t=e;return t==null&&(t=new ft,this.pageDictionary.items.setValue(this.dictionaryProperties.contents,t)),t},enumerable:!0,configurable:!0}),a.prototype.setResources=function(e){this.resources=e,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources),this.modified=!0},a}(),gd=function(){function a(e){this.alreadyExistsAnnotationError="This annotatation had been already added to page",this.missingAnnotationException="Annotation is not contained in collection.",this.dictionaryProperties=new xt,this.internalAnnotations=new ft,this.lists=[],typeof e<"u"&&(this.page=e)}return Object.defineProperty(a.prototype,"annotations",{get:function(){return this.internalAnnotations},set:function(e){this.internalAnnotations=e},enumerable:!0,configurable:!0}),a.prototype.add=function(e){this.doAdd(e)},a.prototype.doAdd=function(e){if(typeof e.destination<"u"){var t=new na,i=t.layout(e.text,e.font,e.stringFormat,new Se(e.bounds.width,0),!1,new Se(0,0)),s=e.bounds.y;if(i.lines.length===1){var o=e.font.measureString(i.lines[0].text);e.bounds=new et(new We(e.bounds.x,s),o),e.text=i.lines[0].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,e.bounds.y,e.bounds.width,e.bounds.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new it(e)),this.lists.push(e)}else for(var c=0;c<i.lines.length;c++){var o=e.font.measureString(i.lines[c].text);if(c===0)e.bounds=new et(e.bounds.x,s,o.width,o.height),e.text=i.lines[c].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,s,o.width,o.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new it(e)),this.lists.push(e),s+=e.bounds.height;else{var f=e.clone();f.bounds=new et(new We(e.bounds.x,s),o),f.text=i.lines[c].text,this.page.graphics.drawString(f.text,f.font,null,f.brush,f.bounds.x,f.bounds.y,f.bounds.width,f.bounds.height,null),f.setPage(this.page),this.setColor(f),this.internalAnnotations.add(new it(f)),this.lists.push(f),s+=f.bounds.height}}}else return e.setPage(this.page),this.internalAnnotations.add(new it(e)),this.lists.push(e)},a.prototype.setColor=function(e){var t=ht.Rgb,i=e.color.toArray(t);e.dictionary.items.setValue(this.dictionaryProperties.c,i)},Object.defineProperty(a.prototype,"element",{get:function(){return this.internalAnnotations},enumerable:!0,configurable:!0}),a}(),md=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Hi=function(a){md(e,a);function e(){var t=a.call(this,new tt)||this;return t.annotationCollection=null,t.beginSave=null,t.initialize(),t}return Object.defineProperty(e.prototype,"document",{get:function(){return this.section!==null&&this.section.parent!==null?this.section.parent.document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){var t=this.defaultLayer.graphics;return t.currentPage=this,t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"crossTable",{get:function(){if(this.section===null)throw new Error("PdfDocumentException : Page is not created");return this.section.parent===null?this.section.parentDocument.crossTable:this.section.parent.document.crossTable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.section.pageSettings.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.section.pageSettings.origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"annotations",{get:function(){return this.annotationCollection==null&&(this.annotationCollection=new gd(this),this.dictionary.items.setValue(this.dictionaryProperties.annots,this.annotationCollection.element),this.annotationCollection.annotations=this.dictionary.items.getValue(this.dictionaryProperties.annots)),this.annotationCollection},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){this.dictionary.items.setValue(this.dictionaryProperties.type,new Me("Page")),this.dictionary.pageBeginDrawTemplate=new uu(this)},e.prototype.setSection=function(t){this.section=t,this.dictionary.items.setValue(this.dictionaryProperties.parent,new it(t))},e.prototype.resetProgress=function(){this.isProgressOn=!1},e.prototype.getClientSize=function(){var t=this.section.getActualBounds(this,!0);return new Se(t.width,t.height)},e.prototype.pageBeginSave=function(){var t=this.document;typeof t!==void 0&&t!=null&&this.drawPageTemplates(t),this.beginSave!=null&&typeof this.beginSave<"u"&&this.beginSave(this)},e.prototype.drawPageTemplates=function(t){var i=this.section.containsTemplates(t,this,!1);if(i){var s=new qs(this,!1);if(this.layers.insert(0,s),this.section.drawTemplates(this,s,t,!1),s.graphics!==null&&typeof s.graphics<"u")for(var o=0;o<s.graphics.automaticFields.automaticFields.length;o++){var c=s.graphics.automaticFields.automaticFields[o];c.field.performDraw(s.graphics,c.location,c.scalingX,c.scalingY)}}var f=this.section.containsTemplates(t,this,!0);if(f){var m=new qs(this,!1);this.layers.add(m),this.section.drawTemplates(this,m,t,!0)}},e}(Ol),no=function(){function a(e){typeof e<"u"?this.pdfPage=e:this.pdfPage=null}return Object.defineProperty(a.prototype,"page",{get:function(){return this.pdfPage},enumerable:!0,configurable:!0}),a}(),vd=function(){function a(e){if(this.pdfSection=null,e==null)throw Error('ArgumentNullException("section")');this.section=e}return Object.defineProperty(a.prototype,"section",{get:function(){return this.pdfSection},set:function(e){this.pdfSection=e},enumerable:!0,configurable:!0}),a.prototype.contains=function(e){return this.section.contains(e)},a.prototype.remove=function(e){this.section.remove(e)},a.prototype.add=function(){return this.section.add()},a}(),Rl=function(){function a(){}return Object.defineProperty(a.prototype,"left",{get:function(){return this.leftTemplate},set:function(e){this.leftTemplate=this.checkElement(e,Ne.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"top",{get:function(){return this.topTemplate},set:function(e){this.topTemplate=this.checkElement(e,Ne.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){return this.rightTemplate},set:function(e){this.rightTemplate=this.checkElement(e,Ne.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bottom",{get:function(){return this.bottomTemplate},set:function(e){this.bottomTemplate=this.checkElement(e,Ne.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"EvenLeft",{get:function(){return this.evenLeft},set:function(e){this.evenLeft=this.checkElement(e,Ne.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"EvenTop",{get:function(){return this.evenTop},set:function(e){this.evenTop=this.checkElement(e,Ne.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"EvenRight",{get:function(){return this.evenRight},set:function(e){this.evenRight=this.checkElement(e,Ne.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"EvenBottom",{get:function(){return this.evenBottom},set:function(e){this.evenBottom=this.checkElement(e,Ne.Bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"OddLeft",{get:function(){return this.oddLeft},set:function(e){this.oddLeft=this.checkElement(e,Ne.Left)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"OddTop",{get:function(){return this.oddTop},set:function(e){this.oddTop=this.checkElement(e,Ne.Top)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"OddRight",{get:function(){return this.oddRight},set:function(e){this.oddRight=this.checkElement(e,Ne.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"OddBottom",{get:function(){return this.oddBottom},set:function(e){this.oddBottom=this.checkElement(e,Ne.Bottom)},enumerable:!0,configurable:!0}),a.prototype.getLeft=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenLeft!=null?this.EvenLeft:this.left:t=this.OddLeft!=null?this.OddLeft:this.left,t},a.prototype.getTop=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenTop!=null?this.EvenTop:this.top:t=this.OddTop!=null?this.OddTop:this.top,t},a.prototype.getRight=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenRight!=null?this.EvenRight:this.right:t=this.OddRight!=null?this.OddRight:this.right,t},a.prototype.getBottom=function(e){if(e==null)throw new Error("ArgumentNullException:page");var t=null,i=this.isEven(e);return i?t=this.EvenBottom!=null?this.EvenBottom:this.bottom:t=this.OddBottom!=null?this.OddBottom:this.bottom,t},a.prototype.isEven=function(e){var t=e.section.document.pages,i=0;t.pageCollectionIndex.containsKey(e)?i=t.pageCollectionIndex.getValue(e)+1:i=t.indexOf(e)+1;var s=i%2===0;return s},a.prototype.checkElement=function(e,t){if(e!=null){if(typeof e.type<"u"&&e.type!==Ne.None)throw new Error("NotSupportedException:Can not reassign the template element. Please, create new one.");e.type=t}return e},a}(),yd=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),bd=function(a){yd(e,a);function e(){var t=a.call(this)||this;return t.leftValue=t.topValue=t.rightValue=t.bottomValue=t.stampValue=!0,t}return Object.defineProperty(e.prototype,"applyDocumentLeftTemplate",{get:function(){return this.leftValue},set:function(t){this.leftValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentTopTemplate",{get:function(){return this.topValue},set:function(t){this.topValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentRightTemplate",{get:function(){return this.rightValue},set:function(t){this.rightValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentBottomTemplate",{get:function(){return this.bottomValue},set:function(t){this.bottomValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyDocumentStamps",{get:function(){return this.stampValue},set:function(t){this.stampValue=t},enumerable:!0,configurable:!0}),e}(Rl),xd=function(){function a(e,t){this.pageAdded=new no,this.pdfPages=[],this.dictionaryProperties=new xt,this.pdfDocument=e,typeof t>"u"?(this.settings=e.pageSettings.clone(),this.initialSettings=this.settings.clone()):(this.settings=t.clone(),this.initialSettings=this.settings.clone()),this.initialize()}return Object.defineProperty(a.prototype,"parent",{get:function(){return this.sectionCollection},set:function(e){this.sectionCollection=e,this.section.items.setValue(this.dictionaryProperties.parent,new it(e))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"parentDocument",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pageSettings",{get:function(){return this.settings},set:function(e){if(e!=null)this.settings=e;else throw Error("Value can not be null.")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"element",{get:function(){return this.section},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this.pagesReferences.count},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"template",{get:function(){return this.pageTemplate==null&&(this.pageTemplate=new bd),this.pageTemplate},set:function(e){this.pageTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"document",{get:function(){return this.sectionCollection.document},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pages",{get:function(){return(this.pagesCollection==null||typeof this.pagesCollection>"u")&&(this.pagesCollection=new vd(this)),this.pagesCollection},enumerable:!0,configurable:!0}),a.prototype.getPages=function(){return this.pdfPages},a.prototype.pointToNativePdf=function(e,t){var i=this.getActualBounds(e,!0);return t.x+=i.x,t.y=this.pageSettings.height-t.y,t},a.prototype.setPageSettings=function(e){this.settings=e,this.state.orientation=e.orientation,this.state.rotate=e.rotate,this.state.size=e.size,this.state.origin=e.origin},a.prototype.initialize=function(){this.pagesReferences=new ft,this.section=new tt,this.state=new wd(this.pdfDocument),this.section.sectionBeginSave=new cu(this,this.state),this.pageCount=new Le(0),this.section.items.setValue(this.dictionaryProperties.count,this.pageCount),this.section.items.setValue(this.dictionaryProperties.type,new Me(this.dictionaryProperties.pages)),this.section.items.setValue(this.dictionaryProperties.kids,this.pagesReferences)},a.prototype.containsTemplates=function(e,t,i){var s=this.getDocumentTemplates(e,t,i),o=this.getSectionTemplates(t,i);return s.length>0||o.length>0},a.prototype.getDocumentTemplates=function(e,t,i){var s=[];return this.template.applyDocumentTopTemplate&&e.template.getTop(t)!=null&&(!(e.template.getTop(t).foreground||i)||e.template.getTop(t).foreground&&i)&&s.push(e.template.getTop(t)),this.template.applyDocumentBottomTemplate&&e.template.getBottom(t)!=null&&(!(e.template.getBottom(t).foreground||i)||e.template.getBottom(t).foreground&&i)&&s.push(e.template.getBottom(t)),this.template.applyDocumentLeftTemplate&&e.template.getLeft(t)!=null&&(!(e.template.getLeft(t).foreground||i)||e.template.getLeft(t).foreground&&i)&&s.push(e.template.getLeft(t)),this.template.applyDocumentRightTemplate&&e.template.getRight(t)!=null&&(!(e.template.getRight(t).foreground||i)||e.template.getRight(t).foreground&&i)&&s.push(e.template.getRight(t)),s},a.prototype.getSectionTemplates=function(e,t){var i=[];if(this.template.getTop(e)!=null){var s=this.template.getTop(e);(!(s.foreground||t)||s.foreground&&t)&&i.push(s)}if(this.template.getBottom(e)!=null){var s=this.template.getBottom(e);(!(s.foreground||t)||s.foreground&&t)&&i.push(s)}if(this.template.getLeft(e)!=null){var s=this.template.getLeft(e);(!(s.foreground||t)||s.foreground&&t)&&i.push(s)}if(this.template.getRight(e)!=null){var s=this.template.getRight(e);(!(s.foreground||t)||s.foreground&&t)&&i.push(s)}return i},a.prototype.add=function(e){if(typeof e>"u"){var t=new Hi;return this.add(t),t}else{var i=this.checkPresence(e);this.pdfPages.push(e),this.pagesReferences.add(i),e.setSection(this),e.resetProgress(),this.pageAddedMethod(e)}},a.prototype.checkPresence=function(e){for(var t=new it(e),i=!1,s=this.parent,o=0;o<s.section.length;o++){var c=s.section[o];i=i||c.contains(e)}return t},a.prototype.contains=function(e){var t=this.indexOf(e);return 0<=t},a.prototype.indexOf=function(e){for(var t=0;t<this.pdfPages.length;t++)if(this.pdfPages[t]===e)return this.pdfPages.indexOf(e);var i=new it(e);return this.pagesReferences.indexOf(i)},a.prototype.pageAddedMethod=function(e){var t=new no(e);this.onPageAdded(t);var i=this.parent;i.document.pages.onPageAdded(t),this.pageCount.intValue=this.count},a.prototype.onPageAdded=function(e){},a.prototype.getActualBounds=function(e,t,i){if(e instanceof Hi&&typeof t=="boolean"){var s=void 0,o=this.parent.document;return s=this.getActualBounds(o,e,t),s}else{e=e,t=t,i=i;var c=new et(0,0,0,0);c.height=i?this.pageSettings.size.height:this.pageSettings.getActualSize().height,c.width=i?this.pageSettings.size.width:this.pageSettings.getActualSize().width;var f=this.getLeftIndentWidth(e,t,i),m=this.getTopIndentHeight(e,t,i),b=this.getRightIndentWidth(e,t,i),S=this.getBottomIndentHeight(e,t,i);return c.x+=f,c.y+=m,c.width-=f+b,c.height-=m+S,c}},a.prototype.getLeftIndentWidth=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var s=i?this.pageSettings.margins.left:0,o=this.template.getLeft(t)!=null?this.template.getLeft(t).width:0,c=e.template.getLeft(t)!=null?e.template.getLeft(t).width:0;return s+=this.template.applyDocumentLeftTemplate?Math.max(o,c):o,s},a.prototype.getTopIndentHeight=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var s=i?this.pageSettings.margins.top:0,o=this.template.getTop(t)!=null?this.template.getTop(t).height:0,c=e.template.getTop(t)!=null?e.template.getTop(t).height:0;return s+=this.template.applyDocumentTopTemplate?Math.max(o,c):o,s},a.prototype.getRightIndentWidth=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var s=i?this.pageSettings.margins.right:0,o=this.template.getRight(t)!=null?this.template.getRight(t).width:0,c=e.template.getRight(t)!=null?e.template.getRight(t).width:0;return s+=this.template.applyDocumentRightTemplate?Math.max(o,c):o,s},a.prototype.getBottomIndentHeight=function(e,t,i){if(e==null)throw new Error("ArgumentNullException:document");if(t==null)throw new Error("ArgumentNullException:page");var s=i?this.pageSettings.margins.bottom:0,o=this.template.getBottom(t)!=null?this.template.getBottom(t).height:0,c=e.template.getBottom(t)!=null?e.template.getBottom(t).height:0;return s+=this.template.applyDocumentBottomTemplate?Math.max(o,c):o,s},a.prototype.remove=function(e){if(e==null)throw Error('ArgumentNullException("page")');var t=this.pdfPages.indexOf(e);this.pagesReferences.removeAt(t);for(var i=[],s=0;s<t;s++)i.push(this.pdfPages[s]);for(var s=t+1;s<this.pdfPages.length;s++)i.push(this.pdfPages[s]);this.pdfPages=i},a.prototype.applyPageSettings=function(e,t,i){var s=new et(i.origin,i.size);e.items.setValue(this.dictionaryProperties.mediaBox,ft.fromRectangle(s));var o=0;o=Il.rotateFactor*i.rotate;var c=new Le(o);e.items.setValue(this.dictionaryProperties.rotate,c)},a.prototype.beginSave=function(e,t){var i=t.document;this.applyPageSettings(this.section,i.pageSettings,e)},a.prototype.drawTemplates=function(e,t,i,s){var o=this.getDocumentTemplates(i,e,s),c=this.getSectionTemplates(e,s);this.drawTemplatesHelper(t,i,o),this.drawTemplatesHelper(t,i,c)},a.prototype.drawTemplatesHelper=function(e,t,i){if(i!=null&&i.length>0)for(var s=i.length,o=0;o<s;o++){var c=i[o];c.draw(e,t)}},a}(),wd=function(){function a(e){this.pageOrientation=e.pageSettings.orientation,this.pageRotate=e.pageSettings.rotate,this.pageSize=e.pageSettings.size,this.pageOrigin=e.pageSettings.origin}return Object.defineProperty(a.prototype,"orientation",{get:function(){return this.pageOrientation},set:function(e){this.pageOrientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rotate",{get:function(){return this.pageRotate},set:function(e){this.pageRotate=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this.pageSize},set:function(e){this.pageSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"origin",{get:function(){return this.pageOrigin},set:function(e){this.pageOrigin=e},enumerable:!0,configurable:!0}),a}(),Il=function(){function a(e){this.sections=[],this.dictionaryProperties=new xt,this.pdfDocument=e.clone(),this.initialize()}return Object.defineProperty(a.prototype,"section",{get:function(){return this.sections},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"document",{get:function(){return this.pdfDocument},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"count",{get:function(){return this.sections.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"element",{get:function(){return this.pages},enumerable:!0,configurable:!0}),a.prototype.initialize=function(){this.sectionCount=new Le(0),this.sectionCollection=new ft,this.pages=new tt,this.pages.beginSave=new ou(this),this.pages.items.setValue(this.dictionaryProperties.type,new Me("Pages")),this.pages.items.setValue(this.dictionaryProperties.kids,this.sectionCollection),this.pages.items.setValue(this.dictionaryProperties.count,this.sectionCount),this.pages.items.setValue(this.dictionaryProperties.resources,new tt),this.setPageSettings(this.pages,this.pdfDocument.pageSettings)},a.prototype.pdfSectionCollection=function(e){if(e<0||e>=this.count)throw new Error("IndexOutOfRangeException()");return this.sections[e]},a.prototype.setPageSettings=function(e,t){var i=new et(new We,t.size);e.items.setValue(this.dictionaryProperties.mediaBox,ft.fromRectangle(i))},a.prototype.add=function(e){if(typeof e>"u"){var t=new xd(this.pdfDocument);return this.add(t),t}else{var i=this.checkSection(e);return this.sections.push(e),e.parent=this,this.sectionCollection.add(i),this.sections.indexOf(e)}},a.prototype.checkSection=function(e){var t=new it(e);return this.sectionCollection.contains(t),t},a.prototype.countPages=function(){var e=0;return this.sections.forEach(function(t){return e+=t.count}),e},a.prototype.beginSave=function(){this.sectionCount.intValue=this.countPages()},a.rotateFactor=90,a}(),Sd=function(){function a(e){this.pdfPageCollectionIndex=new nt,this.document=e}return Object.defineProperty(a.prototype,"count",{get:function(){return this.countPages()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pageCollectionIndex",{get:function(){return this.pdfPageCollectionIndex},enumerable:!0,configurable:!0}),a.prototype.add=function(e){if(typeof e>"u"){var t=new Hi;return this.add(t),t}else{var i=this.getLastSection();i.add(e)}},a.prototype.getLastSection=function(){var e=this.document.sections;e.section.length===0&&e.add();var t=e.section[e.section.length-1];return t},a.prototype.onPageAdded=function(e){},a.prototype.countPages=function(){for(var e=this.document.sections,t=0,i=0;i<e.section.length;i++)t+=e.section[i].count;return t},a.prototype.getPageByIndex=function(e){return this.getPage(e)},a.prototype.getPage=function(e){if(e<0||e>=this.count)throw Error('ArgumentOutOfRangeException("index", "Value can not be less 0")');for(var t=null,i=0,s=0,o=0,c=this.document.sections.count,f=0;f<c;f++){var m=this.document.sections.section[f];if(s=m.count,o=e-i,e>=i&&o<s){t=m.getPages()[o];break}i+=s}return t},a.prototype.indexOf=function(e){var t=-1;if(e==null)throw new Error("ArgumentNullException: page");for(var i=0,s=0,o=this.document.sections.count;s<o;s++){var c=this.document.sections.pdfSectionCollection(s);if(t=c.indexOf(e),t>=0){t+=i;break}else t=-1;i+=c.count}return t},a.prototype.remove=function(e){if(e==null)throw Error('ArgumentNullException("page")');for(var t=null,i=0,s=this.document.sections.count;i<s;i++)if(t=this.document.sections.pdfSectionCollection(i),t.pages.contains(e)){t.pages.remove(e);break}return t},a}(),ao=function(){function a(){this.referenceObjects=[],this.pdfFontCollection=new nt}return a.prototype.search=function(e){var t=null,i=this.getGroup(e);return i==null?i=this.createNewGroup():i.length>0&&(t=i[0]),i.push(e),t},a.prototype.createNewGroup=function(){var e=[];return this.referenceObjects.push(e),e},a.prototype.getGroup=function(e){var t=null;if(e!==null)for(var i=this.referenceObjects.length,s=0;s<i;s++){if(this.referenceObjects.length>0){var o=this.referenceObjects[s];if(o.length>0){var c=o[0];if(e.equalsTo(c)){t=o;break}}else this.removeGroup(o)}i=this.referenceObjects.length}return t},a.prototype.removeGroup=function(e){if(e!==null){var t=this.referenceObjects.indexOf(e);this.referenceObjects.slice(t,t+1)}},a.prototype.destroy=function(){this.pdfFontCollection=void 0,this.referenceObjects=void 0},a}(),Cd=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),en=function(a){Cd(e,a);function e(t){var i=a.call(this)||this;i.defaultMargin=40,i.streamWriter=null,i.document=i;var s=!1;typeof t>"u"?(e.cacheCollection=new ao,s=!1):s=t;var o=new Tu;i.setMainObjectCollection(o);var c=new Al;c.isMerging=s,c.document=i,i.setCrossTable(c);var f=new Cl;return i.setCatalog(f),o.add(f),f.position=-1,i.sectionCollection=new Il(i),i.documentPageCollection=new Sd(i),f.pages=i.sectionCollection,i}return Object.defineProperty(e,"defaultFont",{get:function(){return this.defaultStandardFont==null&&(this.defaultStandardFont=new _n(qt.Helvetica,8)),this.defaultStandardFont},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sections",{get:function(){return this.sectionCollection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSettings",{get:function(){return this.settings==null&&(this.settings=new Iu(this.defaultMargin)),this.settings},set:function(t){this.settings=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pages",{get:function(){return this.documentPageCollection},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cache",{get:function(){return typeof e.cacheCollection>"u"||e.cacheCollection==null?new ao:e.cacheCollection},set:function(t){this.cacheCollection=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"enableCache",{get:function(){return this.isCacheEnabled},set:function(t){this.isCacheEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorSpace",{get:function(){return this.pdfColorSpace===ht.Rgb||this.pdfColorSpace===ht.Cmyk||this.pdfColorSpace===ht.GrayScale?this.pdfColorSpace:ht.Rgb},set:function(t){t===ht.Rgb||t===ht.Cmyk||t===ht.GrayScale?this.pdfColorSpace=t:this.pdfColorSpace=ht.Rgb},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.pageTemplate==null&&(this.pageTemplate=new Rl),this.pageTemplate},set:function(t){this.pageTemplate=t},enumerable:!0,configurable:!0}),e.prototype.docSave=function(t,i,s){if(this.checkPagesPresence(),t===null)throw new Error("ArgumentNullException : stream");this.streamWriter=t;var o=new Za(t);if(o.document=this,typeof i=="boolean"&&typeof s>"u")return this.crossTable.save(o);this.crossTable.save(o,i)},e.prototype._docSave=function(){var t=new Au;if(this.checkPagesPresence(),t===null)throw new Error("ArgumentNullException : stream");this.streamWriter=t;var i=new Za(t);return i.document=this,this.crossTable._save(i)},e.prototype.checkPagesPresence=function(){this.pages.count===0&&this.pages.add()},e.prototype.destroy=function(){this.catalog=void 0,this.colorSpace=void 0,this.currentSavingObj=void 0,this.documentPageCollection=void 0,this.isStreamCopied=void 0,this.pageSettings=void 0,this.pageTemplate=void 0,this.pdfColorSpace=void 0,this.sectionCollection=void 0,e.cache.destroy(),this.crossTable.pdfObjects.destroy(),e.cache=void 0,this.streamWriter&&this.streamWriter.destroy()},e.defaultStandardFont=null,e.isCacheEnabled=!0,e}(Pu),Ad=function(){function a(){}return a.getMetrics=function(e,t,i){var s=null;switch(e){case qt.Helvetica:s=this.getHelveticaMetrics(e,t,i);break;case qt.Courier:s=this.getCourierMetrics(e,t,i);break;case qt.TimesRoman:s=this.getTimesMetrics(e,t,i);break;case qt.Symbol:s=this.getSymbolMetrics(e,t,i);break;case qt.ZapfDingbats:s=this.getZapfDingbatsMetrics(e,t,i);break;default:s=this.getHelveticaMetrics(qt.Helvetica,t,i);break}return s.name=e.toString(),s.subScriptSizeFactor=this.subSuperScriptFactor,s.superscriptSizeFactor=this.subSuperScriptFactor,s},a.getHelveticaMetrics=function(e,t,i){var s=new Sr;return(t&lt.Bold)>0&&(t&lt.Italic)>0?(s.ascent=this.helveticaBoldItalicAscent,s.descent=this.helveticaBoldItalicDescent,s.postScriptName=this.helveticaBoldItalicName,s.size=i,s.widthTable=new Wt(this.arialBoldWidth),s.height=s.ascent-s.descent):(t&lt.Bold)>0?(s.ascent=this.helveticaBoldAscent,s.descent=this.helveticaBoldDescent,s.postScriptName=this.helveticaBoldName,s.size=i,s.widthTable=new Wt(this.arialBoldWidth),s.height=s.ascent-s.descent):(t&lt.Italic)>0?(s.ascent=this.helveticaItalicAscent,s.descent=this.helveticaItalicDescent,s.postScriptName=this.helveticaItalicName,s.size=i,s.widthTable=new Wt(this.arialWidth),s.height=s.ascent-s.descent):(s.ascent=this.helveticaAscent,s.descent=this.helveticaDescent,s.postScriptName=this.helveticaName,s.size=i,s.widthTable=new Wt(this.arialWidth),s.height=s.ascent-s.descent),s},a.getCourierMetrics=function(e,t,i){var s=new Sr;return(t&lt.Bold)>0&&(t&lt.Italic)>0?(s.ascent=this.courierBoldItalicAscent,s.descent=this.courierBoldItalicDescent,s.postScriptName=this.courierBoldItalicName,s.size=i,s.widthTable=new Wt(this.fixedWidth),s.height=s.ascent-s.descent):(t&lt.Bold)>0?(s.ascent=this.courierBoldAscent,s.descent=this.courierBoldDescent,s.postScriptName=this.courierBoldName,s.size=i,s.widthTable=new Wt(this.fixedWidth),s.height=s.ascent-s.descent):(t&lt.Italic)>0?(s.ascent=this.courierItalicAscent,s.descent=this.courierItalicDescent,s.postScriptName=this.courierItalicName,s.size=i,s.widthTable=new Wt(this.fixedWidth),s.height=s.ascent-s.descent):(s.ascent=this.courierAscent,s.descent=this.courierDescent,s.postScriptName=this.courierName,s.size=i,s.widthTable=new Wt(this.fixedWidth),s.height=s.ascent-s.descent),s},a.getTimesMetrics=function(e,t,i){var s=new Sr;return(t&lt.Bold)>0&&(t&lt.Italic)>0?(s.ascent=this.timesBoldItalicAscent,s.descent=this.timesBoldItalicDescent,s.postScriptName=this.timesBoldItalicName,s.size=i,s.widthTable=new Wt(this.timesRomanBoldItalicWidths),s.height=s.ascent-s.descent):(t&lt.Bold)>0?(s.ascent=this.timesBoldAscent,s.descent=this.timesBoldDescent,s.postScriptName=this.timesBoldName,s.size=i,s.widthTable=new Wt(this.timesRomanBoldWidth),s.height=s.ascent-s.descent):(t&lt.Italic)>0?(s.ascent=this.timesItalicAscent,s.descent=this.timesItalicDescent,s.postScriptName=this.timesItalicName,s.size=i,s.widthTable=new Wt(this.timesRomanItalicWidth),s.height=s.ascent-s.descent):(s.ascent=this.timesAscent,s.descent=this.timesDescent,s.postScriptName=this.timesName,s.size=i,s.widthTable=new Wt(this.timesRomanWidth),s.height=s.ascent-s.descent),s},a.getSymbolMetrics=function(e,t,i){var s=new Sr;return s.ascent=this.symbolAscent,s.descent=this.symbolDescent,s.postScriptName=this.symbolName,s.size=i,s.widthTable=new Wt(this.symbolWidth),s.height=s.ascent-s.descent,s},a.getZapfDingbatsMetrics=function(e,t,i){var s=new Sr;return s.ascent=this.zapfDingbatsAscent,s.descent=this.zapfDingbatsDescent,s.postScriptName=this.zapfDingbatsName,s.size=i,s.widthTable=new Wt(this.zapfDingbatsWidth),s.height=s.ascent-s.descent,s},a.subSuperScriptFactor=1.52,a.helveticaAscent=931,a.helveticaDescent=-225,a.helveticaName="Helvetica",a.helveticaBoldAscent=962,a.helveticaBoldDescent=-228,a.helveticaBoldName="Helvetica-Bold",a.helveticaItalicAscent=931,a.helveticaItalicDescent=-225,a.helveticaItalicName="Helvetica-Oblique",a.helveticaBoldItalicAscent=962,a.helveticaBoldItalicDescent=-228,a.helveticaBoldItalicName="Helvetica-BoldOblique",a.courierAscent=805,a.courierDescent=-250,a.courierName="Courier",a.courierBoldAscent=801,a.courierBoldDescent=-250,a.courierBoldName="Courier-Bold",a.courierItalicAscent=805,a.courierItalicDescent=-250,a.courierItalicName="Courier-Oblique",a.courierBoldItalicAscent=801,a.courierBoldItalicDescent=-250,a.courierBoldItalicName="Courier-BoldOblique",a.timesAscent=898,a.timesDescent=-218,a.timesName="Times-Roman",a.timesBoldAscent=935,a.timesBoldDescent=-218,a.timesBoldName="Times-Bold",a.timesItalicAscent=883,a.timesItalicDescent=-217,a.timesItalicName="Times-Italic",a.timesBoldItalicAscent=921,a.timesBoldItalicDescent=-218,a.timesBoldItalicName="Times-BoldItalic",a.symbolAscent=1010,a.symbolDescent=-293,a.symbolName="Symbol",a.zapfDingbatsAscent=820,a.zapfDingbatsDescent=-143,a.zapfDingbatsName="ZapfDingbats",a.arialWidth=[278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,0,556,0,222,556,333,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,222,222,333,333,350,556,1e3,333,1e3,500,333,944,0,500,667,0,333,556,556,556,556,260,556,333,737,370,556,584,0,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500],a.arialBoldWidth=[278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,0,556,0,278,556,500,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,278,278,500,500,350,556,1e3,333,1e3,556,333,944,0,500,667,0,333,556,556,556,556,280,556,333,737,370,556,584,0,737,333,400,584,333,333,333,611,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,584,611,611,611,611,611,556,611,556],a.fixedWidth=[600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600],a.timesRomanWidth=[250,333,408,500,500,833,778,180,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,0,500,0,333,500,444,1e3,500,500,333,1e3,556,333,889,0,611,0,0,333,333,444,444,350,500,1e3,333,980,389,333,722,0,444,722,0,333,500,500,500,500,200,500,333,760,276,500,564,0,760,333,400,564,300,300,333,500,453,250,333,300,310,500,750,750,750,444,722,722,722,722,722,722,889,667,611,611,611,611,333,333,333,333,722,722,722,722,722,722,722,564,722,722,722,722,722,722,556,500,444,444,444,444,444,444,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,564,500,500,500,500,500,500,500,500],a.timesRomanBoldWidth=[250,333,555,500,500,1e3,833,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1e3,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,1e3,0,667,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,444,722,0,333,500,500,500,500,220,500,333,747,300,500,570,0,747,333,400,570,300,300,333,556,540,250,333,300,330,500,750,750,750,500,722,722,722,722,722,722,1e3,722,667,667,667,667,389,389,389,389,722,722,778,778,778,778,778,570,778,722,722,722,722,722,611,556,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,500,556,500],a.timesRomanItalicWidth=[250,333,420,500,500,833,778,214,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,0,500,0,333,500,556,889,500,500,333,1e3,500,333,944,0,556,0,0,333,333,556,556,350,500,889,333,980,389,333,667,0,389,556,0,389,500,500,500,500,275,500,333,760,276,500,675,0,760,333,400,675,300,300,333,500,523,250,333,300,310,500,750,750,750,500,611,611,611,611,611,611,889,667,611,611,611,611,333,333,333,333,722,667,722,722,722,722,722,675,722,722,722,722,722,556,611,500,500,500,500,500,500,500,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,675,500,500,500,500,500,444,500,444],a.timesRomanBoldItalicWidths=[250,389,555,500,500,833,778,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,944,0,611,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,389,611,0,389,500,500,500,500,220,500,333,747,266,500,606,0,747,333,400,570,300,300,333,576,500,250,333,300,300,500,750,750,750,500,667,667,667,667,667,667,944,667,667,667,667,667,389,389,389,389,722,722,722,722,722,722,722,570,722,722,722,722,722,611,611,500,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,444,500,444],a.symbolWidth=[250,333,713,500,549,833,778,439,333,333,500,549,250,549,250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,549,722,667,722,612,611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,333,863,333,658,500,500,631,549,549,494,439,521,411,603,329,603,549,549,576,521,549,549,521,549,603,439,576,713,686,493,686,494,480,200,480,549,750,620,247,549,167,713,500,753,753,753,753,1042,987,603,987,603,400,549,411,549,549,713,494,460,549,549,549,549,1e3,603,1e3,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,549,250,713,603,603,1042,987,603,987,603,494,329,790,790,786,713,384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,-1],a.zapfDingbatsWidth=[278,974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918],a}(),kd=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_n=function(a){kd(e,a);function e(t,i,s){var o=a.call(this,i,typeof s>"u"?t instanceof e?t.style:lt.Regular:s)||this;return o.dictionaryProperties=new xt,o.encodings=["Unknown","StandardEncoding","MacRomanEncoding","MacExpertEncoding","WinAnsiEncoding","PDFDocEncoding","IdentityH"],typeof t>"u"?o.pdfFontFamily=qt.Helvetica:t instanceof e?o.pdfFontFamily=t.fontFamily:o.pdfFontFamily=t,o.checkStyle(),o.initializeInternals(),o}return Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.pdfFontFamily},enumerable:!0,configurable:!0}),e.prototype.checkStyle=function(){if(this.fontFamily===qt.Symbol||this.fontFamily===qt.ZapfDingbats){var t=this.style;t&=~(lt.Bold|lt.Italic),this.setStyle(t)}},e.prototype.getLineWidth=function(t,i){if(t==null)throw new Error("ArgumentNullException:line");var s=0;this.name,t=e.convert(t);for(var o=0,c=t.length;o<c;o++){var f=t[o],m=this.getCharWidthInternal(f,i);s+=m}var b=this.metrics.getSize(i);return s*=Vi.charSizeMultiplier*b,s=this.applyFormatSettings(t,i,s),s},e.prototype.equalsToFont=function(t){var i=!1,s=t;if(s!=null){var o=this.fontFamily===s.fontFamily,c=~(lt.Underline|lt.Strikeout),f=(this.style&c)===(s.style&c);i=o&&f}return i},e.prototype.initializeInternals=function(){en.cache.search(this);var t=null,i=Ad.getMetrics(this.pdfFontFamily,this.style,this.size);this.metrics=i,t=this.createInternals(),this.setInternals(t)},e.prototype.createInternals=function(){var t=new tt;if(t.items.setValue(this.dictionaryProperties.type,new Me(this.dictionaryProperties.font)),t.items.setValue(this.dictionaryProperties.subtype,new Me(this.dictionaryProperties.type1)),t.items.setValue(this.dictionaryProperties.baseFont,new Me(this.metrics.postScriptName)),this.fontFamily!==qt.Symbol&&this.fontFamily!==qt.ZapfDingbats){var i=this.encodings[In.WinAnsiEncoding];t.items.setValue(this.dictionaryProperties.encoding,new Me(i))}return t},e.prototype.getCharWidthInternal=function(t,i){var s=0,o=0;o=t.charCodeAt(0),(this.name==="0"||this.name==="1"||this.name==="2"||this.name==="3"||this.name==="4")&&(o=o-e.charOffset),o=o>=0&&o!==128?o:0;var c=this.metrics,f=c.widthTable;return s=f.items(o),s},e.convert=function(t){return t},e.charOffset=32,e}(Vi),oo=function(){function a(e,t,i,s,o){e instanceof et&&typeof t>"u"?this.InitiateBounds(e.x,e.y,e.width,e.height,null):e instanceof et&&t instanceof Hi&&typeof i>"u"?this.InitiateBounds(e.x,e.y,e.width,e.height,t):e instanceof We&&t instanceof Se&&typeof i>"u"?this.InitiateBounds(e.x,e.y,t.width,t.height,null):e instanceof We&&t instanceof Se&&i instanceof Hi&&typeof s>"u"?this.InitiateBounds(e.x,e.y,t.width,t.height,i):e instanceof Se&&typeof t>"u"?this.InitiateBounds(0,0,e.width,e.height,null):typeof e=="number"&&typeof t=="number"&&typeof i>"u"?this.InitiateBounds(0,0,e,t,null):typeof e=="number"&&typeof t=="number"&&i instanceof Hi&&typeof s>"u"?this.InitiateBounds(0,0,e,t,i):typeof e=="number"&&typeof t=="number"&&typeof i=="number"&&typeof s=="number"&&typeof o>"u"?this.InitiateBounds(e,t,i,s,null):this.InitiateBounds(e,t,i,s,null)}return Object.defineProperty(a.prototype,"dock",{get:function(){return this.dockStyle},set:function(e){this.dockStyle=e,this.resetAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"alignment",{get:function(){return this.alignmentStyle},set:function(e){this.setAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"foreground",{get:function(){return this.isForeground},set:function(e){this.isForeground=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"background",{get:function(){return!this.isForeground},set:function(e){this.isForeground=!e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"location",{get:function(){return this.currentLocation},set:function(e){this.type===Ne.None&&(this.currentLocation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"x",{get:function(){var e=typeof this.currentLocation<"u"?this.currentLocation.x:0;return e},set:function(e){this.type===Ne.None&&(this.currentLocation.x=e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){var e=typeof this.currentLocation<"u"?this.currentLocation.y:0;return e},set:function(e){this.type===Ne.None&&(this.currentLocation.y=e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this.template.size},set:function(e){this.type===Ne.None&&this.template.reset(e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return this.template.width},set:function(e){if(this.template.width!==e&&this.type===Ne.None){var t=this.template.size;t.width=e,this.template.reset(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this.template.height},set:function(e){if(this.template.height!==e&&this.type===Ne.None){var t=this.template.size;t.height=e,this.template.reset(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"graphics",{get:function(){return this.template.graphics},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"template",{get:function(){return this.pdfTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"type",{get:function(){return this.templateType},set:function(e){this.updateDocking(e),this.templateType=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bounds",{get:function(){return new et(new We(this.x,this.y),this.size)},set:function(e){this.type===Ne.None&&(this.location=new We(e.x,e.y),this.size=new Se(e.width,e.height))},enumerable:!0,configurable:!0}),a.prototype.InitiateBounds=function(e,t,i,s,o){this.x=e,this.y=t,this.pdfTemplate=new zn(i,s)},a.prototype.updateDocking=function(e){if(e!==Ne.None){switch(e){case Ne.Top:this.dock=ut.Top;break;case Ne.Bottom:this.dock=ut.Bottom;break;case Ne.Left:this.dock=ut.Left;break;case Ne.Right:this.dock=ut.Right;break}this.resetAlignment()}},a.prototype.resetAlignment=function(){this.alignment=Ie.None},a.prototype.setAlignment=function(e){if(this.dock===ut.None)this.alignmentStyle=e;else{var t=!1;switch(this.dock){case ut.Left:t=e===Ie.TopLeft||e===Ie.MiddleLeft||e===Ie.BottomLeft||e===Ie.None;break;case ut.Top:t=e===Ie.TopLeft||e===Ie.TopCenter||e===Ie.TopRight||e===Ie.None;break;case ut.Right:t=e===Ie.TopRight||e===Ie.MiddleRight||e===Ie.BottomRight||e===Ie.None;break;case ut.Bottom:t=e===Ie.BottomLeft||e===Ie.BottomCenter||e===Ie.BottomRight||e===Ie.None;break;case ut.Fill:t=e===Ie.MiddleCenter||e===Ie.None;break}t&&(this.alignmentStyle=e)}},a.prototype.draw=function(e,t){var i=e.page,s=this.calculateBounds(i,t);e.graphics.drawPdfTemplate(this.template,new We(s.x,s.y),new Se(s.width,s.height))},a.prototype.calculateBounds=function(e,t){var i=this.bounds;return this.alignmentStyle!==Ie.None?i=this.getAlignmentBounds(e,t):this.dockStyle!==ut.None&&(i=this.getDockBounds(e,t)),i},a.prototype.getAlignmentBounds=function(e,t){var i=this.bounds;return this.type===Ne.None?i=this.getSimpleAlignmentBounds(e,t):i=this.getTemplateAlignmentBounds(e,t),i},a.prototype.getSimpleAlignmentBounds=function(e,t){var i=this.bounds,s=e.section,o=s.getActualBounds(t,e,!1),c=this.x,f=this.y;switch(this.alignmentStyle){case Ie.TopLeft:c=0,f=0;break;case Ie.TopCenter:c=(o.width-this.width)/2,f=0;break;case Ie.TopRight:c=o.width-this.width,f=0;break;case Ie.MiddleLeft:c=0,f=(o.height-this.height)/2;break;case Ie.MiddleCenter:c=(o.width-this.width)/2,f=(o.height-this.height)/2;break;case Ie.MiddleRight:c=o.width-this.width,f=(o.height-this.height)/2;break;case Ie.BottomLeft:c=0,f=o.height-this.height;break;case Ie.BottomCenter:c=(o.width-this.width)/2,f=o.height-this.height;break;case Ie.BottomRight:c=o.width-this.width,f=o.height-this.height;break}return i.x=c,i.y=f,i},a.prototype.getTemplateAlignmentBounds=function(e,t){var i=this.bounds,s=e.section,o=s.getActualBounds(t,e,!1),c=this.x,f=this.y;switch(this.alignmentStyle){case Ie.TopLeft:this.type===Ne.Left?(c=this.convertSign(o.x),f=0):this.type===Ne.Top&&(c=this.convertSign(o.x),f=this.convertSign(o.y));break;case Ie.TopCenter:c=(o.width-this.width)/2,f=this.convertSign(o.y);break;case Ie.TopRight:this.type===Ne.Right?(c=o.width+s.getRightIndentWidth(t,e,!1)-this.width,f=0):this.type===Ne.Top&&(c=o.width+s.getRightIndentWidth(t,e,!1)-this.width,f=this.convertSign(o.y));break;case Ie.MiddleLeft:c=this.convertSign(o.x),f=(o.height-this.height)/2;break;case Ie.MiddleCenter:c=(o.width-this.width)/2,f=(o.height-this.height)/2;break;case Ie.MiddleRight:c=o.width+s.getRightIndentWidth(t,e,!1)-this.width,f=(o.height-this.height)/2;break;case Ie.BottomLeft:this.type===Ne.Left?(c=this.convertSign(o.x),f=o.height-this.height):this.type===Ne.Bottom&&(c=this.convertSign(o.x),f=o.height+s.getBottomIndentHeight(t,e,!1)-this.height);break;case Ie.BottomCenter:c=(o.width-this.width)/2,f=o.height+s.getBottomIndentHeight(t,e,!1)-this.height;break;case Ie.BottomRight:this.type===Ne.Right?(c=o.width+s.getRightIndentWidth(t,e,!1)-this.width,f=o.height-this.height):this.type===Ne.Bottom&&(c=o.width+s.getRightIndentWidth(t,e,!1)-this.width,f=o.height+s.getBottomIndentHeight(t,e,!1)-this.height);break}return i.x=c,i.y=f,i},a.prototype.getDockBounds=function(e,t){var i=this.bounds;return this.type===Ne.None?i=this.getSimpleDockBounds(e,t):i=this.getTemplateDockBounds(e,t),i},a.prototype.getSimpleDockBounds=function(e,t){var i=this.bounds,s=e.section,o=s.getActualBounds(t,e,!1),c=this.x,f=this.y,m=this.width,b=this.height;switch(this.dockStyle){case ut.Left:c=0,f=0,m=this.width,b=o.height;break;case ut.Top:c=0,f=0,m=o.width,b=this.height;break;case ut.Right:c=o.width-this.width,f=0,m=this.width,b=o.height;break;case ut.Bottom:c=0,f=o.height-this.height,m=o.width,b=this.height;break;case ut.Fill:c=0,c=0,m=o.width,b=o.height;break}return i=new et(c,f,m,b),i},a.prototype.getTemplateDockBounds=function(e,t){var i=this.bounds,s=e.section,o=s.getActualBounds(t,e,!1),c=s.pageSettings.getActualSize(),f=this.x,m=this.y,b=this.width,S=this.height;switch(this.dockStyle){case ut.Left:f=this.convertSign(o.x),m=0,b=this.width,S=o.height;break;case ut.Top:f=this.convertSign(o.x),m=this.convertSign(o.y),b=c.width,S=this.height,o.height<0&&(m=c.height-o.y);break;case ut.Right:f=o.width+s.getRightIndentWidth(t,e,!1)-this.width,m=0,b=this.width,S=o.height;break;case ut.Bottom:f=this.convertSign(o.x),m=o.height+s.getBottomIndentHeight(t,e,!1)-this.height,b=c.width,S=this.height,o.height<0&&(m-=c.height);break;case ut.Fill:f=0,f=0,b=o.width,S=o.height;break}return i=new et(f,m,b,S),i},a.prototype.convertSign=function(e){return e!==0||e===0&&1/e===-1/0?-e:e},a}(),lo=function(){function a(e){this.control=e}return a.prototype.export=function(e,t,i,s,o,c,f,m,b,S){var k=this,L=this.getControlsValue(s,f,S&&e==="PDF",e),I=[],_=[],N=[],U=!(ze.userAgent.toString().indexOf("HeadlessChrome")>-1);i=pe(i)?sr.Landscape:i;for(var Z=function(Q){_.push(o||L[Q].width),N.push(c||L[Q].height);var H=s[Q].svgObject,re=s[Q].enableCanvas,ie=void 0;re||(H=Pr("canvas",{id:"ej2-canvas",attrs:{width:_[Q].toString(),height:N[Q].toString()}}));var ae='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+L[Q].svg.outerHTML+"</svg>",Ce=window.URL.createObjectURL(new Blob(e==="SVG"?[ae]:[new XMLSerializer().serializeToString(L[Q].svg)],{type:"image/svg+xml"}));if(e==="SVG")if(ze.info.name==="msie"){var me=new Blob([new XMLSerializer().serializeToString(L[Q].svg)],{type:"application/octet-stream"});window.navigator.msSaveOrOpenBlob(me,t+"."+e.toLocaleLowerCase())}else V.triggerDownload(t,e,Ce,U);else if(ze.info.name==="msie"){var ke=H;re||(ke=V.createCanvas()),ie=ke.toDataURL(),I.push(H),e==="PDF"?I.length===L.length&&V.exportPdf(I,i,_,N,U,t,m,b):V.doexport(e,ie,t)}else{var Pe=new Image,Oe=H.getContext("2d");Pe.onload=function(){Oe.drawImage(Pe,0,0),window.URL.revokeObjectURL(Ce),I.push(H),e==="PDF"?I.length===L.length&&k.exportPdf(I,i,_,N,U,t,m,b):window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(H.toBlob(null),t+"."+e.toLocaleLowerCase()):k.triggerDownload(t,e,H.toDataURL("image/"+e.toLowerCase()),U)},Pe.src=Ce}re||It(document.getElementById(s[Q].element.id+"_canvas"))},V=this,$=0;$<L.length;$++)Z($)},a.prototype.getDataUrl=function(e){var t=this.getControlsValue([e]),i=this.control.svgObject,s=this.control.enableCanvas;s||(i=Pr("canvas",{id:"ej2-canvas",attrs:{width:t[0].width.toString(),height:t[0].height.toString()}}));var o=window.URL.createObjectURL(new Blob([new XMLSerializer().serializeToString(t[0].svg)],{type:"image/svg+xml"}));if(ze.info.name==="msie"){var c=i;s||(c=this.createCanvas());var f={name:Ts,cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger(Ts,f),{element:c,dataUrl:c.toDataURL()}}else{var m=new Image,b=i.getContext("2d");return m.onload=function(){b.drawImage(m,0,0),window.URL.revokeObjectURL(o);var S={name:Ts,cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger(Ts,S),S.dataUrl},m.src=o,{element:i,blobUrl:o}}},a.prototype.triggerDownload=function(e,t,i,s){Pr("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(s?"click":"move",{view:window,bubbles:!1,cancelable:!0}))},a.prototype.getControlsValue=function(e,t,i,s){for(var o=0,c=0,f=new En("").createSvg({id:"Svg_Export_Element",width:200,height:200}),m=[],b,S=0;S<e.length;S++){var k=e[S],L=k.enableCanvas,I=k.svgObject.cloneNode(!0),_=k.renderer.createGroup({style:pe(t)||t?"transform: translateY("+c+"px)":"transform: translateX("+o+"px)"});if(b=I.childNodes[0]?I.childNodes[0].getAttribute("fill"):"transparent",b==="transparent"&&(k.theme.indexOf("Dark")>-1||k.theme.indexOf("HighContrast")>-1?b="rgba(0, 0, 0, 1)":b="rgba(255, 255, 255, 1)"),!L){if(k.getModuleName()==="stockChart"){I.childNodes[0].firstChild.setAttribute("fill",b);for(var N=1;N<I.childNodes.length;N++)I.childNodes[N].childNodes[0].setAttribute("fill",b)}else s==="SVG"&&I.childNodes[0].setAttribute("fill",b);_.appendChild(I)}var U=0,Z=0;k.stockLegendModule&&k.legendSettings.visible&&(k.legendSettings.position==="Bottom"||k.legendSettings.position==="Top"||k.legendSettings.position==="Auto"?U+=k.stockLegendModule.legendBounds.height:(k.legendSettings.position==="Left"||k.legendSettings.position==="Right")&&(Z+=k.stockLegendModule.legendBounds.width)),o=pe(t)||t?Math.max(k.availableSize.width+Z,o):o+k.availableSize.width+Z,c=pe(t)||t?c+k.availableSize.height+U:Math.max(k.availableSize.height+U,c),L||f.appendChild(_),(i||S===e.length-1)&&((!i&&!this.control.enableCanvas||i&&!L)&&(f.setAttribute("width",o+""),f.setAttribute("height",c+""),f.setAttribute("style","background-color: "+b+";")),m.push({width:o,height:c,svg:f})),i&&S<e.length&&(o=0,c=0,f=new En("").createSvg({id:"Svg_Export_Element",width:200,height:200}))}return m},a.prototype.createCanvas=function(){var e=this.control;this.canvasRender(!0,e);var t=e.svgObject;return this.canvasRender(!1,e),t},a.prototype.canvasRender=function(e,t){t.enableCanvas=e,t.preRender(),t.render()},a.prototype.exportPdf=function(e,t,i,s,o,c,f,m){for(var b=new en,S=b.pageSettings.margins,k=b.pageSettings.width,L=b.pageSettings.height,I=0;e.length>I;I++){var _=e[I].toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");b.pageSettings.orientation=t;var N=k<i[I]?i[I]+S.left+S.right:k,U=t===0?i[I]+S.left+S.right:L<s[I]?s[I]+S.top+S.bottom:L;if(f!==void 0){var Z=new _n(1,f.fontSize||15),V=new oo(N,40);V.graphics.drawString(f.content+"",Z,null,new Dr(new ar(0,0,0)),f.x,f.y,null),b.template.top=V}if(m!==void 0){var Z=new _n(1,m.fontSize||15),$=new oo(N,40);$.graphics.drawString(m.content+"",Z,null,new Dr(new ar(0,0,0)),m.x,m.y,null),b.template.bottom=$}b.pageSettings.size=new Se(N,U),_=_.slice(_.indexOf(",")+1),b.pages.add().graphics.drawImage(new Pl(_),0,0,i[I],s[I])}o&&(b.save(c+".pdf"),b.destroy())},a.prototype.doexport=function(e,t,i){var s=[],o=e||"JPG";s=[t],this.exportImage(s,i,o,t)},a.prototype.exportImage=function(e,t,i,s){for(var o=[],c=e instanceof HTMLElement?0:e.length,f=0;f<c;f++){s=e[f],s=s.replace(/^data:[a-z]*;,/,"");for(var m=s.split(","),b=atob(m[1]),S=new ArrayBuffer(b.length),k=new Uint8Array(S),L=0;L<b.length;L++)k[L]=b.charCodeAt(L);o.push(S)}for(var I=0;I<o.length;I++){var _=new Blob([o[I]],{type:"application/octet-stream"});ze.info.name==="msie"&&window.navigator.msSaveOrOpenBlob(_,t+"."+i.toLocaleLowerCase())}},a}(),Di=function(){function a(){this.numFmtId=0,this.backColor="none",this.fontName="Calibri",this.fontSize=10.5,this.fontColor="#000000",this.italic=!1,this.bold=!1,this.underline=!1,this.strikeThrough=!1,this.wrapText=!1,this.hAlign="general",this.vAlign="bottom",this.indent=0,this.rotation=0,this.numberFormat="GENERAL",this.type="datetime",this.borders=new Bl,this.isGlobalStyle=!1}return a}(),ho=function(){function a(){this.sz=10.5,this.name="Calibri",this.u=!1,this.b=!1,this.i=!1,this.color="FF000000",this.strike=!1}return a}(),Td=function(){function a(){}return a}(),Ld=function(){function a(){}return a}(),Pd=function(){function a(){}return a}(),co=function(){function a(){this.name="Normal",this.xfId=0}return a}(),uo=function(){function a(e,t){this.numFmtId=e,this.formatCode=t}return a}(),Ur=function(){function a(e,t){this.lineStyle=e,this.color=t}return a}(),Bl=function(){function a(){this.left=new Ur("none","#FFFFFF"),this.right=new Ur("none","#FFFFFF"),this.top=new Ur("none","#FFFFFF"),this.bottom=new Ur("none","#FFFFFF"),this.all=new Ur("none","#FFFFFF")}return a}(),Ed=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fo=function(){function a(){}return a}(),po=function(a){Ed(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.add=function(i){for(var s=!1,o=0,c=0,f=t;c<f.length;c++){var m=f[c];m.index===i.index&&(t[o]=i,s=!0),o++}s||t.push(i)},t}return e}(Array),Md=function(){function a(){}return a}(),Od=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),go=function(){function a(){}return a}(),Rd=function(a){Od(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.add=function(i){t.push(i)},t}return e}(Array),Id=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Bd=function(a){Id(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e}(Array),Dd=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fd=function(){function a(){this.isSummaryRowBelow=!0,this.showGridLines=!0,this.enableRtl=!1}return a}(),mo=function(){function a(){}return a}(),Nd=function(){function a(){}return a}(),zd=function(){function a(){}return a}(),Dl=function(){function a(){}return a}(),_d=function(a){Dd(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.add=function(i){for(var s=!1,o=0,c=0,f=t;c<f.length;c++){var m=f[c];if(e.isIntersecting(m,i)){var b=new Dl;b.x=Math.min(m.x,i.x),b.y=Math.min(m.Y,i.y),b.width=Math.max(m.Width+m.X,i.width+i.x),b.height=Math.max(m.Height+m.Y,i.height+i.y),b.ref=t[o].ref.split(":")[0]+":"+i.ref.split(":")[1],t[o]=b,i=b,s=!0}o++}return s||t.push(i),i},t}return e.isIntersecting=function(t,i){return t.x<=i.x+i.width&&i.x<=t.x+t.width&&t.y<=i.y+i.height&&i.y<=t.y+t.height},e}(Array),Vd=function(){function a(){}return a}(),Hd=function(){function a(e){this.intl=new jn}return a.prototype.getFormatFunction=function(e,t){return e.type?(t&&(e.isServerRendered=!0),this.intl.getDateFormat(e)):this.intl.getNumberFormat(e)},a.prototype.toView=function(e,t){var i=e;return!pe(t)&&!pe(e)&&(i=t(e)),i},a.prototype.displayText=function(e,t,i){return this.toView(e,this.getFormatFunction(t,i))},a}(),Wd=function(){function a(e,t){if(this.csvStr="",t==null?this.separator=",":this.separator=t,this.formatter=new Hd,this.isMicrosoftBrowser=!!navigator.msSaveBlob,e.isServerRendered!==null&&e.isServerRendered!==void 0&&(this.isServerRendered=e.isServerRendered),e.styles!==null&&e.styles!==void 0){this.globalStyles=new Map;for(var i=0;i<e.styles.length;i++)e.styles[i].name!==void 0&&e.styles[i].numberFormat!==void 0&&this.globalStyles.set(e.styles[i].name,e.styles[i].numberFormat)}e.worksheets!==null&&e.worksheets!==void 0&&this.parseWorksheet(e.worksheets[0])}return a.prototype.parseWorksheet=function(e){e.rows!==null&&e.rows!==void 0&&this.parseRows(e.rows)},a.prototype.parseRows=function(e){for(var t=1,i=0,s=e;i<s.length;i++){var o=s[i];if(o.index!==null&&o.index!==void 0){for(;t<o.index;)this.csvStr+=`\r
`,t++;this.parseRow(o)}else throw Error("Row index is missing.")}this.csvStr+=`\r
`},a.prototype.parseRow=function(e){if(e.cells!==null&&e.cells!==void 0)for(var t=1,i=0,s=e.cells;i<s.length;i++){var o=s[i];if(o.index!==null&&o.index!==void 0){for(;t<o.index;)this.csvStr+=this.separator,t++;this.parseCell(o)}else throw Error("Cell index is missing.")}},a.prototype.parseCell=function(e){var t=this.csvStr;if(e.value!==void 0)if(e.value instanceof Date)if(e.style!==void 0&&e.style.numberFormat!==void 0)try{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",skeleton:e.style.numberFormat},this.isServerRendered))}catch{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",format:e.style.numberFormat},this.isServerRendered))}else if(e.style!==void 0&&e.style.name!==void 0&&this.globalStyles.has(e.style.name))try{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",skeleton:this.globalStyles.get(e.style.name)},this.isServerRendered))}catch{t+=this.parseCellValue(this.formatter.displayText(e.value,{type:"dateTime",format:this.globalStyles.get(e.style.name)},this.isServerRendered))}else t+=e.value;else typeof e.value=="boolean"?t+=e.value?"TRUE":"FALSE":typeof e.value=="number"?e.style!==void 0&&e.style.numberFormat!==void 0?t+=this.parseCellValue(this.formatter.displayText(e.value,{format:e.style.numberFormat,ignoreCurrency:!0},this.isServerRendered)):e.style!==void 0&&e.style.name!==void 0&&this.globalStyles.has(e.style.name)?t+=this.parseCellValue(this.formatter.displayText(e.value,{format:this.globalStyles.get(e.style.name),ignoreCurrency:!0},this.isServerRendered)):t+=e.value:t+=this.parseCellValue(e.value);this.csvStr=t},a.prototype.parseCellValue=function(e){for(var t="",i=e.length,s=0;s<i;s++)e[s]==='"'?t+=e[s].replace('"','""'):t+=e[s];return e=t,e.indexOf(this.separator)!==-1||e.indexOf(`
`)!==-1||e.indexOf('"')!==-1?e='"'+e+'"':e},a.prototype.save=function(e){if(this.buffer=new Blob(["\uFEFF"+this.csvStr],{type:"text/csv;charset=UTF-8"}),this.isMicrosoftBrowser)navigator.msSaveBlob(this.buffer,e);else{var t=window.URL.createObjectURL(this.buffer),i=document.createElementNS("http://www.w3.org/1999/xhtml","a");i.download=e,i.href=t;var s=document.createEvent("MouseEvent");s.initEvent("click",!0,!0),i.dispatchEvent(s),setTimeout(function(){window.URL.revokeObjectURL(t)})}},a.prototype.saveAsBlob=function(e){if(e!=null){var t=new Br,i="UTF-8";e.toUpperCase()=="ANSI"?(t.type="Ansi",i="ANSI"):e.toUpperCase()=="UNICODE"?(t.type="Unicode",i="UNICODE"):(t.type="Utf8",i="UTF-8");var s=t.getBytes(this.csvStr,0,this.csvStr.length);return new Blob([s],{type:"text/csv;charset="+i})}else return new Blob(["\uFEFF"+this.csvStr],{type:"text/csv;charset=UTF-8"})},a}(),vo=function(){function a(){this.parts=[]}return a.prototype.append=function(e){this.parts.push(e),this.blob=void 0},a.prototype.getBlob=function(){return new Blob(this.parts,{type:"text/plain"})},a}(),jd=function(){function a(){}return a}(),Xd=function(){function a(e,t,i,s,o){if(this.sharedStringCount=0,this.unitsProportions=[96/75,96/300,96,96/25.4,96/2.54,1,96/72,96/72/12700],this.hyperlinkStyle={fontColor:"#0000FF",underline:!0},i!==void 0?this.culture=i:this.culture="en-US",s!==void 0?this.currency=s:this.currency="USD",this.intl=new jn(this.culture),this.mSaveType=t,t==="xlsx"){if(this.mArchive=new _t,this.sharedString=[],this.mFonts=[],this.mBorders=[],this.mStyles=[],this.printTitles=new Map,this.cellStyles=new Map,this.mNumFmt=new Map,this.mFills=new Map,this.mStyles.push(new Di),this.mFonts.push(new ho),this.cellStyles.set("Normal",new co),this.mCellXfs=[],this.mCellStyleXfs=[],this.drawingCount=0,this.imageCount=0,e.styles!==null&&e.styles!==void 0){this.globalStyles=new Map;for(var c=0;c<e.styles.length;c++)if(e.styles[c].name!==void 0){if(this.cellStyles.has(e.styles[c].name))throw Error("Style name "+e.styles[c].name+" is already existed");var f=new Di;f.isGlobalStyle=!0,this.parserCellStyle(e.styles[c],f,"none");var m=new co;m.name=f.name,m.xfId=f.index-1,this.cellStyles.set(m.name,m);var b={};e.styles[c].numberFormat!==void 0&&(b.format=e.styles[c].numberFormat),e.styles[c].type!==void 0?b.type=e.styles[c].type:b.type="datetime",b.format!==void 0&&this.globalStyles.set(e.styles[c].name,b)}}if(e.worksheets!==null&&e.worksheets!==void 0)this.parserWorksheets(e.worksheets);else throw Error("Worksheet is expected.");e.builtInProperties!==null&&e.builtInProperties!==void 0&&(this.builtInProperties=new Yd,this.parserBuiltInProperties(e.builtInProperties,this.builtInProperties))}else this.csvHelper=new Wd(e,o)}return a.prototype.parserBuiltInProperties=function(e,t){e.author!==null&&e.author!==void 0&&(t.author=e.author),e.comments!==null&&e.comments!==void 0&&(t.comments=e.comments),e.category!==null&&e.category!==void 0&&(t.category=e.category),e.company!==null&&e.company!==void 0&&(t.company=e.company),e.manager!==null&&e.manager!==void 0&&(t.manager=e.manager),e.subject!==null&&e.subject!==void 0&&(t.subject=e.subject),e.title!==null&&e.title!==void 0&&(t.title=e.title),e.createdDate!==null&&e.createdDate!==void 0&&(t.createdDate=e.createdDate),e.modifiedDate!==null&&e.modifiedDate!==void 0&&(t.modifiedDate=e.modifiedDate),e.tags!==null&&e.tags!==void 0&&(t.tags=e.tags),e.status!==null&&e.status!==void 0&&(t.status=e.status)},a.prototype.parserWorksheets=function(e){this.worksheets=new Bd;for(var t=e.length,i=0;i<t;i++){var s=e[i],o=new Fd;this.mergeCells=new _d,this.mergedCellsStyle=new Map,this.mHyperLinks=[],s.name!==null&&s.name!==void 0?o.name=s.name:o.name="Sheet"+(i+1).toString(),s.enableRtl!==null&&s.enableRtl!==void 0&&(o.enableRtl=s.enableRtl),o.index=i+1,s.columns!==null&&s.columns!==void 0&&this.parserColumns(s.columns,o),s.rows!==null&&s.rows!==void 0&&this.parserRows(s.rows,o),s.showGridLines!==null&&s.showGridLines!==void 0&&(o.showGridLines=s.showGridLines),s.freeze!==null&&s.freeze!==void 0&&this.parserFreezePanes(s.freeze,o),s.printTitle!==null&&s.printTitle!==void 0&&this.parserPrintTitle(s.printTitle,o),s.pageSetup!==void 0&&s.pageSetup.isSummaryRowBelow!==void 0&&(o.isSummaryRowBelow=s.pageSetup.isSummaryRowBelow),s.images!==void 0&&this.parserImages(s.images,o),s.autoFilters!==null&&s.autoFilters!==void 0&&this.parseFilters(s.autoFilters,o),o.index=i+1,o.mergeCells=this.mergeCells,o.hyperLinks=this.mHyperLinks,this.worksheets.push(o)}},a.prototype.mergeOptions=function(e,t){var i={};return this.applyProperties(e,i),this.applyProperties(t,i),i},a.prototype.applyProperties=function(e,t){for(var i=Object.keys(e),s=0;s<i.length;s++)i[s]!=="name"&&(t[i[s]]=e[i[s]])},a.prototype.getCellName=function(e,t){return this.getColumnName(t)+e.toString()},a.prototype.getColumnName=function(e){e--;var t="";do{var i=e%26;e=e/26-1,t=String.fromCharCode(65+i)+t}while(e>=0);return t},a.prototype.parserPrintTitle=function(e,t){var i="",s;if(e.fromRow!==null&&e.fromRow!==void 0){var o=e.fromRow,c=void 0;e.toRow!==null&&e.toRow!==void 0?c=e.toRow:c=e.fromRow,s="$"+o+":$"+c}var f;if(e.fromColumn!==null&&e.fromColumn!==void 0){var m=e.fromColumn,b=void 0;e.toColumn!==null&&e.toColumn!==void 0?b=e.toColumn:b=e.fromColumn,f="$"+this.getColumnName(m)+":$"+this.getColumnName(b)}s!==void 0&&(i+=t.name+"!"+s),f!==void 0&&s!==void 0?i+=","+(t.name+"!"+f):f!==void 0&&(i+=t.name+"!"+f),i!==""&&this.printTitles.set(t.index-1,i)},a.prototype.parserFreezePanes=function(e,t){t.freezePanes=new zd,e.row!==null&&e.row!==void 0?t.freezePanes.row=e.row:t.freezePanes.row=0,e.column!==null&&e.column!==void 0?t.freezePanes.column=e.column:t.freezePanes.column=0,t.freezePanes.leftCell=this.getCellName(t.freezePanes.row+1,t.freezePanes.column+1)},a.prototype.parserColumns=function(e,t){var i=e.length;t.columns=[];for(var s=0;s<i;s++){var o=new Md;if(e[s].index!==null&&e[s].index!==void 0)o.index=e[s].index;else throw Error("Column index is missing.");e[s].width!==null&&e[s].width!==void 0&&(o.width=e[s].width),t.columns.push(o)}},a.prototype.parserRows=function(e,t){var i=e.length;t.rows=new Rd;for(var s=0,o=0;o<i;o++){var c=this.parserRow(e[o],s);s=c.index,t.rows.add(c)}this.insertMergedCellsStyle(t)},a.prototype.insertMergedCellsStyle=function(e){var t=this;this.mergeCells.length>0&&this.mergedCellsStyle.forEach(function(i,s){var o=e.rows.filter(function(k){return k.index===i.y})[0];if(pe(o)){var b=e.rows.filter(function(L){return L.index<=i.y}),S=new go;S.index=i.y,S.cells=new po,S.cells.add(t.createCell(i,s));var m=0;b.length>0&&(m=e.rows.indexOf(b[b.length-1])+1),e.rows.splice(m,0,S)}else{var c=o.cells.filter(function(k){return k.index===i.x})[0];if(!pe(c))c.styleIndex=i.styleIndex;else{var f=o.cells.filter(function(k){return k.index<=i.x}),m=0;f.length>0&&(m=o.cells.indexOf(f[f.length-1])+1),o.cells.splice(m,0,t.createCell(i,s))}}})},a.prototype.createCell=function(e,t){var i=new fo;return i.refName=t,i.index=e.x,i.cellStyle=new Di,i.styleIndex=e.styleIndex,i},a.prototype.parserRow=function(e,t){var i=new go;if(e.height!==null&&e.height!==void 0&&(i.height=e.height),e.index!==null&&e.index!==void 0)i.index=e.index;else throw Error("Row index is missing.");return e.grouping!==null&&e.grouping!==void 0&&this.parseGrouping(e.grouping,i),this.parseCells(e.cells,i),i},a.prototype.parseGrouping=function(e,t){t.grouping=new Nd,e.outlineLevel!==void 0&&(t.grouping.outlineLevel=e.outlineLevel),e.isCollapsed!==void 0&&(t.grouping.isCollapsed=e.isCollapsed),e.isHidden!==void 0&&(t.grouping.isHidden=e.isHidden)},a.prototype.parseCells=function(e,t){t.cells=new po;for(var i=e!==void 0?e.length:0,s=1,o=1,c=0;c<i;c++){var f=e[c],m=new fo;if(f.index!==null&&f.index!==void 0)m.index=f.index;else throw Error("Cell index is missing.");if(m.index<s?s=m.index:m.index>o&&(o=m.index),m.refName=this.getCellName(t.index,m.index),f.rowSpan!==null&&f.rowSpan!==void 0?m.rowSpan=f.rowSpan-1:m.rowSpan=0,f.colSpan!==null&&f.colSpan!==void 0?m.colSpan=f.colSpan-1:m.colSpan=0,f.hyperlink!==null&&f.hyperlink!==void 0){var b=new mo;f.hyperlink.target!==void 0&&(b.target=f.hyperlink.target,f.hyperlink.displayText!==void 0?m.value=f.hyperlink.displayText:m.value=f.hyperlink.target,m.type=this.getCellValueType(m.value),b.ref=m.refName,b.rId=this.mHyperLinks.length+1,this.mHyperLinks.push(b),m.cellStyle=new Di,this.parserCellStyle(f.style!==void 0?this.mergeOptions(f.style,this.hyperlinkStyle):this.hyperlinkStyle,m.cellStyle,"string"),m.styleIndex=m.cellStyle.index)}f.formula!==null&&f.formula!==void 0&&(m.formula=f.formula,m.type="formula"),f.value!==null&&f.value!==void 0&&(m.formula!==void 0?m.value=0:(m.value=f.value,m.type=this.getCellValueType(m.value))),f.style!==null&&f.style!==void 0&&m.styleIndex===void 0?(m.cellStyle=new Di,m.value instanceof Date?this.parserCellStyle(f.style,m.cellStyle,m.type,14):this.parserCellStyle(f.style,m.cellStyle,m.type),m.styleIndex=m.cellStyle.index):m.value instanceof Date&&(m.cellStyle=new Di,this.parserCellStyle({},m.cellStyle,m.type,14),m.styleIndex=m.cellStyle.index),this.parseCellType(m),this.mergeCells=this.processMergeCells(m,t.index,this.mergeCells),t.cells.add(m),m.index+1}t.spans=s+":"+o},a.prototype.GetColors=function(){var e;return e=new Map,e.set("WHITE","FFFFFFFF"),e.set("SILVER","FFC0C0C0"),e.set("GRAY","FF808080"),e.set("BLACK","FF000000"),e.set("RED","FFFF0000"),e.set("MAROON","FF800000"),e.set("YELLOW","FFFFFF00"),e.set("OLIVE","FF808000"),e.set("LIME","FF00FF00"),e.set("GREEN","FF008000"),e.set("AQUA","FF00FFFF"),e.set("TEAL","FF008080"),e.set("BLUE","FF0000FF"),e.set("NAVY","FF000080"),e.set("FUCHSIA","FFFF00FF"),e.set("PURPLE","FF800080"),e},a.prototype.processColor=function(e){return e.indexOf("#")===0?e.replace("#","FF"):(e=e.toUpperCase(),this.rgbColors=this.GetColors(),this.rgbColors.has(e)?e=this.rgbColors.get(e):e="FF000000",e)},a.prototype.processCellValue=function(e,t){var i=e;if(e.indexOf("<font")!==-1||e.indexOf("<a")!==-1||e.indexOf("<b>")!==-1||e.indexOf("<i>")!==-1||e.indexOf("<u>")!==-1){var s="",o=e.indexOf("<",0),c=e.indexOf(">",o+1);if(o>=0&&c>=0){for(o!==0&&(s+='<r><t xml:space="preserve">'+this.processString(e.substring(0,o))+"</t></r>");o>=0&&c>=0;)if(c=e.indexOf(">",o+1),c>=0){var f=e.substring(o+1,c);o=e.indexOf("<",c+1),o<0&&(o=i.length);var m=i.substring(c+1,o);if(m.length!==0){var b=f.split(" ");if(b.length>0&&(s+="<r><rPr>"),b.length>1)for(var S=0,k=b;S<k.length;S++){var L=k[S],I=L.trim().substring(0,5);switch(I){case"size=":s+='<sz val="'+L.substring(6,L.length-1)+'"/>';break;case"face=":s+='<rFont val="'+L.substring(6,L.length-1)+'"/>';break;case"color":s+='<color rgb="'+this.processColor(L.substring(7,L.length-1))+'"/>';break;case"href=":var _=new mo;_.target=L.substring(6,L.length-1).trim(),_.ref=t.refName,_.rId=this.mHyperLinks.length+1,this.mHyperLinks.push(_),s+='<color rgb="FF0000FF"/><u/><b/>';break}}else if(b.length===1){var N=b[0].trim();switch(N){case"b":s+="<b/>";break;case"i":s+="<i/>";break;case"u":s+="<u/>";break}}s+='</rPr><t xml:space="preserve">'+this.processString(m)+"</t></r>"}}return s===""?i:s}else return i}else return i},a.prototype.applyGlobalStyle=function(e,t){this.cellStyles.has(e.name)&&(t.index=this.mStyles.filter(function(i){return i.name===e.name})[0].index,t.name=e.name)},a.prototype.parserCellStyle=function(e,t,i,s){if(e.name!==null&&e.name!==void 0)if(t.isGlobalStyle)t.name=e.name;else{this.applyGlobalStyle(e,t);return}e.backColor!==null&&e.backColor!==void 0&&(t.backColor=e.backColor),t.borders=new Bl,e.borders!==null&&e.borders!==void 0&&this.parserBorder(e.borders,t.borders.all),e.leftBorder!==null&&e.leftBorder!==void 0&&this.parserBorder(e.leftBorder,t.borders.left),e.rightBorder!==null&&e.rightBorder!==void 0&&this.parserBorder(e.rightBorder,t.borders.right),e.topBorder!==null&&e.topBorder!==void 0&&this.parserBorder(e.topBorder,t.borders.top),e.bottomBorder!==null&&e.bottomBorder!==void 0&&this.parserBorder(e.bottomBorder,t.borders.bottom),e.fontName!==null&&e.fontName!==void 0&&(t.fontName=e.fontName),e.fontSize!==null&&e.fontSize!==void 0&&(t.fontSize=e.fontSize),e.fontColor!==null&&e.fontColor!==void 0&&(t.fontColor=e.fontColor),e.italic!==null&&e.italic!==void 0&&(t.italic=e.italic),e.bold!==null&&e.bold!==void 0&&(t.bold=e.bold),e.hAlign!==null&&e.hAlign!==void 0&&(t.hAlign=e.hAlign.toLowerCase()),e.indent!==null&&e.indent!==void 0&&(t.indent=e.indent,t.hAlign==="left"||t.hAlign==="right"||(t.hAlign="left")),e.rotation!==null&&e.rotation!==void 0&&(t.rotation=e.rotation),e.vAlign!==null&&e.vAlign!==void 0&&(t.vAlign=e.vAlign.toLowerCase()),e.underline!==null&&e.underline!==void 0&&(t.underline=e.underline),e.strikeThrough!==null&&e.strikeThrough!==void 0&&(t.strikeThrough=e.strikeThrough),e.wrapText!==null&&e.wrapText!==void 0&&(t.wrapText=e.wrapText),e.numberFormat!==null&&e.numberFormat!==void 0?e.type!==null&&e.type!==void 0?t.numberFormat=this.getNumberFormat(e.numberFormat,e.type):t.numberFormat=this.getNumberFormat(e.numberFormat,i):(s!==void 0&&(t.numFmtId=14),t.numberFormat="GENERAL"),t.index=this.processCellStyle(t)},a.prototype.switchNumberFormat=function(e,t){var i=this.getNumberFormat(e,t);if(i!==e){var s=this.mNumFmt.get(e);if(s!==void 0&&(s.formatCode=i,this.mNumFmt.has(i))){for(var o=0,c=this.mCellStyleXfs;o<c.length;o++){var f=c[o];f.numFmtId===s.numFmtId&&(f.numFmtId=this.mNumFmt.get(i).numFmtId)}for(var m=0,b=this.mCellXfs;m<b.length;m++){var S=b[m];S.numFmtId===s.numFmtId&&(S.numFmtId=this.mNumFmt.get(i).numFmtId)}}}},a.prototype.changeNumberFormats=function(e){if(typeof e=="string"){var t=new RegExp(this.currency,"g");e=e.replace(t,"[$"+this.currency+"]")}else if(typeof e=="object")for(var i=0;i<e.length;i++)e[i]=e[i].replace(this.currency,"[$"+this.currency+"]");return e},a.prototype.getNumberFormat=function(e,t){var i;switch(t){case"number":try{i=this.intl.getNumberPattern({format:e,currency:this.currency,useGrouping:!0},!0),this.currency.length>1&&(i=this.changeNumberFormats(i))}catch{i=e}break;case"datetime":try{i=this.intl.getDatePattern({skeleton:e,type:"dateTime"},!0)}catch{try{i=this.intl.getDatePattern({format:e,type:"dateTime"},!0)}catch{i=e}}break;case"date":try{i=this.intl.getDatePattern({skeleton:e,type:"date"},!0)}catch{try{i=this.intl.getDatePattern({format:e,type:"date"},!0)}catch{i=e}}break;case"time":try{i=this.intl.getDatePattern({skeleton:e,type:"time"},!0)}catch{try{i=this.intl.getDatePattern({format:e,type:"time"},!0)}catch{i=e}}break;default:i=e;break}return i},a.prototype.parserBorder=function(e,t){e.color!==null&&e.color!==void 0?t.color=e.color:t.color="#000000",e.lineStyle!==null&&e.lineStyle!==void 0?t.lineStyle=e.lineStyle:t.lineStyle="thin"},a.prototype.processCellStyle=function(e){if(e.isGlobalStyle)return this.processNumFormatId(e),this.mStyles.push(e),this.mStyles.length;var t=this.compareStyle(e);return t.result?t.index:(this.processNumFormatId(e),this.mStyles.push(e),this.mStyles.length)},a.prototype.processNumFormatId=function(e){if(e.numberFormat!=="GENERAL"&&!this.mNumFmt.has(e.numberFormat)){var t=this.mNumFmt.size+164;this.mNumFmt.set(e.numberFormat,new uo(t,e.numberFormat))}},a.prototype.isNewFont=function(e){for(var t=!1,i=0,s=0,o=this.mFonts;s<o.length;s++){var c=o[s];i++;var f=void 0;if(e.fontColor!==void 0&&(f="FF"+e.fontColor.replace("#","")),t=c.color===f&&c.b===e.bold&&c.i===e.italic&&c.u===e.underline&&c.strike===e.strikeThrough&&c.name===e.fontName&&c.sz===e.fontSize,t)break}return i=i-1,{index:i,result:t}},a.prototype.isNewBorder=function(e){var t=new Di;return this.isAllBorder(e.borders)?t.borders.all.color===e.borders.all.color&&t.borders.all.lineStyle===e.borders.all.lineStyle:t.borders.left.color===e.borders.left.color&&t.borders.left.lineStyle===e.borders.left.lineStyle&&t.borders.right.color===e.borders.right.color&&t.borders.right.lineStyle===e.borders.right.lineStyle&&t.borders.top.color===e.borders.top.color&&t.borders.top.lineStyle===e.borders.top.lineStyle&&t.borders.bottom.color===e.borders.bottom.color&&t.borders.bottom.lineStyle===e.borders.bottom.lineStyle},a.prototype.isAllBorder=function(e){var t=new Di;return t.borders.all.color!==e.all.color&&t.borders.all.lineStyle!==e.all.lineStyle},a.prototype.compareStyle=function(e){for(var t=!0,i=0,s=0,o=this.mStyles;s<o.length;s++){var c=o[s];if(t=c.isGlobalStyle?!1:c.backColor===e.backColor&&c.bold===e.bold&&c.numFmtId===e.numFmtId&&c.numberFormat===e.numberFormat&&c.type===e.type&&c.fontColor===e.fontColor&&c.fontName===e.fontName&&c.fontSize===e.fontSize&&c.hAlign===e.hAlign&&c.italic===e.italic&&c.underline===e.underline&&c.strikeThrough===e.strikeThrough&&c.vAlign===e.vAlign&&c.indent===e.indent&&c.rotation===e.rotation&&c.wrapText===e.wrapText&&c.borders.all.color===e.borders.all.color&&c.borders.all.lineStyle===e.borders.all.lineStyle&&c.borders.left.color===e.borders.left.color&&c.borders.left.lineStyle===e.borders.left.lineStyle&&c.borders.right.color===e.borders.right.color&&c.borders.right.lineStyle===e.borders.right.lineStyle&&c.borders.top.color===e.borders.top.color&&c.borders.top.lineStyle===e.borders.top.lineStyle&&c.borders.bottom.color===e.borders.bottom.color&&c.borders.bottom.lineStyle===e.borders.bottom.lineStyle,t){i=c.index;break}}return{index:i,result:t}},a.prototype.contains=function(e,t){var i=e.indexOf(t);return i>-1&&i<e.length},a.prototype.getCellValueType=function(e){return e instanceof Date?"datetime":typeof e=="boolean"?"boolean":typeof e=="number"?"number":"string"},a.prototype.parseCellType=function(e){var t=e.type,i,s=e.value;switch(t){case"datetime":if(s=this.toOADate(s),e.cellStyle!==void 0&&e.cellStyle.name!==void 0&&this.globalStyles.has(e.cellStyle.name)){var o=this.globalStyles.get(e.cellStyle.name);this.switchNumberFormat(o.format,o.type)}i="n";break;case"boolean":s=s?1:0,i="b";break;case"number":i="n",e.cellStyle!==void 0&&e.cellStyle.name!==void 0&&this.globalStyles.has(e.cellStyle.name)&&this.switchNumberFormat(this.globalStyles.get(e.cellStyle.name).format,"number");break;case"string":this.sharedStringCount++,i="s";var c=this.processCellValue(s,e);this.contains(this.sharedString,c)||this.sharedString.push(c),s=this.sharedString.indexOf(c);break}e.saveType=i,e.value=s},a.prototype.parserImages=function(e,t){var i=e.length;t.images=[];for(var s=0;s<i;s++){var o=this.parserImage(e[s]);t.images.push(o)}},a.prototype.parseFilters=function(e,t){if(t.autoFilters=new jd,e.row!==null&&e.row!==void 0)t.autoFilters.row=e.row;else throw new Error("Argument Null Exception: row null or empty");if(e.lastRow!==null&&e.lastRow!==void 0)t.autoFilters.lastRow=e.lastRow;else throw new Error("Argument Null Exception: lastRow cannot be null or empty");if(e.column!==null&&e.column!==void 0)t.autoFilters.column=e.column;else throw new Error("Argument Null Exception: column cannot be null or empty");if(e.lastColumn!==null&&e.row!==void 0)t.autoFilters.lastColumn=e.lastColumn;else throw new Error("Argument Null Exception: lastColumn cannot be null or empty")},a.prototype.parserImage=function(e){var t=new Vd;return e.image!==null&&e.image!==void 0&&(t.image=e.image),e.row!==null&&e.row!==void 0&&(t.row=e.row),e.column!==null&&e.column!==void 0&&(t.column=e.column),e.lastRow!==null&&e.lastRow!==void 0&&(t.lastRow=e.lastRow),e.lastColumn!==null&&e.lastColumn!==void 0&&(t.lastColumn=e.lastColumn),e.width!==null&&e.width!==void 0&&(t.width=e.width),e.height!==null&&e.height!==void 0&&(t.height=e.height),e.horizontalFlip!==null&&e.horizontalFlip!==void 0&&(t.horizontalFlip=e.horizontalFlip),e.verticalFlip!==null&&e.verticalFlip!==void 0&&(t.verticalFlip=e.verticalFlip),e.rotation!==null&&e.rotation!==void 0&&(t.rotation=e.rotation),t},a.prototype.saveAsBlob=function(e,t){var i=this;switch(e){case"text/csv":return new Promise(function(s,o){var c={};c.blobData=i.csvHelper.saveAsBlob(t),s(c)});default:return new Promise(function(s,o){i.saveInternal(),i.mArchive.saveAsBlob().then(function(c){var f={};f.blobData=new Blob([c],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s(f)})})}},a.prototype.save=function(e,t){var i=this;if(e==null||e==="")throw new Error("Argument Null Exception: fileName cannot be null or empty");var s=e.match(".xlsx$"),o=e.match(".csv$");if(s!==null&&s[0]==="."+this.mSaveType)this.saveInternal(),this.mArchive.save(e).then(function(){i.mArchive.destroy()});else if(o!==null&&o[0]==="."+this.mSaveType)this.csvHelper.save(e);else throw Error("Save type and file extension is different.")},a.prototype.saveInternal=function(){this.saveWorkbook(),this.saveWorksheets(),this.saveSharedString(),this.saveStyles(),this.saveApp(this.builtInProperties),this.saveCore(this.builtInProperties),this.saveContentType(),this.saveTopLevelRelation(),this.saveWorkbookRelation()},a.prototype.saveWorkbook=function(){for(var e='<?xml version="1.0" encoding="utf-8"?><workbook xmlns:r = "http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns= "http://schemas.openxmlformats.org/spreadsheetml/2006/main"><workbookPr codeName="ThisWorkbook" defaultThemeVersion= "153222"/><bookViews><workbookView activeTab="0"/></bookViews>',t="<sheets>",i=this.worksheets.length,s=0;s<i;s++){var o=this.worksheets[s].name;o=o.replace("&","&amp;"),o=o.replace("<","&lt;"),o=o.replace(">","&gt;"),o=o.replace('"',"&quot;"),t+='<sheet name="'+o+'" sheetId="'+(s+1).toString()+'" r:id ="rId'+(s+1).toString()+'" />'}if(t+="</sheets>",e+=t,this.printTitles.size>0){var c="<definedNames>";this.printTitles.forEach(function(f,m){c+='<definedName name="_xlnm.Print_Titles" localSheetId="'+m+'">'+f+"</definedName>"}),c+="</definedNames>",e+=c}this.addToArchive(e+"</workbook>","xl/workbook.xml")},a.prototype.saveWorksheets=function(){for(var e=this.worksheets.length,t=0;t<e;t++)this.saveWorksheet(this.worksheets[t],t)},a.prototype.saveWorksheet=function(e,t){var i=new vo,s='<?xml version="1.0" encoding="utf-8" standalone="yes"?><worksheet xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';if(e.isSummaryRowBelow?s+="<sheetPr />":s+='<sheetPr><outlinePr summaryBelow="0" ></outlinePr></sheetPr>',s+=this.saveSheetView(e),e.columns!==void 0){for(var o="<cols>",c=0,f=e.columns;c<f.length;c++){var m=f[c];m.width!==void 0?o+='<col min="'+m.index+'" max="'+m.index+'" width="'+this.pixelsToColumnWidth(m.width)+'" customWidth="1" />':o+='<col min="'+m.index+'" max="'+m.index+'" width="8.43" customWidth="1" />'}s+=o+"</cols>"}if(s+="<sheetData>",i.append(s),s="",e.rows!==void 0)for(var b=0,S=e.rows;b<S.length;b++){var k=S[b],L='<row r="'+k.index+'" ';pe(k.spans)||(L+='spans="'+k.spans+'" '),k.height!==void 0&&(L+='ht="'+this.pixelsToRowHeight(k.height)+'" customHeight="1" '),k.grouping!==void 0&&(k.grouping.isHidden&&(L+='hidden="1" '),k.grouping.outlineLevel!==void 0&&(L+='outlineLevel="'+k.grouping.outlineLevel+'" '),k.grouping.isCollapsed&&(L+='collapsed="1" ')),L+=">";for(var I=0,_=k.cells;I<_.length;I++){var N=_[I];N!==void 0&&(N.value!==void 0||N.cellStyle!==void 0)&&(L+='<c r="'+N.refName+'" ',N.saveType!==void 0&&(L+='t="'+N.saveType+'" '),N.styleIndex!==void 0&&(L+='s="'+N.styleIndex+'" '),L+=" >",N.formula!==void 0&&(L+="<f>"+N.formula+"</f>"),N.value!==void 0?L+="<v>"+N.value+"</v></c>":L+="</c>")}L+="</row>",i.append(L)}if(s+="</sheetData>",e.autoFilters!==null&&e.autoFilters!==void 0&&(s+='<autoFilter ref="'+this.getCellName(e.autoFilters.row,e.autoFilters.column)+":"+this.getCellName(e.autoFilters.lastRow,e.autoFilters.lastColumn)+'"/>'),e.mergeCells.length>0){s+='<mergeCells count="'+e.mergeCells.length+'">';for(var U=0,Z=e.mergeCells;U<Z.length;U++){var V=Z[U];s+='<mergeCell ref="'+V.ref+'" />'}s+="</mergeCells>"}if(e.hyperLinks.length>0){s+="<hyperlinks>";for(var $=0,Q=e.hyperLinks;$<Q.length;$++){var H=Q[$];s+='<hyperlink ref="'+H.ref+'" r:id="rId'+H.rId+'" />'}s+="</hyperlinks>"}s+='<pageMargins left="0.75" right="0.75" top="1" bottom="1" header="0.5" footer="0.5" /><headerFooter scaleWithDoc="1" alignWithMargins="0" differentFirst="0" differentOddEven="0" />',e.images!=null&&e.images.length>0&&(this.drawingCount++,this.saveDrawings(e,e.index),s+='<drawing r:id="rId'+(e.hyperLinks.length+1)+'"/>'),this.addToArchive(this.saveSheetRelations(e),"xl/worksheets/_rels/sheet"+e.index+".xml.rels"),i.append(s+"</worksheet>"),this.addToArchive(i.getBlob(),"xl/worksheets/sheet"+(t+1)+".xml")},a.prototype.saveDrawings=function(e,t){var i=new vo,s='<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">';if(e.images!==void 0){for(var o=0,c=0,f=e.images;c<f.length;c++){var m=f[c];m.height!==void 0&&m.width!==void 0?(this.updatelastRowOffset(e,m),this.updatelastColumnOffSet(e,m),m.lastRow-=1,m.lastColumn-=1):m.lastRow!==void 0&&m.lastColumn!==void 0&&(m.lastRowOffset=0,m.lastColOffset=0),o++,s+='<xdr:twoCellAnchor editAs="oneCell">',s+="<xdr:from><xdr:col>",s+=m.column-1,s+="</xdr:col><xdr:colOff>",s+=0,s+="</xdr:colOff><xdr:row>",s+=m.row-1,s+="</xdr:row><xdr:rowOff>",s+=0,s+="</xdr:rowOff></xdr:from>",s+="<xdr:to><xdr:col>",s+=m.lastColumn,s+="</xdr:col><xdr:colOff>",s+=m.lastColOffset,s+="</xdr:colOff><xdr:row>",s+=m.lastRow,s+="</xdr:row><xdr:rowOff>",s+=m.lastRowOffset,s+="</xdr:rowOff></xdr:to>",s+="<xdr:pic>",s+="<xdr:nvPicPr>",s+='<xdr:cNvPr id="'+o+'" name="Picture '+o+'"> </xdr:cNvPr>',s+='<xdr:cNvPicPr><a:picLocks noChangeAspect="1"/></xdr:cNvPicPr> </xdr:nvPicPr>',s+="<xdr:blipFill>",s+='<a:blip xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" r:embed="rId'+o+'" cstate="print">',s+="</a:blip><a:stretch><a:fillRect /></a:stretch></xdr:blipFill>",s+="<xdr:spPr>",s+="<a:xfrm",m.rotation!=null&&m.rotation<=3600&&m.rotation>=-3600&&(s+=' rot="'+m.rotation*6e4+'"'),m.verticalFlip!=null&&m.verticalFlip!=!1&&(s+=' flipV="1"'),m.horizontalFlip!=null&&m.horizontalFlip!=!1&&(s+=' flipH="1"'),s+="/>",s+='<a:prstGeom prst="rect"><a:avLst /></a:prstGeom></xdr:spPr>',s+="</xdr:pic><xdr:clientData /></xdr:twoCellAnchor>";var b=this.convertBase64toImage(m.image);this.imageCount+=1,this.addToArchive(b,"xl/media/image"+this.imageCount+".png")}i.append(s),i.append("</xdr:wsDr>"),this.saveDrawingRelations(e),this.addToArchive(i.getBlob(),"xl/drawings/drawing"+this.drawingCount+".xml")}},a.prototype.updatelastRowOffset=function(e,t){for(var i=t.height,s=t.row,o=0;i>=0;){var c=0;e.rows!==void 0&&e.rows[s-1]!==void 0?c=this.convertToPixels(e.rows[s-1].height===void 0?15:e.rows[s-1].height):c=this.convertToPixels(15);var f=c-o*c/256;if(f>i){t.lastRow=s,t.lastRowOffset=o+i*256/c;var m=0;e.rows!==void 0&&e.rows[s-1]!==void 0?m=this.convertToPixels(e.rows[s-1].height===void 0?15:e.rows[s-1].height):m=this.convertToPixels(15),t.lastRowOffset=m*t.lastRowOffset/256,t.lastRowOffset=Math.round(t.lastRowOffset/this.unitsProportions[7]);break}else i-=f,s++,o=0}},a.prototype.updatelastColumnOffSet=function(e,t){for(var i=t.width,s=t.column,o=0;i>=0;){var c=0;e.columns!==void 0&&e.columns[s-1]!==void 0?c=this.ColumnWidthToPixels(e.columns[s-1].width===void 0?8.43:e.columns[s-1].width):c=this.ColumnWidthToPixels(8.43);var f=c-o*c/1024;if(f>i){t.lastColumn=s,t.lastColOffset=o+i*1024/c;var m=0;e.columns!==void 0&&e.columns[s-1]!==void 0?m=this.ColumnWidthToPixels(e.columns[s-1].width===void 0?8.43:e.columns[s-1].width):m=this.ColumnWidthToPixels(8.43),t.lastColOffset=m*t.lastColOffset/1024,t.lastColOffset=Math.round(t.lastColOffset/this.unitsProportions[7]);break}else i-=f,s++,o=0}},a.prototype.convertToPixels=function(e){return e*this.unitsProportions[6]},a.prototype.convertBase64toImage=function(e){for(var t=window.atob(e),i=new ArrayBuffer(t.length),s=new Uint8Array(i),o=0;o<t.length;o++)s[o]=t.charCodeAt(o);var c=new Blob([s],{type:"image/png"});return c},a.prototype.saveDrawingRelations=function(e){for(var t='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',i=e.images.length,s=this.imageCount-e.images.length,o=1;o<=i;o++)s++,t+='<Relationship Id="rId'+o+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="../media/image'+s+'.png" />';this.addToArchive(t+"</Relationships>","xl/drawings/_rels/drawing"+this.drawingCount+".xml.rels")},a.prototype.pixelsToColumnWidth=function(e){var t=7,i=e>t+5?this.trunc((e-5)/t*100+.5)/100:e/(t+5);return i>1?(i*t+5)/t*256/256:i*(t+5)/t*256/256},a.prototype.ColumnWidthToPixels=function(e){var t=7,i=e>1?(e*t+5)/t*256/256:e*(t+5)/t*256/256;return this.trunc((256*i+this.trunc(128/t))/256*t)},a.prototype.trunc=function(e){var t=e-e%1;return t===0&&(e<0||e===0&&1/e!==1/0)?-0:t},a.prototype.pixelsToRowHeight=function(e){return e*this.unitsProportions[5]/this.unitsProportions[6]},a.prototype.saveSheetRelations=function(e){for(var t='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',i=0,s=e.hyperLinks;i<s.length;i++){var o=s[i];t+='<Relationship Id="rId'+o.rId+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="'+this.processString(o.target)+'" TargetMode="External" />'}return e.images!=null&&e.images.length>0&&(t+='<Relationship Id="rId'+(e.hyperLinks.length+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing'+this.drawingCount+'.xml" />'),t+="</Relationships>",t},a.prototype.saveSheetView=function(e){var t='<sheetViews><sheetView workbookViewId="0" ';return e.enableRtl===!0&&(t+='rightToLeft="1"'),e.showGridLines===!1?t+='showGridLines="0" >':t+=">",e.freezePanes!==void 0&&(t+='<pane state="frozen" topLeftCell="'+e.freezePanes.leftCell+'" ',e.freezePanes.row!==0&&(t+='ySplit="'+e.freezePanes.row+'" '),e.freezePanes.column!==0&&(t+='xSplit="'+e.freezePanes.column+'" '),t+="/>"),t+="</sheetView></sheetViews > ",t},a.prototype.saveSharedString=function(){var e=this.sharedString.length;if(e>0){for(var t='<?xml version="1.0" encoding="utf-8"?><sst uniqueCount="'+e+'" count="'+this.sharedStringCount+'" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">',i="",s=0;s<e;s++)this.sharedString[s].indexOf("<r>")!==0?(i+="<si><t>",i+=this.processString(this.sharedString[s]),i+="</t></si>"):(i+="<si>",i+=this.sharedString[s],i+="</si>");i+="</sst>",this.addToArchive(t+i,"xl/sharedStrings.xml")}},a.prototype.processString=function(e){if(typeof e=="string")e.indexOf("&")!==-1&&(e=e.replace(/&/g,"&amp;")),e.indexOf("<")!==-1&&(e=e.replace(/</g,"&lt;")),e.indexOf(">")!==-1&&(e=e.replace(/>/g,"&gt;")),e.indexOf("\v")!==-1&&(e=e.replace(/\v/g,"_x000B_"));else if(typeof e=="object")for(var t=0;t<e.length;t++)e[t].indexOf("&")!==-1&&(e[t]=e[t].replace(/&/g,"&amp;")),e[t].indexOf("<")!==-1&&(e[t]=e[t].replace(/</g,"&lt;")),e[t].indexOf(">")!==-1&&(e[t]=e[t].replace(/>/g,"&gt;")),e[t].indexOf("\v")!==-1&&(e[t]=e[t].replace(/\v/g,"_x000B_"));return e},a.prototype.saveStyles=function(){this.updateCellXfsStyleXfs();var e='<?xml version="1.0" encoding="utf-8"?><styleSheet xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';e+=this.saveNumberFormats(),e+=this.saveFonts(),e+=this.saveFills(),e+=this.saveBorders(),e+=this.saveCellStyleXfs(),e+=this.saveCellXfs(),e+=this.saveCellStyles(),this.addToArchive(e+"</styleSheet>","xl/styles.xml")},a.prototype.updateCellXfsStyleXfs=function(){for(var e=0,t=this.mStyles;e<t.length;e++){var i=t[e],s=void 0;i.isGlobalStyle?(s=new Pd,s.xfId=i.index-1):(s=new Td,s.xfId=0);var o=this.isNewFont(i);if(o.result)s.fontId=o.index;else{var c=new ho;c.b=i.bold,c.i=i.italic,c.name=i.fontName,c.sz=i.fontSize,c.u=i.underline,c.strike=i.strikeThrough,c.color="FF"+i.fontColor.replace("#",""),this.mFonts.push(c),s.fontId=this.mFonts.length-1}if(i.backColor!=="none"){var f="FF"+i.backColor.replace("#","");if(this.mFills.has(f)){var m=this.mFills.get(f);s.fillId=m}else{var m=this.mFills.size+2;this.mFills.set(f,m),s.fillId=m}}else s.fillId=0;if(this.isNewBorder(i)?s.borderId=0:(this.mBorders.push(i.borders),s.borderId=this.mBorders.length),i.numberFormat!=="GENERAL")if(this.mNumFmt.has(i.numberFormat)){var b=this.mNumFmt.get(i.numberFormat);s.numFmtId=b.numFmtId}else{var S=this.mNumFmt.size+164;this.mNumFmt.set(i.numberFormat,new uo(S,i.numberFormat)),s.numFmtId=S}else i.numberFormat==="GENERAL"&&i.numFmtId===14?s.numFmtId=14:s.numFmtId=0;i.isGlobalStyle||(s.applyAlignment=1),s.alignment=new Ld,s.alignment.indent=i.indent,s.alignment.horizontal=i.hAlign,s.alignment.vertical=i.vAlign,s.alignment.wrapText=i.wrapText?1:0,s.alignment.rotation=i.rotation,i.isGlobalStyle?(this.mCellStyleXfs.push(s),this.mCellXfs.push(s)):this.mCellXfs.push(s)}},a.prototype.saveNumberFormats=function(){if(this.mNumFmt.size>=1){var e='<numFmts count="'+this.mNumFmt.size+'">';return this.mNumFmt.forEach(function(t,i){e+='<numFmt numFmtId="'+t.numFmtId+'" formatCode="'+t.formatCode.replace(/"/g,"&quot;")+'" />'}),e+="</numFmts>"}else return""},a.prototype.saveFonts=function(){var e='<fonts count="'+this.mFonts.length+'">';if(this.mFonts.length>=1)for(var t=0,i=this.mFonts;t<i.length;t++){var s=i[t];e+="<font>",s.b&&(e+="<b />"),s.i&&(e+="<i />"),s.u&&(e+="<u />"),s.strike&&(e+="<strike />"),e+='<sz val="'+s.sz+'" />',e+='<color rgb="'+s.color+'" />',e+='<name val="'+s.name+'" /></font>'}return e+"</fonts>"},a.prototype.saveFills=function(){var e='<fills count="'+(this.mFills.size+2)+'"><fill><patternFill patternType="none"></patternFill></fill><fill><patternFill patternType="gray125"></patternFill></fill>';return this.mFills.size>=1&&this.mFills.forEach(function(t,i){e+='<fill><patternFill patternType="solid"><fgColor rgb="'+i+'" /><bgColor rgb="FFFFFFFF" /></patternFill></fill>'}),e+"</fills>"},a.prototype.saveBorders=function(){var e='<borders count="'+(this.mBorders.length+1)+'"><border><left /><right /><top /><bottom /><diagonal /></border>';if(this.mBorders.length>=1)for(var t=0,i=this.mBorders;t<i.length;t++){var s=i[t];if(this.isAllBorder(s)){var o=s.all.color.replace("#",""),c=s.all.lineStyle;e+='<border><left style="'+c+'"><color rgb="FF'+o+'" /></left><right style="'+c+'"><color rgb="FF'+o+'" /></right><top style="'+c+'"><color rgb="FF'+o+'" /></top><bottom style="'+c+'"><color rgb="FF'+o+'" /></bottom></border>'}else e+='<border><left style="'+s.left.lineStyle+'"><color rgb="FF'+s.left.color.replace("#","")+'" /></left><right style="'+s.right.lineStyle+'"><color rgb="FF'+s.right.color.replace("#","")+'" /></right><top style="'+s.top.lineStyle+'"><color rgb="FF'+s.top.color.replace("#","")+'" /></top><bottom style="'+s.bottom.lineStyle+'"><color rgb="FF'+s.bottom.color.replace("#","")+'" /></bottom></border>'}return e+"</borders>"},a.prototype.saveCellStyles=function(){var e=this,t='<cellStyles  count="'+this.cellStyles.size+'">';return this.cellStyles.forEach(function(i,s){t+='<cellStyle name="'+s+'" xfId="'+e.cellStyles.get(s).xfId+'"',s==="Normal"&&(t+=' builtinId="0"'),t+=" />"}),t+="</cellStyles>"},a.prototype.saveCellStyleXfs=function(){var e='<cellStyleXfs count="'+(this.mCellStyleXfs.length+1)+'"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" />';if(this.mCellStyleXfs.length>=1)for(var t=0,i=this.mCellStyleXfs;t<i.length;t++){var s=i[t];e+='<xf numFmtId="'+s.numFmtId+'" fontId="'+s.fontId+'" fillId="'+s.fillId+'" borderId="'+s.borderId+'" ',s.alignment!==void 0?e+=">"+this.saveAlignment(s)+"</xf>":e+=" />"}return e+"</cellStyleXfs>"},a.prototype.saveCellXfs=function(){var e='<cellXfs count="'+(this.mCellXfs.length+1)+'"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />';if(this.mCellXfs.length>=1)for(var t=0,i=this.mCellXfs;t<i.length;t++){var s=i[t];e+='<xf numFmtId="'+s.numFmtId+'" fontId="'+s.fontId+'" fillId="'+s.fillId+'" borderId="'+s.borderId+'" xfId="'+s.xfId+'" ',s.applyAlignment===1&&(e+='applyAlignment="1"'),e+=">"+this.saveAlignment(s)+"</xf>"}return e+"</cellXfs>"},a.prototype.saveAlignment=function(e){var t="<alignment ";return e.alignment.horizontal!==void 0&&(t+='horizontal="'+e.alignment.horizontal+'" '),e.alignment.indent!==void 0&&e.alignment.indent!==0?t+='indent="'+e.alignment.indent+'" ':e.alignment.rotation!==void 0&&e.alignment.rotation!==0&&(t+='textRotation="'+e.alignment.rotation+'" '),e.alignment.vertical!==void 0&&(t+='vertical="'+e.alignment.vertical+'" '),t+='wrapText="'+e.alignment.wrapText+'" />',t},a.prototype.saveApp=function(e){var t='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><Application>Essential XlsIO</Application>';e!==void 0&&(e.manager!==void 0&&(t+="<Manager>"+e.manager+"</Manager>"),e.company!==void 0&&(t+="<Company>"+e.company+"</Company>")),this.addToArchive(t+"</Properties>","docProps/app.xml")},a.prototype.saveCore=function(e){var t=new Date,i='<?xml version="1.0" encoding="utf-8" standalone="yes"?><cp:coreProperties xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties">';this.builtInProperties!==void 0?(e.author!==void 0&&(i+="<dc:creator>"+e.author+"</dc:creator>"),e.subject!==void 0&&(i+="<dc:subject>"+e.subject+"</dc:subject>"),e.category!==void 0&&(i+="<cp:category>"+e.category+"</cp:category>"),e.comments!==void 0&&(i+="<dc:description>"+e.comments+"</dc:description>"),e.title!==void 0&&(i+="<dc:title>"+e.title+"</dc:title>"),e.tags!==void 0&&(i+="<cp:keywords>"+e.tags+"</cp:keywords>"),e.status!==void 0&&(i+="<cp:contentStatus>"+e.status+"</cp:contentStatus>"),e.createdDate!==void 0?i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+e.createdDate.toISOString()+"</dcterms:created>":i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:created>",e.modifiedDate!==void 0?i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+e.modifiedDate.toISOString()+"</dcterms:modified>":i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:modified>"):(i+='<dcterms:created xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:created>",i+='<dcterms:modified xsi:type="dcterms:W3CDTF">'+t.toISOString()+"</dcterms:modified>"),i+="</cp:coreProperties>",this.addToArchive(i,"docProps/core.xml")},a.prototype.saveTopLevelRelation=function(){var e='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml" /><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml" /><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml" /></Relationships>';this.addToArchive(e,"_rels/.rels")},a.prototype.saveWorkbookRelation=function(){for(var e='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',t=this.worksheets.length,i=0,s=0;s<t;s++,i++)e+='<Relationship Id="rId'+(s+1).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+(s+1).toString()+'.xml" />';e+='<Relationship Id="rId'+(++i).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />',this.sharedStringCount>0&&(e+='<Relationship Id="rId'+(++i).toString()+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />'),this.addToArchive(e+"</Relationships>","xl/_rels/workbook.xml.rels")},a.prototype.saveContentType=function(){for(var e='<?xml version="1.0" encoding="utf-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" /><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />',t="",i=this.worksheets.length,s=0,o=0;o<i;o++)t+='<Override PartName="/xl/worksheets/sheet'+(o+1).toString()+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />',this.worksheets[o].images!=null&&this.worksheets[o].images.length>0&&(s++,t+='<Override PartName="/xl/drawings/drawing'+s.toString()+'.xml" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml" />');this.imageCount>0&&(t+='<Default Extension="png" ContentType="image/png" />'),this.sharedStringCount>0&&(e+='<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" />'),this.addToArchive(e+t+"</Types>","[Content_Types].xml")},a.prototype.addToArchive=function(e,t){if(typeof e=="string"){var i=new Blob([e],{type:"text/plain"}),s=new Ar(i,t);this.mArchive.addItem(s)}else{var s=new Ar(e,t);this.mArchive.addItem(s)}},a.prototype.processMergeCells=function(e,t,i){if(e.rowSpan!==0||e.colSpan!==0){var s=new Dl;s.x=e.index,s.width=e.colSpan,s.y=t,s.height=e.rowSpan;var o=this.getCellName(s.y,s.x),c=this.getCellName(t+s.height,e.index+s.width);s.ref=o+":"+c,i.add(s);var f={x:s.x,y:s.y},m={x:e.index+s.width,y:t+s.height};this.updatedMergedCellStyles(f,m,e)}return i},a.prototype.updatedMergedCellStyles=function(e,t,i){for(var s=e.x;s<=t.x;s++)for(var o=e.y;o<=t.y;o++)this.mergedCellsStyle.set(this.getCellName(o,s),{x:s,y:o,styleIndex:i.styleIndex})},a.prototype.dateToTicks=function(e,t,i){var s=864e9,o=[0,31,59,90,120,151,181,212,243,273,304,334,365],c=[0,31,60,91,121,152,182,213,244,274,305,335,366];if(e>=1&&e<=9999&&t>=1&&t<=12){var f=this.isLeapYear(e)?c:o,m=e-1,b=m*365+(m/4|0)-(m/100|0)+(m/400|0)+f[t-1]+i-1;return b*s}throw new Error("Not a valid date")},a.prototype.timeToTicks=function(e,t,i){if(e>=0&&e<24&&t>=0&&t<60&&i>=0&&i<60){var s=e*3600+t*60+i;return s*1e4*1e3}throw new Error("Not valid time")},a.prototype.isLeapYear=function(e){return e%4===0&&(e%100!==0||e%400===0)},a.prototype.toOADate=function(e){var t=0;if(t=this.dateToTicks(e.getFullYear(),e.getMonth()+1,e.getDate())+this.timeToTicks(e.getHours(),e.getMinutes(),e.getSeconds()),t===0)return 0;var i=1e4*1e3*60*60*24,s=(((365*4+1)*25-1)*4+1)*4+((365*4+1)*25-1)*3-367,o=s*i,c=((365*4+1)*25-1-365)*i;if(t<c)throw new Error("Arg_OleAutDateInvalid");var f=1e3*60*60*24;return(t-o)/1e4/f},a}(),Yd=function(){function a(){}return a}(),Gd=function(){function a(e){this.actualRowCount=0,this.series=[],this.axisCollection=[],this.requiredValuesLength=0,this.histogramSeriesCount=0,this.chart=e}return a.prototype.export=function(e,t,i,s,o,c,f,m,b,S){var k=new lo(this.chart);s=s||[this.chart];var L={cancel:!1,name:_a,width:o,height:c};this.chart.trigger(_a,L),L.cancel||(e==="CSV"||e==="XLSX"?this.excelExport(s,t,e):k.export(e,t,i,s,o=L.width,c=L.height,f,m,b,S))},a.prototype.excelExport=function(e,t,i){this.rows=[],this.actualRowCount=1;var s=[],o=[],c={bold:!0,hAlign:"Center",vAlign:"Center",wrapText:!0},f=[],m=e[0].getModuleName()==="rangeNavigator",b=e[0].getModuleName()==="accumulationchart";if(this.series=m?e[0].series:e[0].visibleSeries,m&&this.series.length===0)e[0].dataSource&&this.createRangeNavigatorExcelSheet(e[0],c,i);else{if(this.histogramSeriesCount=0,this.requiredValuesLength=0,this.axisCollection=[],b||m?this.axisCollection.push(null):this.axisCollection=e[0].getModuleName()==="stockChart"?e[0].chart.horizontalAxes:e[0].horizontalAxes,o=this.getRequiredValues(m),this.requiredValuesLength===0&&this.series.length===this.histogramSeriesCount)return;f=this.getXValue(o,e,m,b),this.getTitle(o,c,e,m,b,i,f[0].length),this.createExcelSheet(m,b,f,i,o,c,e)}var S=[];this.requiredValuesLength=this.requiredValuesLength===0?1:this.requiredValuesLength;for(var k=0;k<this.requiredValuesLength;k++)S.push({index:k+1,width:100});s.push({columns:S,rows:this.rows});var L=new Xd({worksheets:s},i==="XLSX"?"xlsx":"csv");t=t||(i==="XLSX"?"XLSX":"CSV"),L.save(t+(i==="XLSX"?".xlsx":".csv"))},a.prototype.createRangeNavigatorExcelSheet=function(e,t,i){var s=e.xName,o=e.yName;this.rows.push({index:this.actualRowCount,cells:[{index:1,value:e.valueType.indexOf("DateTime")>-1?e.valueType:"Category",colSpan:1,rowSpan:1,style:t},{index:2,value:o,colSpan:1,rowSpan:1,style:t}]}),this.actualRowCount++;for(var c=e.dataSource,f=0;f<c.length;f++)this.rows.push({index:this.actualRowCount,cells:[{index:1,value:i==="CSV"&&c[f][s]===null?"":c[f][s],colSpan:1,rowSpan:1,style:t},{index:2,value:i==="CSV"&&c[f][o]===null?"":c[f][o],colSpan:1,rowSpan:1,style:{}}]}),this.actualRowCount++;this.requiredValuesLength=2},a.prototype.getRequiredValues=function(e){for(var t=[],i=function(c){var f=s.series[c].type;if(!e&&!s.series[c].visible||s.series[c].category==="TrendLine")return t.push([]),"continue";if(f==="Histogram"?(t.push([]),s.histogramSeriesCount++):s.series[c].category==="Pareto"?t.push([s.series[c].xName,"y"]):f.indexOf("Range")!==-1||f==="Hilo"?t.push([s.series[c].xName,s.series[c].high,s.series[c].low]):f==="HiloOpenClose"||f==="Candle"?(t.push([s.series[c].xName,s.series[c].high,s.series[c].low,s.series[c].open,s.series[c].close]),f==="Candle"&&s.series[c].volume!==""&&t[c].push(s.series[c].volume)):f==="BoxAndWhisker"?t.push([s.series[c].xName,"maximum","upperQuartile","median","lowerQuartile","minimum","outliers"]):f==="Bubble"?(t.push([s.series[c].xName,s.series[c].yName]),s.series[c].size!==""&&t[c].push(s.series[c].size)):f==="Pie"?(t.push([s.series[c].xName,s.series[c].yName]),s.series[c].radius.match(/[a-zA-Z]/)&&t[c].push(s.series[c].radius)):t.push([s.series[c].xName,s.series[c].yName]),s.series[c].errorBar&&s.series[c].errorBar.visible){var m=s.series[c].errorBar,b=["verticalError","horizontalError","verticalNegativeError","horizontalNegativeError","verticalPositiveError","horizontalPositiveError"];b.forEach(function(S){typeof m[S]=="string"&&t[c].push(m[S])})}s.requiredValuesLength+=t[c].length},s=this,o=0;o<this.series.length;o++)i(o);return t},a.prototype.getTitle=function(e,t,i,s,o,c,f){var m=[],b=[],S=1,k=!1;!s&&c==="XLSX"&&i[0].title&&(this.rows.push({}),this.actualRowCount++,k=!0);for(var L=0;L<this.axisCollection.length&&!(o&&f===0);L++){for(var I=!1,_="",N=S,U=!1,Z=0;Z<this.series.length;Z++){var V=this.axisCollection[L]!==null?this.axisCollection[L].name==="primaryXAxis"||this.axisCollection[L].name==="primaryYAxis"&&this.series[Z].type.indexOf("Bar")>-1?null:this.axisCollection[L].name:"";if(!(!s&&(!o&&V!==this.series[Z].xAxisName||!this.series[Z].visible||this.series[Z].category==="TrendLine"||this.series[Z].type==="Histogram"))){U||(m.push({}),S++),U=!0;var $=this.series[Z].name,Q=this.series[Z].type==="BoxAndWhisker"?e[Z].length-1:e[Z].length;if(e[Z][1]===this.series[Z].yName)for(var H=1;H<Q;H++)m.push({index:S,value:H===1?$||"Series-"+(Z+1):e[Z][H],colSpan:1,rowSpan:1,style:t}),S++;else{m.push({index:S,value:$||"Series-"+(Z+1),colSpan:Q-1,rowSpan:1,style:t});for(var re=S,H=1;H<Q;H++)b.push({index:re,value:e[Z][H],colSpan:1,rowSpan:1,style:t}),re++;this.series[Z].type==="BoxAndWhisker"&&(m.push({index:re,value:e[Z][Q],colSpan:1,rowSpan:2,style:t}),re++),S=re,I=!0}_=o?e[0][0]:s?i[0].valueType:this.axisCollection[L].valueType,_=o||_.indexOf("DateTime")>-1?_:"Category"}}U&&(m[N-1]={index:N,value:_,colSpan:1,rowSpan:I?2:1,style:t})}m.length&&(this.rows.push({index:this.actualRowCount,cells:m}),this.actualRowCount++),b.length&&(this.rows.push({index:this.actualRowCount,cells:b}),this.actualRowCount++),k&&(m=[],m.push({index:1,value:i[0].title,colSpan:S===1?S:S-1,rowSpan:1,style:t}),this.rows[0]={index:1,cells:m}),this.requiredValuesLength=S-1},a.prototype.getXValue=function(e,t,i,s){for(var o=[],c=0;c<this.axisCollection.length;c++){for(var f=[],m=s?"":i?t[0].valueType:this.axisCollection[c].valueType,b=0;b<this.series.length;b++){var S=this.axisCollection[c]!==null?this.axisCollection[c].name==="primaryXAxis"||this.axisCollection[c].name==="primaryYAxis"&&this.series[b].type.indexOf("Bar")>-1?null:this.axisCollection[c].name:"";if(!(!i&&(!s&&S!==this.series[b].xAxisName||!this.series[b].visible)||this.series[b].category==="TrendLine"||this.series[b].type==="Histogram"))for(var k=0;k<this.series[b].dataSource.length;k++)s&&!this.series[b].points[k].visible||f.push(m.indexOf("DateTime")>-1?new Date(this.series[b].dataSource[k][e[b][0]]).getTime():this.series[b].dataSource[k][e[b][0]])}o.push(f)}for(var L=function(_){o[_]=o[_].filter(function(N,U){return o[_].indexOf(N)===U})},I=0;I<o.length;I++)L(I);return o},a.prototype.createExcelSheet=function(e,t,i,s,o,c,f){for(var m=0,b=0,S=0;S<this.axisCollection.length;S++){for(var k=t?"":e?f[0].valueType:this.axisCollection[S].valueType,L=0;L<i[S].length;L++){b=m||1;for(var I=[],_=!0,N=0;N<this.series.length;N++){var U=this.axisCollection[S]!==null?this.axisCollection[S].name==="primaryXAxis"||this.axisCollection[S].name==="primaryYAxis"&&this.series[N].type.indexOf("Bar")>-1?null:this.axisCollection[S].name:"";if(!(!e&&(!t&&this.series[N].xAxisName!==U||!this.series[N].visible)||this.series[N].category==="TrendLine"||this.series[N].type==="Histogram")){for(var Z=!1,V=this.series[N].dataSource,$=0;$<V.length;$++){var Q=k.indexOf("DateTime")>-1?this.series[N].category==="Pareto"?new Date(this.series[N].points[$][o[N][0]]).getTime():new Date(V[$][o[N][0]]).getTime():this.series[N].category==="Pareto"?this.series[N].points[$][o[N][0]]:V[$][o[N][0]];if(i[S][L]===Q){for(var H=_?0:1,re=this.series[N].type==="BoxAndWhisker"?o[N].length-1:o[N].length;H<re;H++){var ie=H!==0&&(this.series[N].type==="BoxAndWhisker"||this.series[N].category==="Pareto")?this.series[N].points[$][o[N][H]]:V[$][o[N][H]];ie===null&&s==="CSV"&&(ie=""),I.push({index:H===0?m===0?1:m:b,value:ie,colSpan:1,rowSpan:1,style:H===0?c:{}}),b++}this.series[N].type==="BoxAndWhisker"&&(I.push({index:b,value:this.series[N].points[$].outliers[0],colSpan:1,rowSpan:1,style:{}}),b++),_=!1,Z=!0;break}}Z||(b+=o[N].length-1)}}this.rows.push({index:this.actualRowCount,cells:I}),this.actualRowCount++}m=b}},a.prototype.getDataUrl=function(e){var t=new lo(e);return t.getDataUrl(e)},a.prototype.getModuleName=function(){return"Export"},a.prototype.destroy=function(){},a}();function Ud(a){for(var e,t=a.childNodes,i=0;i<t.length;i++)if(e=t[i],e.nodeType===3)return e;return null}var qd=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ui=globalThis&&globalThis.__decorate||function(a,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,e,t,i);else for(var f=a.length-1;f>=0;f--)(c=a[f])&&(o=(s<3?c(o):s>3?c(e,t,o):c(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},yo;(function(a){a.Left="Left",a.Right="Right",a.Top="Top",a.Bottom="Bottom"})(yo||(yo={}));var ri={RTL:"e-rtl",BUTTON:"e-btn",PRIMARY:"e-primary",ICONBTN:"e-icon-btn"},xi=function(a){qd(e,a);function e(t,i){return a.call(this,t,i)||this}return e.prototype.preRender=function(){},e.prototype.render=function(){this.initialize(),this.removeRippleEffect=dh(this.element,{selector:"."+ri.BUTTON}),this.renderComplete()},e.prototype.initialize=function(){this.cssClass&&Ve([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPrimary&&this.element.classList.add(ri.PRIMARY);{if(this.content){var t=this.enableHtmlSanitizer?kn.sanitize(this.content):this.content;this.element.innerHTML=t}this.setIconCss()}this.enableRtl&&this.element.classList.add(ri.RTL),this.disabled?this.controlStatus(this.disabled):this.wireEvents()},e.prototype.controlStatus=function(t){this.element.disabled=t},e.prototype.setIconCss=function(){if(this.iconCss){var t=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(t.classList.add("e-icon-"+this.iconPosition.toLowerCase()),(this.iconPosition==="Top"||this.iconPosition==="Bottom")&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add(ri.ICONBTN);var i=this.element.childNodes[0];i&&(this.iconPosition==="Left"||this.iconPosition==="Top")?this.element.insertBefore(t,i):this.element.appendChild(t)}},e.prototype.wireEvents=function(){this.isToggle&&xe.add(this.element,"click",this.btnClickHandler,this)},e.prototype.unWireEvents=function(){this.isToggle&&xe.remove(this.element,"click",this.btnClickHandler)},e.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},e.prototype.destroy=function(){var t=[ri.PRIMARY,ri.RTL,ri.ICONBTN,"e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(t=t.concat(this.cssClass.split(" "))),a.prototype.destroy.call(this),yt([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));var i=this.element.querySelector("span.e-btn-icon");i&&hn(i),this.unWireEvents()},e.prototype.getModuleName=function(){return"btn"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.Inject=function(){},e.prototype.onPropertyChanged=function(t,i){for(var s=this.element.querySelector("span.e-btn-icon"),o=0,c=Object.keys(t);o<c.length;o++){var f=c[o];switch(f){case"isPrimary":t.isPrimary?this.element.classList.add(ri.PRIMARY):this.element.classList.remove(ri.PRIMARY);break;case"disabled":this.controlStatus(t.disabled);break;case"iconCss":{s=this.element.querySelector("span.e-btn-icon"),s?t.iconCss?(s.className="e-btn-icon "+t.iconCss,this.element.textContent.trim()&&(this.iconPosition==="Left"?s.classList.add("e-icon-left"):s.classList.add("e-icon-right"))):hn(s):this.setIconCss();break}case"iconPosition":yt([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),s=this.element.querySelector("span.e-btn-icon"),s&&hn(s),this.setIconCss();break;case"cssClass":i.cssClass&&yt([this.element],i.cssClass.split(" ")),t.cssClass&&Ve([this.element],t.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":t.enableRtl?this.element.classList.add(ri.RTL):this.element.classList.remove(ri.RTL);break;case"content":{var m=Ud(this.element);m||this.element.classList.remove(ri.ICONBTN),this.enableHtmlSanitizer&&(t.content=kn.sanitize(t.content)),this.element.innerHTML=t.content,this.setIconCss();break}case"isToggle":t.isToggle?xe.add(this.element,"click",this.btnClickHandler,this):(xe.remove(this.element,"click",this.btnClickHandler),yt([this.element],["e-active"]));break}}},e.prototype.click=function(){this.element.click()},e.prototype.focusIn=function(){this.element.focus()},ui([K("Left")],e.prototype,"iconPosition",void 0),ui([K("")],e.prototype,"iconCss",void 0),ui([K(!1)],e.prototype,"disabled",void 0),ui([K(!1)],e.prototype,"isPrimary",void 0),ui([K("")],e.prototype,"cssClass",void 0),ui([K("")],e.prototype,"content",void 0),ui([K(!1)],e.prototype,"isToggle",void 0),ui([K()],e.prototype,"locale",void 0),ui([K(!0)],e.prototype,"enableHtmlSanitizer",void 0),ui([Ee()],e.prototype,"created",void 0),e=ui([Zs],e),e}($s),Zd=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Pt=globalThis&&globalThis.__decorate||function(a,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,e,t,i);else for(var f=a.length-1;f>=0;f--)(c=a[f])&&(o=(s<3?c(o):s>3?c(e,t,o):c(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},$d="e-otp-input-field",bo="e-rtl",Vn;(function(a){a.Number="number",a.Text="text",a.Password="password"})(Vn||(Vn={}));var Hn;(function(a){a.Outlined="outlined",a.Underlined="underlined",a.Filled="filled"})(Hn||(Hn={}));var os;(function(a){a.None="none",a.Uppercase="uppercase",a.Lowercase="lowercase"})(os||(os={}));var Kd=function(a){Zd(e,a);function e(t,i){var s=a.call(this,t,i)||this;return s.inputs=[],s.previousValue="",s.separatorElements=[],s.shouldFireFocus=!0,s.shouldFireBlur=!0,s.isFocusInCalled=!1,s.isFocusOutCalled=!1,s.handleWheelEvent=function(o){o.preventDefault()},s}return e.prototype.preRender=function(){this.element.id||(this.element.id=Fo("e-"+this.getModuleName()))},e.prototype.render=function(){this.initialize()},e.prototype.initialize=function(){xr(this.element,{role:"group"}),this.renderInputs(),this.renderSeparator(1,this.inputs.length),this.addPlaceHolder(),this.updateCssClass(this.cssClass),this.updateVariantClass(),this.updateAriaLabel(this.ariaLabels),this.setElementAttributes(this.htmlAttributes,this.element),this.enableRtl&&this.element.classList.add(bo),this.previousValue=this.value.toString(),this.autoFocus&&this.focusIn()},e.prototype.renderInputs=function(){this.hiddenInputEle=this.createElement("input",{id:"otpInput_hidden",attrs:{name:this.element.id,type:"hidden",value:this.type==="number"?this.value.toString().replace(/\D/g,""):this.value.toString(),autoComplete:"off"}}),this.element.appendChild(this.hiddenInputEle);for(var t=0;t<this.length;t++)this.createOtpInput(t)},e.prototype.createOtpInput=function(t){var i=this.getDefaultValue(),s="";if(i)if(this.type==="number"){var o=i[parseInt(t.toString(),10)];isNaN(Number(o))||(s=o)}else s=i[parseInt(t.toString(),10)]||"";var c=this.createElement("input",{id:this.element.id+"-"+(t+1),className:$d+" e-input",attrs:{maxlength:"1",type:this.type,inputmode:"inputmode"in this.htmlAttributes?this.htmlAttributes.inputmode:this.type==="number"?"numeric":"text"}});this.disabled&&c.setAttribute("disabled","disabled"),this.element.appendChild(c),this.inputs.push(c),s&&(c.value=s),this.wireEvents(c,t)},e.prototype.renderSeparator=function(t,i){if(this.separator.length>0)for(var s=t;s<i;s++){var o=this.createElement("span",{className:"e-otp-separator"});o.textContent=this.separator,this.separatorElements.push(o),this.element.insertBefore(o,this.inputs[parseInt(s.toString(),10)])}},e.prototype.updateSeparatorValue=function(){if(this.separator===""){for(var t=0;t<this.separatorElements.length;t++)At(this.separatorElements[parseInt(t.toString(),10)]);this.separatorElements=[];return}for(var t=0;t<this.separatorElements.length;t++)this.separatorElements[parseInt(t.toString(),10)].textContent=this.separator},e.prototype.addPlaceHolder=function(){for(var t=0;t<this.inputs.length;t++)this.setElementAttributes({placeholder:this.placeholder.length===1||this.placeholder.length===0?this.placeholder:this.placeholder.charAt(t)},this.inputs[parseInt(t.toString(),10)])},e.prototype.updateInputType=function(t){var i=this;this.inputs.forEach(function(s){s.type=t,s.setAttribute("inputmode","inputmode"in i.htmlAttributes?i.htmlAttributes.inputmode:t==="number"?"numeric":"text")})},e.prototype.getDefaultValue=function(){var t=typeof this.value=="number"?this.value.toString():this.value;this.textTransform&&(t=this.getTransformedText(t));var i=t.replace(/\s/g,"");if(i.length>0)return i.split("")},e.prototype.getTransformedText=function(t){var i=this.textTransform.toLowerCase()===os.Lowercase?t.toLowerCase():this.textTransform.toLowerCase()===os.Uppercase?t.toUpperCase():t;return i},e.prototype.handleInputChange=function(t,i){var s=this.inputs[parseInt(t.toString(),10)];if(s&&t<this.length-1&&s.value.length>0){var o=this.inputs[parseInt(t.toString(),10)+1];this.shouldFireFocus=this.shouldFireBlur=!1,o.focus(),o&&o.value.length>0&&o.select()}var c=i.target;c.value.length>1&&(c.value=c.value.slice(0,1)),this.textTransform&&(c.value=this.getTransformedText(c.value)),this.triggerInputEvent(t,i),this.triggerValuechanged(i,!0)},e.prototype.handleKeyAction=function(t,i){i.key.length>1&&!(t===0&&i.key==="Backspace"||t===this.length-1&&i.key==="Delete")&&(this.shouldFireFocus=this.shouldFireBlur=!1);var s=this.inputs[parseInt(t.toString(),10)],o=this.inputs[parseInt(t.toString(),10)-1],c=this.inputs[parseInt(t.toString(),10)+1];if(i.key==="Delete"){var f="";s.value.length>0?(f=s.value,s.value=""):t!==this.inputs.length-1&&(f=c.value,c.value="",c.focus()),f.length>0&&this.triggerInputEvent(t,i)}else if(i.key==="Backspace"){if(t!==0&&s.value.length===0){var m=o.value;o.value="",o.focus(),m.length>0&&this.triggerInputEvent(t,i)}}else i.key==="ArrowLeft"||i.key==="ArrowRight"?(i.key==="ArrowLeft"?t>0&&(o.focus(),o.select()):t<this.inputs.length-1&&(c.focus(),c.select()),i.preventDefault()):(i.key==="ArrowUp"||i.key==="ArrowDown"||i.key!=="Tab"&&!i.shiftKey&&!i.ctrlKey&&this.type==="number"&&/\D/.test(i.key.toLocaleLowerCase()))&&i.preventDefault()},e.prototype.handleSelection=function(t){var i=this.inputs[parseInt(t.toString(),10)];i.value&&i.select()},e.prototype.handleFocus=function(t,i){if(Ve([this.inputs[parseInt(t.toString(),10)]],"e-otp-input-focus"),this.shouldFireFocus){var s={element:this.element,event:i,index:t,isInteracted:!this.isFocusInCalled,value:this.value};this.trigger("focus",s)}this.shouldFireFocus=!0},e.prototype.handleBlur=function(t,i){if(yt([this.inputs[parseInt(t.toString(),10)]],"e-otp-input-focus"),this.shouldFireBlur){var s={element:this.element,event:i,value:this.value,index:t,isInteracted:!this.isFocusOutCalled};this.trigger("blur",s)}this.shouldFireBlur=!0},e.prototype.handlePaste=function(t,i){var s=i.clipboardData;if(s){for(var o=s.getData("text"),c=o.split(""),f=0,m=t;m<this.inputs.length;m++)c.length>0&&c[parseInt(f.toString(),10)]&&(this.inputs[parseInt(m.toString(),10)].value=c[parseInt(f.toString(),10)],f++,this.updateValueProperty());this.focusIn(),this.triggerValuechanged(i,!0)}},e.prototype.triggerInputEvent=function(t,i){var s=this.value.toString();this.updateValueProperty();var o={element:this.element,event:i,previousValue:s,value:this.value.toString(),index:t};this.trigger("input",o)},e.prototype.triggerValuechanged=function(t,i){if(this.length===this.value.toString().length&&this.previousValue!==this.value){var s={element:this.element,event:t,isInteracted:i||!1,previousValue:this.previousValue,value:this.value};this.trigger("valueChanged",s),this.previousValue=this.value.toString()}},e.prototype.wireEvents=function(t,i){xe.add(t,"focus",this.handleFocus.bind(this,i),this),xe.add(t,"blur",this.handleBlur.bind(this,i),this),xe.add(t,"input",this.handleInputChange.bind(this,i),this),xe.add(t,"keydown",this.handleKeyAction.bind(this,i),this),xe.add(t,"click",this.handleSelection.bind(this,i),this),xe.add(t,"paste",this.handlePaste.bind(this,i),this),xe.add(t,"wheel",this.handleWheelEvent,this)},e.prototype.unWireEvents=function(){for(var t=0;t<this.inputs.length;t++){var i=this.inputs[parseInt(t.toString(),10)];xe.remove(i,"focus",this.handleFocus.bind(this,t)),xe.remove(i,"blur",this.handleBlur.bind(this,t)),xe.remove(i,"input",this.handleInputChange.bind(this,t)),xe.remove(i,"keydown",this.handleKeyAction.bind(this,t)),xe.remove(i,"click",this.handleSelection.bind(this,t)),xe.remove(i,"paste",this.handlePaste.bind(this,t)),xe.remove(i,"wheel",this.handleWheelEvent)}},e.prototype.updateValueProperty=function(){var t="";this.inputs.forEach(function(s){t+=s.value});var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=typeof this.value=="number"?parseInt(t,10):t,this.isProtectedOnChange=i,this.hiddenInputEle.value=this.value.toString()},e.prototype.updateInputValue=function(t){var i=this.value.toString();this.textTransform&&(i=this.getTransformedText(i));for(var s=0;s<this.inputs.length;s++){var o=t.toString().charAt(s)!==i.charAt(s);o&&(this.inputs[parseInt(s.toString(),10)].value=i.charAt(s),this.hiddenInputEle.value=i)}this.focusIn()},e.prototype.updateCssClass=function(t,i){i===void 0&&(i="");var s,o,c;i&&(c=i.trim().split(" "),(s=this.element.classList).remove.apply(s,c)),t&&(c=t.trim().split(" "),(o=this.element.classList).add.apply(o,c))},e.prototype.updateVariantClass=function(){var t=this.stylingMode.toLocaleLowerCase();t=t==="outlined"?"outline":t,(t==="underlined"||t==="filled"||t==="outline")&&(yt([this.element],["e-underlined","e-filled","e-outline"]),Ve([this.element],"e-"+t))},e.prototype.updateAriaLabel=function(t){this.inputs.forEach(function(i,s){var o="Enter Otp Character "+(s+1),c=t&&t.length>0&&t[parseInt(s.toString(),10)]||o;i.setAttribute("aria-label",c)})},e.prototype.updateDisabledState=function(){var t=this;this.inputs.forEach(function(i){t.disabled?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled")})},e.prototype.setElementAttributes=function(t,i){if(!pe(t))for(var s in t)if(s==="class"){var o=t.class.replace(/\s+/g," ").trim();o&&Ve([i],o.split(" "))}else s==="inputmode"?this.setInputMode(t[""+s]):s==="name"&&this.element.id===i.id?this.hiddenInputEle.setAttribute(s,t[""+s]):i.setAttribute(s,t[""+s])},e.prototype.setInputMode=function(t){for(var i=0;i<this.inputs.length;i++)this.inputs[parseInt(i.toString(),10)].setAttribute("inputmode",t)},e.prototype.handleLengthChange=function(t,i){var s=t-i>0;if(s){for(var o=i;o<t;o++)this.createOtpInput(o);this.renderSeparator(i,t),this.addPlaceHolder(),this.updateAriaLabel(this.ariaLabels)}else if(t>=0&&this.inputs.length>0){for(var o=t;o<this.inputs.length;o++)At(this.inputs[parseInt(o.toString(),10)]);if(this.inputs.splice(t),this.separatorElements.length>0){for(var c=t===0?0:t-1,o=c;o<this.separatorElements.length;o++)At(this.separatorElements[parseInt(o.toString(),10)]);this.separatorElements.splice(c)}}},e.prototype.getModuleName=function(){return"otpinput"},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.unWireEvents();for(var t=0;t<this.inputs.length;t++)At(this.inputs[parseInt(t.toString(),10)]);for(var t=0;t<this.separatorElements.length;t++)At(this.separatorElements[parseInt(t.toString(),10)]);At(this.hiddenInputEle),yt([this.element],["e-underlined","e-filled","e-outline","e-rtl"]),this.cssClass&&yt([this.element],this.cssClass.trim().split(" ")),this.element.removeAttribute("role"),this.inputs=[],this.separatorElements=[],this.hiddenInputEle=null},e.prototype.focusIn=function(){this.isFocusInCalled=!0;for(var t=this.inputs.length-1,i=0;i<this.inputs.length;i++)if(!(this.inputs[parseInt(i.toString(),10)].value.length>0)){t=i;break}this.inputs[parseInt(t.toString(),10)].focus(),this.isFocusInCalled=!1},e.prototype.focusOut=function(){this.isFocusOutCalled=!0,this.inputs.forEach(function(t){t.blur()}),this.isFocusOutCalled=!1},e.prototype.onPropertyChanged=function(t,i){for(var s=0,o=Object.keys(t);s<o.length;s++){var c=o[s];switch(c){case"textTransform":this.updateInputValue(this.value);break;case"value":this.updateInputValue(i.value),this.triggerValuechanged();break;case"placeholder":this.addPlaceHolder();break;case"disabled":this.updateDisabledState();break;case"cssClass":this.updateCssClass(t.cssClass,i.cssClass);break;case"separator":i.separator===""?this.renderSeparator(1,this.inputs.length):this.updateSeparatorValue();break;case"htmlAttributes":this.setElementAttributes(t.htmlAttributes,this.element);break;case"type":this.updateInputType(t.type);break;case"stylingMode":this.updateVariantClass();break;case"ariaLabels":this.updateAriaLabel(t.ariaLabels);break;case"length":this.handleLengthChange(t.length,i.length);break;case"enableRtl":this.element.classList[this.enableRtl?"add":"remove"](bo);break;case"autoFocus":this.autoFocus&&this.focusIn();break}}},Pt([K(4)],e.prototype,"length",void 0),Pt([K("")],e.prototype,"value",void 0),Pt([K(Vn.Number)],e.prototype,"type",void 0),Pt([K("")],e.prototype,"separator",void 0),Pt([K("")],e.prototype,"placeholder",void 0),Pt([K(Hn.Outlined)],e.prototype,"stylingMode",void 0),Pt([K(!1)],e.prototype,"disabled",void 0),Pt([K("")],e.prototype,"cssClass",void 0),Pt([K(!1)],e.prototype,"autoFocus",void 0),Pt([K(os.None)],e.prototype,"textTransform",void 0),Pt([K({})],e.prototype,"htmlAttributes",void 0),Pt([K([])],e.prototype,"ariaLabels",void 0),Pt([Ee()],e.prototype,"created",void 0),Pt([Ee()],e.prototype,"valueChanged",void 0),Pt([Ee()],e.prototype,"focus",void 0),Pt([Ee()],e.prototype,"blur",void 0),Pt([Ee()],e.prototype,"input",void 0),e=Pt([Zs],e),e}($s),Fl=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),qe=globalThis&&globalThis.__decorate||function(a,e,t,i){var s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,e,t,i);else for(var f=a.length-1;f>=0;f--)(c=a[f])&&(o=(s<3?c(o):s>3?c(e,t,o):c(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Os="e-carousel",Ht="e-active",Rs="e-rtl",xn="e-partial",xo="e-swipe",wn="e-carousel-slide-container",Is="e-carousel-items",Jd="e-cloned",qi="e-carousel-item",Bs="e-previous",wo="e-next",Qd="e-previous-icon",ef="e-next-icon",qr="e-carousel-navigators",Ds="e-carousel-indicators",So="e-indicator-bars",Zr="e-indicator-bar",Co="e-indicator",Fs="e-icons",Sn="e-play-pause",mr="e-play-icon",vr="e-pause-icon",$r="e-previous-button",Kr="e-next-button",Zi="e-play-button",Ao="e-flat",ko="e-round",yr="e-hover-arrows",$i="e-carousel-hover",Ns="e-template",To="e-carousel-slide-animation",Lo="e-carousel-fade-animation",Po="e-carousel-custom-animation",Eo="e-carousel-animation-none",Fi="e-prev",Ni="e-next",Mo="e-transition-start",Oo="e-transition-end",Rt;(function(a){a[a.Touch=1]="Touch",a[a.Mouse=2]="Mouse"})(Rt||(Rt={}));var tf=function(a){Fl(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return qe([K()],e.prototype,"cssClass",void 0),qe([K()],e.prototype,"interval",void 0),qe([K()],e.prototype,"template",void 0),qe([K()],e.prototype,"htmlAttributes",void 0),e}(li),rf=function(a){Fl(e,a);function e(t,i){var s=a.call(this,t,i)||this;return s.isSwipe=!1,s}return e.prototype.getModuleName=function(){return Os.replace("e-","")},e.prototype.getPersistData=function(){return this.addOnPersist(["selectedIndex"])},e.prototype.preRender=function(){this.keyConfigs={home:"home",end:"end",space:"space",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"};var t={nextSlide:"Next slide",of:"of",pauseSlideTransition:"Pause slide transition",playSlideTransition:"Play slide transition",previousSlide:"Previous slide",slide:"Slide",slideShow:"Slide show"};this.localeObj=new Do(this.getModuleName(),t,this.locale)},e.prototype.render=function(){this.initialize(),this.renderSlides(),this.renderNavigators(),this.renderPlayButton(),this.renderIndicators(),this.applyAnimation(),this.wireEvents()},e.prototype.onPropertyChanged=function(t,i){for(var s,o,c=0,f=Object.keys(t);c<f.length;c++){var m=f[c];switch(m){case"animationEffect":this.applyAnimation();break;case"cssClass":un(this.element,[t.cssClass],[i.cssClass]);break;case"selectedIndex":this.setActiveSlide(this.selectedIndex,i.selectedIndex>this.selectedIndex?"Previous":"Next"),this.autoSlide();break;case"htmlAttributes":pe(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element);break;case"enableTouchSwipe":!this.enableTouchSwipe&&this.touchModule&&this.touchModule.destroy(),this.element.querySelector("."+Is)&&this.renderTouchActions();break;case"loop":this.loop&&pe(this.autoSlideInterval)&&this.applySlideInterval(),this.handleNavigatorsActions(this.selectedIndex),(this.partialVisible||this.swipeMode!==(~Rt.Touch&~Rt.Mouse))&&this.reRenderSlides();break;case"enableRtl":if(o=[].slice.call(this.element.querySelectorAll("."+$r+`,
                .`+Kr+", ."+Zi)),o.push(this.element),this.enableRtl?Ve(o,Rs):yt(o,Rs),this.partialVisible||this.swipeMode!==(~Rt.Touch&~Rt.Mouse)){var b=this.loop?this.getNumOfItems():0,S=this.itemsContainer.firstElementChild.clientWidth;this.itemsContainer.style.transform=this.getTranslateX(S,this.selectedIndex+b)}break;case"buttonsVisibility":if(s=this.element.querySelector("."+qr),s)switch(this.buttonsVisibility){case"Hidden":this.resetTemplates(["previousButtonTemplate","nextButtonTemplate"]),At(s);break;case"VisibleOnHover":Ve([].slice.call(s.childNodes),yr);break;case"Visible":yt([].slice.call(s.childNodes),yr);break}else this.renderNavigators(),this.renderPlayButton();break;case"width":cn(this.element,{width:ys(this.width)});break;case"height":cn(this.element,{height:ys(this.height)});break;case"autoPlay":this.showPlayButton&&pe(this.playButtonTemplate)&&this.playButtonClickHandler(null,!0),this.autoSlide();break;case"interval":this.autoSlide();break;case"showIndicators":case"indicatorsType":s=this.element.querySelector("."+Ds),s&&(this.resetTemplates(["indicatorsTemplate"]),At(s)),this.renderIndicators();break;case"showPlayButton":s=this.element.querySelector("."+Sn),!this.showPlayButton&&s&&(At(s),this.resetTemplates(["playButtonTemplate"])),this.renderPlayButton();break;case"items":case"dataSource":{var k=m==="dataSource"?this.dataSource:this.items;!pe(k)&&k.length>0&&this.selectedIndex>=k.length&&(this.setActiveSlide(k.length-1,"Previous"),this.autoSlide()),this.reRenderSlides(),this.reRenderIndicators();break}case"partialVisible":this.partialVisible?Ve([this.element],xn):yt([this.element],xn),this.reRenderSlides();break;case"swipeMode":xe.remove(this.element,"mousedown touchstart",this.swipeStart),xe.remove(this.element,"mousemove touchmove",this.swiping),xe.remove(this.element,"mouseup touchend",this.swipStop),this.swipeModehandlers(),this.reRenderSlides();break}}},e.prototype.reRenderSlides=function(){var t=this.element.querySelector("."+Is);t&&(this.resetTemplates(["itemTemplate"]),At(t)),this.renderSlides()},e.prototype.reRenderIndicators=function(){var t=this.element.querySelector("."+Ds);t&&(this.resetTemplates(["indicatorsTemplate"]),At(t)),this.renderIndicators()},e.prototype.initialize=function(){var t=[];t.push(Os),this.cssClass&&t.push(this.cssClass),this.enableRtl&&t.push(Rs),this.partialVisible&&t.push(xn),this.swipeMode!==(~Rt.Touch&~Rt.Mouse)&&t.push(xo),Ve([this.element],t),cn(this.element,{width:ys(this.width),height:ys(this.height)}),xr(this.element,{role:"group","aria-roledescription":"carousel","aria-label":this.localeObj.getConstant("slideShow")}),pe(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element)},e.prototype.renderSlides=function(){var t=this,i=this.element.querySelector("."+wn);i||(i=this.createElement("div",{className:wn,attrs:{tabindex:"0",role:"tabpanel"}}),this.element.appendChild(i)),this.itemsContainer=this.createElement("div",{className:Is,attrs:{"aria-live":this.autoPlay?"off":"polite"}}),i.appendChild(this.itemsContainer);var s=this.getNumOfItems();s>0&&this.loop&&(this.items.length>0?this.items.slice(-s).forEach(function(f,m){t.renderSlide(f,f.template,m,t.itemsContainer,!0)}):!pe(this.dataSource)&&this.dataSource.length>0&&this.dataSource.slice(-s).forEach(function(f,m){t.renderSlide(f,t.itemTemplate,m,t.itemsContainer,!0)})),this.items.length>0?(this.slideItems=this.items,this.items.forEach(function(f,m){t.renderSlide(f,f.template,m,t.itemsContainer)})):!pe(this.dataSource)&&this.dataSource.length>0&&(this.slideItems=this.dataSource,this.dataSource.forEach(function(f,m){t.renderSlide(f,t.itemTemplate,m,t.itemsContainer)})),s>0&&this.loop&&(this.items.length>0?this.items.slice(0,s).forEach(function(f,m){t.renderSlide(f,f.template,m,t.itemsContainer,!0)}):!pe(this.dataSource)&&this.dataSource.length>0&&this.dataSource.slice(0,s).forEach(function(f,m){t.renderSlide(f,t.itemTemplate,m,t.itemsContainer,!0)})),this.renderTemplates(),this.itemsContainer.style.setProperty("--carousel-items-count",""+this.itemsContainer.children.length);var o=pe(this.itemsContainer.firstElementChild)?0:this.itemsContainer.firstElementChild.clientWidth;this.itemsContainer.style.transitionProperty="none";var c=this.loop?s:0;this.itemsContainer.style.transform=this.getTranslateX(o,this.selectedIndex+c),this.autoSlide(),this.renderTouchActions(),this.renderKeyboardActions()},e.prototype.getTranslateX=function(t,i){return i===void 0&&(i=1),this.enableRtl?"translateX("+t*i+"px)":"translateX("+-t*i+"px)"},e.prototype.renderSlide=function(t,i,s,o,c){c===void 0&&(c=!1);var f=this.createElement("div",{id:Fo("carousel_item"),className:qi+" "+(t.cssClass?t.cssClass:"")+" "+(this.selectedIndex===s&&!c?Ht:""),attrs:{"aria-hidden":this.selectedIndex===s&&!c?"false":"true","data-index":s.toString(),role:"group","aria-roledescription":"slide"}});c&&f.classList.add(Jd),pe(t.htmlAttributes)||this.setHtmlAttributes(t.htmlAttributes,f);var m=this.element.id+"_template",b=this.templateParser(i)(t,this,"itemTemplate",m,!1);Hr(b,f),o.appendChild(f)},e.prototype.renderNavigators=function(){if(this.buttonsVisibility!=="Hidden"){var t=this.createElement("div",{className:qr}),i=this.element.querySelector("."+wn);i.insertAdjacentElement("afterend",t),!pe(this.slideItems)&&this.slideItems.length>1&&(this.renderNavigatorButton("Previous"),this.renderNavigatorButton("Next")),this.renderTemplates()}},e.prototype.renderNavigatorButton=function(t){var i=this.createElement("div",{className:(t==="Previous"?Bs:wo)+" "+(this.buttonsVisibility==="VisibleOnHover"?yr:"")});if(t==="Previous"&&this.previousButtonTemplate){Ve([i],Ns);var s=this.element.id+"_previousButtonTemplate",o=this.templateParser(this.previousButtonTemplate)({type:"Previous"},this,"previousButtonTemplate",s,!1);Hr(o,i)}else if(t==="Next"&&this.nextButtonTemplate){Ve([i],Ns);var s=this.element.id+"_nextButtonTemplate",o=this.templateParser(this.nextButtonTemplate)({type:"Next"},this,"nextButtonTemplate",s,!1);Hr(o,i)}else{var c=this.createElement("button",{attrs:{"aria-label":this.localeObj.getConstant(t==="Previous"?"previousSlide":"nextSlide"),type:"button"}}),f=new xi({cssClass:Ao+" "+ko+" "+(t==="Previous"?$r:Kr),iconCss:Fs+" "+(t==="Previous"?Qd:ef),enableRtl:this.enableRtl,disabled:!this.loop&&this.selectedIndex===(t==="Previous"?0:this.slideItems.length-1)});f.appendTo(c),i.appendChild(c)}this.element.querySelector("."+qr).appendChild(i),xe.add(i,"click",this.navigatorClickHandler,this)},e.prototype.renderPlayButton=function(){if(!(pe(this.slideItems)||this.buttonsVisibility==="Hidden"||!this.showPlayButton||this.slideItems.length<=1)){var t=this.createElement("div",{className:Sn+" "+(this.buttonsVisibility==="VisibleOnHover"?yr:"")});if(this.playButtonTemplate){Ve([t],Ns);var i=this.element.id+"_playButtonTemplate",s=this.templateParser(this.playButtonTemplate)({},this,"playButtonTemplate",i,!1);Hr(s,t)}else{var o=this.createElement("button",{attrs:{"aria-label":this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition"),type:"button"}}),c=this.selectedIndex===this.slideItems.length-1&&!this.loop,f=new xi({cssClass:Ao+" "+ko+" "+Zi,iconCss:Fs+" "+(this.autoPlay&&!c?vr:mr),isToggle:!0,enableRtl:this.enableRtl});c&&(this.setProperties({autoPlay:!1},!0),o.setAttribute("aria-label",this.localeObj.getConstant("playSlideTransition")),this.itemsContainer.setAttribute("aria-live","polite")),f.appendTo(o),t.appendChild(o)}var m=this.element.querySelector("."+qr);m.insertBefore(t,m.lastElementChild),this.renderTemplates(),xe.add(t,"click",this.playButtonClickHandler,this)}},e.prototype.renderIndicators=function(){var t=this;if(!(!this.showIndicators||pe(this.indicatorsType))){var i="e-default";this.indicatorsTemplate||(i="e-"+this.indicatorsType.toLowerCase());var s=this.createElement("div",{className:Ds+" "+i}),o=this.createElement("div",{className:So});s.appendChild(o);var c;if(this.slideItems)switch(this.indicatorsType){case"Fraction":this.indicatorsTemplate?this.renderIndicatorTemplate(o,this.selectedIndex+1):o.innerText=this.selectedIndex+1+" / "+this.slideItems.length;break;case"Progress":this.indicatorsTemplate?this.renderIndicatorTemplate(o,this.selectedIndex+1):(c=this.createElement("div",{className:Zr}),c.style.setProperty("--carousel-items-current",""+(this.selectedIndex+1)),c.style.setProperty("--carousel-items-count",""+this.slideItems.length),o.appendChild(c));break;case"Default":case"Dynamic":this.slideItems.forEach(function(f,m){var b=t.createElement("div",{className:Zr+" "+(t.selectedIndex===m?Ht:t.selectedIndex-1===m?Fi:t.selectedIndex+1===m?Ni:""),attrs:{"data-index":m.toString(),"aria-current":t.selectedIndex===m?"true":"false"}});if(b.style.setProperty("--carousel-items-current",""+t.selectedIndex),t.indicatorsTemplate)t.renderIndicatorTemplate(b,m);else if(t.indicatorsType==="Default"){var S=t.createElement("button",{className:Co,attrs:{type:"button","aria-label":t.localeObj.getConstant("slide")+" "+(m+1)+" "+t.localeObj.getConstant("of")+" "+t.slideItems.length}});b.appendChild(S),S.appendChild(t.createElement("div",{}));var k=new xi({cssClass:"e-flat e-small"});k.appendTo(S)}o.appendChild(b),t.indicatorsType==="Default"&&xe.add(b,"click",t.indicatorClickHandler,t)});break}this.element.appendChild(s)}},e.prototype.renderIndicatorTemplate=function(t,i){i===void 0&&(i=0),Ve([t],Ns);var s=this.element.id+"_indicatorsTemplate",o=this.templateParser(this.indicatorsTemplate)({index:i,selectedIndex:this.selectedIndex},this,"indicatorsTemplate",s,!1);Hr(o,t)},e.prototype.renderKeyboardActions=function(){this.keyModule=new fh(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs})},e.prototype.renderTouchActions=function(){this.enableTouchSwipe&&(this.touchModule=new Bo(this.element,{swipe:this.swipeHandler.bind(this)}))},e.prototype.applyAnimation=function(){switch(yt([this.element],[Po,Lo,To,Eo]),this.animationEffect){case"Slide":Ve([this.element],To);break;case"Fade":Ve([this.element],Lo);break;case"None":Ve([this.element],Eo);break;case"Custom":Ve([this.element],Po);break}},e.prototype.autoSlide=function(){pe(this.slideItems)||this.slideItems.length<=1||(this.resetSlideInterval(),this.applySlideInterval())},e.prototype.autoSlideChange=function(){var t=this.element.querySelector("."+qi+"."+Ht)||this.element.querySelector("."+Ds+" ."+Ht);if(!pe(t)){var i=parseInt(t.dataset.index,10);if(!this.loop&&i===this.slideItems.length-1)this.resetSlideInterval();else{var s=(i+1)%this.slideItems.length;this.element.classList.contains($i)||this.setActiveSlide(s,"Next"),this.autoSlide()}}},e.prototype.applySlideInterval=function(){var t=this;if(!(!this.autoPlay||this.element.classList.contains($i))){var i=this.interval;this.items.length>0&&!pe(this.items[this.selectedIndex||0].interval)&&(i=this.items[this.selectedIndex||0].interval),this.autoSlideInterval=setInterval(function(){return t.autoSlideChange()},i)}},e.prototype.resetSlideInterval=function(){clearInterval(this.autoSlideInterval),this.autoSlideInterval=null},e.prototype.getSlideIndex=function(t){var i=this.selectedIndex||0;return t==="Previous"?(i--,i<0&&(i=this.slideItems.length-1)):(i++,i===this.slideItems.length&&(i=0)),i},e.prototype.setActiveSlide=function(t,i,s){var o=this;if(s===void 0&&(s=!1),!(this.element.querySelectorAll("."+qi+"."+Fi+",."+qi+"."+Ni).length>0)){t=pe(t)?0:t;var c=[].slice.call(this.element.querySelectorAll("."+qi+":not(.e-cloned)")),f=this.element.querySelector("."+qi+"."+Ht);if(pe(f)&&this.showIndicators){var m=this.element.querySelector("."+Zr+"."+Ht),b=parseInt(m.dataset.index,10);Ve([c[parseInt(b.toString(),10)]],Ht);return}else if(pe(f)){Ve([c[parseInt(t.toString(),10)]],Ht);return}var S=parseInt(f.dataset.index,10),k=c[parseInt(t.toString(),10)],L={currentIndex:S,nextIndex:t,currentSlide:f,nextSlide:k,slideDirection:i,isSwiped:s,cancel:!1};this.trigger("slideChanging",L,function(I){if(!I.cancel){o.setProperties({selectedIndex:t},!0),xr(I.currentSlide,{"aria-hidden":"true"}),xr(I.nextSlide,{"aria-hidden":"false"}),o.refreshIndicators(S,t),o.slideChangedEventArgs={currentIndex:I.nextIndex,previousIndex:I.currentIndex,currentSlide:I.nextSlide,previousSlide:I.currentSlide,slideDirection:i,isSwiped:s};var _=c[parseInt(t.toString(),10)].clientWidth,N=o.getNumOfItems();o.isSwipe||(o.itemsContainer.style.transitionDuration="0.6s"),o.isSwipe=!1,o.animationEffect==="Fade"?o.itemsContainer.classList.add("e-fade-in-out"):o.itemsContainer.style.transitionProperty="transform",o.loop?o.slideChangedEventArgs.currentIndex===0&&o.slideChangedEventArgs.slideDirection==="Next"?o.itemsContainer.style.transform=o.getTranslateX(_,c.length+N):o.slideChangedEventArgs.currentIndex===o.slideItems.length-1&&o.slideChangedEventArgs.slideDirection==="Previous"?o.itemsContainer.style.transform=o.partialVisible?o.getTranslateX(_):"translateX(0px)":o.itemsContainer.style.transform=o.getTranslateX(_,t+N):o.itemsContainer.style.transform=o.getTranslateX(_,t),o.animationEffect==="Slide"?i==="Previous"?(Ve([I.nextSlide],Fi),I.nextSlide.setAttribute("data-slide-height",I.nextSlide.offsetHeight.toString()),Ve([I.currentSlide,I.nextSlide],Oo)):(Ve([I.nextSlide],Ni),I.nextSlide.setAttribute("data-slide-height",I.nextSlide.offsetHeight.toString()),Ve([I.currentSlide,I.nextSlide],Mo)):o.animationEffect==="Fade"?(yt([I.currentSlide],Ht),Ve([I.nextSlide],Ht)):o.animationEffect==="Custom"?i==="Previous"?(Ve([I.nextSlide],Ni),Ve([I.currentSlide],Fi)):(Ve([I.currentSlide],Fi),Ve([I.nextSlide],Ni)):o.onTransitionEnd(),o.handleNavigatorsActions(t)}})}},e.prototype.onTransitionEnd=function(){var t=this;yt(this.element.querySelectorAll("."+Is),"e-fade-in-out");var i=this.getNumOfItems();if(this.slideChangedEventArgs){if(this.itemsContainer.style.transitionProperty="none",this.loop&&(this.slideChangedEventArgs.currentIndex===0&&this.slideChangedEventArgs.slideDirection==="Next"||this.slideChangedEventArgs.currentIndex===this.slideItems.length-1&&this.slideChangedEventArgs.slideDirection==="Previous")){var s=this.slideChangedEventArgs.currentSlide.clientWidth;this.itemsContainer.style.transform=this.getTranslateX(s,this.slideChangedEventArgs.currentIndex+i)}Ve([this.slideChangedEventArgs.currentSlide],Ht),yt([this.slideChangedEventArgs.previousSlide],Ht),this.trigger("slideChanged",this.slideChangedEventArgs,function(){yt(t.element.querySelectorAll("."+qi),[Fi,Ni,Mo,Oo]),t.slideChangedEventArgs=null})}},e.prototype.refreshIndicators=function(t,i){var s=this,o=this.element.querySelector("."+So);if(!pe(o)){var c=[].slice.call(o.childNodes);switch(this.indicatorsType){case"Default":case"Dynamic":xr(c[parseInt(t.toString(),10)],{"aria-current":"false"}),xr(c[parseInt(i.toString(),10)],{"aria-current":"true"}),yt(c,[Ht,Fi,Ni]),Ve([c[parseInt(i.toString(),10)]],Ht),c[i-1]&&Ve([c[i-1]],Fi),c[i+1]&&Ve([c[i+1]],Ni),c.forEach(function(f){return f.style.setProperty("--carousel-items-current",""+s.selectedIndex)});break;case"Fraction":this.indicatorsTemplate?(o.children.length>0&&o.removeChild(o.firstElementChild),this.renderIndicatorTemplate(o,i+1)):o.innerText=this.selectedIndex+1+" / "+this.slideItems.length;break;case"Progress":this.indicatorsTemplate?(o.children.length>0&&o.removeChild(o.firstElementChild),this.renderIndicatorTemplate(o,i+1)):o.firstElementChild.style.setProperty("--carousel-items-current",""+(this.selectedIndex+1));break}}},e.prototype.setHtmlAttributes=function(t,i){for(var s=Object.keys(t),o=0,c=s;o<c.length;o++){var f=c[o];f==="class"?Ve([i],t[""+f]):i.setAttribute(f,t[""+f])}},e.prototype.templateParser=function(t){if(t)try{return typeof t!="function"&&document.querySelectorAll(t).length?dn(document.querySelector(t).innerHTML.trim()):dn(t)}catch{return dn(t)}},e.prototype.getNavigatorState=function(t,i){var s=t.querySelector("."+(i?$r:Kr));if(s){var o=cr(s,xi);return o.disabled}return!1},e.prototype.navigatorClickHandler=function(t){var i=t.currentTarget,s=this.getNavigatorState(i,i.classList.contains(Bs));if(!s){var o=i.classList.contains(Bs)?"Previous":"Next";this.setActiveSlide(this.getSlideIndex(o),o),this.autoSlide()}},e.prototype.indicatorClickHandler=function(t){var i=ph(t.target,"."+Zr),s=parseInt(i.dataset.index,10);this.selectedIndex!==s&&(this.setActiveSlide(s,this.selectedIndex>s?"Previous":"Next"),this.autoSlide())},e.prototype.playButtonClickHandler=function(t,i){i===void 0&&(i=!1);var s=this.element.querySelector("."+Zi);if(s){var o=cr(s,xi);i||this.setProperties({autoPlay:!this.autoPlay},!0),s.setAttribute("aria-label",this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition")),o.iconCss=Fs+" "+(this.autoPlay?vr:mr),o.dataBind(),this.itemsContainer.setAttribute("aria-live",this.autoPlay?"off":"polite"),this.autoPlay&&!this.loop&&this.selectedIndex===this.slideItems.length-1&&this.setActiveSlide(0,"Next"),this.autoSlide()}},e.prototype.keyHandler=function(t){var i,s,o=!1,c=t.target;switch(t.preventDefault(),t.action){case"space":this.showIndicators&&c.classList.contains(Co)?c.click():c.classList.contains(Os)||c.classList.contains(Zi)?this.playButtonClickHandler(t):c.classList.contains(Kr)?this.next():c.classList.contains($r)&&this.prev();break;case"end":s=this.slideItems.length-1,i="Next",o=!0;break;case"home":s=0,i="Previous",o=!0;break;case"moveUp":case"moveLeft":case"moveDown":case"moveRight":this.showIndicators&&pe(this.indicatorsTemplate)&&this.element.focus(),i=t.action==="moveUp"||t.action==="moveLeft"?"Previous":"Next",s=this.getSlideIndex(i),o=!this.isSuspendSlideTransition(s,i);break}o&&(this.setActiveSlide(s,i),this.autoSlide(),o=!1)},e.prototype.swipeHandler=function(t){if(!(this.element.classList.contains($i)||pe(this.slideItems)||this.slideItems.length<=1)){var i=t.swipeDirection==="Right"?"Previous":"Next",s=this.getSlideIndex(i);this.isSuspendSlideTransition(s,i)||(this.setActiveSlide(s,i,!0),this.autoSlide())}},e.prototype.isSuspendSlideTransition=function(t,i){return!this.loop&&(i==="Next"&&t===0||i==="Previous"&&t===this.slideItems.length-1)},e.prototype.handleNavigatorsActions=function(t){if(this.buttonsVisibility!=="Hidden"){if(this.showPlayButton){var i=this.element.querySelector("."+Zi),s=this.selectedIndex===this.slideItems.length-1&&!this.loop,o=pe(this.playButtonTemplate)&&i&&s;if(pe(this.playButtonTemplate)&&i&&!s&&(o=!i.classList.contains(Ht)),o){this.setProperties({autoPlay:!s},!0),i.setAttribute("aria-label",this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition")),this.itemsContainer.setAttribute("aria-live",this.autoPlay?"off":"polite");var c=cr(i,xi);c.iconCss=Fs+" "+(this.autoPlay?vr:mr),c.dataBind()}}var f=this.element.querySelector("."+$r);if(f&&pe(this.previousButtonTemplate)){var c=cr(f,xi);c.disabled=!this.loop&&t===0,c.dataBind()}var m=this.element.querySelector("."+Kr);if(m&&pe(this.nextButtonTemplate)){var c=cr(m,xi);c.disabled=!this.loop&&t===this.slideItems.length-1,c.dataBind()}}},e.prototype.onHoverActions=function(t){var i=this.element.querySelector("."+qr);switch(t.type){case"mouseenter":this.buttonsVisibility==="VisibleOnHover"&&i&&yt([].slice.call(i.childNodes),yr),this.pauseOnHover&&Ve([this.element],$i);break;case"mouseleave":this.buttonsVisibility==="VisibleOnHover"&&i&&Ve([].slice.call(i.childNodes),yr),yt([this.element],$i);break}this.autoSlide()},e.prototype.onFocusActions=function(t){switch(t.type){case"focusin":Ve([this.element],$i);break;case"focusout":yt([this.element],$i);break}this.autoSlide()},e.prototype.destroyButtons=function(){for(var t=[].slice.call(this.element.querySelectorAll(".e-control.e-btn")),i=0,s=t;i<s.length;i++){var o=s[i],c=cr(o,xi);c&&c.destroy()}},e.prototype.getNumOfItems=function(){return this.partialVisible?2:1},e.prototype.getTranslateValue=function(t){var i=getComputedStyle(t);return window.WebKitCSSMatrix?new WebKitCSSMatrix(i.webkitTransform).m41:0},e.prototype.swipeStart=function(t){this.timeStampStart||(this.timeStampStart=Date.now()),this.isSwipe=!1,this.itemsContainer.classList.add("e-swipe-start"),this.prevPageX=t.touches?t.touches[0].pageX:t.pageX,this.initialTranslate=this.getTranslateValue(this.itemsContainer)},e.prototype.swiping=function(t){if(this.itemsContainer.classList.contains("e-swipe-start")){t.preventDefault();var i=t.touches?t.touches[0].pageX:t.pageX,s=this.prevPageX-i;!this.loop&&(this.enableRtl&&(this.selectedIndex===0&&s>0||this.selectedIndex===this.itemsContainer.childElementCount-1&&s<0)||!this.enableRtl&&(this.selectedIndex===0&&s<0||this.selectedIndex===this.itemsContainer.childElementCount-1&&s>0))||(this.itemsContainer.style.transform="translateX("+(this.initialTranslate+(this.enableRtl?s:-s))+"px)")}},e.prototype.swipStop=function(){this.isSwipe=!0;var t=Date.now()-this.timeStampStart,i=this.getTranslateValue(this.itemsContainer)-this.initialTranslate;if(i=i<0?i*-1:i,this.isSwipe){var s=i*(ze.isDevice?6:1.66);this.itemsContainer.style.transitionDuration=(ze.isDevice?i:s)/t/10+"s"}var o=this.itemsContainer.firstElementChild.clientWidth,c=o/2;this.itemsContainer.classList.remove("e-swipe-start");var f=this.getTranslateValue(this.itemsContainer);f-this.initialTranslate<-c?this.swipeNavigation(!this.enableRtl):f-this.initialTranslate>c?this.swipeNavigation(this.enableRtl):(this.itemsContainer.style.transform="translateX("+this.initialTranslate+"px)",this.animationEffect==="Fade"&&this.itemsContainer.classList.add("e-fade-in-out"))},e.prototype.swipeNavigation=function(t){t?this.next():this.prev()},e.prototype.swipeModehandlers=function(){(this.swipeMode&Rt.Touch)===Rt.Touch&&(xe.add(this.itemsContainer,"touchstart",this.swipeStart,this),xe.add(this.itemsContainer,"touchmove",this.swiping,this),xe.add(this.itemsContainer,"touchend",this.swipStop,this)),(this.swipeMode&Rt.Mouse)===Rt.Mouse&&(xe.add(this.itemsContainer,"mousedown",this.swipeStart,this),xe.add(this.itemsContainer,"mousemove",this.swiping,this),xe.add(this.itemsContainer,"mouseup",this.swipStop,this)),this.swipeMode===0&&(this.swipeMode&Rt.Mouse&Rt.Touch)===(Rt.Mouse&Rt.Touch)&&(xe.add(this.itemsContainer,"mousedown touchstart",this.swipeStart,this),xe.add(this.itemsContainer,"mousemove touchmove",this.swiping,this),xe.add(this.itemsContainer,"mouseup touchend",this.swipStop,this))},e.prototype.resizeHandler=function(){if(this.itemsContainer&&this.itemsContainer.firstElementChild){var t=this.getNumOfItems(),i=this.itemsContainer.firstElementChild.clientWidth;this.loop?this.itemsContainer.style.transform=this.getTranslateX(i,this.selectedIndex+t):this.itemsContainer.style.transform=this.getTranslateX(i,this.selectedIndex)}},e.prototype.wireEvents=function(){this.animationEffect!=="Custom"&&this.swipeModehandlers(),xe.add(this.element,"focusin focusout",this.onFocusActions,this),xe.add(this.element,"mouseenter mouseleave",this.onHoverActions,this),xe.add(this.element.firstElementChild,"animationend",this.onTransitionEnd,this),xe.add(this.element.firstElementChild,"transitionend",this.onTransitionEnd,this),xe.add(window,"resize",this.resizeHandler,this)},e.prototype.unWireEvents=function(){var t=this,i=[].slice.call(this.element.querySelectorAll("."+Zr));i.forEach(function(c){xe.remove(c,"click",t.indicatorClickHandler)});var s=[].slice.call(this.element.querySelectorAll("."+Bs+",."+wo));s.forEach(function(c){xe.remove(c,"click",t.navigatorClickHandler)});var o=this.element.querySelector("."+Sn);o&&xe.remove(o,"click",this.playButtonClickHandler),xe.remove(this.element.firstElementChild,"animationend",this.onTransitionEnd),xe.remove(this.element.firstElementChild,"transitionend",this.onTransitionEnd),xe.clearEvents(this.element),xe.clearEvents(this.itemsContainer),xe.remove(window,"resize",this.resizeHandler)},e.prototype.prev=function(){if(!(!this.loop&&this.selectedIndex===0)){var t=this.selectedIndex===0?this.slideItems.length-1:this.selectedIndex-1;this.setActiveSlide(t,"Previous"),this.autoSlide()}},e.prototype.next=function(){if(!(!this.loop&&this.selectedIndex===this.slideItems.length-1)){var t=this.selectedIndex===this.slideItems.length-1?0:this.selectedIndex+1;this.setActiveSlide(t,"Next"),this.autoSlide()}},e.prototype.play=function(){var t=this.element.querySelector("."+mr);if(this.showPlayButton&&t){un(t,[vr],[mr]);var i=this.element.querySelector("."+Zi);i.setAttribute("aria-label",this.localeObj.getConstant("pauseSlideTransition"))}this.setProperties({autoPlay:!0},!0),this.itemsContainer.setAttribute("aria-live","off"),this.applySlideInterval()},e.prototype.pause=function(){var t=this.element.querySelector("."+vr);if(this.showPlayButton&&t){var i=this.element.querySelector("."+Zi);i.setAttribute("aria-label",this.localeObj.getConstant("playSlideTransition")),un(t,[mr],[vr])}this.setProperties({autoPlay:!1},!0),this.itemsContainer.setAttribute("aria-live","off"),this.resetSlideInterval()},e.prototype.renderTemplates=function(){(this.isAngular||this.isReact)&&this.renderReactTemplates()},e.prototype.resetTemplates=function(t){(this.isAngular||this.isReact)&&this.clearTemplate(t)},e.prototype.destroy=function(){var t=this;this.resetTemplates(),this.touchModule&&(this.touchModule.destroy(),this.touchModule=null),this.keyModule.destroy(),this.keyModule=null,this.resetSlideInterval(),this.destroyButtons(),this.unWireEvents(),[].slice.call(this.element.children).forEach(function(i){t.element.removeChild(i)}),yt([this.element],[Os,this.cssClass,Rs,xo]),["role","style"].forEach(function(i){t.element.removeAttribute(i)}),this.itemsContainer=null,a.prototype.destroy.call(this)},qe([fi([],tf)],e.prototype,"items",void 0),qe([K("Slide")],e.prototype,"animationEffect",void 0),qe([K()],e.prototype,"previousButtonTemplate",void 0),qe([K()],e.prototype,"nextButtonTemplate",void 0),qe([K()],e.prototype,"indicatorsTemplate",void 0),qe([K()],e.prototype,"playButtonTemplate",void 0),qe([K()],e.prototype,"cssClass",void 0),qe([K([])],e.prototype,"dataSource",void 0),qe([K()],e.prototype,"itemTemplate",void 0),qe([K(0)],e.prototype,"selectedIndex",void 0),qe([K("100%")],e.prototype,"width",void 0),qe([K("100%")],e.prototype,"height",void 0),qe([K(5e3)],e.prototype,"interval",void 0),qe([K(!0)],e.prototype,"autoPlay",void 0),qe([K(!0)],e.prototype,"pauseOnHover",void 0),qe([K(!0)],e.prototype,"loop",void 0),qe([K(!1)],e.prototype,"showPlayButton",void 0),qe([K(!0)],e.prototype,"enableTouchSwipe",void 0),qe([K(!0)],e.prototype,"showIndicators",void 0),qe([K("Default")],e.prototype,"indicatorsType",void 0),qe([K("Visible")],e.prototype,"buttonsVisibility",void 0),qe([K(!1)],e.prototype,"partialVisible",void 0),qe([K(Rt.Touch)],e.prototype,"swipeMode",void 0),qe([K()],e.prototype,"htmlAttributes",void 0),qe([Ee()],e.prototype,"slideChanging",void 0),qe([Ee()],e.prototype,"slideChanged",void 0),e=qe([Zs],e),e}($s),sf=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),la=function(a){sf(e,a);function e(t){var i=a.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={seriesCollection:{series:{trendlines:"trendline",segments:"segment"}},axes:{axis:{stripLines:"stripLine",multiLevelLabels:{multiLevelLabel:{categories:"category"}}}},rows:"row",columns:"column",rangeColorSettings:"rangeColorSetting",annotations:"annotation",selectedDataIndexes:"selectedDataIndex",indicators:"indicator"},i.statelessTemplateProps=null,i.templateProps=null,i.immediateRender=!1,i.isReactMock=!0,i.portals=[],i}return e.prototype.render=function(){if(this.isReactMock=!1,(this.element&&!this.initRenderCalled||this.refreshing)&&!this.isReactForeceUpdate)a.prototype.render.call(this),this.initRenderCalled=!0;else return be.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals))},e}($c);ea(la,[ta,be.Component]);var nf=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Nl=function(a){nf(e,a);function e(t){var i=a.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!1,i.statelessTemplateProps=null,i.templateProps=null,i.immediateRender=!0,i.isReactMock=!0,i.portals=[],i}return e.prototype.render=function(){if(this.isReactMock=!1,(this.element&&!this.initRenderCalled||this.refreshing)&&!this.isReactForeceUpdate)a.prototype.render.call(this),this.initRenderCalled=!0;else return be.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals))},e}(Kd);ea(Nl,[ta,be.Component]);const af=Xn("div")(({theme:a})=>({".e-otpinput.e-outline .e-otp-input-field":{border:`2px solid ${a.palette.primary.main}`,color:a.palette.text.primary,borderRadius:a.shape.borderRadius,padding:a.spacing(1),width:"7%",fontWeight:"bold"},".e-otpinput .e-otp-input-field.e-input.e-otp-input-focus:focus":{borderColor:a.palette.secondary.main,border:`2px solid ${a.palette.primary.main}`,boxShadow:`0 0 10px ${a.palette.primary.main}`,color:a.palette.text.primary,borderRadius:a.shape.borderRadius,padding:a.spacing(1),width:"7%"},".e-otpinput.e-outline.e-error .e-otp-input-field":{border:"2px solid #f44336",color:a.palette.text.primary,borderRadius:a.shape.borderRadius,padding:a.spacing(1),width:"7%",fontWeight:"bold"},".e-error .e-otp-input-field.e-input.e-otp-input-focus:focus":{borderColor:a.palette.secondary.main,border:`2px solid ${a.palette.error.main}`,boxShadow:`0 0 10px ${a.palette.error.main}`,color:a.palette.text.primary,borderRadius:a.shape.borderRadius,padding:a.spacing(1),width:"7%"}}));function ha({isOpen:a,show:e,onSuccess:t,onClose:i,uri:s,uniqueKey:o}){const{t:c,i18n:f}=hi(),[m,b]=be.useState(!1),[S,k]=be.useState(!1),L=I=>{k(!0),ti.post(s,{pin:I==null?void 0:I.value,show:e}).then(_=>{k(!1),_.data?(t(_.data),b(!1)):b(!0)})};return be.useEffect(()=>{o!==0&&L(null)},[o]),G.jsx(Yn,{open:a,onClose:i,children:G.jsxs("div",{className:"max-w-md mx-auto text-center px-4 sm:px-8 py-10 rounded-xl shadow",children:[G.jsxs("header",{className:"mb-8",children:[G.jsxs(st,{variant:"h4",mb:1,children:[c(je.dashboard.otpTitle)," ",S&&G.jsx(gh,{color:"primary",size:20})]}),G.jsx(st,{variant:"p",sx:{fontWeight:"200",fontSize:"14px"},children:c(je.dashboard.otpMessage)})]}),G.jsx("form",{id:"otp-form",children:G.jsx("div",{className:"flex items-center justify-center gap-3",children:G.jsx(af,{children:G.jsx(Nl,{type:"password",id:"otpinput",separator:"-",cssClass:m&&"e-error",valueChanged:L,autoFocus:!0})})})})]})})}var of={},tn={};tn.byteLength=cf;tn.toByteArray=df;tn.fromByteArray=gf;var bi=[],ni=[],lf=typeof Uint8Array<"u"?Uint8Array:Array,Cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var br=0,hf=Cn.length;br<hf;++br)bi[br]=Cn[br],ni[Cn.charCodeAt(br)]=br;ni["-".charCodeAt(0)]=62;ni["_".charCodeAt(0)]=63;function zl(a){var e=a.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=a.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function cf(a){var e=zl(a),t=e[0],i=e[1];return(t+i)*3/4-i}function uf(a,e,t){return(e+t)*3/4-t}function df(a){var e,t=zl(a),i=t[0],s=t[1],o=new lf(uf(a,i,s)),c=0,f=s>0?i-4:i,m;for(m=0;m<f;m+=4)e=ni[a.charCodeAt(m)]<<18|ni[a.charCodeAt(m+1)]<<12|ni[a.charCodeAt(m+2)]<<6|ni[a.charCodeAt(m+3)],o[c++]=e>>16&255,o[c++]=e>>8&255,o[c++]=e&255;return s===2&&(e=ni[a.charCodeAt(m)]<<2|ni[a.charCodeAt(m+1)]>>4,o[c++]=e&255),s===1&&(e=ni[a.charCodeAt(m)]<<10|ni[a.charCodeAt(m+1)]<<4|ni[a.charCodeAt(m+2)]>>2,o[c++]=e>>8&255,o[c++]=e&255),o}function ff(a){return bi[a>>18&63]+bi[a>>12&63]+bi[a>>6&63]+bi[a&63]}function pf(a,e,t){for(var i,s=[],o=e;o<t;o+=3)i=(a[o]<<16&16711680)+(a[o+1]<<8&65280)+(a[o+2]&255),s.push(ff(i));return s.join("")}function gf(a){for(var e,t=a.length,i=t%3,s=[],o=16383,c=0,f=t-i;c<f;c+=o)s.push(pf(a,c,c+o>f?f:c+o));return i===1?(e=a[t-1],s.push(bi[e>>2]+bi[e<<4&63]+"==")):i===2&&(e=(a[t-2]<<8)+a[t-1],s.push(bi[e>>10]+bi[e>>4&63]+bi[e<<2&63]+"=")),s.join("")}var ca={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ca.read=function(a,e,t,i,s){var o,c,f=s*8-i-1,m=(1<<f)-1,b=m>>1,S=-7,k=t?s-1:0,L=t?-1:1,I=a[e+k];for(k+=L,o=I&(1<<-S)-1,I>>=-S,S+=f;S>0;o=o*256+a[e+k],k+=L,S-=8);for(c=o&(1<<-S)-1,o>>=-S,S+=i;S>0;c=c*256+a[e+k],k+=L,S-=8);if(o===0)o=1-b;else{if(o===m)return c?NaN:(I?-1:1)*(1/0);c=c+Math.pow(2,i),o=o-b}return(I?-1:1)*c*Math.pow(2,o-i)};ca.write=function(a,e,t,i,s,o){var c,f,m,b=o*8-s-1,S=(1<<b)-1,k=S>>1,L=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=i?0:o-1,_=i?1:-1,N=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,c=S):(c=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-c))<1&&(c--,m*=2),c+k>=1?e+=L/m:e+=L*Math.pow(2,1-k),e*m>=2&&(c++,m/=2),c+k>=S?(f=0,c=S):c+k>=1?(f=(e*m-1)*Math.pow(2,s),c=c+k):(f=e*Math.pow(2,k-1)*Math.pow(2,s),c=0));s>=8;a[t+I]=f&255,I+=_,f/=256,s-=8);for(c=c<<s|f,b+=s;b>0;a[t+I]=c&255,I+=_,c/=256,b-=8);a[t+I-_]|=N*128};var mf={}.toString,vf=Array.isArray||function(a){return mf.call(a)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(a){var e=tn,t=ca,i=vf;a.Buffer=f,a.SlowBuffer=Z,a.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=wa.TYPED_ARRAY_SUPPORT!==void 0?wa.TYPED_ARRAY_SUPPORT:s(),a.kMaxLength=o();function s(){try{var Y=new Uint8Array(1);return Y.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Y.foo()===42&&typeof Y.subarray=="function"&&Y.subarray(1,1).byteLength===0}catch{return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(Y,O){if(o()<O)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(Y=new Uint8Array(O),Y.__proto__=f.prototype):(Y===null&&(Y=new f(O)),Y.length=O),Y}function f(Y,O,R){if(!f.TYPED_ARRAY_SUPPORT&&!(this instanceof f))return new f(Y,O,R);if(typeof Y=="number"){if(typeof O=="string")throw new Error("If encoding is specified then the first argument must be a string");return k(this,Y)}return m(this,Y,O,R)}f.poolSize=8192,f._augment=function(Y){return Y.__proto__=f.prototype,Y};function m(Y,O,R,q){if(typeof O=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&O instanceof ArrayBuffer?_(Y,O,R,q):typeof O=="string"?L(Y,O,R):N(Y,O)}f.from=function(Y,O,R){return m(null,Y,O,R)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0}));function b(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be a number');if(Y<0)throw new RangeError('"size" argument must not be negative')}function S(Y,O,R,q){return b(O),O<=0?c(Y,O):R!==void 0?typeof q=="string"?c(Y,O).fill(R,q):c(Y,O).fill(R):c(Y,O)}f.alloc=function(Y,O,R){return S(null,Y,O,R)};function k(Y,O){if(b(O),Y=c(Y,O<0?0:U(O)|0),!f.TYPED_ARRAY_SUPPORT)for(var R=0;R<O;++R)Y[R]=0;return Y}f.allocUnsafe=function(Y){return k(null,Y)},f.allocUnsafeSlow=function(Y){return k(null,Y)};function L(Y,O,R){if((typeof R!="string"||R==="")&&(R="utf8"),!f.isEncoding(R))throw new TypeError('"encoding" must be a valid string encoding');var q=V(O,R)|0;Y=c(Y,q);var te=Y.write(O,R);return te!==q&&(Y=Y.slice(0,te)),Y}function I(Y,O){var R=O.length<0?0:U(O.length)|0;Y=c(Y,R);for(var q=0;q<R;q+=1)Y[q]=O[q]&255;return Y}function _(Y,O,R,q){if(O.byteLength,R<0||O.byteLength<R)throw new RangeError("'offset' is out of bounds");if(O.byteLength<R+(q||0))throw new RangeError("'length' is out of bounds");return R===void 0&&q===void 0?O=new Uint8Array(O):q===void 0?O=new Uint8Array(O,R):O=new Uint8Array(O,R,q),f.TYPED_ARRAY_SUPPORT?(Y=O,Y.__proto__=f.prototype):Y=I(Y,O),Y}function N(Y,O){if(f.isBuffer(O)){var R=U(O.length)|0;return Y=c(Y,R),Y.length===0||O.copy(Y,0,0,R),Y}if(O){if(typeof ArrayBuffer<"u"&&O.buffer instanceof ArrayBuffer||"length"in O)return typeof O.length!="number"||Mt(O.length)?c(Y,0):I(Y,O);if(O.type==="Buffer"&&i(O.data))return I(Y,O.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function U(Y){if(Y>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return Y|0}function Z(Y){return+Y!=Y&&(Y=0),f.alloc(+Y)}f.isBuffer=function(O){return!!(O!=null&&O._isBuffer)},f.compare=function(O,R){if(!f.isBuffer(O)||!f.isBuffer(R))throw new TypeError("Arguments must be Buffers");if(O===R)return 0;for(var q=O.length,te=R.length,ue=0,fe=Math.min(q,te);ue<fe;++ue)if(O[ue]!==R[ue]){q=O[ue],te=R[ue];break}return q<te?-1:te<q?1:0},f.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(O,R){if(!i(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return f.alloc(0);var q;if(R===void 0)for(R=0,q=0;q<O.length;++q)R+=O[q].length;var te=f.allocUnsafe(R),ue=0;for(q=0;q<O.length;++q){var fe=O[q];if(!f.isBuffer(fe))throw new TypeError('"list" argument must be an Array of Buffers');fe.copy(te,ue),ue+=fe.length}return te};function V(Y,O){if(f.isBuffer(Y))return Y.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Y)||Y instanceof ArrayBuffer))return Y.byteLength;typeof Y!="string"&&(Y=""+Y);var R=Y.length;if(R===0)return 0;for(var q=!1;;)switch(O){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":case void 0:return gt(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return ci(Y).length;default:if(q)return gt(Y).length;O=(""+O).toLowerCase(),q=!0}}f.byteLength=V;function $(Y,O,R){var q=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,O>>>=0,R<=O))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return at(this,O,R);case"utf8":case"utf-8":return le(this,O,R);case"ascii":return Qe(this,O,R);case"latin1":case"binary":return wt(this,O,R);case"base64":return Oe(this,O,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pt(this,O,R);default:if(q)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),q=!0}}f.prototype._isBuffer=!0;function Q(Y,O,R){var q=Y[O];Y[O]=Y[R],Y[R]=q}f.prototype.swap16=function(){var O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<O;R+=2)Q(this,R,R+1);return this},f.prototype.swap32=function(){var O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<O;R+=4)Q(this,R,R+3),Q(this,R+1,R+2);return this},f.prototype.swap64=function(){var O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<O;R+=8)Q(this,R,R+7),Q(this,R+1,R+6),Q(this,R+2,R+5),Q(this,R+3,R+4);return this},f.prototype.toString=function(){var O=this.length|0;return O===0?"":arguments.length===0?le(this,0,O):$.apply(this,arguments)},f.prototype.equals=function(O){if(!f.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:f.compare(this,O)===0},f.prototype.inspect=function(){var O="",R=a.INSPECT_MAX_BYTES;return this.length>0&&(O=this.toString("hex",0,R).match(/.{2}/g).join(" "),this.length>R&&(O+=" ... ")),"<Buffer "+O+">"},f.prototype.compare=function(O,R,q,te,ue){if(!f.isBuffer(O))throw new TypeError("Argument must be a Buffer");if(R===void 0&&(R=0),q===void 0&&(q=O?O.length:0),te===void 0&&(te=0),ue===void 0&&(ue=this.length),R<0||q>O.length||te<0||ue>this.length)throw new RangeError("out of range index");if(te>=ue&&R>=q)return 0;if(te>=ue)return-1;if(R>=q)return 1;if(R>>>=0,q>>>=0,te>>>=0,ue>>>=0,this===O)return 0;for(var fe=ue-te,De=q-R,_e=Math.min(fe,De),Ke=this.slice(te,ue),dt=O.slice(R,q),Je=0;Je<_e;++Je)if(Ke[Je]!==dt[Je]){fe=Ke[Je],De=dt[Je];break}return fe<De?-1:De<fe?1:0};function H(Y,O,R,q,te){if(Y.length===0)return-1;if(typeof R=="string"?(q=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,isNaN(R)&&(R=te?0:Y.length-1),R<0&&(R=Y.length+R),R>=Y.length){if(te)return-1;R=Y.length-1}else if(R<0)if(te)R=0;else return-1;if(typeof O=="string"&&(O=f.from(O,q)),f.isBuffer(O))return O.length===0?-1:re(Y,O,R,q,te);if(typeof O=="number")return O=O&255,f.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(Y,O,R):Uint8Array.prototype.lastIndexOf.call(Y,O,R):re(Y,[O],R,q,te);throw new TypeError("val must be string, number or Buffer")}function re(Y,O,R,q,te){var ue=1,fe=Y.length,De=O.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(Y.length<2||O.length<2)return-1;ue=2,fe/=2,De/=2,R/=2}function _e(ji,lr){return ue===1?ji[lr]:ji.readUInt16BE(lr*ue)}var Ke;if(te){var dt=-1;for(Ke=R;Ke<fe;Ke++)if(_e(Y,Ke)===_e(O,dt===-1?0:Ke-dt)){if(dt===-1&&(dt=Ke),Ke-dt+1===De)return dt*ue}else dt!==-1&&(Ke-=Ke-dt),dt=-1}else for(R+De>fe&&(R=fe-De),Ke=R;Ke>=0;Ke--){for(var Je=!0,Ri=0;Ri<De;Ri++)if(_e(Y,Ke+Ri)!==_e(O,Ri)){Je=!1;break}if(Je)return Ke}return-1}f.prototype.includes=function(O,R,q){return this.indexOf(O,R,q)!==-1},f.prototype.indexOf=function(O,R,q){return H(this,O,R,q,!0)},f.prototype.lastIndexOf=function(O,R,q){return H(this,O,R,q,!1)};function ie(Y,O,R,q){R=Number(R)||0;var te=Y.length-R;q?(q=Number(q),q>te&&(q=te)):q=te;var ue=O.length;if(ue%2!==0)throw new TypeError("Invalid hex string");q>ue/2&&(q=ue/2);for(var fe=0;fe<q;++fe){var De=parseInt(O.substr(fe*2,2),16);if(isNaN(De))return fe;Y[R+fe]=De}return fe}function ae(Y,O,R,q){return Lt(gt(O,Y.length-R),Y,R,q)}function Ce(Y,O,R,q){return Lt(Ft(O),Y,R,q)}function me(Y,O,R,q){return Ce(Y,O,R,q)}function ke(Y,O,R,q){return Lt(ci(O),Y,R,q)}function Pe(Y,O,R,q){return Lt(Nt(O,Y.length-R),Y,R,q)}f.prototype.write=function(O,R,q,te){if(R===void 0)te="utf8",q=this.length,R=0;else if(q===void 0&&typeof R=="string")te=R,q=this.length,R=0;else if(isFinite(R))R=R|0,isFinite(q)?(q=q|0,te===void 0&&(te="utf8")):(te=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ue=this.length-R;if((q===void 0||q>ue)&&(q=ue),O.length>0&&(q<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");for(var fe=!1;;)switch(te){case"hex":return ie(this,O,R,q);case"utf8":case"utf-8":return ae(this,O,R,q);case"ascii":return Ce(this,O,R,q);case"latin1":case"binary":return me(this,O,R,q);case"base64":return ke(this,O,R,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pe(this,O,R,q);default:if(fe)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),fe=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Oe(Y,O,R){return O===0&&R===Y.length?e.fromByteArray(Y):e.fromByteArray(Y.slice(O,R))}function le(Y,O,R){R=Math.min(Y.length,R);for(var q=[],te=O;te<R;){var ue=Y[te],fe=null,De=ue>239?4:ue>223?3:ue>191?2:1;if(te+De<=R){var _e,Ke,dt,Je;switch(De){case 1:ue<128&&(fe=ue);break;case 2:_e=Y[te+1],(_e&192)===128&&(Je=(ue&31)<<6|_e&63,Je>127&&(fe=Je));break;case 3:_e=Y[te+1],Ke=Y[te+2],(_e&192)===128&&(Ke&192)===128&&(Je=(ue&15)<<12|(_e&63)<<6|Ke&63,Je>2047&&(Je<55296||Je>57343)&&(fe=Je));break;case 4:_e=Y[te+1],Ke=Y[te+2],dt=Y[te+3],(_e&192)===128&&(Ke&192)===128&&(dt&192)===128&&(Je=(ue&15)<<18|(_e&63)<<12|(Ke&63)<<6|dt&63,Je>65535&&Je<1114112&&(fe=Je))}}fe===null?(fe=65533,De=1):fe>65535&&(fe-=65536,q.push(fe>>>10&1023|55296),fe=56320|fe&1023),q.push(fe),te+=De}return Ue(q)}var Ae=4096;function Ue(Y){var O=Y.length;if(O<=Ae)return String.fromCharCode.apply(String,Y);for(var R="",q=0;q<O;)R+=String.fromCharCode.apply(String,Y.slice(q,q+=Ae));return R}function Qe(Y,O,R){var q="";R=Math.min(Y.length,R);for(var te=O;te<R;++te)q+=String.fromCharCode(Y[te]&127);return q}function wt(Y,O,R){var q="";R=Math.min(Y.length,R);for(var te=O;te<R;++te)q+=String.fromCharCode(Y[te]);return q}function at(Y,O,R){var q=Y.length;(!O||O<0)&&(O=0),(!R||R<0||R>q)&&(R=q);for(var te="",ue=O;ue<R;++ue)te+=Dt(Y[ue]);return te}function pt(Y,O,R){for(var q=Y.slice(O,R),te="",ue=0;ue<q.length;ue+=2)te+=String.fromCharCode(q[ue]+q[ue+1]*256);return te}f.prototype.slice=function(O,R){var q=this.length;O=~~O,R=R===void 0?q:~~R,O<0?(O+=q,O<0&&(O=0)):O>q&&(O=q),R<0?(R+=q,R<0&&(R=0)):R>q&&(R=q),R<O&&(R=O);var te;if(f.TYPED_ARRAY_SUPPORT)te=this.subarray(O,R),te.__proto__=f.prototype;else{var ue=R-O;te=new f(ue,void 0);for(var fe=0;fe<ue;++fe)te[fe]=this[fe+O]}return te};function Ge(Y,O,R){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+O>R)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUIntLE=function(O,R,q){O=O|0,R=R|0,q||Ge(O,R,this.length);for(var te=this[O],ue=1,fe=0;++fe<R&&(ue*=256);)te+=this[O+fe]*ue;return te},f.prototype.readUIntBE=function(O,R,q){O=O|0,R=R|0,q||Ge(O,R,this.length);for(var te=this[O+--R],ue=1;R>0&&(ue*=256);)te+=this[O+--R]*ue;return te},f.prototype.readUInt8=function(O,R){return R||Ge(O,1,this.length),this[O]},f.prototype.readUInt16LE=function(O,R){return R||Ge(O,2,this.length),this[O]|this[O+1]<<8},f.prototype.readUInt16BE=function(O,R){return R||Ge(O,2,this.length),this[O]<<8|this[O+1]},f.prototype.readUInt32LE=function(O,R){return R||Ge(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},f.prototype.readUInt32BE=function(O,R){return R||Ge(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},f.prototype.readIntLE=function(O,R,q){O=O|0,R=R|0,q||Ge(O,R,this.length);for(var te=this[O],ue=1,fe=0;++fe<R&&(ue*=256);)te+=this[O+fe]*ue;return ue*=128,te>=ue&&(te-=Math.pow(2,8*R)),te},f.prototype.readIntBE=function(O,R,q){O=O|0,R=R|0,q||Ge(O,R,this.length);for(var te=R,ue=1,fe=this[O+--te];te>0&&(ue*=256);)fe+=this[O+--te]*ue;return ue*=128,fe>=ue&&(fe-=Math.pow(2,8*R)),fe},f.prototype.readInt8=function(O,R){return R||Ge(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},f.prototype.readInt16LE=function(O,R){R||Ge(O,2,this.length);var q=this[O]|this[O+1]<<8;return q&32768?q|4294901760:q},f.prototype.readInt16BE=function(O,R){R||Ge(O,2,this.length);var q=this[O+1]|this[O]<<8;return q&32768?q|4294901760:q},f.prototype.readInt32LE=function(O,R){return R||Ge(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},f.prototype.readInt32BE=function(O,R){return R||Ge(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},f.prototype.readFloatLE=function(O,R){return R||Ge(O,4,this.length),t.read(this,O,!0,23,4)},f.prototype.readFloatBE=function(O,R){return R||Ge(O,4,this.length),t.read(this,O,!1,23,4)},f.prototype.readDoubleLE=function(O,R){return R||Ge(O,8,this.length),t.read(this,O,!0,52,8)},f.prototype.readDoubleBE=function(O,R){return R||Ge(O,8,this.length),t.read(this,O,!1,52,8)};function ve(Y,O,R,q,te,ue){if(!f.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>te||O<ue)throw new RangeError('"value" argument is out of bounds');if(R+q>Y.length)throw new RangeError("Index out of range")}f.prototype.writeUIntLE=function(O,R,q,te){if(O=+O,R=R|0,q=q|0,!te){var ue=Math.pow(2,8*q)-1;ve(this,O,R,q,ue,0)}var fe=1,De=0;for(this[R]=O&255;++De<q&&(fe*=256);)this[R+De]=O/fe&255;return R+q},f.prototype.writeUIntBE=function(O,R,q,te){if(O=+O,R=R|0,q=q|0,!te){var ue=Math.pow(2,8*q)-1;ve(this,O,R,q,ue,0)}var fe=q-1,De=1;for(this[R+fe]=O&255;--fe>=0&&(De*=256);)this[R+fe]=O/De&255;return R+q},f.prototype.writeUInt8=function(O,R,q){return O=+O,R=R|0,q||ve(this,O,R,1,255,0),f.TYPED_ARRAY_SUPPORT||(O=Math.floor(O)),this[R]=O&255,R+1};function rt(Y,O,R,q){O<0&&(O=65535+O+1);for(var te=0,ue=Math.min(Y.length-R,2);te<ue;++te)Y[R+te]=(O&255<<8*(q?te:1-te))>>>(q?te:1-te)*8}f.prototype.writeUInt16LE=function(O,R,q){return O=+O,R=R|0,q||ve(this,O,R,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[R]=O&255,this[R+1]=O>>>8):rt(this,O,R,!0),R+2},f.prototype.writeUInt16BE=function(O,R,q){return O=+O,R=R|0,q||ve(this,O,R,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[R]=O>>>8,this[R+1]=O&255):rt(this,O,R,!1),R+2};function ct(Y,O,R,q){O<0&&(O=4294967295+O+1);for(var te=0,ue=Math.min(Y.length-R,4);te<ue;++te)Y[R+te]=O>>>(q?te:3-te)*8&255}f.prototype.writeUInt32LE=function(O,R,q){return O=+O,R=R|0,q||ve(this,O,R,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[R+3]=O>>>24,this[R+2]=O>>>16,this[R+1]=O>>>8,this[R]=O&255):ct(this,O,R,!0),R+4},f.prototype.writeUInt32BE=function(O,R,q){return O=+O,R=R|0,q||ve(this,O,R,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[R]=O>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=O&255):ct(this,O,R,!1),R+4},f.prototype.writeIntLE=function(O,R,q,te){if(O=+O,R=R|0,!te){var ue=Math.pow(2,8*q-1);ve(this,O,R,q,ue-1,-ue)}var fe=0,De=1,_e=0;for(this[R]=O&255;++fe<q&&(De*=256);)O<0&&_e===0&&this[R+fe-1]!==0&&(_e=1),this[R+fe]=(O/De>>0)-_e&255;return R+q},f.prototype.writeIntBE=function(O,R,q,te){if(O=+O,R=R|0,!te){var ue=Math.pow(2,8*q-1);ve(this,O,R,q,ue-1,-ue)}var fe=q-1,De=1,_e=0;for(this[R+fe]=O&255;--fe>=0&&(De*=256);)O<0&&_e===0&&this[R+fe+1]!==0&&(_e=1),this[R+fe]=(O/De>>0)-_e&255;return R+q},f.prototype.writeInt8=function(O,R,q){return O=+O,R=R|0,q||ve(this,O,R,1,127,-128),f.TYPED_ARRAY_SUPPORT||(O=Math.floor(O)),O<0&&(O=255+O+1),this[R]=O&255,R+1},f.prototype.writeInt16LE=function(O,R,q){return O=+O,R=R|0,q||ve(this,O,R,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[R]=O&255,this[R+1]=O>>>8):rt(this,O,R,!0),R+2},f.prototype.writeInt16BE=function(O,R,q){return O=+O,R=R|0,q||ve(this,O,R,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[R]=O>>>8,this[R+1]=O&255):rt(this,O,R,!1),R+2},f.prototype.writeInt32LE=function(O,R,q){return O=+O,R=R|0,q||ve(this,O,R,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[R]=O&255,this[R+1]=O>>>8,this[R+2]=O>>>16,this[R+3]=O>>>24):ct(this,O,R,!0),R+4},f.prototype.writeInt32BE=function(O,R,q){return O=+O,R=R|0,q||ve(this,O,R,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),f.TYPED_ARRAY_SUPPORT?(this[R]=O>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=O&255):ct(this,O,R,!1),R+4};function we(Y,O,R,q,te,ue){if(R+q>Y.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function $e(Y,O,R,q,te){return te||we(Y,O,R,4),t.write(Y,O,R,q,23,4),R+4}f.prototype.writeFloatLE=function(O,R,q){return $e(this,O,R,!0,q)},f.prototype.writeFloatBE=function(O,R,q){return $e(this,O,R,!1,q)};function Tt(Y,O,R,q,te){return te||we(Y,O,R,8),t.write(Y,O,R,q,52,8),R+8}f.prototype.writeDoubleLE=function(O,R,q){return Tt(this,O,R,!0,q)},f.prototype.writeDoubleBE=function(O,R,q){return Tt(this,O,R,!1,q)},f.prototype.copy=function(O,R,q,te){if(q||(q=0),!te&&te!==0&&(te=this.length),R>=O.length&&(R=O.length),R||(R=0),te>0&&te<q&&(te=q),te===q||O.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("sourceStart out of bounds");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),O.length-R<te-q&&(te=O.length-R+q);var ue=te-q,fe;if(this===O&&q<R&&R<te)for(fe=ue-1;fe>=0;--fe)O[fe+R]=this[fe+q];else if(ue<1e3||!f.TYPED_ARRAY_SUPPORT)for(fe=0;fe<ue;++fe)O[fe+R]=this[fe+q];else Uint8Array.prototype.set.call(O,this.subarray(q,q+ue),R);return ue},f.prototype.fill=function(O,R,q,te){if(typeof O=="string"){if(typeof R=="string"?(te=R,R=0,q=this.length):typeof q=="string"&&(te=q,q=this.length),O.length===1){var ue=O.charCodeAt(0);ue<256&&(O=ue)}if(te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!f.isEncoding(te))throw new TypeError("Unknown encoding: "+te)}else typeof O=="number"&&(O=O&255);if(R<0||this.length<R||this.length<q)throw new RangeError("Out of range index");if(q<=R)return this;R=R>>>0,q=q===void 0?this.length:q>>>0,O||(O=0);var fe;if(typeof O=="number")for(fe=R;fe<q;++fe)this[fe]=O;else{var De=f.isBuffer(O)?O:gt(new f(O,te).toString()),_e=De.length;for(fe=0;fe<q-R;++fe)this[fe+R]=De[fe%_e]}return this};var Vt=/[^+\/0-9A-Za-z-_]/g;function ii(Y){if(Y=Bt(Y).replace(Vt,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function Bt(Y){return Y.trim?Y.trim():Y.replace(/^\s+|\s+$/g,"")}function Dt(Y){return Y<16?"0"+Y.toString(16):Y.toString(16)}function gt(Y,O){O=O||1/0;for(var R,q=Y.length,te=null,ue=[],fe=0;fe<q;++fe){if(R=Y.charCodeAt(fe),R>55295&&R<57344){if(!te){if(R>56319){(O-=3)>-1&&ue.push(239,191,189);continue}else if(fe+1===q){(O-=3)>-1&&ue.push(239,191,189);continue}te=R;continue}if(R<56320){(O-=3)>-1&&ue.push(239,191,189),te=R;continue}R=(te-55296<<10|R-56320)+65536}else te&&(O-=3)>-1&&ue.push(239,191,189);if(te=null,R<128){if((O-=1)<0)break;ue.push(R)}else if(R<2048){if((O-=2)<0)break;ue.push(R>>6|192,R&63|128)}else if(R<65536){if((O-=3)<0)break;ue.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((O-=4)<0)break;ue.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ue}function Ft(Y){for(var O=[],R=0;R<Y.length;++R)O.push(Y.charCodeAt(R)&255);return O}function Nt(Y,O){for(var R,q,te,ue=[],fe=0;fe<Y.length&&!((O-=2)<0);++fe)R=Y.charCodeAt(fe),q=R>>8,te=R%256,ue.push(te),ue.push(q);return ue}function ci(Y){return e.toByteArray(ii(Y))}function Lt(Y,O,R,q){for(var te=0;te<q&&!(te+R>=O.length||te>=Y.length);++te)O[te+R]=Y[te];return te}function Mt(Y){return Y!==Y}})(of);const yf=a=>{let{sortie:e,isLoading:t}=a;const i=Nr(),s=be.useRef(null),{t:o,i18n:c}=hi(),[f,m]=be.useState(0),[b,S]=be.useState(25),[k,L]=be.useState(),[I,_]=be.useState(!1),[N,U]=be.useState(!0),[Z,V]=be.useState(0),[$,Q]=be.useState(),[H,re]=be.useState(!1),ie=()=>{V(le=>le+1)},ae=(le,Ae)=>{m(Ae)},Ce=le=>{S(parseInt(le.target.value,10)),m(0)},me=be.useMemo(()=>k==null?void 0:k.slice(f*b,f*b+b),[k,f,b]),ke=()=>{N?(Q(setTimeout(()=>ie(),12e4)),_(!0)):(clearTimeout($),V(le=>le+1))},Pe=le=>{le&&(L([...le]),U(!N),_(!1))},Oe=le=>{re(!0),ti.get(`/dashboard/fullclientsituation/${le}/`).then(Ae=>{i(bs.actions.fetchSituationCLient([Ae.data.clientsituation])),i(bs.actions.fetchClientSituationDetails({data:Ae.data,isFilter:!1})),i(bs.actions.setClientSituationForOneClient({id:le})),i(bs.actions.setCurrentData(le)),re(!1)})};return be.useEffect(()=>{t||L(e)},[t]),G.jsxs(G.Fragment,{children:[H&&G.jsx(No,{}),G.jsxs(Wi,{children:[G.jsx(_r,{sx:{padding:1},title:o(je.dashboard.transactionPerClient),avatar:G.jsx(ei,{onClick:()=>ke(),children:G.jsx(Qn,{})})}),G.jsx(qn,{children:G.jsx(Zn,{sx:{minWidth:300,height:"auto"},children:t?G.jsx(Jn,{rowsNum:5}):G.jsx($n,{ref:s,children:(e==null?void 0:e.length)>0?me==null?void 0:me.map((le,Ae)=>{const Ue=new Intl.NumberFormat("EN-us",{style:"currency",currency:"MAD"});return G.jsxs(Or,{hover:!0,children:[G.jsx(oi,{children:G.jsxs(zr,{alignItems:"center",direction:"row",spacing:2,children:[G.jsxs(Gn,{sx:{bgcolor:"#6366F1",color:"#fff"},children:[le.first_name[0]," ",le.last_name[0]]}),G.jsx("div",{children:G.jsxs(st,{variant:"subtitle2",children:[le.first_name," ",le.last_name]})})]})}),G.jsxs(oi,{sx:{direction:c.language=="ar"?"rtl":"ltr",whiteSpace:"nowrap"},children:[G.jsx(st,{color:(!isNaN(le.final_confirmed_sold)&&le.final_confirmed_sold)<0?"error.main":"success.main",variant:"subtitle2",children:isNaN(le.final_confirmed_sold)?le.final_confirmed_sold:Ue.format(le.final_confirmed_sold).replaceAll(","," ").replace("MAD","")+" "+o(je.global.mad)}),G.jsx(st,{color:"text.secondary",noWrap:!0,variant:"body2",children:o(je.situationCliente.debt)})]}),G.jsxs(oi,{align:"right",children:[G.jsx(ei,{color:"success",disabled:isNaN(le.final_confirmed_sold),onClick:()=>Oe(le.client_id),children:G.jsx(ol,{})}),G.jsx(ps,{sx:{backgroundColor:Qe=>Qe.palette.mode==="dark"?"neutral.700":"neutral.200",borderRadius:1.5,px:1,py:.5,display:"inline-block"},children:G.jsxs(st,{variant:"subtitle2",children:["#",Ae+1]})})]})]},Ae)}):G.jsx(Or,{children:G.jsx(oi,{colSpan:10,sx:{textAlign:"center"},children:o(je.magazin.nothingToDisplay)})})})})}),G.jsx(ra,{sx:{justifyContent:"flex-end"},children:G.jsx(Kn,{component:"div",count:e==null?void 0:e.length,onPageChange:ae,onRowsPerPageChange:Ce,page:f,rowsPerPage:b,rowsPerPageOptions:[5,10,25],labelRowsPerPage:o(je.magazin.Lignes),labelDisplayedRows:({from:le,to:Ae,count:Ue})=>`${le}${Ae} ${o(je.magazin.sur)} ${e==null?void 0:e.length}`})})]}),G.jsx(ha,{isOpen:I,show:N,onSuccess:Pe,onClose:()=>_(!1),uri:"/dashboard/outbound/",uniqueKey:Z}),G.jsx(Pc,{})]})};var bf=globalThis&&globalThis.__extends||function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])},a(e,t)};return function(e,t){a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_l=function(a){bf(e,a);function e(t){var i=a.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!1,i.directivekeys={carouselItems:"carouselItem"},i.statelessTemplateProps=["itemTemplate"],i.templateProps=null,i.immediateRender=!1,i.isReactMock=!0,i.portals=[],i}return e.prototype.render=function(){if(this.isReactMock=!1,(this.element&&!this.initRenderCalled||this.refreshing)&&!this.isReactForeceUpdate)a.prototype.render.call(this),this.initRenderCalled=!0;else return be.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals))},e}(rf);ea(_l,[ta,be.Component]);function xf({confirmed:a,isConfirm:e,handleClose:t}){const{t:i,i18n:s}=hi(),o=()=>{a()};return G.jsx(mh,{open:e,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:G.jsx(Ec,{title:i(je.global.confirmOperation),message:i(je.global.confirmMessage),confirmFn:o,cancel:t})})}var Vl={},Wn={exports:{}};/*!
 * ApexCharts v3.41.0
 * (c) 2018-2023 ApexCharts
 * Released under the MIT License.
 */(function(a,e){function t(D,r){var n=Object.keys(D);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(D);r&&(l=l.filter(function(h){return Object.getOwnPropertyDescriptor(D,h).enumerable})),n.push.apply(n,l)}return n}function i(D){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?t(Object(n),!0).forEach(function(l){m(D,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(l){Object.defineProperty(D,l,Object.getOwnPropertyDescriptor(n,l))})}return D}function s(D){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s(D)}function o(D,r){if(!(D instanceof r))throw new TypeError("Cannot call a class as a function")}function c(D,r){for(var n=0;n<r.length;n++){var l=r[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(D,l.key,l)}}function f(D,r,n){return r&&c(D.prototype,r),n&&c(D,n),D}function m(D,r,n){return r in D?Object.defineProperty(D,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):D[r]=n,D}function b(D,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(r&&r.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),r&&k(D,r)}function S(D){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},S(D)}function k(D,r){return k=Object.setPrototypeOf||function(n,l){return n.__proto__=l,n},k(D,r)}function L(D,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(D)}function I(D){var r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,l=S(D);if(r){var h=S(this).constructor;n=Reflect.construct(l,arguments,h)}else n=l.apply(this,arguments);return L(this,n)}}function _(D,r){return function(n){if(Array.isArray(n))return n}(D)||function(n,l){var h=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(h!=null){var u,d,p=[],g=!0,y=!1;try{for(h=h.call(n);!(g=(u=h.next()).done)&&(p.push(u.value),!l||p.length!==l);g=!0);}catch(x){y=!0,d=x}finally{try{g||h.return==null||h.return()}finally{if(y)throw d}}return p}}(D,r)||U(D,r)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function N(D){return function(r){if(Array.isArray(r))return Z(r)}(D)||function(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}(D)||U(D)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U(D,r){if(D){if(typeof D=="string")return Z(D,r);var n=Object.prototype.toString.call(D).slice(8,-1);return n==="Object"&&D.constructor&&(n=D.constructor.name),n==="Map"||n==="Set"?Array.from(D):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(D,r):void 0}}function Z(D,r){(r==null||r>D.length)&&(r=D.length);for(var n=0,l=new Array(r);n<r;n++)l[n]=D[n];return l}var V=function(){function D(){o(this,D)}return f(D,[{key:"shadeRGBColor",value:function(r,n){var l=n.split(","),h=r<0?0:255,u=r<0?-1*r:r,d=parseInt(l[0].slice(4),10),p=parseInt(l[1],10),g=parseInt(l[2],10);return"rgb("+(Math.round((h-d)*u)+d)+","+(Math.round((h-p)*u)+p)+","+(Math.round((h-g)*u)+g)+")"}},{key:"shadeHexColor",value:function(r,n){var l=parseInt(n.slice(1),16),h=r<0?0:255,u=r<0?-1*r:r,d=l>>16,p=l>>8&255,g=255&l;return"#"+(16777216+65536*(Math.round((h-d)*u)+d)+256*(Math.round((h-p)*u)+p)+(Math.round((h-g)*u)+g)).toString(16).slice(1)}},{key:"shadeColor",value:function(r,n){return D.isColorHex(n)?this.shadeHexColor(r,n):this.shadeRGBColor(r,n)}}],[{key:"bind",value:function(r,n){return function(){return r.apply(n,arguments)}}},{key:"isObject",value:function(r){return r&&s(r)==="object"&&!Array.isArray(r)&&r!=null}},{key:"is",value:function(r,n){return Object.prototype.toString.call(n)==="[object "+r+"]"}},{key:"listToArray",value:function(r){var n,l=[];for(n=0;n<r.length;n++)l[n]=r[n];return l}},{key:"extend",value:function(r,n){var l=this;typeof Object.assign!="function"&&(Object.assign=function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(u),p=1;p<arguments.length;p++){var g=arguments[p];if(g!=null)for(var y in g)g.hasOwnProperty(y)&&(d[y]=g[y])}return d});var h=Object.assign({},r);return this.isObject(r)&&this.isObject(n)&&Object.keys(n).forEach(function(u){l.isObject(n[u])&&u in r?h[u]=l.extend(r[u],n[u]):Object.assign(h,m({},u,n[u]))}),h}},{key:"extendArray",value:function(r,n){var l=[];return r.map(function(h){l.push(D.extend(n,h))}),r=l}},{key:"monthMod",value:function(r){return r%12}},{key:"clone",value:function(r){if(D.is("Array",r)){for(var n=[],l=0;l<r.length;l++)n[l]=this.clone(r[l]);return n}if(D.is("Null",r))return null;if(D.is("Date",r))return r;if(s(r)==="object"){var h={};for(var u in r)r.hasOwnProperty(u)&&(h[u]=this.clone(r[u]));return h}return r}},{key:"log10",value:function(r){return Math.log(r)/Math.LN10}},{key:"roundToBase10",value:function(r){return Math.pow(10,Math.floor(Math.log10(r)))}},{key:"roundToBase",value:function(r,n){return Math.pow(n,Math.floor(Math.log(r)/Math.log(n)))}},{key:"parseNumber",value:function(r){return r===null?r:parseFloat(r)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(r){var n=String(r).split(/[eE]/);if(n.length===1)return n[0];var l="",h=r<0?"-":"",u=n[0].replace(".",""),d=Number(n[1])+1;if(d<0){for(l=h+"0.";d++;)l+="0";return l+u.replace(/^-/,"")}for(d-=u.length;d--;)l+="0";return u+l}},{key:"getDimensions",value:function(r){var n=getComputedStyle(r,null),l=r.clientHeight,h=r.clientWidth;return l-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),[h-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),l]}},{key:"getBoundingClientRect",value:function(r){var n=r.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:r.clientWidth,height:r.clientHeight,x:n.left,y:n.top}}},{key:"getLargestStringFromArr",value:function(r){return r.reduce(function(n,l){return Array.isArray(l)&&(l=l.reduce(function(h,u){return h.length>u.length?h:u})),n.length>l.length?n:l},0)}},{key:"hexToRgba",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;r.substring(0,1)!=="#"&&(r="#999999");var l=r.replace("#","");l=l.match(new RegExp("(.{"+l.length/3+"})","g"));for(var h=0;h<l.length;h++)l[h]=parseInt(l[h].length===1?l[h]+l[h]:l[h],16);return n!==void 0&&l.push(n),"rgba("+l.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(r){return parseFloat(r.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(r){return(r=r.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&r.length===4?"#"+("0"+parseInt(r[1],10).toString(16)).slice(-2)+("0"+parseInt(r[2],10).toString(16)).slice(-2)+("0"+parseInt(r[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(r){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(r)}},{key:"getPolygonPos",value:function(r,n){for(var l=[],h=2*Math.PI/n,u=0;u<n;u++){var d={};d.x=r*Math.sin(u*h),d.y=-r*Math.cos(u*h),l.push(d)}return l}},{key:"polarToCartesian",value:function(r,n,l,h){var u=(h-90)*Math.PI/180;return{x:r+l*Math.cos(u),y:n+l*Math.sin(u)}}},{key:"escapeString",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",l=r.toString().slice();return l=l.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,n)}},{key:"negToZero",value:function(r){return r<0?0:r}},{key:"moveIndexInArray",value:function(r,n,l){if(l>=r.length)for(var h=l-r.length+1;h--;)r.push(void 0);return r.splice(l,0,r.splice(n,1)[0]),r}},{key:"extractNumber",value:function(r){return parseFloat(r.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(r,n){for(;(r=r.parentElement)&&!r.classList.contains(n););return r}},{key:"setELstyles",value:function(r,n){for(var l in n)n.hasOwnProperty(l)&&(r.style.key=n[l])}},{key:"isNumber",value:function(r){return!isNaN(r)&&parseFloat(Number(r))===r&&!isNaN(parseInt(r,10))}},{key:"isFloat",value:function(r){return Number(r)===r&&r%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var r=window.navigator.userAgent,n=r.indexOf("MSIE ");if(n>0)return parseInt(r.substring(n+5,r.indexOf(".",n)),10);if(r.indexOf("Trident/")>0){var l=r.indexOf("rv:");return parseInt(r.substring(l+3,r.indexOf(".",l)),10)}var h=r.indexOf("Edge/");return h>0&&parseInt(r.substring(h+5,r.indexOf(".",h)),10)}}]),D}(),$=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.setEasingFunctions()}return f(D,[{key:"setEasingFunctions",value:function(){var r;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":r="-";break;case"easein":r="<";break;case"easeout":r=">";break;case"easeinout":default:r="<>";break;case"swing":r=function(n){var l=1.70158;return(n-=1)*n*((l+1)*n+l)+1};break;case"bounce":r=function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375};break;case"elastic":r=function(n){return n===!!n?n:Math.pow(2,-10*n)*Math.sin((n-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=r}}},{key:"animateLine",value:function(r,n,l,h){r.attr(n).animate(h).attr(l)}},{key:"animateMarker",value:function(r,n,l,h,u,d){n||(n=0),r.attr({r:n,width:n,height:n}).animate(h,u).attr({r:l,width:l.width,height:l.height}).afterAll(function(){d()})}},{key:"animateCircle",value:function(r,n,l,h,u){r.attr({r:n.r,cx:n.cx,cy:n.cy}).animate(h,u).attr({r:l.r,cx:l.cx,cy:l.cy})}},{key:"animateRect",value:function(r,n,l,h,u){r.attr(n).animate(h).attr(l).afterAll(function(){return u()})}},{key:"animatePathsGradually",value:function(r){var n=r.el,l=r.realIndex,h=r.j,u=r.fill,d=r.pathFrom,p=r.pathTo,g=r.speed,y=r.delay,x=this.w,w=0;x.config.chart.animations.animateGradually.enabled&&(w=x.config.chart.animations.animateGradually.delay),x.config.chart.animations.dynamicAnimation.enabled&&x.globals.dataChanged&&x.config.chart.type!=="bar"&&(w=0),this.morphSVG(n,l,h,x.config.chart.type!=="line"||x.globals.comboCharts?u:"stroke",d,p,g,y*w)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(r){var n=r.el;n.classList.remove("apexcharts-element-hidden"),n.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(r){var n=this.w;n.globals.animationEnded||(n.globals.animationEnded=!0,this.showDelayedElements(),typeof n.config.chart.events.animationEnd=="function"&&n.config.chart.events.animationEnd(this.ctx,{el:r,w:n}))}},{key:"morphSVG",value:function(r,n,l,h,u,d,p,g){var y=this,x=this.w;u||(u=r.attr("pathFrom")),d||(d=r.attr("pathTo"));var w=function(C){return x.config.chart.type==="radar"&&(p=1),"M 0 ".concat(x.globals.gridHeight)};(!u||u.indexOf("undefined")>-1||u.indexOf("NaN")>-1)&&(u=w()),(!d||d.indexOf("undefined")>-1||d.indexOf("NaN")>-1)&&(d=w()),x.globals.shouldAnimate||(p=1),r.plot(u).animate(1,x.globals.easing,g).plot(u).animate(p,x.globals.easing,g).plot(d).afterAll(function(){V.isNumber(l)?l===x.globals.series[x.globals.maxValsInArrayIndex].length-2&&x.globals.shouldAnimate&&y.animationCompleted(r):h!=="none"&&x.globals.shouldAnimate&&(!x.globals.comboCharts&&n===x.globals.series.length-1||x.globals.comboCharts)&&y.animationCompleted(r),y.showDelayedElements()})}}]),D}(),Q=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"getDefaultFilter",value:function(r,n){var l=this.w;r.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),l.config.states.normal.filter!=="none"?this.applyFilter(r,n,l.config.states.normal.filter.type,l.config.states.normal.filter.value):l.config.chart.dropShadow.enabled&&this.dropShadow(r,l.config.chart.dropShadow,n)}},{key:"addNormalFilter",value:function(r,n){var l=this.w;l.config.chart.dropShadow.enabled&&!r.node.classList.contains("apexcharts-marker")&&this.dropShadow(r,l.config.chart.dropShadow,n)}},{key:"addLightenFilter",value:function(r,n,l){var h=this,u=this.w,d=l.intensity;r.unfilter(!0),new window.SVG.Filter,r.filter(function(p){var g=u.config.chart.dropShadow;(g.enabled?h.addShadow(p,n,g):p).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:d}})}),r.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(r.filterer.node)}},{key:"addDarkenFilter",value:function(r,n,l){var h=this,u=this.w,d=l.intensity;r.unfilter(!0),new window.SVG.Filter,r.filter(function(p){var g=u.config.chart.dropShadow;(g.enabled?h.addShadow(p,n,g):p).componentTransfer({rgb:{type:"linear",slope:d}})}),r.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(r.filterer.node)}},{key:"applyFilter",value:function(r,n,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(l){case"none":this.addNormalFilter(r,n);break;case"lighten":this.addLightenFilter(r,n,{intensity:h});break;case"darken":this.addDarkenFilter(r,n,{intensity:h})}}},{key:"addShadow",value:function(r,n,l){var h=l.blur,u=l.top,d=l.left,p=l.color,g=l.opacity,y=r.flood(Array.isArray(p)?p[n]:p,g).composite(r.sourceAlpha,"in").offset(d,u).gaussianBlur(h).merge(r.source);return r.blend(r.source,y)}},{key:"dropShadow",value:function(r,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=n.top,u=n.left,d=n.blur,p=n.color,g=n.opacity,y=n.noUserSpaceOnUse,x=this.w;return r.unfilter(!0),V.isIE()&&x.config.chart.type==="radialBar"||(p=Array.isArray(p)?p[l]:p,r.filter(function(w){var C=null;C=V.isSafari()||V.isFirefox()||V.isIE()?w.flood(p,g).composite(w.sourceAlpha,"in").offset(u,h).gaussianBlur(d):w.flood(p,g).composite(w.sourceAlpha,"in").offset(u,h).gaussianBlur(d).merge(w.source),w.blend(w.source,C)}),y||r.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(r.filterer.node)),r}},{key:"setSelectionFilter",value:function(r,n,l){var h=this.w;if(h.globals.selectedDataPoints[n]!==void 0&&h.globals.selectedDataPoints[n].indexOf(l)>-1){r.node.setAttribute("selected",!0);var u=h.config.states.active.filter;u!=="none"&&this.applyFilter(r,n,u.type,u.value)}}},{key:"_scaleFilterSize",value:function(r){(function(n){for(var l in n)n.hasOwnProperty(l)&&r.setAttribute(l,n[l])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),D}(),H=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"roundPathCorners",value:function(r,n){function l(X,J,ee){var se=J.x-X.x,he=J.y-X.y,ce=Math.sqrt(se*se+he*he);return h(X,J,Math.min(1,ee/ce))}function h(X,J,ee){return{x:X.x+(J.x-X.x)*ee,y:X.y+(J.y-X.y)*ee}}function u(X,J){X.length>2&&(X[X.length-2]=J.x,X[X.length-1]=J.y)}function d(X){return{x:parseFloat(X[X.length-2]),y:parseFloat(X[X.length-1])}}r.indexOf("NaN")>-1&&(r="");var p=r.split(/[,\s]/).reduce(function(X,J){var ee=J.match("([a-zA-Z])(.+)");return ee?(X.push(ee[1]),X.push(ee[2])):X.push(J),X},[]).reduce(function(X,J){return parseFloat(J)==J&&X.length?X[X.length-1].push(J):X.push([J]),X},[]),g=[];if(p.length>1){var y=d(p[0]),x=null;p[p.length-1][0]=="Z"&&p[0].length>2&&(x=["L",y.x,y.y],p[p.length-1]=x),g.push(p[0]);for(var w=1;w<p.length;w++){var C=g[g.length-1],T=p[w],P=T==x?p[1]:p[w+1];if(P&&C&&C.length>2&&T[0]=="L"&&P.length>2&&P[0]=="L"){var M,B,z=d(C),W=d(T),v=d(P);M=l(W,z,n),B=l(W,v,n),u(T,M),T.origPoint=W,g.push(T);var A=h(M,W,.5),E=h(W,B,.5),F=["C",A.x,A.y,E.x,E.y,B.x,B.y];F.origPoint=W,g.push(F)}else g.push(T)}if(x){var j=d(g[g.length-1]);g.push(["Z"]),u(g[0],j)}}else g=p;return g.reduce(function(X,J){return X+J.join(" ")+" "},"")}},{key:"drawLine",value:function(r,n,l,h){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:r,y1:n,x2:l,y2:h,stroke:u,"stroke-dasharray":d,"stroke-width":p,"stroke-linecap":g})}},{key:"drawRect",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,y=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,x=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,w=this.w.globals.dom.Paper.rect();return w.attr({x:r,y:n,width:l>0?l:0,height:h>0?h:0,rx:u,ry:u,opacity:p,"stroke-width":g!==null?g:0,stroke:y!==null?y:"none","stroke-dasharray":x}),w.node.setAttribute("fill",d),w}},{key:"drawPolygon",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(r).attr({fill:h,stroke:n,"stroke-width":l})}},{key:"drawCircle",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;r<0&&(r=0);var l=this.w.globals.dom.Paper.circle(2*r);return n!==null&&l.attr(n),l}},{key:"drawPath",value:function(r){var n=r.d,l=n===void 0?"":n,h=r.stroke,u=h===void 0?"#a8a8a8":h,d=r.strokeWidth,p=d===void 0?1:d,g=r.fill,y=r.fillOpacity,x=y===void 0?1:y,w=r.strokeOpacity,C=w===void 0?1:w,T=r.classes,P=r.strokeLinecap,M=P===void 0?null:P,B=r.strokeDashArray,z=B===void 0?0:B,W=this.w;return M===null&&(M=W.config.stroke.lineCap),(l.indexOf("undefined")>-1||l.indexOf("NaN")>-1)&&(l="M 0 ".concat(W.globals.gridHeight)),W.globals.dom.Paper.path(l).attr({fill:g,"fill-opacity":x,stroke:u,"stroke-opacity":C,"stroke-linecap":M,"stroke-width":p,"stroke-dasharray":z,class:T})}},{key:"group",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this.w.globals.dom.Paper.group();return r!==null&&n.attr(r),n}},{key:"move",value:function(r,n){var l=["M",r,n].join(" ");return l}},{key:"line",value:function(r,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,h=null;return l===null?h=[" L",r,n].join(" "):l==="H"?h=[" H",r].join(" "):l==="V"&&(h=[" V",n].join(" ")),h}},{key:"curve",value:function(r,n,l,h,u,d){var p=["C",r,n,l,h,u,d].join(" ");return p}},{key:"quadraticCurve",value:function(r,n,l,h){return["Q",r,n,l,h].join(" ")}},{key:"arc",value:function(r,n,l,h,u,d,p){var g="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(g="a");var y=[g,r,n,l,h,u,d,p].join(" ");return y}},{key:"renderPaths",value:function(r){var n,l=r.j,h=r.realIndex,u=r.pathFrom,d=r.pathTo,p=r.stroke,g=r.strokeWidth,y=r.strokeLinecap,x=r.fill,w=r.animationDelay,C=r.initialSpeed,T=r.dataChangeSpeed,P=r.className,M=r.shouldClipToGrid,B=M===void 0||M,z=r.bindEventsOnPaths,W=z===void 0||z,v=r.drawShadow,A=v===void 0||v,E=this.w,F=new Q(this.ctx),j=new $(this.ctx),X=this.w.config.chart.animations.enabled,J=X&&this.w.config.chart.animations.dynamicAnimation.enabled,ee=!!(X&&!E.globals.resized||J&&E.globals.dataChanged&&E.globals.shouldAnimate);ee?n=u:(n=d,E.globals.animationEnded=!0);var se=E.config.stroke.dashArray,he=0;he=Array.isArray(se)?se[h]:E.config.stroke.dashArray;var ce=this.drawPath({d:n,stroke:p,strokeWidth:g,fill:x,fillOpacity:1,classes:P,strokeLinecap:y,strokeDashArray:he});if(ce.attr("index",h),B&&ce.attr({"clip-path":"url(#gridRectMask".concat(E.globals.cuid,")")}),E.config.states.normal.filter.type!=="none")F.getDefaultFilter(ce,h);else if(E.config.chart.dropShadow.enabled&&A&&(!E.config.chart.dropShadow.enabledOnSeries||E.config.chart.dropShadow.enabledOnSeries&&E.config.chart.dropShadow.enabledOnSeries.indexOf(h)!==-1)){var ge=E.config.chart.dropShadow;F.dropShadow(ce,ge,h)}W&&(ce.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,ce)),ce.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,ce)),ce.node.addEventListener("mousedown",this.pathMouseDown.bind(this,ce))),ce.attr({pathTo:d,pathFrom:u});var Te={el:ce,j:l,realIndex:h,pathFrom:u,pathTo:d,fill:x,strokeWidth:g,delay:w};return!X||E.globals.resized||E.globals.dataChanged?!E.globals.resized&&E.globals.dataChanged||j.showDelayedElements():j.animatePathsGradually(i(i({},Te),{},{speed:C})),E.globals.dataChanged&&J&&ee&&j.animatePathsGradually(i(i({},Te),{},{speed:T})),ce}},{key:"drawPattern",value:function(r,n,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(n,l,function(d){r==="horizontalLines"?d.line(0,0,l,0).stroke({color:h,width:u+1}):r==="verticalLines"?d.line(0,0,0,n).stroke({color:h,width:u+1}):r==="slantedLines"?d.line(0,0,n,l).stroke({color:h,width:u}):r==="squares"?d.rect(n,l).fill("none").stroke({color:h,width:u}):r==="circles"&&d.circle(n).fill("none").stroke({color:h,width:u})})}},{key:"drawGradient",value:function(r,n,l,h,u){var d,p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,x=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,w=this.w;n.length<9&&n.indexOf("#")===0&&(n=V.hexToRgba(n,h)),l.length<9&&l.indexOf("#")===0&&(l=V.hexToRgba(l,u));var C=0,T=1,P=1,M=null;g!==null&&(C=g[0]!==void 0?g[0]/100:0,T=g[1]!==void 0?g[1]/100:1,P=g[2]!==void 0?g[2]/100:1,M=g[3]!==void 0?g[3]/100:null);var B=!(w.config.chart.type!=="donut"&&w.config.chart.type!=="pie"&&w.config.chart.type!=="polarArea"&&w.config.chart.type!=="bubble");if(d=y===null||y.length===0?w.globals.dom.Paper.gradient(B?"radial":"linear",function(v){v.at(C,n,h),v.at(T,l,u),v.at(P,l,u),M!==null&&v.at(M,n,h)}):w.globals.dom.Paper.gradient(B?"radial":"linear",function(v){(Array.isArray(y[x])?y[x]:y).forEach(function(A){v.at(A.offset/100,A.color,A.opacity)})}),B){var z=w.globals.gridWidth/2,W=w.globals.gridHeight/2;w.config.chart.type!=="bubble"?d.attr({gradientUnits:"userSpaceOnUse",cx:z,cy:W,r:p}):d.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else r==="vertical"?d.from(0,0).to(0,1):r==="diagonal"?d.from(0,0).to(1,1):r==="horizontal"?d.from(0,1).to(1,1):r==="diagonal2"&&d.from(1,0).to(0,1);return d}},{key:"getTextBasedOnMaxWidth",value:function(r){var n=r.text,l=r.maxWidth,h=r.fontSize,u=r.fontFamily,d=this.getTextRects(n,h,u),p=d.width/n.length,g=Math.floor(l/p);return l<d.width?n.slice(0,g-3)+"...":n}},{key:"drawText",value:function(r){var n=this,l=r.x,h=r.y,u=r.text,d=r.textAnchor,p=r.fontSize,g=r.fontFamily,y=r.fontWeight,x=r.foreColor,w=r.opacity,C=r.maxWidth,T=r.cssClass,P=T===void 0?"":T,M=r.isPlainText,B=M===void 0||M,z=this.w;u===void 0&&(u="");var W=u;d||(d="start"),x&&x.length||(x=z.config.chart.foreColor),g=g||z.config.chart.fontFamily,y=y||"regular";var v,A={maxWidth:C,fontSize:p=p||"11px",fontFamily:g};return Array.isArray(u)?v=z.globals.dom.Paper.text(function(E){for(var F=0;F<u.length;F++)W=u[F],C&&(W=n.getTextBasedOnMaxWidth(i({text:u[F]},A))),F===0?E.tspan(W):E.tspan(W).newLine()}):(C&&(W=this.getTextBasedOnMaxWidth(i({text:u},A))),v=B?z.globals.dom.Paper.plain(u):z.globals.dom.Paper.text(function(E){return E.tspan(W)})),v.attr({x:l,y:h,"text-anchor":d,"dominant-baseline":"auto","font-size":p,"font-family":g,"font-weight":y,fill:x,class:"apexcharts-text "+P}),v.node.style.fontFamily=g,v.node.style.opacity=w,v}},{key:"drawMarker",value:function(r,n,l){r=r||0;var h=l.pSize||0,u=null;if(l.shape==="square"||l.shape==="rect"){var d=l.pRadius===void 0?h/2:l.pRadius;n!==null&&h||(h=0,d=0);var p=1.2*h+d,g=this.drawRect(p,p,p,p,d);g.attr({x:r-p/2,y:n-p/2,cx:r,cy:n,class:l.class?l.class:"",fill:l.pointFillColor,"fill-opacity":l.pointFillOpacity?l.pointFillOpacity:1,stroke:l.pointStrokeColor,"stroke-width":l.pointStrokeWidth?l.pointStrokeWidth:0,"stroke-opacity":l.pointStrokeOpacity?l.pointStrokeOpacity:1}),u=g}else l.shape!=="circle"&&l.shape||(V.isNumber(n)||(h=0,n=0),u=this.drawCircle(h,{cx:r,cy:n,class:l.class?l.class:"",stroke:l.pointStrokeColor,fill:l.pointFillColor,"fill-opacity":l.pointFillOpacity?l.pointFillOpacity:1,"stroke-width":l.pointStrokeWidth?l.pointStrokeWidth:0,"stroke-opacity":l.pointStrokeOpacity?l.pointStrokeOpacity:1}));return u}},{key:"pathMouseEnter",value:function(r,n){var l=this.w,h=new Q(this.ctx),u=parseInt(r.node.getAttribute("index"),10),d=parseInt(r.node.getAttribute("j"),10);if(typeof l.config.chart.events.dataPointMouseEnter=="function"&&l.config.chart.events.dataPointMouseEnter(n,this.ctx,{seriesIndex:u,dataPointIndex:d,w:l}),this.ctx.events.fireEvent("dataPointMouseEnter",[n,this.ctx,{seriesIndex:u,dataPointIndex:d,w:l}]),(l.config.states.active.filter.type==="none"||r.node.getAttribute("selected")!=="true")&&l.config.states.hover.filter.type!=="none"&&!l.globals.isTouchDevice){var p=l.config.states.hover.filter;h.applyFilter(r,u,p.type,p.value)}}},{key:"pathMouseLeave",value:function(r,n){var l=this.w,h=new Q(this.ctx),u=parseInt(r.node.getAttribute("index"),10),d=parseInt(r.node.getAttribute("j"),10);typeof l.config.chart.events.dataPointMouseLeave=="function"&&l.config.chart.events.dataPointMouseLeave(n,this.ctx,{seriesIndex:u,dataPointIndex:d,w:l}),this.ctx.events.fireEvent("dataPointMouseLeave",[n,this.ctx,{seriesIndex:u,dataPointIndex:d,w:l}]),l.config.states.active.filter.type!=="none"&&r.node.getAttribute("selected")==="true"||l.config.states.hover.filter.type!=="none"&&h.getDefaultFilter(r,u)}},{key:"pathMouseDown",value:function(r,n){var l=this.w,h=new Q(this.ctx),u=parseInt(r.node.getAttribute("index"),10),d=parseInt(r.node.getAttribute("j"),10),p="false";if(r.node.getAttribute("selected")==="true"){if(r.node.setAttribute("selected","false"),l.globals.selectedDataPoints[u].indexOf(d)>-1){var g=l.globals.selectedDataPoints[u].indexOf(d);l.globals.selectedDataPoints[u].splice(g,1)}}else{if(!l.config.states.active.allowMultipleDataPointsSelection&&l.globals.selectedDataPoints.length>0){l.globals.selectedDataPoints=[];var y=l.globals.dom.Paper.select(".apexcharts-series path").members,x=l.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,w=function(P){Array.prototype.forEach.call(P,function(M){M.node.setAttribute("selected","false"),h.getDefaultFilter(M,u)})};w(y),w(x)}r.node.setAttribute("selected","true"),p="true",l.globals.selectedDataPoints[u]===void 0&&(l.globals.selectedDataPoints[u]=[]),l.globals.selectedDataPoints[u].push(d)}if(p==="true"){var C=l.config.states.active.filter;if(C!=="none")h.applyFilter(r,u,C.type,C.value);else if(l.config.states.hover.filter!=="none"&&!l.globals.isTouchDevice){var T=l.config.states.hover.filter;h.applyFilter(r,u,T.type,T.value)}}else l.config.states.active.filter.type!=="none"&&(l.config.states.hover.filter.type==="none"||l.globals.isTouchDevice?h.getDefaultFilter(r,u):(T=l.config.states.hover.filter,h.applyFilter(r,u,T.type,T.value)));typeof l.config.chart.events.dataPointSelection=="function"&&l.config.chart.events.dataPointSelection(n,this.ctx,{selectedDataPoints:l.globals.selectedDataPoints,seriesIndex:u,dataPointIndex:d,w:l}),n&&this.ctx.events.fireEvent("dataPointSelection",[n,this.ctx,{selectedDataPoints:l.globals.selectedDataPoints,seriesIndex:u,dataPointIndex:d,w:l}])}},{key:"rotateAroundCenter",value:function(r){var n={};return r&&typeof r.getBBox=="function"&&(n=r.getBBox()),{x:n.x+n.width/2,y:n.y+n.height/2}}},{key:"getTextRects",value:function(r,n,l,h){var u=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],d=this.w,p=this.drawText({x:-200,y:-200,text:r,textAnchor:"start",fontSize:n,fontFamily:l,foreColor:"#fff",opacity:0});h&&p.attr("transform",h),d.globals.dom.Paper.add(p);var g=p.bbox();return u||(g=p.node.getBoundingClientRect()),p.remove(),{width:g.width,height:g.height}}},{key:"placeTextWithEllipsis",value:function(r,n,l){if(typeof r.getComputedTextLength=="function"&&(r.textContent=n,n.length>0&&r.getComputedTextLength()>=l/1.1)){for(var h=n.length-3;h>0;h-=3)if(r.getSubStringLength(0,h)<=l/1.1)return void(r.textContent=n.substring(0,h)+"...");r.textContent="."}}}],[{key:"setAttrs",value:function(r,n){for(var l in n)n.hasOwnProperty(l)&&r.setAttribute(l,n[l])}}]),D}(),re=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"getStackedSeriesTotals",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=this.w,l=[];if(n.globals.series.length===0)return l;for(var h=0;h<n.globals.series[n.globals.maxValsInArrayIndex].length;h++){for(var u=0,d=0;d<n.globals.series.length;d++)n.globals.series[d][h]!==void 0&&r.indexOf(d)===-1&&(u+=n.globals.series[d][h]);l.push(u)}return l}},{key:"getSeriesTotalByIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return r===null?this.w.config.series.reduce(function(n,l){return n+l},0):this.w.globals.series[r].reduce(function(n,l){return n+l},0)}},{key:"isSeriesNull",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(r===null?this.w.config.series.filter(function(n){return n!==null}):this.w.config.series[r].data.filter(function(n){return n!==null})).length===0}},{key:"seriesHaveSameValues",value:function(r){return this.w.globals.series[r].every(function(n,l,h){return n===h[0]})}},{key:"getCategoryLabels",value:function(r){var n=this.w,l=r.slice();return n.config.xaxis.convertedCatToNumeric&&(l=r.map(function(h,u){return n.config.xaxis.labels.formatter(h-n.globals.minX+1)})),l}},{key:"getLargestSeries",value:function(){var r=this.w;r.globals.maxValsInArrayIndex=r.globals.series.map(function(n){return n.length}).indexOf(Math.max.apply(Math,r.globals.series.map(function(n){return n.length})))}},{key:"getLargestMarkerSize",value:function(){var r=this.w,n=0;return r.globals.markers.size.forEach(function(l){n=Math.max(n,l)}),r.config.markers.discrete&&r.config.markers.discrete.length&&r.config.markers.discrete.forEach(function(l){n=Math.max(n,l.size)}),n>0&&(n+=r.config.markers.hover.sizeOffset+1),r.globals.markers.largestSize=n,n}},{key:"getSeriesTotals",value:function(){var r=this.w;r.globals.seriesTotals=r.globals.series.map(function(n,l){var h=0;if(Array.isArray(n))for(var u=0;u<n.length;u++)h+=n[u];else h+=n;return h})}},{key:"getSeriesTotalsXRange",value:function(r,n){var l=this.w;return l.globals.series.map(function(h,u){for(var d=0,p=0;p<h.length;p++)l.globals.seriesX[u][p]>r&&l.globals.seriesX[u][p]<n&&(d+=h[p]);return d})}},{key:"getPercentSeries",value:function(){var r=this.w;r.globals.seriesPercent=r.globals.series.map(function(n,l){var h=[];if(Array.isArray(n))for(var u=0;u<n.length;u++){var d=r.globals.stackedSeriesTotals[u],p=0;d&&(p=100*n[u]/d),h.push(p)}else{var g=100*n/r.globals.seriesTotals.reduce(function(y,x){return y+x},0);h.push(g)}return h})}},{key:"getCalculatedRatios",value:function(){var r,n,l,h,u=this.w.globals,d=[],p=0,g=[],y=.1,x=0;if(u.yRange=[],u.isMultipleYAxis)for(var w=0;w<u.minYArr.length;w++)u.yRange.push(Math.abs(u.minYArr[w]-u.maxYArr[w])),g.push(0);else u.yRange.push(Math.abs(u.minY-u.maxY));u.xRange=Math.abs(u.maxX-u.minX),u.zRange=Math.abs(u.maxZ-u.minZ);for(var C=0;C<u.yRange.length;C++)d.push(u.yRange[C]/u.gridHeight);if(n=u.xRange/u.gridWidth,l=Math.abs(u.initialMaxX-u.initialMinX)/u.gridWidth,r=u.yRange/u.gridWidth,h=u.xRange/u.gridHeight,(p=u.zRange/u.gridHeight*16)||(p=1),u.minY!==Number.MIN_VALUE&&Math.abs(u.minY)!==0&&(u.hasNegs=!0),u.isMultipleYAxis){g=[];for(var T=0;T<d.length;T++)g.push(-u.minYArr[T]/d[T])}else g.push(-u.minY/d[0]),u.minY!==Number.MIN_VALUE&&Math.abs(u.minY)!==0&&(y=-u.minY/r,x=u.minX/n);return{yRatio:d,invertedYRatio:r,zRatio:p,xRatio:n,initialXRatio:l,invertedXRatio:h,baseLineInvertedY:y,baseLineY:g,baseLineX:x}}},{key:"getLogSeries",value:function(r){var n=this,l=this.w;return l.globals.seriesLog=r.map(function(h,u){return l.config.yaxis[u]&&l.config.yaxis[u].logarithmic?h.map(function(d){return d===null?null:n.getLogVal(l.config.yaxis[u].logBase,d,u)}):h}),l.globals.invalidLogScale?r:l.globals.seriesLog}},{key:"getBaseLog",value:function(r,n){return Math.log(n)/Math.log(r)}},{key:"getLogVal",value:function(r,n,l){if(n===0)return 0;var h=this.w,u=h.globals.minYArr[l]===0?-1:this.getBaseLog(r,h.globals.minYArr[l]),d=(h.globals.maxYArr[l]===0?0:this.getBaseLog(r,h.globals.maxYArr[l]))-u;return n<1?n/d:(this.getBaseLog(r,n)-u)/d}},{key:"getLogYRatios",value:function(r){var n=this,l=this.w,h=this.w.globals;return h.yLogRatio=r.slice(),h.logYRange=h.yRange.map(function(u,d){if(l.config.yaxis[d]&&n.w.config.yaxis[d].logarithmic){var p,g=-Number.MAX_VALUE,y=Number.MIN_VALUE;return h.seriesLog.forEach(function(x,w){x.forEach(function(C){l.config.yaxis[w]&&l.config.yaxis[w].logarithmic&&(g=Math.max(C,g),y=Math.min(C,y))})}),p=Math.pow(h.yRange[d],Math.abs(y-g)/h.yRange[d]),h.yLogRatio[d]=p/h.gridHeight,p}}),h.invalidLogScale?r.slice():h.yLogRatio}}],[{key:"checkComboSeries",value:function(r){var n=!1,l=0,h=0;return r.length&&r[0].type!==void 0&&r.forEach(function(u){u.type!=="bar"&&u.type!=="column"&&u.type!=="candlestick"&&u.type!=="boxPlot"||l++,u.type!==void 0&&h++}),h>0&&(n=!0),{comboBarCount:l,comboCharts:n}}},{key:"extendArrayProps",value:function(r,n,l){return n.yaxis&&(n=r.extendYAxis(n,l)),n.annotations&&(n.annotations.yaxis&&(n=r.extendYAxisAnnotations(n)),n.annotations.xaxis&&(n=r.extendXAxisAnnotations(n)),n.annotations.points&&(n=r.extendPointAnnotations(n))),n}}]),D}(),ie=function(){function D(r){o(this,D),this.w=r.w,this.annoCtx=r}return f(D,[{key:"setOrientations",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=this.w;if(r.label.orientation==="vertical"){var h=n!==null?n:0,u=l.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(h,"']"));if(u!==null){var d=u.getBoundingClientRect();u.setAttribute("x",parseFloat(u.getAttribute("x"))-d.height+4),r.label.position==="top"?u.setAttribute("y",parseFloat(u.getAttribute("y"))+d.width):u.setAttribute("y",parseFloat(u.getAttribute("y"))-d.width);var p=this.annoCtx.graphics.rotateAroundCenter(u),g=p.x,y=p.y;u.setAttribute("transform","rotate(-90 ".concat(g," ").concat(y,")"))}}}},{key:"addBackgroundToAnno",value:function(r,n){var l=this.w;if(!r||n.label.text===void 0||n.label.text!==void 0&&!String(n.label.text).trim())return null;var h=l.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),u=r.getBoundingClientRect(),d=n.label.style.padding.left,p=n.label.style.padding.right,g=n.label.style.padding.top,y=n.label.style.padding.bottom;n.label.orientation==="vertical"&&(g=n.label.style.padding.left,y=n.label.style.padding.right,d=n.label.style.padding.top,p=n.label.style.padding.bottom);var x=u.left-h.left-d,w=u.top-h.top-g,C=this.annoCtx.graphics.drawRect(x-l.globals.barPadForNumericAxis,w,u.width+d+p,u.height+g+y,n.label.borderRadius,n.label.style.background,1,n.label.borderWidth,n.label.borderColor,0);return n.id&&C.node.classList.add(n.id),C}},{key:"annotationsBackground",value:function(){var r=this,n=this.w,l=function(h,u,d){var p=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(d,"-annotations .apexcharts-").concat(d,"-annotation-label[rel='").concat(u,"']"));if(p){var g=p.parentNode,y=r.addBackgroundToAnno(p,h);y&&(g.insertBefore(y.node,p),h.label.mouseEnter&&y.node.addEventListener("mouseenter",h.label.mouseEnter.bind(r,h)),h.label.mouseLeave&&y.node.addEventListener("mouseleave",h.label.mouseLeave.bind(r,h)),h.label.click&&y.node.addEventListener("click",h.label.click.bind(r,h)))}};n.config.annotations.xaxis.map(function(h,u){l(h,u,"xaxis")}),n.config.annotations.yaxis.map(function(h,u){l(h,u,"yaxis")}),n.config.annotations.points.map(function(h,u){l(h,u,"point")})}},{key:"getY1Y2",value:function(r,n){var l,h=r==="y1"?n.y:n.y2,u=this.w;if(this.annoCtx.invertAxis){var d=u.globals.labels.indexOf(h);u.config.xaxis.convertedCatToNumeric&&(d=u.globals.categoryLabels.indexOf(h));var p=u.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(d+1)+")");p&&(l=parseFloat(p.getAttribute("y")))}else{var g;u.config.yaxis[n.yAxisIndex].logarithmic?g=(h=new re(this.annoCtx.ctx).getLogVal(h,n.yAxisIndex))/u.globals.yLogRatio[n.yAxisIndex]:g=(h-u.globals.minYArr[n.yAxisIndex])/(u.globals.yRange[n.yAxisIndex]/u.globals.gridHeight),l=u.globals.gridHeight-g,!n.marker||n.y!==void 0&&n.y!==null||(l=0),u.config.yaxis[n.yAxisIndex]&&u.config.yaxis[n.yAxisIndex].reversed&&(l=g)}return typeof h=="string"&&h.indexOf("px")>-1&&(l=parseFloat(h)),l}},{key:"getX1X2",value:function(r,n){var l=this.w,h=this.annoCtx.invertAxis?l.globals.minY:l.globals.minX,u=this.annoCtx.invertAxis?l.globals.maxY:l.globals.maxX,d=this.annoCtx.invertAxis?l.globals.yRange[0]:l.globals.xRange,p=(n.x-h)/(d/l.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(p=(u-n.x)/(d/l.globals.gridWidth)),l.config.xaxis.type!=="category"&&!l.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||l.globals.dataFormatXNumeric||(p=this.getStringX(n.x));var g=(n.x2-h)/(d/l.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(g=(u-n.x2)/(d/l.globals.gridWidth)),l.config.xaxis.type!=="category"&&!l.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||l.globals.dataFormatXNumeric||(g=this.getStringX(n.x2)),n.x!==void 0&&n.x!==null||!n.marker||(p=l.globals.gridWidth),r==="x1"&&typeof n.x=="string"&&n.x.indexOf("px")>-1&&(p=parseFloat(n.x)),r==="x2"&&typeof n.x2=="string"&&n.x2.indexOf("px")>-1&&(g=parseFloat(n.x2)),r==="x1"?p:g}},{key:"getStringX",value:function(r){var n=this.w,l=r;n.config.xaxis.convertedCatToNumeric&&n.globals.categoryLabels.length&&(r=n.globals.categoryLabels.indexOf(r)+1);var h=n.globals.labels.indexOf(r),u=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(h+1)+")");return u&&(l=parseFloat(u.getAttribute("x"))),l}}]),D}(),ae=function(){function D(r){o(this,D),this.w=r.w,this.annoCtx=r,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new ie(this.annoCtx)}return f(D,[{key:"addXaxisAnnotation",value:function(r,n,l){var h,u=this.w,d=this.helpers.getX1X2("x1",r),p=r.label.text,g=r.strokeDashArray;if(V.isNumber(d)){if(r.x2===null||r.x2===void 0){var y=this.annoCtx.graphics.drawLine(d+r.offsetX,0+r.offsetY,d+r.offsetX,u.globals.gridHeight+r.offsetY,r.borderColor,g,r.borderWidth);n.appendChild(y.node),r.id&&y.node.classList.add(r.id)}else{if((h=this.helpers.getX1X2("x2",r))<d){var x=d;d=h,h=x}var w=this.annoCtx.graphics.drawRect(d+r.offsetX,0+r.offsetY,h-d,u.globals.gridHeight+r.offsetY,0,r.fillColor,r.opacity,1,r.borderColor,g);w.node.classList.add("apexcharts-annotation-rect"),w.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),n.appendChild(w.node),r.id&&w.node.classList.add(r.id)}var C=this.annoCtx.graphics.getTextRects(p,parseFloat(r.label.style.fontSize)),T=r.label.position==="top"?4:r.label.position==="center"?u.globals.gridHeight/2+(r.label.orientation==="vertical"?C.width/2:0):u.globals.gridHeight,P=this.annoCtx.graphics.drawText({x:d+r.label.offsetX,y:T+r.label.offsetY-(r.label.orientation==="vertical"?r.label.position==="top"?C.width/2-12:-C.width/2:0),text:p,textAnchor:r.label.textAnchor,fontSize:r.label.style.fontSize,fontFamily:r.label.style.fontFamily,fontWeight:r.label.style.fontWeight,foreColor:r.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(r.label.style.cssClass," ").concat(r.id?r.id:"")});P.attr({rel:l}),n.appendChild(P.node),this.annoCtx.helpers.setOrientations(r,l)}}},{key:"drawXAxisAnnotations",value:function(){var r=this,n=this.w,l=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return n.config.annotations.xaxis.map(function(h,u){r.addXaxisAnnotation(h,l.node,u)}),l}}]),D}(),Ce=function(){function D(r){o(this,D),this.w=r.w,this.annoCtx=r,this.helpers=new ie(this.annoCtx)}return f(D,[{key:"addYaxisAnnotation",value:function(r,n,l){var h,u=this.w,d=r.strokeDashArray,p=this.helpers.getY1Y2("y1",r),g=r.label.text;if(r.y2===null||r.y2===void 0){var y=this.annoCtx.graphics.drawLine(0+r.offsetX,p+r.offsetY,this._getYAxisAnnotationWidth(r),p+r.offsetY,r.borderColor,d,r.borderWidth);n.appendChild(y.node),r.id&&y.node.classList.add(r.id)}else{if((h=this.helpers.getY1Y2("y2",r))>p){var x=p;p=h,h=x}var w=this.annoCtx.graphics.drawRect(0+r.offsetX,h+r.offsetY,this._getYAxisAnnotationWidth(r),p-h,0,r.fillColor,r.opacity,1,r.borderColor,d);w.node.classList.add("apexcharts-annotation-rect"),w.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),n.appendChild(w.node),r.id&&w.node.classList.add(r.id)}var C=r.label.position==="right"?u.globals.gridWidth:r.label.position==="center"?u.globals.gridWidth/2:0,T=this.annoCtx.graphics.drawText({x:C+r.label.offsetX,y:(h??p)+r.label.offsetY-3,text:g,textAnchor:r.label.textAnchor,fontSize:r.label.style.fontSize,fontFamily:r.label.style.fontFamily,fontWeight:r.label.style.fontWeight,foreColor:r.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(r.label.style.cssClass," ").concat(r.id?r.id:"")});T.attr({rel:l}),n.appendChild(T.node)}},{key:"_getYAxisAnnotationWidth",value:function(r){var n=this.w;return n.globals.gridWidth,(r.width.indexOf("%")>-1?n.globals.gridWidth*parseInt(r.width,10)/100:parseInt(r.width,10))+r.offsetX}},{key:"drawYAxisAnnotations",value:function(){var r=this,n=this.w,l=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return n.config.annotations.yaxis.map(function(h,u){r.addYaxisAnnotation(h,l.node,u)}),l}}]),D}(),me=function(){function D(r){o(this,D),this.w=r.w,this.annoCtx=r,this.helpers=new ie(this.annoCtx)}return f(D,[{key:"addPointAnnotation",value:function(r,n,l){this.w;var h=this.helpers.getX1X2("x1",r),u=this.helpers.getY1Y2("y1",r);if(V.isNumber(h)){var d={pSize:r.marker.size,pointStrokeWidth:r.marker.strokeWidth,pointFillColor:r.marker.fillColor,pointStrokeColor:r.marker.strokeColor,shape:r.marker.shape,pRadius:r.marker.radius,class:"apexcharts-point-annotation-marker ".concat(r.marker.cssClass," ").concat(r.id?r.id:"")},p=this.annoCtx.graphics.drawMarker(h+r.marker.offsetX,u+r.marker.offsetY,d);n.appendChild(p.node);var g=r.label.text?r.label.text:"",y=this.annoCtx.graphics.drawText({x:h+r.label.offsetX,y:u+r.label.offsetY-r.marker.size-parseFloat(r.label.style.fontSize)/1.6,text:g,textAnchor:r.label.textAnchor,fontSize:r.label.style.fontSize,fontFamily:r.label.style.fontFamily,fontWeight:r.label.style.fontWeight,foreColor:r.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(r.label.style.cssClass," ").concat(r.id?r.id:"")});if(y.attr({rel:l}),n.appendChild(y.node),r.customSVG.SVG){var x=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+r.customSVG.cssClass});x.attr({transform:"translate(".concat(h+r.customSVG.offsetX,", ").concat(u+r.customSVG.offsetY,")")}),x.node.innerHTML=r.customSVG.SVG,n.appendChild(x.node)}if(r.image.path){var w=r.image.width?r.image.width:20,C=r.image.height?r.image.height:20;p=this.annoCtx.addImage({x:h+r.image.offsetX-w/2,y:u+r.image.offsetY-C/2,width:w,height:C,path:r.image.path,appendTo:".apexcharts-point-annotations"})}r.mouseEnter&&p.node.addEventListener("mouseenter",r.mouseEnter.bind(this,r)),r.mouseLeave&&p.node.addEventListener("mouseleave",r.mouseLeave.bind(this,r)),r.click&&p.node.addEventListener("click",r.click.bind(this,r))}}},{key:"drawPointAnnotations",value:function(){var r=this,n=this.w,l=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return n.config.annotations.points.map(function(h,u){r.addPointAnnotation(h,l.node,u)}),l}}]),D}(),ke={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Pe=function(){function D(){o(this,D),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return f(D,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[ke],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(r){return new Date(r).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(r){return r}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(r){return r+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(r){return r.globals.seriesTotals.reduce(function(n,l){return n+l},0)/r.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(r){return r}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(r){return r}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(r){return r.globals.seriesTotals.reduce(function(n,l){return n+l},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(r){return r!==null?r:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(r){return r?r+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),D}(),Oe=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.graphics=new H(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new ie(this),this.xAxisAnnotations=new ae(this),this.yAxisAnnotations=new Ce(this),this.pointsAnnotations=new me(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return f(D,[{key:"drawAxesAnnotations",value:function(){var r=this.w;if(r.globals.axisCharts){for(var n=this.yAxisAnnotations.drawYAxisAnnotations(),l=this.xAxisAnnotations.drawXAxisAnnotations(),h=this.pointsAnnotations.drawPointAnnotations(),u=r.config.chart.animations.enabled,d=[n,l,h],p=[l.node,n.node,h.node],g=0;g<3;g++)r.globals.dom.elGraphical.add(d[g]),!u||r.globals.resized||r.globals.dataChanged||r.config.chart.type!=="scatter"&&r.config.chart.type!=="bubble"&&r.globals.dataPoints>1&&p[g].classList.add("apexcharts-element-hidden"),r.globals.delayedElements.push({el:p[g],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var r=this;this.w.config.annotations.images.map(function(n,l){r.addImage(n,l)})}},{key:"drawTextAnnos",value:function(){var r=this;this.w.config.annotations.texts.map(function(n,l){r.addText(n,l)})}},{key:"addXaxisAnnotation",value:function(r,n,l){this.xAxisAnnotations.addXaxisAnnotation(r,n,l)}},{key:"addYaxisAnnotation",value:function(r,n,l){this.yAxisAnnotations.addYaxisAnnotation(r,n,l)}},{key:"addPointAnnotation",value:function(r,n,l){this.pointsAnnotations.addPointAnnotation(r,n,l)}},{key:"addText",value:function(r,n){var l=r.x,h=r.y,u=r.text,d=r.textAnchor,p=r.foreColor,g=r.fontSize,y=r.fontFamily,x=r.fontWeight,w=r.cssClass,C=r.backgroundColor,T=r.borderWidth,P=r.strokeDashArray,M=r.borderRadius,B=r.borderColor,z=r.appendTo,W=z===void 0?".apexcharts-annotations":z,v=r.paddingLeft,A=v===void 0?4:v,E=r.paddingRight,F=E===void 0?4:E,j=r.paddingBottom,X=j===void 0?2:j,J=r.paddingTop,ee=J===void 0?2:J,se=this.w,he=this.graphics.drawText({x:l,y:h,text:u,textAnchor:d||"start",fontSize:g||"12px",fontWeight:x||"regular",fontFamily:y||se.config.chart.fontFamily,foreColor:p||se.config.chart.foreColor,cssClass:w}),ce=se.globals.dom.baseEl.querySelector(W);ce&&ce.appendChild(he.node);var ge=he.bbox();if(u){var Te=this.graphics.drawRect(ge.x-A,ge.y-ee,ge.width+A+F,ge.height+X+ee,M,C||"transparent",1,T,B,P);ce.insertBefore(Te.node,he.node)}}},{key:"addImage",value:function(r,n){var l=this.w,h=r.path,u=r.x,d=u===void 0?0:u,p=r.y,g=p===void 0?0:p,y=r.width,x=y===void 0?20:y,w=r.height,C=w===void 0?20:w,T=r.appendTo,P=T===void 0?".apexcharts-annotations":T,M=l.globals.dom.Paper.image(h);M.size(x,C).move(d,g);var B=l.globals.dom.baseEl.querySelector(P);return B&&B.appendChild(M.node),M}},{key:"addXaxisAnnotationExternal",value:function(r,n,l){return this.addAnnotationExternal({params:r,pushToMemory:n,context:l,type:"xaxis",contextMethod:l.addXaxisAnnotation}),l}},{key:"addYaxisAnnotationExternal",value:function(r,n,l){return this.addAnnotationExternal({params:r,pushToMemory:n,context:l,type:"yaxis",contextMethod:l.addYaxisAnnotation}),l}},{key:"addPointAnnotationExternal",value:function(r,n,l){return this.invertAxis===void 0&&(this.invertAxis=l.w.globals.isBarHorizontal),this.addAnnotationExternal({params:r,pushToMemory:n,context:l,type:"point",contextMethod:l.addPointAnnotation}),l}},{key:"addAnnotationExternal",value:function(r){var n=r.params,l=r.pushToMemory,h=r.context,u=r.type,d=r.contextMethod,p=h,g=p.w,y=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-annotations")),x=y.childNodes.length+1,w=new Pe,C=Object.assign({},u==="xaxis"?w.xAxisAnnotation:u==="yaxis"?w.yAxisAnnotation:w.pointAnnotation),T=V.extend(C,n);switch(u){case"xaxis":this.addXaxisAnnotation(T,y,x);break;case"yaxis":this.addYaxisAnnotation(T,y,x);break;case"point":this.addPointAnnotation(T,y,x)}var P=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-annotations .apexcharts-").concat(u,"-annotation-label[rel='").concat(x,"']")),M=this.helpers.addBackgroundToAnno(P,T);return M&&y.insertBefore(M.node,P),l&&g.globals.memory.methodsToExec.push({context:p,id:T.id?T.id:V.randomId(),method:d,label:"addAnnotation",params:n}),h}},{key:"clearAnnotations",value:function(r){var n=r.w,l=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");n.globals.memory.methodsToExec.map(function(h,u){h.label!=="addText"&&h.label!=="addAnnotation"||n.globals.memory.methodsToExec.splice(u,1)}),l=V.listToArray(l),Array.prototype.forEach.call(l,function(h){for(;h.firstChild;)h.removeChild(h.firstChild)})}},{key:"removeAnnotation",value:function(r,n){var l=r.w,h=l.globals.dom.baseEl.querySelectorAll(".".concat(n));h&&(l.globals.memory.methodsToExec.map(function(u,d){u.id===n&&l.globals.memory.methodsToExec.splice(d,1)}),Array.prototype.forEach.call(h,function(u){u.parentElement.removeChild(u)}))}}]),D}(),le=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return f(D,[{key:"isValidDate",value:function(r){return!isNaN(this.parseDate(r))}},{key:"getTimeStamp",value:function(r){return Date.parse(r)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(r).toISOString().substr(0,25)).getTime():new Date(r).getTime():r}},{key:"getDate",value:function(r){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(r).toUTCString()):new Date(r)}},{key:"parseDate",value:function(r){var n=Date.parse(r);if(!isNaN(n))return this.getTimeStamp(r);var l=Date.parse(r.replace(/-/g,"/").replace(/[a-z]+/gi," "));return l=this.getTimeStamp(l)}},{key:"parseDateWithTimezone",value:function(r){return Date.parse(r.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(r,n){var l=this.w.globals.locale,h=this.w.config.xaxis.labels.datetimeUTC,u=["\0"].concat(N(l.months)),d=[""].concat(N(l.shortMonths)),p=[""].concat(N(l.days)),g=[""].concat(N(l.shortDays));function y(X,J){var ee=X+"";for(J=J||2;ee.length<J;)ee="0"+ee;return ee}var x=h?r.getUTCFullYear():r.getFullYear();n=(n=(n=n.replace(/(^|[^\\])yyyy+/g,"$1"+x)).replace(/(^|[^\\])yy/g,"$1"+x.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+x);var w=(h?r.getUTCMonth():r.getMonth())+1;n=(n=(n=(n=n.replace(/(^|[^\\])MMMM+/g,"$1"+u[0])).replace(/(^|[^\\])MMM/g,"$1"+d[0])).replace(/(^|[^\\])MM/g,"$1"+y(w))).replace(/(^|[^\\])M/g,"$1"+w);var C=h?r.getUTCDate():r.getDate();n=(n=(n=(n=n.replace(/(^|[^\\])dddd+/g,"$1"+p[0])).replace(/(^|[^\\])ddd/g,"$1"+g[0])).replace(/(^|[^\\])dd/g,"$1"+y(C))).replace(/(^|[^\\])d/g,"$1"+C);var T=h?r.getUTCHours():r.getHours(),P=T>12?T-12:T===0?12:T;n=(n=(n=(n=n.replace(/(^|[^\\])HH+/g,"$1"+y(T))).replace(/(^|[^\\])H/g,"$1"+T)).replace(/(^|[^\\])hh+/g,"$1"+y(P))).replace(/(^|[^\\])h/g,"$1"+P);var M=h?r.getUTCMinutes():r.getMinutes();n=(n=n.replace(/(^|[^\\])mm+/g,"$1"+y(M))).replace(/(^|[^\\])m/g,"$1"+M);var B=h?r.getUTCSeconds():r.getSeconds();n=(n=n.replace(/(^|[^\\])ss+/g,"$1"+y(B))).replace(/(^|[^\\])s/g,"$1"+B);var z=h?r.getUTCMilliseconds():r.getMilliseconds();n=n.replace(/(^|[^\\])fff+/g,"$1"+y(z,3)),z=Math.round(z/10),n=n.replace(/(^|[^\\])ff/g,"$1"+y(z)),z=Math.round(z/10);var W=T<12?"AM":"PM";n=(n=(n=n.replace(/(^|[^\\])f/g,"$1"+z)).replace(/(^|[^\\])TT+/g,"$1"+W)).replace(/(^|[^\\])T/g,"$1"+W.charAt(0));var v=W.toLowerCase();n=(n=n.replace(/(^|[^\\])tt+/g,"$1"+v)).replace(/(^|[^\\])t/g,"$1"+v.charAt(0));var A=-r.getTimezoneOffset(),E=h||!A?"Z":A>0?"+":"-";if(!h){var F=(A=Math.abs(A))%60;E+=y(Math.floor(A/60))+":"+y(F)}n=n.replace(/(^|[^\\])K/g,"$1"+E);var j=(h?r.getUTCDay():r.getDay())+1;return n=(n=(n=(n=(n=n.replace(new RegExp(p[0],"g"),p[j])).replace(new RegExp(g[0],"g"),g[j])).replace(new RegExp(u[0],"g"),u[w])).replace(new RegExp(d[0],"g"),d[w])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(r,n,l){var h=this.w;h.config.xaxis.min!==void 0&&(r=h.config.xaxis.min),h.config.xaxis.max!==void 0&&(n=h.config.xaxis.max);var u=this.getDate(r),d=this.getDate(n),p=this.formatDate(u,"yyyy MM dd HH mm ss fff").split(" "),g=this.formatDate(d,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(p[6],10),maxMillisecond:parseInt(g[6],10),minSecond:parseInt(p[5],10),maxSecond:parseInt(g[5],10),minMinute:parseInt(p[4],10),maxMinute:parseInt(g[4],10),minHour:parseInt(p[3],10),maxHour:parseInt(g[3],10),minDate:parseInt(p[2],10),maxDate:parseInt(g[2],10),minMonth:parseInt(p[1],10)-1,maxMonth:parseInt(g[1],10)-1,minYear:parseInt(p[0],10),maxYear:parseInt(g[0],10)}}},{key:"isLeapYear",value:function(r){return r%4==0&&r%100!=0||r%400==0}},{key:"calculcateLastDaysOfMonth",value:function(r,n,l){return this.determineDaysOfMonths(r,n)-l}},{key:"determineDaysOfYear",value:function(r){var n=365;return this.isLeapYear(r)&&(n=366),n}},{key:"determineRemainingDaysOfYear",value:function(r,n,l){var h=this.daysCntOfYear[n]+l;return n>1&&this.isLeapYear()&&h++,h}},{key:"determineDaysOfMonths",value:function(r,n){var l=30;switch(r=V.monthMod(r),!0){case this.months30.indexOf(r)>-1:r===2&&(l=this.isLeapYear(n)?29:28);break;case this.months31.indexOf(r)>-1:default:l=31}return l}}]),D}(),Ae=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.tooltipKeyFormat="dd MMM"}return f(D,[{key:"xLabelFormat",value:function(r,n,l,h){var u=this.w;if(u.config.xaxis.type==="datetime"&&u.config.xaxis.labels.formatter===void 0&&u.config.tooltip.x.formatter===void 0){var d=new le(this.ctx);return d.formatDate(d.getDate(n),u.config.tooltip.x.format)}return r(n,l,h)}},{key:"defaultGeneralFormatter",value:function(r){return Array.isArray(r)?r.map(function(n){return n}):r}},{key:"defaultYFormatter",value:function(r,n,l){var h=this.w;return V.isNumber(r)&&(r=h.globals.yValueDecimal!==0?r.toFixed(n.decimalsInFloat!==void 0?n.decimalsInFloat:h.globals.yValueDecimal):h.globals.maxYArr[l]-h.globals.minYArr[l]<5?r.toFixed(1):r.toFixed(0)),r}},{key:"setLabelFormatters",value:function(){var r=this,n=this.w;return n.globals.xaxisTooltipFormatter=function(l){return r.defaultGeneralFormatter(l)},n.globals.ttKeyFormatter=function(l){return r.defaultGeneralFormatter(l)},n.globals.ttZFormatter=function(l){return l},n.globals.legendFormatter=function(l){return r.defaultGeneralFormatter(l)},n.config.xaxis.labels.formatter!==void 0?n.globals.xLabelFormatter=n.config.xaxis.labels.formatter:n.globals.xLabelFormatter=function(l){if(V.isNumber(l)){if(!n.config.xaxis.convertedCatToNumeric&&n.config.xaxis.type==="numeric"){if(V.isNumber(n.config.xaxis.decimalsInFloat))return l.toFixed(n.config.xaxis.decimalsInFloat);var h=n.globals.maxX-n.globals.minX;return h>0&&h<100?l.toFixed(1):l.toFixed(0)}return n.globals.isBarHorizontal&&n.globals.maxY-n.globals.minYArr<4?l.toFixed(1):l.toFixed(0)}return l},typeof n.config.tooltip.x.formatter=="function"?n.globals.ttKeyFormatter=n.config.tooltip.x.formatter:n.globals.ttKeyFormatter=n.globals.xLabelFormatter,typeof n.config.xaxis.tooltip.formatter=="function"&&(n.globals.xaxisTooltipFormatter=n.config.xaxis.tooltip.formatter),(Array.isArray(n.config.tooltip.y)||n.config.tooltip.y.formatter!==void 0)&&(n.globals.ttVal=n.config.tooltip.y),n.config.tooltip.z.formatter!==void 0&&(n.globals.ttZFormatter=n.config.tooltip.z.formatter),n.config.legend.formatter!==void 0&&(n.globals.legendFormatter=n.config.legend.formatter),n.config.yaxis.forEach(function(l,h){l.labels.formatter!==void 0?n.globals.yLabelFormatters[h]=l.labels.formatter:n.globals.yLabelFormatters[h]=function(u){return n.globals.xyCharts?Array.isArray(u)?u.map(function(d){return r.defaultYFormatter(d,l,h)}):r.defaultYFormatter(u,l,h):u}}),n.globals}},{key:"heatmapLabelFormatters",value:function(){var r=this.w;if(r.config.chart.type==="heatmap"){r.globals.yAxisScale[0].result=r.globals.seriesNames.slice();var n=r.globals.seriesNames.reduce(function(l,h){return l.length>h.length?l:h},0);r.globals.yAxisScale[0].niceMax=n,r.globals.yAxisScale[0].niceMin=n}}}]),D}(),Ue=function(D){var r,n=D.isTimeline,l=D.ctx,h=D.seriesIndex,u=D.dataPointIndex,d=D.y1,p=D.y2,g=D.w,y=g.globals.seriesRangeStart[h][u],x=g.globals.seriesRangeEnd[h][u],w=g.globals.labels[u],C=g.config.series[h].name?g.config.series[h].name:"",T=g.globals.ttKeyFormatter,P=g.config.tooltip.y.title.formatter,M={w:g,seriesIndex:h,dataPointIndex:u,start:y,end:x};typeof P=="function"&&(C=P(C,M)),(r=g.config.series[h].data[u])!==null&&r!==void 0&&r.x&&(w=g.config.series[h].data[u].x),n||g.config.xaxis.type==="datetime"&&(w=new Ae(l).xLabelFormat(g.globals.ttKeyFormatter,w,w,{i:void 0,dateFormatter:new le(l).formatDate,w:g})),typeof T=="function"&&(w=T(w,M)),Number.isFinite(d)&&Number.isFinite(p)&&(y=d,x=p);var B="",z="",W=g.globals.colors[h];if(g.config.tooltip.x.formatter===void 0)if(g.config.xaxis.type==="datetime"){var v=new le(l);B=v.formatDate(v.getDate(y),g.config.tooltip.x.format),z=v.formatDate(v.getDate(x),g.config.tooltip.x.format)}else B=y,z=x;else B=g.config.tooltip.x.formatter(y),z=g.config.tooltip.x.formatter(x);return{start:y,end:x,startVal:B,endVal:z,ylabel:w,color:W,seriesName:C}},Qe=function(D){var r=D.color,n=D.seriesName,l=D.ylabel,h=D.start,u=D.end,d=D.seriesIndex,p=D.dataPointIndex,g=D.ctx.tooltip.tooltipLabels.getFormatters(d);h=g.yLbFormatter(h),u=g.yLbFormatter(u);var y=g.yLbFormatter(D.w.globals.series[d][p]),x=`<span class="value start-value">
  `.concat(h,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(u,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+r+'">'+(n||"")+'</span></div><div> <span class="category">'+l+": </span> "+(D.w.globals.comboCharts?D.w.config.series[d].type==="rangeArea"||D.w.config.series[d].type==="rangeBar"?x:"<span>".concat(y,"</span>"):x)+" </div></div>"},wt=function(){function D(r){o(this,D),this.opts=r}return f(D,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(r){return this.hideYAxis(),V.extend(r,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),i(i({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var r=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(n){var l=n.seriesIndex,h=n.dataPointIndex,u=n.w;return r._getBoxTooltip(u,l,h,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var r=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(n){var l=n.seriesIndex,h=n.dataPointIndex,u=n.w;return r._getBoxTooltip(u,l,h,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(r,n){n.ctx;var l=n.seriesIndex,h=n.dataPointIndex,u=n.w,d=function(){var p=u.globals.seriesRangeStart[l][h];return u.globals.seriesRangeEnd[l][h]-p};return u.globals.comboCharts?u.config.series[l].type==="rangeBar"||u.config.series[l].type==="rangeArea"?d():r:d()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(r){return r.w.config.plotOptions&&r.w.config.plotOptions.bar&&r.w.config.plotOptions.bar.horizontal?function(n){var l=Ue(i(i({},n),{},{isTimeline:!0})),h=l.color,u=l.seriesName,d=l.ylabel,p=l.startVal,g=l.endVal;return Qe(i(i({},n),{},{color:h,seriesName:u,ylabel:d,start:p,end:g}))}(r):function(n){var l=Ue(n),h=l.color,u=l.seriesName,d=l.ylabel,p=l.start,g=l.end;return Qe(i(i({},n),{},{color:h,seriesName:u,ylabel:d,start:p,end:g}))}(r)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(r){var n,l;return(n=r.plotOptions.bar)!==null&&n!==void 0&&n.barHeight||(r.plotOptions.bar.barHeight=2),(l=r.plotOptions.bar)!==null&&l!==void 0&&l.columnWidth||(r.plotOptions.bar.columnWidth=2),r}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(r){return function(n){var l=Ue(n),h=l.color,u=l.seriesName,d=l.ylabel,p=l.start,g=l.end;return Qe(i(i({},n),{},{color:h,seriesName:u,ylabel:d,start:p,end:g}))}(r)}}}}},{key:"brush",value:function(r){return V.extend(r,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(r){r.dataLabels=r.dataLabels||{},r.dataLabels.formatter=r.dataLabels.formatter||void 0;var n=r.dataLabels.formatter;return r.yaxis.forEach(function(l,h){r.yaxis[h].min=0,r.yaxis[h].max=100}),r.chart.type==="bar"&&(r.dataLabels.formatter=n||function(l){return typeof l=="number"&&l?l.toFixed(0)+"%":l}),r}},{key:"stackedBars",value:function(){var r=this.bar();return i(i({},r),{},{plotOptions:i(i({},r.plotOptions),{},{bar:i(i({},r.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(r){return r.xaxis.convertedCatToNumeric=!0,r}},{key:"convertCatToNumericXaxis",value:function(r,n,l){r.xaxis.type="numeric",r.xaxis.labels=r.xaxis.labels||{},r.xaxis.labels.formatter=r.xaxis.labels.formatter||function(d){return V.isNumber(d)?Math.floor(d):d};var h=r.xaxis.labels.formatter,u=r.xaxis.categories&&r.xaxis.categories.length?r.xaxis.categories:r.labels;return l&&l.length&&(u=l.map(function(d){return Array.isArray(d)?d:String(d)})),u&&u.length&&(r.xaxis.labels.formatter=function(d){return V.isNumber(d)?h(u[Math.floor(d)-1]):h(d)}),r.xaxis.categories=[],r.labels=[],r.xaxis.tickAmount=r.xaxis.tickAmount||"dataPoints",r}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(r){return r.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(r){return r.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(r){return r.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(r){return r},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(r,n,l,h,u){var d=r.globals.seriesCandleO[n][l],p=r.globals.seriesCandleH[n][l],g=r.globals.seriesCandleM[n][l],y=r.globals.seriesCandleL[n][l],x=r.globals.seriesCandleC[n][l];return r.config.series[n].type&&r.config.series[n].type!==u?`<div class="apexcharts-custom-tooltip">
          `.concat(r.config.series[n].name?r.config.series[n].name:"series-"+(n+1),": <strong>").concat(r.globals.series[n][l],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(r.config.chart.type,'">')+"<div>".concat(h[0],': <span class="value">')+d+"</span></div>"+"<div>".concat(h[1],': <span class="value">')+p+"</span></div>"+(g?"<div>".concat(h[2],': <span class="value">')+g+"</span></div>":"")+"<div>".concat(h[3],': <span class="value">')+y+"</span></div>"+"<div>".concat(h[4],': <span class="value">')+x+"</span></div></div>"}}]),D}(),at=function(){function D(r){o(this,D),this.opts=r}return f(D,[{key:"init",value:function(r){var n=r.responsiveOverride,l=this.opts,h=new Pe,u=new wt(l);this.chartType=l.chart.type,l=this.extendYAxis(l),l=this.extendAnnotations(l);var d=h.init(),p={};if(l&&s(l)==="object"){var g,y,x,w,C,T,P,M,B={};B=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(l.chart.type)!==-1?u[l.chart.type]():u.line(),(g=l.plotOptions)!==null&&g!==void 0&&(y=g.bar)!==null&&y!==void 0&&y.isFunnel&&(B=u.funnel()),l.chart.stacked&&l.chart.type==="bar"&&(B=u.stackedBars()),(x=l.chart.brush)!==null&&x!==void 0&&x.enabled&&(B=u.brush(B)),l.chart.stacked&&l.chart.stackType==="100%"&&(l=u.stacked100(l)),(w=l.plotOptions)!==null&&w!==void 0&&(C=w.bar)!==null&&C!==void 0&&C.isDumbbell&&(l=u.dumbbell(l)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(l),l.xaxis=l.xaxis||window.Apex.xaxis||{},n||(l.xaxis.convertedCatToNumeric=!1),((T=(l=this.checkForCatToNumericXAxis(this.chartType,B,l)).chart.sparkline)!==null&&T!==void 0&&T.enabled||(P=window.Apex.chart)!==null&&P!==void 0&&(M=P.sparkline)!==null&&M!==void 0&&M.enabled)&&(B=u.sparkline(B)),p=V.extend(d,B)}var z=V.extend(p,window.Apex);return d=V.extend(z,l),d=this.handleUserInputErrors(d)}},{key:"checkForCatToNumericXAxis",value:function(r,n,l){var h,u,d=new wt(l),p=(r==="bar"||r==="boxPlot")&&((h=l.plotOptions)===null||h===void 0||(u=h.bar)===null||u===void 0?void 0:u.horizontal),g=r==="pie"||r==="polarArea"||r==="donut"||r==="radar"||r==="radialBar"||r==="heatmap",y=l.xaxis.type!=="datetime"&&l.xaxis.type!=="numeric",x=l.xaxis.tickPlacement?l.xaxis.tickPlacement:n.xaxis&&n.xaxis.tickPlacement;return p||g||!y||x==="between"||(l=d.convertCatToNumeric(l)),l}},{key:"extendYAxis",value:function(r,n){var l=new Pe;(r.yaxis===void 0||!r.yaxis||Array.isArray(r.yaxis)&&r.yaxis.length===0)&&(r.yaxis={}),r.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(r.yaxis=V.extend(r.yaxis,window.Apex.yaxis)),r.yaxis.constructor!==Array?r.yaxis=[V.extend(l.yAxis,r.yaxis)]:r.yaxis=V.extendArray(r.yaxis,l.yAxis);var h=!1;r.yaxis.forEach(function(d){d.logarithmic&&(h=!0)});var u=r.series;return n&&!u&&(u=n.config.series),h&&u.length!==r.yaxis.length&&u.length&&(r.yaxis=u.map(function(d,p){if(d.name||(u[p].name="series-".concat(p+1)),r.yaxis[p])return r.yaxis[p].seriesName=u[p].name,r.yaxis[p];var g=V.extend(l.yAxis,r.yaxis[0]);return g.show=!1,g})),h&&u.length>1&&u.length!==r.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),r}},{key:"extendAnnotations",value:function(r){return r.annotations===void 0&&(r.annotations={},r.annotations.yaxis=[],r.annotations.xaxis=[],r.annotations.points=[]),r=this.extendYAxisAnnotations(r),r=this.extendXAxisAnnotations(r),r=this.extendPointAnnotations(r)}},{key:"extendYAxisAnnotations",value:function(r){var n=new Pe;return r.annotations.yaxis=V.extendArray(r.annotations.yaxis!==void 0?r.annotations.yaxis:[],n.yAxisAnnotation),r}},{key:"extendXAxisAnnotations",value:function(r){var n=new Pe;return r.annotations.xaxis=V.extendArray(r.annotations.xaxis!==void 0?r.annotations.xaxis:[],n.xAxisAnnotation),r}},{key:"extendPointAnnotations",value:function(r){var n=new Pe;return r.annotations.points=V.extendArray(r.annotations.points!==void 0?r.annotations.points:[],n.pointAnnotation),r}},{key:"checkForDarkTheme",value:function(r){r.theme&&r.theme.mode==="dark"&&(r.tooltip||(r.tooltip={}),r.tooltip.theme!=="light"&&(r.tooltip.theme="dark"),r.chart.foreColor||(r.chart.foreColor="#f6f7f8"),r.chart.background||(r.chart.background="#424242"),r.theme.palette||(r.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(r){var n=r;if(n.tooltip.shared&&n.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(n.chart.type==="bar"&&n.plotOptions.bar.horizontal){if(n.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");n.yaxis[0].reversed&&(n.yaxis[0].opposite=!0),n.xaxis.tooltip.enabled=!1,n.yaxis[0].tooltip.enabled=!1,n.chart.zoom.enabled=!1}return n.chart.type!=="bar"&&n.chart.type!=="rangeBar"||n.tooltip.shared&&n.xaxis.crosshairs.width==="barWidth"&&n.series.length>1&&(n.xaxis.crosshairs.width="tickWidth"),n.chart.type!=="candlestick"&&n.chart.type!=="boxPlot"||n.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(n.chart.type," chart is not supported.")),n.yaxis[0].reversed=!1),n}}]),D}(),pt=function(){function D(){o(this,D)}return f(D,[{key:"initGlobalVars",value:function(r){r.series=[],r.seriesCandleO=[],r.seriesCandleH=[],r.seriesCandleM=[],r.seriesCandleL=[],r.seriesCandleC=[],r.seriesRangeStart=[],r.seriesRangeEnd=[],r.seriesRange=[],r.seriesPercent=[],r.seriesGoals=[],r.seriesX=[],r.seriesZ=[],r.seriesNames=[],r.seriesTotals=[],r.seriesLog=[],r.seriesColors=[],r.stackedSeriesTotals=[],r.seriesXvalues=[],r.seriesYvalues=[],r.labels=[],r.hasXaxisGroups=!1,r.groups=[],r.hasSeriesGroups=!1,r.seriesGroups=[],r.categoryLabels=[],r.timescaleLabels=[],r.noLabelsProvided=!1,r.resizeTimer=null,r.selectionResizeTimer=null,r.delayedElements=[],r.pointsArray=[],r.dataLabelsRects=[],r.isXNumeric=!1,r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1,r.isDataXYZ=!1,r.isMultiLineX=!1,r.isMultipleYAxis=!1,r.maxY=-Number.MAX_VALUE,r.minY=Number.MIN_VALUE,r.minYArr=[],r.maxYArr=[],r.maxX=-Number.MAX_VALUE,r.minX=Number.MAX_VALUE,r.initialMaxX=-Number.MAX_VALUE,r.initialMinX=Number.MAX_VALUE,r.maxDate=0,r.minDate=Number.MAX_VALUE,r.minZ=Number.MAX_VALUE,r.maxZ=-Number.MAX_VALUE,r.minXDiff=Number.MAX_VALUE,r.yAxisScale=[],r.xAxisScale=null,r.xAxisTicksPositions=[],r.yLabelsCoords=[],r.yTitleCoords=[],r.barPadForNumericAxis=0,r.padHorizontal=0,r.xRange=0,r.yRange=[],r.zRange=0,r.dataPoints=0,r.xTickAmount=0}},{key:"globalVars",value:function(r){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:r.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:r.chart.toolbar.autoSelected==="zoom"&&r.chart.toolbar.tools.zoom&&r.chart.zoom.enabled,panEnabled:r.chart.toolbar.autoSelected==="pan"&&r.chart.toolbar.tools.pan,selectionEnabled:r.chart.toolbar.autoSelected==="selection"&&r.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(r){var n=this.globalVars(r);return this.initGlobalVars(n),n.initialConfig=V.extend({},r),n.initialSeries=V.clone(r.series),n.lastXAxis=V.clone(n.initialConfig.xaxis),n.lastYAxis=V.clone(n.initialConfig.yaxis),n}}]),D}(),Ge=function(){function D(r){o(this,D),this.opts=r}return f(D,[{key:"init",value:function(){var r=new at(this.opts).init({responsiveOverride:!1});return{config:r,globals:new pt().init(r)}}}]),D}(),ve=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.opts=null,this.seriesIndex=0}return f(D,[{key:"clippedImgArea",value:function(r){var n=this.w,l=n.config,h=parseInt(n.globals.gridWidth,10),u=parseInt(n.globals.gridHeight,10),d=h>u?h:u,p=r.image,g=0,y=0;r.width===void 0&&r.height===void 0?l.fill.image.width!==void 0&&l.fill.image.height!==void 0?(g=l.fill.image.width+1,y=l.fill.image.height):(g=d+1,y=d):(g=r.width,y=r.height);var x=document.createElementNS(n.globals.SVGNS,"pattern");H.setAttrs(x,{id:r.patternID,patternUnits:r.patternUnits?r.patternUnits:"userSpaceOnUse",width:g+"px",height:y+"px"});var w=document.createElementNS(n.globals.SVGNS,"image");x.appendChild(w),w.setAttributeNS(window.SVG.xlink,"href",p),H.setAttrs(w,{x:0,y:0,preserveAspectRatio:"none",width:g+"px",height:y+"px"}),w.style.opacity=r.opacity,n.globals.dom.elDefs.node.appendChild(x)}},{key:"getSeriesIndex",value:function(r){var n=this.w,l=n.config.chart.type;return(l==="bar"||l==="rangeBar")&&n.config.plotOptions.bar.distributed||l==="heatmap"||l==="treemap"?this.seriesIndex=r.seriesNumber:this.seriesIndex=r.seriesNumber%n.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(r){var n=this.w;this.opts=r;var l,h,u,d=this.w.config;this.seriesIndex=this.getSeriesIndex(r);var p=this.getFillColors()[this.seriesIndex];n.globals.seriesColors[this.seriesIndex]!==void 0&&(p=n.globals.seriesColors[this.seriesIndex]),typeof p=="function"&&(p=p({seriesIndex:this.seriesIndex,dataPointIndex:r.dataPointIndex,value:r.value,w:n}));var g=r.fillType?r.fillType:this.getFillType(this.seriesIndex),y=Array.isArray(d.fill.opacity)?d.fill.opacity[this.seriesIndex]:d.fill.opacity;r.color&&(p=r.color);var x=p;if(p.indexOf("rgb")===-1?p.length<9&&(x=V.hexToRgba(p,y)):p.indexOf("rgba")>-1&&(y=V.getOpacityFromRGBA(p)),r.opacity&&(y=r.opacity),g==="pattern"&&(h=this.handlePatternFill({fillConfig:r.fillConfig,patternFill:h,fillColor:p,fillOpacity:y,defaultColor:x})),g==="gradient"&&(u=this.handleGradientFill({fillConfig:r.fillConfig,fillColor:p,fillOpacity:y,i:this.seriesIndex})),g==="image"){var w=d.fill.image.src,C=r.patternID?r.patternID:"";this.clippedImgArea({opacity:y,image:Array.isArray(w)?r.seriesNumber<w.length?w[r.seriesNumber]:w[0]:w,width:r.width?r.width:void 0,height:r.height?r.height:void 0,patternUnits:r.patternUnits,patternID:"pattern".concat(n.globals.cuid).concat(r.seriesNumber+1).concat(C)}),l="url(#pattern".concat(n.globals.cuid).concat(r.seriesNumber+1).concat(C,")")}else l=g==="gradient"?u:g==="pattern"?h:x;return r.solid&&(l=x),l}},{key:"getFillType",value:function(r){var n=this.w;return Array.isArray(n.config.fill.type)?n.config.fill.type[r]:n.config.fill.type}},{key:"getFillColors",value:function(){var r=this.w,n=r.config,l=this.opts,h=[];return r.globals.comboCharts?r.config.series[this.seriesIndex].type==="line"?Array.isArray(r.globals.stroke.colors)?h=r.globals.stroke.colors:h.push(r.globals.stroke.colors):Array.isArray(r.globals.fill.colors)?h=r.globals.fill.colors:h.push(r.globals.fill.colors):n.chart.type==="line"?Array.isArray(r.globals.stroke.colors)?h=r.globals.stroke.colors:h.push(r.globals.stroke.colors):Array.isArray(r.globals.fill.colors)?h=r.globals.fill.colors:h.push(r.globals.fill.colors),l.fillColors!==void 0&&(h=[],Array.isArray(l.fillColors)?h=l.fillColors.slice():h.push(l.fillColors)),h}},{key:"handlePatternFill",value:function(r){var n=r.fillConfig,l=r.patternFill,h=r.fillColor,u=r.fillOpacity,d=r.defaultColor,p=this.w.config.fill;n&&(p=n);var g=this.opts,y=new H(this.ctx),x=Array.isArray(p.pattern.strokeWidth)?p.pattern.strokeWidth[this.seriesIndex]:p.pattern.strokeWidth,w=h;return Array.isArray(p.pattern.style)?l=p.pattern.style[g.seriesNumber]!==void 0?y.drawPattern(p.pattern.style[g.seriesNumber],p.pattern.width,p.pattern.height,w,x,u):d:l=y.drawPattern(p.pattern.style,p.pattern.width,p.pattern.height,w,x,u),l}},{key:"handleGradientFill",value:function(r){var n=r.fillColor,l=r.fillOpacity,h=r.fillConfig,u=r.i,d=this.w.config.fill;h&&(d=i(i({},d),h));var p,g=this.opts,y=new H(this.ctx),x=new V,w=d.gradient.type,C=n,T=d.gradient.opacityFrom===void 0?l:Array.isArray(d.gradient.opacityFrom)?d.gradient.opacityFrom[u]:d.gradient.opacityFrom;C.indexOf("rgba")>-1&&(T=V.getOpacityFromRGBA(C));var P=d.gradient.opacityTo===void 0?l:Array.isArray(d.gradient.opacityTo)?d.gradient.opacityTo[u]:d.gradient.opacityTo;if(d.gradient.gradientToColors===void 0||d.gradient.gradientToColors.length===0)p=d.gradient.shade==="dark"?x.shadeColor(-1*parseFloat(d.gradient.shadeIntensity),n.indexOf("rgb")>-1?V.rgb2hex(n):n):x.shadeColor(parseFloat(d.gradient.shadeIntensity),n.indexOf("rgb")>-1?V.rgb2hex(n):n);else if(d.gradient.gradientToColors[g.seriesNumber]){var M=d.gradient.gradientToColors[g.seriesNumber];p=M,M.indexOf("rgba")>-1&&(P=V.getOpacityFromRGBA(M))}else p=n;if(d.gradient.gradientFrom&&(C=d.gradient.gradientFrom),d.gradient.gradientTo&&(p=d.gradient.gradientTo),d.gradient.inverseColors){var B=C;C=p,p=B}return C.indexOf("rgb")>-1&&(C=V.rgb2hex(C)),p.indexOf("rgb")>-1&&(p=V.rgb2hex(p)),y.drawGradient(w,C,p,T,P,g.size,d.gradient.stops,d.gradient.colorStops,u)}}]),D}(),rt=function(){function D(r,n){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"setGlobalMarkerSize",value:function(){var r=this.w;if(r.globals.markers.size=Array.isArray(r.config.markers.size)?r.config.markers.size:[r.config.markers.size],r.globals.markers.size.length>0){if(r.globals.markers.size.length<r.globals.series.length+1)for(var n=0;n<=r.globals.series.length;n++)r.globals.markers.size[n]===void 0&&r.globals.markers.size.push(r.globals.markers.size[0])}else r.globals.markers.size=r.config.series.map(function(l){return r.config.markers.size})}},{key:"plotChartMarkers",value:function(r,n,l,h){var u,d=arguments.length>4&&arguments[4]!==void 0&&arguments[4],p=this.w,g=n,y=r,x=null,w=new H(this.ctx),C=p.config.markers.discrete&&p.config.markers.discrete.length;if((p.globals.markers.size[n]>0||d||C)&&(x=w.group({class:d||C?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(p.globals.cuid,")")),Array.isArray(y.x))for(var T=0;T<y.x.length;T++){var P=l;l===1&&T===0&&(P=0),l===1&&T===1&&(P=1);var M="apexcharts-marker";if(p.config.chart.type!=="line"&&p.config.chart.type!=="area"||p.globals.comboCharts||p.config.tooltip.intersect||(M+=" no-pointer-events"),(Array.isArray(p.config.markers.size)?p.globals.markers.size[n]>0:p.config.markers.size>0)||d||C){V.isNumber(y.y[T])?M+=" w".concat(V.randomId()):M="apexcharts-nullpoint";var B=this.getMarkerConfig({cssClass:M,seriesIndex:n,dataPointIndex:P});p.config.series[g].data[P]&&(p.config.series[g].data[P].fillColor&&(B.pointFillColor=p.config.series[g].data[P].fillColor),p.config.series[g].data[P].strokeColor&&(B.pointStrokeColor=p.config.series[g].data[P].strokeColor)),h&&(B.pSize=h),(y.x[T]<0||y.x[T]>p.globals.gridWidth||y.y[T]<0||y.y[T]>p.globals.gridHeight)&&(B.pSize=0),(u=w.drawMarker(y.x[T],y.y[T],B)).attr("rel",P),u.attr("j",P),u.attr("index",n),u.node.setAttribute("default-marker-size",B.pSize),new Q(this.ctx).setSelectionFilter(u,n,P),this.addEvents(u),x&&x.add(u)}else p.globals.pointsArray[n]===void 0&&(p.globals.pointsArray[n]=[]),p.globals.pointsArray[n].push([y.x[T],y.y[T]])}return x}},{key:"getMarkerConfig",value:function(r){var n=r.cssClass,l=r.seriesIndex,h=r.dataPointIndex,u=h===void 0?null:h,d=r.finishRadius,p=d===void 0?null:d,g=this.w,y=this.getMarkerStyle(l),x=g.globals.markers.size[l],w=g.config.markers;return u!==null&&w.discrete.length&&w.discrete.map(function(C){C.seriesIndex===l&&C.dataPointIndex===u&&(y.pointStrokeColor=C.strokeColor,y.pointFillColor=C.fillColor,x=C.size,y.pointShape=C.shape)}),{pSize:p===null?x:p,pRadius:w.radius,width:Array.isArray(w.width)?w.width[l]:w.width,height:Array.isArray(w.height)?w.height[l]:w.height,pointStrokeWidth:Array.isArray(w.strokeWidth)?w.strokeWidth[l]:w.strokeWidth,pointStrokeColor:y.pointStrokeColor,pointFillColor:y.pointFillColor,shape:y.pointShape||(Array.isArray(w.shape)?w.shape[l]:w.shape),class:n,pointStrokeOpacity:Array.isArray(w.strokeOpacity)?w.strokeOpacity[l]:w.strokeOpacity,pointStrokeDashArray:Array.isArray(w.strokeDashArray)?w.strokeDashArray[l]:w.strokeDashArray,pointFillOpacity:Array.isArray(w.fillOpacity)?w.fillOpacity[l]:w.fillOpacity,seriesIndex:l}}},{key:"addEvents",value:function(r){var n=this.w,l=new H(this.ctx);r.node.addEventListener("mouseenter",l.pathMouseEnter.bind(this.ctx,r)),r.node.addEventListener("mouseleave",l.pathMouseLeave.bind(this.ctx,r)),r.node.addEventListener("mousedown",l.pathMouseDown.bind(this.ctx,r)),r.node.addEventListener("click",n.config.markers.onClick),r.node.addEventListener("dblclick",n.config.markers.onDblClick),r.node.addEventListener("touchstart",l.pathMouseDown.bind(this.ctx,r),{passive:!0})}},{key:"getMarkerStyle",value:function(r){var n=this.w,l=n.globals.markers.colors,h=n.config.markers.strokeColor||n.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(h)?h[r]:h,pointFillColor:Array.isArray(l)?l[r]:l}}}]),D}(),ct=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return f(D,[{key:"draw",value:function(r,n,l){var h=this.w,u=new H(this.ctx),d=l.realIndex,p=l.pointsPos,g=l.zRatio,y=l.elParent,x=u.group({class:"apexcharts-series-markers apexcharts-series-".concat(h.config.chart.type)});if(x.attr("clip-path","url(#gridRectMarkerMask".concat(h.globals.cuid,")")),Array.isArray(p.x))for(var w=0;w<p.x.length;w++){var C=n+1,T=!0;n===0&&w===0&&(C=0),n===0&&w===1&&(C=1);var P=0,M=h.globals.markers.size[d];if(g!==1/0){var B=h.config.plotOptions.bubble;M=h.globals.seriesZ[d][C],B.zScaling&&(M/=g),B.minBubbleRadius&&M<B.minBubbleRadius&&(M=B.minBubbleRadius),B.maxBubbleRadius&&M>B.maxBubbleRadius&&(M=B.maxBubbleRadius)}h.config.chart.animations.enabled||(P=M);var z=p.x[w],W=p.y[w];if(P=P||0,W!==null&&h.globals.series[d][C]!==void 0||(T=!1),T){var v=this.drawPoint(z,W,P,M,d,C,n);x.add(v)}y.add(x)}}},{key:"drawPoint",value:function(r,n,l,h,u,d,p){var g=this.w,y=u,x=new $(this.ctx),w=new Q(this.ctx),C=new ve(this.ctx),T=new rt(this.ctx),P=new H(this.ctx),M=T.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:y,dataPointIndex:d,finishRadius:g.config.chart.type==="bubble"||g.globals.comboCharts&&g.config.series[u]&&g.config.series[u].type==="bubble"?h:null});h=M.pSize;var B,z=C.fillPath({seriesNumber:u,dataPointIndex:d,color:M.pointFillColor,patternUnits:"objectBoundingBox",value:g.globals.series[u][p]});if(M.shape==="circle"?B=P.drawCircle(l):M.shape!=="square"&&M.shape!=="rect"||(B=P.drawRect(0,0,M.width-M.pointStrokeWidth/2,M.height-M.pointStrokeWidth/2,M.pRadius)),g.config.series[y].data[d]&&g.config.series[y].data[d].fillColor&&(z=g.config.series[y].data[d].fillColor),B.attr({x:r-M.width/2-M.pointStrokeWidth/2,y:n-M.height/2-M.pointStrokeWidth/2,cx:r,cy:n,fill:z,"fill-opacity":M.pointFillOpacity,stroke:M.pointStrokeColor,r:h,"stroke-width":M.pointStrokeWidth,"stroke-dasharray":M.pointStrokeDashArray,"stroke-opacity":M.pointStrokeOpacity}),g.config.chart.dropShadow.enabled){var W=g.config.chart.dropShadow;w.dropShadow(B,W,u)}if(!this.initialAnim||g.globals.dataChanged||g.globals.resized)g.globals.animationEnded=!0;else{var v=g.config.chart.animations.speed;x.animateMarker(B,0,M.shape==="circle"?h:{width:M.width,height:M.height},v,g.globals.easing,function(){window.setTimeout(function(){x.animationCompleted(B)},100)})}if(g.globals.dataChanged&&M.shape==="circle")if(this.dynamicAnim){var A,E,F,j,X=g.config.chart.animations.dynamicAnimation.speed;(j=g.globals.previousPaths[u]&&g.globals.previousPaths[u][p])!=null&&(A=j.x,E=j.y,F=j.r!==void 0?j.r:h);for(var J=0;J<g.globals.collapsedSeries.length;J++)g.globals.collapsedSeries[J].index===u&&(X=1,h=0);r===0&&n===0&&(h=0),x.animateCircle(B,{cx:A,cy:E,r:F},{cx:r,cy:n,r:h},X,g.globals.easing)}else B.attr({r:h});return B.attr({rel:d,j:d,index:u,"default-marker-size":h}),w.setSelectionFilter(B,u,d),T.addEvents(B),B.node.classList.add("apexcharts-marker"),B}},{key:"centerTextInBubble",value:function(r){var n=this.w;return{y:r+=parseInt(n.config.dataLabels.style.fontSize,10)/4}}}]),D}(),we=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"dataLabelsCorrection",value:function(r,n,l,h,u,d,p){var g=this.w,y=!1,x=new H(this.ctx).getTextRects(l,p),w=x.width,C=x.height;n<0&&(n=0),n>g.globals.gridHeight+C&&(n=g.globals.gridHeight+C/2),g.globals.dataLabelsRects[h]===void 0&&(g.globals.dataLabelsRects[h]=[]),g.globals.dataLabelsRects[h].push({x:r,y:n,width:w,height:C});var T=g.globals.dataLabelsRects[h].length-2,P=g.globals.lastDrawnDataLabelsIndexes[h]!==void 0?g.globals.lastDrawnDataLabelsIndexes[h][g.globals.lastDrawnDataLabelsIndexes[h].length-1]:0;if(g.globals.dataLabelsRects[h][T]!==void 0){var M=g.globals.dataLabelsRects[h][P];(r>M.x+M.width+2||n>M.y+M.height+2||r+w<M.x)&&(y=!0)}return(u===0||d)&&(y=!0),{x:r,y:n,textRects:x,drawnextLabel:y}}},{key:"drawDataLabel",value:function(r){var n=this,l=r.type,h=r.pos,u=r.i,d=r.j,p=r.isRangeStart,g=r.strokeWidth,y=g===void 0?2:g,x=this.w,w=new H(this.ctx),C=x.config.dataLabels,T=0,P=0,M=d,B=null;if(!C.enabled||!Array.isArray(h.x))return B;B=w.group({class:"apexcharts-data-labels"});for(var z=0;z<h.x.length;z++)if(T=h.x[z]+C.offsetX,P=h.y[z]+C.offsetY+y,!isNaN(T)){d===1&&z===0&&(M=0),d===1&&z===1&&(M=1);var W=x.globals.series[u][M];l==="rangeArea"&&(W=p?x.globals.seriesRangeStart[u][M]:x.globals.seriesRangeEnd[u][M]);var v="",A=function(E){return x.config.dataLabels.formatter(E,{ctx:n.ctx,seriesIndex:u,dataPointIndex:M,w:x})};x.config.chart.type==="bubble"?(v=A(W=x.globals.seriesZ[u][M]),P=h.y[z],P=new ct(this.ctx).centerTextInBubble(P,u,M).y):W!==void 0&&(v=A(W)),this.plotDataLabelsText({x:T,y:P,text:v,i:u,j:M,parent:B,offsetCorrection:!0,dataLabelsConfig:x.config.dataLabels})}return B}},{key:"plotDataLabelsText",value:function(r){var n=this.w,l=new H(this.ctx),h=r.x,u=r.y,d=r.i,p=r.j,g=r.text,y=r.textAnchor,x=r.fontSize,w=r.parent,C=r.dataLabelsConfig,T=r.color,P=r.alwaysDrawDataLabel,M=r.offsetCorrection;if(!(Array.isArray(n.config.dataLabels.enabledOnSeries)&&n.config.dataLabels.enabledOnSeries.indexOf(d)<0)){var B={x:h,y:u,drawnextLabel:!0,textRects:null};M&&(B=this.dataLabelsCorrection(h,u,g,d,p,P,parseInt(C.style.fontSize,10))),n.globals.zoomed||(h=B.x,u=B.y),B.textRects&&(h<-10-B.textRects.width||h>n.globals.gridWidth+B.textRects.width+10)&&(g="");var z=n.globals.dataLabels.style.colors[d];((n.config.chart.type==="bar"||n.config.chart.type==="rangeBar")&&n.config.plotOptions.bar.distributed||n.config.dataLabels.distributed)&&(z=n.globals.dataLabels.style.colors[p]),typeof z=="function"&&(z=z({series:n.globals.series,seriesIndex:d,dataPointIndex:p,w:n})),T&&(z=T);var W=C.offsetX,v=C.offsetY;if(n.config.chart.type!=="bar"&&n.config.chart.type!=="rangeBar"||(W=0,v=0),B.drawnextLabel){var A=l.drawText({width:100,height:parseInt(C.style.fontSize,10),x:h+W,y:u+v,foreColor:z,textAnchor:y||C.textAnchor,text:g,fontSize:x||C.style.fontSize,fontFamily:C.style.fontFamily,fontWeight:C.style.fontWeight||"normal"});if(A.attr({class:"apexcharts-datalabel",cx:h,cy:u}),C.dropShadow.enabled){var E=C.dropShadow;new Q(this.ctx).dropShadow(A,E)}w.add(A),n.globals.lastDrawnDataLabelsIndexes[d]===void 0&&(n.globals.lastDrawnDataLabelsIndexes[d]=[]),n.globals.lastDrawnDataLabelsIndexes[d].push(p)}}}},{key:"addBackgroundToDataLabel",value:function(r,n){var l=this.w,h=l.config.dataLabels.background,u=h.padding,d=h.padding/2,p=n.width,g=n.height,y=new H(this.ctx).drawRect(n.x-u,n.y-d/2,p+2*u,g+d,h.borderRadius,l.config.chart.background==="transparent"?"#fff":l.config.chart.background,h.opacity,h.borderWidth,h.borderColor);return h.dropShadow.enabled&&new Q(this.ctx).dropShadow(y,h.dropShadow),y}},{key:"dataLabelsBackground",value:function(){var r=this.w;if(r.config.chart.type!=="bubble")for(var n=r.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),l=0;l<n.length;l++){var h=n[l],u=h.getBBox(),d=null;if(u.width&&u.height&&(d=this.addBackgroundToDataLabel(h,u)),d){h.parentNode.insertBefore(d.node,h);var p=h.getAttribute("fill");r.config.chart.animations.enabled&&!r.globals.resized&&!r.globals.dataChanged?d.animate().attr({fill:p}):d.attr({fill:p}),h.setAttribute("fill",r.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var r=this.w,n=r.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),l=r.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),h=0;h<n.length;h++)l&&l.insertBefore(n[h],l.nextSibling)}}]),D}(),$e=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.legendInactiveClass="legend-mouseover-inactive"}return f(D,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(r){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(V.escapeString(r),"']"))}},{key:"isSeriesHidden",value:function(r){var n=this.getSeriesByName(r),l=parseInt(n.getAttribute("data:realIndex"),10);return{isHidden:n.classList.contains("apexcharts-series-collapsed"),realIndex:l}}},{key:"addCollapsedClassToSeries",value:function(r,n){var l=this.w;function h(u){for(var d=0;d<u.length;d++)u[d].index===n&&r.node.classList.add("apexcharts-series-collapsed")}h(l.globals.collapsedSeries),h(l.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(r){var n=this.isSeriesHidden(r);return this.ctx.legend.legendHelpers.toggleDataSeries(n.realIndex,n.isHidden),n.isHidden}},{key:"showSeries",value:function(r){var n=this.isSeriesHidden(r);n.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(n.realIndex,!0)}},{key:"hideSeries",value:function(r){var n=this.isSeriesHidden(r);n.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(n.realIndex,!1)}},{key:"resetSeries",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=this.w,u=V.clone(h.globals.initialSeries);h.globals.previousPaths=[],l?(h.globals.collapsedSeries=[],h.globals.ancillaryCollapsedSeries=[],h.globals.collapsedSeriesIndices=[],h.globals.ancillaryCollapsedSeriesIndices=[]):u=this.emptyCollapsedSeries(u),h.config.series=u,r&&(n&&(h.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(u,h.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(r){for(var n=this.w,l=0;l<r.length;l++)n.globals.collapsedSeriesIndices.indexOf(l)>-1&&(r[l].data=[]);return r}},{key:"toggleSeriesOnHover",value:function(r,n){var l=this.w;n||(n=r.target);var h=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if(r.type==="mousemove"){var u=parseInt(n.getAttribute("rel"),10)-1,d=null,p=null;l.globals.axisCharts||l.config.chart.type==="radialBar"?l.globals.axisCharts?(d=l.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(u,"']")),p=l.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(u,"']"))):d=l.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(u+1,"']")):d=l.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(u+1,"'] path"));for(var g=0;g<h.length;g++)h[g].classList.add(this.legendInactiveClass);d!==null&&(l.globals.axisCharts||d.parentNode.classList.remove(this.legendInactiveClass),d.classList.remove(this.legendInactiveClass),p!==null&&p.classList.remove(this.legendInactiveClass))}else if(r.type==="mouseout")for(var y=0;y<h.length;y++)h[y].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(r,n){var l=this,h=this.w,u=h.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),d=function(g){for(var y=0;y<u.length;y++)u[y].classList[g](l.legendInactiveClass)};if(r.type==="mousemove"){var p=parseInt(n.getAttribute("rel"),10)-1;d("add"),function(g){for(var y=0;y<u.length;y++){var x=parseInt(u[y].getAttribute("val"),10);x>=g.from&&x<=g.to&&u[y].classList.remove(l.legendInactiveClass)}}(h.config.plotOptions.heatmap.colorScale.ranges[p])}else r.type==="mouseout"&&d("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=this.w,h=0;if(l.config.series.length>1){for(var u=l.config.series.map(function(p,g){return p.data&&p.data.length>0&&l.globals.collapsedSeriesIndices.indexOf(g)===-1&&(!l.globals.comboCharts||n.length===0||n.length&&n.indexOf(l.config.series[g].type)>-1)?g:-1}),d=r==="asc"?0:u.length-1;r==="asc"?d<u.length:d>=0;r==="asc"?d++:d--)if(u[d]!==-1){h=u[d];break}}return h}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(r,n){return r.type==="bar"||r.type==="column"?n:-1}).filter(function(r){return r!==-1}):this.w.config.series.map(function(r,n){return n})}},{key:"getPreviousPaths",value:function(){var r=this.w;function n(d,p,g){for(var y=d[p].childNodes,x={type:g,paths:[],realIndex:d[p].getAttribute("data:realIndex")},w=0;w<y.length;w++)if(y[w].hasAttribute("pathTo")){var C=y[w].getAttribute("pathTo");x.paths.push({d:C})}r.globals.previousPaths.push(x)}r.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(d){for(var p,g=(p=d,r.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p,"-series .apexcharts-series"))),y=0;y<g.length;y++)n(g,y,d)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var l=r.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r.config.chart.type," .apexcharts-series"));if(l.length>0)for(var h=function(d){for(var p=r.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(d,"'] rect")),g=[],y=function(w){var C=function(P){return p[w].getAttribute(P)},T={x:parseFloat(C("x")),y:parseFloat(C("y")),width:parseFloat(C("width")),height:parseFloat(C("height"))};g.push({rect:T,color:p[w].getAttribute("color")})},x=0;x<p.length;x++)y(x);r.globals.previousPaths.push(g)},u=0;u<l.length;u++)h(u);r.globals.axisCharts||(r.globals.previousPaths=r.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(r){var n=this.w,l=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r,"-series .apexcharts-series"));if(l.length>0)for(var h=0;h<l.length;h++){for(var u=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r,"-series .apexcharts-series[data\\:realIndex='").concat(h,"'] circle")),d=[],p=0;p<u.length;p++)d.push({x:u[p].getAttribute("cx"),y:u[p].getAttribute("cy"),r:u[p].getAttribute("r")});n.globals.previousPaths.push(d)}}},{key:"clearPreviousPaths",value:function(){var r=this.w;r.globals.previousPaths=[],r.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var r=this.w,n=r.config.noData,l=new H(this.ctx),h=r.globals.svgWidth/2,u=r.globals.svgHeight/2,d="middle";if(r.globals.noData=!0,r.globals.animationEnded=!0,n.align==="left"?(h=10,d="start"):n.align==="right"&&(h=r.globals.svgWidth-10,d="end"),n.verticalAlign==="top"?u=50:n.verticalAlign==="bottom"&&(u=r.globals.svgHeight-50),h+=n.offsetX,u=u+parseInt(n.style.fontSize,10)+2+n.offsetY,n.text!==void 0&&n.text!==""){var p=l.drawText({x:h,y:u,text:n.text,textAnchor:d,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,foreColor:n.style.color,opacity:1,class:"apexcharts-text-nodata"});r.globals.dom.Paper.add(p)}}},{key:"setNullSeriesToZeroValues",value:function(r){for(var n=this.w,l=0;l<r.length;l++)if(r[l].length===0)for(var h=0;h<r[n.globals.maxValsInArrayIndex].length;h++)r[l].push(0);return r}},{key:"hasAllSeriesEqualX",value:function(){for(var r=!0,n=this.w,l=this.filteredSeriesX(),h=0;h<l.length-1;h++)if(l[h][0]!==l[h+1][0]){r=!1;break}return n.globals.allSeriesHasEqualX=r,r}},{key:"filteredSeriesX",value:function(){var r=this.w.globals.seriesX.map(function(n){return n.length>0?n:[]});return r}}]),D}(),Tt=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new re(this.ctx)}return f(D,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var r=this.w.config.series.slice(),n=new $e(this.ctx);if(this.activeSeriesIndex=n.getActiveConfigSeriesIndex(),r[this.activeSeriesIndex].data!==void 0&&r[this.activeSeriesIndex].data.length>0&&r[this.activeSeriesIndex].data[0]!==null&&r[this.activeSeriesIndex].data[0].x!==void 0&&r[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var r=this.w.config.series.slice(),n=new $e(this.ctx);if(this.activeSeriesIndex=n.getActiveConfigSeriesIndex(),r[this.activeSeriesIndex].data!==void 0&&r[this.activeSeriesIndex].data.length>0&&r[this.activeSeriesIndex].data[0]!==void 0&&r[this.activeSeriesIndex].data[0]!==null&&r[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(r,n){for(var l=this.w.config,h=this.w.globals,u=l.chart.type==="boxPlot"||l.series[n].type==="boxPlot",d=0;d<r[n].data.length;d++)if(r[n].data[d][1]!==void 0&&(Array.isArray(r[n].data[d][1])&&r[n].data[d][1].length===4&&!u?this.twoDSeries.push(V.parseNumber(r[n].data[d][1][3])):r[n].data[d].length>=5?this.twoDSeries.push(V.parseNumber(r[n].data[d][4])):this.twoDSeries.push(V.parseNumber(r[n].data[d][1])),h.dataFormatXNumeric=!0),l.xaxis.type==="datetime"){var p=new Date(r[n].data[d][0]);p=new Date(p).getTime(),this.twoDSeriesX.push(p)}else this.twoDSeriesX.push(r[n].data[d][0]);for(var g=0;g<r[n].data.length;g++)r[n].data[g][2]!==void 0&&(this.threeDSeries.push(r[n].data[g][2]),h.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(r,n){var l=this.w.config,h=this.w.globals,u=new le(this.ctx),d=n;h.collapsedSeriesIndices.indexOf(n)>-1&&(d=this.activeSeriesIndex);for(var p=0;p<r[n].data.length;p++)r[n].data[p].y!==void 0&&(Array.isArray(r[n].data[p].y)?this.twoDSeries.push(V.parseNumber(r[n].data[p].y[r[n].data[p].y.length-1])):this.twoDSeries.push(V.parseNumber(r[n].data[p].y))),r[n].data[p].goals!==void 0&&Array.isArray(r[n].data[p].goals)?(this.seriesGoals[n]===void 0&&(this.seriesGoals[n]=[]),this.seriesGoals[n].push(r[n].data[p].goals)):(this.seriesGoals[n]===void 0&&(this.seriesGoals[n]=[]),this.seriesGoals[n].push(null));for(var g=0;g<r[d].data.length;g++){var y=typeof r[d].data[g].x=="string",x=Array.isArray(r[d].data[g].x),w=!x&&!!u.isValidDate(r[d].data[g].x.toString());if(y||w)if(y||l.xaxis.convertedCatToNumeric){var C=h.isBarHorizontal&&h.isRangeData;l.xaxis.type!=="datetime"||C?(this.fallbackToCategory=!0,this.twoDSeriesX.push(r[d].data[g].x)):this.twoDSeriesX.push(u.parseDate(r[d].data[g].x))}else l.xaxis.type==="datetime"?this.twoDSeriesX.push(u.parseDate(r[d].data[g].x.toString())):(h.dataFormatXNumeric=!0,h.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(r[d].data[g].x)));else x?(this.fallbackToCategory=!0,this.twoDSeriesX.push(r[d].data[g].x)):(h.isXNumeric=!0,h.dataFormatXNumeric=!0,this.twoDSeriesX.push(r[d].data[g].x))}if(r[n].data[0]&&r[n].data[0].z!==void 0){for(var T=0;T<r[n].data.length;T++)this.threeDSeries.push(r[n].data[T].z);h.isDataXYZ=!0}}},{key:"handleRangeData",value:function(r,n){var l=this.w.globals,h={};return this.isFormat2DArray()?h=this.handleRangeDataFormat("array",r,n):this.isFormatXY()&&(h=this.handleRangeDataFormat("xy",r,n)),l.seriesRangeStart.push(h.start),l.seriesRangeEnd.push(h.end),l.seriesRange.push(h.rangeUniques),l.seriesRange.forEach(function(u,d){u&&u.forEach(function(p,g){p.y.forEach(function(y,x){for(var w=0;w<p.y.length;w++)if(x!==w){var C=y.y1,T=y.y2,P=p.y[w].y1;C<=p.y[w].y2&&P<=T&&(p.overlaps.indexOf(y.rangeName)<0&&p.overlaps.push(y.rangeName),p.overlaps.indexOf(p.y[w].rangeName)<0&&p.overlaps.push(p.y[w].rangeName))}})})}),h}},{key:"handleCandleStickBoxData",value:function(r,n){var l=this.w.globals,h={};return this.isFormat2DArray()?h=this.handleCandleStickBoxDataFormat("array",r,n):this.isFormatXY()&&(h=this.handleCandleStickBoxDataFormat("xy",r,n)),l.seriesCandleO[n]=h.o,l.seriesCandleH[n]=h.h,l.seriesCandleM[n]=h.m,l.seriesCandleL[n]=h.l,l.seriesCandleC[n]=h.c,h}},{key:"handleRangeDataFormat",value:function(r,n,l){var h=[],u=[],d=n[l].data.filter(function(x,w,C){return w===C.findIndex(function(T){return T.x===x.x})}).map(function(x,w){return{x:x.x,overlaps:[],y:[]}});if(r==="array")for(var p=0;p<n[l].data.length;p++)Array.isArray(n[l].data[p])?(h.push(n[l].data[p][1][0]),u.push(n[l].data[p][1][1])):(h.push(n[l].data[p]),u.push(n[l].data[p]));else if(r==="xy")for(var g=function(x){var w=Array.isArray(n[l].data[x].y),C=V.randomId(),T=n[l].data[x].x,P={y1:w?n[l].data[x].y[0]:n[l].data[x].y,y2:w?n[l].data[x].y[1]:n[l].data[x].y,rangeName:C};n[l].data[x].rangeName=C;var M=d.findIndex(function(B){return B.x===T});d[M].y.push(P),h.push(P.y1),u.push(P.y2)},y=0;y<n[l].data.length;y++)g(y);return{start:h,end:u,rangeUniques:d}}},{key:"handleCandleStickBoxDataFormat",value:function(r,n,l){var h=this.w,u=h.config.chart.type==="boxPlot"||h.config.series[l].type==="boxPlot",d=[],p=[],g=[],y=[],x=[];if(r==="array")if(u&&n[l].data[0].length===6||!u&&n[l].data[0].length===5)for(var w=0;w<n[l].data.length;w++)d.push(n[l].data[w][1]),p.push(n[l].data[w][2]),u?(g.push(n[l].data[w][3]),y.push(n[l].data[w][4]),x.push(n[l].data[w][5])):(y.push(n[l].data[w][3]),x.push(n[l].data[w][4]));else for(var C=0;C<n[l].data.length;C++)Array.isArray(n[l].data[C][1])&&(d.push(n[l].data[C][1][0]),p.push(n[l].data[C][1][1]),u?(g.push(n[l].data[C][1][2]),y.push(n[l].data[C][1][3]),x.push(n[l].data[C][1][4])):(y.push(n[l].data[C][1][2]),x.push(n[l].data[C][1][3])));else if(r==="xy")for(var T=0;T<n[l].data.length;T++)Array.isArray(n[l].data[T].y)&&(d.push(n[l].data[T].y[0]),p.push(n[l].data[T].y[1]),u?(g.push(n[l].data[T].y[2]),y.push(n[l].data[T].y[3]),x.push(n[l].data[T].y[4])):(y.push(n[l].data[T].y[2]),x.push(n[l].data[T].y[3])));return{o:d,h:p,m:g,l:y,c:x}}},{key:"parseDataAxisCharts",value:function(r){var n,l=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,u=this.w.config,d=this.w.globals,p=new le(h),g=u.labels.length>0?u.labels.slice():u.xaxis.categories.slice();if(d.isRangeBar=u.chart.type==="rangeBar"&&d.isBarHorizontal,d.hasXaxisGroups=u.xaxis.type==="category"&&u.xaxis.group.groups.length>0,d.hasXaxisGroups&&(d.groups=u.xaxis.group.groups),d.hasSeriesGroups=(n=r[0])===null||n===void 0?void 0:n.group,d.hasSeriesGroups){var y=[],x=N(new Set(r.map(function(P){return P.group})));r.forEach(function(P,M){var B=x.indexOf(P.group);y[B]||(y[B]=[]),y[B].push(P.name)}),d.seriesGroups=y}for(var w=function(){for(var P=0;P<g.length;P++)if(typeof g[P]=="string"){if(!p.isValidDate(g[P]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");l.twoDSeriesX.push(p.parseDate(g[P]))}else l.twoDSeriesX.push(g[P])},C=0;C<r.length;C++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],r[C].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(u.chart.type!=="rangeBar"&&u.chart.type!=="rangeArea"&&r[C].type!=="rangeBar"&&r[C].type!=="rangeArea"||(d.isRangeData=!0,d.isComboCharts?r[C].type!=="rangeBar"&&r[C].type!=="rangeArea"||this.handleRangeData(r,C):u.chart.type!=="rangeBar"&&u.chart.type!=="rangeArea"||this.handleRangeData(r,C)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(r,C):this.isFormatXY()&&this.handleFormatXY(r,C),u.chart.type!=="candlestick"&&r[C].type!=="candlestick"&&u.chart.type!=="boxPlot"&&r[C].type!=="boxPlot"||this.handleCandleStickBoxData(r,C),d.series.push(this.twoDSeries),d.labels.push(this.twoDSeriesX),d.seriesX.push(this.twoDSeriesX),d.seriesGoals=this.seriesGoals,C!==this.activeSeriesIndex||this.fallbackToCategory||(d.isXNumeric=!0);else{u.xaxis.type==="datetime"?(d.isXNumeric=!0,w(),d.seriesX.push(this.twoDSeriesX)):u.xaxis.type==="numeric"&&(d.isXNumeric=!0,g.length>0&&(this.twoDSeriesX=g,d.seriesX.push(this.twoDSeriesX))),d.labels.push(this.twoDSeriesX);var T=r[C].data.map(function(P){return V.parseNumber(P)});d.series.push(T)}d.seriesZ.push(this.threeDSeries),r[C].name!==void 0?d.seriesNames.push(r[C].name):d.seriesNames.push("series-"+parseInt(C+1,10)),r[C].color!==void 0?d.seriesColors.push(r[C].color):d.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(r){var n=this.w.globals,l=this.w.config;n.series=r.slice(),n.seriesNames=l.labels.slice();for(var h=0;h<n.series.length;h++)n.seriesNames[h]===void 0&&n.seriesNames.push("series-"+(h+1));return this.w}},{key:"handleExternalLabelsData",value:function(r){var n=this.w.config,l=this.w.globals;n.xaxis.categories.length>0?l.labels=n.xaxis.categories:n.labels.length>0?l.labels=n.labels.slice():this.fallbackToCategory?(l.labels=l.labels[0],l.seriesRange.length&&(l.seriesRange.map(function(h){h.forEach(function(u){l.labels.indexOf(u.x)<0&&u.x&&l.labels.push(u.x)})}),l.labels=Array.from(new Set(l.labels.map(JSON.stringify)),JSON.parse)),n.xaxis.convertedCatToNumeric&&(new wt(n).convertCatToNumericXaxis(n,this.ctx,l.seriesX[0]),this._generateExternalLabels(r))):this._generateExternalLabels(r)}},{key:"_generateExternalLabels",value:function(r){var n=this.w.globals,l=this.w.config,h=[];if(n.axisCharts){if(n.series.length>0)if(this.isFormatXY())for(var u=l.series.map(function(w,C){return w.data.filter(function(T,P,M){return M.findIndex(function(B){return B.x===T.x})===P})}),d=u.reduce(function(w,C,T,P){return P[w].length>C.length?w:T},0),p=0;p<u[d].length;p++)h.push(p+1);else for(var g=0;g<n.series[n.maxValsInArrayIndex].length;g++)h.push(g+1);n.seriesX=[];for(var y=0;y<r.length;y++)n.seriesX.push(h);n.isXNumeric=!0}if(h.length===0){h=n.axisCharts?[]:n.series.map(function(w,C){return C+1});for(var x=0;x<r.length;x++)n.seriesX.push(h)}n.labels=h,l.xaxis.convertedCatToNumeric&&(n.categoryLabels=h.map(function(w){return l.xaxis.labels.formatter(w)})),n.noLabelsProvided=!0}},{key:"parseData",value:function(r){var n=this.w,l=n.config,h=n.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),h.axisCharts?(this.parseDataAxisCharts(r),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(r),l.chart.stacked){var u=new $e(this.ctx);h.series=u.setNullSeriesToZeroValues(h.series)}this.coreUtils.getSeriesTotals(),h.axisCharts&&(h.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),h.dataFormatXNumeric||h.isXNumeric&&(l.xaxis.type!=="numeric"||l.labels.length!==0||l.xaxis.categories.length!==0)||this.handleExternalLabelsData(r);for(var d=this.coreUtils.getCategoryLabels(h.labels),p=0;p<d.length;p++)if(Array.isArray(d[p])){h.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var r=this,n=this.w;n.globals.ignoreYAxisIndexes=n.globals.collapsedSeries.map(function(l,h){if(r.w.globals.isMultipleYAxis&&!n.config.chart.stacked)return l.index})}}]),D}(),Vt=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"getLabel",value:function(r,n,l,h){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",p=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],g=this.w,y=r[h]===void 0?"":r[h],x=y,w=g.globals.xLabelFormatter,C=g.config.xaxis.labels.formatter,T=!1,P=new Ae(this.ctx),M=y;p&&(x=P.xLabelFormat(w,y,M,{i:h,dateFormatter:new le(this.ctx).formatDate,w:g}),C!==void 0&&(x=C(y,r[h],{i:h,dateFormatter:new le(this.ctx).formatDate,w:g})));var B,z;n.length>0?(B=n[h].unit,z=null,n.forEach(function(E){E.unit==="month"?z="year":E.unit==="day"?z="month":E.unit==="hour"?z="day":E.unit==="minute"&&(z="hour")}),T=z===B,l=n[h].position,x=n[h].value):g.config.xaxis.type==="datetime"&&C===void 0&&(x=""),x===void 0&&(x=""),x=Array.isArray(x)?x:x.toString();var W=new H(this.ctx),v={};v=g.globals.rotateXLabels&&p?W.getTextRects(x,parseInt(d,10),null,"rotate(".concat(g.config.xaxis.labels.rotate," 0 0)"),!1):W.getTextRects(x,parseInt(d,10));var A=!g.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(x)&&(x.indexOf("NaN")===0||x.toLowerCase().indexOf("invalid")===0||x.toLowerCase().indexOf("infinity")>=0||u.indexOf(x)>=0&&A)&&(x=""),{x:l,text:x,textRect:v,isBold:T}}},{key:"checkLabelBasedOnTickamount",value:function(r,n,l){var h=this.w,u=h.config.xaxis.tickAmount;return u==="dataPoints"&&(u=Math.round(h.globals.gridWidth/120)),u>l||r%Math.round(l/(u+1))==0||(n.text=""),n}},{key:"checkForOverflowingLabels",value:function(r,n,l,h,u){var d=this.w;if(r===0&&d.globals.skipFirstTimelinelabel&&(n.text=""),r===l-1&&d.globals.skipLastTimelinelabel&&(n.text=""),d.config.xaxis.labels.hideOverlappingLabels&&h.length>0){var p=u[u.length-1];n.x<p.textRect.width/(d.globals.rotateXLabels?Math.abs(d.config.xaxis.labels.rotate)/12:1.01)+p.x&&(n.text="")}return n}},{key:"checkForReversedLabels",value:function(r,n){var l=this.w;return l.config.yaxis[r]&&l.config.yaxis[r].reversed&&n.reverse(),n}},{key:"isYAxisHidden",value:function(r){var n=this.w,l=new re(this.ctx);return!n.config.yaxis[r].show||!n.config.yaxis[r].showForNullSeries&&l.isSeriesNull(r)&&n.globals.collapsedSeriesIndices.indexOf(r)===-1}},{key:"getYAxisForeColor",value:function(r,n){var l=this.w;return Array.isArray(r)&&l.globals.yAxisScale[n]&&this.ctx.theme.pushExtraColors(r,l.globals.yAxisScale[n].result.length,!1),r}},{key:"drawYAxisTicks",value:function(r,n,l,h,u,d,p){var g=this.w,y=new H(this.ctx),x=g.globals.translateY;if(h.show&&n>0){g.config.yaxis[u].opposite===!0&&(r+=h.width);for(var w=n;w>=0;w--){var C=x+n/10+g.config.yaxis[u].labels.offsetY-1;g.globals.isBarHorizontal&&(C=d*w),g.config.chart.type==="heatmap"&&(C+=d/2);var T=y.drawLine(r+l.offsetX-h.width+h.offsetX,C+h.offsetY,r+l.offsetX+h.offsetX,C+h.offsetY,h.color);p.add(T),x+=d}}}}]),D}(),ii=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"scaleSvgNode",value:function(r,n){var l=parseFloat(r.getAttributeNS(null,"width")),h=parseFloat(r.getAttributeNS(null,"height"));r.setAttributeNS(null,"width",l*n),r.setAttributeNS(null,"height",h*n),r.setAttributeNS(null,"viewBox","0 0 "+l+" "+h)}},{key:"fixSvgStringForIe11",value:function(r){if(!V.isIE11())return r.replace(/&nbsp;/g,"&#160;");var n=0,l=r.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(h){return++n===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':h});return l=(l=l.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(r){r==null&&(r=1);var n=this.w.globals.dom.Paper.svg();if(r!==1){var l=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(l,r),n=new XMLSerializer().serializeToString(l)}return this.fixSvgStringForIe11(n)}},{key:"cleanup",value:function(){var r=this.w,n=r.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),l=r.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),h=r.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(h,function(u){u.setAttribute("width",0)}),n&&n[0]&&(n[0].setAttribute("x",-500),n[0].setAttribute("x1",-500),n[0].setAttribute("x2",-500)),l&&l[0]&&(l[0].setAttribute("y",-100),l[0].setAttribute("y1",-100),l[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var r=this.getSvgString(),n=new Blob([r],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(n)}},{key:"dataURI",value:function(r){var n=this;return new Promise(function(l){var h=n.w,u=r?r.scale||r.width/h.globals.svgWidth:1;n.cleanup();var d=document.createElement("canvas");d.width=h.globals.svgWidth*u,d.height=parseInt(h.globals.dom.elWrap.style.height,10)*u;var p=h.config.chart.background==="transparent"?"#fff":h.config.chart.background,g=d.getContext("2d");g.fillStyle=p,g.fillRect(0,0,d.width*u,d.height*u);var y=n.getSvgString(u);if(window.canvg&&V.isIE11()){var x=window.canvg.Canvg.fromString(g,y,{ignoreClear:!0,ignoreDimensions:!0});x.start();var w=d.msToBlob();x.stop(),l({blob:w})}else{var C="data:image/svg+xml,"+encodeURIComponent(y),T=new Image;T.crossOrigin="anonymous",T.onload=function(){if(g.drawImage(T,0,0),d.msToBlob){var P=d.msToBlob();l({blob:P})}else{var M=d.toDataURL("image/png");l({imgURI:M})}},T.src=C}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var r=this;this.dataURI().then(function(n){var l=n.imgURI,h=n.blob;h?navigator.msSaveOrOpenBlob(h,r.w.globals.chartID+".png"):r.triggerDownload(l,r.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(r){var n=this,l=r.series,h=r.fileName,u=r.columnDelimiter,d=u===void 0?",":u,p=r.lineDelimiter,g=p===void 0?`
`:p,y=this.w;l||(l=y.config.series);var x=[],w=[],C="",T=y.globals.series.map(function(v,A){return y.globals.collapsedSeriesIndices.indexOf(A)===-1?v:[]}),P=Math.max.apply(Math,N(l.map(function(v){return v.data?v.data.length:0}))),M=new Tt(this.ctx),B=new Vt(this.ctx),z=function(v){var A="";if(y.globals.axisCharts){if(y.config.xaxis.type==="category"||y.config.xaxis.convertedCatToNumeric)if(y.globals.isBarHorizontal){var E=y.globals.yLabelFormatters[0],F=new $e(n.ctx).getActiveConfigSeriesIndex();A=E(y.globals.labels[v],{seriesIndex:F,dataPointIndex:v,w:y})}else A=B.getLabel(y.globals.labels,y.globals.timescaleLabels,0,v).text;y.config.xaxis.type==="datetime"&&(y.config.xaxis.categories.length?A=y.config.xaxis.categories[v]:y.config.labels.length&&(A=y.config.labels[v]))}else A=y.config.labels[v];return Array.isArray(A)&&(A=A.join(" ")),V.isNumber(A)?A:A.split(d).join("")},W=function(v,A){if(x.length&&A===0&&w.push(x.join(d)),v.data){v.data=v.data.length&&v.data||N(Array(P)).map(function(){return""});for(var E=0;E<v.data.length;E++){x=[];var F=z(E);if(F||(M.isFormatXY()?F=l[A].data[E].x:M.isFormat2DArray()&&(F=l[A].data[E]?l[A].data[E][0]:"")),A===0){x.push((X=F,y.config.xaxis.type==="datetime"&&String(X).length>=10?y.config.chart.toolbar.export.csv.dateFormatter(F):V.isNumber(F)?F:F.split(d).join("")));for(var j=0;j<y.globals.series.length;j++)M.isFormatXY()?x.push(l[j].data[E].y):x.push(T[j][E])}(y.config.chart.type==="candlestick"||v.type&&v.type==="candlestick")&&(x.pop(),x.push(y.globals.seriesCandleO[A][E]),x.push(y.globals.seriesCandleH[A][E]),x.push(y.globals.seriesCandleL[A][E]),x.push(y.globals.seriesCandleC[A][E])),(y.config.chart.type==="boxPlot"||v.type&&v.type==="boxPlot")&&(x.pop(),x.push(y.globals.seriesCandleO[A][E]),x.push(y.globals.seriesCandleH[A][E]),x.push(y.globals.seriesCandleM[A][E]),x.push(y.globals.seriesCandleL[A][E]),x.push(y.globals.seriesCandleC[A][E])),y.config.chart.type==="rangeBar"&&(x.pop(),x.push(y.globals.seriesRangeStart[A][E]),x.push(y.globals.seriesRangeEnd[A][E])),x.length&&w.push(x.join(d))}}var X};x.push(y.config.chart.toolbar.export.csv.headerCategory),y.config.chart.type==="boxPlot"?(x.push("minimum"),x.push("q1"),x.push("median"),x.push("q3"),x.push("maximum")):y.config.chart.type==="candlestick"?(x.push("open"),x.push("high"),x.push("low"),x.push("close")):y.config.chart.type==="rangeBar"?(x.push("minimum"),x.push("maximum")):l.map(function(v,A){var E=v.name?v.name:"series-".concat(A);y.globals.axisCharts&&x.push(E.split(d).join("")?E.split(d).join(""):"series-".concat(A))}),y.globals.axisCharts||(x.push(y.config.chart.toolbar.export.csv.headerValue),w.push(x.join(d))),l.map(function(v,A){y.globals.axisCharts?W(v,A):((x=[]).push(y.globals.labels[A].split(d).join("")),x.push(T[A]),w.push(x.join(d)))}),C+=w.join(g),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+C),h||y.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(r,n,l){var h=document.createElement("a");h.href=r,h.download=(n||this.w.globals.chartID)+l,document.body.appendChild(h),h.click(),document.body.removeChild(h)}}]),D}(),Bt=function(){function D(r,n){o(this,D),this.ctx=r,this.elgrid=n,this.w=r.w;var l=this.w;this.axesUtils=new Vt(r),this.xaxisLabels=l.globals.labels.slice(),l.globals.timescaleLabels.length>0&&!l.globals.isBarHorizontal&&(this.xaxisLabels=l.globals.timescaleLabels.slice()),l.config.xaxis.overwriteCategories&&(this.xaxisLabels=l.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],l.config.xaxis.position==="top"?this.offY=0:this.offY=l.globals.gridHeight+1,this.offY=this.offY+l.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=l.config.chart.type==="bar"&&l.config.plotOptions.bar.horizontal,this.xaxisFontSize=l.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=l.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=l.config.xaxis.labels.style.colors,this.xaxisBorderWidth=l.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=l.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=l.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=l.config.xaxis.axisBorder.height,this.yaxis=l.config.yaxis[0]}return f(D,[{key:"drawXaxis",value:function(){var r=this.w,n=new H(this.ctx),l=n.group({class:"apexcharts-xaxis",transform:"translate(".concat(r.config.xaxis.offsetX,", ").concat(r.config.xaxis.offsetY,")")}),h=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(r.globals.translateXAxisX,", ").concat(r.globals.translateXAxisY,")")});l.add(h);for(var u=[],d=0;d<this.xaxisLabels.length;d++)u.push(this.xaxisLabels[d]);if(this.drawXAxisLabelAndGroup(!0,n,h,u,r.globals.isXNumeric,function(P,M){return M}),r.globals.hasXaxisGroups){var p=r.globals.groups;u=[];for(var g=0;g<p.length;g++)u.push(p[g].title);var y={};r.config.xaxis.group.style&&(y.xaxisFontSize=r.config.xaxis.group.style.fontSize,y.xaxisFontFamily=r.config.xaxis.group.style.fontFamily,y.xaxisForeColors=r.config.xaxis.group.style.colors,y.fontWeight=r.config.xaxis.group.style.fontWeight,y.cssClass=r.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,n,h,u,!1,function(P,M){return p[P].cols*M},y)}if(r.config.xaxis.title.text!==void 0){var x=n.group({class:"apexcharts-xaxis-title"}),w=n.drawText({x:r.globals.gridWidth/2+r.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(r.config.xaxis.position==="bottom"?r.globals.xAxisLabelsHeight:-r.globals.xAxisLabelsHeight-10)+r.config.xaxis.title.offsetY,text:r.config.xaxis.title.text,textAnchor:"middle",fontSize:r.config.xaxis.title.style.fontSize,fontFamily:r.config.xaxis.title.style.fontFamily,fontWeight:r.config.xaxis.title.style.fontWeight,foreColor:r.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+r.config.xaxis.title.style.cssClass});x.add(w),l.add(x)}if(r.config.xaxis.axisBorder.show){var C=r.globals.barPadForNumericAxis,T=n.drawLine(r.globals.padHorizontal+r.config.xaxis.axisBorder.offsetX-C,this.offY,this.xaxisBorderWidth+C,this.offY,r.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(T):l.add(T)}return l}},{key:"drawXAxisLabelAndGroup",value:function(r,n,l,h,u,d){var p,g=this,y=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},x=[],w=[],C=this.w,T=y.xaxisFontSize||this.xaxisFontSize,P=y.xaxisFontFamily||this.xaxisFontFamily,M=y.xaxisForeColors||this.xaxisForeColors,B=y.fontWeight||C.config.xaxis.labels.style.fontWeight,z=y.cssClass||C.config.xaxis.labels.style.cssClass,W=C.globals.padHorizontal,v=h.length,A=C.config.xaxis.type==="category"?C.globals.dataPoints:v;if(A===0&&v>A&&(A=v),u){var E=A>1?A-1:A;p=C.globals.gridWidth/E,W=W+d(0,p)/2+C.config.xaxis.labels.offsetX}else p=C.globals.gridWidth/A,W=W+d(0,p)+C.config.xaxis.labels.offsetX;for(var F=function(X){var J=W-d(X,p)/2+C.config.xaxis.labels.offsetX;X===0&&v===1&&p/2===W&&A===1&&(J=C.globals.gridWidth/2);var ee=g.axesUtils.getLabel(h,C.globals.timescaleLabels,J,X,x,T,r),se=28;if(C.globals.rotateXLabels&&r&&(se=22),C.config.xaxis.title.text&&C.config.xaxis.position==="top"&&(se+=parseFloat(C.config.xaxis.title.style.fontSize)+2),r||(se=se+parseFloat(T)+(C.globals.xAxisLabelsHeight-C.globals.xAxisGroupLabelsHeight)+(C.globals.rotateXLabels?10:0)),ee=C.config.xaxis.tickAmount!==void 0&&C.config.xaxis.tickAmount!=="dataPoints"&&C.config.xaxis.type!=="datetime"?g.axesUtils.checkLabelBasedOnTickamount(X,ee,v):g.axesUtils.checkForOverflowingLabels(X,ee,v,x,w),C.config.xaxis.labels.show){var he=n.drawText({x:ee.x,y:g.offY+C.config.xaxis.labels.offsetY+se-(C.config.xaxis.position==="top"?C.globals.xAxisHeight+C.config.xaxis.axisTicks.height-2:0),text:ee.text,textAnchor:"middle",fontWeight:ee.isBold?600:B,fontSize:T,fontFamily:P,foreColor:Array.isArray(M)?r&&C.config.xaxis.convertedCatToNumeric?M[C.globals.minX+X-1]:M[X]:M,isPlainText:!1,cssClass:(r?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+z});if(l.add(he),he.on("click",function(ge){if(typeof C.config.chart.events.xAxisLabelClick=="function"){var Te=Object.assign({},C,{labelIndex:X});C.config.chart.events.xAxisLabelClick(ge,g.ctx,Te)}}),r){var ce=document.createElementNS(C.globals.SVGNS,"title");ce.textContent=Array.isArray(ee.text)?ee.text.join(" "):ee.text,he.node.appendChild(ce),ee.text!==""&&(x.push(ee.text),w.push(ee))}}X<v-1&&(W+=d(X+1,p))},j=0;j<=v-1;j++)F(j)}},{key:"drawXaxisInversed",value:function(r){var n,l,h=this,u=this.w,d=new H(this.ctx),p=u.config.yaxis[0].opposite?u.globals.translateYAxisX[r]:0,g=d.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:r}),y=d.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+p+", 0)"});g.add(y);var x=[];if(u.config.yaxis[r].show)for(var w=0;w<this.xaxisLabels.length;w++)x.push(this.xaxisLabels[w]);n=u.globals.gridHeight/x.length,l=-n/2.2;var C=u.globals.yLabelFormatters[0],T=u.config.yaxis[0].labels;if(T.show)for(var P=function(E){var F=x[E]===void 0?"":x[E];F=C(F,{seriesIndex:r,dataPointIndex:E,w:u});var j=h.axesUtils.getYAxisForeColor(T.style.colors,r),X=0;Array.isArray(F)&&(X=F.length/2*parseInt(T.style.fontSize,10));var J=T.offsetX-15,ee="end";h.yaxis.opposite&&(ee="start"),u.config.yaxis[0].labels.align==="left"?(J=T.offsetX,ee="start"):u.config.yaxis[0].labels.align==="center"?(J=T.offsetX,ee="middle"):u.config.yaxis[0].labels.align==="right"&&(ee="end");var se=d.drawText({x:J,y:l+n+T.offsetY-X,text:F,textAnchor:ee,foreColor:Array.isArray(j)?j[E]:j,fontSize:T.style.fontSize,fontFamily:T.style.fontFamily,fontWeight:T.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+T.style.cssClass,maxWidth:T.maxWidth});y.add(se),se.on("click",function(ge){if(typeof u.config.chart.events.xAxisLabelClick=="function"){var Te=Object.assign({},u,{labelIndex:E});u.config.chart.events.xAxisLabelClick(ge,h.ctx,Te)}});var he=document.createElementNS(u.globals.SVGNS,"title");if(he.textContent=Array.isArray(F)?F.join(" "):F,se.node.appendChild(he),u.config.yaxis[r].labels.rotate!==0){var ce=d.rotateAroundCenter(se.node);se.node.setAttribute("transform","rotate(".concat(u.config.yaxis[r].labels.rotate," 0 ").concat(ce.y,")"))}l+=n},M=0;M<=x.length-1;M++)P(M);if(u.config.yaxis[0].title.text!==void 0){var B=d.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+p+", 0)"}),z=d.drawText({x:u.config.yaxis[0].title.offsetX,y:u.globals.gridHeight/2+u.config.yaxis[0].title.offsetY,text:u.config.yaxis[0].title.text,textAnchor:"middle",foreColor:u.config.yaxis[0].title.style.color,fontSize:u.config.yaxis[0].title.style.fontSize,fontWeight:u.config.yaxis[0].title.style.fontWeight,fontFamily:u.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+u.config.yaxis[0].title.style.cssClass});B.add(z),g.add(B)}var W=0;this.isCategoryBarHorizontal&&u.config.yaxis[0].opposite&&(W=u.globals.gridWidth);var v=u.config.xaxis.axisBorder;if(v.show){var A=d.drawLine(u.globals.padHorizontal+v.offsetX+W,1+v.offsetY,u.globals.padHorizontal+v.offsetX+W,u.globals.gridHeight+v.offsetY,v.color,0);this.elgrid&&this.elgrid.elGridBorders&&u.config.grid.show?this.elgrid.elGridBorders.add(A):g.add(A)}return u.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(W,x.length,u.config.yaxis[0].axisBorder,u.config.yaxis[0].axisTicks,0,n,g),g}},{key:"drawXaxisTicks",value:function(r,n,l){var h=this.w,u=r;if(!(r<0||r-2>h.globals.gridWidth)){var d=this.offY+h.config.xaxis.axisTicks.offsetY;if(n=n+d+h.config.xaxis.axisTicks.height,h.config.xaxis.position==="top"&&(n=d-h.config.xaxis.axisTicks.height),h.config.xaxis.axisTicks.show){var p=new H(this.ctx).drawLine(r+h.config.xaxis.axisTicks.offsetX,d+h.config.xaxis.offsetY,u+h.config.xaxis.axisTicks.offsetX,n+h.config.xaxis.offsetY,h.config.xaxis.axisTicks.color);l.add(p),p.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var r=this.w,n=[],l=this.xaxisLabels.length,h=r.globals.padHorizontal;if(r.globals.timescaleLabels.length>0)for(var u=0;u<l;u++)h=this.xaxisLabels[u].position,n.push(h);else for(var d=l,p=0;p<d;p++){var g=d;r.globals.isXNumeric&&r.config.chart.type!=="bar"&&(g-=1),h+=r.globals.gridWidth/g,n.push(h)}return n}},{key:"xAxisLabelCorrections",value:function(){var r=this.w,n=new H(this.ctx),l=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),h=r.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),u=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),d=r.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(r.globals.rotateXLabels||r.config.xaxis.labels.rotateAlways)for(var p=0;p<h.length;p++){var g=n.rotateAroundCenter(h[p]);g.y=g.y-1,g.x=g.x+1,h[p].setAttribute("transform","rotate(".concat(r.config.xaxis.labels.rotate," ").concat(g.x," ").concat(g.y,")")),h[p].setAttribute("text-anchor","end"),l.setAttribute("transform","translate(0, ".concat(-10,")"));var y=h[p].childNodes;r.config.xaxis.labels.trim&&Array.prototype.forEach.call(y,function(T){n.placeTextWithEllipsis(T,T.textContent,r.globals.xAxisLabelsHeight-(r.config.legend.position==="bottom"?20:10))})}else(function(){for(var T=r.globals.gridWidth/(r.globals.labels.length+1),P=0;P<h.length;P++){var M=h[P].childNodes;r.config.xaxis.labels.trim&&r.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(M,function(B){n.placeTextWithEllipsis(B,B.textContent,T)})}})();if(u.length>0){var x=u[u.length-1].getBBox(),w=u[0].getBBox();x.x<-20&&u[u.length-1].parentNode.removeChild(u[u.length-1]),w.x+w.width>r.globals.gridWidth&&!r.globals.isBarHorizontal&&u[0].parentNode.removeChild(u[0]);for(var C=0;C<d.length;C++)n.placeTextWithEllipsis(d[C],d[C].textContent,r.config.yaxis[0].labels.maxWidth-(r.config.yaxis[0].title.text?2*parseFloat(r.config.yaxis[0].title.style.fontSize):0)-15)}}}]),D}(),Dt=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w;var n=this.w;this.xaxisLabels=n.globals.labels.slice(),this.axesUtils=new Vt(r),this.isRangeBar=n.globals.seriesRange.length,n.globals.timescaleLabels.length>0&&(this.xaxisLabels=n.globals.timescaleLabels.slice())}return f(D,[{key:"drawGridArea",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this.w,l=new H(this.ctx);r===null&&(r=l.group({class:"apexcharts-grid"}));var h=l.drawLine(n.globals.padHorizontal,1,n.globals.padHorizontal,n.globals.gridHeight,"transparent"),u=l.drawLine(n.globals.padHorizontal,n.globals.gridHeight,n.globals.gridWidth,n.globals.gridHeight,"transparent");return r.add(u),r.add(h),r}},{key:"drawGrid",value:function(){var r=null;return this.w.globals.axisCharts&&(r=this.renderGrid(),this.drawGridArea(r.el)),r}},{key:"createGridMask",value:function(){var r=this.w,n=r.globals,l=new H(this.ctx),h=Array.isArray(r.config.stroke.width)?0:r.config.stroke.width;if(Array.isArray(r.config.stroke.width)){var u=0;r.config.stroke.width.forEach(function(w){u=Math.max(u,w)}),h=u}n.dom.elGridRectMask=document.createElementNS(n.SVGNS,"clipPath"),n.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(n.cuid)),n.dom.elGridRectMarkerMask=document.createElementNS(n.SVGNS,"clipPath"),n.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(n.cuid)),n.dom.elForecastMask=document.createElementNS(n.SVGNS,"clipPath"),n.dom.elForecastMask.setAttribute("id","forecastMask".concat(n.cuid)),n.dom.elNonForecastMask=document.createElementNS(n.SVGNS,"clipPath"),n.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(n.cuid));var d=r.config.chart.type,p=0,g=0;(d==="bar"||d==="rangeBar"||d==="candlestick"||d==="boxPlot"||r.globals.comboBarCount>0)&&r.globals.isXNumeric&&!r.globals.isBarHorizontal&&(p=r.config.grid.padding.left,g=r.config.grid.padding.right,n.barPadForNumericAxis>p&&(p=n.barPadForNumericAxis,g=n.barPadForNumericAxis)),n.dom.elGridRect=l.drawRect(-h/2-p-2,-h/2,n.gridWidth+h+g+p+4,n.gridHeight+h,0,"#fff");var y=r.globals.markers.largestSize+1;n.dom.elGridRectMarker=l.drawRect(2*-y,2*-y,n.gridWidth+4*y,n.gridHeight+4*y,0,"#fff"),n.dom.elGridRectMask.appendChild(n.dom.elGridRect.node),n.dom.elGridRectMarkerMask.appendChild(n.dom.elGridRectMarker.node);var x=n.dom.baseEl.querySelector("defs");x.appendChild(n.dom.elGridRectMask),x.appendChild(n.dom.elForecastMask),x.appendChild(n.dom.elNonForecastMask),x.appendChild(n.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(r){var n=r.i,l=r.x1,h=r.y1,u=r.x2,d=r.y2,p=r.xCount,g=r.parent,y=this.w;if(!(n===0&&y.globals.skipFirstTimelinelabel||n===p-1&&y.globals.skipLastTimelinelabel&&!y.config.xaxis.labels.formatter||y.config.chart.type==="radar")){y.config.grid.xaxis.lines.show&&this._drawGridLine({i:n,x1:l,y1:h,x2:u,y2:d,xCount:p,parent:g});var x=0;if(y.globals.hasXaxisGroups&&y.config.xaxis.tickPlacement==="between"){var w=y.globals.groups;if(w){for(var C=0,T=0;C<n&&T<w.length;T++)C+=w[T].cols;C===n&&(x=.6*y.globals.xAxisLabelsHeight)}}new Bt(this.ctx).drawXaxisTicks(l,x,y.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(r){var n=r.i,l=r.x1,h=r.y1,u=r.x2,d=r.y2,p=r.xCount,g=r.parent,y=this.w,x=!1,w=g.node.classList.contains("apexcharts-gridlines-horizontal"),C=y.config.grid.strokeDashArray,T=y.globals.barPadForNumericAxis;(h===0&&d===0||l===0&&u===0)&&(x=!0),h===y.globals.gridHeight&&d===y.globals.gridHeight&&(x=!0),!y.globals.isBarHorizontal||n!==0&&n!==p-1||(x=!0);var P=new H(this).drawLine(l-(w?T:0),h,u+(w?T:0),d,y.config.grid.borderColor,C);P.node.classList.add("apexcharts-gridline"),x&&y.config.grid.show?this.elGridBorders.add(P):g.add(P)}},{key:"_drawGridBandRect",value:function(r){var n=r.c,l=r.x1,h=r.y1,u=r.x2,d=r.y2,p=r.type,g=this.w,y=new H(this.ctx),x=g.globals.barPadForNumericAxis;if(p!=="column"||g.config.xaxis.type!=="datetime"){var w=g.config.grid[p].colors[n],C=y.drawRect(l-(p==="row"?x:0),h,u+(p==="row"?2*x:0),d,0,w,g.config.grid[p].opacity);this.elg.add(C),C.attr("clip-path","url(#gridRectMask".concat(g.globals.cuid,")")),C.node.classList.add("apexcharts-grid-".concat(p))}}},{key:"_drawXYLines",value:function(r){var n=this,l=r.xCount,h=r.tickAmount,u=this.w;if(u.config.grid.xaxis.lines.show||u.config.xaxis.axisTicks.show){var d,p=u.globals.padHorizontal,g=u.globals.gridHeight;u.globals.timescaleLabels.length?function(P){for(var M=P.xC,B=P.x1,z=P.y1,W=P.x2,v=P.y2,A=0;A<M;A++)B=n.xaxisLabels[A].position,W=n.xaxisLabels[A].position,n._drawGridLines({i:A,x1:B,y1:z,x2:W,y2:v,xCount:l,parent:n.elgridLinesV})}({xC:l,x1:p,y1:0,x2:d,y2:g}):(u.globals.isXNumeric&&(l=u.globals.xAxisScale.result.length),function(P){for(var M=P.xC,B=P.x1,z=P.y1,W=P.x2,v=P.y2,A=0;A<M+(u.globals.isXNumeric?0:1);A++)A===0&&M===1&&u.globals.dataPoints===1&&(W=B=u.globals.gridWidth/2),n._drawGridLines({i:A,x1:B,y1:z,x2:W,y2:v,xCount:l,parent:n.elgridLinesV}),W=B+=u.globals.gridWidth/(u.globals.isXNumeric?M-1:M)}({xC:l,x1:p,y1:0,x2:d,y2:g}))}if(u.config.grid.yaxis.lines.show){var y=0,x=0,w=u.globals.gridWidth,C=h+1;this.isRangeBar&&(C=u.globals.labels.length);for(var T=0;T<C+(this.isRangeBar?1:0);T++)this._drawGridLine({i:T,xCount:C+(this.isRangeBar?1:0),x1:0,y1:y,x2:w,y2:x,parent:this.elgridLinesH}),x=y+=u.globals.gridHeight/(this.isRangeBar?C:h)}}},{key:"_drawInvertedXYLines",value:function(r){var n=r.xCount,l=this.w;if(l.config.grid.xaxis.lines.show||l.config.xaxis.axisTicks.show)for(var h,u=l.globals.padHorizontal,d=l.globals.gridHeight,p=0;p<n+1;p++)l.config.grid.xaxis.lines.show&&this._drawGridLine({i:p,xCount:n+1,x1:u,y1:0,x2:h,y2:d,parent:this.elgridLinesV}),new Bt(this.ctx).drawXaxisTicks(u,0,l.globals.dom.elGraphical),h=u=u+l.globals.gridWidth/n+.3;if(l.config.grid.yaxis.lines.show)for(var g=0,y=0,x=l.globals.gridWidth,w=0;w<l.globals.dataPoints+1;w++)this._drawGridLine({i:w,xCount:l.globals.dataPoints+1,x1:0,y1:g,x2:x,y2:y,parent:this.elgridLinesH}),y=g+=l.globals.gridHeight/l.globals.dataPoints}},{key:"renderGrid",value:function(){var r=this.w,n=new H(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),r.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var l,h=r.globals.yAxisScale.length?r.globals.yAxisScale[0].result.length-1:5,u=0;u<r.globals.series.length&&(r.globals.yAxisScale[u]!==void 0&&(h=r.globals.yAxisScale[u].result.length-1),!(h>2));u++);return!r.globals.isBarHorizontal||this.isRangeBar?(l=this.xaxisLabels.length,this.isRangeBar&&r.globals.isBarHorizontal&&(l--,h=r.globals.labels.length,r.config.xaxis.tickAmount&&r.config.xaxis.labels.formatter&&(l=r.config.xaxis.tickAmount)),this._drawXYLines({xCount:l,tickAmount:h})):(l=h,h=r.globals.xTickAmount,this._drawInvertedXYLines({xCount:l,tickAmount:h})),this.drawGridBands(l,h),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:r.globals.gridWidth/l}}},{key:"drawGridBands",value:function(r,n){var l=this.w;if(l.config.grid.row.colors!==void 0&&l.config.grid.row.colors.length>0)for(var h=0,u=l.globals.gridHeight/n,d=l.globals.gridWidth,p=0,g=0;p<n;p++,g++)g>=l.config.grid.row.colors.length&&(g=0),this._drawGridBandRect({c:g,x1:0,y1:h,x2:d,y2:u,type:"row"}),h+=l.globals.gridHeight/n;if(l.config.grid.column.colors!==void 0&&l.config.grid.column.colors.length>0)for(var y=l.globals.isBarHorizontal||l.config.xaxis.type!=="category"&&!l.config.xaxis.convertedCatToNumeric?r:r-1,x=l.globals.padHorizontal,w=l.globals.padHorizontal+l.globals.gridWidth/y,C=l.globals.gridHeight,T=0,P=0;T<r;T++,P++)P>=l.config.grid.column.colors.length&&(P=0),this._drawGridBandRect({c:P,x1:x,y1:0,x2:w,y2:C,type:"column"}),x+=l.globals.gridWidth/y}}]),D}(),gt=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"niceScale",value:function(r,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4?arguments[4]:void 0,d=this.w,p=Math.abs(n-r);if((l=this._adjustTicksForSmallRange(l,h,p))==="dataPoints"&&(l=d.globals.dataPoints-1),r===Number.MIN_VALUE&&n===0||!V.isNumber(r)&&!V.isNumber(n)||r===Number.MIN_VALUE&&n===-Number.MAX_VALUE)return r=0,n=l,this.linearScale(r,n,l);r>n?(console.warn("axis.min cannot be greater than axis.max"),n=r+.1):r===n&&(r=r===0?0:r-.5,n=n===0?2:n+.5);var g=[];p<1&&u&&(d.config.chart.type==="candlestick"||d.config.series[h].type==="candlestick"||d.config.chart.type==="boxPlot"||d.config.series[h].type==="boxPlot"||d.globals.isRangeData)&&(n*=1.01);var y=l+1;y<2?y=2:y>2&&(y-=2);var x=p/y,w=Math.floor(V.log10(x)),C=Math.pow(10,w),T=Math.round(x/C);T<1&&(T=1);var P=T*C,M=P*Math.floor(r/P),B=P*Math.ceil(n/P),z=M;if(u&&p>2){for(;g.push(z),!((z+=P)>B););return{result:g,niceMin:g[0],niceMax:g[g.length-1]}}var W=r;(g=[]).push(W);for(var v=Math.abs(n-r)/l,A=0;A<=l;A++)W+=v,g.push(W);return g[g.length-2]>=n&&g.pop(),{result:g,niceMin:g[0],niceMax:g[g.length-1]}}},{key:"linearScale",value:function(r,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,h=arguments.length>3?arguments[3]:void 0,u=Math.abs(n-r);(l=this._adjustTicksForSmallRange(l,h,u))==="dataPoints"&&(l=this.w.globals.dataPoints-1);var d=u/l;l===Number.MAX_VALUE&&(l=10,d=1);for(var p=[],g=r;l>=0;)p.push(g),g+=d,l-=1;return{result:p,niceMin:p[0],niceMax:p[p.length-1]}}},{key:"logarithmicScaleNice",value:function(r,n,l){n<=0&&(n=Math.max(r,l)),r<=0&&(r=Math.min(n,l));for(var h=[],u=Math.ceil(Math.log(n)/Math.log(l)+1),d=Math.floor(Math.log(r)/Math.log(l));d<u;d++)h.push(Math.pow(l,d));return{result:h,niceMin:h[0],niceMax:h[h.length-1]}}},{key:"logarithmicScale",value:function(r,n,l){n<=0&&(n=Math.max(r,l)),r<=0&&(r=Math.min(n,l));for(var h=[],u=Math.log(n)/Math.log(l),d=Math.log(r)/Math.log(l),p=u-d,g=Math.round(p),y=p/g,x=0,w=d;x<g;x++,w+=y)h.push(Math.pow(l,w));return h.push(Math.pow(l,u)),{result:h,niceMin:r,niceMax:n}}},{key:"_adjustTicksForSmallRange",value:function(r,n,l){var h=r;if(n!==void 0&&this.w.config.yaxis[n].labels.formatter&&this.w.config.yaxis[n].tickAmount===void 0){var u=Number(this.w.config.yaxis[n].labels.formatter(1));V.isNumber(u)&&this.w.globals.yValueDecimal===0&&(h=Math.ceil(l))}return h<r?h:r}},{key:"setYScaleForIndex",value:function(r,n,l){var h=this.w.globals,u=this.w.config,d=h.isBarHorizontal?u.xaxis:u.yaxis[r];h.yAxisScale[r]===void 0&&(h.yAxisScale[r]=[]);var p=Math.abs(l-n);if(d.logarithmic&&p<=5&&(h.invalidLogScale=!0),d.logarithmic&&p>5)h.allSeriesCollapsed=!1,h.yAxisScale[r]=this.logarithmicScale(n,l,d.logBase),h.yAxisScale[r]=d.forceNiceScale?this.logarithmicScaleNice(n,l,d.logBase):this.logarithmicScale(n,l,d.logBase);else if(l!==-Number.MAX_VALUE&&V.isNumber(l))if(h.allSeriesCollapsed=!1,d.min===void 0&&d.max===void 0||d.forceNiceScale){var g=u.yaxis[r].max===void 0&&u.yaxis[r].min===void 0||u.yaxis[r].forceNiceScale;h.yAxisScale[r]=this.niceScale(n,l,d.tickAmount?d.tickAmount:p<5&&p>1?p+1:5,r,g)}else h.yAxisScale[r]=this.linearScale(n,l,d.tickAmount,r);else h.yAxisScale[r]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(r,n){var l=this.w,h=l.globals,u=l.config.xaxis,d=Math.abs(n-r);return n!==-Number.MAX_VALUE&&V.isNumber(n)?h.xAxisScale=this.linearScale(r,n,u.tickAmount?u.tickAmount:d<5&&d>1?d+1:5,0):h.xAxisScale=this.linearScale(0,5,5),h.xAxisScale}},{key:"setMultipleYScales",value:function(){var r=this,n=this.w.globals,l=this.w.config,h=n.minYArr.concat([]),u=n.maxYArr.concat([]),d=[];l.yaxis.forEach(function(p,g){var y=g;l.series.forEach(function(C,T){C.name===p.seriesName&&(y=T,g!==T?d.push({index:T,similarIndex:g,alreadyExists:!0}):d.push({index:T}))});var x=h[y],w=u[y];r.setYScaleForIndex(g,x,w)}),this.sameScaleInMultipleAxes(h,u,d)}},{key:"sameScaleInMultipleAxes",value:function(r,n,l){var h=this,u=this.w.config,d=this.w.globals,p=[];l.forEach(function(M){M.alreadyExists&&(p[M.index]===void 0&&(p[M.index]=[]),p[M.index].push(M.index),p[M.index].push(M.similarIndex))}),d.yAxisSameScaleIndices=p,p.forEach(function(M,B){p.forEach(function(z,W){var v,A;B!==W&&(v=M,A=z,v.filter(function(E){return A.indexOf(E)!==-1})).length>0&&(p[B]=p[B].concat(p[W]))})});var g=p.map(function(M){return M.filter(function(B,z){return M.indexOf(B)===z})}).map(function(M){return M.sort()});p=p.filter(function(M){return!!M});var y=g.slice(),x=y.map(function(M){return JSON.stringify(M)});y=y.filter(function(M,B){return x.indexOf(JSON.stringify(M))===B});var w=[],C=[];r.forEach(function(M,B){y.forEach(function(z,W){z.indexOf(B)>-1&&(w[W]===void 0&&(w[W]=[],C[W]=[]),w[W].push({key:B,value:M}),C[W].push({key:B,value:n[B]}))})});var T=Array.apply(null,Array(y.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),P=Array.apply(null,Array(y.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);w.forEach(function(M,B){M.forEach(function(z,W){T[B]=Math.min(z.value,T[B])})}),C.forEach(function(M,B){M.forEach(function(z,W){P[B]=Math.max(z.value,P[B])})}),r.forEach(function(M,B){C.forEach(function(z,W){var v=T[W],A=P[W];u.chart.stacked&&(A=0,z.forEach(function(E,F){E.value!==-Number.MAX_VALUE&&(A+=E.value),v!==Number.MIN_VALUE&&(v+=w[W][F].value)})),z.forEach(function(E,F){z[F].key===B&&(u.yaxis[B].min!==void 0&&(v=typeof u.yaxis[B].min=="function"?u.yaxis[B].min(d.minY):u.yaxis[B].min),u.yaxis[B].max!==void 0&&(A=typeof u.yaxis[B].max=="function"?u.yaxis[B].max(d.maxY):u.yaxis[B].max),h.setYScaleForIndex(B,v,A))})})})}},{key:"autoScaleY",value:function(r,n,l){r||(r=this);var h=r.w;if(h.globals.isMultipleYAxis||h.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),n;var u=h.globals.seriesX[0],d=h.config.chart.stacked;return n.forEach(function(p,g){for(var y=0,x=0;x<u.length;x++)if(u[x]>=l.xaxis.min){y=x;break}var w,C,T=h.globals.minYArr[g],P=h.globals.maxYArr[g],M=h.globals.stackedSeriesTotals;h.globals.series.forEach(function(B,z){var W=B[y];d?(W=M[y],w=C=W,M.forEach(function(v,A){u[A]<=l.xaxis.max&&u[A]>=l.xaxis.min&&(v>C&&v!==null&&(C=v),B[A]<w&&B[A]!==null&&(w=B[A]))})):(w=C=W,B.forEach(function(v,A){if(u[A]<=l.xaxis.max&&u[A]>=l.xaxis.min){var E=v,F=v;h.globals.series.forEach(function(j,X){v!==null&&(E=Math.min(j[A],E),F=Math.max(j[A],F))}),F>C&&F!==null&&(C=F),E<w&&E!==null&&(w=E)}})),w===void 0&&C===void 0&&(w=T,C=P),C*=C<0?.9:1.1,(w*=w<0?1.1:.9)===0&&C===0&&(w=-1,C=1),C<0&&C<P&&(C=P),w<0&&w>T&&(w=T),n.length>1?(n[z].min=p.min===void 0?w:p.min,n[z].max=p.max===void 0?C:p.max):(n[0].min=p.min===void 0?w:p.min,n[0].max=p.max===void 0?C:p.max)})}),n}}]),D}(),Ft=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.scales=new gt(r)}return f(D,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=this.w.config,d=this.w.globals,p=-Number.MAX_VALUE,g=Number.MIN_VALUE;h===null&&(h=r+1);var y=d.series,x=y,w=y;u.chart.type==="candlestick"?(x=d.seriesCandleL,w=d.seriesCandleH):u.chart.type==="boxPlot"?(x=d.seriesCandleO,w=d.seriesCandleC):d.isRangeData&&(x=d.seriesRangeStart,w=d.seriesRangeEnd);for(var C=r;C<h;C++){d.dataPoints=Math.max(d.dataPoints,y[C].length),d.categoryLabels.length&&(d.dataPoints=d.categoryLabels.filter(function(M){return M!==void 0}).length),d.labels.length&&(d.dataPoints=Math.max(d.dataPoints,d.labels.length));for(var T=0;T<d.series[C].length;T++){var P=y[C][T];P!==null&&V.isNumber(P)?(w[C][T]!==void 0&&(p=Math.max(p,w[C][T]),n=Math.min(n,w[C][T])),x[C][T]!==void 0&&(n=Math.min(n,x[C][T]),l=Math.max(l,x[C][T])),this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"&&this.w.config.chart.type==="rangeArea"&&this.w.config.chart.type==="rangeBar"||(this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"||d.seriesCandleC[C][T]!==void 0&&(p=Math.max(p,d.seriesCandleO[C][T]),p=Math.max(p,d.seriesCandleH[C][T]),p=Math.max(p,d.seriesCandleL[C][T]),p=Math.max(p,d.seriesCandleC[C][T]),this.w.config.chart.type==="boxPlot"&&(p=Math.max(p,d.seriesCandleM[C][T]))),!u.series[C].type||u.series[C].type==="candlestick"&&u.series[C].type==="boxPlot"&&u.series[C].type==="rangeArea"&&u.series[C].type==="rangeBar"||(p=Math.max(p,d.series[C][T]),n=Math.min(n,d.series[C][T])),l=p),d.seriesGoals[C]&&d.seriesGoals[C][T]&&Array.isArray(d.seriesGoals[C][T])&&d.seriesGoals[C][T].forEach(function(M){g!==Number.MIN_VALUE&&(g=Math.min(g,M.value),n=g),p=Math.max(p,M.value),l=p}),V.isFloat(P)&&(P=V.noExponents(P),d.yValueDecimal=Math.max(d.yValueDecimal,P.toString().split(".")[1].length)),g>x[C][T]&&x[C][T]<0&&(g=x[C][T])):d.hasNullValues=!0}}return u.chart.type==="rangeBar"&&d.seriesRangeStart.length&&d.isBarHorizontal&&(g=n),u.chart.type==="bar"&&(g<0&&p<0&&(p=0),g===Number.MIN_VALUE&&(g=0)),{minY:g,maxY:p,lowestY:n,highestY:l}}},{key:"setYRange",value:function(){var r=this.w.globals,n=this.w.config;r.maxY=-Number.MAX_VALUE,r.minY=Number.MIN_VALUE;var l=Number.MAX_VALUE;if(r.isMultipleYAxis)for(var h=0;h<r.series.length;h++){var u=this.getMinYMaxY(h,l,null,h+1);r.minYArr.push(u.minY),r.maxYArr.push(u.maxY),l=u.lowestY}var d=this.getMinYMaxY(0,l,null,r.series.length);if(r.minY=d.minY,r.maxY=d.maxY,l=d.lowestY,n.chart.stacked&&this._setStackedMinMax(),(n.chart.type==="line"||n.chart.type==="area"||n.chart.type==="candlestick"||n.chart.type==="boxPlot"||n.chart.type==="rangeBar"&&!r.isBarHorizontal)&&r.minY===Number.MIN_VALUE&&l!==-Number.MAX_VALUE&&l!==r.maxY){var p=r.maxY-l;(l>=0&&l<=10||n.yaxis[0].min!==void 0||n.yaxis[0].max!==void 0)&&(p=0),r.minY=l-5*p/100,l>0&&r.minY<0&&(r.minY=0),r.maxY=r.maxY+5*p/100}return n.yaxis.forEach(function(g,y){g.max!==void 0&&(typeof g.max=="number"?r.maxYArr[y]=g.max:typeof g.max=="function"&&(r.maxYArr[y]=g.max(r.isMultipleYAxis?r.maxYArr[y]:r.maxY)),r.maxY=r.maxYArr[y]),g.min!==void 0&&(typeof g.min=="number"?r.minYArr[y]=g.min:typeof g.min=="function"&&(r.minYArr[y]=g.min(r.isMultipleYAxis?r.minYArr[y]===Number.MIN_VALUE?0:r.minYArr[y]:r.minY)),r.minY=r.minYArr[y])}),r.isBarHorizontal&&["min","max"].forEach(function(g){n.xaxis[g]!==void 0&&typeof n.xaxis[g]=="number"&&(g==="min"?r.minY=n.xaxis[g]:r.maxY=n.xaxis[g])}),r.isMultipleYAxis?(this.scales.setMultipleYScales(),r.minY=l,r.yAxisScale.forEach(function(g,y){r.minYArr[y]=g.niceMin,r.maxYArr[y]=g.niceMax})):(this.scales.setYScaleForIndex(0,r.minY,r.maxY),r.minY=r.yAxisScale[0].niceMin,r.maxY=r.yAxisScale[0].niceMax,r.minYArr[0]=r.yAxisScale[0].niceMin,r.maxYArr[0]=r.yAxisScale[0].niceMax),{minY:r.minY,maxY:r.maxY,minYArr:r.minYArr,maxYArr:r.maxYArr,yAxisScale:r.yAxisScale}}},{key:"setXRange",value:function(){var r=this.w.globals,n=this.w.config,l=n.xaxis.type==="numeric"||n.xaxis.type==="datetime"||n.xaxis.type==="category"&&!r.noLabelsProvided||r.noLabelsProvided||r.isXNumeric;if(r.isXNumeric&&function(){for(var p=0;p<r.series.length;p++)if(r.labels[p])for(var g=0;g<r.labels[p].length;g++)r.labels[p][g]!==null&&V.isNumber(r.labels[p][g])&&(r.maxX=Math.max(r.maxX,r.labels[p][g]),r.initialMaxX=Math.max(r.maxX,r.labels[p][g]),r.minX=Math.min(r.minX,r.labels[p][g]),r.initialMinX=Math.min(r.minX,r.labels[p][g]))}(),r.noLabelsProvided&&n.xaxis.categories.length===0&&(r.maxX=r.labels[r.labels.length-1],r.initialMaxX=r.labels[r.labels.length-1],r.minX=1,r.initialMinX=1),r.isXNumeric||r.noLabelsProvided||r.dataFormatXNumeric){var h;if(n.xaxis.tickAmount===void 0?(h=Math.round(r.svgWidth/150),n.xaxis.type==="numeric"&&r.dataPoints<30&&(h=r.dataPoints-1),h>r.dataPoints&&r.dataPoints!==0&&(h=r.dataPoints-1)):n.xaxis.tickAmount==="dataPoints"?(r.series.length>1&&(h=r.series[r.maxValsInArrayIndex].length-1),r.isXNumeric&&(h=r.maxX-r.minX-1)):h=n.xaxis.tickAmount,r.xTickAmount=h,n.xaxis.max!==void 0&&typeof n.xaxis.max=="number"&&(r.maxX=n.xaxis.max),n.xaxis.min!==void 0&&typeof n.xaxis.min=="number"&&(r.minX=n.xaxis.min),n.xaxis.range!==void 0&&(r.minX=r.maxX-n.xaxis.range),r.minX!==Number.MAX_VALUE&&r.maxX!==-Number.MAX_VALUE)if(n.xaxis.convertedCatToNumeric&&!r.dataFormatXNumeric){for(var u=[],d=r.minX-1;d<r.maxX;d++)u.push(d+1);r.xAxisScale={result:u,niceMin:u[0],niceMax:u[u.length-1]}}else r.xAxisScale=this.scales.setXScale(r.minX,r.maxX);else r.xAxisScale=this.scales.linearScale(1,h,h),r.noLabelsProvided&&r.labels.length>0&&(r.xAxisScale=this.scales.linearScale(1,r.labels.length,h-1),r.seriesX=r.labels.slice());l&&(r.labels=r.xAxisScale.result.slice())}return r.isBarHorizontal&&r.labels.length&&(r.xTickAmount=r.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:r.minX,maxX:r.maxX}}},{key:"setZRange",value:function(){var r=this.w.globals;if(r.isDataXYZ){for(var n=0;n<r.series.length;n++)if(r.seriesZ[n]!==void 0)for(var l=0;l<r.seriesZ[n].length;l++)r.seriesZ[n][l]!==null&&V.isNumber(r.seriesZ[n][l])&&(r.maxZ=Math.max(r.maxZ,r.seriesZ[n][l]),r.minZ=Math.min(r.minZ,r.seriesZ[n][l]))}}},{key:"_handleSingleDataPoint",value:function(){var r=this.w.globals,n=this.w.config;if(r.minX===r.maxX){var l=new le(this.ctx);if(n.xaxis.type==="datetime"){var h=l.getDate(r.minX);n.xaxis.labels.datetimeUTC?h.setUTCDate(h.getUTCDate()-2):h.setDate(h.getDate()-2),r.minX=new Date(h).getTime();var u=l.getDate(r.maxX);n.xaxis.labels.datetimeUTC?u.setUTCDate(u.getUTCDate()+2):u.setDate(u.getDate()+2),r.maxX=new Date(u).getTime()}else(n.xaxis.type==="numeric"||n.xaxis.type==="category"&&!r.noLabelsProvided)&&(r.minX=r.minX-2,r.initialMinX=r.minX,r.maxX=r.maxX+2,r.initialMaxX=r.maxX)}}},{key:"_getMinXDiff",value:function(){var r=this.w.globals;r.isXNumeric&&r.seriesX.forEach(function(n,l){n.length===1&&n.push(r.seriesX[r.maxValsInArrayIndex][r.seriesX[r.maxValsInArrayIndex].length-1]);var h=n.slice();h.sort(function(u,d){return u-d}),h.forEach(function(u,d){if(d>0){var p=u-h[d-1];p>0&&(r.minXDiff=Math.min(p,r.minXDiff))}}),r.dataPoints!==1&&r.minXDiff!==Number.MAX_VALUE||(r.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var r=this,n=this.w.globals;if(n.series.length){var l=n.seriesGroups;l.length||(l=[this.w.config.series.map(function(d){return d.name})]);var h={},u={};l.forEach(function(d){h[d]=[],u[d]=[],r.w.config.series.map(function(p,g){return d.indexOf(p.name)>-1?g:null}).filter(function(p){return p!==null}).forEach(function(p){for(var g=0;g<n.series[n.maxValsInArrayIndex].length;g++)h[d][g]===void 0&&(h[d][g]=0,u[d][g]=0),n.series[p][g]!==null&&V.isNumber(n.series[p][g])&&(n.series[p][g]>0?h[d][g]+=parseFloat(n.series[p][g])+1e-4:u[d][g]+=parseFloat(n.series[p][g]))})}),Object.entries(h).forEach(function(d){var p=_(d,1)[0];h[p].forEach(function(g,y){n.maxY=Math.max(n.maxY,h[p][y]),n.minY=Math.min(n.minY,u[p][y])})})}}}]),D}(),Nt=function(){function D(r,n){o(this,D),this.ctx=r,this.elgrid=n,this.w=r.w;var l=this.w;this.xaxisFontSize=l.config.xaxis.labels.style.fontSize,this.axisFontFamily=l.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=l.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=l.config.chart.type==="bar"&&l.config.plotOptions.bar.horizontal,this.xAxisoffX=0,l.config.xaxis.position==="bottom"&&(this.xAxisoffX=l.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Vt(r)}return f(D,[{key:"drawYaxis",value:function(r){var n=this,l=this.w,h=new H(this.ctx),u=l.config.yaxis[r].labels.style,d=u.fontSize,p=u.fontFamily,g=u.fontWeight,y=h.group({class:"apexcharts-yaxis",rel:r,transform:"translate("+l.globals.translateYAxisX[r]+", 0)"});if(this.axesUtils.isYAxisHidden(r))return y;var x=h.group({class:"apexcharts-yaxis-texts-g"});y.add(x);var w=l.globals.yAxisScale[r].result.length-1,C=l.globals.gridHeight/w,T=l.globals.translateY,P=l.globals.yLabelFormatters[r],M=l.globals.yAxisScale[r].result.slice();M=this.axesUtils.checkForReversedLabels(r,M);var B="";if(l.config.yaxis[r].labels.show)for(var z=function(J){var ee=M[J];ee=P(ee,J,l);var se=l.config.yaxis[r].labels.padding;l.config.yaxis[r].opposite&&l.config.yaxis.length!==0&&(se*=-1);var he="end";l.config.yaxis[r].opposite&&(he="start"),l.config.yaxis[r].labels.align==="left"?he="start":l.config.yaxis[r].labels.align==="center"?he="middle":l.config.yaxis[r].labels.align==="right"&&(he="end");var ce=n.axesUtils.getYAxisForeColor(u.colors,r),ge=h.drawText({x:se,y:T+w/10+l.config.yaxis[r].labels.offsetY+1,text:ee,textAnchor:he,fontSize:d,fontFamily:p,fontWeight:g,maxWidth:l.config.yaxis[r].labels.maxWidth,foreColor:Array.isArray(ce)?ce[J]:ce,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+u.cssClass});J===w&&(B=ge),x.add(ge);var Te=document.createElementNS(l.globals.SVGNS,"title");if(Te.textContent=Array.isArray(ee)?ee.join(" "):ee,ge.node.appendChild(Te),l.config.yaxis[r].labels.rotate!==0){var Re=h.rotateAroundCenter(B.node),Fe=h.rotateAroundCenter(ge.node);ge.node.setAttribute("transform","rotate(".concat(l.config.yaxis[r].labels.rotate," ").concat(Re.x," ").concat(Fe.y,")"))}T+=C},W=w;W>=0;W--)z(W);if(l.config.yaxis[r].title.text!==void 0){var v=h.group({class:"apexcharts-yaxis-title"}),A=0;l.config.yaxis[r].opposite&&(A=l.globals.translateYAxisX[r]);var E=h.drawText({x:A,y:l.globals.gridHeight/2+l.globals.translateY+l.config.yaxis[r].title.offsetY,text:l.config.yaxis[r].title.text,textAnchor:"end",foreColor:l.config.yaxis[r].title.style.color,fontSize:l.config.yaxis[r].title.style.fontSize,fontWeight:l.config.yaxis[r].title.style.fontWeight,fontFamily:l.config.yaxis[r].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+l.config.yaxis[r].title.style.cssClass});v.add(E),y.add(v)}var F=l.config.yaxis[r].axisBorder,j=31+F.offsetX;if(l.config.yaxis[r].opposite&&(j=-31-F.offsetX),F.show){var X=h.drawLine(j,l.globals.translateY+F.offsetY-2,j,l.globals.gridHeight+l.globals.translateY+F.offsetY+2,F.color,0,F.width);y.add(X)}return l.config.yaxis[r].axisTicks.show&&this.axesUtils.drawYAxisTicks(j,w,F,l.config.yaxis[r].axisTicks,r,C,y),y}},{key:"drawYaxisInversed",value:function(r){var n=this.w,l=new H(this.ctx),h=l.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),u=l.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(n.globals.translateXAxisX,", ").concat(n.globals.translateXAxisY,")")});h.add(u);var d=n.globals.yAxisScale[r].result.length-1,p=n.globals.gridWidth/d+.1,g=p+n.config.xaxis.labels.offsetX,y=n.globals.xLabelFormatter,x=n.globals.yAxisScale[r].result.slice(),w=n.globals.timescaleLabels;w.length>0&&(this.xaxisLabels=w.slice(),d=(x=w.slice()).length),x=this.axesUtils.checkForReversedLabels(r,x);var C=w.length;if(n.config.xaxis.labels.show)for(var T=C?0:d;C?T<C:T>=0;C?T++:T--){var P=x[T];P=y(P,T,n);var M=n.globals.gridWidth+n.globals.padHorizontal-(g-p+n.config.xaxis.labels.offsetX);if(w.length){var B=this.axesUtils.getLabel(x,w,M,T,this.drawnLabels,this.xaxisFontSize);M=B.x,P=B.text,this.drawnLabels.push(B.text),T===0&&n.globals.skipFirstTimelinelabel&&(P=""),T===x.length-1&&n.globals.skipLastTimelinelabel&&(P="")}var z=l.drawText({x:M,y:this.xAxisoffX+n.config.xaxis.labels.offsetY+30-(n.config.xaxis.position==="top"?n.globals.xAxisHeight+n.config.xaxis.axisTicks.height-2:0),text:P,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[r]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:n.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+n.config.xaxis.labels.style.cssClass});u.add(z),z.tspan(P);var W=document.createElementNS(n.globals.SVGNS,"title");W.textContent=P,z.node.appendChild(W),g+=p}return this.inversedYAxisTitleText(h),this.inversedYAxisBorder(h),h}},{key:"inversedYAxisBorder",value:function(r){var n=this.w,l=new H(this.ctx),h=n.config.xaxis.axisBorder;if(h.show){var u=0;n.config.chart.type==="bar"&&n.globals.isXNumeric&&(u-=15);var d=l.drawLine(n.globals.padHorizontal+u+h.offsetX,this.xAxisoffX,n.globals.gridWidth,this.xAxisoffX,h.color,0,h.height);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(d):r.add(d)}}},{key:"inversedYAxisTitleText",value:function(r){var n=this.w,l=new H(this.ctx);if(n.config.xaxis.title.text!==void 0){var h=l.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),u=l.drawText({x:n.globals.gridWidth/2+n.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(n.config.xaxis.title.style.fontSize)+n.config.xaxis.title.offsetY+20,text:n.config.xaxis.title.text,textAnchor:"middle",fontSize:n.config.xaxis.title.style.fontSize,fontFamily:n.config.xaxis.title.style.fontFamily,fontWeight:n.config.xaxis.title.style.fontWeight,foreColor:n.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+n.config.xaxis.title.style.cssClass});h.add(u),r.add(h)}}},{key:"yAxisTitleRotate",value:function(r,n){var l=this.w,h=new H(this.ctx),u={width:0,height:0},d={width:0,height:0},p=l.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-texts-g"));p!==null&&(u=p.getBoundingClientRect());var g=l.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-title text"));if(g!==null&&(d=g.getBoundingClientRect()),g!==null){var y=this.xPaddingForYAxisTitle(r,u,d,n);g.setAttribute("x",y.xPos-(n?10:0))}if(g!==null){var x=h.rotateAroundCenter(g);g.setAttribute("transform","rotate(".concat(n?-1*l.config.yaxis[r].title.rotate:l.config.yaxis[r].title.rotate," ").concat(x.x," ").concat(x.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(r,n,l,h){var u=this.w,d=0,p=0,g=10;return u.config.yaxis[r].title.text===void 0||r<0?{xPos:p,padd:0}:(h?(p=n.width+u.config.yaxis[r].title.offsetX+l.width/2+g/2,(d+=1)===0&&(p-=g/2)):(p=-1*n.width+u.config.yaxis[r].title.offsetX+g/2+l.width/2,u.globals.isBarHorizontal&&(g=25,p=-1*n.width-u.config.yaxis[r].title.offsetX-g)),{xPos:p,padd:g})}},{key:"setYAxisXPosition",value:function(r,n){var l=this.w,h=0,u=0,d=18,p=1;l.config.yaxis.length>1&&(this.multipleYs=!0),l.config.yaxis.map(function(g,y){var x=l.globals.ignoreYAxisIndexes.indexOf(y)>-1||!g.show||g.floating||r[y].width===0,w=r[y].width+n[y].width;g.opposite?l.globals.isBarHorizontal?(u=l.globals.gridWidth+l.globals.translateX-1,l.globals.translateYAxisX[y]=u-g.labels.offsetX):(u=l.globals.gridWidth+l.globals.translateX+p,x||(p=p+w+20),l.globals.translateYAxisX[y]=u-g.labels.offsetX+20):(h=l.globals.translateX-d,x||(d=d+w+20),l.globals.translateYAxisX[y]=h+g.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var r=this.w,n=r.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(n=V.listToArray(n)).forEach(function(l,h){var u=r.config.yaxis[h];if(u&&!u.floating&&u.labels.align!==void 0){var d=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-texts-g")),p=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(h,"'] .apexcharts-yaxis-label"));p=V.listToArray(p);var g=d.getBoundingClientRect();u.labels.align==="left"?(p.forEach(function(y,x){y.setAttribute("text-anchor","start")}),u.opposite||d.setAttribute("transform","translate(-".concat(g.width,", 0)"))):u.labels.align==="center"?(p.forEach(function(y,x){y.setAttribute("text-anchor","middle")}),d.setAttribute("transform","translate(".concat(g.width/2*(u.opposite?1:-1),", 0)"))):u.labels.align==="right"&&(p.forEach(function(y,x){y.setAttribute("text-anchor","end")}),u.opposite&&d.setAttribute("transform","translate(".concat(g.width,", 0)")))}})}}]),D}(),ci=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.documentEvent=V.bind(this.documentEvent,this)}return f(D,[{key:"addEventListener",value:function(r,n){var l=this.w;l.globals.events.hasOwnProperty(r)?l.globals.events[r].push(n):l.globals.events[r]=[n]}},{key:"removeEventListener",value:function(r,n){var l=this.w;if(l.globals.events.hasOwnProperty(r)){var h=l.globals.events[r].indexOf(n);h!==-1&&l.globals.events[r].splice(h,1)}}},{key:"fireEvent",value:function(r,n){var l=this.w;if(l.globals.events.hasOwnProperty(r)){n&&n.length||(n=[]);for(var h=l.globals.events[r],u=h.length,d=0;d<u;d++)h[d].apply(null,n)}}},{key:"setupEventHandlers",value:function(){var r=this,n=this.w,l=this.ctx,h=n.globals.dom.baseEl.querySelector(n.globals.chartClass);this.ctx.eventList.forEach(function(u){h.addEventListener(u,function(d){var p=Object.assign({},n,{seriesIndex:n.globals.capturedSeriesIndex,dataPointIndex:n.globals.capturedDataPointIndex});d.type==="mousemove"||d.type==="touchmove"?typeof n.config.chart.events.mouseMove=="function"&&n.config.chart.events.mouseMove(d,l,p):d.type==="mouseleave"||d.type==="touchleave"?typeof n.config.chart.events.mouseLeave=="function"&&n.config.chart.events.mouseLeave(d,l,p):(d.type==="mouseup"&&d.which===1||d.type==="touchend")&&(typeof n.config.chart.events.click=="function"&&n.config.chart.events.click(d,l,p),l.ctx.events.fireEvent("click",[d,l,p]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(u){n.globals.dom.baseEl.addEventListener(u,r.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(r){var n=this.w,l=r.target.className;if(r.type==="click"){var h=n.globals.dom.baseEl.querySelector(".apexcharts-menu");h&&h.classList.contains("apexcharts-menu-open")&&l!=="apexcharts-menu-icon"&&h.classList.remove("apexcharts-menu-open")}n.globals.clientX=r.type==="touchmove"?r.touches[0].clientX:r.clientX,n.globals.clientY=r.type==="touchmove"?r.touches[0].clientY:r.clientY}}]),D}(),Lt=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"setCurrentLocaleValues",value:function(r){var n=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(n=this.w.config.chart.locales.concat(window.Apex.chart.locales));var l=n.filter(function(u){return u.name===r})[0];if(!l)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var h=V.extend(ke,l);this.w.globals.locale=h.options}}]),D}(),Mt=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"drawAxis",value:function(r,n){var l,h,u=this,d=this.w.globals,p=this.w.config,g=new Bt(this.ctx,n),y=new Nt(this.ctx,n);d.axisCharts&&r!=="radar"&&(d.isBarHorizontal?(h=y.drawYaxisInversed(0),l=g.drawXaxisInversed(0),d.dom.elGraphical.add(l),d.dom.elGraphical.add(h)):(l=g.drawXaxis(),d.dom.elGraphical.add(l),p.yaxis.map(function(x,w){if(d.ignoreYAxisIndexes.indexOf(w)===-1&&(h=y.drawYaxis(w),d.dom.Paper.add(h),u.w.config.grid.position==="back")){var C=d.dom.Paper.children()[1];C.remove(),d.dom.Paper.add(C)}})))}}]),D}(),Y=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"drawXCrosshairs",value:function(){var r=this.w,n=new H(this.ctx),l=new Q(this.ctx),h=r.config.xaxis.crosshairs.fill.gradient,u=r.config.xaxis.crosshairs.dropShadow,d=r.config.xaxis.crosshairs.fill.type,p=h.colorFrom,g=h.colorTo,y=h.opacityFrom,x=h.opacityTo,w=h.stops,C=u.enabled,T=u.left,P=u.top,M=u.blur,B=u.color,z=u.opacity,W=r.config.xaxis.crosshairs.fill.color;if(r.config.xaxis.crosshairs.show){d==="gradient"&&(W=n.drawGradient("vertical",p,g,y,x,null,w,null));var v=n.drawRect();r.config.xaxis.crosshairs.width===1&&(v=n.drawLine());var A=r.globals.gridHeight;(!V.isNumber(A)||A<0)&&(A=0);var E=r.config.xaxis.crosshairs.width;(!V.isNumber(E)||E<0)&&(E=0),v.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:A,width:E,height:A,fill:W,filter:"none","fill-opacity":r.config.xaxis.crosshairs.opacity,stroke:r.config.xaxis.crosshairs.stroke.color,"stroke-width":r.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":r.config.xaxis.crosshairs.stroke.dashArray}),C&&(v=l.dropShadow(v,{left:T,top:P,blur:M,color:B,opacity:z})),r.globals.dom.elGraphical.add(v)}}},{key:"drawYCrosshairs",value:function(){var r=this.w,n=new H(this.ctx),l=r.config.yaxis[0].crosshairs,h=r.globals.barPadForNumericAxis;if(r.config.yaxis[0].crosshairs.show){var u=n.drawLine(-h,0,r.globals.gridWidth+h,0,l.stroke.color,l.stroke.dashArray,l.stroke.width);u.attr({class:"apexcharts-ycrosshairs"}),r.globals.dom.elGraphical.add(u)}var d=n.drawLine(-h,0,r.globals.gridWidth+h,0,l.stroke.color,0,0);d.attr({class:"apexcharts-ycrosshairs-hidden"}),r.globals.dom.elGraphical.add(d)}}]),D}(),O=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"checkResponsiveConfig",value:function(r){var n=this,l=this.w,h=l.config;if(h.responsive.length!==0){var u=h.responsive.slice();u.sort(function(y,x){return y.breakpoint>x.breakpoint?1:x.breakpoint>y.breakpoint?-1:0}).reverse();var d=new at({}),p=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=u[0].breakpoint,w=window.innerWidth>0?window.innerWidth:screen.width;if(w>x){var C=re.extendArrayProps(d,l.globals.initialConfig,l);y=V.extend(C,y),y=V.extend(l.config,y),n.overrideResponsiveOptions(y)}else for(var T=0;T<u.length;T++)w<u[T].breakpoint&&(y=re.extendArrayProps(d,u[T].options,l),y=V.extend(l.config,y),n.overrideResponsiveOptions(y))};if(r){var g=re.extendArrayProps(d,r,l);g=V.extend(l.config,g),p(g=V.extend(g,r))}else p({})}}},{key:"overrideResponsiveOptions",value:function(r){var n=new at(r).init({responsiveOverride:!0});this.w.config=n}}]),D}(),R=function(){function D(r){o(this,D),this.ctx=r,this.colors=[],this.w=r.w;var n=this.w;this.isColorFn=!1,this.isHeatmapDistributed=n.config.chart.type==="treemap"&&n.config.plotOptions.treemap.distributed||n.config.chart.type==="heatmap"&&n.config.plotOptions.heatmap.distributed,this.isBarDistributed=n.config.plotOptions.bar.distributed&&(n.config.chart.type==="bar"||n.config.chart.type==="rangeBar")}return f(D,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var r,n=this,l=this.w,h=new V;if(l.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(l.config.theme.mode)),l.config.colors===void 0||((r=l.config.colors)===null||r===void 0?void 0:r.length)===0?l.globals.colors=this.predefined():(l.globals.colors=l.config.colors,Array.isArray(l.config.colors)&&l.config.colors.length>0&&typeof l.config.colors[0]=="function"&&(l.globals.colors=l.config.series.map(function(P,M){var B=l.config.colors[M];return B||(B=l.config.colors[0]),typeof B=="function"?(n.isColorFn=!0,B({value:l.globals.axisCharts?l.globals.series[M][0]?l.globals.series[M][0]:0:l.globals.series[M],seriesIndex:M,dataPointIndex:M,w:l})):B}))),l.globals.seriesColors.map(function(P,M){P&&(l.globals.colors[M]=P)}),l.config.theme.monochrome.enabled){var u=[],d=l.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(d=l.globals.series[0].length*l.globals.series.length);for(var p=l.config.theme.monochrome.color,g=1/(d/l.config.theme.monochrome.shadeIntensity),y=l.config.theme.monochrome.shadeTo,x=0,w=0;w<d;w++){var C=void 0;y==="dark"?(C=h.shadeColor(-1*x,p),x+=g):(C=h.shadeColor(x,p),x+=g),u.push(C)}l.globals.colors=u.slice()}var T=l.globals.colors.slice();this.pushExtraColors(l.globals.colors),["fill","stroke"].forEach(function(P){l.config[P].colors===void 0?l.globals[P].colors=n.isColorFn?l.config.colors:T:l.globals[P].colors=l.config[P].colors.slice(),n.pushExtraColors(l.globals[P].colors)}),l.config.dataLabels.style.colors===void 0?l.globals.dataLabels.style.colors=T:l.globals.dataLabels.style.colors=l.config.dataLabels.style.colors.slice(),this.pushExtraColors(l.globals.dataLabels.style.colors,50),l.config.plotOptions.radar.polygons.fill.colors===void 0?l.globals.radarPolygons.fill.colors=[l.config.theme.mode==="dark"?"#424242":"none"]:l.globals.radarPolygons.fill.colors=l.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(l.globals.radarPolygons.fill.colors,20),l.config.markers.colors===void 0?l.globals.markers.colors=T:l.globals.markers.colors=l.config.markers.colors.slice(),this.pushExtraColors(l.globals.markers.colors)}},{key:"pushExtraColors",value:function(r,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,h=this.w,u=n||h.globals.series.length;if(l===null&&(l=this.isBarDistributed||this.isHeatmapDistributed||h.config.chart.type==="heatmap"&&h.config.plotOptions.heatmap.colorScale.inverse),l&&h.globals.series.length&&(u=h.globals.series[h.globals.maxValsInArrayIndex].length*h.globals.series.length),r.length<u)for(var d=u-r.length,p=0;p<d;p++)r.push(r[p])}},{key:"updateThemeOptions",value:function(r){r.chart=r.chart||{},r.tooltip=r.tooltip||{};var n=r.theme.mode||"light",l=r.theme.palette?r.theme.palette:n==="dark"?"palette4":"palette1",h=r.chart.foreColor?r.chart.foreColor:n==="dark"?"#f6f7f8":"#373d3f";return r.tooltip.theme=n,r.chart.foreColor=h,r.theme.palette=l,r}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),D}(),q=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(r){var n=this.w,l=r==="title"?n.config.title:n.config.subtitle,h=n.globals.svgWidth/2,u=l.offsetY,d="middle";if(l.align==="left"?(h=10,d="start"):l.align==="right"&&(h=n.globals.svgWidth-10,d="end"),h+=l.offsetX,u=u+parseInt(l.style.fontSize,10)+l.margin/2,l.text!==void 0){var p=new H(this.ctx).drawText({x:h,y:u,text:l.text,textAnchor:d,fontSize:l.style.fontSize,fontFamily:l.style.fontFamily,fontWeight:l.style.fontWeight,foreColor:l.style.color,opacity:1});p.node.setAttribute("class","apexcharts-".concat(r,"-text")),n.globals.dom.Paper.add(p)}}}]),D}(),te=function(){function D(r){o(this,D),this.w=r.w,this.dCtx=r}return f(D,[{key:"getTitleSubtitleCoords",value:function(r){var n=this.w,l=0,h=0,u=r==="title"?n.config.title.floating:n.config.subtitle.floating,d=n.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-text"));if(d!==null&&!u){var p=d.getBoundingClientRect();l=p.width,h=n.globals.axisCharts?p.height+5:p.height}return{width:l,height:h}}},{key:"getLegendsRect",value:function(){var r=this.w,n=r.globals.dom.elLegendWrap;r.config.legend.height||r.config.legend.position!=="top"&&r.config.legend.position!=="bottom"||(n.style.maxHeight=r.globals.svgHeight/2+"px");var l=Object.assign({},V.getBoundingClientRect(n));return n!==null&&!r.config.legend.floating&&r.config.legend.show?this.dCtx.lgRect={x:l.x,y:l.y,height:l.height,width:l.height===0?0:l.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},r.config.legend.position!=="left"&&r.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>r.globals.svgWidth&&(this.dCtx.lgRect.width=r.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(r,n){var l=r;if(this.w.globals.isMultiLineX){var h=n.map(function(d,p){return Array.isArray(d)?d.length:1}),u=Math.max.apply(Math,N(h));l=n[h.indexOf(u)]}return l}}]),D}(),ue=function(){function D(r){o(this,D),this.w=r.w,this.dCtx=r}return f(D,[{key:"getxAxisLabelsCoords",value:function(){var r,n=this.w,l=n.globals.labels.slice();if(n.config.xaxis.convertedCatToNumeric&&l.length===0&&(l=n.globals.categoryLabels),n.globals.timescaleLabels.length>0){var h=this.getxAxisTimeScaleLabelsCoords();r={width:h.width,height:h.height},n.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=n.config.legend.position!=="left"&&n.config.legend.position!=="right"||n.config.legend.floating?0:this.dCtx.lgRect.width;var u=n.globals.xLabelFormatter,d=V.getLargestStringFromArr(l),p=this.dCtx.dimHelpers.getLargestStringFromMultiArr(d,l);n.globals.isBarHorizontal&&(p=d=n.globals.yAxisScale[0].result.reduce(function(P,M){return P.length>M.length?P:M},0));var g=new Ae(this.dCtx.ctx),y=d;d=g.xLabelFormat(u,d,y,{i:void 0,dateFormatter:new le(this.dCtx.ctx).formatDate,w:n}),p=g.xLabelFormat(u,p,y,{i:void 0,dateFormatter:new le(this.dCtx.ctx).formatDate,w:n}),(n.config.xaxis.convertedCatToNumeric&&d===void 0||String(d).trim()==="")&&(p=d="1");var x=new H(this.dCtx.ctx),w=x.getTextRects(d,n.config.xaxis.labels.style.fontSize),C=w;if(d!==p&&(C=x.getTextRects(p,n.config.xaxis.labels.style.fontSize)),(r={width:w.width>=C.width?w.width:C.width,height:w.height>=C.height?w.height:C.height}).width*l.length>n.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&n.config.xaxis.labels.rotate!==0||n.config.xaxis.labels.rotateAlways){if(!n.globals.isBarHorizontal){n.globals.rotateXLabels=!0;var T=function(P){return x.getTextRects(P,n.config.xaxis.labels.style.fontSize,n.config.xaxis.labels.style.fontFamily,"rotate(".concat(n.config.xaxis.labels.rotate," 0 0)"),!1)};w=T(d),d!==p&&(C=T(p)),r.height=(w.height>C.height?w.height:C.height)/1.5,r.width=w.width>C.width?w.width:C.width}}else n.globals.rotateXLabels=!1}return n.config.xaxis.labels.show||(r={width:0,height:0}),{width:r.width,height:r.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var r,n=this.w;if(!n.globals.hasXaxisGroups)return{width:0,height:0};var l,h=((r=n.config.xaxis.group.style)===null||r===void 0?void 0:r.fontSize)||n.config.xaxis.labels.style.fontSize,u=n.globals.groups.map(function(w){return w.title}),d=V.getLargestStringFromArr(u),p=this.dCtx.dimHelpers.getLargestStringFromMultiArr(d,u),g=new H(this.dCtx.ctx),y=g.getTextRects(d,h),x=y;return d!==p&&(x=g.getTextRects(p,h)),l={width:y.width>=x.width?y.width:x.width,height:y.height>=x.height?y.height:x.height},n.config.xaxis.labels.show||(l={width:0,height:0}),{width:l.width,height:l.height}}},{key:"getxAxisTitleCoords",value:function(){var r=this.w,n=0,l=0;if(r.config.xaxis.title.text!==void 0){var h=new H(this.dCtx.ctx).getTextRects(r.config.xaxis.title.text,r.config.xaxis.title.style.fontSize);n=h.width,l=h.height}return{width:n,height:l}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var r,n=this.w;this.dCtx.timescaleLabels=n.globals.timescaleLabels.slice();var l=this.dCtx.timescaleLabels.map(function(u){return u.value}),h=l.reduce(function(u,d){return u===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):u.length>d.length?u:d},0);return 1.05*(r=new H(this.dCtx.ctx).getTextRects(h,n.config.xaxis.labels.style.fontSize)).width*l.length>n.globals.gridWidth&&n.config.xaxis.labels.rotate!==0&&(n.globals.overlappingXLabels=!0),r}},{key:"additionalPaddingXLabels",value:function(r){var n=this,l=this.w,h=l.globals,u=l.config,d=u.xaxis.type,p=r.width;h.skipLastTimelinelabel=!1,h.skipFirstTimelinelabel=!1;var g=l.config.yaxis[0].opposite&&l.globals.isBarHorizontal,y=function(x,w){u.yaxis.length>1&&function(C){return h.collapsedSeriesIndices.indexOf(C)!==-1}(w)||function(C){if(n.dCtx.timescaleLabels&&n.dCtx.timescaleLabels.length){var T=n.dCtx.timescaleLabels[0],P=n.dCtx.timescaleLabels[n.dCtx.timescaleLabels.length-1].position+p/1.75-n.dCtx.yAxisWidthRight,M=T.position-p/1.75+n.dCtx.yAxisWidthLeft,B=l.config.legend.position==="right"&&n.dCtx.lgRect.width>0?n.dCtx.lgRect.width:0;P>h.svgWidth-h.translateX-B&&(h.skipLastTimelinelabel=!0),M<-(C.show&&!C.floating||u.chart.type!=="bar"&&u.chart.type!=="candlestick"&&u.chart.type!=="rangeBar"&&u.chart.type!=="boxPlot"?10:p/1.75)&&(h.skipFirstTimelinelabel=!0)}else d==="datetime"?n.dCtx.gridPad.right<p&&!h.rotateXLabels&&(h.skipLastTimelinelabel=!0):d!=="datetime"&&n.dCtx.gridPad.right<p/2-n.dCtx.yAxisWidthRight&&!h.rotateXLabels&&!l.config.xaxis.labels.trim&&(l.config.xaxis.tickPlacement!=="between"||l.globals.isBarHorizontal)&&(n.dCtx.xPadRight=p/2+1)}(x)};u.yaxis.forEach(function(x,w){g?(n.dCtx.gridPad.left<p&&(n.dCtx.xPadLeft=p/2+1),n.dCtx.xPadRight=p/2+1):y(x,w)})}}]),D}(),fe=function(){function D(r){o(this,D),this.w=r.w,this.dCtx=r}return f(D,[{key:"getyAxisLabelsCoords",value:function(){var r=this,n=this.w,l=[],h=10,u=new Vt(this.dCtx.ctx);return n.config.yaxis.map(function(d,p){var g=n.globals.yAxisScale[p],y=0;if(!u.isYAxisHidden(p)&&d.labels.show&&d.labels.minWidth!==void 0&&(y=d.labels.minWidth),!u.isYAxisHidden(p)&&d.labels.show&&g.result.length){var x=n.globals.yLabelFormatters[p],w=g.niceMin===Number.MIN_VALUE?0:g.niceMin,C=String(w).length>String(g.niceMax).length?w:g.niceMax,T=x(C,{seriesIndex:p,dataPointIndex:-1,w:n}),P=T;if(T!==void 0&&T.length!==0||(T=C),n.globals.isBarHorizontal){h=0;var M=n.globals.labels.slice();T=x(T=V.getLargestStringFromArr(M),{seriesIndex:p,dataPointIndex:-1,w:n}),P=r.dCtx.dimHelpers.getLargestStringFromMultiArr(T,M)}var B=new H(r.dCtx.ctx),z="rotate(".concat(d.labels.rotate," 0 0)"),W=B.getTextRects(T,d.labels.style.fontSize,d.labels.style.fontFamily,z,!1),v=W;T!==P&&(v=B.getTextRects(P,d.labels.style.fontSize,d.labels.style.fontFamily,z,!1)),l.push({width:(y>v.width||y>W.width?y:v.width>W.width?v.width:W.width)+h,height:v.height>W.height?v.height:W.height})}else l.push({width:0,height:0})}),l}},{key:"getyAxisTitleCoords",value:function(){var r=this,n=this.w,l=[];return n.config.yaxis.map(function(h,u){if(h.show&&h.title.text!==void 0){var d=new H(r.dCtx.ctx),p="rotate(".concat(h.title.rotate," 0 0)"),g=d.getTextRects(h.title.text,h.title.style.fontSize,h.title.style.fontFamily,p,!1);l.push({width:g.width,height:g.height})}else l.push({width:0,height:0})}),l}},{key:"getTotalYAxisWidth",value:function(){var r=this.w,n=0,l=0,h=0,u=r.globals.yAxisScale.length>1?10:0,d=new Vt(this.dCtx.ctx),p=function(g,y){var x=r.config.yaxis[y].floating,w=0;g.width>0&&!x?(w=g.width+u,function(C){return r.globals.ignoreYAxisIndexes.indexOf(C)>-1}(y)&&(w=w-g.width-u)):w=x||d.isYAxisHidden(y)?0:5,r.config.yaxis[y].opposite?h+=w:l+=w,n+=w};return r.globals.yLabelsCoords.map(function(g,y){p(g,y)}),r.globals.yTitleCoords.map(function(g,y){p(g,y)}),r.globals.isBarHorizontal&&!r.config.yaxis[0].floating&&(n=r.globals.yLabelsCoords[0].width+r.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=l,this.dCtx.yAxisWidthRight=h,n}}]),D}(),De=function(){function D(r){o(this,D),this.w=r.w,this.dCtx=r}return f(D,[{key:"gridPadForColumnsInNumericAxis",value:function(r){var n=this.w;if(n.globals.noData||n.globals.allSeriesCollapsed)return 0;var l=function(x){return x==="bar"||x==="rangeBar"||x==="candlestick"||x==="boxPlot"},h=n.config.chart.type,u=0,d=l(h)?n.config.series.length:1;if(n.globals.comboBarCount>0&&(d=n.globals.comboBarCount),n.globals.collapsedSeries.forEach(function(x){l(x.type)&&(d-=1)}),n.config.chart.stacked&&(d=1),(l(h)||n.globals.comboBarCount>0)&&n.globals.isXNumeric&&!n.globals.isBarHorizontal&&d>0){var p,g,y=Math.abs(n.globals.initialMaxX-n.globals.initialMinX);y<=3&&(y=n.globals.dataPoints),p=y/r,n.globals.minXDiff&&n.globals.minXDiff/p>0&&(g=n.globals.minXDiff/p),g>r/2&&(g/=2),(u=g/d*parseInt(n.config.plotOptions.bar.columnWidth,10)/100)<1&&(u=1),u=u/(d>1?1:1.5)+5,n.globals.barPadForNumericAxis=u}return u}},{key:"gridPadFortitleSubtitle",value:function(){var r=this,n=this.w,l=n.globals,h=this.dCtx.isSparkline||!n.globals.axisCharts?0:10;["title","subtitle"].forEach(function(p){n.config[p].text!==void 0?h+=n.config[p].margin:h+=r.dCtx.isSparkline||!n.globals.axisCharts?0:5}),!n.config.legend.show||n.config.legend.position!=="bottom"||n.config.legend.floating||n.globals.axisCharts||(h+=10);var u=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),d=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");l.gridHeight=l.gridHeight-u.height-d.height-h,l.translateY=l.translateY+u.height+d.height+h}},{key:"setGridXPosForDualYAxis",value:function(r,n){var l=this.w,h=new Vt(this.dCtx.ctx);l.config.yaxis.map(function(u,d){l.globals.ignoreYAxisIndexes.indexOf(d)!==-1||u.floating||h.isYAxisHidden(d)||(u.opposite&&(l.globals.translateX=l.globals.translateX-(n[d].width+r[d].width)-parseInt(l.config.yaxis[d].labels.style.fontSize,10)/1.2-12),l.globals.translateX<2&&(l.globals.translateX=2))})}}]),D}(),_e=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new te(this),this.dimYAxis=new fe(this),this.dimXAxis=new ue(this),this.dimGrid=new De(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return f(D,[{key:"plotCoords",value:function(){var r=this,n=this.w,l=n.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(n.config.markers.discrete.length>0||n.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(u){var d=_(u,2),p=d[0],g=d[1];r.gridPad[p]=Math.max(g,r.w.globals.markers.largestSize/1.5)}),l.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),l.gridHeight=l.gridHeight-this.gridPad.top-this.gridPad.bottom,l.gridWidth=l.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var h=this.dimGrid.gridPadForColumnsInNumericAxis(l.gridWidth);l.gridWidth=l.gridWidth-2*h,l.translateX=l.translateX+this.gridPad.left+this.xPadLeft+(h>0?h+4:0),l.translateY=l.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var r=this,n=this.w,l=n.globals,h=this.dimYAxis.getyAxisLabelsCoords(),u=this.dimYAxis.getyAxisTitleCoords();n.globals.yLabelsCoords=[],n.globals.yTitleCoords=[],n.config.yaxis.map(function(T,P){n.globals.yLabelsCoords.push({width:h[P].width,index:P}),n.globals.yTitleCoords.push({width:u[P].width,index:P})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var d=this.dimXAxis.getxAxisLabelsCoords(),p=this.dimXAxis.getxAxisGroupLabelsCoords(),g=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(d,g,p),l.translateXAxisY=n.globals.rotateXLabels?this.xAxisHeight/8:-4,l.translateXAxisX=n.globals.rotateXLabels&&n.globals.isXNumeric&&n.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,n.globals.isBarHorizontal&&(l.rotateXLabels=!1,l.translateXAxisY=parseInt(n.config.xaxis.labels.style.fontSize,10)/1.5*-1),l.translateXAxisY=l.translateXAxisY+n.config.xaxis.labels.offsetY,l.translateXAxisX=l.translateXAxisX+n.config.xaxis.labels.offsetX;var y=this.yAxisWidth,x=this.xAxisHeight;l.xAxisLabelsHeight=this.xAxisHeight-g.height,l.xAxisGroupLabelsHeight=l.xAxisLabelsHeight-d.height,l.xAxisLabelsWidth=this.xAxisWidth,l.xAxisHeight=this.xAxisHeight;var w=10;(n.config.chart.type==="radar"||this.isSparkline)&&(y=0,x=l.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||n.config.chart.type==="treemap")&&(y=0,x=0,w=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(d);var C=function(){l.translateX=y,l.gridHeight=l.svgHeight-r.lgRect.height-x-(r.isSparkline||n.config.chart.type==="treemap"?0:n.globals.rotateXLabels?10:15),l.gridWidth=l.svgWidth-y};switch(n.config.xaxis.position==="top"&&(w=l.xAxisHeight-n.config.xaxis.axisTicks.height-5),n.config.legend.position){case"bottom":l.translateY=w,C();break;case"top":l.translateY=this.lgRect.height+w,C();break;case"left":l.translateY=w,l.translateX=this.lgRect.width+y,l.gridHeight=l.svgHeight-x-12,l.gridWidth=l.svgWidth-this.lgRect.width-y;break;case"right":l.translateY=w,l.translateX=y,l.gridHeight=l.svgHeight-x-12,l.gridWidth=l.svgWidth-this.lgRect.width-y-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(u,h),new Nt(this.ctx).setYAxisXPosition(h,u)}},{key:"setDimensionsForNonAxisCharts",value:function(){var r=this.w,n=r.globals,l=r.config,h=0;r.config.legend.show&&!r.config.legend.floating&&(h=20);var u=l.chart.type==="pie"||l.chart.type==="polarArea"||l.chart.type==="donut"?"pie":"radialBar",d=l.plotOptions[u].offsetY,p=l.plotOptions[u].offsetX;if(!l.legend.show||l.legend.floating)return n.gridHeight=n.svgHeight-l.grid.padding.left+l.grid.padding.right,n.gridWidth=n.gridHeight,n.translateY=d,void(n.translateX=p+(n.svgWidth-n.gridWidth)/2);switch(l.legend.position){case"bottom":n.gridHeight=n.svgHeight-this.lgRect.height-n.goldenPadding,n.gridWidth=n.svgWidth,n.translateY=d-10,n.translateX=p+(n.svgWidth-n.gridWidth)/2;break;case"top":n.gridHeight=n.svgHeight-this.lgRect.height-n.goldenPadding,n.gridWidth=n.svgWidth,n.translateY=this.lgRect.height+d+10,n.translateX=p+(n.svgWidth-n.gridWidth)/2;break;case"left":n.gridWidth=n.svgWidth-this.lgRect.width-h,n.gridHeight=l.chart.height!=="auto"?n.svgHeight:n.gridWidth,n.translateY=d,n.translateX=p+this.lgRect.width+h;break;case"right":n.gridWidth=n.svgWidth-this.lgRect.width-h-5,n.gridHeight=l.chart.height!=="auto"?n.svgHeight:n.gridWidth,n.translateY=d,n.translateX=p+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(r,n,l){var h=this.w,u=h.globals.hasXaxisGroups?2:1,d=l.height+r.height+n.height,p=h.globals.isMultiLineX?1.2:h.globals.LINE_HEIGHT_RATIO,g=h.globals.rotateXLabels?22:10,y=h.globals.rotateXLabels&&h.config.legend.position==="bottom"?10:0;this.xAxisHeight=d*p+u*g+y,this.xAxisWidth=r.width,this.xAxisHeight-n.height>h.config.xaxis.labels.maxHeight&&(this.xAxisHeight=h.config.xaxis.labels.maxHeight),h.config.xaxis.labels.minHeight&&this.xAxisHeight<h.config.xaxis.labels.minHeight&&(this.xAxisHeight=h.config.xaxis.labels.minHeight),h.config.xaxis.floating&&(this.xAxisHeight=0);var x=0,w=0;h.config.yaxis.forEach(function(C){x+=C.labels.minWidth,w+=C.labels.maxWidth}),this.yAxisWidth<x&&(this.yAxisWidth=x),this.yAxisWidth>w&&(this.yAxisWidth=w)}}]),D}(),Ke=function(){function D(r){o(this,D),this.w=r.w,this.lgCtx=r}return f(D,[{key:"getLegendStyles",value:function(){var r=document.createElement("style");r.setAttribute("type","text/css");var n=document.createTextNode(`	
    	
      .apexcharts-legend {	
        display: flex;	
        overflow: auto;	
        padding: 0 10px;	
      }	
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {	
        flex-wrap: wrap	
      }	
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        flex-direction: column;	
        bottom: 0;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        justify-content: flex-start;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {	
        justify-content: center;  	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {	
        justify-content: flex-end;	
      }	
      .apexcharts-legend-series {	
        cursor: pointer;	
        line-height: normal;	
      }	
      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{	
        display: flex;	
        align-items: center;	
      }	
      .apexcharts-legend-text {	
        position: relative;	
        font-size: 14px;	
      }	
      .apexcharts-legend-text *, .apexcharts-legend-marker * {	
        pointer-events: none;	
      }	
      .apexcharts-legend-marker {	
        position: relative;	
        display: inline-block;	
        cursor: pointer;	
        margin-right: 3px;	
        border-style: solid;
      }	
      	
      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{	
        display: inline-block;	
      }	
      .apexcharts-legend-series.apexcharts-no-click {	
        cursor: auto;	
      }	
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {	
        display: none !important;	
      }	
      .apexcharts-inactive-legend {	
        opacity: 0.45;	
      }`);return r.appendChild(n),r}},{key:"getLegendBBox",value:function(){var r=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),n=r.width;return{clwh:r.height,clww:n}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(r,n){var l=this,h=this.w;if(h.globals.axisCharts||h.config.chart.type==="radialBar"){h.globals.resized=!0;var u=null,d=null;h.globals.risingSeries=[],h.globals.axisCharts?(u=h.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),d=parseInt(u.getAttribute("data:realIndex"),10)):(u=h.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']")),d=parseInt(u.getAttribute("rel"),10)-1),n?[{cs:h.globals.collapsedSeries,csi:h.globals.collapsedSeriesIndices},{cs:h.globals.ancillaryCollapsedSeries,csi:h.globals.ancillaryCollapsedSeriesIndices}].forEach(function(x){l.riseCollapsedSeries(x.cs,x.csi,d)}):this.hideSeries({seriesEl:u,realIndex:d})}else{var p=h.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(r+1,"'] path")),g=h.config.chart.type;if(g==="pie"||g==="polarArea"||g==="donut"){var y=h.config.plotOptions.pie.donut.labels;new H(this.lgCtx.ctx).pathMouseDown(p.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(p.members[0].node,y)}p.fire("click")}}},{key:"hideSeries",value:function(r){var n=r.seriesEl,l=r.realIndex,h=this.w,u=V.clone(h.config.series);if(h.globals.axisCharts){var d=!1;if(h.config.yaxis[l]&&h.config.yaxis[l].show&&h.config.yaxis[l].showAlways&&(d=!0,h.globals.ancillaryCollapsedSeriesIndices.indexOf(l)<0&&(h.globals.ancillaryCollapsedSeries.push({index:l,data:u[l].data.slice(),type:n.parentNode.className.baseVal.split("-")[1]}),h.globals.ancillaryCollapsedSeriesIndices.push(l))),!d){h.globals.collapsedSeries.push({index:l,data:u[l].data.slice(),type:n.parentNode.className.baseVal.split("-")[1]}),h.globals.collapsedSeriesIndices.push(l);var p=h.globals.risingSeries.indexOf(l);h.globals.risingSeries.splice(p,1)}}else h.globals.collapsedSeries.push({index:l,data:u[l]}),h.globals.collapsedSeriesIndices.push(l);for(var g=n.childNodes,y=0;y<g.length;y++)g[y].classList.contains("apexcharts-series-markers-wrap")&&(g[y].classList.contains("apexcharts-hide")?g[y].classList.remove("apexcharts-hide"):g[y].classList.add("apexcharts-hide"));h.globals.allSeriesCollapsed=h.globals.collapsedSeries.length===h.config.series.length,u=this._getSeriesBasedOnCollapsedState(u),this.lgCtx.ctx.updateHelpers._updateSeries(u,h.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(r,n,l){var h=this.w,u=V.clone(h.config.series);if(r.length>0){for(var d=0;d<r.length;d++)r[d].index===l&&(h.globals.axisCharts?(u[l].data=r[d].data.slice(),r.splice(d,1),n.splice(d,1),h.globals.risingSeries.push(l)):(u[l]=r[d].data,r.splice(d,1),n.splice(d,1),h.globals.risingSeries.push(l)));u=this._getSeriesBasedOnCollapsedState(u),this.lgCtx.ctx.updateHelpers._updateSeries(u,h.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(r){var n=this.w;return n.globals.axisCharts?r.forEach(function(l,h){n.globals.collapsedSeriesIndices.indexOf(h)>-1&&(r[h].data=[])}):r.forEach(function(l,h){n.globals.collapsedSeriesIndices.indexOf(h)>-1&&(r[h]=0)}),r}}]),D}(),dt=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Ke(this)}return f(D,[{key:"init",value:function(){var r=this.w,n=r.globals,l=r.config;if((l.legend.showForSingleSeries&&n.series.length===1||this.isBarsDistributed||n.series.length>1||!n.axisCharts)&&l.legend.show){for(;n.dom.elLegendWrap.firstChild;)n.dom.elLegendWrap.removeChild(n.dom.elLegendWrap.firstChild);this.drawLegends(),V.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),l.legend.position==="bottom"||l.legend.position==="top"?this.legendAlignHorizontal():l.legend.position!=="right"&&l.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var r=this,n=this.w,l=n.config.legend.fontFamily,h=n.globals.seriesNames,u=n.globals.colors.slice();if(n.config.chart.type==="heatmap"){var d=n.config.plotOptions.heatmap.colorScale.ranges;h=d.map(function(he){return he.name?he.name:he.from+" - "+he.to}),u=d.map(function(he){return he.color})}else this.isBarsDistributed&&(h=n.globals.labels.slice());n.config.legend.customLegendItems.length&&(h=n.config.legend.customLegendItems);for(var p=n.globals.legendFormatter,g=n.config.legend.inverseOrder,y=g?h.length-1:0;g?y>=0:y<=h.length-1;g?y--:y++){var x=p(h[y],{seriesIndex:y,w:n}),w=!1,C=!1;if(n.globals.collapsedSeries.length>0)for(var T=0;T<n.globals.collapsedSeries.length;T++)n.globals.collapsedSeries[T].index===y&&(w=!0);if(n.globals.ancillaryCollapsedSeriesIndices.length>0)for(var P=0;P<n.globals.ancillaryCollapsedSeriesIndices.length;P++)n.globals.ancillaryCollapsedSeriesIndices[P]===y&&(C=!0);var M=document.createElement("span");M.classList.add("apexcharts-legend-marker");var B=n.config.legend.markers.offsetX,z=n.config.legend.markers.offsetY,W=n.config.legend.markers.height,v=n.config.legend.markers.width,A=n.config.legend.markers.strokeWidth,E=n.config.legend.markers.strokeColor,F=n.config.legend.markers.radius,j=M.style;j.background=u[y],j.color=u[y],j.setProperty("background",u[y],"important"),n.config.legend.markers.fillColors&&n.config.legend.markers.fillColors[y]&&(j.background=n.config.legend.markers.fillColors[y]),n.globals.seriesColors[y]!==void 0&&(j.background=n.globals.seriesColors[y],j.color=n.globals.seriesColors[y]),j.height=Array.isArray(W)?parseFloat(W[y])+"px":parseFloat(W)+"px",j.width=Array.isArray(v)?parseFloat(v[y])+"px":parseFloat(v)+"px",j.left=(Array.isArray(B)?parseFloat(B[y]):parseFloat(B))+"px",j.top=(Array.isArray(z)?parseFloat(z[y]):parseFloat(z))+"px",j.borderWidth=Array.isArray(A)?A[y]:A,j.borderColor=Array.isArray(E)?E[y]:E,j.borderRadius=Array.isArray(F)?parseFloat(F[y])+"px":parseFloat(F)+"px",n.config.legend.markers.customHTML&&(Array.isArray(n.config.legend.markers.customHTML)?n.config.legend.markers.customHTML[y]&&(M.innerHTML=n.config.legend.markers.customHTML[y]()):M.innerHTML=n.config.legend.markers.customHTML()),H.setAttrs(M,{rel:y+1,"data:collapsed":w||C}),(w||C)&&M.classList.add("apexcharts-inactive-legend");var X=document.createElement("div"),J=document.createElement("span");J.classList.add("apexcharts-legend-text"),J.innerHTML=Array.isArray(x)?x.join(" "):x;var ee=n.config.legend.labels.useSeriesColors?n.globals.colors[y]:n.config.legend.labels.colors;ee||(ee=n.config.chart.foreColor),J.style.color=ee,J.style.fontSize=parseFloat(n.config.legend.fontSize)+"px",J.style.fontWeight=n.config.legend.fontWeight,J.style.fontFamily=l||n.config.chart.fontFamily,H.setAttrs(J,{rel:y+1,i:y,"data:default-text":encodeURIComponent(x),"data:collapsed":w||C}),X.appendChild(M),X.appendChild(J);var se=new re(this.ctx);n.config.legend.showForZeroSeries||se.getSeriesTotalByIndex(y)===0&&se.seriesHaveSameValues(y)&&!se.isSeriesNull(y)&&n.globals.collapsedSeriesIndices.indexOf(y)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(y)===-1&&X.classList.add("apexcharts-hidden-zero-series"),n.config.legend.showForNullSeries||se.isSeriesNull(y)&&n.globals.collapsedSeriesIndices.indexOf(y)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(y)===-1&&X.classList.add("apexcharts-hidden-null-series"),n.globals.dom.elLegendWrap.appendChild(X),n.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(n.config.legend.horizontalAlign)),n.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+n.config.legend.position),X.classList.add("apexcharts-legend-series"),X.style.margin="".concat(n.config.legend.itemMargin.vertical,"px ").concat(n.config.legend.itemMargin.horizontal,"px"),n.globals.dom.elLegendWrap.style.width=n.config.legend.width?n.config.legend.width+"px":"",n.globals.dom.elLegendWrap.style.height=n.config.legend.height?n.config.legend.height+"px":"",H.setAttrs(X,{rel:y+1,seriesName:V.escapeString(h[y]),"data:collapsed":w||C}),(w||C)&&X.classList.add("apexcharts-inactive-legend"),n.config.legend.onItemClick.toggleDataSeries||X.classList.add("apexcharts-no-click")}n.globals.dom.elWrap.addEventListener("click",r.onLegendClick,!0),n.config.legend.onItemHover.highlightDataSeries&&n.config.legend.customLegendItems.length===0&&(n.globals.dom.elWrap.addEventListener("mousemove",r.onLegendHovered,!0),n.globals.dom.elWrap.addEventListener("mouseout",r.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(r,n){var l=this.w,h=l.globals.dom.elLegendWrap,u=h.getBoundingClientRect(),d=0,p=0;if(l.config.legend.position==="bottom")p+=l.globals.svgHeight-u.height/2;else if(l.config.legend.position==="top"){var g=new _e(this.ctx),y=g.dimHelpers.getTitleSubtitleCoords("title").height,x=g.dimHelpers.getTitleSubtitleCoords("subtitle").height;p=p+(y>0?y-10:0)+(x>0?x-10:0)}h.style.position="absolute",d=d+r+l.config.legend.offsetX,p=p+n+l.config.legend.offsetY,h.style.left=d+"px",h.style.top=p+"px",l.config.legend.position==="bottom"?(h.style.top="auto",h.style.bottom=5-l.config.legend.offsetY+"px"):l.config.legend.position==="right"&&(h.style.left="auto",h.style.right=25+l.config.legend.offsetX+"px"),["width","height"].forEach(function(w){h.style[w]&&(h.style[w]=parseInt(l.config.legend[w],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var r=this.w;r.globals.dom.elLegendWrap.style.right=0;var n=this.legendHelpers.getLegendBBox(),l=new _e(this.ctx),h=l.dimHelpers.getTitleSubtitleCoords("title"),u=l.dimHelpers.getTitleSubtitleCoords("subtitle"),d=0;r.config.legend.position==="bottom"?d=-n.clwh/1.8:r.config.legend.position==="top"&&(d=h.height+u.height+r.config.title.margin+r.config.subtitle.margin-10),this.setLegendWrapXY(20,d)}},{key:"legendAlignVertical",value:function(){var r=this.w,n=this.legendHelpers.getLegendBBox(),l=0;r.config.legend.position==="left"&&(l=20),r.config.legend.position==="right"&&(l=r.globals.svgWidth-n.clww-10),this.setLegendWrapXY(l,20)}},{key:"onLegendHovered",value:function(r){var n=this.w,l=r.target.classList.contains("apexcharts-legend-text")||r.target.classList.contains("apexcharts-legend-marker");if(n.config.chart.type==="heatmap"||this.isBarsDistributed){if(l){var h=parseInt(r.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,h,this.w]),new $e(this.ctx).highlightRangeInSeries(r,r.target)}}else!r.target.classList.contains("apexcharts-inactive-legend")&&l&&new $e(this.ctx).toggleSeriesOnHover(r,r.target)}},{key:"onLegendClick",value:function(r){var n=this.w;if(!n.config.legend.customLegendItems.length&&(r.target.classList.contains("apexcharts-legend-text")||r.target.classList.contains("apexcharts-legend-marker"))){var l=parseInt(r.target.getAttribute("rel"),10)-1,h=r.target.getAttribute("data:collapsed")==="true",u=this.w.config.chart.events.legendClick;typeof u=="function"&&u(this.ctx,l,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,l,this.w]);var d=this.w.config.legend.markers.onClick;typeof d=="function"&&r.target.classList.contains("apexcharts-legend-marker")&&(d(this.ctx,l,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,l,this.w])),n.config.chart.type!=="treemap"&&n.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&n.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(l,h)}}}]),D}(),Je=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w;var n=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=n.globals.minX,this.maxX=n.globals.maxX}return f(D,[{key:"createToolbar",value:function(){var r=this,n=this.w,l=function(){return document.createElement("div")},h=l();if(h.setAttribute("class","apexcharts-toolbar"),h.style.top=n.config.chart.toolbar.offsetY+"px",h.style.right=3-n.config.chart.toolbar.offsetX+"px",n.globals.dom.elWrap.appendChild(h),this.elZoom=l(),this.elZoomIn=l(),this.elZoomOut=l(),this.elPan=l(),this.elSelection=l(),this.elZoomReset=l(),this.elMenuIcon=l(),this.elMenu=l(),this.elCustomIcons=[],this.t=n.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var u=0;u<this.t.customIcons.length;u++)this.elCustomIcons.push(l());var d=[],p=function(w,C,T){var P=w.toLowerCase();r.t[P]&&n.config.chart.zoom.enabled&&d.push({el:C,icon:typeof r.t[P]=="string"?r.t[P]:T,title:r.localeValues[w],class:"apexcharts-".concat(P,"-icon")})};p("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),p("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var g=function(w){r.t[w]&&n.config.chart[w].enabled&&d.push({el:w==="zoom"?r.elZoom:r.elSelection,icon:typeof r.t[w]=="string"?r.t[w]:w==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:r.localeValues[w==="zoom"?"selectionZoom":"selection"],class:n.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(w,"-icon")})};g("zoom"),g("selection"),this.t.pan&&n.config.chart.zoom.enabled&&d.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:n.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),p("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&d.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var y=0;y<this.elCustomIcons.length;y++)d.push({el:this.elCustomIcons[y],icon:this.t.customIcons[y].icon,title:this.t.customIcons[y].title,index:this.t.customIcons[y].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[y].class});d.forEach(function(w,C){w.index&&V.moveIndexInArray(d,C,w.index)});for(var x=0;x<d.length;x++)H.setAttrs(d[x].el,{class:d[x].class,title:d[x].title}),d[x].el.innerHTML=d[x].icon,h.appendChild(d[x].el);this._createHamburgerMenu(h),n.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):n.globals.panEnabled?this.elPan.classList.add(this.selectedClass):n.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(r){this.elMenuItems=[],r.appendChild(this.elMenu),H.setAttrs(this.elMenu,{class:"apexcharts-menu"});var n=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||n.splice(2,1);for(var l=0;l<n.length;l++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[l].innerHTML=n[l].title,H.setAttrs(this.elMenuItems[l],{class:"apexcharts-menu-item ".concat(n[l].name),title:n[l].title}),this.elMenu.appendChild(this.elMenuItems[l])}},{key:"addToolbarEventListeners",value:function(){var r=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(l){l.classList.contains("exportSVG")?l.addEventListener("click",r.handleDownload.bind(r,"svg")):l.classList.contains("exportPNG")?l.addEventListener("click",r.handleDownload.bind(r,"png")):l.classList.contains("exportCSV")&&l.addEventListener("click",r.handleDownload.bind(r,"csv"))});for(var n=0;n<this.t.customIcons.length;n++)this.elCustomIcons[n].addEventListener("click",this.t.customIcons[n].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(r){this.ctx.getSyncedCharts().forEach(function(n){n.ctx.toolbar.toggleOtherControls();var l=r==="selection"?n.ctx.toolbar.elSelection:n.ctx.toolbar.elZoom,h=r==="selection"?"selectionEnabled":"zoomEnabled";n.w.globals[h]=!n.w.globals[h],l.classList.contains(n.ctx.toolbar.selectedClass)?l.classList.remove(n.ctx.toolbar.selectedClass):l.classList.add(n.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var r=this.w;this.elZoom||(this.elZoom=r.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=r.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=r.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(r){this.toggleOtherControls(),r==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var n=r==="pan"?this.elPan:this.elZoom,l=r==="pan"?this.elZoom:this.elPan;n&&n.classList.add(this.selectedClass),l&&l.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(r){r.ctx.toolbar.toggleOtherControls(),r.w.globals.panEnabled=!r.w.globals.panEnabled,r.ctx.toolbar.elPan.classList.contains(r.ctx.toolbar.selectedClass)?r.ctx.toolbar.elPan.classList.remove(r.ctx.toolbar.selectedClass):r.ctx.toolbar.elPan.classList.add(r.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var r=this,n=this.w;n.globals.panEnabled=!1,n.globals.zoomEnabled=!1,n.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(l){l&&l.classList.remove(r.selectedClass)})}},{key:"handleZoomIn",value:function(){var r=this.w;r.globals.isRangeBar&&(this.minX=r.globals.minY,this.maxX=r.globals.maxY);var n=(this.minX+this.maxX)/2,l=(this.minX+n)/2,h=(this.maxX+n)/2,u=this._getNewMinXMaxX(l,h);r.globals.disableZoomIn||this.zoomUpdateOptions(u.minX,u.maxX)}},{key:"handleZoomOut",value:function(){var r=this.w;if(r.globals.isRangeBar&&(this.minX=r.globals.minY,this.maxX=r.globals.maxY),!(r.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var n=(this.minX+this.maxX)/2,l=this.minX-(n-this.minX),h=this.maxX-(n-this.maxX),u=this._getNewMinXMaxX(l,h);r.globals.disableZoomOut||this.zoomUpdateOptions(u.minX,u.maxX)}}},{key:"_getNewMinXMaxX",value:function(r,n){var l=this.w.config.xaxis.convertedCatToNumeric;return{minX:l?Math.floor(r):r,maxX:l?Math.floor(n):n}}},{key:"zoomUpdateOptions",value:function(r,n){var l=this.w;if(r!==void 0||n!==void 0){if(!(l.config.xaxis.convertedCatToNumeric&&(r<1&&(r=1,n=l.globals.dataPoints),n-r<2))){var h={min:r,max:n},u=this.getBeforeZoomRange(h);u&&(h=u.xaxis);var d={xaxis:h},p=V.clone(l.globals.initialConfig.yaxis);l.config.chart.zoom.autoScaleYaxis&&(p=new gt(this.ctx).autoScaleY(this.ctx,p,{xaxis:h})),l.config.chart.group||(d.yaxis=p),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(d,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(h,p)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(r,n){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:r,yaxis:n})}},{key:"getBeforeZoomRange",value:function(r,n){var l=null;return typeof this.ev.beforeZoom=="function"&&(l=this.ev.beforeZoom(this,{xaxis:r,yaxis:n})),l}},{key:"toggleMenu",value:function(){var r=this;window.setTimeout(function(){r.elMenu.classList.contains("apexcharts-menu-open")?r.elMenu.classList.remove("apexcharts-menu-open"):r.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(r){var n=this.w,l=new ii(this.ctx);switch(r){case"svg":l.exportToSVG(this.ctx);break;case"png":l.exportToPng(this.ctx);break;case"csv":l.exportToCSV({series:n.config.series,columnDelimiter:n.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(r){this.ctx.getSyncedCharts().forEach(function(n){var l=n.w;if(l.globals.lastXAxis.min=void 0,l.globals.lastXAxis.max=void 0,n.updateHelpers.revertDefaultAxisMinMax(),typeof l.config.chart.events.beforeResetZoom=="function"){var h=l.config.chart.events.beforeResetZoom(n,l);h&&n.updateHelpers.revertDefaultAxisMinMax(h)}typeof l.config.chart.events.zoomed=="function"&&n.ctx.toolbar.zoomCallback({min:l.config.xaxis.min,max:l.config.xaxis.max}),l.globals.zoomed=!1;var u=n.ctx.series.emptyCollapsedSeries(V.clone(l.globals.initialSeries));n.updateHelpers._updateSeries(u,l.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),D}(),Ri=function(D){b(n,Je);var r=I(n);function n(l){var h;return o(this,n),(h=r.call(this,l)).ctx=l,h.w=l.w,h.dragged=!1,h.graphics=new H(h.ctx),h.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],h.clientX=0,h.clientY=0,h.startX=0,h.endX=0,h.dragX=0,h.startY=0,h.endY=0,h.dragY=0,h.moveDirection="none",h}return f(n,[{key:"init",value:function(l){var h=this,u=l.xyRatios,d=this.w,p=this;this.xyRatios=u,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=d.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),d.globals.dom.elGraphical.add(this.zoomRect),d.globals.dom.elGraphical.add(this.selectionRect),d.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:d.globals.gridWidth,maxY:d.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):d.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:d.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=d.globals.dom.baseEl.querySelector("".concat(d.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(g){h.hoverArea.addEventListener(g,p.svgMouseEvents.bind(p,u),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(l,h){var u=this.w,d=this,p=this.ctx.toolbar,g=u.globals.zoomEnabled?u.config.chart.zoom.type:u.config.chart.selection.type,y=u.config.chart.toolbar.autoSelected;if(h.shiftKey?(this.shiftWasPressed=!0,p.enableZoomPanFromToolbar(y==="pan"?"zoom":"pan")):this.shiftWasPressed&&(p.enableZoomPanFromToolbar(y),this.shiftWasPressed=!1),h.target){var x,w=h.target.classList;if(h.target.parentNode&&h.target.parentNode!==null&&(x=h.target.parentNode.classList),!(w.contains("apexcharts-selection-rect")||w.contains("apexcharts-legend-marker")||w.contains("apexcharts-legend-text")||x&&x.contains("apexcharts-toolbar"))){if(d.clientX=h.type==="touchmove"||h.type==="touchstart"?h.touches[0].clientX:h.type==="touchend"?h.changedTouches[0].clientX:h.clientX,d.clientY=h.type==="touchmove"||h.type==="touchstart"?h.touches[0].clientY:h.type==="touchend"?h.changedTouches[0].clientY:h.clientY,h.type==="mousedown"&&h.which===1){var C=d.gridRect.getBoundingClientRect();d.startX=d.clientX-C.left,d.startY=d.clientY-C.top,d.dragged=!1,d.w.globals.mousedown=!0}if((h.type==="mousemove"&&h.which===1||h.type==="touchmove")&&(d.dragged=!0,u.globals.panEnabled?(u.globals.selection=null,d.w.globals.mousedown&&d.panDragging({context:d,zoomtype:g,xyRatios:l})):(d.w.globals.mousedown&&u.globals.zoomEnabled||d.w.globals.mousedown&&u.globals.selectionEnabled)&&(d.selection=d.selectionDrawing({context:d,zoomtype:g}))),h.type==="mouseup"||h.type==="touchend"||h.type==="mouseleave"){var T=d.gridRect.getBoundingClientRect();d.w.globals.mousedown&&(d.endX=d.clientX-T.left,d.endY=d.clientY-T.top,d.dragX=Math.abs(d.endX-d.startX),d.dragY=Math.abs(d.endY-d.startY),(u.globals.zoomEnabled||u.globals.selectionEnabled)&&d.selectionDrawn({context:d,zoomtype:g}),u.globals.panEnabled&&u.config.xaxis.convertedCatToNumeric&&d.delayedPanScrolled()),u.globals.zoomEnabled&&d.hideSelectionRect(this.selectionRect),d.dragged=!1,d.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var l=this.w;if(this.selectionRect){var h=this.selectionRect.node.getBoundingClientRect();h.width>0&&h.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:l.globals.gridWidth,maxY:l.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var l=this.w,h=this.xyRatios;if(!l.globals.zoomEnabled){if(l.globals.selection!==void 0&&l.globals.selection!==null)this.drawSelectionRect(l.globals.selection);else if(l.config.chart.selection.xaxis.min!==void 0&&l.config.chart.selection.xaxis.max!==void 0){var u=(l.config.chart.selection.xaxis.min-l.globals.minX)/h.xRatio,d={x:u,y:0,width:l.globals.gridWidth-(l.globals.maxX-l.config.chart.selection.xaxis.max)/h.xRatio-u,height:l.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(d),this.makeSelectionRectDraggable(),typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(this.ctx,{xaxis:{min:l.config.chart.selection.xaxis.min,max:l.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(l){var h=l.x,u=l.y,d=l.width,p=l.height,g=l.translateX,y=g===void 0?0:g,x=l.translateY,w=x===void 0?0:x,C=this.w,T=this.zoomRect,P=this.selectionRect;if(this.dragged||C.globals.selection!==null){var M={transform:"translate("+y+", "+w+")"};C.globals.zoomEnabled&&this.dragged&&(d<0&&(d=1),T.attr({x:h,y:u,width:d,height:p,fill:C.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":C.config.chart.zoom.zoomedArea.fill.opacity,stroke:C.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":C.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":C.config.chart.zoom.zoomedArea.stroke.opacity}),H.setAttrs(T.node,M)),C.globals.selectionEnabled&&(P.attr({x:h,y:u,width:d>0?d:0,height:p>0?p:0,fill:C.config.chart.selection.fill.color,"fill-opacity":C.config.chart.selection.fill.opacity,stroke:C.config.chart.selection.stroke.color,"stroke-width":C.config.chart.selection.stroke.width,"stroke-dasharray":C.config.chart.selection.stroke.dashArray,"stroke-opacity":C.config.chart.selection.stroke.opacity}),H.setAttrs(P.node,M))}}},{key:"hideSelectionRect",value:function(l){l&&l.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(l){var h=l.context,u=l.zoomtype,d=this.w,p=h,g=this.gridRect.getBoundingClientRect(),y=p.startX-1,x=p.startY,w=!1,C=!1,T=p.clientX-g.left-y,P=p.clientY-g.top-x,M={};return Math.abs(T+y)>d.globals.gridWidth?T=d.globals.gridWidth-y:p.clientX-g.left<0&&(T=y),y>p.clientX-g.left&&(w=!0,T=Math.abs(T)),x>p.clientY-g.top&&(C=!0,P=Math.abs(P)),M=u==="x"?{x:w?y-T:y,y:0,width:T,height:d.globals.gridHeight}:u==="y"?{x:0,y:C?x-P:x,width:d.globals.gridWidth,height:P}:{x:w?y-T:y,y:C?x-P:x,width:T,height:P},p.drawSelectionRect(M),p.selectionDragging("resizing"),M}},{key:"selectionDragging",value:function(l,h){var u=this,d=this.w,p=this.xyRatios,g=this.selectionRect,y=0;l==="resizing"&&(y=30);var x=function(C){return parseFloat(g.node.getAttribute(C))},w={x:x("x"),y:x("y"),width:x("width"),height:x("height")};d.globals.selection=w,typeof d.config.chart.events.selection=="function"&&d.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var C=u.gridRect.getBoundingClientRect(),T=g.node.getBoundingClientRect(),P={xaxis:{min:d.globals.xAxisScale.niceMin+(T.left-C.left)*p.xRatio,max:d.globals.xAxisScale.niceMin+(T.right-C.left)*p.xRatio},yaxis:{min:d.globals.yAxisScale[0].niceMin+(C.bottom-T.bottom)*p.yRatio[0],max:d.globals.yAxisScale[0].niceMax-(T.top-C.top)*p.yRatio[0]}};d.config.chart.events.selection(u.ctx,P),d.config.chart.brush.enabled&&d.config.chart.events.brushScrolled!==void 0&&d.config.chart.events.brushScrolled(u.ctx,P)},y))}},{key:"selectionDrawn",value:function(l){var h=l.context,u=l.zoomtype,d=this.w,p=h,g=this.xyRatios,y=this.ctx.toolbar;if(p.startX>p.endX){var x=p.startX;p.startX=p.endX,p.endX=x}if(p.startY>p.endY){var w=p.startY;p.startY=p.endY,p.endY=w}var C=void 0,T=void 0;d.globals.isRangeBar?(C=d.globals.yAxisScale[0].niceMin+p.startX*g.invertedYRatio,T=d.globals.yAxisScale[0].niceMin+p.endX*g.invertedYRatio):(C=d.globals.xAxisScale.niceMin+p.startX*g.xRatio,T=d.globals.xAxisScale.niceMin+p.endX*g.xRatio);var P=[],M=[];if(d.config.yaxis.forEach(function(j,X){P.push(d.globals.yAxisScale[X].niceMax-g.yRatio[X]*p.startY),M.push(d.globals.yAxisScale[X].niceMax-g.yRatio[X]*p.endY)}),p.dragged&&(p.dragX>10||p.dragY>10)&&C!==T){if(d.globals.zoomEnabled){var B=V.clone(d.globals.initialConfig.yaxis),z=V.clone(d.globals.initialConfig.xaxis);if(d.globals.zoomed=!0,d.config.xaxis.convertedCatToNumeric&&(C=Math.floor(C),T=Math.floor(T),C<1&&(C=1,T=d.globals.dataPoints),T-C<2&&(T=C+1)),u!=="xy"&&u!=="x"||(z={min:C,max:T}),u!=="xy"&&u!=="y"||B.forEach(function(j,X){B[X].min=M[X],B[X].max=P[X]}),d.config.chart.zoom.autoScaleYaxis){var W=new gt(p.ctx);B=W.autoScaleY(p.ctx,B,{xaxis:z})}if(y){var v=y.getBeforeZoomRange(z,B);v&&(z=v.xaxis?v.xaxis:z,B=v.yaxis?v.yaxis:B)}var A={xaxis:z};d.config.chart.group||(A.yaxis=B),p.ctx.updateHelpers._updateOptions(A,!1,p.w.config.chart.animations.dynamicAnimation.enabled),typeof d.config.chart.events.zoomed=="function"&&y.zoomCallback(z,B)}else if(d.globals.selectionEnabled){var E,F=null;E={min:C,max:T},u!=="xy"&&u!=="y"||(F=V.clone(d.config.yaxis)).forEach(function(j,X){F[X].min=M[X],F[X].max=P[X]}),d.globals.selection=p.selection,typeof d.config.chart.events.selection=="function"&&d.config.chart.events.selection(p.ctx,{xaxis:E,yaxis:F})}}}},{key:"panDragging",value:function(l){var h=l.context,u=this.w,d=h;if(u.globals.lastClientPosition.x!==void 0){var p=u.globals.lastClientPosition.x-d.clientX,g=u.globals.lastClientPosition.y-d.clientY;Math.abs(p)>Math.abs(g)&&p>0?this.moveDirection="left":Math.abs(p)>Math.abs(g)&&p<0?this.moveDirection="right":Math.abs(g)>Math.abs(p)&&g>0?this.moveDirection="up":Math.abs(g)>Math.abs(p)&&g<0&&(this.moveDirection="down")}u.globals.lastClientPosition={x:d.clientX,y:d.clientY};var y=u.globals.isRangeBar?u.globals.minY:u.globals.minX,x=u.globals.isRangeBar?u.globals.maxY:u.globals.maxX;u.config.xaxis.convertedCatToNumeric||d.panScrolled(y,x)}},{key:"delayedPanScrolled",value:function(){var l=this.w,h=l.globals.minX,u=l.globals.maxX,d=(l.globals.maxX-l.globals.minX)/2;this.moveDirection==="left"?(h=l.globals.minX+d,u=l.globals.maxX+d):this.moveDirection==="right"&&(h=l.globals.minX-d,u=l.globals.maxX-d),h=Math.floor(h),u=Math.floor(u),this.updateScrolledChart({xaxis:{min:h,max:u}},h,u)}},{key:"panScrolled",value:function(l,h){var u=this.w,d=this.xyRatios,p=V.clone(u.globals.initialConfig.yaxis),g=d.xRatio,y=u.globals.minX,x=u.globals.maxX;u.globals.isRangeBar&&(g=d.invertedYRatio,y=u.globals.minY,x=u.globals.maxY),this.moveDirection==="left"?(l=y+u.globals.gridWidth/15*g,h=x+u.globals.gridWidth/15*g):this.moveDirection==="right"&&(l=y-u.globals.gridWidth/15*g,h=x-u.globals.gridWidth/15*g),u.globals.isRangeBar||(l<u.globals.initialMinX||h>u.globals.initialMaxX)&&(l=y,h=x);var w={min:l,max:h};u.config.chart.zoom.autoScaleYaxis&&(p=new gt(this.ctx).autoScaleY(this.ctx,p,{xaxis:w}));var C={xaxis:{min:l,max:h}};u.config.chart.group||(C.yaxis=p),this.updateScrolledChart(C,l,h)}},{key:"updateScrolledChart",value:function(l,h,u){var d=this.w;this.ctx.updateHelpers._updateOptions(l,!1,!1),typeof d.config.chart.events.scrolled=="function"&&d.config.chart.events.scrolled(this.ctx,{xaxis:{min:h,max:u}})}}]),n}(),ji=function(){function D(r){o(this,D),this.w=r.w,this.ttCtx=r,this.ctx=r.ctx}return f(D,[{key:"getNearestValues",value:function(r){var n=r.hoverArea,l=r.elGrid,h=r.clientX,u=r.clientY,d=this.w,p=l.getBoundingClientRect(),g=p.width,y=p.height,x=g/(d.globals.dataPoints-1),w=y/d.globals.dataPoints,C=this.hasBars();!d.globals.comboCharts&&!C||d.config.xaxis.convertedCatToNumeric||(x=g/d.globals.dataPoints);var T=h-p.left-d.globals.barPadForNumericAxis,P=u-p.top;T<0||P<0||T>g||P>y?(n.classList.remove("hovering-zoom"),n.classList.remove("hovering-pan")):d.globals.zoomEnabled?(n.classList.remove("hovering-pan"),n.classList.add("hovering-zoom")):d.globals.panEnabled&&(n.classList.remove("hovering-zoom"),n.classList.add("hovering-pan"));var M=Math.round(T/x),B=Math.floor(P/w);C&&!d.config.xaxis.convertedCatToNumeric&&(M=Math.ceil(T/x),M-=1);var z=null,W=null,v=[],A=[];if(d.globals.seriesXvalues.forEach(function(X){v.push([X[0]+1e-6].concat(X))}),d.globals.seriesYvalues.forEach(function(X){A.push([X[0]+1e-6].concat(X))}),v=v.map(function(X){return X.filter(function(J){return V.isNumber(J)})}),A=A.map(function(X){return X.filter(function(J){return V.isNumber(J)})}),d.globals.isXNumeric){var E=this.ttCtx.getElGrid().getBoundingClientRect(),F=T*(E.width/g),j=P*(E.height/y);z=(W=this.closestInMultiArray(F,j,v,A)).index,M=W.j,z!==null&&(v=d.globals.seriesXvalues[z],M=(W=this.closestInArray(F,v)).index)}return d.globals.capturedSeriesIndex=z===null?-1:z,(!M||M<1)&&(M=0),d.globals.isBarHorizontal?d.globals.capturedDataPointIndex=B:d.globals.capturedDataPointIndex=M,{capturedSeries:z,j:d.globals.isBarHorizontal?B:M,hoverX:T,hoverY:P}}},{key:"closestInMultiArray",value:function(r,n,l,h){var u=this.w,d=0,p=null,g=-1;u.globals.series.length>1?d=this.getFirstActiveXArray(l):p=0;var y=l[d][0],x=Math.abs(r-y);if(l.forEach(function(T){T.forEach(function(P,M){var B=Math.abs(r-P);B<x&&(x=B,g=M)})}),g!==-1){var w=h[d][g],C=Math.abs(n-w);p=d,h.forEach(function(T,P){var M=Math.abs(n-T[g]);M<C&&(C=M,p=P)})}return{index:p,j:g}}},{key:"getFirstActiveXArray",value:function(r){for(var n=this.w,l=0,h=r.map(function(d,p){return d.length>0?p:-1}),u=0;u<h.length;u++)if(h[u]!==-1&&n.globals.collapsedSeriesIndices.indexOf(u)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(u)===-1){l=h[u];break}return l}},{key:"closestInArray",value:function(r,n){for(var l=n[0],h=null,u=Math.abs(r-l),d=0;d<n.length;d++){var p=Math.abs(r-n[d]);p<u&&(u=p,h=d)}return{index:h}}},{key:"isXoverlap",value:function(r){var n=[],l=this.w.globals.seriesX.filter(function(u){return u[0]!==void 0});if(l.length>0)for(var h=0;h<l.length-1;h++)l[h][r]!==void 0&&l[h+1][r]!==void 0&&l[h][r]!==l[h+1][r]&&n.push("unEqual");return n.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var r=!0,n=this.w.globals.initialSeries,l=0;l<n.length-1;l++)if(n[l].data.length!==n[l+1].data.length){r=!1;break}return r}},{key:"getBarsHeight",value:function(r){return N(r).reduce(function(n,l){return n+l.getBBox().height},0)}},{key:"getElMarkers",value:function(r){return typeof r=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(r,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(r=N(r)).sort(function(l,h){var u=Number(l.getAttribute("data:realIndex")),d=Number(h.getAttribute("data:realIndex"));return d<u?1:d>u?-1:0});var n=[];return r.forEach(function(l){n.push(l.querySelector(".apexcharts-marker"))}),n}},{key:"hasMarkers",value:function(r){return this.getElMarkers(r).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(r){var n=this.w,l=n.config.markers.hover.size;return l===void 0&&(l=n.globals.markers.size[r]+n.config.markers.hover.sizeOffset),l}},{key:"toggleAllTooltipSeriesGroups",value:function(r){var n=this.w,l=this.ttCtx;l.allTooltipSeriesGroups.length===0&&(l.allTooltipSeriesGroups=n.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var h=l.allTooltipSeriesGroups,u=0;u<h.length;u++)r==="enable"?(h[u].classList.add("apexcharts-active"),h[u].style.display=n.config.tooltip.items.display):(h[u].classList.remove("apexcharts-active"),h[u].style.display="none")}}]),D}(),lr=function(){function D(r){o(this,D),this.w=r.w,this.ctx=r.ctx,this.ttCtx=r,this.tooltipUtil=new ji(r)}return f(D,[{key:"drawSeriesTexts",value:function(r){var n=r.shared,l=n===void 0||n,h=r.ttItems,u=r.i,d=u===void 0?0:u,p=r.j,g=p===void 0?null:p,y=r.y1,x=r.y2,w=r.e,C=this.w;C.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:d,j:g,y1:y,y2:x,w:C}):this.toggleActiveInactiveSeries(l);var T=this.getValuesToPrint({i:d,j:g});this.printLabels({i:d,j:g,values:T,ttItems:h,shared:l,e:w});var P=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=P.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=P.getBoundingClientRect().height}},{key:"printLabels",value:function(r){var n,l=this,h=r.i,u=r.j,d=r.values,p=r.ttItems,g=r.shared,y=r.e,x=this.w,w=[],C=function(E){return x.globals.seriesGoals[E]&&x.globals.seriesGoals[E][u]&&Array.isArray(x.globals.seriesGoals[E][u])},T=d.xVal,P=d.zVal,M=d.xAxisTTVal,B="",z=x.globals.colors[h];u!==null&&x.config.plotOptions.bar.distributed&&(z=x.globals.colors[u]);for(var W=function(E,F){var j=l.getFormatters(h);B=l.getSeriesName({fn:j.yLbTitleFormatter,index:h,seriesIndex:h,j:u}),x.config.chart.type==="treemap"&&(B=j.yLbTitleFormatter(String(x.config.series[h].data[u].x),{series:x.globals.series,seriesIndex:h,dataPointIndex:u,w:x}));var X=x.config.tooltip.inverseOrder?F:E;if(x.globals.axisCharts){var J=function(he){var ce,ge,Te,Re;return x.globals.isRangeData?j.yLbFormatter((ce=x.globals.seriesRangeStart)===null||ce===void 0||(ge=ce[he])===null||ge===void 0?void 0:ge[u],{series:x.globals.seriesRangeStart,seriesIndex:he,dataPointIndex:u,w:x})+" - "+j.yLbFormatter((Te=x.globals.seriesRangeEnd)===null||Te===void 0||(Re=Te[he])===null||Re===void 0?void 0:Re[u],{series:x.globals.seriesRangeEnd,seriesIndex:he,dataPointIndex:u,w:x}):j.yLbFormatter(x.globals.series[he][u],{series:x.globals.series,seriesIndex:he,dataPointIndex:u,w:x})};if(g)j=l.getFormatters(X),B=l.getSeriesName({fn:j.yLbTitleFormatter,index:X,seriesIndex:h,j:u}),z=x.globals.colors[X],n=J(X),C(X)&&(w=x.globals.seriesGoals[X][u].map(function(he){return{attrs:he,val:j.yLbFormatter(he.value,{seriesIndex:X,dataPointIndex:u,w:x})}}));else{var ee,se=y==null||(ee=y.target)===null||ee===void 0?void 0:ee.getAttribute("fill");se&&(z=se.indexOf("url")!==-1?document.querySelector(se.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):se),n=J(h),C(h)&&Array.isArray(x.globals.seriesGoals[h][u])&&(w=x.globals.seriesGoals[h][u].map(function(he){return{attrs:he,val:j.yLbFormatter(he.value,{seriesIndex:h,dataPointIndex:u,w:x})}}))}}u===null&&(n=j.yLbFormatter(x.globals.series[h],i(i({},x),{},{seriesIndex:h,dataPointIndex:h}))),l.DOMHandling({i:h,t:X,j:u,ttItems:p,values:{val:n,goalVals:w,xVal:T,xAxisTTVal:M,zVal:P},seriesName:B,shared:g,pColor:z})},v=0,A=x.globals.series.length-1;v<x.globals.series.length;v++,A--)W(v,A)}},{key:"getFormatters",value:function(r){var n,l=this.w,h=l.globals.yLabelFormatters[r];return l.globals.ttVal!==void 0?Array.isArray(l.globals.ttVal)?(h=l.globals.ttVal[r]&&l.globals.ttVal[r].formatter,n=l.globals.ttVal[r]&&l.globals.ttVal[r].title&&l.globals.ttVal[r].title.formatter):(h=l.globals.ttVal.formatter,typeof l.globals.ttVal.title.formatter=="function"&&(n=l.globals.ttVal.title.formatter)):n=l.config.tooltip.y.title.formatter,typeof h!="function"&&(h=l.globals.yLabelFormatters[0]?l.globals.yLabelFormatters[0]:function(u){return u}),typeof n!="function"&&(n=function(u){return u}),{yLbFormatter:h,yLbTitleFormatter:n}}},{key:"getSeriesName",value:function(r){var n=r.fn,l=r.index,h=r.seriesIndex,u=r.j,d=this.w;return n(String(d.globals.seriesNames[l]),{series:d.globals.series,seriesIndex:h,dataPointIndex:u,w:d})}},{key:"DOMHandling",value:function(r){r.i;var n=r.t,l=r.j,h=r.ttItems,u=r.values,d=r.seriesName,p=r.shared,g=r.pColor,y=this.w,x=this.ttCtx,w=u.val,C=u.goalVals,T=u.xVal,P=u.xAxisTTVal,M=u.zVal,B=null;B=h[n].children,y.config.tooltip.fillSeriesColor&&(h[n].style.backgroundColor=g,B[0].style.display="none"),x.showTooltipTitle&&(x.tooltipTitle===null&&(x.tooltipTitle=y.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),x.tooltipTitle.innerHTML=T),x.isXAxisTooltipEnabled&&(x.xaxisTooltipText.innerHTML=P!==""?P:T);var z=h[n].querySelector(".apexcharts-tooltip-text-y-label");z&&(z.innerHTML=d||"");var W=h[n].querySelector(".apexcharts-tooltip-text-y-value");W&&(W.innerHTML=w!==void 0?w:""),B[0]&&B[0].classList.contains("apexcharts-tooltip-marker")&&(y.config.tooltip.marker.fillColors&&Array.isArray(y.config.tooltip.marker.fillColors)&&(g=y.config.tooltip.marker.fillColors[n]),B[0].style.backgroundColor=g),y.config.tooltip.marker.show||(B[0].style.display="none");var v=h[n].querySelector(".apexcharts-tooltip-text-goals-label"),A=h[n].querySelector(".apexcharts-tooltip-text-goals-value");if(C.length&&y.globals.seriesGoals[n]){var E=function(){var F="<div >",j="<div>";C.forEach(function(X,J){F+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(X.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(X.attrs.name,"</div>"),j+="<div>".concat(X.val,"</div>")}),v.innerHTML=F+"</div>",A.innerHTML=j+"</div>"};p?y.globals.seriesGoals[n][l]&&Array.isArray(y.globals.seriesGoals[n][l])?E():(v.innerHTML="",A.innerHTML=""):E()}else v.innerHTML="",A.innerHTML="";M!==null&&(h[n].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=y.config.tooltip.z.title,h[n].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=M!==void 0?M:""),p&&B[0]&&(w==null||y.globals.ancillaryCollapsedSeriesIndices.indexOf(n)>-1||y.globals.collapsedSeriesIndices.indexOf(n)>-1?B[0].parentNode.style.display="none":B[0].parentNode.style.display=y.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(r){var n=this.w;if(r)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var l=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");l&&(l.classList.add("apexcharts-active"),l.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(r){var n=r.i,l=r.j,h=this.w,u=this.ctx.series.filteredSeriesX(),d="",p="",g=null,y=null,x={series:h.globals.series,seriesIndex:n,dataPointIndex:l,w:h},w=h.globals.ttZFormatter;l===null?y=h.globals.series[n]:h.globals.isXNumeric&&h.config.chart.type!=="treemap"?(d=u[n][l],u[n].length===0&&(d=u[this.tooltipUtil.getFirstActiveXArray(u)][l])):d=h.globals.labels[l]!==void 0?h.globals.labels[l]:"";var C=d;return h.globals.isXNumeric&&h.config.xaxis.type==="datetime"?d=new Ae(this.ctx).xLabelFormat(h.globals.ttKeyFormatter,C,C,{i:void 0,dateFormatter:new le(this.ctx).formatDate,w:this.w}):d=h.globals.isBarHorizontal?h.globals.yLabelFormatters[0](C,x):h.globals.xLabelFormatter(C,x),h.config.tooltip.x.formatter!==void 0&&(d=h.globals.ttKeyFormatter(C,x)),h.globals.seriesZ.length>0&&h.globals.seriesZ[n].length>0&&(g=w(h.globals.seriesZ[n][l],h)),p=typeof h.config.xaxis.tooltip.formatter=="function"?h.globals.xaxisTooltipFormatter(C,x):d,{val:Array.isArray(y)?y.join(" "):y,xVal:Array.isArray(d)?d.join(" "):d,xAxisTTVal:Array.isArray(p)?p.join(" "):p,zVal:g}}},{key:"handleCustomTooltip",value:function(r){var n=r.i,l=r.j,h=r.y1,u=r.y2,d=r.w,p=this.ttCtx.getElTooltip(),g=d.config.tooltip.custom;Array.isArray(g)&&g[n]&&(g=g[n]),p.innerHTML=g({ctx:this.ctx,series:d.globals.series,seriesIndex:n,dataPointIndex:l,y1:h,y2:u,w:d})}}]),D}(),ms=function(){function D(r){o(this,D),this.ttCtx=r,this.ctx=r.ctx,this.w=r.w}return f(D,[{key:"moveXCrosshairs",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=this.ttCtx,h=this.w,u=l.getElXCrosshairs(),d=r-l.xcrosshairsWidth/2,p=h.globals.labels.slice().length;if(n!==null&&(d=h.globals.gridWidth/p*n),u===null||h.globals.isBarHorizontal||(u.setAttribute("x",d),u.setAttribute("x1",d),u.setAttribute("x2",d),u.setAttribute("y2",h.globals.gridHeight),u.classList.add("apexcharts-active")),d<0&&(d=0),d>h.globals.gridWidth&&(d=h.globals.gridWidth),l.isXAxisTooltipEnabled){var g=d;h.config.xaxis.crosshairs.width!=="tickWidth"&&h.config.xaxis.crosshairs.width!=="barWidth"||(g=d+l.xcrosshairsWidth/2),this.moveXAxisTooltip(g)}}},{key:"moveYCrosshairs",value:function(r){var n=this.ttCtx;n.ycrosshairs!==null&&H.setAttrs(n.ycrosshairs,{y1:r,y2:r}),n.ycrosshairsHidden!==null&&H.setAttrs(n.ycrosshairsHidden,{y1:r,y2:r})}},{key:"moveXAxisTooltip",value:function(r){var n=this.w,l=this.ttCtx;if(l.xaxisTooltip!==null&&l.xcrosshairsWidth!==0){l.xaxisTooltip.classList.add("apexcharts-active");var h=l.xaxisOffY+n.config.xaxis.tooltip.offsetY+n.globals.translateY+1+n.config.xaxis.offsetY;if(r-=l.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(r)){r+=n.globals.translateX;var u;u=new H(this.ctx).getTextRects(l.xaxisTooltipText.innerHTML),l.xaxisTooltipText.style.minWidth=u.width+"px",l.xaxisTooltip.style.left=r+"px",l.xaxisTooltip.style.top=h+"px"}}}},{key:"moveYAxisTooltip",value:function(r){var n=this.w,l=this.ttCtx;l.yaxisTTEls===null&&(l.yaxisTTEls=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var h=parseInt(l.ycrosshairsHidden.getAttribute("y1"),10),u=n.globals.translateY+h,d=l.yaxisTTEls[r].getBoundingClientRect().height,p=n.globals.translateYAxisX[r]-2;n.config.yaxis[r].opposite&&(p-=26),u-=d/2,n.globals.ignoreYAxisIndexes.indexOf(r)===-1?(l.yaxisTTEls[r].classList.add("apexcharts-active"),l.yaxisTTEls[r].style.top=u+"px",l.yaxisTTEls[r].style.left=p+n.config.yaxis[r].tooltip.offsetX+"px"):l.yaxisTTEls[r].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(r,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,h=this.w,u=this.ttCtx,d=u.getElTooltip(),p=u.tooltipRect,g=l!==null?parseFloat(l):1,y=parseFloat(r)+g+5,x=parseFloat(n)+g/2;if(y>h.globals.gridWidth/2&&(y=y-p.ttWidth-g-10),y>h.globals.gridWidth-p.ttWidth-10&&(y=h.globals.gridWidth-p.ttWidth),y<-20&&(y=-20),h.config.tooltip.followCursor){var w=u.getElGrid().getBoundingClientRect();(y=u.e.clientX-w.left)>h.globals.gridWidth/2&&(y-=u.tooltipRect.ttWidth),(x=u.e.clientY+h.globals.translateY-w.top)>h.globals.gridHeight/2&&(x-=u.tooltipRect.ttHeight)}else h.globals.isBarHorizontal||p.ttHeight/2+x>h.globals.gridHeight&&(x=h.globals.gridHeight-p.ttHeight+h.globals.translateY);isNaN(y)||(y+=h.globals.translateX,d.style.left=y+"px",d.style.top=x+"px")}},{key:"moveMarkers",value:function(r,n){var l=this.w,h=this.ttCtx;if(l.globals.markers.size[r]>0)for(var u=l.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(r,"'] .apexcharts-marker")),d=0;d<u.length;d++)parseInt(u[d].getAttribute("rel"),10)===n&&(h.marker.resetPointsSize(),h.marker.enlargeCurrentPoint(n,u[d]));else h.marker.resetPointsSize(),this.moveDynamicPointOnHover(n,r)}},{key:"moveDynamicPointOnHover",value:function(r,n){var l,h,u=this.w,d=this.ttCtx,p=u.globals.pointsArray,g=d.tooltipUtil.getHoverMarkerSize(n),y=u.config.series[n].type;if(!y||y!=="column"&&y!=="candlestick"&&y!=="boxPlot"){l=p[n][r][0],h=p[n][r][1]?p[n][r][1]:0;var x=u.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-series-markers circle"));x&&h<u.globals.gridHeight&&h>0&&(x.setAttribute("r",g),x.setAttribute("cx",l),x.setAttribute("cy",h)),this.moveXCrosshairs(l),d.fixedTooltip||this.moveTooltip(l,h,g)}}},{key:"moveDynamicPointsOnHover",value:function(r){var n,l=this.ttCtx,h=l.w,u=0,d=0,p=h.globals.pointsArray;n=new $e(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var g=l.tooltipUtil.getHoverMarkerSize(n);p[n]&&(u=p[n][r][0],d=p[n][r][1]);var y=l.tooltipUtil.getAllMarkers();if(y!==null)for(var x=0;x<h.globals.series.length;x++){var w=p[x];if(h.globals.comboCharts&&w===void 0&&y.splice(x,0,null),w&&w.length){var C=p[x][r][1],T=void 0;if(y[x].setAttribute("cx",u),h.config.chart.type==="rangeArea"&&!h.globals.comboCharts){var P=r+h.globals.series[x].length;T=p[x][P][1],C-=Math.abs(C-T)/2}C!==null&&!isNaN(C)&&C<h.globals.gridHeight+g&&C+g>0?(y[x]&&y[x].setAttribute("r",g),y[x]&&y[x].setAttribute("cy",C)):y[x]&&y[x].setAttribute("r",0)}}this.moveXCrosshairs(u),l.fixedTooltip||this.moveTooltip(u,d||h.globals.gridHeight,g)}},{key:"moveStickyTooltipOverBars",value:function(r,n){var l=this.w,h=this.ttCtx,u=l.globals.columnSeries?l.globals.columnSeries.length:l.globals.series.length,d=u>=2&&u%2==0?Math.floor(u/2):Math.floor(u/2)+1;l.globals.isBarHorizontal&&(d=new $e(this.ctx).getActiveConfigSeriesIndex("desc")+1);var p=l.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(d,"'] path[j='").concat(r,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(r,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(r,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(r,"']"));p||typeof n!="number"||(p=l.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(n,"'] path[j='").concat(r,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(n,"'] path[j='").concat(r,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(n,"'] path[j='").concat(r,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(n,"'] path[j='").concat(r,"']")));var g=p?parseFloat(p.getAttribute("cx")):0,y=p?parseFloat(p.getAttribute("cy")):0,x=p?parseFloat(p.getAttribute("barWidth")):0,w=h.getElGrid().getBoundingClientRect(),C=p&&(p.classList.contains("apexcharts-candlestick-area")||p.classList.contains("apexcharts-boxPlot-area"));l.globals.isXNumeric?(p&&!C&&(g-=u%2!=0?x/2:0),p&&C&&l.globals.comboCharts&&(g-=x/2)):l.globals.isBarHorizontal||(g=h.xAxisTicksPositions[r-1]+h.dataPointsDividedWidth/2,isNaN(g)&&(g=h.xAxisTicksPositions[r]-h.dataPointsDividedWidth/2)),l.globals.isBarHorizontal?y-=h.tooltipRect.ttHeight:l.config.tooltip.followCursor?y=h.e.clientY-w.top-h.tooltipRect.ttHeight/2:y+h.tooltipRect.ttHeight+15>l.globals.gridHeight&&(y=l.globals.gridHeight),l.globals.isBarHorizontal||this.moveXCrosshairs(g),h.fixedTooltip||this.moveTooltip(g,y||l.globals.gridHeight)}}]),D}(),rn=function(){function D(r){o(this,D),this.w=r.w,this.ttCtx=r,this.ctx=r.ctx,this.tooltipPosition=new ms(r)}return f(D,[{key:"drawDynamicPoints",value:function(){var r=this.w,n=new H(this.ctx),l=new rt(this.ctx),h=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series");h=N(h),r.config.chart.stacked&&h.sort(function(w,C){return parseFloat(w.getAttribute("data:realIndex"))-parseFloat(C.getAttribute("data:realIndex"))});for(var u=0;u<h.length;u++){var d=h[u].querySelector(".apexcharts-series-markers-wrap");if(d!==null){var p=void 0,g="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));r.config.chart.type!=="line"&&r.config.chart.type!=="area"||r.globals.comboCharts||r.config.tooltip.intersect||(g+=" no-pointer-events");var y=l.getMarkerConfig({cssClass:g,seriesIndex:Number(d.getAttribute("data:realIndex"))});(p=n.drawMarker(0,0,y)).node.setAttribute("default-marker-size",0);var x=document.createElementNS(r.globals.SVGNS,"g");x.classList.add("apexcharts-series-markers"),x.appendChild(p.node),d.appendChild(x)}}}},{key:"enlargeCurrentPoint",value:function(r,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=this.w;u.config.chart.type!=="bubble"&&this.newPointSize(r,n);var d=n.getAttribute("cx"),p=n.getAttribute("cy");if(l!==null&&h!==null&&(d=l,p=h),this.tooltipPosition.moveXCrosshairs(d),!this.fixedTooltip){if(u.config.chart.type==="radar"){var g=this.ttCtx.getElGrid().getBoundingClientRect();d=this.ttCtx.e.clientX-g.left}this.tooltipPosition.moveTooltip(d,p,u.config.markers.hover.size)}}},{key:"enlargePoints",value:function(r){for(var n=this.w,l=this,h=this.ttCtx,u=r,d=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),p=n.config.markers.hover.size,g=0;g<d.length;g++){var y=d[g].getAttribute("rel"),x=d[g].getAttribute("index");if(p===void 0&&(p=n.globals.markers.size[x]+n.config.markers.hover.sizeOffset),u===parseInt(y,10)){l.newPointSize(u,d[g]);var w=d[g].getAttribute("cx"),C=d[g].getAttribute("cy");l.tooltipPosition.moveXCrosshairs(w),h.fixedTooltip||l.tooltipPosition.moveTooltip(w,C,p)}else l.oldPointSize(d[g])}}},{key:"newPointSize",value:function(r,n){var l=this.w,h=l.config.markers.hover.size,u=r===0?n.parentNode.firstChild:n.parentNode.lastChild;if(u.getAttribute("default-marker-size")!=="0"){var d=parseInt(u.getAttribute("index"),10);h===void 0&&(h=l.globals.markers.size[d]+l.config.markers.hover.sizeOffset),h<0&&(h=0),u.setAttribute("r",h)}}},{key:"oldPointSize",value:function(r){var n=parseFloat(r.getAttribute("default-marker-size"));r.setAttribute("r",n)}},{key:"resetPointsSize",value:function(){for(var r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),n=0;n<r.length;n++){var l=parseFloat(r[n].getAttribute("default-marker-size"));V.isNumber(l)&&l>=0?r[n].setAttribute("r",l):r[n].setAttribute("r",0)}}}]),D}(),Yl=function(){function D(r){o(this,D),this.w=r.w;var n=this.w;this.ttCtx=r,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&n.config.chart.type==="rangeBar"&&n.config.plotOptions.bar.rangeBarGroupRows}return f(D,[{key:"getAttr",value:function(r,n){return parseFloat(r.target.getAttribute(n))}},{key:"handleHeatTreeTooltip",value:function(r){var n=r.e,l=r.opt,h=r.x,u=r.y,d=r.type,p=this.ttCtx,g=this.w;if(n.target.classList.contains("apexcharts-".concat(d,"-rect"))){var y=this.getAttr(n,"i"),x=this.getAttr(n,"j"),w=this.getAttr(n,"cx"),C=this.getAttr(n,"cy"),T=this.getAttr(n,"width"),P=this.getAttr(n,"height");if(p.tooltipLabels.drawSeriesTexts({ttItems:l.ttItems,i:y,j:x,shared:!1,e:n}),g.globals.capturedSeriesIndex=y,g.globals.capturedDataPointIndex=x,h=w+p.tooltipRect.ttWidth/2+T,u=C+p.tooltipRect.ttHeight/2-P/2,p.tooltipPosition.moveXCrosshairs(w+T/2),h>g.globals.gridWidth/2&&(h=w-p.tooltipRect.ttWidth/2+T),p.w.config.tooltip.followCursor){var M=g.globals.dom.elWrap.getBoundingClientRect();h=g.globals.clientX-M.left-(h>g.globals.gridWidth/2?p.tooltipRect.ttWidth:0),u=g.globals.clientY-M.top-(u>g.globals.gridHeight/2?p.tooltipRect.ttHeight:0)}}return{x:h,y:u}}},{key:"handleMarkerTooltip",value:function(r){var n,l,h=r.e,u=r.opt,d=r.x,p=r.y,g=this.w,y=this.ttCtx;if(h.target.classList.contains("apexcharts-marker")){var x=parseInt(u.paths.getAttribute("cx"),10),w=parseInt(u.paths.getAttribute("cy"),10),C=parseFloat(u.paths.getAttribute("val"));if(l=parseInt(u.paths.getAttribute("rel"),10),n=parseInt(u.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,y.intersect){var T=V.findAncestor(u.paths,"apexcharts-series");T&&(n=parseInt(T.getAttribute("data:realIndex"),10))}if(y.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:n,j:l,shared:!y.showOnIntersect&&g.config.tooltip.shared,e:h}),h.type==="mouseup"&&y.markerClick(h,n,l),g.globals.capturedSeriesIndex=n,g.globals.capturedDataPointIndex=l,d=x,p=w+g.globals.translateY-1.4*y.tooltipRect.ttHeight,y.w.config.tooltip.followCursor){var P=y.getElGrid().getBoundingClientRect();p=y.e.clientY+g.globals.translateY-P.top}C<0&&(p=w),y.marker.enlargeCurrentPoint(l,u.paths,d,p)}return{x:d,y:p}}},{key:"handleBarTooltip",value:function(r){var n,l,h=r.e,u=r.opt,d=this.w,p=this.ttCtx,g=p.getElTooltip(),y=0,x=0,w=0,C=this.getBarTooltipXY({e:h,opt:u});n=C.i;var T=C.barHeight,P=C.j;d.globals.capturedSeriesIndex=n,d.globals.capturedDataPointIndex=P,d.globals.isBarHorizontal&&p.tooltipUtil.hasBars()||!d.config.tooltip.shared?(x=C.x,w=C.y,l=Array.isArray(d.config.stroke.width)?d.config.stroke.width[n]:d.config.stroke.width,y=x):d.globals.comboCharts||d.config.tooltip.shared||(y/=2),isNaN(w)&&(w=d.globals.svgHeight-p.tooltipRect.ttHeight);var M=parseInt(u.paths.parentNode.getAttribute("data:realIndex"),10),B=d.globals.isMultipleYAxis?d.config.yaxis[M]&&d.config.yaxis[M].reversed:d.config.yaxis[0].reversed;if(x+p.tooltipRect.ttWidth>d.globals.gridWidth&&!B?x-=p.tooltipRect.ttWidth:x<0&&(x=0),p.w.config.tooltip.followCursor){var z=p.getElGrid().getBoundingClientRect();w=p.e.clientY-z.top}p.tooltip===null&&(p.tooltip=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),d.config.tooltip.shared||(d.globals.comboBarCount>0?p.tooltipPosition.moveXCrosshairs(y+l/2):p.tooltipPosition.moveXCrosshairs(y)),!p.fixedTooltip&&(!d.config.tooltip.shared||d.globals.isBarHorizontal&&p.tooltipUtil.hasBars())&&(B&&(x-=p.tooltipRect.ttWidth)<0&&(x=0),!B||d.globals.isBarHorizontal&&p.tooltipUtil.hasBars()||(w=w+T-2*(d.globals.series[n][P]<0?T:0)),w=w+d.globals.translateY-p.tooltipRect.ttHeight/2,g.style.left=x+d.globals.translateX+"px",g.style.top=w+"px")}},{key:"getBarTooltipXY",value:function(r){var n=this,l=r.e,h=r.opt,u=this.w,d=null,p=this.ttCtx,g=0,y=0,x=0,w=0,C=0,T=l.target.classList;if(T.contains("apexcharts-bar-area")||T.contains("apexcharts-candlestick-area")||T.contains("apexcharts-boxPlot-area")||T.contains("apexcharts-rangebar-area")){var P=l.target,M=P.getBoundingClientRect(),B=h.elGrid.getBoundingClientRect(),z=M.height;C=M.height;var W=M.width,v=parseInt(P.getAttribute("cx"),10),A=parseInt(P.getAttribute("cy"),10);w=parseFloat(P.getAttribute("barWidth"));var E=l.type==="touchmove"?l.touches[0].clientX:l.clientX;d=parseInt(P.getAttribute("j"),10),g=parseInt(P.parentNode.getAttribute("rel"),10)-1;var F=P.getAttribute("data-range-y1"),j=P.getAttribute("data-range-y2");u.globals.comboCharts&&(g=parseInt(P.parentNode.getAttribute("data:realIndex"),10));var X=function(ee){return u.globals.isXNumeric?v-W/2:n.isVerticalGroupedRangeBar?v+W/2:v-p.dataPointsDividedWidth+W/2},J=function(){return A-p.dataPointsDividedHeight+z/2-p.tooltipRect.ttHeight/2};p.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i:g,j:d,y1:F?parseInt(F,10):null,y2:j?parseInt(j,10):null,shared:!p.showOnIntersect&&u.config.tooltip.shared,e:l}),u.config.tooltip.followCursor?u.globals.isBarHorizontal?(y=E-B.left+15,x=J()):(y=X(),x=l.clientY-B.top-p.tooltipRect.ttHeight/2-15):u.globals.isBarHorizontal?((y=v)<p.xyRatios.baseLineInvertedY&&(y=v-p.tooltipRect.ttWidth),x=J()):(y=X(),x=A)}return{x:y,y:x,barHeight:C,barWidth:w,i:g,j:d}}}]),D}(),Gl=function(){function D(r){o(this,D),this.w=r.w,this.ttCtx=r}return f(D,[{key:"drawXaxisTooltip",value:function(){var r=this.w,n=this.ttCtx,l=r.config.xaxis.position==="bottom";n.xaxisOffY=l?r.globals.gridHeight+1:-r.globals.xAxisHeight-r.config.xaxis.axisTicks.height+3;var h=l?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",u=r.globals.dom.elWrap;n.isXAxisTooltipEnabled&&r.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(n.xaxisTooltip=document.createElement("div"),n.xaxisTooltip.setAttribute("class",h+" apexcharts-theme-"+r.config.tooltip.theme),u.appendChild(n.xaxisTooltip),n.xaxisTooltipText=document.createElement("div"),n.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),n.xaxisTooltipText.style.fontFamily=r.config.xaxis.tooltip.style.fontFamily||r.config.chart.fontFamily,n.xaxisTooltipText.style.fontSize=r.config.xaxis.tooltip.style.fontSize,n.xaxisTooltip.appendChild(n.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var r=this.w,n=this.ttCtx,l=function(u){var d=r.config.yaxis[u].opposite||r.config.yaxis[u].crosshairs.opposite;n.yaxisOffX=d?r.globals.gridWidth+1:1;var p="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(u,d?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");r.globals.yAxisSameScaleIndices.map(function(y,x){y.map(function(w,C){C===u&&(p+=r.config.yaxis[C].show?" ":" apexcharts-yaxistooltip-hidden")})});var g=r.globals.dom.elWrap;r.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(u))===null&&(n.yaxisTooltip=document.createElement("div"),n.yaxisTooltip.setAttribute("class",p+" apexcharts-theme-"+r.config.tooltip.theme),g.appendChild(n.yaxisTooltip),u===0&&(n.yaxisTooltipText=[]),n.yaxisTooltipText[u]=document.createElement("div"),n.yaxisTooltipText[u].classList.add("apexcharts-yaxistooltip-text"),n.yaxisTooltip.appendChild(n.yaxisTooltipText[u]))},h=0;h<r.config.yaxis.length;h++)l(h)}},{key:"setXCrosshairWidth",value:function(){var r=this.w,n=this.ttCtx,l=n.getElXCrosshairs();if(n.xcrosshairsWidth=parseInt(r.config.xaxis.crosshairs.width,10),r.globals.comboCharts){var h=r.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(h!==null&&r.config.xaxis.crosshairs.width==="barWidth"){var u=parseFloat(h.getAttribute("barWidth"));n.xcrosshairsWidth=u}else if(r.config.xaxis.crosshairs.width==="tickWidth"){var d=r.globals.labels.length;n.xcrosshairsWidth=r.globals.gridWidth/d}}else if(r.config.xaxis.crosshairs.width==="tickWidth"){var p=r.globals.labels.length;n.xcrosshairsWidth=r.globals.gridWidth/p}else if(r.config.xaxis.crosshairs.width==="barWidth"){var g=r.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(g!==null){var y=parseFloat(g.getAttribute("barWidth"));n.xcrosshairsWidth=y}else n.xcrosshairsWidth=1}r.globals.isBarHorizontal&&(n.xcrosshairsWidth=0),l!==null&&n.xcrosshairsWidth>0&&l.setAttribute("width",n.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var r=this.w,n=this.ttCtx;n.ycrosshairs=r.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),n.ycrosshairsHidden=r.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(r,n,l){var h=this.ttCtx,u=this.w,d=u.globals.yLabelFormatters[r];if(h.yaxisTooltips[r]){var p=h.getElGrid().getBoundingClientRect(),g=(n-p.top)*l.yRatio[r],y=u.globals.maxYArr[r]-u.globals.minYArr[r],x=u.globals.minYArr[r]+(y-g);h.tooltipPosition.moveYCrosshairs(n-p.top),h.yaxisTooltipText[r].innerHTML=d(x),h.tooltipPosition.moveYAxisTooltip(r)}}}]),D}(),da=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w;var n=this.w;this.tConfig=n.config.tooltip,this.tooltipUtil=new ji(this),this.tooltipLabels=new lr(this),this.tooltipPosition=new ms(this),this.marker=new rn(this),this.intersect=new Yl(this),this.axesTooltip=new Gl(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!n.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return f(D,[{key:"getElTooltip",value:function(r){return r||(r=this),r.w.globals.dom.baseEl?r.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(r){var n=this.w;this.xyRatios=r,this.isXAxisTooltipEnabled=n.config.xaxis.tooltip.enabled&&n.globals.axisCharts,this.yaxisTooltips=n.config.yaxis.map(function(d,p){return!!(d.show&&d.tooltip.enabled&&n.globals.axisCharts)}),this.allTooltipSeriesGroups=[],n.globals.axisCharts||(this.showTooltipTitle=!1);var l=document.createElement("div");if(l.classList.add("apexcharts-tooltip"),n.config.tooltip.cssClass&&l.classList.add(n.config.tooltip.cssClass),l.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),n.globals.dom.elWrap.appendChild(l),n.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var h=new Bt(this.ctx);this.xAxisTicksPositions=h.getXAxisTicksPositions()}if(!n.globals.comboCharts&&!this.tConfig.intersect&&n.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),n.config.markers.size!==0&&n.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),n.globals.collapsedSeries.length!==n.globals.series.length){this.dataPointsDividedHeight=n.globals.gridHeight/n.globals.dataPoints,this.dataPointsDividedWidth=n.globals.gridWidth/n.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||n.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,l.appendChild(this.tooltipTitle));var u=n.globals.series.length;(n.globals.xyCharts||n.globals.comboCharts)&&this.tConfig.shared&&(u=this.showOnIntersect?1:n.globals.series.length),this.legendLabels=n.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(u),this.addSVGEvents()}}},{key:"createTTElements",value:function(r){for(var n=this,l=this.w,h=[],u=this.getElTooltip(),d=function(g){var y=document.createElement("div");y.classList.add("apexcharts-tooltip-series-group"),y.style.order=l.config.tooltip.inverseOrder?r-g:g+1,n.tConfig.shared&&n.tConfig.enabledOnSeries&&Array.isArray(n.tConfig.enabledOnSeries)&&n.tConfig.enabledOnSeries.indexOf(g)<0&&y.classList.add("apexcharts-tooltip-series-group-hidden");var x=document.createElement("span");x.classList.add("apexcharts-tooltip-marker"),x.style.backgroundColor=l.globals.colors[g],y.appendChild(x);var w=document.createElement("div");w.classList.add("apexcharts-tooltip-text"),w.style.fontFamily=n.tConfig.style.fontFamily||l.config.chart.fontFamily,w.style.fontSize=n.tConfig.style.fontSize,["y","goals","z"].forEach(function(C){var T=document.createElement("div");T.classList.add("apexcharts-tooltip-".concat(C,"-group"));var P=document.createElement("span");P.classList.add("apexcharts-tooltip-text-".concat(C,"-label")),T.appendChild(P);var M=document.createElement("span");M.classList.add("apexcharts-tooltip-text-".concat(C,"-value")),T.appendChild(M),w.appendChild(T)}),y.appendChild(w),u.appendChild(y),h.push(y)},p=0;p<r;p++)d(p);return h}},{key:"addSVGEvents",value:function(){var r=this.w,n=r.config.chart.type,l=this.getElTooltip(),h=!(n!=="bar"&&n!=="candlestick"&&n!=="boxPlot"&&n!=="rangeBar"),u=n==="area"||n==="line"||n==="scatter"||n==="bubble"||n==="radar",d=r.globals.dom.Paper.node,p=this.getElGrid();p&&(this.seriesBound=p.getBoundingClientRect());var g,y=[],x=[],w={hoverArea:d,elGrid:p,tooltipEl:l,tooltipY:y,tooltipX:x,ttItems:this.ttItems};if(r.globals.axisCharts&&(u?g=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):h?g=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):n!=="heatmap"&&n!=="treemap"||(g=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),g&&g.length))for(var C=0;C<g.length;C++)y.push(g[C].getAttribute("cy")),x.push(g[C].getAttribute("cx"));if(r.globals.xyCharts&&!this.showOnIntersect||r.globals.comboCharts&&!this.showOnIntersect||h&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([d],w);else if(h&&!r.globals.comboCharts||u&&this.showOnIntersect)this.addDatapointEventsListeners(w);else if(!r.globals.axisCharts||n==="heatmap"||n==="treemap"){var T=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(T,w)}if(this.showOnIntersect){var P=r.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");P.length>0&&this.addPathsEventListeners(P,w),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(w)}}},{key:"drawFixedTooltipRect",value:function(){var r=this.w,n=this.getElTooltip(),l=n.getBoundingClientRect(),h=l.width+10,u=l.height+10,d=this.tConfig.fixed.offsetX,p=this.tConfig.fixed.offsetY,g=this.tConfig.fixed.position.toLowerCase();return g.indexOf("right")>-1&&(d=d+r.globals.svgWidth-h+10),g.indexOf("bottom")>-1&&(p=p+r.globals.svgHeight-u-10),n.style.left=d+"px",n.style.top=p+"px",{x:d,y:p,ttWidth:h,ttHeight:u}}},{key:"addDatapointEventsListeners",value:function(r){var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(n,r)}},{key:"addPathsEventListeners",value:function(r,n){for(var l=this,h=function(d){var p={paths:r[d],tooltipEl:n.tooltipEl,tooltipY:n.tooltipY,tooltipX:n.tooltipX,elGrid:n.elGrid,hoverArea:n.hoverArea,ttItems:n.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(g){return r[d].addEventListener(g,l.onSeriesHover.bind(l,p),{capture:!1,passive:!0})})},u=0;u<r.length;u++)h(u)}},{key:"onSeriesHover",value:function(r,n){var l=this,h=Date.now()-this.lastHoverTime;h>=100?this.seriesHover(r,n):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){l.seriesHover(r,n)},100-h))}},{key:"seriesHover",value:function(r,n){var l=this;this.lastHoverTime=Date.now();var h=[],u=this.w;u.config.chart.group&&(h=this.ctx.getGroupedCharts()),u.globals.axisCharts&&(u.globals.minX===-1/0&&u.globals.maxX===1/0||u.globals.dataPoints===0)||(h.length?h.forEach(function(d){var p=l.getElTooltip(d),g={paths:r.paths,tooltipEl:p,tooltipY:r.tooltipY,tooltipX:r.tooltipX,elGrid:r.elGrid,hoverArea:r.hoverArea,ttItems:d.w.globals.tooltip.ttItems};d.w.globals.minX===l.w.globals.minX&&d.w.globals.maxX===l.w.globals.maxX&&d.w.globals.tooltip.seriesHoverByContext({chartCtx:d,ttCtx:d.w.globals.tooltip,opt:g,e:n})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:r,e:n}))}},{key:"seriesHoverByContext",value:function(r){var n=r.chartCtx,l=r.ttCtx,h=r.opt,u=r.e,d=n.w,p=this.getElTooltip();p&&(l.tooltipRect={x:0,y:0,ttWidth:p.getBoundingClientRect().width,ttHeight:p.getBoundingClientRect().height},l.e=u,l.tooltipUtil.hasBars()&&!d.globals.comboCharts&&!l.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new $e(n).toggleSeriesOnHover(u,u.target.parentNode),l.fixedTooltip&&l.drawFixedTooltipRect(),d.globals.axisCharts?l.axisChartsTooltips({e:u,opt:h,tooltipRect:l.tooltipRect}):l.nonAxisChartsTooltips({e:u,opt:h,tooltipRect:l.tooltipRect}))}},{key:"axisChartsTooltips",value:function(r){var n,l,h=r.e,u=r.opt,d=this.w,p=u.elGrid.getBoundingClientRect(),g=h.type==="touchmove"?h.touches[0].clientX:h.clientX,y=h.type==="touchmove"?h.touches[0].clientY:h.clientY;if(this.clientY=y,this.clientX=g,d.globals.capturedSeriesIndex=-1,d.globals.capturedDataPointIndex=-1,y<p.top||y>p.top+p.height)this.handleMouseOut(u);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!d.config.tooltip.shared){var x=parseInt(u.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(x)<0)return void this.handleMouseOut(u)}var w=this.getElTooltip(),C=this.getElXCrosshairs(),T=d.globals.xyCharts||d.config.chart.type==="bar"&&!d.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||d.globals.comboCharts&&this.tooltipUtil.hasBars();if(h.type==="mousemove"||h.type==="touchmove"||h.type==="mouseup"){if(d.globals.collapsedSeries.length+d.globals.ancillaryCollapsedSeries.length===d.globals.series.length)return;C!==null&&C.classList.add("apexcharts-active");var P=this.yaxisTooltips.filter(function(z){return z===!0});if(this.ycrosshairs!==null&&P.length&&this.ycrosshairs.classList.add("apexcharts-active"),T&&!this.showOnIntersect)this.handleStickyTooltip(h,g,y,u);else if(d.config.chart.type==="heatmap"||d.config.chart.type==="treemap"){var M=this.intersect.handleHeatTreeTooltip({e:h,opt:u,x:n,y:l,type:d.config.chart.type});n=M.x,l=M.y,w.style.left=n+"px",w.style.top=l+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:h,opt:u}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:h,opt:u,x:n,y:l});if(this.yaxisTooltips.length)for(var B=0;B<d.config.yaxis.length;B++)this.axesTooltip.drawYaxisTooltipText(B,y,this.xyRatios);u.tooltipEl.classList.add("apexcharts-active")}else h.type!=="mouseout"&&h.type!=="touchend"||this.handleMouseOut(u)}}},{key:"nonAxisChartsTooltips",value:function(r){var n=r.e,l=r.opt,h=r.tooltipRect,u=this.w,d=l.paths.getAttribute("rel"),p=this.getElTooltip(),g=u.globals.dom.elWrap.getBoundingClientRect();if(n.type==="mousemove"||n.type==="touchmove"){p.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:l.ttItems,i:parseInt(d,10)-1,shared:!1});var y=u.globals.clientX-g.left-h.ttWidth/2,x=u.globals.clientY-g.top-h.ttHeight-10;if(p.style.left=y+"px",p.style.top=x+"px",u.config.legend.tooltipHoverFormatter){var w=d-1,C=(0,u.config.legend.tooltipHoverFormatter)(this.legendLabels[w].getAttribute("data:default-text"),{seriesIndex:w,dataPointIndex:w,w:u});this.legendLabels[w].innerHTML=C}}else n.type!=="mouseout"&&n.type!=="touchend"||(p.classList.remove("apexcharts-active"),u.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(T){var P=T.getAttribute("data:default-text");T.innerHTML=decodeURIComponent(P)}))}},{key:"handleStickyTooltip",value:function(r,n,l,h){var u=this.w,d=this.tooltipUtil.getNearestValues({context:this,hoverArea:h.hoverArea,elGrid:h.elGrid,clientX:n,clientY:l}),p=d.j,g=d.capturedSeries;u.globals.collapsedSeriesIndices.includes(g)&&(g=null);var y=h.elGrid.getBoundingClientRect();if(d.hoverX<0||d.hoverX>y.width)this.handleMouseOut(h);else if(g!==null)this.handleStickyCapturedSeries(r,g,h,p);else if(this.tooltipUtil.isXoverlap(p)||u.globals.isBarHorizontal){var x=u.globals.series.findIndex(function(w,C){return!u.globals.collapsedSeriesIndices.includes(C)});this.create(r,this,x,p,h.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(r,n,l,h){var u=this.w;if(!this.tConfig.shared&&u.globals.series[n][h]===null)return void this.handleMouseOut(l);if(u.globals.series[n][h]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(h)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(r,this,n,h,l.ttItems):this.create(r,this,n,h,l.ttItems,!1);else if(this.tooltipUtil.isXoverlap(h)){var d=u.globals.series.findIndex(function(p,g){return!u.globals.collapsedSeriesIndices.includes(g)});this.create(r,this,d,h,l.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var r=this.w,n=new H(this.ctx),l=r.globals.dom.Paper.select(".apexcharts-bar-area"),h=0;h<l.length;h++)n.pathMouseLeave(l[h])}},{key:"handleMouseOut",value:function(r){var n=this.w,l=this.getElXCrosshairs();if(r.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),n.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),l!==null&&l.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var h=0;h<this.yaxisTTEls.length;h++)this.yaxisTTEls[h].classList.remove("apexcharts-active")}n.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(u){var d=u.getAttribute("data:default-text");u.innerHTML=decodeURIComponent(d)})}},{key:"markerClick",value:function(r,n,l){var h=this.w;typeof h.config.chart.events.markerClick=="function"&&h.config.chart.events.markerClick(r,this.ctx,{seriesIndex:n,dataPointIndex:l,w:h}),this.ctx.events.fireEvent("markerClick",[r,this.ctx,{seriesIndex:n,dataPointIndex:l,w:h}])}},{key:"create",value:function(r,n,l,h,u){var d,p,g,y,x,w,C,T,P,M,B,z,W,v,A,E,F=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,j=this.w,X=n;r.type==="mouseup"&&this.markerClick(r,l,h),F===null&&(F=this.tConfig.shared);var J=this.tooltipUtil.hasMarkers(l),ee=this.tooltipUtil.getElBars();if(j.config.legend.tooltipHoverFormatter){var se=j.config.legend.tooltipHoverFormatter,he=Array.from(this.legendLabels);he.forEach(function(Ii){var Yi=Ii.getAttribute("data:default-text");Ii.innerHTML=decodeURIComponent(Yi)});for(var ce=0;ce<he.length;ce++){var ge=he[ce],Te=parseInt(ge.getAttribute("i"),10),Re=decodeURIComponent(ge.getAttribute("data:default-text")),Fe=se(Re,{seriesIndex:F?Te:l,dataPointIndex:h,w:j});if(F)ge.innerHTML=j.globals.collapsedSeriesIndices.indexOf(Te)<0?Fe:Re;else if(ge.innerHTML=Te===l?Fe:Re,l===Te)break}}var Xe=i(i({ttItems:u,i:l,j:h},((d=j.globals.seriesRange)===null||d===void 0||(p=d[l])===null||p===void 0||(g=p[h])===null||g===void 0||(y=g.y[0])===null||y===void 0?void 0:y.y1)!==void 0&&{y1:(x=j.globals.seriesRange)===null||x===void 0||(w=x[l])===null||w===void 0||(C=w[h])===null||C===void 0||(T=C.y[0])===null||T===void 0?void 0:T.y1}),((P=j.globals.seriesRange)===null||P===void 0||(M=P[l])===null||M===void 0||(B=M[h])===null||B===void 0||(z=B.y[0])===null||z===void 0?void 0:z.y2)!==void 0&&{y2:(W=j.globals.seriesRange)===null||W===void 0||(v=W[l])===null||v===void 0||(A=v[h])===null||A===void 0||(E=A.y[0])===null||E===void 0?void 0:E.y2});if(F){if(X.tooltipLabels.drawSeriesTexts(i(i({},Xe),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),J)j.globals.markers.largestSize>0?X.marker.enlargePoints(h):X.tooltipPosition.moveDynamicPointsOnHover(h);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(ee),this.barSeriesHeight>0)){var mt=new H(this.ctx),ot=j.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(h,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(h,l);for(var kt=0;kt<ot.length;kt++)mt.pathMouseEnter(ot[kt])}}else X.tooltipLabels.drawSeriesTexts(i({shared:!1},Xe)),this.tooltipUtil.hasBars()&&X.tooltipPosition.moveStickyTooltipOverBars(h,l),J&&X.tooltipPosition.moveMarkers(l,h)}}]),D}(),Ul=function(){function D(r){o(this,D),this.w=r.w,this.barCtx=r,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return f(D,[{key:"handleBarDataLabels",value:function(r){var n=r.x,l=r.y,h=r.y1,u=r.y2,d=r.i,p=r.j,g=r.realIndex,y=r.groupIndex,x=r.series,w=r.barHeight,C=r.barWidth,T=r.barXPosition,P=r.barYPosition,M=r.visibleSeries,B=r.renderedPath,z=this.w,W=new H(this.barCtx.ctx),v=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[g]:this.barCtx.strokeWidth,A=n+parseFloat(C*M),E=l+parseFloat(w*M);z.globals.isXNumeric&&!z.globals.isBarHorizontal&&(A=n+parseFloat(C*(M+1)),E=l+parseFloat(w*(M+1))-v);var F,j=null,X=n,J=l,ee={},se=z.config.dataLabels,he=this.barCtx.barOptions.dataLabels,ce=this.barCtx.barOptions.dataLabels.total;P!==void 0&&this.barCtx.isRangeBar&&(E=P,J=P),T!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(A=T,X=T);var ge=se.offsetX,Te=se.offsetY,Re={width:0,height:0};if(z.config.dataLabels.enabled){var Fe=this.barCtx.series[d][p];Re=W.getTextRects(z.globals.yLabelFormatters[0](Fe),parseFloat(se.style.fontSize))}var Xe={x:n,y:l,i:d,j:p,realIndex:g,groupIndex:y||-1,renderedPath:B,bcx:A,bcy:E,barHeight:w,barWidth:C,textRects:Re,strokeWidth:v,dataLabelsX:X,dataLabelsY:J,dataLabelsConfig:se,barDataLabelsConfig:he,barTotalDataLabelsConfig:ce,offX:ge,offY:Te};return ee=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Xe):this.calculateColumnsDataLabelsPosition(Xe),B.attr({cy:ee.bcy,cx:ee.bcx,j:p,val:x[d][p],barHeight:w,barWidth:C}),F=this.drawCalculatedDataLabels({x:ee.dataLabelsX,y:ee.dataLabelsY,val:this.barCtx.isRangeBar?[h,u]:x[d][p],i:g,j:p,barWidth:C,barHeight:w,textRects:Re,dataLabelsConfig:se}),z.config.chart.stacked&&ce.enabled&&(j=this.drawTotalDataLabels({x:ee.totalDataLabelsX,y:ee.totalDataLabelsY,realIndex:g,textAnchor:ee.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:g,j:p}),dataLabelsConfig:se,barTotalDataLabelsConfig:ce})),{dataLabels:F,totalDataLabels:j}}},{key:"getStackedTotalDataLabel",value:function(r){var n=r.realIndex,l=r.j,h=this.w,u=this.barCtx.stackedSeriesTotals[l];return this.totalFormatter&&(u=this.totalFormatter(u,i(i({},h),{},{seriesIndex:n,dataPointIndex:l,w:h}))),u}},{key:"calculateColumnsDataLabelsPosition",value:function(r){var n,l,h=this.w,u=r.i,d=r.j,p=r.realIndex,g=r.groupIndex,y=r.y,x=r.bcx,w=r.barWidth,C=r.barHeight,T=r.textRects,P=r.dataLabelsX,M=r.dataLabelsY,B=r.dataLabelsConfig,z=r.barDataLabelsConfig,W=r.barTotalDataLabelsConfig,v=r.strokeWidth,A=r.offX,E=r.offY;C=Math.abs(C);var F=h.config.plotOptions.bar.dataLabels.orientation==="vertical";x=x-v/2+(g!==-1?g*w:0);var j=h.globals.gridWidth/h.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?P+=w/2:P=h.globals.isXNumeric?x-w/2+A:x-j+w/2+A,F&&(P=P+T.height/2-v/2-2);var X=this.barCtx.series[u][d]<0,J=y;switch(this.barCtx.isReversed&&(J=y-C+(X?2*C:0),y-=C),z.position){case"center":M=F?X?J+C/2+E:J+C/2-E:X?J-C/2+T.height/2+E:J+C/2+T.height/2-E;break;case"bottom":M=F?X?J+C+E:J+C-E:X?J-C+T.height+v+E:J+C-T.height/2+v-E;break;case"top":M=F?X?J+E:J-E:X?J-T.height/2-E:J+T.height+E}if(this.barCtx.lastActiveBarSerieIndex===p&&W.enabled){var ee=new H(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:p,j:d}),B.fontSize);n=X?J-ee.height/2-E-W.offsetY+18:J+ee.height+E+W.offsetY-18,l=P+W.offsetX}return h.config.chart.stacked||(M<0?M=0+v:M+T.height/3>h.globals.gridHeight&&(M=h.globals.gridHeight-v)),{bcx:x,bcy:y,dataLabelsX:P,dataLabelsY:M,totalDataLabelsX:l,totalDataLabelsY:n,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(r){var n=this.w,l=r.x,h=r.i,u=r.j,d=r.realIndex,p=r.groupIndex,g=r.bcy,y=r.barHeight,x=r.barWidth,w=r.textRects,C=r.dataLabelsX,T=r.strokeWidth,P=r.dataLabelsConfig,M=r.barDataLabelsConfig,B=r.barTotalDataLabelsConfig,z=r.offX,W=r.offY,v=n.globals.gridHeight/n.globals.dataPoints;x=Math.abs(x);var A,E,F=(g+=p!==-1?p*y:0)-(this.barCtx.isRangeBar?0:v)+y/2+w.height/2+W-3,j="start",X=this.barCtx.series[h][u]<0,J=l;switch(this.barCtx.isReversed&&(J=l+x-(X?2*x:0),l=n.globals.gridWidth-x),M.position){case"center":C=X?J+x/2-z:Math.max(w.width/2,J-x/2)+z;break;case"bottom":C=X?J+x-T-Math.round(w.width/2)-z:J-x+T+Math.round(w.width/2)+z;break;case"top":C=X?J-T+Math.round(w.width/2)-z:J-T-Math.round(w.width/2)+z}if(this.barCtx.lastActiveBarSerieIndex===d&&B.enabled){var ee=new H(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:d,j:u}),P.fontSize);X?(A=J-T+Math.round(ee.width/2)-z-B.offsetX-15,j="end"):A=J-T-Math.round(ee.width/2)+z+B.offsetX+15,E=F+B.offsetY}return n.config.chart.stacked||(C<0?C=C+w.width+T:C+w.width/2>n.globals.gridWidth&&(C=n.globals.gridWidth-w.width-T)),{bcx:l,bcy:g,dataLabelsX:C,dataLabelsY:F,totalDataLabelsX:A,totalDataLabelsY:E,totalDataLabelsAnchor:j}}},{key:"drawCalculatedDataLabels",value:function(r){var n=r.x,l=r.y,h=r.val,u=r.i,d=r.j,p=r.textRects,g=r.barHeight,y=r.barWidth,x=r.dataLabelsConfig,w=this.w,C="rotate(0)";w.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(C="rotate(-90, ".concat(n,", ").concat(l,")"));var T=new we(this.barCtx.ctx),P=new H(this.barCtx.ctx),M=x.formatter,B=null,z=w.globals.collapsedSeriesIndices.indexOf(u)>-1;if(x.enabled&&!z){B=P.group({class:"apexcharts-data-labels",transform:C});var W="";h!==void 0&&(W=M(h,i(i({},w),{},{seriesIndex:u,dataPointIndex:d,w}))),!h&&w.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(W="");var v=w.globals.series[u][d]<0,A=w.config.plotOptions.bar.dataLabels.position;w.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(A==="top"&&(x.textAnchor=v?"end":"start"),A==="center"&&(x.textAnchor="middle"),A==="bottom"&&(x.textAnchor=v?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&y<P.getTextRects(W,parseFloat(x.style.fontSize)).width&&(W=""),w.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?p.width/1.6>Math.abs(y)&&(W=""):p.height/1.6>Math.abs(g)&&(W=""));var E=i({},x);this.barCtx.isHorizontal&&h<0&&(x.textAnchor==="start"?E.textAnchor="end":x.textAnchor==="end"&&(E.textAnchor="start")),T.plotDataLabelsText({x:n,y:l,text:W,i:u,j:d,parent:B,dataLabelsConfig:E,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return B}},{key:"drawTotalDataLabels",value:function(r){var n,l=r.x,h=r.y,u=r.val,d=r.realIndex,p=r.textAnchor,g=r.barTotalDataLabelsConfig,y=new H(this.barCtx.ctx);return g.enabled&&l!==void 0&&h!==void 0&&this.barCtx.lastActiveBarSerieIndex===d&&(n=y.drawText({x:l,y:h,foreColor:g.style.color,text:u,textAnchor:p,fontFamily:g.style.fontFamily,fontSize:g.style.fontSize,fontWeight:g.style.fontWeight})),n}}]),D}(),ql=function(){function D(r){o(this,D),this.w=r.w,this.barCtx=r}return f(D,[{key:"initVariables",value:function(r){var n=this.w;this.barCtx.series=r,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var l=0;l<r.length;l++)if(r[l].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=r[l].length),n.globals.isXNumeric)for(var h=0;h<r[l].length;h++)n.globals.seriesX[l][h]>n.globals.minX&&n.globals.seriesX[l][h]<n.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=n.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],n.globals.comboCharts||this.checkZeroSeries({series:r})}},{key:"initialPositions",value:function(){var r,n,l,h,u,d,p,g,y=this.w,x=y.globals.dataPoints;this.barCtx.isRangeBar&&(x=y.globals.labels.length);var w=this.barCtx.seriesLen;if(y.config.plotOptions.bar.rangeBarGroupRows&&(w=1),this.barCtx.isHorizontal)u=(l=y.globals.gridHeight/x)/w,y.globals.isXNumeric&&(u=(l=y.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),u=u*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(u=parseInt(this.barCtx.barOptions.barHeight,10)),g=this.barCtx.baseLineInvertedY+y.globals.padHorizontal+(this.barCtx.isReversed?y.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(g=y.globals.gridWidth/2),n=(l-u*this.barCtx.seriesLen)/2;else{if(h=y.globals.gridWidth/this.barCtx.visibleItems,y.config.xaxis.convertedCatToNumeric&&(h=y.globals.gridWidth/y.globals.dataPoints),d=h/w*parseInt(this.barCtx.barOptions.columnWidth,10)/100,y.globals.isXNumeric){var C=this.barCtx.xRatio;y.config.xaxis.convertedCatToNumeric&&(C=this.barCtx.initialXRatio),y.globals.minXDiff&&y.globals.minXDiff!==.5&&y.globals.minXDiff/C>0&&(h=y.globals.minXDiff/C),(d=h/w*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(d=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(d=parseInt(this.barCtx.barOptions.columnWidth,10)),p=y.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?y.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),r=y.globals.padHorizontal+(h-d*this.barCtx.seriesLen)/2}return{x:r,y:n,yDivision:l,xDivision:h,barHeight:u,barWidth:d,zeroH:p,zeroW:g}}},{key:"initializeStackedPrevVars",value:function(r){var n=r.w;n.globals.hasSeriesGroups?n.globals.seriesGroups.forEach(function(l){r[l]||(r[l]={}),r[l].prevY=[],r[l].prevX=[],r[l].prevYF=[],r[l].prevXF=[],r[l].prevYVal=[],r[l].prevXVal=[]}):(r.prevY=[],r.prevX=[],r.prevYF=[],r.prevXF=[],r.prevYVal=[],r.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(r){var n=r.w;n.globals.hasSeriesGroups?n.globals.seriesGroups.forEach(function(l){r[l]||(r[l]={}),r[l].xArrj=[],r[l].xArrjF=[],r[l].xArrjVal=[],r[l].yArrj=[],r[l].yArrjF=[],r[l].yArrjVal=[]}):(r.xArrj=[],r.xArrjF=[],r.xArrjVal=[],r.yArrj=[],r.yArrjF=[],r.yArrjVal=[])}},{key:"getPathFillColor",value:function(r,n,l,h){var u,d,p,g,y=this.w,x=new ve(this.barCtx.ctx),w=null,C=this.barCtx.barOptions.distributed?l:n;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(T){r[n][l]>=T.from&&r[n][l]<=T.to&&(w=T.color)}),y.config.series[n].data[l]&&y.config.series[n].data[l].fillColor&&(w=y.config.series[n].data[l].fillColor),x.fillPath({seriesNumber:this.barCtx.barOptions.distributed?C:h,dataPointIndex:l,color:w,value:r[n][l],fillConfig:(u=y.config.series[n].data[l])===null||u===void 0?void 0:u.fill,fillType:(d=y.config.series[n].data[l])!==null&&d!==void 0&&(p=d.fill)!==null&&p!==void 0&&p.type?(g=y.config.series[n].data[l])===null||g===void 0?void 0:g.fill.type:y.config.fill.type})}},{key:"getStrokeWidth",value:function(r,n,l){var h=0,u=this.w;return this.barCtx.series[r][n]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,u.config.stroke.show&&(this.barCtx.isNullValue||(h=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[l]:this.barCtx.strokeWidth)),h}},{key:"shouldApplyRadius",value:function(r){var n=this.w,l=!1;return n.config.plotOptions.bar.borderRadius>0&&(n.config.chart.stacked&&n.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===r&&(l=!0):l=!0),l}},{key:"barBackground",value:function(r){var n=r.j,l=r.i,h=r.x1,u=r.x2,d=r.y1,p=r.y2,g=r.elSeries,y=this.w,x=new H(this.barCtx.ctx),w=new $e(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&w===l){n>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(n%=this.barCtx.barOptions.colors.backgroundBarColors.length);var C=this.barCtx.barOptions.colors.backgroundBarColors[n],T=x.drawRect(h!==void 0?h:0,d!==void 0?d:0,u!==void 0?u:y.globals.gridWidth,p!==void 0?p:y.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,C,this.barCtx.barOptions.colors.backgroundBarOpacity);g.add(T),T.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(r){var n,l=r.barWidth,h=r.barXPosition,u=r.y1,d=r.y2,p=r.strokeWidth,g=r.seriesGroup,y=r.realIndex,x=r.i,w=r.j,C=r.w,T=new H(this.barCtx.ctx);(p=Array.isArray(p)?p[y]:p)||(p=0);var P=l,M=h;(n=C.config.series[y].data[w])!==null&&n!==void 0&&n.columnWidthOffset&&(M=h-C.config.series[y].data[w].columnWidthOffset/2,P=l+C.config.series[y].data[w].columnWidthOffset);var B=M,z=M+P;u+=.001,d+=.001;var W=T.move(B,u),v=T.move(B,u),A=T.line(z-p,u);if(C.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(y,w,!1)),W=W+T.line(B,d)+T.line(z-p,d)+T.line(z-p,u)+(C.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),v=v+T.line(B,u)+A+A+A+A+A+T.line(B,u)+(C.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(y)&&(W=T.roundPathCorners(W,C.config.plotOptions.bar.borderRadius)),C.config.chart.stacked){var E=this.barCtx;C.globals.hasSeriesGroups&&g&&(E=this.barCtx[g]),E.yArrj.push(d),E.yArrjF.push(Math.abs(u-d)),E.yArrjVal.push(this.barCtx.series[x][w])}return{pathTo:W,pathFrom:v}}},{key:"getBarpaths",value:function(r){var n,l=r.barYPosition,h=r.barHeight,u=r.x1,d=r.x2,p=r.strokeWidth,g=r.seriesGroup,y=r.realIndex,x=r.i,w=r.j,C=r.w,T=new H(this.barCtx.ctx);(p=Array.isArray(p)?p[y]:p)||(p=0);var P=l,M=h;(n=C.config.series[y].data[w])!==null&&n!==void 0&&n.barHeightOffset&&(P=l-C.config.series[y].data[w].barHeightOffset/2,M=h+C.config.series[y].data[w].barHeightOffset);var B=P,z=P+M;u+=.001,d+=.001;var W=T.move(u,B),v=T.move(u,B);C.globals.previousPaths.length>0&&(v=this.barCtx.getPreviousPath(y,w,!1));var A=T.line(u,z-p);if(W=W+T.line(d,B)+T.line(d,z-p)+A+(C.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),v=v+T.line(u,B)+A+A+A+A+A+T.line(u,B)+(C.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(y)&&(W=T.roundPathCorners(W,C.config.plotOptions.bar.borderRadius)),C.config.chart.stacked){var E=this.barCtx;C.globals.hasSeriesGroups&&g&&(E=this.barCtx[g]),E.xArrj.push(d),E.xArrjF.push(Math.abs(u-d)),E.xArrjVal.push(this.barCtx.series[x][w])}return{pathTo:W,pathFrom:v}}},{key:"checkZeroSeries",value:function(r){for(var n=r.series,l=this.w,h=0;h<n.length;h++){for(var u=0,d=0;d<n[l.globals.maxValsInArrayIndex].length;d++)u+=n[h][d];u===0&&this.barCtx.zeroSerieses.push(h)}}},{key:"getXForValue",value:function(r,n){var l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?n:null;return r!=null&&(l=n+r/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?r/this.barCtx.invertedYRatio:0)),l}},{key:"getYForValue",value:function(r,n){var l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?n:null;return r!=null&&(l=n-r/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?r/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),l}},{key:"getGoalValues",value:function(r,n,l,h,u){var d=this,p=this.w,g=[],y=function(C,T){var P;g.push((m(P={},r,r==="x"?d.getXForValue(C,n,!1):d.getYForValue(C,l,!1)),m(P,"attrs",T),P))};if(p.globals.seriesGoals[h]&&p.globals.seriesGoals[h][u]&&Array.isArray(p.globals.seriesGoals[h][u])&&p.globals.seriesGoals[h][u].forEach(function(C){y(C.value,C)}),this.barCtx.barOptions.isDumbbell&&p.globals.seriesRange.length){var x=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:p.globals.colors,w={strokeHeight:r==="x"?0:p.globals.markers.size[h],strokeWidth:r==="x"?p.globals.markers.size[h]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(x[h])?x[h][0]:x[h]};y(p.globals.seriesRangeStart[h][u],w),y(p.globals.seriesRangeEnd[h][u],i(i({},w),{},{strokeColor:Array.isArray(x[h])?x[h][1]:x[h]}))}return g}},{key:"drawGoalLine",value:function(r){var n=r.barXPosition,l=r.barYPosition,h=r.goalX,u=r.goalY,d=r.barWidth,p=r.barHeight,g=new H(this.barCtx.ctx),y=g.group({className:"apexcharts-bar-goals-groups"});y.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:y.node}),y.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var x=null;return this.barCtx.isHorizontal?Array.isArray(h)&&h.forEach(function(w){var C=w.attrs.strokeHeight!==void 0?w.attrs.strokeHeight:p/2,T=l+C+p/2;x=g.drawLine(w.x,T-2*C,w.x,T,w.attrs.strokeColor?w.attrs.strokeColor:void 0,w.attrs.strokeDashArray,w.attrs.strokeWidth?w.attrs.strokeWidth:2,w.attrs.strokeLineCap),y.add(x)}):Array.isArray(u)&&u.forEach(function(w){var C=w.attrs.strokeWidth!==void 0?w.attrs.strokeWidth:d/2,T=n+C+d/2;x=g.drawLine(T-2*C,w.y,T,w.y,w.attrs.strokeColor?w.attrs.strokeColor:void 0,w.attrs.strokeDashArray,w.attrs.strokeHeight?w.attrs.strokeHeight:2,w.attrs.strokeLineCap),y.add(x)}),y}},{key:"drawBarShadow",value:function(r){var n=r.prevPaths,l=r.currPaths,h=r.color,u=this.w,d=n.x,p=n.x1,g=n.barYPosition,y=l.x,x=l.x1,w=l.barYPosition,C=g+l.barHeight,T=new H(this.barCtx.ctx),P=new V,M=T.move(p,C)+T.line(d,C)+T.line(y,w)+T.line(x,w)+T.line(p,C)+(u.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z");return T.drawPath({d:M,fill:P.shadeColor(.5,V.rgb2hex(h)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}}]),D}(),hr=function(){function D(r,n){o(this,D),this.ctx=r,this.w=r.w;var l=this.w;this.barOptions=l.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=l.config.stroke.width,this.isNullValue=!1,this.isRangeBar=l.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!l.globals.isBarHorizontal&&l.globals.seriesRange.length&&l.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=n,this.xyRatios!==null&&(this.xRatio=n.xRatio,this.initialXRatio=n.initialXRatio,this.yRatio=n.yRatio,this.invertedXRatio=n.invertedXRatio,this.invertedYRatio=n.invertedYRatio,this.baseLineY=n.baseLineY,this.baseLineInvertedY=n.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var h=new $e(this.ctx);this.lastActiveBarSerieIndex=h.getActiveConfigSeriesIndex("desc",["bar","column"]);var u=h.getBarSeriesIndices(),d=new re(this.ctx);this.stackedSeriesTotals=d.getStackedSeriesTotals(this.w.config.series.map(function(p,g){return u.indexOf(g)===-1?g:-1}).filter(function(p){return p!==-1})),this.barHelpers=new ql(this)}return f(D,[{key:"draw",value:function(r,n){var l=this.w,h=new H(this.ctx),u=new re(this.ctx,l);r=u.getLogSeries(r),this.series=r,this.yRatio=u.getLogYRatios(this.yRatio),this.barHelpers.initVariables(r);var d=h.group({class:"apexcharts-bar-series apexcharts-plot-series"});l.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var p=0,g=0;p<r.length;p++,g++){var y,x,w,C,T=void 0,P=void 0,M=[],B=[],z=l.globals.comboCharts?n[p]:p,W=h.group({class:"apexcharts-series",rel:p+1,seriesName:V.escapeString(l.globals.seriesNames[z]),"data:realIndex":z});this.ctx.series.addCollapsedClassToSeries(W,z),r[p].length>0&&(this.visibleI=this.visibleI+1);var v=0,A=0;this.yRatio.length>1&&(this.yaxisIndex=z),this.isReversed=l.config.yaxis[this.yaxisIndex]&&l.config.yaxis[this.yaxisIndex].reversed;var E=this.barHelpers.initialPositions();P=E.y,v=E.barHeight,x=E.yDivision,C=E.zeroW,T=E.x,A=E.barWidth,y=E.xDivision,w=E.zeroH,this.horizontal||B.push(T+A/2);var F=h.group({class:"apexcharts-datalabels","data:realIndex":z});l.globals.delayedElements.push({el:F.node}),F.node.classList.add("apexcharts-element-hidden");var j=h.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),X=h.group({class:"apexcharts-bar-shadows",style:"pointer-events: none"});l.globals.delayedElements.push({el:X.node}),X.node.classList.add("apexcharts-element-hidden");for(var J=0;J<l.globals.dataPoints;J++){var ee=this.barHelpers.getStrokeWidth(p,J,z),se=null,he={indexes:{i:p,j:J,realIndex:z,bc:g},x:T,y:P,strokeWidth:ee,elSeries:W};this.isHorizontal?(se=this.drawBarPaths(i(i({},he),{},{barHeight:v,zeroW:C,yDivision:x})),A=this.series[p][J]/this.invertedYRatio):(se=this.drawColumnPaths(i(i({},he),{},{xDivision:y,barWidth:A,zeroH:w})),v=this.series[p][J]/this.yRatio[this.yaxisIndex]);var ce=this.barHelpers.getPathFillColor(r,p,J,z);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&J>0){var ge=this.barHelpers.drawBarShadow({color:typeof ce=="string"&&(ce==null?void 0:ce.indexOf("url"))===-1?ce:V.hexToRgba(l.globals.colors[p]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:se});ge&&X.add(ge)}this.pathArr.push(se);var Te=this.barHelpers.drawGoalLine({barXPosition:se.barXPosition,barYPosition:se.barYPosition,goalX:se.goalX,goalY:se.goalY,barHeight:v,barWidth:A});Te&&j.add(Te),P=se.y,T=se.x,J>0&&B.push(T+A/2),M.push(P),this.renderSeries({realIndex:z,pathFill:ce,j:J,i:p,pathFrom:se.pathFrom,pathTo:se.pathTo,strokeWidth:ee,elSeries:W,x:T,y:P,series:r,barHeight:se.barHeight?se.barHeight:v,barWidth:se.barWidth?se.barWidth:A,elDataLabelsWrap:F,elGoalsMarkers:j,elBarShadows:X,visibleSeries:this.visibleI,type:"bar"})}l.globals.seriesXvalues[z]=B,l.globals.seriesYvalues[z]=M,d.add(W)}return d}},{key:"renderSeries",value:function(r){var n=r.realIndex,l=r.pathFill,h=r.lineFill,u=r.j,d=r.i,p=r.groupIndex,g=r.pathFrom,y=r.pathTo,x=r.strokeWidth,w=r.elSeries,C=r.x,T=r.y,P=r.y1,M=r.y2,B=r.series,z=r.barHeight,W=r.barWidth,v=r.barXPosition,A=r.barYPosition,E=r.elDataLabelsWrap,F=r.elGoalsMarkers,j=r.elBarShadows,X=r.visibleSeries,J=r.type,ee=this.w,se=new H(this.ctx);h||(h=this.barOptions.distributed?ee.globals.stroke.colors[u]:ee.globals.stroke.colors[n]),ee.config.series[d].data[u]&&ee.config.series[d].data[u].strokeColor&&(h=ee.config.series[d].data[u].strokeColor),this.isNullValue&&(l="none");var he=u/ee.config.chart.animations.animateGradually.delay*(ee.config.chart.animations.speed/ee.globals.dataPoints)/2.4,ce=se.renderPaths({i:d,j:u,realIndex:n,pathFrom:g,pathTo:y,stroke:h,strokeWidth:x,strokeLineCap:ee.config.stroke.lineCap,fill:l,animationDelay:he,initialSpeed:ee.config.chart.animations.speed,dataChangeSpeed:ee.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(J,"-area")});ce.attr("clip-path","url(#gridRectMask".concat(ee.globals.cuid,")"));var ge=ee.config.forecastDataPoints;ge.count>0&&u>=ee.globals.dataPoints-ge.count&&(ce.node.setAttribute("stroke-dasharray",ge.dashArray),ce.node.setAttribute("stroke-width",ge.strokeWidth),ce.node.setAttribute("fill-opacity",ge.fillOpacity)),P!==void 0&&M!==void 0&&(ce.attr("data-range-y1",P),ce.attr("data-range-y2",M)),new Q(this.ctx).setSelectionFilter(ce,n,u),w.add(ce);var Te=new Ul(this).handleBarDataLabels({x:C,y:T,y1:P,y2:M,i:d,j:u,series:B,realIndex:n,groupIndex:p,barHeight:z,barWidth:W,barXPosition:v,barYPosition:A,renderedPath:ce,visibleSeries:X});return Te.dataLabels!==null&&E.add(Te.dataLabels),Te.totalDataLabels&&E.add(Te.totalDataLabels),w.add(E),F&&w.add(F),j&&w.add(j),w}},{key:"drawBarPaths",value:function(r){var n,l=r.indexes,h=r.barHeight,u=r.strokeWidth,d=r.zeroW,p=r.x,g=r.y,y=r.yDivision,x=r.elSeries,w=this.w,C=l.i,T=l.j;if(w.globals.isXNumeric)n=(g=(w.globals.seriesX[C][T]-w.globals.minX)/this.invertedXRatio-h)+h*this.visibleI;else if(w.config.plotOptions.bar.hideZeroBarsWhenGrouped){var P=0,M=0;w.globals.seriesPercent.forEach(function(z,W){z[T]&&P++,W<C&&z[T]===0&&M++}),P>0&&(h=this.seriesLen*h/P),n=g+h*this.visibleI,n-=h*M}else n=g+h*this.visibleI;this.isFunnel&&(d-=(this.barHelpers.getXForValue(this.series[C][T],d)-d)/2),p=this.barHelpers.getXForValue(this.series[C][T],d);var B=this.barHelpers.getBarpaths({barYPosition:n,barHeight:h,x1:d,x2:p,strokeWidth:u,series:this.series,realIndex:l.realIndex,i:C,j:T,w});return w.globals.isXNumeric||(g+=y),this.barHelpers.barBackground({j:T,i:C,y1:n-h*this.visibleI,y2:h*this.seriesLen,elSeries:x}),{pathTo:B.pathTo,pathFrom:B.pathFrom,x1:d,x:p,y:g,goalX:this.barHelpers.getGoalValues("x",d,null,C,T),barYPosition:n,barHeight:h}}},{key:"drawColumnPaths",value:function(r){var n,l=r.indexes,h=r.x,u=r.y,d=r.xDivision,p=r.barWidth,g=r.zeroH,y=r.strokeWidth,x=r.elSeries,w=this.w,C=l.realIndex,T=l.i,P=l.j,M=l.bc;if(w.globals.isXNumeric){var B=C;w.globals.seriesX[C].length||(B=w.globals.maxValsInArrayIndex),w.globals.seriesX[B][P]&&(h=(w.globals.seriesX[B][P]-w.globals.minX)/this.xRatio-p*this.seriesLen/2),n=h+p*this.visibleI}else if(w.config.plotOptions.bar.hideZeroBarsWhenGrouped){var z=0,W=0;w.globals.seriesPercent.forEach(function(A,E){A[P]&&z++,E<T&&A[P]===0&&W++}),z>0&&(p=this.seriesLen*p/z),n=h+p*this.visibleI,n-=p*W}else n=h+p*this.visibleI;u=this.barHelpers.getYForValue(this.series[T][P],g);var v=this.barHelpers.getColumnPaths({barXPosition:n,barWidth:p,y1:g,y2:u,strokeWidth:y,series:this.series,realIndex:l.realIndex,i:T,j:P,w});return w.globals.isXNumeric||(h+=d),this.barHelpers.barBackground({bc:M,j:P,i:T,x1:n-y/2-p*this.visibleI,x2:p*this.seriesLen+y/2,elSeries:x}),{pathTo:v.pathTo,pathFrom:v.pathFrom,x:h,y:u,goalY:this.barHelpers.getGoalValues("y",null,g,T,P),barXPosition:n,barWidth:p}}},{key:"getPreviousPath",value:function(r,n){for(var l,h=this.w,u=0;u<h.globals.previousPaths.length;u++){var d=h.globals.previousPaths[u];d.paths&&d.paths.length>0&&parseInt(d.realIndex,10)===parseInt(r,10)&&h.globals.previousPaths[u].paths[n]!==void 0&&(l=h.globals.previousPaths[u].paths[n].d)}return l}}]),D}(),fa=function(D){b(n,hr);var r=I(n);function n(){return o(this,n),r.apply(this,arguments)}return f(n,[{key:"draw",value:function(l,h){var u=this,d=this.w;this.graphics=new H(this.ctx),this.bar=new hr(this.ctx,this.xyRatios);var p=new re(this.ctx,d);l=p.getLogSeries(l),this.yRatio=p.getLogYRatios(this.yRatio),this.barHelpers.initVariables(l),d.config.chart.stackType==="100%"&&(l=d.globals.seriesPercent.slice()),this.series=l,this.barHelpers.initializeStackedPrevVars(this);for(var g=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),y=0,x=0,w=function(P,M){var B=void 0,z=void 0,W=void 0,v=void 0,A=-1;u.groupCtx=u,d.globals.seriesGroups.forEach(function(ot,kt){ot.indexOf(d.config.series[P].name)>-1&&(A=kt)}),A!==-1&&(u.groupCtx=u[d.globals.seriesGroups[A]]);var E=[],F=[],j=d.globals.comboCharts?h[P]:P;u.yRatio.length>1&&(u.yaxisIndex=j),u.isReversed=d.config.yaxis[u.yaxisIndex]&&d.config.yaxis[u.yaxisIndex].reversed;var X=u.graphics.group({class:"apexcharts-series",seriesName:V.escapeString(d.globals.seriesNames[j]),rel:P+1,"data:realIndex":j});u.ctx.series.addCollapsedClassToSeries(X,j);var J=u.graphics.group({class:"apexcharts-datalabels","data:realIndex":j}),ee=u.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),se=0,he=0,ce=u.initialPositions(y,x,B,z,W,v);x=ce.y,se=ce.barHeight,z=ce.yDivision,v=ce.zeroW,y=ce.x,he=ce.barWidth,B=ce.xDivision,W=ce.zeroH,u.barHelpers.initializeStackedXYVars(u),u.groupCtx.prevY.length===1&&u.groupCtx.prevY[0].every(function(ot){return isNaN(ot)})&&(u.groupCtx.prevY[0]=u.groupCtx.prevY[0].map(function(ot){return W}),u.groupCtx.prevYF[0]=u.groupCtx.prevYF[0].map(function(ot){return 0}));for(var ge=0;ge<d.globals.dataPoints;ge++){var Te=u.barHelpers.getStrokeWidth(P,ge,j),Re={indexes:{i:P,j:ge,realIndex:j,bc:M},strokeWidth:Te,x:y,y:x,elSeries:X,groupIndex:A,seriesGroup:d.globals.seriesGroups[A]},Fe=null;u.isHorizontal?(Fe=u.drawStackedBarPaths(i(i({},Re),{},{zeroW:v,barHeight:se,yDivision:z})),he=u.series[P][ge]/u.invertedYRatio):(Fe=u.drawStackedColumnPaths(i(i({},Re),{},{xDivision:B,barWidth:he,zeroH:W})),se=u.series[P][ge]/u.yRatio[u.yaxisIndex]);var Xe=u.barHelpers.drawGoalLine({barXPosition:Fe.barXPosition,barYPosition:Fe.barYPosition,goalX:Fe.goalX,goalY:Fe.goalY,barHeight:se,barWidth:he});Xe&&ee.add(Xe),x=Fe.y,y=Fe.x,E.push(y),F.push(x);var mt=u.barHelpers.getPathFillColor(l,P,ge,j);X=u.renderSeries({realIndex:j,pathFill:mt,j:ge,i:P,groupIndex:A,pathFrom:Fe.pathFrom,pathTo:Fe.pathTo,strokeWidth:Te,elSeries:X,x:y,y:x,series:l,barHeight:se,barWidth:he,elDataLabelsWrap:J,elGoalsMarkers:ee,type:"bar",visibleSeries:0})}d.globals.seriesXvalues[j]=E,d.globals.seriesYvalues[j]=F,u.groupCtx.prevY.push(u.groupCtx.yArrj),u.groupCtx.prevYF.push(u.groupCtx.yArrjF),u.groupCtx.prevYVal.push(u.groupCtx.yArrjVal),u.groupCtx.prevX.push(u.groupCtx.xArrj),u.groupCtx.prevXF.push(u.groupCtx.xArrjF),u.groupCtx.prevXVal.push(u.groupCtx.xArrjVal),g.add(X)},C=0,T=0;C<l.length;C++,T++)w(C,T);return g}},{key:"initialPositions",value:function(l,h,u,d,p,g){var y,x,w,C,T=this.w;return this.isHorizontal?(w=(w=d=T.globals.gridHeight/T.globals.dataPoints)*parseInt(T.config.plotOptions.bar.barHeight,10)/100,String(T.config.plotOptions.bar.barHeight).indexOf("%")===-1&&(w=parseInt(T.config.plotOptions.bar.barHeight,10)),g=this.baseLineInvertedY+T.globals.padHorizontal+(this.isReversed?T.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),h=(d-w)/2):(C=u=T.globals.gridWidth/T.globals.dataPoints,C=T.globals.isXNumeric&&T.globals.dataPoints>1?(u=T.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:C*parseInt(T.config.plotOptions.bar.columnWidth,10)/100,String(T.config.plotOptions.bar.columnWidth).indexOf("%")===-1&&(C=parseInt(T.config.plotOptions.bar.columnWidth,10)),p=T.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?T.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),l=T.globals.padHorizontal+(u-C)/2),{x:l,y:h,yDivision:d,xDivision:u,barHeight:(y=T.globals.seriesGroups)!==null&&y!==void 0&&y.length?w/T.globals.seriesGroups.length:w,barWidth:(x=T.globals.seriesGroups)!==null&&x!==void 0&&x.length?C/T.globals.seriesGroups.length:C,zeroH:p,zeroW:g}}},{key:"drawStackedBarPaths",value:function(l){for(var h,u=l.indexes,d=l.barHeight,p=l.strokeWidth,g=l.zeroW,y=l.x,x=l.y,w=l.groupIndex,C=l.seriesGroup,T=l.yDivision,P=l.elSeries,M=this.w,B=x+(w!==-1?w*d:0),z=u.i,W=u.j,v=0,A=0;A<this.groupCtx.prevXF.length;A++)v+=this.groupCtx.prevXF[A][W];var E=z;if(C&&(E=C.indexOf(M.config.series[z].name)),E>0){var F=g;this.groupCtx.prevXVal[E-1][W]<0?F=this.series[z][W]>=0?this.groupCtx.prevX[E-1][W]+v-2*(this.isReversed?v:0):this.groupCtx.prevX[E-1][W]:this.groupCtx.prevXVal[E-1][W]>=0&&(F=this.series[z][W]>=0?this.groupCtx.prevX[E-1][W]:this.groupCtx.prevX[E-1][W]-v+2*(this.isReversed?v:0)),h=F}else h=g;y=this.series[z][W]===null?h:h+this.series[z][W]/this.invertedYRatio-2*(this.isReversed?this.series[z][W]/this.invertedYRatio:0);var j=this.barHelpers.getBarpaths({barYPosition:B,barHeight:d,x1:h,x2:y,strokeWidth:p,series:this.series,realIndex:u.realIndex,seriesGroup:C,i:z,j:W,w:M});return this.barHelpers.barBackground({j:W,i:z,y1:B,y2:d,elSeries:P}),x+=T,{pathTo:j.pathTo,pathFrom:j.pathFrom,goalX:this.barHelpers.getGoalValues("x",g,null,z,W),barYPosition:B,x:y,y:x}}},{key:"drawStackedColumnPaths",value:function(l){var h=l.indexes,u=l.x,d=l.y,p=l.xDivision,g=l.barWidth,y=l.zeroH,x=l.groupIndex,w=l.seriesGroup,C=l.elSeries,T=this.w,P=h.i,M=h.j,B=h.bc;if(T.globals.isXNumeric){var z=T.globals.seriesX[P][M];z||(z=0),u=(z-T.globals.minX)/this.xRatio-g/2,T.globals.seriesGroups.length&&(u=(z-T.globals.minX)/this.xRatio-g/2*T.globals.seriesGroups.length)}for(var W,v=u+(x!==-1?x*g:0),A=0,E=0;E<this.groupCtx.prevYF.length;E++)A+=isNaN(this.groupCtx.prevYF[E][M])?0:this.groupCtx.prevYF[E][M];var F=P;if(w&&(F=w.indexOf(T.config.series[P].name)),F>0&&!T.globals.isXNumeric||F>0&&T.globals.isXNumeric&&T.globals.seriesX[P-1][M]===T.globals.seriesX[P][M]){var j,X,J,ee=Math.min(this.yRatio.length+1,P+1);if(this.groupCtx.prevY[F-1]!==void 0&&this.groupCtx.prevY[F-1].length)for(var se=1;se<ee;se++){var he;if(!isNaN((he=this.groupCtx.prevY[F-se])===null||he===void 0?void 0:he[M])){J=this.groupCtx.prevY[F-se][M];break}}for(var ce=1;ce<ee;ce++){var ge,Te;if(((ge=this.groupCtx.prevYVal[F-ce])===null||ge===void 0?void 0:ge[M])<0){X=this.series[P][M]>=0?J-A+2*(this.isReversed?A:0):J;break}if(((Te=this.groupCtx.prevYVal[F-ce])===null||Te===void 0?void 0:Te[M])>=0){X=this.series[P][M]>=0?J:J+A-2*(this.isReversed?A:0);break}}X===void 0&&(X=T.globals.gridHeight),W=(j=this.groupCtx.prevYF[0])!==null&&j!==void 0&&j.every(function(Fe){return Fe===0})&&this.groupCtx.prevYF.slice(1,F).every(function(Fe){return Fe.every(function(Xe){return isNaN(Xe)})})?y:X}else W=y;d=this.series[P][M]?W-this.series[P][M]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[P][M]/this.yRatio[this.yaxisIndex]:0):W;var Re=this.barHelpers.getColumnPaths({barXPosition:v,barWidth:g,y1:W,y2:d,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:w,realIndex:h.realIndex,i:P,j:M,w:T});return this.barHelpers.barBackground({bc:B,j:M,i:P,x1:v,x2:g,elSeries:C}),u+=p,{pathTo:Re.pathTo,pathFrom:Re.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,y,P,M),barXPosition:v,x:T.globals.isXNumeric?u-p:u,y:d}}}]),n}(),sn=function(D){b(n,hr);var r=I(n);function n(){return o(this,n),r.apply(this,arguments)}return f(n,[{key:"draw",value:function(l,h,u){var d=this,p=this.w,g=new H(this.ctx),y=p.globals.comboCharts?h:p.config.chart.type,x=new ve(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=p.config.plotOptions.bar.horizontal;var w=new re(this.ctx,p);l=w.getLogSeries(l),this.series=l,this.yRatio=w.getLogYRatios(this.yRatio),this.barHelpers.initVariables(l);for(var C=g.group({class:"apexcharts-".concat(y,"-series apexcharts-plot-series")}),T=function(M){d.isBoxPlot=p.config.chart.type==="boxPlot"||p.config.series[M].type==="boxPlot";var B,z,W,v,A=void 0,E=void 0,F=[],j=[],X=p.globals.comboCharts?u[M]:M,J=g.group({class:"apexcharts-series",seriesName:V.escapeString(p.globals.seriesNames[X]),rel:M+1,"data:realIndex":X});d.ctx.series.addCollapsedClassToSeries(J,X),l[M].length>0&&(d.visibleI=d.visibleI+1);var ee,se;d.yRatio.length>1&&(d.yaxisIndex=X);var he=d.barHelpers.initialPositions();E=he.y,ee=he.barHeight,z=he.yDivision,v=he.zeroW,A=he.x,se=he.barWidth,B=he.xDivision,W=he.zeroH,j.push(A+se/2);for(var ce=g.group({class:"apexcharts-datalabels","data:realIndex":X}),ge=function(Re){var Fe=d.barHelpers.getStrokeWidth(M,Re,X),Xe=null,mt={indexes:{i:M,j:Re,realIndex:X},x:A,y:E,strokeWidth:Fe,elSeries:J};Xe=d.isHorizontal?d.drawHorizontalBoxPaths(i(i({},mt),{},{yDivision:z,barHeight:ee,zeroW:v})):d.drawVerticalBoxPaths(i(i({},mt),{},{xDivision:B,barWidth:se,zeroH:W})),E=Xe.y,A=Xe.x,Re>0&&j.push(A+se/2),F.push(E),Xe.pathTo.forEach(function(ot,kt){var Ii=!d.isBoxPlot&&d.candlestickOptions.wick.useFillColor?Xe.color[kt]:p.globals.stroke.colors[M],Yi=x.fillPath({seriesNumber:X,dataPointIndex:Re,color:Xe.color[kt],value:l[M][Re]});d.renderSeries({realIndex:X,pathFill:Yi,lineFill:Ii,j:Re,i:M,pathFrom:Xe.pathFrom,pathTo:ot,strokeWidth:Fe,elSeries:J,x:A,y:E,series:l,barHeight:ee,barWidth:se,elDataLabelsWrap:ce,visibleSeries:d.visibleI,type:p.config.chart.type})})},Te=0;Te<p.globals.dataPoints;Te++)ge(Te);p.globals.seriesXvalues[X]=j,p.globals.seriesYvalues[X]=F,C.add(J)},P=0;P<l.length;P++)T(P);return C}},{key:"drawVerticalBoxPaths",value:function(l){var h=l.indexes,u=l.x;l.y;var d=l.xDivision,p=l.barWidth,g=l.zeroH,y=l.strokeWidth,x=this.w,w=new H(this.ctx),C=h.i,T=h.j,P=!0,M=x.config.plotOptions.candlestick.colors.upward,B=x.config.plotOptions.candlestick.colors.downward,z="";this.isBoxPlot&&(z=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var W=this.yRatio[this.yaxisIndex],v=h.realIndex,A=this.getOHLCValue(v,T),E=g,F=g;A.o>A.c&&(P=!1);var j=Math.min(A.o,A.c),X=Math.max(A.o,A.c),J=A.m;x.globals.isXNumeric&&(u=(x.globals.seriesX[v][T]-x.globals.minX)/this.xRatio-p/2);var ee=u+p*this.visibleI;this.series[C][T]===void 0||this.series[C][T]===null?(j=g,X=g):(j=g-j/W,X=g-X/W,E=g-A.h/W,F=g-A.l/W,J=g-A.m/W);var se=w.move(ee,g),he=w.move(ee+p/2,j);return x.globals.previousPaths.length>0&&(he=this.getPreviousPath(v,T,!0)),se=this.isBoxPlot?[w.move(ee,j)+w.line(ee+p/2,j)+w.line(ee+p/2,E)+w.line(ee+p/4,E)+w.line(ee+p-p/4,E)+w.line(ee+p/2,E)+w.line(ee+p/2,j)+w.line(ee+p,j)+w.line(ee+p,J)+w.line(ee,J)+w.line(ee,j+y/2),w.move(ee,J)+w.line(ee+p,J)+w.line(ee+p,X)+w.line(ee+p/2,X)+w.line(ee+p/2,F)+w.line(ee+p-p/4,F)+w.line(ee+p/4,F)+w.line(ee+p/2,F)+w.line(ee+p/2,X)+w.line(ee,X)+w.line(ee,J)+"z"]:[w.move(ee,X)+w.line(ee+p/2,X)+w.line(ee+p/2,E)+w.line(ee+p/2,X)+w.line(ee+p,X)+w.line(ee+p,j)+w.line(ee+p/2,j)+w.line(ee+p/2,F)+w.line(ee+p/2,j)+w.line(ee,j)+w.line(ee,X-y/2)],he+=w.move(ee,j),x.globals.isXNumeric||(u+=d),{pathTo:se,pathFrom:he,x:u,y:X,barXPosition:ee,color:this.isBoxPlot?z:P?[M]:[B]}}},{key:"drawHorizontalBoxPaths",value:function(l){var h=l.indexes;l.x;var u=l.y,d=l.yDivision,p=l.barHeight,g=l.zeroW,y=l.strokeWidth,x=this.w,w=new H(this.ctx),C=h.i,T=h.j,P=this.boxOptions.colors.lower;this.isBoxPlot&&(P=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var M=this.invertedYRatio,B=h.realIndex,z=this.getOHLCValue(B,T),W=g,v=g,A=Math.min(z.o,z.c),E=Math.max(z.o,z.c),F=z.m;x.globals.isXNumeric&&(u=(x.globals.seriesX[B][T]-x.globals.minX)/this.invertedXRatio-p/2);var j=u+p*this.visibleI;this.series[C][T]===void 0||this.series[C][T]===null?(A=g,E=g):(A=g+A/M,E=g+E/M,W=g+z.h/M,v=g+z.l/M,F=g+z.m/M);var X=w.move(g,j),J=w.move(A,j+p/2);return x.globals.previousPaths.length>0&&(J=this.getPreviousPath(B,T,!0)),X=[w.move(A,j)+w.line(A,j+p/2)+w.line(W,j+p/2)+w.line(W,j+p/2-p/4)+w.line(W,j+p/2+p/4)+w.line(W,j+p/2)+w.line(A,j+p/2)+w.line(A,j+p)+w.line(F,j+p)+w.line(F,j)+w.line(A+y/2,j),w.move(F,j)+w.line(F,j+p)+w.line(E,j+p)+w.line(E,j+p/2)+w.line(v,j+p/2)+w.line(v,j+p-p/4)+w.line(v,j+p/4)+w.line(v,j+p/2)+w.line(E,j+p/2)+w.line(E,j)+w.line(F,j)+"z"],J+=w.move(A,j),x.globals.isXNumeric||(u+=d),{pathTo:X,pathFrom:J,x:E,y:u,barYPosition:j,color:P}}},{key:"getOHLCValue",value:function(l,h){var u=this.w;return{o:this.isBoxPlot?u.globals.seriesCandleH[l][h]:u.globals.seriesCandleO[l][h],h:this.isBoxPlot?u.globals.seriesCandleO[l][h]:u.globals.seriesCandleH[l][h],m:u.globals.seriesCandleM[l][h],l:this.isBoxPlot?u.globals.seriesCandleC[l][h]:u.globals.seriesCandleL[l][h],c:this.isBoxPlot?u.globals.seriesCandleL[l][h]:u.globals.seriesCandleC[l][h]}}}]),n}(),pa=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"checkColorRange",value:function(){var r=this.w,n=!1,l=r.config.plotOptions[r.config.chart.type];return l.colorScale.ranges.length>0&&l.colorScale.ranges.map(function(h,u){h.from<=0&&(n=!0)}),n}},{key:"getShadeColor",value:function(r,n,l,h){var u=this.w,d=1,p=u.config.plotOptions[r].shadeIntensity,g=this.determineColor(r,n,l);u.globals.hasNegs||h?d=u.config.plotOptions[r].reverseNegativeShade?g.percent<0?g.percent/100*(1.25*p):(1-g.percent/100)*(1.25*p):g.percent<=0?1-(1+g.percent/100)*p:(1-g.percent/100)*p:(d=1-g.percent/100,r==="treemap"&&(d=(1-g.percent/100)*(1.25*p)));var y=g.color,x=new V;return u.config.plotOptions[r].enableShades&&(y=this.w.config.theme.mode==="dark"?V.hexToRgba(x.shadeColor(-1*d,g.color),u.config.fill.opacity):V.hexToRgba(x.shadeColor(d,g.color),u.config.fill.opacity)),{color:y,colorProps:g}}},{key:"determineColor",value:function(r,n,l){var h=this.w,u=h.globals.series[n][l],d=h.config.plotOptions[r],p=d.colorScale.inverse?l:n;d.distributed&&h.config.chart.type==="treemap"&&(p=l);var g=h.globals.colors[p],y=null,x=Math.min.apply(Math,N(h.globals.series[n])),w=Math.max.apply(Math,N(h.globals.series[n]));d.distributed||r!=="heatmap"||(x=h.globals.minY,w=h.globals.maxY),d.colorScale.min!==void 0&&(x=d.colorScale.min<h.globals.minY?d.colorScale.min:h.globals.minY,w=d.colorScale.max>h.globals.maxY?d.colorScale.max:h.globals.maxY);var C=Math.abs(w)+Math.abs(x),T=100*u/(C===0?C-1e-6:C);return d.colorScale.ranges.length>0&&d.colorScale.ranges.map(function(P,M){if(u>=P.from&&u<=P.to){g=P.color,y=P.foreColor?P.foreColor:null,x=P.from,w=P.to;var B=Math.abs(w)+Math.abs(x);T=100*u/(B===0?B-1e-6:B)}}),{color:g,foreColor:y,percent:T}}},{key:"calculateDataLabels",value:function(r){var n=r.text,l=r.x,h=r.y,u=r.i,d=r.j,p=r.colorProps,g=r.fontSize,y=this.w.config.dataLabels,x=new H(this.ctx),w=new we(this.ctx),C=null;if(y.enabled){C=x.group({class:"apexcharts-data-labels"});var T=y.offsetX,P=y.offsetY,M=l+T,B=h+parseFloat(y.style.fontSize)/3+P;w.plotDataLabelsText({x:M,y:B,text:n,i:u,j:d,color:p.foreColor,parent:C,fontSize:g,dataLabelsConfig:y})}return C}},{key:"addListeners",value:function(r){var n=new H(this.ctx);r.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,r)),r.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,r)),r.node.addEventListener("mousedown",n.pathMouseDown.bind(this,r))}}]),D}(),Zl=function(){function D(r,n){o(this,D),this.ctx=r,this.w=r.w,this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new pa(r),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return f(D,[{key:"draw",value:function(r){var n=this.w,l=new H(this.ctx),h=l.group({class:"apexcharts-heatmap"});h.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")"));var u=n.globals.gridWidth/n.globals.dataPoints,d=n.globals.gridHeight/n.globals.series.length,p=0,g=!1;this.negRange=this.helpers.checkColorRange();var y=r.slice();n.config.yaxis[0].reversed&&(g=!0,y.reverse());for(var x=g?0:y.length-1;g?x<y.length:x>=0;g?x++:x--){var w=l.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:V.escapeString(n.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});if(this.ctx.series.addCollapsedClassToSeries(w,x),n.config.chart.dropShadow.enabled){var C=n.config.chart.dropShadow;new Q(this.ctx).dropShadow(w,C,x)}for(var T=0,P=n.config.plotOptions.heatmap.shadeIntensity,M=0;M<y[x].length;M++){var B=this.helpers.getShadeColor(n.config.chart.type,x,M,this.negRange),z=B.color,W=B.colorProps;n.config.fill.type==="image"&&(z=new ve(this.ctx).fillPath({seriesNumber:x,dataPointIndex:M,opacity:n.globals.hasNegs?W.percent<0?1-(1+W.percent/100):P+W.percent/100:W.percent/100,patternID:V.randomId(),width:n.config.fill.image.width?n.config.fill.image.width:u,height:n.config.fill.image.height?n.config.fill.image.height:d}));var v=this.rectRadius,A=l.drawRect(T,p,u,d,v);if(A.attr({cx:T,cy:p}),A.node.classList.add("apexcharts-heatmap-rect"),w.add(A),A.attr({fill:z,i:x,index:x,j:M,val:y[x][M],"stroke-width":this.strokeWidth,stroke:n.config.plotOptions.heatmap.useFillColorAsStroke?z:n.globals.stroke.colors[0],color:z}),this.helpers.addListeners(A),n.config.chart.animations.enabled&&!n.globals.dataChanged){var E=1;n.globals.resized||(E=n.config.chart.animations.speed),this.animateHeatMap(A,T,p,u,d,E)}if(n.globals.dataChanged){var F=1;if(this.dynamicAnim.enabled&&n.globals.shouldAnimate){F=this.dynamicAnim.speed;var j=n.globals.previousPaths[x]&&n.globals.previousPaths[x][M]&&n.globals.previousPaths[x][M].color;j||(j="rgba(255, 255, 255, 0)"),this.animateHeatColor(A,V.isColorHex(j)?j:V.rgb2hex(j),V.isColorHex(z)?z:V.rgb2hex(z),F)}}var X=(0,n.config.dataLabels.formatter)(n.globals.series[x][M],{value:n.globals.series[x][M],seriesIndex:x,dataPointIndex:M,w:n}),J=this.helpers.calculateDataLabels({text:X,x:T+u/2,y:p+d/2,i:x,j:M,colorProps:W,series:y});J!==null&&w.add(J),T+=u}p+=d,h.add(w)}var ee=n.globals.yAxisScale[0].result.slice();n.config.yaxis[0].reversed?ee.unshift(""):ee.push(""),n.globals.yAxisScale[0].result=ee;var se=n.globals.gridHeight/n.globals.series.length;return n.config.yaxis[0].labels.offsetY=-se/2,h}},{key:"animateHeatMap",value:function(r,n,l,h,u,d){var p=new $(this.ctx);p.animateRect(r,{x:n+h/2,y:l+u/2,width:0,height:0},{x:n,y:l,width:h,height:u},d,function(){p.animationCompleted(r)})}},{key:"animateHeatColor",value:function(r,n,l,h){r.attr({fill:n}).animate(h).attr({fill:l})}}]),D}(),ga=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"drawYAxisTexts",value:function(r,n,l,h){var u=this.w,d=u.config.yaxis[0],p=u.globals.yLabelFormatters[0];return new H(this.ctx).drawText({x:r+d.labels.offsetX,y:n+d.labels.offsetY,text:p(h,l),textAnchor:"middle",fontSize:d.labels.style.fontSize,fontFamily:d.labels.style.fontFamily,foreColor:Array.isArray(d.labels.style.colors)?d.labels.style.colors[l]:d.labels.style.colors})}}]),D}(),ma=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w;var n=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=n.globals.stroke.colors!==void 0?n.globals.stroke.colors:n.globals.colors,this.defaultSize=Math.min(n.globals.gridWidth,n.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=n.globals.gridWidth/2,n.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(n.config.plotOptions.pie.endAngle-n.config.plotOptions.pie.startAngle),this.initialAngle=n.config.plotOptions.pie.startAngle%this.fullAngle,n.globals.radialSize=this.defaultSize/2.05-n.config.stroke.width-(n.config.chart.sparkline.enabled?0:n.config.chart.dropShadow.blur),this.donutSize=n.globals.radialSize*parseInt(n.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return f(D,[{key:"draw",value:function(r){var n=this,l=this.w,h=new H(this.ctx);if(this.ret=h.group({class:"apexcharts-pie"}),l.globals.noData)return this.ret;for(var u=0,d=0;d<r.length;d++)u+=V.negToZero(r[d]);var p=[],g=h.group();u===0&&(u=1e-5),r.forEach(function(j){n.maxY=Math.max(n.maxY,j)}),l.config.yaxis[0].max&&(this.maxY=l.config.yaxis[0].max),l.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var y=0;y<r.length;y++){var x=this.fullAngle*V.negToZero(r[y])/u;p.push(x),this.chartType==="polarArea"?(p[y]=this.fullAngle/r.length,this.sliceSizes.push(l.globals.radialSize*r[y]/this.maxY)):this.sliceSizes.push(l.globals.radialSize)}if(l.globals.dataChanged){for(var w,C=0,T=0;T<l.globals.previousPaths.length;T++)C+=V.negToZero(l.globals.previousPaths[T]);for(var P=0;P<l.globals.previousPaths.length;P++)w=this.fullAngle*V.negToZero(l.globals.previousPaths[P])/C,this.prevSectorAngleArr.push(w)}this.donutSize<0&&(this.donutSize=0);var M=l.config.plotOptions.pie.customScale,B=l.globals.gridWidth/2,z=l.globals.gridHeight/2,W=B-l.globals.gridWidth/2*M,v=z-l.globals.gridHeight/2*M;if(this.chartType==="donut"){var A=h.drawCircle(this.donutSize);A.attr({cx:this.centerX,cy:this.centerY,fill:l.config.plotOptions.pie.donut.background?l.config.plotOptions.pie.donut.background:"transparent"}),g.add(A)}var E=this.drawArcs(p,r);if(this.sliceLabels.forEach(function(j){E.add(j)}),g.attr({transform:"translate(".concat(W,", ").concat(v,") scale(").concat(M,")")}),g.add(E),this.ret.add(g),this.donutDataLabels.show){var F=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:W,translateY:v});this.ret.add(F)}return l.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(r,n){var l=this.w,h=new Q(this.ctx),u=new H(this.ctx),d=new ve(this.ctx),p=u.group({class:"apexcharts-slices"}),g=this.initialAngle,y=this.initialAngle,x=this.initialAngle,w=this.initialAngle;this.strokeWidth=l.config.stroke.show?l.config.stroke.width:0;for(var C=0;C<r.length;C++){var T=u.group({class:"apexcharts-series apexcharts-pie-series",seriesName:V.escapeString(l.globals.seriesNames[C]),rel:C+1,"data:realIndex":C});p.add(T),y=w,x=(g=x)+r[C],w=y+this.prevSectorAngleArr[C];var P=x<g?this.fullAngle+x-g:x-g,M=d.fillPath({seriesNumber:C,size:this.sliceSizes[C],value:n[C]}),B=this.getChangedPath(y,w),z=u.drawPath({d:B,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[C]:this.lineColorArr,strokeWidth:0,fill:M,fillOpacity:l.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(C)});if(z.attr({index:0,j:C}),h.setSelectionFilter(z,0,C),l.config.chart.dropShadow.enabled){var W=l.config.chart.dropShadow;h.dropShadow(z,W,C)}this.addListeners(z,this.donutDataLabels),H.setAttrs(z.node,{"data:angle":P,"data:startAngle":g,"data:strokeWidth":this.strokeWidth,"data:value":n[C]});var v={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?v=V.polarToCartesian(this.centerX,this.centerY,l.globals.radialSize/1.25+l.config.plotOptions.pie.dataLabels.offset,(g+P/2)%this.fullAngle):this.chartType==="donut"&&(v=V.polarToCartesian(this.centerX,this.centerY,(l.globals.radialSize+this.donutSize)/2+l.config.plotOptions.pie.dataLabels.offset,(g+P/2)%this.fullAngle)),T.add(z);var A=0;if(!this.initialAnim||l.globals.resized||l.globals.dataChanged?this.animBeginArr.push(0):((A=P/this.fullAngle*l.config.chart.animations.speed)===0&&(A=1),this.animDur=A+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&l.globals.dataChanged?this.animatePaths(z,{size:this.sliceSizes[C],endAngle:x,startAngle:g,prevStartAngle:y,prevEndAngle:w,animateStartingPos:!0,i:C,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:l.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(z,{size:this.sliceSizes[C],endAngle:x,startAngle:g,i:C,totalItems:r.length-1,animBeginArr:this.animBeginArr,dur:A}),l.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&z.click(this.pieClicked.bind(this,C)),l.globals.selectedDataPoints[0]!==void 0&&l.globals.selectedDataPoints[0].indexOf(C)>-1&&this.pieClicked(C),l.config.dataLabels.enabled){var E=v.x,F=v.y,j=100*P/this.fullAngle+"%";if(P!==0&&l.config.plotOptions.pie.dataLabels.minAngleToShowLabel<r[C]){var X=l.config.dataLabels.formatter;X!==void 0&&(j=X(l.globals.seriesPercent[C][0],{seriesIndex:C,w:l}));var J=l.globals.dataLabels.style.colors[C],ee=u.group({class:"apexcharts-datalabels"}),se=u.drawText({x:E,y:F,text:j,textAnchor:"middle",fontSize:l.config.dataLabels.style.fontSize,fontFamily:l.config.dataLabels.style.fontFamily,fontWeight:l.config.dataLabels.style.fontWeight,foreColor:J});if(ee.add(se),l.config.dataLabels.dropShadow.enabled){var he=l.config.dataLabels.dropShadow;h.dropShadow(se,he)}se.node.classList.add("apexcharts-pie-label"),l.config.chart.animations.animate&&l.globals.resized===!1&&(se.node.classList.add("apexcharts-pie-label-delay"),se.node.style.animationDelay=l.config.chart.animations.speed/940+"s"),this.sliceLabels.push(ee)}}}return p}},{key:"addListeners",value:function(r,n){var l=new H(this.ctx);r.node.addEventListener("mouseenter",l.pathMouseEnter.bind(this,r)),r.node.addEventListener("mouseleave",l.pathMouseLeave.bind(this,r)),r.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,r.node,n)),r.node.addEventListener("mousedown",l.pathMouseDown.bind(this,r)),this.donutDataLabels.total.showAlways||(r.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,r.node,n)),r.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,r.node,n)))}},{key:"animatePaths",value:function(r,n){var l=this.w,h=n.endAngle<n.startAngle?this.fullAngle+n.endAngle-n.startAngle:n.endAngle-n.startAngle,u=h,d=n.startAngle,p=n.startAngle;n.prevStartAngle!==void 0&&n.prevEndAngle!==void 0&&(d=n.prevEndAngle,u=n.prevEndAngle<n.prevStartAngle?this.fullAngle+n.prevEndAngle-n.prevStartAngle:n.prevEndAngle-n.prevStartAngle),n.i===l.config.series.length-1&&(h+p>this.fullAngle?n.endAngle=n.endAngle-(h+p):h+p<this.fullAngle&&(n.endAngle=n.endAngle+(this.fullAngle-(h+p)))),h===this.fullAngle&&(h=this.fullAngle-.01),this.animateArc(r,d,p,h,u,n)}},{key:"animateArc",value:function(r,n,l,h,u,d){var p,g=this,y=this.w,x=new $(this.ctx),w=d.size;(isNaN(n)||isNaN(u))&&(n=l,u=h,d.dur=0);var C=h,T=l,P=n<l?this.fullAngle+n-l:n-l;y.globals.dataChanged&&d.shouldSetPrevPaths&&d.prevEndAngle&&(p=g.getPiePath({me:g,startAngle:d.prevStartAngle,angle:d.prevEndAngle<d.prevStartAngle?this.fullAngle+d.prevEndAngle-d.prevStartAngle:d.prevEndAngle-d.prevStartAngle,size:w}),r.attr({d:p})),d.dur!==0?r.animate(d.dur,y.globals.easing,d.animBeginArr[d.i]).afterAll(function(){g.chartType!=="pie"&&g.chartType!=="donut"&&g.chartType!=="polarArea"||this.animate(y.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":g.strokeWidth}),d.i===y.config.series.length-1&&x.animationCompleted(r)}).during(function(M){C=P+(h-P)*M,d.animateStartingPos&&(C=u+(h-u)*M,T=n-u+(l-(n-u))*M),p=g.getPiePath({me:g,startAngle:T,angle:C,size:w}),r.node.setAttribute("data:pathOrig",p),r.attr({d:p})}):(p=g.getPiePath({me:g,startAngle:T,angle:h,size:w}),d.isTrack||(y.globals.animationEnded=!0),r.node.setAttribute("data:pathOrig",p),r.attr({d:p,"stroke-width":g.strokeWidth}))}},{key:"pieClicked",value:function(r){var n,l=this.w,h=this,u=h.sliceSizes[r]+(l.config.plotOptions.pie.expandOnClick?4:0),d=l.globals.dom.Paper.select(".apexcharts-".concat(h.chartType.toLowerCase(),"-slice-").concat(r)).members[0];if(d.attr("data:pieClicked")!=="true"){var p=l.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(p,function(w){w.setAttribute("data:pieClicked","false");var C=w.getAttribute("data:pathOrig");C&&w.setAttribute("d",C)}),d.attr("data:pieClicked","true");var g=parseInt(d.attr("data:startAngle"),10),y=parseInt(d.attr("data:angle"),10);n=h.getPiePath({me:h,startAngle:g,angle:y,size:u}),y!==360&&d.plot(n)}else{d.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(d.node,this.donutDataLabels);var x=d.attr("data:pathOrig");d.attr({d:x})}}},{key:"getChangedPath",value:function(r,n){var l="";return this.dynamicAnim&&this.w.globals.dataChanged&&(l=this.getPiePath({me:this,startAngle:r,angle:n-r,size:this.size})),l}},{key:"getPiePath",value:function(r){var n=r.me,l=r.startAngle,h=r.angle,u=r.size,d=l,p=Math.PI*(d-90)/180,g=h+l;Math.ceil(g)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(g=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(g)>this.fullAngle&&(g-=this.fullAngle);var y=Math.PI*(g-90)/180,x=n.centerX+u*Math.cos(p),w=n.centerY+u*Math.sin(p),C=n.centerX+u*Math.cos(y),T=n.centerY+u*Math.sin(y),P=V.polarToCartesian(n.centerX,n.centerY,n.donutSize,g),M=V.polarToCartesian(n.centerX,n.centerY,n.donutSize,d),B=h>180?1:0,z=["M",x,w,"A",u,u,0,B,1,C,T];return n.chartType==="donut"?[].concat(z,["L",P.x,P.y,"A",n.donutSize,n.donutSize,0,B,0,M.x,M.y,"L",x,w,"z"]).join(" "):n.chartType==="pie"||n.chartType==="polarArea"?[].concat(z,["L",n.centerX,n.centerY,"L",x,w]).join(" "):[].concat(z).join(" ")}},{key:"drawPolarElements",value:function(r){var n=this.w,l=new gt(this.ctx),h=new H(this.ctx),u=new ga(this.ctx),d=h.group(),p=h.group(),g=l.niceScale(0,Math.ceil(this.maxY),n.config.yaxis[0].tickAmount,0,!0),y=g.result.reverse(),x=g.result.length;this.maxY=g.niceMax;for(var w=n.globals.radialSize,C=w/(x-1),T=0;T<x-1;T++){var P=h.drawCircle(w);if(P.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":n.config.plotOptions.polarArea.rings.strokeWidth,stroke:n.config.plotOptions.polarArea.rings.strokeColor}),n.config.yaxis[0].show){var M=u.drawYAxisTexts(this.centerX,this.centerY-w+parseInt(n.config.yaxis[0].labels.style.fontSize,10)/2,T,y[T]);p.add(M)}d.add(P),w-=C}this.drawSpokes(r),r.add(d),r.add(p)}},{key:"renderInnerDataLabels",value:function(r,n){var l=this.w,h=new H(this.ctx),u=h.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(n.translateX?n.translateX:0,", ").concat(n.translateY?n.translateY:0,") scale(").concat(l.config.plotOptions.pie.customScale,")")}),d=r.total.show;u.node.style.opacity=n.opacity;var p,g,y=n.centerX,x=n.centerY;p=r.name.color===void 0?l.globals.colors[0]:r.name.color;var w=r.name.fontSize,C=r.name.fontFamily,T=r.name.fontWeight;g=r.value.color===void 0?l.config.chart.foreColor:r.value.color;var P=r.value.formatter,M="",B="";if(d?(p=r.total.color,w=r.total.fontSize,C=r.total.fontFamily,T=r.total.fontWeight,B=r.total.label,M=r.total.formatter(l)):l.globals.series.length===1&&(M=P(l.globals.series[0],l),B=l.globals.seriesNames[0]),B&&(B=r.name.formatter(B,r.total.show,l)),r.name.show){var z=h.drawText({x:y,y:x+parseFloat(r.name.offsetY),text:B,textAnchor:"middle",foreColor:p,fontSize:w,fontWeight:T,fontFamily:C});z.node.classList.add("apexcharts-datalabel-label"),u.add(z)}if(r.value.show){var W=r.name.show?parseFloat(r.value.offsetY)+16:r.value.offsetY,v=h.drawText({x:y,y:x+W,text:M,textAnchor:"middle",foreColor:g,fontWeight:r.value.fontWeight,fontSize:r.value.fontSize,fontFamily:r.value.fontFamily});v.node.classList.add("apexcharts-datalabel-value"),u.add(v)}return u}},{key:"printInnerLabels",value:function(r,n,l,h){var u,d=this.w;h?u=r.name.color===void 0?d.globals.colors[parseInt(h.parentNode.getAttribute("rel"),10)-1]:r.name.color:d.globals.series.length>1&&r.total.show&&(u=r.total.color);var p=d.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),g=d.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");l=(0,r.value.formatter)(l,d),h||typeof r.total.formatter!="function"||(l=r.total.formatter(d));var y=n===r.total.label;n=r.name.formatter(n,y,d),p!==null&&(p.textContent=n),g!==null&&(g.textContent=l),p!==null&&(p.style.fill=u)}},{key:"printDataLabelsInner",value:function(r,n){var l=this.w,h=r.getAttribute("data:value"),u=l.globals.seriesNames[parseInt(r.parentNode.getAttribute("rel"),10)-1];l.globals.series.length>1&&this.printInnerLabels(n,u,h,r);var d=l.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");d!==null&&(d.style.opacity=1)}},{key:"drawSpokes",value:function(r){var n=this,l=this.w,h=new H(this.ctx),u=l.config.plotOptions.polarArea.spokes;if(u.strokeWidth!==0){for(var d=[],p=360/l.globals.series.length,g=0;g<l.globals.series.length;g++)d.push(V.polarToCartesian(this.centerX,this.centerY,l.globals.radialSize,l.config.plotOptions.pie.startAngle+p*g));d.forEach(function(y,x){var w=h.drawLine(y.x,y.y,n.centerX,n.centerY,Array.isArray(u.connectorColors)?u.connectorColors[x]:u.connectorColors);r.add(w)})}}},{key:"revertDataLabelsInner",value:function(r,n,l){var h=this,u=this.w,d=u.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),p=!1,g=u.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),y=function(C){var T=C.makeSliceOut,P=C.printLabel;Array.prototype.forEach.call(g,function(M){M.getAttribute("data:pieClicked")==="true"&&(T&&(p=!0),P&&h.printDataLabelsInner(M,n))})};if(y({makeSliceOut:!0,printLabel:!1}),n.total.show&&u.globals.series.length>1)p&&!n.total.showAlways?y({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(n,n.total.label,n.total.formatter(u));else if(y({makeSliceOut:!1,printLabel:!0}),!p)if(u.globals.selectedDataPoints.length&&u.globals.series.length>1)if(u.globals.selectedDataPoints[0].length>0){var x=u.globals.selectedDataPoints[0],w=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(x));this.printDataLabelsInner(w,n)}else d&&u.globals.selectedDataPoints.length&&u.globals.selectedDataPoints[0].length===0&&(d.style.opacity=0);else d&&u.globals.series.length>1&&(d.style.opacity=0)}}]),D}(),$l=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var n=this.w;this.graphics=new H(this.ctx),this.lineColorArr=n.globals.stroke.colors!==void 0?n.globals.stroke.colors:n.globals.colors,this.defaultSize=n.globals.svgHeight<n.globals.svgWidth?n.globals.gridHeight+1.5*n.globals.goldenPadding:n.globals.gridWidth,this.isLog=n.config.yaxis[0].logarithmic,this.coreUtils=new re(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(n.globals.maxY,0):n.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):n.globals.minY,this.polygons=n.config.plotOptions.radar.polygons,this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-n.config.chart.dropShadow.blur,n.config.xaxis.labels.show&&(this.size=this.size-n.globals.xAxisLabelsWidth/1.75),n.config.plotOptions.radar.size!==void 0&&(this.size=n.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return f(D,[{key:"draw",value:function(r){var n=this,l=this.w,h=new ve(this.ctx),u=[],d=new we(this.ctx);r.length&&(this.dataPointsLen=r[l.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var p=l.globals.gridWidth/2,g=l.globals.gridHeight/2,y=p+l.config.plotOptions.radar.offsetX,x=g+l.config.plotOptions.radar.offsetY,w=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(y||0,", ").concat(x||0,")")}),C=[],T=null,P=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),r.forEach(function(B,z){var W=B.length===l.globals.dataPoints,v=n.graphics.group().attr({class:"apexcharts-series","data:longestSeries":W,seriesName:V.escapeString(l.globals.seriesNames[z]),rel:z+1,"data:realIndex":z});n.dataRadiusOfPercent[z]=[],n.dataRadius[z]=[],n.angleArr[z]=[],B.forEach(function(ce,ge){var Te=Math.abs(n.maxValue-n.minValue);ce+=Math.abs(n.minValue),n.isLog&&(ce=n.coreUtils.getLogVal(ce,0)),n.dataRadiusOfPercent[z][ge]=ce/Te,n.dataRadius[z][ge]=n.dataRadiusOfPercent[z][ge]*n.size,n.angleArr[z][ge]=ge*n.disAngle}),C=n.getDataPointsPos(n.dataRadius[z],n.angleArr[z]);var A=n.createPaths(C,{x:0,y:0});T=n.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),P=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":z}),l.globals.delayedElements.push({el:T.node,index:z});var E={i:z,realIndex:z,animationDelay:z,initialSpeed:l.config.chart.animations.speed,dataChangeSpeed:l.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:l.globals.stroke.colors[z],strokeLineCap:l.config.stroke.lineCap},F=null;l.globals.previousPaths.length>0&&(F=n.getPreviousPath(z));for(var j=0;j<A.linePathsTo.length;j++){var X=n.graphics.renderPaths(i(i({},E),{},{pathFrom:F===null?A.linePathsFrom[j]:F,pathTo:A.linePathsTo[j],strokeWidth:Array.isArray(n.strokeWidth)?n.strokeWidth[z]:n.strokeWidth,fill:"none",drawShadow:!1}));v.add(X);var J=h.fillPath({seriesNumber:z}),ee=n.graphics.renderPaths(i(i({},E),{},{pathFrom:F===null?A.areaPathsFrom[j]:F,pathTo:A.areaPathsTo[j],strokeWidth:0,fill:J,drawShadow:!1}));if(l.config.chart.dropShadow.enabled){var se=new Q(n.ctx),he=l.config.chart.dropShadow;se.dropShadow(ee,Object.assign({},he,{noUserSpaceOnUse:!0}),z)}v.add(ee)}B.forEach(function(ce,ge){var Te=new rt(n.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:z,dataPointIndex:ge}),Re=n.graphics.drawMarker(C[ge].x,C[ge].y,Te);Re.attr("rel",ge),Re.attr("j",ge),Re.attr("index",z),Re.node.setAttribute("default-marker-size",Te.pSize);var Fe=n.graphics.group({class:"apexcharts-series-markers"});Fe&&Fe.add(Re),T.add(Fe),v.add(T);var Xe=l.config.dataLabels;if(Xe.enabled){var mt=Xe.formatter(l.globals.series[z][ge],{seriesIndex:z,dataPointIndex:ge,w:l});d.plotDataLabelsText({x:C[ge].x,y:C[ge].y,text:mt,textAnchor:"middle",i:z,j:z,parent:P,offsetCorrection:!1,dataLabelsConfig:i({},Xe)})}v.add(P)}),u.push(v)}),this.drawPolygons({parent:w}),l.config.xaxis.labels.show){var M=this.drawXAxisTexts();w.add(M)}return u.forEach(function(B){w.add(B)}),w.add(this.yaxisLabels),w}},{key:"drawPolygons",value:function(r){for(var n=this,l=this.w,h=r.parent,u=new ga(this.ctx),d=l.globals.yAxisScale[0].result.reverse(),p=d.length,g=[],y=this.size/(p-1),x=0;x<p;x++)g[x]=y*x;g.reverse();var w=[],C=[];g.forEach(function(T,P){var M=V.getPolygonPos(T,n.dataPointsLen),B="";M.forEach(function(z,W){if(P===0){var v=n.graphics.drawLine(z.x,z.y,0,0,Array.isArray(n.polygons.connectorColors)?n.polygons.connectorColors[W]:n.polygons.connectorColors);C.push(v)}W===0&&n.yaxisLabelsTextsPos.push({x:z.x,y:z.y}),B+=z.x+","+z.y+" "}),w.push(B)}),w.forEach(function(T,P){var M=n.polygons.strokeColors,B=n.polygons.strokeWidth,z=n.graphics.drawPolygon(T,Array.isArray(M)?M[P]:M,Array.isArray(B)?B[P]:B,l.globals.radarPolygons.fill.colors[P]);h.add(z)}),C.forEach(function(T){h.add(T)}),l.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(T,P){var M=u.drawYAxisTexts(T.x,T.y,P,d[P]);n.yaxisLabels.add(M)})}},{key:"drawXAxisTexts",value:function(){var r=this,n=this.w,l=n.config.xaxis.labels,h=this.graphics.group({class:"apexcharts-xaxis"}),u=V.getPolygonPos(this.size,this.dataPointsLen);return n.globals.labels.forEach(function(d,p){var g=n.config.xaxis.labels.formatter,y=new we(r.ctx);if(u[p]){var x=r.getTextPos(u[p],r.size),w=g(d,{seriesIndex:-1,dataPointIndex:p,w:n});y.plotDataLabelsText({x:x.newX,y:x.newY,text:w,textAnchor:x.textAnchor,i:p,j:p,parent:h,color:Array.isArray(l.style.colors)&&l.style.colors[p]?l.style.colors[p]:"#a8a8a8",dataLabelsConfig:i({textAnchor:x.textAnchor,dropShadow:{enabled:!1}},l),offsetCorrection:!1})}}),h}},{key:"createPaths",value:function(r,n){var l=this,h=[],u=[],d=[],p=[];if(r.length){u=[this.graphics.move(n.x,n.y)],p=[this.graphics.move(n.x,n.y)];var g=this.graphics.move(r[0].x,r[0].y),y=this.graphics.move(r[0].x,r[0].y);r.forEach(function(x,w){g+=l.graphics.line(x.x,x.y),y+=l.graphics.line(x.x,x.y),w===r.length-1&&(g+="Z",y+="Z")}),h.push(g),d.push(y)}return{linePathsFrom:u,linePathsTo:h,areaPathsFrom:p,areaPathsTo:d}}},{key:"getTextPos",value:function(r,n){var l="middle",h=r.x,u=r.y;return Math.abs(r.x)>=10?r.x>0?(l="start",h+=10):r.x<0&&(l="end",h-=10):l="middle",Math.abs(r.y)>=n-10&&(r.y<0?u-=10:r.y>0&&(u+=10)),{textAnchor:l,newX:h,newY:u}}},{key:"getPreviousPath",value:function(r){for(var n=this.w,l=null,h=0;h<n.globals.previousPaths.length;h++){var u=n.globals.previousPaths[h];u.paths.length>0&&parseInt(u.realIndex,10)===parseInt(r,10)&&n.globals.previousPaths[h].paths[0]!==void 0&&(l=n.globals.previousPaths[h].paths[0].d)}return l}},{key:"getDataPointsPos",value:function(r,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;r=r||[],n=n||[];for(var h=[],u=0;u<l;u++){var d={};d.x=r[u]*Math.sin(n[u]),d.y=-r[u]*Math.cos(n[u]),h.push(d)}return h}}]),D}(),Kl=function(D){b(n,ma);var r=I(n);function n(l){var h;o(this,n),(h=r.call(this,l)).ctx=l,h.w=l.w,h.animBeginArr=[0],h.animDur=0;var u=h.w;return h.startAngle=u.config.plotOptions.radialBar.startAngle,h.endAngle=u.config.plotOptions.radialBar.endAngle,h.totalAngle=Math.abs(u.config.plotOptions.radialBar.endAngle-u.config.plotOptions.radialBar.startAngle),h.trackStartAngle=u.config.plotOptions.radialBar.track.startAngle,h.trackEndAngle=u.config.plotOptions.radialBar.track.endAngle,h.donutDataLabels=h.w.config.plotOptions.radialBar.dataLabels,h.radialDataLabels=h.donutDataLabels,h.trackStartAngle||(h.trackStartAngle=h.startAngle),h.trackEndAngle||(h.trackEndAngle=h.endAngle),h.endAngle===360&&(h.endAngle=359.99),h.margin=parseInt(u.config.plotOptions.radialBar.track.margin,10),h}return f(n,[{key:"draw",value:function(l){var h=this.w,u=new H(this.ctx),d=u.group({class:"apexcharts-radialbar"});if(h.globals.noData)return d;var p=u.group(),g=this.defaultSize/2,y=h.globals.gridWidth/2,x=this.defaultSize/2.05;h.config.chart.sparkline.enabled||(x=x-h.config.stroke.width-h.config.chart.dropShadow.blur);var w=h.globals.fill.colors;if(h.config.plotOptions.radialBar.track.show){var C=this.drawTracks({size:x,centerX:y,centerY:g,colorArr:w,series:l});p.add(C)}var T=this.drawArcs({size:x,centerX:y,centerY:g,colorArr:w,series:l}),P=360;h.config.plotOptions.radialBar.startAngle<0&&(P=this.totalAngle);var M=(360-P)/360;if(h.globals.radialSize=x-x*M,this.radialDataLabels.value.show){var B=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);h.globals.radialSize+=B*M}return p.add(T.g),h.config.plotOptions.radialBar.hollow.position==="front"&&(T.g.add(T.elHollow),T.dataLabels&&T.g.add(T.dataLabels)),d.add(p),d}},{key:"drawTracks",value:function(l){var h=this.w,u=new H(this.ctx),d=u.group({class:"apexcharts-tracks"}),p=new Q(this.ctx),g=new ve(this.ctx),y=this.getStrokeWidth(l);l.size=l.size-y/2;for(var x=0;x<l.series.length;x++){var w=u.group({class:"apexcharts-radialbar-track apexcharts-track"});d.add(w),w.attr({rel:x+1}),l.size=l.size-y-this.margin;var C=h.config.plotOptions.radialBar.track,T=g.fillPath({seriesNumber:0,size:l.size,fillColors:Array.isArray(C.background)?C.background[x]:C.background,solid:!0}),P=this.trackStartAngle,M=this.trackEndAngle;Math.abs(M)+Math.abs(P)>=360&&(M=360-Math.abs(this.startAngle)-.1);var B=u.drawPath({d:"",stroke:T,strokeWidth:y*parseInt(C.strokeWidth,10)/100,fill:"none",strokeOpacity:C.opacity,classes:"apexcharts-radialbar-area"});if(C.dropShadow.enabled){var z=C.dropShadow;p.dropShadow(B,z)}w.add(B),B.attr("id","apexcharts-radialbarTrack-"+x),this.animatePaths(B,{centerX:l.centerX,centerY:l.centerY,endAngle:M,startAngle:P,size:l.size,i:x,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:h.globals.easing})}return d}},{key:"drawArcs",value:function(l){var h=this.w,u=new H(this.ctx),d=new ve(this.ctx),p=new Q(this.ctx),g=u.group(),y=this.getStrokeWidth(l);l.size=l.size-y/2;var x=h.config.plotOptions.radialBar.hollow.background,w=l.size-y*l.series.length-this.margin*l.series.length-y*parseInt(h.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,C=w-h.config.plotOptions.radialBar.hollow.margin;h.config.plotOptions.radialBar.hollow.image!==void 0&&(x=this.drawHollowImage(l,g,w,x));var T=this.drawHollow({size:C,centerX:l.centerX,centerY:l.centerY,fill:x||"transparent"});if(h.config.plotOptions.radialBar.hollow.dropShadow.enabled){var P=h.config.plotOptions.radialBar.hollow.dropShadow;p.dropShadow(T,P)}var M=1;!this.radialDataLabels.total.show&&h.globals.series.length>1&&(M=0);var B=null;this.radialDataLabels.show&&(B=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:w,centerX:l.centerX,centerY:l.centerY,opacity:M})),h.config.plotOptions.radialBar.hollow.position==="back"&&(g.add(T),B&&g.add(B));var z=!1;h.config.plotOptions.radialBar.inverseOrder&&(z=!0);for(var W=z?l.series.length-1:0;z?W>=0:W<l.series.length;z?W--:W++){var v=u.group({class:"apexcharts-series apexcharts-radial-series",seriesName:V.escapeString(h.globals.seriesNames[W])});g.add(v),v.attr({rel:W+1,"data:realIndex":W}),this.ctx.series.addCollapsedClassToSeries(v,W),l.size=l.size-y-this.margin;var A=d.fillPath({seriesNumber:W,size:l.size,value:l.series[W]}),E=this.startAngle,F=void 0,j=V.negToZero(l.series[W]>100?100:l.series[W])/100,X=Math.round(this.totalAngle*j)+this.startAngle,J=void 0;h.globals.dataChanged&&(F=this.startAngle,J=Math.round(this.totalAngle*V.negToZero(h.globals.previousPaths[W])/100)+F),Math.abs(X)+Math.abs(E)>=360&&(X-=.01),Math.abs(J)+Math.abs(F)>=360&&(J-=.01);var ee=X-E,se=Array.isArray(h.config.stroke.dashArray)?h.config.stroke.dashArray[W]:h.config.stroke.dashArray,he=u.drawPath({d:"",stroke:A,strokeWidth:y,fill:"none",fillOpacity:h.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+W,strokeDashArray:se});if(H.setAttrs(he.node,{"data:angle":ee,"data:value":l.series[W]}),h.config.chart.dropShadow.enabled){var ce=h.config.chart.dropShadow;p.dropShadow(he,ce,W)}p.setSelectionFilter(he,0,W),this.addListeners(he,this.radialDataLabels),v.add(he),he.attr({index:0,j:W});var ge=0;!this.initialAnim||h.globals.resized||h.globals.dataChanged||(ge=h.config.chart.animations.speed),h.globals.dataChanged&&(ge=h.config.chart.animations.dynamicAnimation.speed),this.animDur=ge/(1.2*l.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(he,{centerX:l.centerX,centerY:l.centerY,endAngle:X,startAngle:E,prevEndAngle:J,prevStartAngle:F,size:l.size,i:W,totalItems:2,animBeginArr:this.animBeginArr,dur:ge,shouldSetPrevPaths:!0,easing:h.globals.easing})}return{g,elHollow:T,dataLabels:B}}},{key:"drawHollow",value:function(l){var h=new H(this.ctx).drawCircle(2*l.size);return h.attr({class:"apexcharts-radialbar-hollow",cx:l.centerX,cy:l.centerY,r:l.size,fill:l.fill}),h}},{key:"drawHollowImage",value:function(l,h,u,d){var p=this.w,g=new ve(this.ctx),y=V.randomId(),x=p.config.plotOptions.radialBar.hollow.image;if(p.config.plotOptions.radialBar.hollow.imageClipped)g.clippedImgArea({width:u,height:u,image:x,patternID:"pattern".concat(p.globals.cuid).concat(y)}),d="url(#pattern".concat(p.globals.cuid).concat(y,")");else{var w=p.config.plotOptions.radialBar.hollow.imageWidth,C=p.config.plotOptions.radialBar.hollow.imageHeight;if(w===void 0&&C===void 0){var T=p.globals.dom.Paper.image(x).loaded(function(M){this.move(l.centerX-M.width/2+p.config.plotOptions.radialBar.hollow.imageOffsetX,l.centerY-M.height/2+p.config.plotOptions.radialBar.hollow.imageOffsetY)});h.add(T)}else{var P=p.globals.dom.Paper.image(x).loaded(function(M){this.move(l.centerX-w/2+p.config.plotOptions.radialBar.hollow.imageOffsetX,l.centerY-C/2+p.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(w,C)});h.add(P)}}return d}},{key:"getStrokeWidth",value:function(l){var h=this.w;return l.size*(100-parseInt(h.config.plotOptions.radialBar.hollow.size,10))/100/(l.series.length+1)-this.margin}}]),n}(),Jl=function(D){b(n,hr);var r=I(n);function n(){return o(this,n),r.apply(this,arguments)}return f(n,[{key:"draw",value:function(l,h){var u=this.w,d=new H(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=l,this.seriesRangeStart=u.globals.seriesRangeStart,this.seriesRangeEnd=u.globals.seriesRangeEnd,this.barHelpers.initVariables(l);for(var p=d.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),g=0;g<l.length;g++){var y,x,w,C,T=void 0,P=void 0,M=u.globals.comboCharts?h[g]:g,B=d.group({class:"apexcharts-series",seriesName:V.escapeString(u.globals.seriesNames[M]),rel:g+1,"data:realIndex":M});this.ctx.series.addCollapsedClassToSeries(B,M),l[g].length>0&&(this.visibleI=this.visibleI+1);var z=0,W=0;this.yRatio.length>1&&(this.yaxisIndex=M);var v=this.barHelpers.initialPositions();P=v.y,C=v.zeroW,T=v.x,W=v.barWidth,z=v.barHeight,y=v.xDivision,x=v.yDivision,w=v.zeroH;for(var A=d.group({class:"apexcharts-datalabels","data:realIndex":M}),E=d.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),F=0;F<u.globals.dataPoints;F++){var j,X=this.barHelpers.getStrokeWidth(g,F,M),J=this.seriesRangeStart[g][F],ee=this.seriesRangeEnd[g][F],se=null,he=null,ce=null,ge={x:T,y:P,strokeWidth:X,elSeries:B},Te=this.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(Te=1),u.config.series[g].data[F]===void 0)break;if(this.isHorizontal){ce=P+z*this.visibleI;var Re=(x-z*Te)/2;if(u.config.series[g].data[F].x){var Fe=this.detectOverlappingBars({i:g,j:F,barYPosition:ce,srty:Re,barHeight:z,yDivision:x,initPositions:v});z=Fe.barHeight,ce=Fe.barYPosition}W=(se=this.drawRangeBarPaths(i({indexes:{i:g,j:F,realIndex:M},barHeight:z,barYPosition:ce,zeroW:C,yDivision:x,y1:J,y2:ee},ge))).barWidth}else{u.globals.isXNumeric&&(T=(u.globals.seriesX[g][F]-u.globals.minX)/this.xRatio-W/2),he=T+W*this.visibleI;var Xe=(y-W*Te)/2;if(u.config.series[g].data[F].x){var mt=this.detectOverlappingBars({i:g,j:F,barXPosition:he,srtx:Xe,barWidth:W,xDivision:y,initPositions:v});W=mt.barWidth,he=mt.barXPosition}z=(se=this.drawRangeColumnPaths(i({indexes:{i:g,j:F,realIndex:M},barWidth:W,barXPosition:he,zeroH:w,xDivision:y},ge))).barHeight}var ot=this.barHelpers.drawGoalLine({barXPosition:se.barXPosition,barYPosition:ce,goalX:se.goalX,goalY:se.goalY,barHeight:z,barWidth:W});ot&&E.add(ot),P=se.y,T=se.x;var kt=this.barHelpers.getPathFillColor(l,g,F,M),Ii=u.globals.stroke.colors[M];this.renderSeries((m(j={realIndex:M,pathFill:kt,lineFill:Ii,j:F,i:g,x:T,y:P,y1:J,y2:ee,pathFrom:se.pathFrom,pathTo:se.pathTo,strokeWidth:X,elSeries:B,series:l,barHeight:z,barWidth:W,barXPosition:he,barYPosition:ce},"barWidth",W),m(j,"elDataLabelsWrap",A),m(j,"elGoalsMarkers",E),m(j,"visibleSeries",this.visibleI),m(j,"type","rangebar"),j))}p.add(B)}return p}},{key:"detectOverlappingBars",value:function(l){var h=l.i,u=l.j,d=l.barYPosition,p=l.barXPosition,g=l.srty,y=l.srtx,x=l.barHeight,w=l.barWidth,C=l.yDivision,T=l.xDivision,P=l.initPositions,M=this.w,B=[],z=M.config.series[h].data[u].rangeName,W=M.config.series[h].data[u].x,v=Array.isArray(W)?W.join(" "):W,A=M.globals.labels.map(function(F){return Array.isArray(F)?F.join(" "):F}).indexOf(v),E=M.globals.seriesRange[h].findIndex(function(F){return F.x===v&&F.overlaps.length>0});return this.isHorizontal?(d=M.config.plotOptions.bar.rangeBarGroupRows?g+C*A:g+x*this.visibleI+C*A,E>-1&&!M.config.plotOptions.bar.rangeBarOverlap&&(B=M.globals.seriesRange[h][E].overlaps).indexOf(z)>-1&&(d=(x=P.barHeight/B.length)*this.visibleI+C*(100-parseInt(this.barOptions.barHeight,10))/100/2+x*(this.visibleI+B.indexOf(z))+C*A)):(A>-1&&(p=M.config.plotOptions.bar.rangeBarGroupRows?y+T*A:y+w*this.visibleI+T*A),E>-1&&!M.config.plotOptions.bar.rangeBarOverlap&&(B=M.globals.seriesRange[h][E].overlaps).indexOf(z)>-1&&(p=(w=P.barWidth/B.length)*this.visibleI+T*(100-parseInt(this.barOptions.barWidth,10))/100/2+w*(this.visibleI+B.indexOf(z))+T*A)),{barYPosition:d,barXPosition:p,barHeight:x,barWidth:w}}},{key:"drawRangeColumnPaths",value:function(l){var h=l.indexes,u=l.x,d=l.xDivision,p=l.barWidth,g=l.barXPosition,y=l.zeroH,x=this.w,w=h.i,C=h.j,T=this.yRatio[this.yaxisIndex],P=h.realIndex,M=this.getRangeValue(P,C),B=Math.min(M.start,M.end),z=Math.max(M.start,M.end);this.series[w][C]===void 0||this.series[w][C]===null?B=y:(B=y-B/T,z=y-z/T);var W=Math.abs(z-B),v=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:p,y1:B,y2:z,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:h.realIndex,i:P,j:C,w:x});return x.globals.isXNumeric||(u+=d),{pathTo:v.pathTo,pathFrom:v.pathFrom,barHeight:W,x:u,y:z,goalY:this.barHelpers.getGoalValues("y",null,y,w,C),barXPosition:g}}},{key:"drawRangeBarPaths",value:function(l){var h=l.indexes,u=l.y,d=l.y1,p=l.y2,g=l.yDivision,y=l.barHeight,x=l.barYPosition,w=l.zeroW,C=this.w,T=w+d/this.invertedYRatio,P=w+p/this.invertedYRatio,M=Math.abs(P-T),B=this.barHelpers.getBarpaths({barYPosition:x,barHeight:y,x1:T,x2:P,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:h.realIndex,realIndex:h.realIndex,j:h.j,w:C});return C.globals.isXNumeric||(u+=g),{pathTo:B.pathTo,pathFrom:B.pathFrom,barWidth:M,x:P,goalX:this.barHelpers.getGoalValues("x",w,null,h.realIndex,h.j),y:u}}},{key:"getRangeValue",value:function(l,h){var u=this.w;return{start:u.globals.seriesRangeStart[l][h],end:u.globals.seriesRangeEnd[l][h]}}}]),n}(),Ql=function(){function D(r){o(this,D),this.w=r.w,this.lineCtx=r}return f(D,[{key:"sameValueSeriesFix",value:function(r,n){var l=this.w;if((l.config.fill.type==="gradient"||l.config.fill.type[r]==="gradient")&&new re(this.lineCtx.ctx,l).seriesHaveSameValues(r)){var h=n[r].slice();h[h.length-1]=h[h.length-1]+1e-6,n[r]=h}return n}},{key:"calculatePoints",value:function(r){var n=r.series,l=r.realIndex,h=r.x,u=r.y,d=r.i,p=r.j,g=r.prevY,y=this.w,x=[],w=[];if(p===0){var C=this.lineCtx.categoryAxisCorrection+y.config.markers.offsetX;y.globals.isXNumeric&&(C=(y.globals.seriesX[l][0]-y.globals.minX)/this.lineCtx.xRatio+y.config.markers.offsetX),x.push(C),w.push(V.isNumber(n[d][0])?g+y.config.markers.offsetY:null),x.push(h+y.config.markers.offsetX),w.push(V.isNumber(n[d][p+1])?u+y.config.markers.offsetY:null)}else x.push(h+y.config.markers.offsetX),w.push(V.isNumber(n[d][p+1])?u+y.config.markers.offsetY:null);return{x,y:w}}},{key:"checkPreviousPaths",value:function(r){for(var n=r.pathFromLine,l=r.pathFromArea,h=r.realIndex,u=this.w,d=0;d<u.globals.previousPaths.length;d++){var p=u.globals.previousPaths[d];(p.type==="line"||p.type==="area")&&p.paths.length>0&&parseInt(p.realIndex,10)===parseInt(h,10)&&(p.type==="line"?(this.lineCtx.appendPathFrom=!1,n=u.globals.previousPaths[d].paths[0].d):p.type==="area"&&(this.lineCtx.appendPathFrom=!1,l=u.globals.previousPaths[d].paths[0].d,u.config.stroke.show&&u.globals.previousPaths[d].paths[1]&&(n=u.globals.previousPaths[d].paths[1].d)))}return{pathFromLine:n,pathFromArea:l}}},{key:"determineFirstPrevY",value:function(r){var n,l=r.i,h=r.series,u=r.prevY,d=r.lineYPosition,p=this.w;if(((n=h[l])===null||n===void 0?void 0:n[0])!==void 0)u=(d=p.config.chart.stacked&&l>0?this.lineCtx.prevSeriesY[l-1][0]:this.lineCtx.zeroY)-h[l][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?h[l][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(p.config.chart.stacked&&l>0&&h[l][0]===void 0){for(var g=l-1;g>=0;g--)if(h[g][0]!==null&&h[g][0]!==void 0){u=d=this.lineCtx.prevSeriesY[g][0];break}}return{prevY:u,lineYPosition:d}}}]),D}(),nn=function(){function D(r,n,l){o(this,D),this.ctx=r,this.w=r.w,this.xyRatios=n,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||l,this.scatter=new ct(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ql(this),this.markers=new rt(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return f(D,[{key:"draw",value:function(r,n,l,h){var u=this.w,d=new H(this.ctx),p=u.globals.comboCharts?n:u.config.chart.type,g=d.group({class:"apexcharts-".concat(p,"-series apexcharts-plot-series")}),y=new re(this.ctx,u);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,r=y.getLogSeries(r),this.yRatio=y.getLogYRatios(this.yRatio);for(var x=[],w=0;w<r.length;w++){r=this.lineHelpers.sameValueSeriesFix(w,r);var C=u.globals.comboCharts?l[w]:w;this._initSerieVariables(r,w,C);var T=[],P=[],M=u.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,C),u.globals.isXNumeric&&u.globals.seriesX.length>0&&(M=(u.globals.seriesX[C][0]-u.globals.minX)/this.xRatio),P.push(M);var B,z=M,W=void 0,v=z,A=this.zeroY,E=this.zeroY;A=this.lineHelpers.determineFirstPrevY({i:w,series:r,prevY:A,lineYPosition:0}).prevY,T.push(A),B=A,p==="rangeArea"&&(W=E=this.lineHelpers.determineFirstPrevY({i:w,series:h,prevY:E,lineYPosition:0}).prevY);var F={type:p,series:r,realIndex:C,i:w,x:M,y:1,pX:z,pY:B,pathsFrom:this._calculatePathsFrom({type:p,series:r,i:w,realIndex:C,prevX:v,prevY:A,prevY2:E}),linePaths:[],areaPaths:[],seriesIndex:l,lineYPosition:0,xArrj:P,yArrj:T,seriesRangeEnd:h},j=this._iterateOverDataPoints(i(i({},F),{},{iterations:p==="rangeArea"?r[w].length-1:void 0,isRangeStart:!0}));if(p==="rangeArea"){var X=this._calculatePathsFrom({series:h,i:w,realIndex:C,prevX:v,prevY:E}),J=this._iterateOverDataPoints(i(i({},F),{},{series:h,pY:W,pathsFrom:X,iterations:h[w].length-1,isRangeStart:!1}));j.linePaths[0]=J.linePath+j.linePath,j.pathFromLine=J.pathFromLine+j.pathFromLine}this._handlePaths({type:p,realIndex:C,i:w,paths:j}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),x.push(this.elSeries)}if(u.config.chart.stacked)for(var ee=x.length;ee>0;ee--)g.add(x[ee-1]);else for(var se=0;se<x.length;se++)g.add(x[se]);return g}},{key:"_initSerieVariables",value:function(r,n,l){var h=this.w,u=new H(this.ctx);this.xDivision=h.globals.gridWidth/(h.globals.dataPoints-(h.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(h.config.stroke.width)?h.config.stroke.width[l]:h.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=l),this.isReversed=h.config.yaxis[this.yaxisIndex]&&h.config.yaxis[this.yaxisIndex].reversed,this.zeroY=h.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?h.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>h.globals.gridHeight||h.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=h.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=u.group({class:"apexcharts-series",seriesName:V.escapeString(h.globals.seriesNames[l])}),this.elPointsMain=u.group({class:"apexcharts-series-markers-wrap","data:realIndex":l}),this.elDataLabelsWrap=u.group({class:"apexcharts-datalabels","data:realIndex":l});var d=r[n].length===h.globals.dataPoints;this.elSeries.attr({"data:longestSeries":d,rel:n+1,"data:realIndex":l}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(r){var n,l,h,u,d=r.type,p=r.series,g=r.i,y=r.realIndex,x=r.prevX,w=r.prevY,C=r.prevY2,T=this.w,P=new H(this.ctx);if(p[g][0]===null){for(var M=0;M<p[g].length;M++)if(p[g][M]!==null){x=this.xDivision*M,w=this.zeroY-p[g][M]/this.yRatio[this.yaxisIndex],n=P.move(x,w),l=P.move(x,this.areaBottomY);break}}else n=P.move(x,w),d==="rangeArea"&&(n=P.move(x,C)+P.line(x,w)),l=P.move(x,this.areaBottomY)+P.line(x,w);if(h=P.move(-1,this.zeroY)+P.line(-1,this.zeroY),u=P.move(-1,this.zeroY)+P.line(-1,this.zeroY),T.globals.previousPaths.length>0){var B=this.lineHelpers.checkPreviousPaths({pathFromLine:h,pathFromArea:u,realIndex:y});h=B.pathFromLine,u=B.pathFromArea}return{prevX:x,prevY:w,linePath:n,areaPath:l,pathFromLine:h,pathFromArea:u}}},{key:"_handlePaths",value:function(r){var n=r.type,l=r.realIndex,h=r.i,u=r.paths,d=this.w,p=new H(this.ctx),g=new ve(this.ctx);this.prevSeriesY.push(u.yArrj),d.globals.seriesXvalues[l]=u.xArrj,d.globals.seriesYvalues[l]=u.yArrj;var y=d.config.forecastDataPoints;if(y.count>0&&n!=="rangeArea"){var x=d.globals.seriesXvalues[l][d.globals.seriesXvalues[l].length-y.count-1],w=p.drawRect(x,0,d.globals.gridWidth,d.globals.gridHeight,0);d.globals.dom.elForecastMask.appendChild(w.node);var C=p.drawRect(0,0,x,d.globals.gridHeight,0);d.globals.dom.elNonForecastMask.appendChild(C.node)}this.pointsChart||d.globals.delayedElements.push({el:this.elPointsMain.node,index:l});var T={i:h,realIndex:l,animationDelay:h,initialSpeed:d.config.chart.animations.speed,dataChangeSpeed:d.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(n)};if(n==="area")for(var P=g.fillPath({seriesNumber:l}),M=0;M<u.areaPaths.length;M++){var B=p.renderPaths(i(i({},T),{},{pathFrom:u.pathFromArea,pathTo:u.areaPaths[M],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:P}));this.elSeries.add(B)}if(d.config.stroke.show&&!this.pointsChart){var z=null;if(n==="line")z=g.fillPath({seriesNumber:l,i:h});else if(d.config.stroke.fill.type==="solid")z=d.globals.stroke.colors[l];else{var W=d.config.fill;d.config.fill=d.config.stroke.fill,z=g.fillPath({seriesNumber:l,i:h}),d.config.fill=W}for(var v=0;v<u.linePaths.length;v++){var A=z;n==="rangeArea"&&(A=g.fillPath({seriesNumber:l}));var E=i(i({},T),{},{pathFrom:u.pathFromLine,pathTo:u.linePaths[v],stroke:z,strokeWidth:this.strokeWidth,strokeLineCap:d.config.stroke.lineCap,fill:n==="rangeArea"?A:"none"}),F=p.renderPaths(E);if(this.elSeries.add(F),F.attr("fill-rule","evenodd"),y.count>0&&n!=="rangeArea"){var j=p.renderPaths(E);j.node.setAttribute("stroke-dasharray",y.dashArray),y.strokeWidth&&j.node.setAttribute("stroke-width",y.strokeWidth),this.elSeries.add(j),j.attr("clip-path","url(#forecastMask".concat(d.globals.cuid,")")),F.attr("clip-path","url(#nonForecastMask".concat(d.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(r){var n=r.type,l=r.series,h=r.iterations,u=r.realIndex,d=r.i,p=r.x,g=r.y,y=r.pX,x=r.pY,w=r.pathsFrom,C=r.linePaths,T=r.areaPaths,P=r.seriesIndex,M=r.lineYPosition,B=r.xArrj,z=r.yArrj,W=r.isRangeStart,v=r.seriesRangeEnd,A=this.w,E=new H(this.ctx),F=this.yRatio,j=w.prevY,X=w.linePath,J=w.areaPath,ee=w.pathFromLine,se=w.pathFromArea,he=V.isNumber(A.globals.minYArr[u])?A.globals.minYArr[u]:A.globals.minY;h||(h=A.globals.dataPoints>1?A.globals.dataPoints-1:A.globals.dataPoints);for(var ce=g,ge=0;ge<h;ge++){var Te=l[d][ge+1]===void 0||l[d][ge+1]===null;if(A.globals.isXNumeric){var Re=A.globals.seriesX[u][ge+1];A.globals.seriesX[u][ge+1]===void 0&&(Re=A.globals.seriesX[u][h-1]),p=(Re-A.globals.minX)/this.xRatio}else p+=this.xDivision;A.config.chart.stacked?d>0&&A.globals.collapsedSeries.length<A.config.series.length-1?M=this.prevSeriesY[function(mt){for(var ot=mt,kt=0;kt<A.globals.series.length;kt++)if(A.globals.collapsedSeriesIndices.indexOf(mt)>-1){ot--;break}return ot>=0?ot:0}(d-1)][ge+1]:M=this.zeroY:M=this.zeroY,Te?g=M-he/F[this.yaxisIndex]+2*(this.isReversed?he/F[this.yaxisIndex]:0):(g=M-l[d][ge+1]/F[this.yaxisIndex]+2*(this.isReversed?l[d][ge+1]/F[this.yaxisIndex]:0),n==="rangeArea"&&(ce=M-v[d][ge+1]/F[this.yaxisIndex]+2*(this.isReversed?v[d][ge+1]/F[this.yaxisIndex]:0))),B.push(p),z.push(g);var Fe=this.lineHelpers.calculatePoints({series:l,x:p,y:g,realIndex:u,i:d,j:ge,prevY:j}),Xe=this._createPaths({type:n,series:l,i:d,realIndex:u,j:ge,x:p,y:g,y2:ce,pX:y,pY:x,linePath:X,areaPath:J,linePaths:C,areaPaths:T,seriesIndex:P,isRangeStart:W});T=Xe.areaPaths,C=Xe.linePaths,y=Xe.pX,x=Xe.pY,J=Xe.areaPath,X=Xe.linePath,this.appendPathFrom&&(ee+=E.line(p,this.zeroY),se+=E.line(p,this.zeroY)),this.handleNullDataPoints(l,Fe,d,ge,u),this._handleMarkersAndLabels({type:n,pointsPos:Fe,i:d,j:ge,realIndex:u,isRangeStart:W})}return{yArrj:z,xArrj:B,pathFromArea:se,areaPaths:T,pathFromLine:ee,linePaths:C,linePath:X,areaPath:J}}},{key:"_handleMarkersAndLabels",value:function(r){var n=r.type,l=r.pointsPos,h=r.isRangeStart,u=r.i,d=r.j,p=r.realIndex,g=this.w,y=new we(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,d,{realIndex:p,pointsPos:l,zRatio:this.zRatio,elParent:this.elPointsMain});else{g.globals.series[u].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var x=this.markers.plotChartMarkers(l,p,d+1);x!==null&&this.elPointsMain.add(x)}var w=y.drawDataLabel({type:n,isRangeStart:h,pos:l,i:p,j:d+1});w!==null&&this.elDataLabelsWrap.add(w)}},{key:"_createPaths",value:function(r){var n=r.type,l=r.series,h=r.i,u=r.realIndex,d=r.j,p=r.x,g=r.y,y=r.y2,x=r.pX,w=r.pY,C=r.linePath,T=r.areaPath,P=r.linePaths,M=r.areaPaths,B=r.seriesIndex,z=r.isRangeStart,W=this.w,v=new H(this.ctx),A=W.config.stroke.curve,E=this.areaBottomY;if(Array.isArray(W.config.stroke.curve)&&(A=Array.isArray(B)?W.config.stroke.curve[B[h]]:W.config.stroke.curve[h]),A==="smooth"){var F=.35*(p-x);W.globals.hasNullValues?(l[h][d]!==null&&(l[h][d+1]!==null?(C=v.move(x,w)+v.curve(x+F,w,p-F,g,p+1,g),T=v.move(x+1,w)+v.curve(x+F,w,p-F,g,p+1,g)+v.line(p,E)+v.line(x,E)+"z"):(C=v.move(x,w),T=v.move(x,w)+"z")),P.push(C),M.push(T)):(C+=v.curve(x+F,w,p-F,g,p,g),T+=v.curve(x+F,w,p-F,g,p,g)),x=p,w=g,d===l[h].length-2&&(T=T+v.curve(x,w,p,g,p,E)+v.move(p,g)+"z",n==="rangeArea"&&z?C=C+v.curve(x,w,p,g,p,y)+v.move(p,y)+"z":W.globals.hasNullValues||(P.push(C),M.push(T)))}else{if(l[h][d+1]===null){C+=v.move(p,g);var j=W.globals.isXNumeric?(W.globals.seriesX[u][d]-W.globals.minX)/this.xRatio:p-this.xDivision;T=T+v.line(j,E)+v.move(p,g)+"z"}l[h][d]===null&&(C+=v.move(p,g),T+=v.move(p,E)),A==="stepline"?(C=C+v.line(p,null,"H")+v.line(null,g,"V"),T=T+v.line(p,null,"H")+v.line(null,g,"V")):A==="straight"&&(C+=v.line(p,g),T+=v.line(p,g)),d===l[h].length-2&&(T=T+v.line(p,E)+v.move(p,g)+"z",n==="rangeArea"&&z?C=C+v.line(p,y)+v.move(p,y)+"z":(P.push(C),M.push(T)))}return{linePaths:P,areaPaths:M,pX:x,pY:w,linePath:C,areaPath:T}}},{key:"handleNullDataPoints",value:function(r,n,l,h,u){var d=this.w;if(r[l][h]===null&&d.config.markers.showNullDataPoints||r[l].length===1){var p=this.markers.plotChartMarkers(n,u,h+1,this.strokeWidth-d.config.markers.strokeWidth/2,!0);p!==null&&this.elPointsMain.add(p)}}}]),D}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function D(p,g,y,x){this.xoffset=p,this.yoffset=g,this.height=x,this.width=y,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(w){var C,T=[],P=this.xoffset,M=this.yoffset,B=u(w)/this.height,z=u(w)/this.width;if(this.width>=this.height)for(C=0;C<w.length;C++)T.push([P,M,P+B,M+w[C]/B]),M+=w[C]/B;else for(C=0;C<w.length;C++)T.push([P,M,P+w[C]/z,M+z]),P+=w[C]/z;return T},this.cutArea=function(w){var C;if(this.width>=this.height){var T=w/this.height,P=this.width-T;C=new D(this.xoffset+T,this.yoffset,P,this.height)}else{var M=w/this.width,B=this.height-M;C=new D(this.xoffset,this.yoffset+M,this.width,B)}return C}}function r(p,g,y,x,w){x=x===void 0?0:x,w=w===void 0?0:w;var C=n(function(T,P){var M,B=[],z=P/u(T);for(M=0;M<T.length;M++)B[M]=T[M]*z;return B}(p,g*y),[],new D(x,w,g,y),[]);return function(T){var P,M,B=[];for(P=0;P<T.length;P++)for(M=0;M<T[P].length;M++)B.push(T[P][M]);return B}(C)}function n(p,g,y,x){var w,C,T;if(p.length!==0)return w=y.shortestEdge(),function(P,M,B){var z;if(P.length===0)return!0;(z=P.slice()).push(M);var W=l(P,B),v=l(z,B);return W>=v}(g,C=p[0],w)?(g.push(C),n(p.slice(1),g,y,x)):(T=y.cutArea(u(g),x),x.push(y.getCoordinates(g)),n(p,[],T,x)),x;x.push(y.getCoordinates(g))}function l(p,g){var y=Math.min.apply(Math,p),x=Math.max.apply(Math,p),w=u(p);return Math.max(Math.pow(g,2)*x/Math.pow(w,2),Math.pow(w,2)/(Math.pow(g,2)*y))}function h(p){return p&&p.constructor===Array}function u(p){var g,y=0;for(g=0;g<p.length;g++)y+=p[g];return y}function d(p){var g,y=0;if(h(p[0]))for(g=0;g<p.length;g++)y+=d(p[g]);else y=u(p);return y}return function p(g,y,x,w,C){w=w===void 0?0:w,C=C===void 0?0:C;var T,P,M=[],B=[];if(h(g[0])){for(P=0;P<g.length;P++)M[P]=d(g[P]);for(T=r(M,y,x,w,C),P=0;P<g.length;P++)B.push(p(g[P],T[P][2]-T[P][0],T[P][3]-T[P][1],T[P][0],T[P][1]))}else B=r(g,y,x,w,C);return B}}();var Xi,vs,eh=function(){function D(r,n){o(this,D),this.ctx=r,this.w=r.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new pa(r),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return f(D,[{key:"draw",value:function(r){var n=this,l=this.w,h=new H(this.ctx),u=new ve(this.ctx),d=h.group({class:"apexcharts-treemap"});if(l.globals.noData)return d;var p=[];return r.forEach(function(g){var y=g.map(function(x){return Math.abs(x)});p.push(y)}),this.negRange=this.helpers.checkColorRange(),l.config.series.forEach(function(g,y){g.data.forEach(function(x){Array.isArray(n.labels[y])||(n.labels[y]=[]),n.labels[y].push(x.x)})}),window.TreemapSquared.generate(p,l.globals.gridWidth,l.globals.gridHeight).forEach(function(g,y){var x=h.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:V.escapeString(l.globals.seriesNames[y]),rel:y+1,"data:realIndex":y});if(l.config.chart.dropShadow.enabled){var w=l.config.chart.dropShadow;new Q(n.ctx).dropShadow(d,w,y)}var C=h.group({class:"apexcharts-data-labels"});g.forEach(function(T,P){var M=T[0],B=T[1],z=T[2],W=T[3],v=h.drawRect(M,B,z-M,W-B,0,"#fff",1,n.strokeWidth,l.config.plotOptions.treemap.useFillColorAsStroke?E:l.globals.stroke.colors[y]);v.attr({cx:M,cy:B,index:y,i:y,j:P,width:z-M,height:W-B});var A=n.helpers.getShadeColor(l.config.chart.type,y,P,n.negRange),E=A.color;l.config.series[y].data[P]!==void 0&&l.config.series[y].data[P].fillColor&&(E=l.config.series[y].data[P].fillColor);var F=u.fillPath({color:E,seriesNumber:y,dataPointIndex:P});v.node.classList.add("apexcharts-treemap-rect"),v.attr({fill:F}),n.helpers.addListeners(v);var j={x:M+(z-M)/2,y:B+(W-B)/2,width:0,height:0},X={x:M,y:B,width:z-M,height:W-B};if(l.config.chart.animations.enabled&&!l.globals.dataChanged){var J=1;l.globals.resized||(J=l.config.chart.animations.speed),n.animateTreemap(v,j,X,J)}if(l.globals.dataChanged){var ee=1;n.dynamicAnim.enabled&&l.globals.shouldAnimate&&(ee=n.dynamicAnim.speed,l.globals.previousPaths[y]&&l.globals.previousPaths[y][P]&&l.globals.previousPaths[y][P].rect&&(j=l.globals.previousPaths[y][P].rect),n.animateTreemap(v,j,X,ee))}var se=n.getFontSize(T),he=l.config.dataLabels.formatter(n.labels[y][P],{value:l.globals.series[y][P],seriesIndex:y,dataPointIndex:P,w:l}),ce=n.helpers.calculateDataLabels({text:he,x:(M+z)/2,y:(B+W)/2+n.strokeWidth/2+se/3,i:y,j:P,colorProps:A,fontSize:se,series:r});l.config.dataLabels.enabled&&ce&&n.rotateToFitLabel(ce,se,he,M,B,z,W),x.add(v),ce!==null&&x.add(ce)}),x.add(C),d.add(x)}),d}},{key:"getFontSize",value:function(r){var n=this.w,l,h,u,d,p=function g(y){var x,w=0;if(Array.isArray(y[0]))for(x=0;x<y.length;x++)w+=g(y[x]);else for(x=0;x<y.length;x++)w+=y[x].length;return w}(this.labels)/function g(y){var x,w=0;if(Array.isArray(y[0]))for(x=0;x<y.length;x++)w+=g(y[x]);else for(x=0;x<y.length;x++)w+=1;return w}(this.labels);return l=r[2]-r[0],h=r[3]-r[1],u=l*h,d=Math.pow(u,.5),Math.min(d/p,parseInt(n.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(r,n,l,h,u,d,p){var g=new H(this.ctx),y=g.getTextRects(l,n);if(y.width+this.w.config.stroke.width+5>d-h&&y.width<=p-u){var x=g.rotateAroundCenter(r.node);r.node.setAttribute("transform","rotate(-90 ".concat(x.x," ").concat(x.y,")"))}}},{key:"animateTreemap",value:function(r,n,l,h){var u=new $(this.ctx);u.animateRect(r,{x:n.x,y:n.y,width:n.width,height:n.height},{x:l.x,y:l.y,width:l.width,height:l.height},h,function(){u.animationCompleted(r)})}}]),D}(),th=86400,ih=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return f(D,[{key:"calculateTimeScaleTicks",value:function(r,n){var l=this,h=this.w;if(h.globals.allSeriesCollapsed)return h.globals.labels=[],h.globals.timescaleLabels=[],[];var u=new le(this.ctx),d=(n-r)/864e5;this.determineInterval(d),h.globals.disableZoomIn=!1,h.globals.disableZoomOut=!1,d<.00011574074074074075?h.globals.disableZoomIn=!0:d>5e4&&(h.globals.disableZoomOut=!0);var p=u.getTimeUnitsfromTimestamp(r,n,this.utc),g=h.globals.gridWidth/d,y=g/24,x=y/60,w=x/60,C=Math.floor(24*d),T=Math.floor(1440*d),P=Math.floor(d*th),M=Math.floor(d),B=Math.floor(d/30),z=Math.floor(d/365),W={minMillisecond:p.minMillisecond,minSecond:p.minSecond,minMinute:p.minMinute,minHour:p.minHour,minDate:p.minDate,minMonth:p.minMonth,minYear:p.minYear},v={firstVal:W,currentMillisecond:W.minMillisecond,currentSecond:W.minSecond,currentMinute:W.minMinute,currentHour:W.minHour,currentMonthDate:W.minDate,currentDate:W.minDate,currentMonth:W.minMonth,currentYear:W.minYear,daysWidthOnXAxis:g,hoursWidthOnXAxis:y,minutesWidthOnXAxis:x,secondsWidthOnXAxis:w,numberOfSeconds:P,numberOfMinutes:T,numberOfHours:C,numberOfDays:M,numberOfMonths:B,numberOfYears:z};switch(this.tickInterval){case"years":this.generateYearScale(v);break;case"months":case"half_year":this.generateMonthScale(v);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(v);break;case"hours":this.generateHourScale(v);break;case"minutes_fives":case"minutes":this.generateMinuteScale(v);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(v)}var A=this.timeScaleArray.map(function(E){var F={position:E.position,unit:E.unit,year:E.year,day:E.day?E.day:1,hour:E.hour?E.hour:0,month:E.month+1};return E.unit==="month"?i(i({},F),{},{day:1,value:E.value+1}):E.unit==="day"||E.unit==="hour"?i(i({},F),{},{value:E.value}):E.unit==="minute"?i(i({},F),{},{value:E.value,minute:E.value}):E.unit==="second"?i(i({},F),{},{value:E.value,minute:E.minute,second:E.second}):E});return A.filter(function(E){var F=1,j=Math.ceil(h.globals.gridWidth/120),X=E.value;h.config.xaxis.tickAmount!==void 0&&(j=h.config.xaxis.tickAmount),A.length>j&&(F=Math.floor(A.length/j));var J=!1,ee=!1;switch(l.tickInterval){case"years":E.unit==="year"&&(J=!0);break;case"half_year":F=7,E.unit==="year"&&(J=!0);break;case"months":F=1,E.unit==="year"&&(J=!0);break;case"months_fortnight":F=15,E.unit!=="year"&&E.unit!=="month"||(J=!0),X===30&&(ee=!0);break;case"months_days":F=10,E.unit==="month"&&(J=!0),X===30&&(ee=!0);break;case"week_days":F=8,E.unit==="month"&&(J=!0);break;case"days":F=1,E.unit==="month"&&(J=!0);break;case"hours":E.unit==="day"&&(J=!0);break;case"minutes_fives":case"seconds_fives":X%5!=0&&(ee=!0);break;case"seconds_tens":X%10!=0&&(ee=!0)}if(l.tickInterval==="hours"||l.tickInterval==="minutes_fives"||l.tickInterval==="seconds_tens"||l.tickInterval==="seconds_fives"){if(!ee)return!0}else if((X%F==0||J)&&!ee)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(r,n){var l=this.w,h=this.formatDates(r),u=this.removeOverlappingTS(h);l.globals.timescaleLabels=u.slice(),new _e(this.ctx).plotCoords()}},{key:"determineInterval",value:function(r){var n=24*r,l=60*n;switch(!0){case r/365>5:this.tickInterval="years";break;case r>800:this.tickInterval="half_year";break;case r>180:this.tickInterval="months";break;case r>90:this.tickInterval="months_fortnight";break;case r>60:this.tickInterval="months_days";break;case r>30:this.tickInterval="week_days";break;case r>2:this.tickInterval="days";break;case n>2.4:this.tickInterval="hours";break;case l>15:this.tickInterval="minutes_fives";break;case l>5:this.tickInterval="minutes";break;case l>1:this.tickInterval="seconds_tens";break;case 60*l>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(r){var n=r.firstVal,l=r.currentMonth,h=r.currentYear,u=r.daysWidthOnXAxis,d=r.numberOfYears,p=n.minYear,g=0,y=new le(this.ctx),x="year";if(n.minDate>1||n.minMonth>0){var w=y.determineRemainingDaysOfYear(n.minYear,n.minMonth,n.minDate);g=(y.determineDaysOfYear(n.minYear)-w+1)*u,p=n.minYear+1,this.timeScaleArray.push({position:g,value:p,unit:x,year:p,month:V.monthMod(l+1)})}else n.minDate===1&&n.minMonth===0&&this.timeScaleArray.push({position:g,value:p,unit:x,year:h,month:V.monthMod(l+1)});for(var C=p,T=g,P=0;P<d;P++)C++,T=y.determineDaysOfYear(C-1)*u+T,this.timeScaleArray.push({position:T,value:C,unit:x,year:C,month:1})}},{key:"generateMonthScale",value:function(r){var n=r.firstVal,l=r.currentMonthDate,h=r.currentMonth,u=r.currentYear,d=r.daysWidthOnXAxis,p=r.numberOfMonths,g=h,y=0,x=new le(this.ctx),w="month",C=0;if(n.minDate>1){y=(x.determineDaysOfMonths(h+1,n.minYear)-l+1)*d,g=V.monthMod(h+1);var T=u+C,P=V.monthMod(g),M=g;g===0&&(w="year",M=T,P=1,T+=C+=1),this.timeScaleArray.push({position:y,value:M,unit:w,year:T,month:P})}else this.timeScaleArray.push({position:y,value:g,unit:w,year:u,month:V.monthMod(h)});for(var B=g+1,z=y,W=0,v=1;W<p;W++,v++){(B=V.monthMod(B))===0?(w="year",C+=1):w="month";var A=this._getYear(u,B,C);z=x.determineDaysOfMonths(B,A)*d+z;var E=B===0?A:B;this.timeScaleArray.push({position:z,value:E,unit:w,year:A,month:B===0?1:B}),B++}}},{key:"generateDayScale",value:function(r){var n=r.firstVal,l=r.currentMonth,h=r.currentYear,u=r.hoursWidthOnXAxis,d=r.numberOfDays,p=new le(this.ctx),g="day",y=n.minDate+1,x=y,w=function(v,A,E){return v>p.determineDaysOfMonths(A+1,E)&&(x=1,g="month",T=A+=1),A},C=(24-n.minHour)*u,T=y,P=w(x,l,h);n.minHour===0&&n.minDate===1?(C=0,T=V.monthMod(n.minMonth),g="month",x=n.minDate,d++):n.minDate!==1&&n.minHour===0&&n.minMinute===0&&(C=0,y=n.minDate,T=y,P=w(x=y,l,h)),this.timeScaleArray.push({position:C,value:T,unit:g,year:this._getYear(h,P,0),month:V.monthMod(P),day:x});for(var M=C,B=0;B<d;B++){g="day",P=w(x+=1,P,this._getYear(h,P,0));var z=this._getYear(h,P,0);M=24*u+M;var W=x===1?V.monthMod(P):x;this.timeScaleArray.push({position:M,value:W,unit:g,year:z,month:V.monthMod(P),day:W})}}},{key:"generateHourScale",value:function(r){var n=r.firstVal,l=r.currentDate,h=r.currentMonth,u=r.currentYear,d=r.minutesWidthOnXAxis,p=r.numberOfHours,g=new le(this.ctx),y="hour",x=function(F,j){return F>g.determineDaysOfMonths(j+1,u)&&(B=1,j+=1),{month:j,date:B}},w=function(F,j){return F>g.determineDaysOfMonths(j+1,u)?j+=1:j},C=60-(n.minMinute+n.minSecond/60),T=C*d,P=n.minHour+1,M=P+1;C===60&&(T=0,M=(P=n.minHour)+1);var B=l,z=w(B,h);this.timeScaleArray.push({position:T,value:P,unit:y,day:B,hour:M,year:u,month:V.monthMod(z)});for(var W=T,v=0;v<p;v++){y="hour",M>=24&&(M=0,y="day",z=x(B+=1,z).month,z=w(B,z));var A=this._getYear(u,z,0);W=60*d+W;var E=M===0?B:M;this.timeScaleArray.push({position:W,value:E,unit:y,hour:M,day:B,year:A,month:V.monthMod(z)}),M++}}},{key:"generateMinuteScale",value:function(r){for(var n=r.currentMillisecond,l=r.currentSecond,h=r.currentMinute,u=r.currentHour,d=r.currentDate,p=r.currentMonth,g=r.currentYear,y=r.minutesWidthOnXAxis,x=r.secondsWidthOnXAxis,w=r.numberOfMinutes,C=h+1,T=d,P=p,M=g,B=u,z=(60-l-n/1e3)*x,W=0;W<w;W++)C>=60&&(C=0,(B+=1)===24&&(B=0)),this.timeScaleArray.push({position:z,value:C,unit:"minute",hour:B,minute:C,day:T,year:this._getYear(M,P,0),month:V.monthMod(P)}),z+=y,C++}},{key:"generateSecondScale",value:function(r){for(var n=r.currentMillisecond,l=r.currentSecond,h=r.currentMinute,u=r.currentHour,d=r.currentDate,p=r.currentMonth,g=r.currentYear,y=r.secondsWidthOnXAxis,x=r.numberOfSeconds,w=l+1,C=h,T=d,P=p,M=g,B=u,z=(1e3-n)/1e3*y,W=0;W<x;W++)w>=60&&(w=0,++C>=60&&(C=0,++B===24&&(B=0))),this.timeScaleArray.push({position:z,value:w,unit:"second",hour:B,minute:C,second:w,day:T,year:this._getYear(M,P,0),month:V.monthMod(P)}),z+=y,w++}},{key:"createRawDateString",value:function(r,n){var l=r.year;return r.month===0&&(r.month=1),l+="-"+("0"+r.month.toString()).slice(-2),r.unit==="day"?l+=r.unit==="day"?"-"+("0"+n).slice(-2):"-01":l+="-"+("0"+(r.day?r.day:"1")).slice(-2),r.unit==="hour"?l+=r.unit==="hour"?"T"+("0"+n).slice(-2):"T00":l+="T"+("0"+(r.hour?r.hour:"0")).slice(-2),r.unit==="minute"?l+=":"+("0"+n).slice(-2):l+=":"+(r.minute?("0"+r.minute).slice(-2):"00"),r.unit==="second"?l+=":"+("0"+n).slice(-2):l+=":00",this.utc&&(l+=".000Z"),l}},{key:"formatDates",value:function(r){var n=this,l=this.w;return r.map(function(h){var u=h.value.toString(),d=new le(n.ctx),p=n.createRawDateString(h,u),g=d.getDate(d.parseDate(p));if(n.utc||(g=d.getDate(d.parseDateWithTimezone(p))),l.config.xaxis.labels.format===void 0){var y="dd MMM",x=l.config.xaxis.labels.datetimeFormatter;h.unit==="year"&&(y=x.year),h.unit==="month"&&(y=x.month),h.unit==="day"&&(y=x.day),h.unit==="hour"&&(y=x.hour),h.unit==="minute"&&(y=x.minute),h.unit==="second"&&(y=x.second),u=d.formatDate(g,y)}else u=d.formatDate(g,l.config.xaxis.labels.format);return{dateString:p,position:h.position,value:u,unit:h.unit,year:h.year,month:h.month}})}},{key:"removeOverlappingTS",value:function(r){var n,l=this,h=new H(this.ctx),u=!1;r.length>0&&r[0].value&&r.every(function(g){return g.value.length===r[0].value.length})&&(u=!0,n=h.getTextRects(r[0].value).width);var d=0,p=r.map(function(g,y){if(y>0&&l.w.config.xaxis.labels.hideOverlappingLabels){var x=u?n:h.getTextRects(r[d].value).width,w=r[d].position;return g.position>w+x+10?(d=y,g):null}return g});return p=p.filter(function(g){return g!==null})}},{key:"_getYear",value:function(r,n,l){return r+Math.floor(n/12)+l}}]),D}(),rh=function(){function D(r,n){o(this,D),this.ctx=n,this.w=n.w,this.el=r}return f(D,[{key:"setupElements",value:function(){var r=this.w.globals,n=this.w.config,l=n.chart.type;r.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(l)>-1,r.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(l)>-1,r.isBarHorizontal=(n.chart.type==="bar"||n.chart.type==="rangeBar"||n.chart.type==="boxPlot")&&n.plotOptions.bar.horizontal,r.chartClass=".apexcharts"+r.chartID,r.dom.baseEl=this.el,r.dom.elWrap=document.createElement("div"),H.setAttrs(r.dom.elWrap,{id:r.chartClass.substring(1),class:"apexcharts-canvas "+r.chartClass.substring(1)}),this.el.appendChild(r.dom.elWrap),r.dom.Paper=new window.SVG.Doc(r.dom.elWrap),r.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),r.dom.Paper.node.style.background=n.chart.background,this.setSVGDimensions(),r.dom.elLegendForeign=document.createElementNS(r.SVGNS,"foreignObject"),H.setAttrs(r.dom.elLegendForeign,{x:0,y:0,width:r.svgWidth,height:r.svgHeight}),r.dom.elLegendWrap=document.createElement("div"),r.dom.elLegendWrap.classList.add("apexcharts-legend"),r.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),r.dom.elLegendForeign.appendChild(r.dom.elLegendWrap),r.dom.Paper.node.appendChild(r.dom.elLegendForeign),r.dom.elGraphical=r.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),r.dom.elDefs=r.dom.Paper.defs(),r.dom.Paper.add(r.dom.elGraphical),r.dom.elGraphical.add(r.dom.elDefs)}},{key:"plotChartType",value:function(r,n){var l=this.w,h=l.config,u=l.globals,d={series:[],i:[]},p={series:[],i:[]},g={series:[],i:[]},y={series:[],i:[]},x={series:[],i:[]},w={series:[],i:[]},C={series:[],i:[]},T={series:[],i:[]},P={series:[],seriesRangeEnd:[],i:[]};u.series.map(function(j,X){var J=0;r[X].type!==void 0?(r[X].type==="column"||r[X].type==="bar"?(u.series.length>1&&h.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),x.series.push(j),x.i.push(X),J++,l.globals.columnSeries=x.series):r[X].type==="area"?(p.series.push(j),p.i.push(X),J++):r[X].type==="line"?(d.series.push(j),d.i.push(X),J++):r[X].type==="scatter"?(g.series.push(j),g.i.push(X)):r[X].type==="bubble"?(y.series.push(j),y.i.push(X),J++):r[X].type==="candlestick"?(w.series.push(j),w.i.push(X),J++):r[X].type==="boxPlot"?(C.series.push(j),C.i.push(X),J++):r[X].type==="rangeBar"?(T.series.push(j),T.i.push(X),J++):r[X].type==="rangeArea"?(P.series.push(u.seriesRangeStart[X]),P.seriesRangeEnd.push(u.seriesRangeEnd[X]),P.i.push(X),J++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),J>1&&(u.comboCharts=!0)):(d.series.push(j),d.i.push(X))});var M=new nn(this.ctx,n),B=new sn(this.ctx,n);this.ctx.pie=new ma(this.ctx);var z=new Kl(this.ctx);this.ctx.rangeBar=new Jl(this.ctx,n);var W=new $l(this.ctx),v=[];if(u.comboCharts){if(p.series.length>0&&v.push(M.draw(p.series,"area",p.i)),x.series.length>0)if(l.config.chart.stacked){var A=new fa(this.ctx,n);v.push(A.draw(x.series,x.i))}else this.ctx.bar=new hr(this.ctx,n),v.push(this.ctx.bar.draw(x.series,x.i));if(P.series.length>0&&v.push(M.draw(P.series,"rangeArea",P.i,P.seriesRangeEnd)),d.series.length>0&&v.push(M.draw(d.series,"line",d.i)),w.series.length>0&&v.push(B.draw(w.series,"candlestick",w.i)),C.series.length>0&&v.push(B.draw(C.series,"boxPlot",C.i)),T.series.length>0&&v.push(this.ctx.rangeBar.draw(T.series,T.i)),g.series.length>0){var E=new nn(this.ctx,n,!0);v.push(E.draw(g.series,"scatter",g.i))}if(y.series.length>0){var F=new nn(this.ctx,n,!0);v.push(F.draw(y.series,"bubble",y.i))}}else switch(h.chart.type){case"line":v=M.draw(u.series,"line");break;case"area":v=M.draw(u.series,"area");break;case"bar":h.chart.stacked?v=new fa(this.ctx,n).draw(u.series):(this.ctx.bar=new hr(this.ctx,n),v=this.ctx.bar.draw(u.series));break;case"candlestick":v=new sn(this.ctx,n).draw(u.series,"candlestick");break;case"boxPlot":v=new sn(this.ctx,n).draw(u.series,h.chart.type);break;case"rangeBar":v=this.ctx.rangeBar.draw(u.series);break;case"rangeArea":v=M.draw(u.seriesRangeStart,"rangeArea",void 0,u.seriesRangeEnd);break;case"heatmap":v=new Zl(this.ctx,n).draw(u.series);break;case"treemap":v=new eh(this.ctx,n).draw(u.series);break;case"pie":case"donut":case"polarArea":v=this.ctx.pie.draw(u.series);break;case"radialBar":v=z.draw(u.series);break;case"radar":v=W.draw(u.series);break;default:v=M.draw(u.series)}return v}},{key:"setSVGDimensions",value:function(){var r=this.w.globals,n=this.w.config;r.svgWidth=n.chart.width,r.svgHeight=n.chart.height;var l=V.getDimensions(this.el),h=n.chart.width.toString().split(/[0-9]+/g).pop();h==="%"?V.isNumber(l[0])&&(l[0].width===0&&(l=V.getDimensions(this.el.parentNode)),r.svgWidth=l[0]*parseInt(n.chart.width,10)/100):h!=="px"&&h!==""||(r.svgWidth=parseInt(n.chart.width,10));var u=n.chart.height.toString().split(/[0-9]+/g).pop();if(r.svgHeight!=="auto"&&r.svgHeight!=="")if(u==="%"){var d=V.getDimensions(this.el.parentNode);r.svgHeight=d[1]*parseInt(n.chart.height,10)/100}else r.svgHeight=parseInt(n.chart.height,10);else r.axisCharts?r.svgHeight=r.svgWidth/1.61:r.svgHeight=r.svgWidth/1.2;if(r.svgWidth<0&&(r.svgWidth=0),r.svgHeight<0&&(r.svgHeight=0),H.setAttrs(r.dom.Paper.node,{width:r.svgWidth,height:r.svgHeight}),u!=="%"){var p=n.chart.sparkline.enabled?0:r.axisCharts?n.chart.parentHeightOffset:0;r.dom.Paper.node.parentNode.parentNode.style.minHeight=r.svgHeight+p+"px"}r.dom.elWrap.style.width=r.svgWidth+"px",r.dom.elWrap.style.height=r.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var r=this.w.globals,n=r.translateY,l={transform:"translate("+r.translateX+", "+n+")"};H.setAttrs(r.dom.elGraphical.node,l)}},{key:"resizeNonAxisCharts",value:function(){var r=this.w,n=r.globals,l=0,h=r.config.chart.sparkline.enabled?1:15;h+=r.config.grid.padding.bottom,r.config.legend.position!=="top"&&r.config.legend.position!=="bottom"||!r.config.legend.show||r.config.legend.floating||(l=new dt(this.ctx).legendHelpers.getLegendBBox().clwh+10);var u=r.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),d=2.05*r.globals.radialSize;if(u&&!r.config.chart.sparkline.enabled&&r.config.plotOptions.radialBar.startAngle!==0){var p=V.getBoundingClientRect(u);d=p.bottom;var g=p.bottom-p.top;d=Math.max(2.05*r.globals.radialSize,g)}var y=d+n.translateY+l+h;n.dom.elLegendForeign&&n.dom.elLegendForeign.setAttribute("height",y),r.config.chart.height&&String(r.config.chart.height).indexOf("%")>0||(n.dom.elWrap.style.height=y+"px",H.setAttrs(n.dom.Paper.node,{height:y}),n.dom.Paper.node.parentNode.parentNode.style.minHeight=y+"px")}},{key:"coreCalculations",value:function(){new Ft(this.ctx).init()}},{key:"resetGlobals",value:function(){var r=this,n=function(){return r.w.config.series.map(function(u){return[]})},l=new pt,h=this.w.globals;l.initGlobalVars(h),h.seriesXvalues=n(),h.seriesYvalues=n()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var r=null,n=this.w;if(n.globals.axisCharts){if(n.config.xaxis.crosshairs.position==="back"&&new Y(this.ctx).drawXCrosshairs(),n.config.yaxis[0].crosshairs.position==="back"&&new Y(this.ctx).drawYCrosshairs(),n.config.xaxis.type==="datetime"&&n.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new ih(this.ctx);var l=[];isFinite(n.globals.minX)&&isFinite(n.globals.maxX)&&!n.globals.isBarHorizontal?l=this.ctx.timeScale.calculateTimeScaleTicks(n.globals.minX,n.globals.maxX):n.globals.isBarHorizontal&&(l=this.ctx.timeScale.calculateTimeScaleTicks(n.globals.minY,n.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(l)}r=new re(this.ctx).getCalculatedRatios()}return r}},{key:"updateSourceChart",value:function(r){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:r.w.globals.minX,max:r.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var r=this,n=this.w;if(n.config.chart.brush.enabled&&typeof n.config.chart.events.selection!="function"){var l=n.config.chart.brush.targets||[n.config.chart.brush.target];l.forEach(function(h){var u=ApexCharts.getChartByID(h);u.w.globals.brushSource=r.ctx,typeof u.w.config.chart.events.zoomed!="function"&&(u.w.config.chart.events.zoomed=function(){r.updateSourceChart(u)}),typeof u.w.config.chart.events.scrolled!="function"&&(u.w.config.chart.events.scrolled=function(){r.updateSourceChart(u)})}),n.config.chart.events.selection=function(h,u){l.forEach(function(d){var p=ApexCharts.getChartByID(d),g=V.clone(n.config.yaxis);if(n.config.chart.brush.autoScaleYaxis&&p.w.globals.series.length===1){var y=new gt(p);g=y.autoScaleY(p,g,u)}var x=p.w.config.yaxis.reduce(function(w,C,T){return[].concat(N(w),[i(i({},p.w.config.yaxis[T]),{},{min:g[0].min,max:g[0].max})])},[]);p.ctx.updateHelpers._updateOptions({xaxis:{min:u.xaxis.min,max:u.xaxis.max},yaxis:x},!1,!1,!1,!1)})}}}}]),D}(),sh=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"_updateOptions",value:function(r){var n=this,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1],h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],d=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(p){var g=[n.ctx];u&&(g=n.ctx.getSyncedCharts()),n.ctx.w.globals.isExecCalled&&(g=[n.ctx],n.ctx.w.globals.isExecCalled=!1),g.forEach(function(y,x){var w=y.w;if(w.globals.shouldAnimate=h,l||(w.globals.resized=!0,w.globals.dataChanged=!0,h&&y.series.getPreviousPaths()),r&&s(r)==="object"&&(y.config=new at(r),r=re.extendArrayProps(y.config,r,w),y.w.globals.chartID!==n.ctx.w.globals.chartID&&delete r.series,w.config=V.extend(w.config,r),d&&(w.globals.lastXAxis=r.xaxis?V.clone(r.xaxis):[],w.globals.lastYAxis=r.yaxis?V.clone(r.yaxis):[],w.globals.initialConfig=V.extend({},w.config),w.globals.initialSeries=V.clone(w.config.series),r.series))){for(var C=0;C<w.globals.collapsedSeriesIndices.length;C++){var T=w.config.series[w.globals.collapsedSeriesIndices[C]];w.globals.collapsedSeries[C].data=w.globals.axisCharts?T.data.slice():T}for(var P=0;P<w.globals.ancillaryCollapsedSeriesIndices.length;P++){var M=w.config.series[w.globals.ancillaryCollapsedSeriesIndices[P]];w.globals.ancillaryCollapsedSeries[P].data=w.globals.axisCharts?M.data.slice():M}y.series.emptyCollapsedSeries(w.config.series)}return y.update(r).then(function(){x===g.length-1&&p(y)})})})}},{key:"_updateSeries",value:function(r,n){var l=this,h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(u){var d,p=l.w;return p.globals.shouldAnimate=n,p.globals.dataChanged=!0,n&&l.ctx.series.getPreviousPaths(),p.globals.axisCharts?((d=r.map(function(g,y){return l._extendSeries(g,y)})).length===0&&(d=[{data:[]}]),p.config.series=d):p.config.series=r.slice(),h&&(p.globals.initialConfig.series=V.clone(p.config.series),p.globals.initialSeries=V.clone(p.config.series)),l.ctx.update().then(function(){u(l.ctx)})})}},{key:"_extendSeries",value:function(r,n){var l=this.w,h=l.config.series[n];return i(i({},l.config.series[n]),{},{name:r.name?r.name:h&&h.name,color:r.color?r.color:h&&h.color,type:r.type?r.type:h&&h.type,data:r.data?r.data:h&&h.data})}},{key:"toggleDataPointSelection",value:function(r,n){var l=this.w,h=null,u=".apexcharts-series[data\\:realIndex='".concat(r,"']");return l.globals.axisCharts?h=l.globals.dom.Paper.select("".concat(u," path[j='").concat(n,"'], ").concat(u," circle[j='").concat(n,"'], ").concat(u," rect[j='").concat(n,"']")).members[0]:n===void 0&&(h=l.globals.dom.Paper.select("".concat(u," path[j='").concat(r,"']")).members[0],l.config.chart.type!=="pie"&&l.config.chart.type!=="polarArea"&&l.config.chart.type!=="donut"||this.ctx.pie.pieClicked(r)),h?(new H(this.ctx).pathMouseDown(h,null),h.node?h.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(r){var n=this.w;if(["min","max"].forEach(function(h){r.xaxis[h]!==void 0&&(n.config.xaxis[h]=r.xaxis[h],n.globals.lastXAxis[h]=r.xaxis[h])}),r.xaxis.categories&&r.xaxis.categories.length&&(n.config.xaxis.categories=r.xaxis.categories),n.config.xaxis.convertedCatToNumeric){var l=new wt(r);r=l.convertCatToNumericXaxis(r,this.ctx)}return r}},{key:"forceYAxisUpdate",value:function(r){return r.chart&&r.chart.stacked&&r.chart.stackType==="100%"&&(Array.isArray(r.yaxis)?r.yaxis.forEach(function(n,l){r.yaxis[l].min=0,r.yaxis[l].max=100}):(r.yaxis.min=0,r.yaxis.max=100)),r}},{key:"revertDefaultAxisMinMax",value:function(r){var n=this,l=this.w,h=l.globals.lastXAxis,u=l.globals.lastYAxis;r&&r.xaxis&&(h=r.xaxis),r&&r.yaxis&&(u=r.yaxis),l.config.xaxis.min=h.min,l.config.xaxis.max=h.max;var d=function(p){u[p]!==void 0&&(l.config.yaxis[p].min=u[p].min,l.config.yaxis[p].max=u[p].max)};l.config.yaxis.map(function(p,g){l.globals.zoomed||u[g]!==void 0?d(g):n.ctx.opts.yaxis[g]!==void 0&&(p.min=n.ctx.opts.yaxis[g].min,p.max=n.ctx.opts.yaxis[g].max)})}}]),D}();Xi=typeof window<"u"?window:void 0,vs=function(D,r){var n=(this!==void 0?this:D).SVG=function(v){if(n.supported)return v=new n.Doc(v),n.parser.draw||n.prepare(),v};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.dev",n.supported=!0,!n.supported)return!1;n.did=1e3,n.eid=function(v){return"Svgjs"+x(v)+n.did++},n.create=function(v){var A=r.createElementNS(this.ns,v);return A.setAttribute("id",this.eid(v)),A},n.extend=function(){var v,A;A=(v=[].slice.call(arguments)).pop();for(var E=v.length-1;E>=0;E--)if(v[E])for(var F in A)v[E].prototype[F]=A[F];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(v){var A=typeof v.create=="function"?v.create:function(){this.constructor.call(this,n.create(v.create))};return v.inherit&&(A.prototype=new v.inherit),v.extend&&n.extend(A,v.extend),v.construct&&n.extend(v.parent||n.Container,v.construct),A},n.adopt=function(v){return v?v.instance?v.instance:((A=v.nodeName=="svg"?v.parentNode instanceof D.SVGElement?new n.Nested:new n.Doc:v.nodeName=="linearGradient"?new n.Gradient("linear"):v.nodeName=="radialGradient"?new n.Gradient("radial"):n[x(v.nodeName)]?new n[x(v.nodeName)]:new n.Element(v)).type=v.nodeName,A.node=v,v.instance=A,A instanceof n.Doc&&A.namespace().defs(),A.setData(JSON.parse(v.getAttribute("svgjs:data"))||{}),A):null;var A},n.prepare=function(){var v=r.getElementsByTagName("body")[0],A=(v?new n.Doc(v):n.adopt(r.documentElement).nested()).size(2,0);n.parser={body:v||r.documentElement,draw:A.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:A.polyline().node,path:A.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},r.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(v,A){for(var E=v.length,F=[],j=0;j<E;j++)F.push(A(v[j]));return F},filter:function(v,A){for(var E=v.length,F=[],j=0;j<E;j++)A(v[j])&&F.push(v[j]);return F},filterSVGElements:function(v){return this.filter(v,function(A){return A instanceof D.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(v){var A,E;this.r=0,this.g=0,this.b=0,v&&(typeof v=="string"?n.regex.isRgb.test(v)?(A=n.regex.rgb.exec(v.replace(n.regex.whitespace,"")),this.r=parseInt(A[1]),this.g=parseInt(A[2]),this.b=parseInt(A[3])):n.regex.isHex.test(v)&&(A=n.regex.hex.exec((E=v).length==4?["#",E.substring(1,2),E.substring(1,2),E.substring(2,3),E.substring(2,3),E.substring(3,4),E.substring(3,4)].join(""):E),this.r=parseInt(A[1],16),this.g=parseInt(A[2],16),this.b=parseInt(A[3],16)):s(v)==="object"&&(this.r=v.r,this.g=v.g,this.b=v.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+w(this.r)+w(this.g)+w(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(v){return this.destination=new n.Color(v),this},at:function(v){return this.destination?(v=v<0?0:v>1?1:v,new n.Color({r:~~(this.r+(this.destination.r-this.r)*v),g:~~(this.g+(this.destination.g-this.g)*v),b:~~(this.b+(this.destination.b-this.b)*v)})):this}}),n.Color.test=function(v){return v+="",n.regex.isHex.test(v)||n.regex.isRgb.test(v)},n.Color.isRgb=function(v){return v&&typeof v.r=="number"&&typeof v.g=="number"&&typeof v.b=="number"},n.Color.isColor=function(v){return n.Color.isRgb(v)||n.Color.test(v)},n.Array=function(v,A){(v=(v||[]).valueOf()).length==0&&A&&(v=A.valueOf()),this.value=this.parse(v)},n.extend(n.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(v){return v=v.valueOf(),Array.isArray(v)?v:this.split(v)}}),n.PointArray=function(v,A){n.Array.call(this,v,A||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray;for(var l={M:function(v,A,E){return A.x=E.x=v[0],A.y=E.y=v[1],["M",A.x,A.y]},L:function(v,A){return A.x=v[0],A.y=v[1],["L",v[0],v[1]]},H:function(v,A){return A.x=v[0],["H",v[0]]},V:function(v,A){return A.y=v[0],["V",v[0]]},C:function(v,A){return A.x=v[4],A.y=v[5],["C",v[0],v[1],v[2],v[3],v[4],v[5]]},Q:function(v,A){return A.x=v[2],A.y=v[3],["Q",v[0],v[1],v[2],v[3]]},Z:function(v,A,E){return A.x=E.x,A.y=E.y,["Z"]}},h="mlhvqtcsaz".split(""),u=0,d=h.length;u<d;++u)l[h[u]]=function(v){return function(A,E,F){if(v=="H")A[0]=A[0]+E.x;else if(v=="V")A[0]=A[0]+E.y;else if(v=="A")A[5]=A[5]+E.x,A[6]=A[6]+E.y;else for(var j=0,X=A.length;j<X;++j)A[j]=A[j]+(j%2?E.y:E.x);if(l&&typeof l[v]=="function")return l[v](A,E,F)}}(h[u].toUpperCase());n.PathArray=function(v,A){n.Array.call(this,v,A||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return function(v){for(var A=0,E=v.length,F="";A<E;A++)F+=v[A][0],v[A][1]!=null&&(F+=v[A][1],v[A][2]!=null&&(F+=" ",F+=v[A][2],v[A][3]!=null&&(F+=" ",F+=v[A][3],F+=" ",F+=v[A][4],v[A][5]!=null&&(F+=" ",F+=v[A][5],F+=" ",F+=v[A][6],v[A][7]!=null&&(F+=" ",F+=v[A][7])))));return F+" "}(this.value)},move:function(v,A){var E=this.bbox();return E.x,E.y,this},at:function(v){if(!this.destination)return this;for(var A=this.value,E=this.destination.value,F=[],j=new n.PathArray,X=0,J=A.length;X<J;X++){F[X]=[A[X][0]];for(var ee=1,se=A[X].length;ee<se;ee++)F[X][ee]=A[X][ee]+(E[X][ee]-A[X][ee])*v;F[X][0]==="A"&&(F[X][4]=+(F[X][4]!=0),F[X][5]=+(F[X][5]!=0))}return j.value=F,j},parse:function(v){if(v instanceof n.PathArray)return v.valueOf();var A,E={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};v=typeof v=="string"?v.replace(n.regex.numbersWithDots,g).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):v.reduce(function(se,he){return[].concat.call(se,he)},[]);var F=[],j=new n.Point,X=new n.Point,J=0,ee=v.length;do n.regex.isPathLetter.test(v[J])?(A=v[J],++J):A=="M"?A="L":A=="m"&&(A="l"),F.push(l[A].call(null,v.slice(J,J+=E[A.toUpperCase()]).map(parseFloat),j,X));while(ee>J);return F},bbox:function(){return n.parser.draw||n.prepare(),n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(v,A){this.value=0,this.unit=A||"",typeof v=="number"?this.value=isNaN(v)?0:isFinite(v)?v:v<0?-34e37:34e37:typeof v=="string"?(A=v.match(n.regex.numberAndUnit))&&(this.value=parseFloat(A[1]),A[5]=="%"?this.value/=100:A[5]=="s"&&(this.value*=1e3),this.unit=A[5]):v instanceof n.Number&&(this.value=v.valueOf(),this.unit=v.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(v){return v=new n.Number(v),new n.Number(this+v,this.unit||v.unit)},minus:function(v){return v=new n.Number(v),new n.Number(this-v,this.unit||v.unit)},times:function(v){return v=new n.Number(v),new n.Number(this*v,this.unit||v.unit)},divide:function(v){return v=new n.Number(v),new n.Number(this/v,this.unit||v.unit)},to:function(v){var A=new n.Number(this);return typeof v=="string"&&(A.unit=v),A},morph:function(v){return this.destination=new n.Number(v),v.relative&&(this.destination.value+=this.value),this},at:function(v){return this.destination?new n.Number(this.destination).minus(this).times(v).plus(this):this}}}),n.Element=n.invent({create:function(v){this._stroke=n.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=v)&&(this.type=v.nodeName,this.node.instance=this,this._stroke=v.getAttribute("stroke")||this._stroke)},extend:{x:function(v){return this.attr("x",v)},y:function(v){return this.attr("y",v)},cx:function(v){return v==null?this.x()+this.width()/2:this.x(v-this.width()/2)},cy:function(v){return v==null?this.y()+this.height()/2:this.y(v-this.height()/2)},move:function(v,A){return this.x(v).y(A)},center:function(v,A){return this.cx(v).cy(A)},width:function(v){return this.attr("width",v)},height:function(v){return this.attr("height",v)},size:function(v,A){var E=C(this,v,A);return this.width(new n.Number(E.width)).height(new n.Number(E.height))},clone:function(v){this.writeDataToDom();var A=M(this.node.cloneNode(!0));return v?v.add(A):this.after(A),A},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(v){return this.after(v).remove(),v},addTo:function(v){return v.put(this)},putIn:function(v){return v.add(this)},id:function(v){return this.attr("id",v)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var v=this.attr("class");return v==null?[]:v.trim().split(n.regex.delimiter)},hasClass:function(v){return this.classes().indexOf(v)!=-1},addClass:function(v){if(!this.hasClass(v)){var A=this.classes();A.push(v),this.attr("class",A.join(" "))}return this},removeClass:function(v){return this.hasClass(v)&&this.attr("class",this.classes().filter(function(A){return A!=v}).join(" ")),this},toggleClass:function(v){return this.hasClass(v)?this.removeClass(v):this.addClass(v)},reference:function(v){return n.get(this.attr(v))},parent:function(v){var A=this;if(!A.node.parentNode)return null;if(A=n.adopt(A.node.parentNode),!v)return A;for(;A&&A.node instanceof D.SVGElement;){if(typeof v=="string"?A.matches(v):A instanceof v)return A;if(!A.node.parentNode||A.node.parentNode.nodeName=="#document")return null;A=n.adopt(A.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(v){var A=[],E=this;do{if(!(E=E.parent(v))||!E.node)break;A.push(E)}while(E.parent);return A},matches:function(v){return function(A,E){return(A.matches||A.matchesSelector||A.msMatchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector).call(A,E)}(this.node,v)},native:function(){return this.node},svg:function(v){var A=r.createElement("svg");if(!(v&&this instanceof n.Parent))return A.appendChild(v=r.createElement("svg")),this.writeDataToDom(),v.appendChild(this.node.cloneNode(!0)),A.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");A.innerHTML="<svg>"+v.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var E=0,F=A.firstChild.childNodes.length;E<F;E++)this.node.appendChild(A.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(v){return this.dom=v,this},is:function(v){return function(A,E){return A instanceof E}(this,v)}}}),n.easing={"-":function(v){return v},"<>":function(v){return-Math.cos(v*Math.PI)/2+.5},">":function(v){return Math.sin(v*Math.PI/2)},"<":function(v){return 1-Math.cos(v*Math.PI/2)}},n.morph=function(v){return function(A,E){return new n.MorphObj(A,E).at(v)}},n.Situation=n.invent({create:function(v){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(v.duration).valueOf(),this.delay=new n.Number(v.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=v.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(v){this._target=v,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(v,A,E){s(v)==="object"&&(A=v.ease,E=v.delay,v=v.duration);var F=new n.Situation({duration:v||1e3,delay:E||0,ease:n.easing[A||"-"]||A});return this.queue(F),this},target:function(v){return v&&v instanceof n.Element?(this._target=v,this):this._target},timeToAbsPos:function(v){return(v-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(v){return this.situation.duration/this._speed*v+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=D.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){D.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(v){return(typeof v=="function"||v instanceof n.Situation)&&this.situations.push(v),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var v,A=this.situation;if(A.init)return this;for(var E in A.animations){v=this.target()[E](),Array.isArray(v)||(v=[v]),Array.isArray(A.animations[E])||(A.animations[E]=[A.animations[E]]);for(var F=v.length;F--;)A.animations[E][F]instanceof n.Number&&(v[F]=new n.Number(v[F])),A.animations[E][F]=v[F].morph(A.animations[E][F])}for(var E in A.attrs)A.attrs[E]=new n.MorphObj(this.target().attr(E),A.attrs[E]);for(var E in A.styles)A.styles[E]=new n.MorphObj(this.target().style(E),A.styles[E]);return A.initialTransformation=this.target().matrixify(),A.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(v,A){var E=this.active;return this.active=!1,A&&this.clearQueue(),v&&this.situation&&(!E&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(v){var A=this.last();return this.target().on("finished.fx",function E(F){F.detail.situation==A&&(v.call(this,A),this.off("finished.fx",E))}),this._callStart()},during:function(v){var A=this.last(),E=function(F){F.detail.situation==A&&v.call(this,F.detail.pos,n.morph(F.detail.pos),F.detail.eased,A)};return this.target().off("during.fx",E).on("during.fx",E),this.after(function(){this.off("during.fx",E)}),this._callStart()},afterAll:function(v){var A=function E(F){v.call(this),this.off("allfinished.fx",E)};return this.target().off("allfinished.fx",A).on("allfinished.fx",A),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(v,A,E){return this.last()[E||"animations"][v]=A,this._callStart()},step:function(v){var A,E,F;v||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(A=Math.max(this.absPos,0),E=Math.floor(A),this.situation.loops===!0||E<this.situation.loops?(this.pos=A-E,F=this.situation.loop,this.situation.loop=E):(this.absPos=this.situation.loops,this.pos=1,F=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-F)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var j=this.situation.ease(this.pos);for(var X in this.situation.once)X>this.lastPos&&X<=j&&(this.situation.once[X].call(this.target(),this.pos,j),delete this.situation.once[X]);return this.active&&this.target().fire("during",{pos:this.pos,eased:j,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=j,this):this},eachAt:function(){var v,A=this,E=this.target(),F=this.situation;for(var j in F.animations)v=[].concat(F.animations[j]).map(function(ee){return typeof ee!="string"&&ee.at?ee.at(F.ease(A.pos),A.pos):ee}),E[j].apply(E,v);for(var j in F.attrs)v=[j].concat(F.attrs[j]).map(function(se){return typeof se!="string"&&se.at?se.at(F.ease(A.pos),A.pos):se}),E.attr.apply(E,v);for(var j in F.styles)v=[j].concat(F.styles[j]).map(function(se){return typeof se!="string"&&se.at?se.at(F.ease(A.pos),A.pos):se}),E.style.apply(E,v);if(F.transforms.length){v=F.initialTransformation,j=0;for(var X=F.transforms.length;j<X;j++){var J=F.transforms[j];J instanceof n.Matrix?v=J.relative?v.multiply(new n.Matrix().morph(J).at(F.ease(this.pos))):v.morph(J).at(F.ease(this.pos)):(J.relative||J.undo(v.extract()),v=v.multiply(J.at(F.ease(this.pos))))}E.matrix(v)}return this},once:function(v,A,E){var F=this.last();return E||(v=F.ease(v)),F.once[v]=A,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:n.Element,construct:{animate:function(v,A,E){return(this.fx||(this.fx=new n.FX(this))).animate(v,A,E)},delay:function(v){return(this.fx||(this.fx=new n.FX(this))).delay(v)},stop:function(v,A){return this.fx&&this.fx.stop(v,A),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),n.MorphObj=n.invent({create:function(v,A){return n.Color.isColor(A)?new n.Color(v).morph(A):n.regex.delimiter.test(v)?n.regex.pathLetters.test(v)?new n.PathArray(v).morph(A):new n.Array(v).morph(A):n.regex.numberAndUnit.test(A)?new n.Number(v).morph(A):(this.value=v,void(this.destination=A))},extend:{at:function(v,A){return A<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(v,A,E){if(s(v)==="object")for(var F in v)this.attr(F,v[F]);else this.add(v,A,"attrs");return this},plot:function(v,A,E,F){return arguments.length==4?this.plot([v,A,E,F]):this.add("plot",new(this.target()).morphArray(v))}}),n.Box=n.invent({create:function(v,A,E,F){if(!(s(v)!=="object"||v instanceof n.Element))return n.Box.call(this,v.left!=null?v.left:v.x,v.top!=null?v.top:v.y,v.width,v.height);var j;arguments.length==4&&(this.x=v,this.y=A,this.width=E,this.height=F),(j=this).x==null&&(j.x=0,j.y=0,j.width=0,j.height=0),j.w=j.width,j.h=j.height,j.x2=j.x+j.width,j.y2=j.y+j.height,j.cx=j.x+j.width/2,j.cy=j.y+j.height/2}}),n.BBox=n.invent({create:function(v){if(n.Box.apply(this,[].slice.call(arguments)),v instanceof n.Element){var A;try{if(!r.documentElement.contains){for(var E=v.node;E.parentNode;)E=E.parentNode;if(E!=r)throw new Error("Element not in the dom")}A=v.node.getBBox()}catch{if(v instanceof n.Shape){n.parser.draw||n.prepare();var F=v.clone(n.parser.draw.instance).show();F&&F.node&&typeof F.node.getBBox=="function"&&(A=F.node.getBBox()),F&&typeof F.remove=="function"&&F.remove()}else A={x:v.node.clientLeft,y:v.node.clientTop,width:v.node.clientWidth,height:v.node.clientHeight}}n.Box.call(this,A)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.Matrix=n.invent({create:function(v){var A=P([1,0,0,1,0,0]);v=v===null?A:v instanceof n.Element?v.matrixify():typeof v=="string"?P(v.split(n.regex.delimiter).map(parseFloat)):arguments.length==6?P([].slice.call(arguments)):Array.isArray(v)?P(v):v&&s(v)==="object"?v:A;for(var E=z.length-1;E>=0;--E)this[z[E]]=v[z[E]]!=null?v[z[E]]:A[z[E]]},extend:{extract:function(){var v=T(this,0,1);T(this,1,0);var A=180/Math.PI*Math.atan2(v.y,v.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(A*Math.PI/180)+this.f*Math.sin(A*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(A*Math.PI/180)+this.e*Math.sin(-A*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:A,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(v){return this.destination=new n.Matrix(v),this},multiply:function(v){return new n.Matrix(this.native().multiply(function(A){return A instanceof n.Matrix||(A=new n.Matrix(A)),A}(v).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(v,A){return new n.Matrix(this.native().translate(v||0,A||0))},native:function(){for(var v=n.parser.native.createSVGMatrix(),A=z.length-1;A>=0;A--)v[z[A]]=this[z[A]];return v},toString:function(){return"matrix("+B(this.a)+","+B(this.b)+","+B(this.c)+","+B(this.d)+","+B(this.e)+","+B(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var v=this.rect(1,1),A=v.node.getScreenCTM();return v.remove(),new n.Matrix(A)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(v,A){var E;E=Array.isArray(v)?{x:v[0],y:v[1]}:s(v)==="object"?{x:v.x,y:v.y}:v!=null?{x:v,y:A??v}:{x:0,y:0},this.x=E.x,this.y=E.y},extend:{clone:function(){return new n.Point(this)},morph:function(v,A){return this.destination=new n.Point(v,A),this}}}),n.extend(n.Element,{point:function(v,A){return new n.Point(v,A).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(v,A,E){if(v==null){for(v={},E=(A=this.node.attributes).length-1;E>=0;E--)v[A[E].nodeName]=n.regex.isNumber.test(A[E].nodeValue)?parseFloat(A[E].nodeValue):A[E].nodeValue;return v}if(s(v)==="object")for(var F in v)this.attr(F,v[F]);else if(A===null)this.node.removeAttribute(v);else{if(A==null)return(A=this.node.getAttribute(v))==null?n.defaults.attrs[v]:n.regex.isNumber.test(A)?parseFloat(A):A;v=="stroke-width"?this.attr("stroke",parseFloat(A)>0?this._stroke:null):v=="stroke"&&(this._stroke=A),v!="fill"&&v!="stroke"||(n.regex.isImage.test(A)&&(A=this.doc().defs().image(A,0,0)),A instanceof n.Image&&(A=this.doc().defs().pattern(0,0,function(){this.add(A)}))),typeof A=="number"?A=new n.Number(A):n.Color.isColor(A)?A=new n.Color(A):Array.isArray(A)&&(A=new n.Array(A)),v=="leading"?this.leading&&this.leading(A):typeof E=="string"?this.node.setAttributeNS(E,v,A.toString()):this.node.setAttribute(v,A.toString()),!this.rebuild||v!="font-size"&&v!="x"||this.rebuild(v,A)}return this}}),n.extend(n.Element,{transform:function(v,A){var E;return s(v)!=="object"?(E=new n.Matrix(this).extract(),typeof v=="string"?E[v]:E):(E=new n.Matrix(this),A=!!A||!!v.relative,v.a!=null&&(E=A?E.multiply(new n.Matrix(v)):new n.Matrix(v)),this.attr("transform",E))}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(v){var A=v.trim().split("(");return[A[0],A[1].split(n.regex.delimiter).map(function(E){return parseFloat(E)})]}).reduce(function(v,A){return A[0]=="matrix"?v.multiply(P(A[1])):v[A[0]].apply(v,A[1])},new n.Matrix)},toParent:function(v){if(this==v)return this;var A=this.screenCTM(),E=v.screenCTM().inverse();return this.addTo(v).untransform().transform(E.multiply(A)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(v,A){if(arguments.length>1&&typeof A!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(v))for(var E=0,F=this.arguments.length;E<F;++E)this[this.arguments[E]]=v[E];else if(v&&s(v)==="object")for(E=0,F=this.arguments.length;E<F;++E)this[this.arguments[E]]=v[this.arguments[E]];this.inversed=!1,A===!0&&(this.inversed=!0)}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(v,A){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.extend(n.Element,{style:function(v,A){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(s(v)==="object")for(var E in v)this.style(E,v[E]);else{if(!n.regex.isCss.test(v))return this.node.style[y(v)];for(v=v.split(/\s*;\s*/).filter(function(F){return!!F}).map(function(F){return F.split(/\s*:\s*/)});A=v.pop();)this.style(A[0],A[1])}else this.node.style[y(v)]=A===null||n.regex.isBlank.test(A)?"":A;return this}}),n.Parent=n.invent({create:function(v){this.constructor.call(this,v)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(v){return n.adopt(v)})},add:function(v,A){return A==null?this.node.appendChild(v.node):v.node!=this.node.childNodes[A]&&this.node.insertBefore(v.node,this.node.childNodes[A]),this},put:function(v,A){return this.add(v,A),v},has:function(v){return this.index(v)>=0},index:function(v){return[].slice.call(this.node.childNodes).indexOf(v.node)},get:function(v){return n.adopt(this.node.childNodes[v])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(v,A){for(var E=this.children(),F=0,j=E.length;F<j;F++)E[F]instanceof n.Element&&v.apply(E[F],[F,E]),A&&E[F]instanceof n.Container&&E[F].each(v,A);return this},removeElement:function(v){return this.node.removeChild(v.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(v,A){return A===0||this instanceof n.Defs||this.node==n.parser.draw||(v=v||(this instanceof n.Doc?this:this.parent(n.Parent)),A=A||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(v,A-1):this.toParent(v)}),this.node.firstChild||this.remove()),this},flatten:function(v,A){return this.ungroup(v,A)}}),n.Container=n.invent({create:function(v){this.constructor.call(this,v)},inherit:n.Parent}),n.ViewBox=n.invent({parent:n.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(v){n.Element.prototype[v]=function(A){return n.on(this.node,v,A),this}}),n.listeners=[],n.handlerMap=[],n.listenerId=0,n.on=function(v,A,E,F,j){var X=E.bind(F||v.instance||v),J=(n.handlerMap.indexOf(v)+1||n.handlerMap.push(v))-1,ee=A.split(".")[0],se=A.split(".")[1]||"*";n.listeners[J]=n.listeners[J]||{},n.listeners[J][ee]=n.listeners[J][ee]||{},n.listeners[J][ee][se]=n.listeners[J][ee][se]||{},E._svgjsListenerId||(E._svgjsListenerId=++n.listenerId),n.listeners[J][ee][se][E._svgjsListenerId]=X,v.addEventListener(ee,X,j||{passive:!0})},n.off=function(v,A,E){var F=n.handlerMap.indexOf(v),j=A&&A.split(".")[0],X=A&&A.split(".")[1],J="";if(F!=-1)if(E){if(typeof E=="function"&&(E=E._svgjsListenerId),!E)return;n.listeners[F][j]&&n.listeners[F][j][X||"*"]&&(v.removeEventListener(j,n.listeners[F][j][X||"*"][E],!1),delete n.listeners[F][j][X||"*"][E])}else if(X&&j){if(n.listeners[F][j]&&n.listeners[F][j][X]){for(var ee in n.listeners[F][j][X])n.off(v,[j,X].join("."),ee);delete n.listeners[F][j][X]}}else if(X)for(var se in n.listeners[F])for(var J in n.listeners[F][se])X===J&&n.off(v,[se,X].join("."));else if(j){if(n.listeners[F][j]){for(var J in n.listeners[F][j])n.off(v,[j,J].join("."));delete n.listeners[F][j]}}else{for(var se in n.listeners[F])n.off(v,se);delete n.listeners[F],delete n.handlerMap[F]}},n.extend(n.Element,{on:function(v,A,E,F){return n.on(this.node,v,A,E,F),this},off:function(v,A){return n.off(this.node,v,A),this},fire:function(v,A){return v instanceof D.Event?this.node.dispatchEvent(v):this.node.dispatchEvent(v=new n.CustomEvent(v,{detail:A,cancelable:!0})),this._event=v,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(v){return v==null?this.transform("x"):this.transform({x:v-this.x()},!0)}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(v){v&&((v=typeof v=="string"?r.getElementById(v):v).nodeName=="svg"?this.constructor.call(this,v):(this.constructor.call(this,n.create("svg")),v.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){var v;return this._defs||((v=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(v):this._defs=new n.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw&&!n.parser.draw.parentNode&&this.node.appendChild(n.parser.draw),this},clone:function(v){this.writeDataToDom();var A=this.node,E=M(A.cloneNode(!0));return v?(v.node||v).appendChild(E.node):A.parentNode.insertBefore(E.node,A.nextSibling),E}}}),n.extend(n.Element,{}),n.Gradient=n.invent({create:function(v){this.constructor.call(this,n.create(v+"Gradient")),this.type=v},inherit:n.Container,extend:{at:function(v,A,E){return this.put(new n.Stop).update(v,A,E)},update:function(v){return this.clear(),typeof v=="function"&&v.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(v,A,E){return v=="transform"&&(v="gradientTransform"),n.Container.prototype.attr.call(this,v,A,E)}},construct:{gradient:function(v,A){return this.defs().gradient(v,A)}}}),n.extend(n.Gradient,n.FX,{from:function(v,A){return(this._target||this).type=="radial"?this.attr({fx:new n.Number(v),fy:new n.Number(A)}):this.attr({x1:new n.Number(v),y1:new n.Number(A)})},to:function(v,A){return(this._target||this).type=="radial"?this.attr({cx:new n.Number(v),cy:new n.Number(A)}):this.attr({x2:new n.Number(v),y2:new n.Number(A)})}}),n.extend(n.Defs,{gradient:function(v,A){return this.put(new n.Gradient(v)).update(A)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(v){return(typeof v=="number"||v instanceof n.Number)&&(v={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),v.opacity!=null&&this.attr("stop-opacity",v.opacity),v.color!=null&&this.attr("stop-color",v.color),v.offset!=null&&this.attr("offset",new n.Number(v.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(v){return this.clear(),typeof v=="function"&&v.call(this,this),this},toString:function(){return this.fill()},attr:function(v,A,E){return v=="transform"&&(v="patternTransform"),n.Container.prototype.attr.call(this,v,A,E)}},construct:{pattern:function(v,A,E){return this.defs().pattern(v,A,E)}}}),n.extend(n.Defs,{pattern:function(v,A,E){return this.put(new n.Pattern).update(E).attr({x:0,y:0,width:v,height:A,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(v){this.constructor.call(this,v)},inherit:n.Element}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(v,A){return this.attr("href",(A||"")+"#"+v,n.xlink)}},construct:{use:function(v,A){return this.put(new n.Use).element(v,A)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(v,A){return this.put(new n.Rect).size(v,A)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(v){return this.put(new n.Circle).rx(new n.Number(v).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(v){return this.attr("r",v)},ry:function(v){return this.rx(v)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(v,A){return this.put(new n.Ellipse).size(v,A).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(v){return this.attr("rx",v)},ry:function(v){return this.attr("ry",v)}}),n.extend(n.Circle,n.Ellipse,{x:function(v){return v==null?this.cx()-this.rx():this.cx(v+this.rx())},y:function(v){return v==null?this.cy()-this.ry():this.cy(v+this.ry())},cx:function(v){return v==null?this.attr("cx"):this.attr("cx",v)},cy:function(v){return v==null?this.attr("cy"):this.attr("cy",v)},width:function(v){return v==null?2*this.rx():this.rx(new n.Number(v).divide(2))},height:function(v){return v==null?2*this.ry():this.ry(new n.Number(v).divide(2))},size:function(v,A){var E=C(this,v,A);return this.rx(new n.Number(E.width).divide(2)).ry(new n.Number(E.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(v,A,E,F){return v==null?this.array():(v=A!==void 0?{x1:v,y1:A,x2:E,y2:F}:new n.PointArray(v).toLine(),this.attr(v))},move:function(v,A){return this.attr(this.array().move(v,A).toLine())},size:function(v,A){var E=C(this,v,A);return this.attr(this.array().size(E.width,E.height).toLine())}},construct:{line:function(v,A,E,F){return n.Line.prototype.plot.apply(this.put(new n.Line),v!=null?[v,A,E,F]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(v){return this.put(new n.Polyline).plot(v||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(v){return this.put(new n.Polygon).plot(v||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(v){return v==null?this.array():this.clear().attr("points",typeof v=="string"?v:this._array=new n.PointArray(v))},clear:function(){return delete this._array,this},move:function(v,A){return this.attr("points",this.array().move(v,A))},size:function(v,A){var E=C(this,v,A);return this.attr("points",this.array().size(E.width,E.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(v){return v==null?this.bbox().x:this.move(v,this.bbox().y)},y:function(v){return v==null?this.bbox().y:this.move(this.bbox().x,v)},width:function(v){var A=this.bbox();return v==null?A.width:this.size(v,A.height)},height:function(v){var A=this.bbox();return v==null?A.height:this.size(A.width,v)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(v){return v==null?this.array():this.clear().attr("d",typeof v=="string"?v:this._array=new n.PathArray(v))},clear:function(){return delete this._array,this}},construct:{path:function(v){return this.put(new n.Path).plot(v||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(v){if(!v)return this;var A=this,E=new D.Image;return n.on(E,"load",function(){n.off(E);var F=A.parent(n.Pattern);F!==null&&(A.width()==0&&A.height()==0&&A.size(E.width,E.height),F&&F.width()==0&&F.height()==0&&F.size(A.width(),A.height()),typeof A._loaded=="function"&&A._loaded.call(A,{width:E.width,height:E.height,ratio:E.width/E.height,url:v}))}),n.on(E,"error",function(F){n.off(E),typeof A._error=="function"&&A._error.call(A,F)}),this.attr("href",E.src=this.src=v,n.xlink)},loaded:function(v){return this._loaded=v,this},error:function(v){return this._error=v,this}},construct:{image:function(v,A,E){return this.put(new n.Image).load(v).size(A||0,E||A||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(v){return v==null?this.attr("x"):this.attr("x",v)},text:function(v){if(v===void 0){v="";for(var A=this.node.childNodes,E=0,F=A.length;E<F;++E)E!=0&&A[E].nodeType!=3&&n.adopt(A[E]).dom.newLined==1&&(v+=`
`),v+=A[E].textContent;return v}if(this.clear().build(!0),typeof v=="function")v.call(this,this);else{E=0;for(var j=(v=v.split(`
`)).length;E<j;E++)this.tspan(v[E]).newLine()}return this.build(!1).rebuild()},size:function(v){return this.attr("font-size",v).rebuild()},leading:function(v){return v==null?this.dom.leading:(this.dom.leading=new n.Number(v),this.rebuild())},lines:function(){var v=(this.textPath&&this.textPath()||this).node,A=n.utils.map(n.utils.filterSVGElements(v.childNodes),function(E){return n.adopt(E)});return new n.Set(A)},rebuild:function(v){if(typeof v=="boolean"&&(this._rebuild=v),this._rebuild){var A=this,E=0,F=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(A.textPath()||this.attr("x",A.attr("x")),this.text()==`
`?E+=F:(this.attr("dy",F+E),E=0))}),this.fire("rebuild")}return this},build:function(v){return this._build=!!v,this},setData:function(v){return this.dom=v,this.dom.leading=new n.Number(v.leading||1.3),this}},construct:{text:function(v){return this.put(new n.Text).text(v)},plain:function(v){return this.put(new n.Text).plain(v)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(v){return v==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof v=="function"?v.call(this,this):this.plain(v),this)},dx:function(v){return this.attr("dx",v)},dy:function(v){return this.attr("dy",v)},newLine:function(){var v=this.parent(n.Text);return this.dom.newLined=!0,this.dy(v.dom.leading*v.attr("font-size")).attr("x",v.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(v){return this._build===!1&&this.clear(),this.node.appendChild(r.createTextNode(v)),this},tspan:function(v){var A=(this.textPath&&this.textPath()||this).node,E=new n.Tspan;return this._build===!1&&this.clear(),A.appendChild(E.node),E.text(v)},clear:function(){for(var v=(this.textPath&&this.textPath()||this).node;v.hasChildNodes();)v.removeChild(v.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,array:function(){var v=this.track();return v?v.array():null},plot:function(v){var A=this.track(),E=null;return A&&(E=A.plot(v)),v==null?E:this},track:function(){var v=this.textPath();if(v)return v.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}});var p={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(v,A){return A=="color"?v:v+"-"+A}};function g(v,A,E,F){return E+F.replace(n.regex.dots," .")}function y(v){return v.toLowerCase().replace(/-(.)/g,function(A,E){return E.toUpperCase()})}function x(v){return v.charAt(0).toUpperCase()+v.slice(1)}function w(v){var A=v.toString(16);return A.length==1?"0"+A:A}function C(v,A,E){if(A==null||E==null){var F=v.bbox();A==null?A=F.width/F.height*E:E==null&&(E=F.height/F.width*A)}return{width:A,height:E}}function T(v,A,E){return{x:A*v.a+E*v.c+0,y:A*v.b+E*v.d+0}}function P(v){return{a:v[0],b:v[1],c:v[2],d:v[3],e:v[4],f:v[5]}}function M(v){for(var A=v.childNodes.length-1;A>=0;A--)v.childNodes[A]instanceof D.SVGElement&&M(v.childNodes[A]);return n.adopt(v).id(n.eid(v.nodeName))}function B(v){return Math.abs(v)>1e-37?v:0}["fill","stroke"].forEach(function(v){var A={};A[v]=function(E){if(E===void 0)return this;if(typeof E=="string"||n.Color.isRgb(E)||E&&typeof E.fill=="function")this.attr(v,E);else for(var F=p[v].length-1;F>=0;F--)E[p[v][F]]!=null&&this.attr(p.prefix(v,p[v][F]),E[p[v][F]]);return this},n.extend(n.Element,n.FX,A)}),n.extend(n.Element,n.FX,{translate:function(v,A){return this.transform({x:v,y:A})},matrix:function(v){return this.attr("transform",new n.Matrix(arguments.length==6?[].slice.call(arguments):v))},opacity:function(v){return this.attr("opacity",v)},dx:function(v){return this.x(new n.Number(v).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(v){return this.y(new n.Number(v).plus(this instanceof n.FX?0:this.y()),!0)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(v){return this.node.getPointAtLength(v)}}),n.Set=n.invent({create:function(v){Array.isArray(v)?this.members=v:this.clear()},extend:{add:function(){for(var v=[].slice.call(arguments),A=0,E=v.length;A<E;A++)this.members.push(v[A]);return this},remove:function(v){var A=this.index(v);return A>-1&&this.members.splice(A,1),this},each:function(v){for(var A=0,E=this.members.length;A<E;A++)v.apply(this.members[A],[A,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(v){return this.index(v)>=0},index:function(v){return this.members.indexOf(v)},get:function(v){return this.members[v]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(v){return new n.Set(v)}}}),n.FX.Set=n.invent({create:function(v){this.set=v}}),n.Set.inherit=function(){var v=[];for(var A in n.Shape.prototype)typeof n.Shape.prototype[A]=="function"&&typeof n.Set.prototype[A]!="function"&&v.push(A);for(var A in v.forEach(function(F){n.Set.prototype[F]=function(){for(var j=0,X=this.members.length;j<X;j++)this.members[j]&&typeof this.members[j][F]=="function"&&this.members[j][F].apply(this.members[j],arguments);return F=="animate"?this.fx||(this.fx=new n.FX.Set(this)):this}}),v=[],n.FX.prototype)typeof n.FX.prototype[A]=="function"&&typeof n.FX.Set.prototype[A]!="function"&&v.push(A);v.forEach(function(E){n.FX.Set.prototype[E]=function(){for(var F=0,j=this.set.members.length;F<j;F++)this.set.members[F].fx[E].apply(this.set.members[F].fx,arguments);return this}})},n.extend(n.Element,{}),n.extend(n.Element,{remember:function(v,A){if(s(arguments[0])==="object")for(var E in v)this.remember(E,v[E]);else{if(arguments.length==1)return this.memory()[v];this.memory()[v]=A}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var v=arguments.length-1;v>=0;v--)delete this.memory()[arguments[v]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(v){var A=r.getElementById(function(E){var F=(E||"").toString().match(n.regex.reference);if(F)return F[1]}(v)||v);return n.adopt(A)},n.select=function(v,A){return new n.Set(n.utils.map((A||r).querySelectorAll(v),function(E){return n.adopt(E)}))},n.extend(n.Parent,{select:function(v){return n.select(v,this.node)}});var z="abcdef".split("");if(typeof D.CustomEvent!="function"){var W=function(v,A){A=A||{bubbles:!1,cancelable:!1,detail:void 0};var E=r.createEvent("CustomEvent");return E.initCustomEvent(v,A.bubbles,A.cancelable,A.detail),E};W.prototype=D.Event.prototype,n.CustomEvent=W}else n.CustomEvent=D.CustomEvent;return n},s(e)==="object"?a.exports=Xi.document?vs(Xi,Xi.document):function(D){return vs(D,D.document)}:Xi.SVG=vs(Xi,Xi.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(d,p){return this.add(d,p),!d.attr("in")&&this.autoSetIn&&d.attr("in",this.source),d.attr("result")||d.attr("result",d),d},blend:function(d,p,g){return this.put(new SVG.BlendEffect(d,p,g))},colorMatrix:function(d,p){return this.put(new SVG.ColorMatrixEffect(d,p))},convolveMatrix:function(d){return this.put(new SVG.ConvolveMatrixEffect(d))},componentTransfer:function(d){return this.put(new SVG.ComponentTransferEffect(d))},composite:function(d,p,g){return this.put(new SVG.CompositeEffect(d,p,g))},flood:function(d,p){return this.put(new SVG.FloodEffect(d,p))},offset:function(d,p){return this.put(new SVG.OffsetEffect(d,p))},image:function(d){return this.put(new SVG.ImageEffect(d))},merge:function(){var d=[void 0];for(var p in arguments)d.push(arguments[p]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,d)))},gaussianBlur:function(d,p){return this.put(new SVG.GaussianBlurEffect(d,p))},morphology:function(d,p){return this.put(new SVG.MorphologyEffect(d,p))},diffuseLighting:function(d,p,g){return this.put(new SVG.DiffuseLightingEffect(d,p,g))},displacementMap:function(d,p,g,y,x){return this.put(new SVG.DisplacementMapEffect(d,p,g,y,x))},specularLighting:function(d,p,g,y){return this.put(new SVG.SpecularLightingEffect(d,p,g,y))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(d,p,g,y,x){return this.put(new SVG.TurbulenceEffect(d,p,g,y,x))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(d){var p=this.put(new SVG.Filter);return typeof d=="function"&&d.call(p,p),p}}),SVG.extend(SVG.Container,{filter:function(d){return this.defs().filter(d)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(d){return this.filterer=d instanceof SVG.Element?d:this.doc().filter(d),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(d){return this.filterer&&d===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(d){return d==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",d)},result:function(d){return d==null?this.attr("result"):this.attr("result",d)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(d){return d==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",d)},result:function(d){return d==null?this.attr("result"):this.attr("result",d)},toString:function(){return this.result()}}});var D={blend:function(d,p){return this.parent()&&this.parent().blend(this,d,p)},colorMatrix:function(d,p){return this.parent()&&this.parent().colorMatrix(d,p).in(this)},convolveMatrix:function(d){return this.parent()&&this.parent().convolveMatrix(d).in(this)},componentTransfer:function(d){return this.parent()&&this.parent().componentTransfer(d).in(this)},composite:function(d,p){return this.parent()&&this.parent().composite(this,d,p)},flood:function(d,p){return this.parent()&&this.parent().flood(d,p)},offset:function(d,p){return this.parent()&&this.parent().offset(d,p).in(this)},image:function(d){return this.parent()&&this.parent().image(d)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(d,p){return this.parent()&&this.parent().gaussianBlur(d,p).in(this)},morphology:function(d,p){return this.parent()&&this.parent().morphology(d,p).in(this)},diffuseLighting:function(d,p,g){return this.parent()&&this.parent().diffuseLighting(d,p,g).in(this)},displacementMap:function(d,p,g,y){return this.parent()&&this.parent().displacementMap(this,d,p,g,y)},specularLighting:function(d,p,g,y){return this.parent()&&this.parent().specularLighting(d,p,g,y).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(d,p,g,y,x){return this.parent()&&this.parent().turbulence(d,p,g,y,x).in(this)}};SVG.extend(SVG.Effect,D),SVG.extend(SVG.ParentEffect,D),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(d){this.attr("in",d)}}});var r={blend:function(d,p,g){this.attr({in:d,in2:p,mode:g||"normal"})},colorMatrix:function(d,p){d=="matrix"&&(p=h(p)),this.attr({type:d,values:p===void 0?null:p})},convolveMatrix:function(d){d=h(d),this.attr({order:Math.sqrt(d.split(" ").length),kernelMatrix:d})},composite:function(d,p,g){this.attr({in:d,in2:p,operator:g})},flood:function(d,p){this.attr("flood-color",d),p!=null&&this.attr("flood-opacity",p)},offset:function(d,p){this.attr({dx:d,dy:p})},image:function(d){this.attr("href",d,SVG.xlink)},displacementMap:function(d,p,g,y,x){this.attr({in:d,in2:p,scale:g,xChannelSelector:y,yChannelSelector:x})},gaussianBlur:function(d,p){d!=null||p!=null?this.attr("stdDeviation",function(g){if(!Array.isArray(g))return g;for(var y=0,x=g.length,w=[];y<x;y++)w.push(g[y]);return w.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(d,p){this.attr({operator:d,radius:p})},tile:function(){},turbulence:function(d,p,g,y,x){this.attr({numOctaves:p,seed:g,stitchTiles:y,baseFrequency:d,type:x})}},n={merge:function(){var d;if(arguments[0]instanceof SVG.Set){var p=this;arguments[0].each(function(y){this instanceof SVG.MergeNode?p.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&p.put(new SVG.MergeNode(this))})}else{d=Array.isArray(arguments[0])?arguments[0]:arguments;for(var g=0;g<d.length;g++)d[g]instanceof SVG.MergeNode?this.put(d[g]):this.put(new SVG.MergeNode(d[g]))}},componentTransfer:function(d){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(g){this[g]=new SVG["Func"+g.toUpperCase()]("identity"),this.rgb.add(this[g]),this.node.appendChild(this[g].node)}).bind(this)),d)for(var p in d.rgb&&(["r","g","b"].forEach((function(g){this[g].attr(d.rgb)}).bind(this)),delete d.rgb),d)this[p].attr(d[p])},diffuseLighting:function(d,p,g){this.attr({surfaceScale:d,diffuseConstant:p,kernelUnitLength:g})},specularLighting:function(d,p,g,y){this.attr({surfaceScale:d,diffuseConstant:p,specularExponent:g,kernelUnitLength:y})}},l={distantLight:function(d,p){this.attr({azimuth:d,elevation:p})},pointLight:function(d,p,g){this.attr({x:d,y:p,z:g})},spotLight:function(d,p,g,y,x,w){this.attr({x:d,y:p,z:g,pointsAtX:y,pointsAtY:x,pointsAtZ:w})},mergeNode:function(d){this.attr("in",d)}};function h(d){return Array.isArray(d)&&(d=new SVG.Array(d)),d.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function u(){var d=function(){};for(var p in typeof arguments[arguments.length-1]=="function"&&(d=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var g in arguments[p])d(arguments[p][g],g,arguments[p])}["r","g","b","a"].forEach(function(d){l["Func"+d.toUpperCase()]=function(p){switch(this.attr("type",p),p){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),u(r,function(d,p){var g=p.charAt(0).toUpperCase()+p.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),d.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),u(n,function(d,p){var g=p.charAt(0).toUpperCase()+p.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),d.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),u(l,function(d,p){var g=p.charAt(0).toUpperCase()+p.slice(1);SVG[g]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),d.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(d){return d instanceof SVG.MergeNode?this.add(d,0):this.add(new SVG.MergeNode(d),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(d){return d==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",d)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function D(u,d,p,g,y,x,w){for(var C=u.slice(d,p||w),T=g.slice(y,x||w),P=0,M={pos:[0,0],start:[0,0]},B={pos:[0,0],start:[0,0]};C[P]=r.call(M,C[P]),T[P]=r.call(B,T[P]),C[P][0]!=T[P][0]||C[P][0]=="M"||C[P][0]=="A"&&(C[P][4]!=T[P][4]||C[P][5]!=T[P][5])?(Array.prototype.splice.apply(C,[P,1].concat(l.call(M,C[P]))),Array.prototype.splice.apply(T,[P,1].concat(l.call(B,T[P])))):(C[P]=n.call(M,C[P]),T[P]=n.call(B,T[P])),!(++P==C.length&&P==T.length);)P==C.length&&C.push(["C",M.pos[0],M.pos[1],M.pos[0],M.pos[1],M.pos[0],M.pos[1]]),P==T.length&&T.push(["C",B.pos[0],B.pos[1],B.pos[0],B.pos[1],B.pos[0],B.pos[1]]);return{start:C,dest:T}}function r(u){switch(u[0]){case"z":case"Z":u[0]="L",u[1]=this.start[0],u[2]=this.start[1];break;case"H":u[0]="L",u[2]=this.pos[1];break;case"V":u[0]="L",u[2]=u[1],u[1]=this.pos[0];break;case"T":u[0]="Q",u[3]=u[1],u[4]=u[2],u[1]=this.reflection[1],u[2]=this.reflection[0];break;case"S":u[0]="C",u[6]=u[4],u[5]=u[3],u[4]=u[2],u[3]=u[1],u[2]=this.reflection[1],u[1]=this.reflection[0]}return u}function n(u){var d=u.length;return this.pos=[u[d-2],u[d-1]],"SCQT".indexOf(u[0])!=-1&&(this.reflection=[2*this.pos[0]-u[d-4],2*this.pos[1]-u[d-3]]),u}function l(u){var d=[u];switch(u[0]){case"M":return this.pos=this.start=[u[1],u[2]],d;case"L":u[5]=u[3]=u[1],u[6]=u[4]=u[2],u[1]=this.pos[0],u[2]=this.pos[1];break;case"Q":u[6]=u[4],u[5]=u[3],u[4]=1*u[4]/3+2*u[2]/3,u[3]=1*u[3]/3+2*u[1]/3,u[2]=1*this.pos[1]/3+2*u[2]/3,u[1]=1*this.pos[0]/3+2*u[1]/3;break;case"A":d=function(p,g){var y,x,w,C,T,P,M,B,z,W,v,A,E,F,j,X,J,ee,se,he,ce,ge,Te,Re,Fe,Xe,mt=Math.abs(g[1]),ot=Math.abs(g[2]),kt=g[3]%360,Ii=g[4],Yi=g[5],on=g[6],ln=g[7],Yt=new SVG.Point(p),zt=new SVG.Point(on,ln),ba=[];if(mt===0||ot===0||Yt.x===zt.x&&Yt.y===zt.y)return[["C",Yt.x,Yt.y,zt.x,zt.y,zt.x,zt.y]];for(y=new SVG.Point((Yt.x-zt.x)/2,(Yt.y-zt.y)/2).transform(new SVG.Matrix().rotate(kt)),(x=y.x*y.x/(mt*mt)+y.y*y.y/(ot*ot))>1&&(mt*=x=Math.sqrt(x),ot*=x),w=new SVG.Matrix().rotate(kt).scale(1/mt,1/ot).rotate(-kt),Yt=Yt.transform(w),zt=zt.transform(w),C=[zt.x-Yt.x,zt.y-Yt.y],P=C[0]*C[0]+C[1]*C[1],T=Math.sqrt(P),C[0]/=T,C[1]/=T,M=P<4?Math.sqrt(1-P/4):0,Ii===Yi&&(M*=-1),B=new SVG.Point((zt.x+Yt.x)/2+M*-C[1],(zt.y+Yt.y)/2+M*C[0]),z=new SVG.Point(Yt.x-B.x,Yt.y-B.y),W=new SVG.Point(zt.x-B.x,zt.y-B.y),v=Math.acos(z.x/Math.sqrt(z.x*z.x+z.y*z.y)),z.y<0&&(v*=-1),A=Math.acos(W.x/Math.sqrt(W.x*W.x+W.y*W.y)),W.y<0&&(A*=-1),Yi&&v>A&&(A+=2*Math.PI),!Yi&&v<A&&(A-=2*Math.PI),F=Math.ceil(2*Math.abs(v-A)/Math.PI),X=[],J=v,E=(A-v)/F,j=4*Math.tan(E/4)/3,ce=0;ce<=F;ce++)se=Math.cos(J),ee=Math.sin(J),he=new SVG.Point(B.x+se,B.y+ee),X[ce]=[new SVG.Point(he.x+j*ee,he.y-j*se),he,new SVG.Point(he.x-j*ee,he.y+j*se)],J+=E;for(X[0][0]=X[0][1].clone(),X[X.length-1][2]=X[X.length-1][1].clone(),w=new SVG.Matrix().rotate(kt).scale(mt,ot).rotate(-kt),ce=0,ge=X.length;ce<ge;ce++)X[ce][0]=X[ce][0].transform(w),X[ce][1]=X[ce][1].transform(w),X[ce][2]=X[ce][2].transform(w);for(ce=1,ge=X.length;ce<ge;ce++)Te=(he=X[ce-1][2]).x,Re=he.y,Fe=(he=X[ce][0]).x,Xe=he.y,on=(he=X[ce][1]).x,ln=he.y,ba.push(["C",Te,Re,Fe,Xe,on,ln]);return ba}(this.pos,u),u=d[0]}return u[0]="C",this.pos=[u[5],u[6]],this.reflection=[2*u[5]-u[3],2*u[6]-u[4]],d}function h(u,d){if(d===!1)return!1;for(var p=d,g=u.length;p<g;++p)if(u[p][0]=="M")return p;return!1}SVG.extend(SVG.PathArray,{morph:function(u){for(var d=this.value,p=this.parse(u),g=0,y=0,x=!1,w=!1;g!==!1||y!==!1;){var C;x=h(d,g!==!1&&g+1),w=h(p,y!==!1&&y+1),g===!1&&(g=(C=new SVG.PathArray(T.start).bbox()).height==0||C.width==0?d.push(d[0])-1:d.push(["M",C.x+C.width/2,C.y+C.height/2])-1),y===!1&&(y=(C=new SVG.PathArray(T.dest).bbox()).height==0||C.width==0?p.push(p[0])-1:p.push(["M",C.x+C.width/2,C.y+C.height/2])-1);var T=D(d,g,x,p,y,w);d=d.slice(0,g).concat(T.start,x===!1?[]:d.slice(x)),p=p.slice(0,y).concat(T.dest,w===!1?[]:p.slice(w)),g=x!==!1&&g+T.start.length,y=w!==!1&&y+T.dest.length}return this.value=d,this.destination=new SVG.PathArray,this.destination.value=p,this}})}(),(function(){function D(r){r.remember("_draggable",this),this.el=r}D.prototype.init=function(r,n){var l=this;this.constraint=r,this.value=n,this.el.on("mousedown.drag",function(h){l.start(h)}),this.el.on("touchstart.drag",function(h){l.start(h)})},D.prototype.transformPoint=function(r,n){var l=(r=r||window.event).changedTouches&&r.changedTouches[0]||r;return this.p.x=l.clientX-(n||0),this.p.y=l.clientY,this.p.matrixTransform(this.m)},D.prototype.getBBox=function(){var r=this.el.bbox();return this.el instanceof SVG.Nested&&(r=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(r.x=this.el.x(),r.y=this.el.y()),r},D.prototype.start=function(r){if(r.type!="click"&&r.type!="mousedown"&&r.type!="mousemove"||(r.which||r.buttons)==1){var n=this;if(this.el.fire("beforedrag",{event:r,handler:this}),!this.el.event().defaultPrevented){r.preventDefault(),r.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var l,h=this.getBBox();if(this.el instanceof SVG.Text)switch(l=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":l/=2;break;case"start":l=0}this.startPoints={point:this.transformPoint(r,l),box:h,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(u){n.drag(u)}),SVG.on(window,"touchmove.drag",function(u){n.drag(u)}),SVG.on(window,"mouseup.drag",function(u){n.end(u)}),SVG.on(window,"touchend.drag",function(u){n.end(u)}),this.el.fire("dragstart",{event:r,p:this.startPoints.point,m:this.m,handler:this})}}},D.prototype.drag=function(r){var n=this.getBBox(),l=this.transformPoint(r),h=this.startPoints.box.x+l.x-this.startPoints.point.x,u=this.startPoints.box.y+l.y-this.startPoints.point.y,d=this.constraint,p=l.x-this.startPoints.point.x,g=l.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:r,p:l,m:this.m,handler:this}),this.el.event().defaultPrevented)return l;if(typeof d=="function"){var y=d.call(this.el,h,u,this.m);typeof y=="boolean"&&(y={x:y,y}),y.x===!0?this.el.x(h):y.x!==!1&&this.el.x(y.x),y.y===!0?this.el.y(u):y.y!==!1&&this.el.y(y.y)}else typeof d=="object"&&(d.minX!=null&&h<d.minX?p=(h=d.minX)-this.startPoints.box.x:d.maxX!=null&&h>d.maxX-n.width&&(p=(h=d.maxX-n.width)-this.startPoints.box.x),d.minY!=null&&u<d.minY?g=(u=d.minY)-this.startPoints.box.y:d.maxY!=null&&u>d.maxY-n.height&&(g=(u=d.maxY-n.height)-this.startPoints.box.y),d.snapToGrid!=null&&(h-=h%d.snapToGrid,u-=u%d.snapToGrid,p-=p%d.snapToGrid,g-=g%d.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:p,y:g},!0):this.el.move(h,u));return l},D.prototype.end=function(r){var n=this.drag(r);this.el.fire("dragend",{event:r,p:n,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(r,n){typeof r!="function"&&typeof r!="object"||(n=r,r=!0);var l=this.remember("_draggable")||new D(this);return(r=r===void 0||r)?l.init(n||{},r):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function D(r){this.el=r,r.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(n,l,h){var u=typeof n!="string"?n:l[n];return h?u/2:u},this.pointCoords=function(n,l){var h=this.pointsList[n];return{x:this.pointCoord(h[0],l,n==="t"||n==="b"),y:this.pointCoord(h[1],l,n==="r"||n==="l")}}}D.prototype.init=function(r,n){var l=this.el.bbox();this.options={};var h=this.el.selectize.defaults.points;for(var u in this.el.selectize.defaults)this.options[u]=this.el.selectize.defaults[u],n[u]!==void 0&&(this.options[u]=n[u]);var d=["points","pointsExclude"];for(var u in d){var p=this.options[d[u]];typeof p=="string"?p=p.length>0?p.split(/\s*,\s*/i):[]:typeof p=="boolean"&&d[u]==="points"&&(p=p?h:[]),this.options[d[u]]=p}this.options.points=[h,this.options.points].reduce(function(g,y){return g.filter(function(x){return y.indexOf(x)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(g,y){return g.filter(function(x){return y.indexOf(x)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(l.x,l.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(r):this.selectRect(r),this.observe(),this.cleanup()},D.prototype.selectPoints=function(r){return this.pointSelection.isSelected=r,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},D.prototype.getPointArray=function(){var r=this.el.bbox();return this.el.array().valueOf().map(function(n){return[n[0]-r.x,n[1]-r.y]})},D.prototype.drawPoints=function(){for(var r=this,n=this.getPointArray(),l=0,h=n.length;l<h;++l){var u=function(p){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var y=g.pageX||g.touches[0].pageX,x=g.pageY||g.touches[0].pageY;r.el.fire("point",{x:y,y:x,i:p,event:g})}}(l),d=this.drawPoint(n[l][0],n[l][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",u).on("mousedown",u);this.pointSelection.set.add(d)}},D.prototype.drawPoint=function(r,n){var l=this.options.pointType;switch(l){case"circle":return this.drawCircle(r,n);case"rect":return this.drawRect(r,n);default:if(typeof l=="function")return l.call(this,r,n);throw new Error("Unknown "+l+" point type!")}},D.prototype.drawCircle=function(r,n){return this.nested.circle(this.options.pointSize).center(r,n)},D.prototype.drawRect=function(r,n){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(r,n)},D.prototype.updatePointSelection=function(){var r=this.getPointArray();this.pointSelection.set.each(function(n){this.cx()===r[n][0]&&this.cy()===r[n][1]||this.center(r[n][0],r[n][1])})},D.prototype.updateRectSelection=function(){var r=this,n=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:n.width,height:n.height}),this.options.points.length&&this.options.points.map(function(h,u){var d=r.pointCoords(h,n);r.rectSelection.set.get(u+1).center(d.x,d.y)}),this.options.rotationPoint){var l=this.rectSelection.set.length();this.rectSelection.set.get(l-1).center(n.width/2,20)}},D.prototype.selectRect=function(r){var n=this,l=this.el.bbox();function h(p){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var y=g.pageX||g.touches[0].pageX,x=g.pageY||g.touches[0].pageY;n.el.fire(p,{x:y,y:x,event:g})}}if(this.rectSelection.isSelected=r,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(l.width,l.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(p,g){var y=n.pointCoords(p,l),x=n.drawPoint(y.x,y.y).attr("class",n.options.classPoints+"_"+p).on("mousedown",h(p)).on("touchstart",h(p));n.rectSelection.set.add(x)}),this.rectSelection.set.each(function(){this.addClass(n.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var u=function(p){(p=p||window.event).preventDefault?p.preventDefault():p.returnValue=!1,p.stopPropagation();var g=p.pageX||p.touches[0].pageX,y=p.pageY||p.touches[0].pageY;n.el.fire("rot",{x:g,y,event:p})},d=this.drawPoint(l.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",u).on("mousedown",u);this.rectSelection.set.add(d)}},D.prototype.handler=function(){var r=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(r.x,r.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},D.prototype.observe=function(){var r=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){r.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){r.handler()})},D.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(r,n){return typeof r=="object"&&(n=r,r=!0),(this.remember("_selectHandler")||new D(this)).init(r===void 0||r,n||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function D(r){r.remember("_resizeHandler",this),this.el=r,this.parameters={},this.lastUpdateCall=null,this.p=r.doc().node.createSVGPoint()}D.prototype.transformPoint=function(r,n,l){return this.p.x=r-(this.offset.x-window.pageXOffset),this.p.y=n-(this.offset.y-window.pageYOffset),this.p.matrixTransform(l||this.m)},D.prototype._extractPosition=function(r){return{x:r.clientX!=null?r.clientX:r.touches[0].clientX,y:r.clientY!=null?r.clientY:r.touches[0].clientY}},D.prototype.init=function(r){var n=this;if(this.stop(),r!=="stop"){for(var l in this.options={},this.el.resize.defaults)this.options[l]=this.el.resize.defaults[l],r[l]!==void 0&&(this.options[l]=r[l]);this.el.on("lt.resize",function(h){n.resize(h||window.event)}),this.el.on("rt.resize",function(h){n.resize(h||window.event)}),this.el.on("rb.resize",function(h){n.resize(h||window.event)}),this.el.on("lb.resize",function(h){n.resize(h||window.event)}),this.el.on("t.resize",function(h){n.resize(h||window.event)}),this.el.on("r.resize",function(h){n.resize(h||window.event)}),this.el.on("b.resize",function(h){n.resize(h||window.event)}),this.el.on("l.resize",function(h){n.resize(h||window.event)}),this.el.on("rot.resize",function(h){n.resize(h||window.event)}),this.el.on("point.resize",function(h){n.resize(h||window.event)}),this.update()}},D.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},D.prototype.resize=function(r){var n=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var l=this._extractPosition(r.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(l.x,l.y),x:r.detail.x,y:r.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),r.detail.i!==void 0){var h=this.el.array().valueOf();this.parameters.i=r.detail.i,this.parameters.pointCoords=[h[r.detail.i][0],h[r.detail.i][1]]}switch(r.type){case"lt":this.calc=function(u,d){var p=this.snapToGrid(u,d);if(this.parameters.box.width-p[0]>0&&this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-p[0]);p=this.checkAspectRatio(p),this.el.move(this.parameters.box.x+p[0],this.parameters.box.y+p[1]).size(this.parameters.box.width-p[0],this.parameters.box.height-p[1])}};break;case"rt":this.calc=function(u,d){var p=this.snapToGrid(u,d,2);if(this.parameters.box.width+p[0]>0&&this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+p[0]);p=this.checkAspectRatio(p,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+p[1]).size(this.parameters.box.width+p[0],this.parameters.box.height-p[1])}};break;case"rb":this.calc=function(u,d){var p=this.snapToGrid(u,d,0);if(this.parameters.box.width+p[0]>0&&this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+p[0]);p=this.checkAspectRatio(p),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+p[0],this.parameters.box.height+p[1])}};break;case"lb":this.calc=function(u,d){var p=this.snapToGrid(u,d,1);if(this.parameters.box.width-p[0]>0&&this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+p[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-p[0]);p=this.checkAspectRatio(p,!0),this.el.move(this.parameters.box.x+p[0],this.parameters.box.y).size(this.parameters.box.width-p[0],this.parameters.box.height+p[1])}};break;case"t":this.calc=function(u,d){var p=this.snapToGrid(u,d,2);if(this.parameters.box.height-p[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+p[1]).height(this.parameters.box.height-p[1])}};break;case"r":this.calc=function(u,d){var p=this.snapToGrid(u,d,0);if(this.parameters.box.width+p[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+p[0])}};break;case"b":this.calc=function(u,d){var p=this.snapToGrid(u,d,0);if(this.parameters.box.height+p[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+p[1])}};break;case"l":this.calc=function(u,d){var p=this.snapToGrid(u,d,1);if(this.parameters.box.width-p[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+p[0],this.parameters.box.y).width(this.parameters.box.width-p[0])}};break;case"rot":this.calc=function(u,d){var p=u+this.parameters.p.x,g=d+this.parameters.p.y,y=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),x=Math.atan2(g-this.parameters.box.y-this.parameters.box.height/2,p-this.parameters.box.x-this.parameters.box.width/2),w=this.parameters.rotation+180*(x-y)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(w-w%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(u,d){var p=this.snapToGrid(u,d,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),g=this.el.array().valueOf();g[this.parameters.i][0]=this.parameters.pointCoords[0]+p[0],g[this.parameters.i][1]=this.parameters.pointCoords[1]+p[1],this.el.plot(g)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:r}),SVG.on(window,"touchmove.resize",function(u){n.update(u||window.event)}),SVG.on(window,"touchend.resize",function(){n.done()}),SVG.on(window,"mousemove.resize",function(u){n.update(u||window.event)}),SVG.on(window,"mouseup.resize",function(){n.done()})},D.prototype.update=function(r){if(r){var n=this._extractPosition(r),l=this.transformPoint(n.x,n.y),h=l.x-this.parameters.p.x,u=l.y-this.parameters.p.y;this.lastUpdateCall=[h,u],this.calc(h,u),this.el.fire("resizing",{dx:h,dy:u,event:r})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},D.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},D.prototype.snapToGrid=function(r,n,l,h){var u;return h!==void 0?u=[(l+r)%this.options.snapToGrid,(h+n)%this.options.snapToGrid]:(l=l??3,u=[(this.parameters.box.x+r+(1&l?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+n+(2&l?0:this.parameters.box.height))%this.options.snapToGrid]),r<0&&(u[0]-=this.options.snapToGrid),n<0&&(u[1]-=this.options.snapToGrid),r-=Math.abs(u[0])<this.options.snapToGrid/2?u[0]:u[0]-(r<0?-this.options.snapToGrid:this.options.snapToGrid),n-=Math.abs(u[1])<this.options.snapToGrid/2?u[1]:u[1]-(n<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(r,n,l,h)},D.prototype.constraintToBox=function(r,n,l,h){var u,d,p=this.options.constraint||{};return h!==void 0?(u=l,d=h):(u=this.parameters.box.x+(1&l?0:this.parameters.box.width),d=this.parameters.box.y+(2&l?0:this.parameters.box.height)),p.minX!==void 0&&u+r<p.minX&&(r=p.minX-u),p.maxX!==void 0&&u+r>p.maxX&&(r=p.maxX-u),p.minY!==void 0&&d+n<p.minY&&(n=p.minY-d),p.maxY!==void 0&&d+n>p.maxY&&(n=p.maxY-d),[r,n]},D.prototype.checkAspectRatio=function(r,n){if(!this.options.saveAspectRatio)return r;var l=r.slice(),h=this.parameters.box.width/this.parameters.box.height,u=this.parameters.box.width+r[0],d=this.parameters.box.height-r[1],p=u/d;return p<h?(l[1]=u/h-this.parameters.box.height,n&&(l[1]=-l[1])):p>h&&(l[0]=this.parameters.box.width-d*h,n&&(l[0]=-l[0])),l},SVG.extend(SVG.Element,{resize:function(r){return(this.remember("_resizeHandler")||new D(this)).init(r||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var va=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new $(this.ctx),this.ctx.axes=new Mt(this.ctx),this.ctx.core=new rh(this.ctx.el,this.ctx),this.ctx.config=new at({}),this.ctx.data=new Tt(this.ctx),this.ctx.grid=new Dt(this.ctx),this.ctx.graphics=new H(this.ctx),this.ctx.coreUtils=new re(this.ctx),this.ctx.crosshairs=new Y(this.ctx),this.ctx.events=new ci(this.ctx),this.ctx.exports=new ii(this.ctx),this.ctx.localization=new Lt(this.ctx),this.ctx.options=new Pe,this.ctx.responsive=new O(this.ctx),this.ctx.series=new $e(this.ctx),this.ctx.theme=new R(this.ctx),this.ctx.formatters=new Ae(this.ctx),this.ctx.titleSubtitle=new q(this.ctx),this.ctx.legend=new dt(this.ctx),this.ctx.toolbar=new Je(this.ctx),this.ctx.tooltip=new da(this.ctx),this.ctx.dimensions=new _e(this.ctx),this.ctx.updateHelpers=new sh(this.ctx),this.ctx.zoomPanSelection=new Ri(this.ctx),this.ctx.w.globals.tooltip=new da(this.ctx)}}]),D}(),ya=function(){function D(r){o(this,D),this.ctx=r,this.w=r.w}return f(D,[{key:"clear",value:function(r){var n=r.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:n})}},{key:"killSVG",value:function(r){r.each(function(n,l){this.removeClass("*"),this.off(),this.stop()},!0),r.ungroup(),r.clear()}},{key:"clearDomElements",value:function(r){var n=this,l=r.isUpdating,h=this.w.globals.dom.Paper.node;h.parentNode&&h.parentNode.parentNode&&!l&&(h.parentNode.parentNode.style.minHeight="unset");var u=this.w.globals.dom.baseEl;u&&this.ctx.eventList.forEach(function(p){u.removeEventListener(p,n.ctx.events.documentEvent)});var d=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(d.Paper),d.Paper.remove(),d.elWrap=null,d.elGraphical=null,d.elLegendWrap=null,d.elLegendForeign=null,d.baseEl=null,d.elGridRect=null,d.elGridRectMask=null,d.elGridRectMarkerMask=null,d.elForecastMask=null,d.elNonForecastMask=null,d.elDefs=null}}]),D}(),an=new WeakMap,nh=function(){function D(r,n){o(this,D),this.opts=n,this.ctx=this,this.w=new Ge(n).init(),this.el=r,this.w.globals.cuid=V.randomId(),this.w.globals.chartID=this.w.config.chart.id?V.escapeString(this.w.config.chart.id):this.w.globals.cuid,new va(this).initModules(),this.create=V.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return f(D,[{key:"render",value:function(){var r=this;return new Promise(function(n,l){if(r.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),r.w.config.chart.id&&Apex._chartInstances.push({id:r.w.globals.chartID,group:r.w.config.chart.group,chart:r}),r.setLocale(r.w.config.chart.defaultLocale);var h=r.w.config.chart.events.beforeMount;if(typeof h=="function"&&h(r,r.w),r.events.fireEvent("beforeMount",[r,r.w]),window.addEventListener("resize",r.windowResizeHandler),function(x,w){var C=!1;if(x.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var T=x.getBoundingClientRect();x.style.display!=="none"&&T.width!==0||(C=!0)}var P=new ResizeObserver(function(M){C&&w.call(x,M),C=!0});x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(x.children).forEach(function(M){return P.observe(M)}):P.observe(x),an.set(w,P)}(r.el.parentNode,r.parentResizeHandler),!r.css){var u=r.el.getRootNode&&r.el.getRootNode(),d=V.is("ShadowRoot",u),p=r.el.ownerDocument,g=p.getElementById("apexcharts-css");!d&&g||(r.css=document.createElement("style"),r.css.id="apexcharts-css",r.css.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  opacity: 0
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}
.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}
`,d?u.prepend(r.css):p.head.appendChild(r.css))}var y=r.create(r.w.config.series,{});if(!y)return n(r);r.mount(y).then(function(){typeof r.w.config.chart.events.mounted=="function"&&r.w.config.chart.events.mounted(r,r.w),r.events.fireEvent("mounted",[r,r.w]),n(y)}).catch(function(x){l(x)})}else l(new Error("Element not found"))})}},{key:"create",value:function(r,n){var l=this.w;new va(this).initModules();var h=this.w.globals;if(h.noData=!1,h.animationEnded=!1,this.responsive.checkResponsiveConfig(n),l.config.xaxis.convertedCatToNumeric&&new wt(l.config).convertCatToNumericXaxis(l.config,this.ctx),this.el===null||(this.core.setupElements(),l.config.chart.type==="treemap"&&(l.config.grid.show=!1,l.config.yaxis[0].show=!1),h.svgWidth===0))return h.animationEnded=!0,null;var u=re.checkComboSeries(r);h.comboCharts=u.comboCharts,h.comboBarCount=u.comboBarCount;var d=r.every(function(x){return x.data&&x.data.length===0});(r.length===0||d)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(r),this.theme.init(),new rt(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),h.noData&&h.collapsedSeries.length!==h.series.length&&!l.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),h.axisCharts&&(this.core.coreCalculations(),l.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=l.globals.minX,this.ctx.toolbar.maxX=l.globals.maxX),this.formatters.heatmapLabelFormatters(),new re(this).getLargestMarkerSize(),this.dimensions.plotCoords();var p=this.core.xySettings();this.grid.createGridMask();var g=this.core.plotChartType(r,p),y=new we(this);return y.bringForward(),l.config.dataLabels.background.enabled&&y.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:g,xyRatios:p,dimensions:{plot:{left:l.globals.translateX,top:l.globals.translateY,width:l.globals.gridWidth,height:l.globals.gridHeight}}}}},{key:"mount",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,l=this,h=l.w;return new Promise(function(u,d){if(l.el===null)return d(new Error("Not enough data to display or target element not found"));(n===null||h.globals.allSeriesCollapsed)&&l.series.handleNoData(),l.grid=new Dt(l);var p=l.grid.drawGrid();if(l.annotations=new Oe(l),l.annotations.drawImageAnnos(),l.annotations.drawTextAnnos(),h.config.grid.position==="back"&&p&&h.globals.dom.elGraphical.add(p.el),Array.isArray(n.elGraph))for(var g=0;g<n.elGraph.length;g++)h.globals.dom.elGraphical.add(n.elGraph[g]);else h.globals.dom.elGraphical.add(n.elGraph);h.config.grid.position==="front"&&p&&h.globals.dom.elGraphical.add(p.el),p&&p.elGridBorders&&p.elGridBorders.node&&h.globals.dom.elGraphical.add(p.elGridBorders),h.config.xaxis.crosshairs.position==="front"&&l.crosshairs.drawXCrosshairs(),h.config.yaxis[0].crosshairs.position==="front"&&l.crosshairs.drawYCrosshairs(),h.config.chart.type!=="treemap"&&l.axes.drawAxis(h.config.chart.type,p);var y=new Bt(r.ctx,p),x=new Nt(r.ctx,p);if(p!==null&&(y.xAxisLabelCorrections(p.xAxisTickWidth),x.setYAxisTextAlignments(),h.config.yaxis.map(function(C,T){h.globals.ignoreYAxisIndexes.indexOf(T)===-1&&x.yAxisTitleRotate(T,C.opposite)})),l.annotations.drawAxesAnnotations(),!h.globals.noData){if(h.config.tooltip.enabled&&!h.globals.noData&&l.w.globals.tooltip.drawTooltip(n.xyRatios),h.globals.axisCharts&&(h.globals.isXNumeric||h.config.xaxis.convertedCatToNumeric||h.globals.isRangeBar))(h.config.chart.zoom.enabled||h.config.chart.selection&&h.config.chart.selection.enabled||h.config.chart.pan&&h.config.chart.pan.enabled)&&l.zoomPanSelection.init({xyRatios:n.xyRatios});else{var w=h.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(C){w[C]=!1})}h.config.chart.toolbar.show&&!h.globals.allSeriesCollapsed&&l.toolbar.createToolbar()}h.globals.memory.methodsToExec.length>0&&h.globals.memory.methodsToExec.forEach(function(C){C.method(C.params,!1,C.context)}),h.globals.axisCharts||h.globals.noData||l.core.resizeNonAxisCharts(),u(l)})}},{key:"destroy",value:function(){var r,n;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,r=this.parentResizeHandler,(n=an.get(r))&&(n.disconnect(),an.delete(r));var l=this.w.config.chart.id;l&&Apex._chartInstances.forEach(function(h,u){h.id===V.escapeString(l)&&Apex._chartInstances.splice(u,1)}),new ya(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(r){var n=this,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1],h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],d=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],p=this.w;return p.globals.selection=void 0,r.series&&(this.series.resetSeries(!1,!0,!1),r.series.length&&r.series[0].data&&(r.series=r.series.map(function(g,y){return n.updateHelpers._extendSeries(g,y)})),this.updateHelpers.revertDefaultAxisMinMax()),r.xaxis&&(r=this.updateHelpers.forceXAxisUpdate(r)),r.yaxis&&(r=this.updateHelpers.forceYAxisUpdate(r)),p.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),r.theme&&(r=this.theme.updateThemeOptions(r)),this.updateHelpers._updateOptions(r,l,h,u,d)}},{key:"updateSeries",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,n,l)}},{key:"appendSeries",value:function(r){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=this.w.config.series.slice();return h.push(r),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(h,n,l)}},{key:"appendData",value:function(r){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=this;l.w.globals.dataChanged=!0,l.series.getPreviousPaths();for(var h=l.w.config.series.slice(),u=0;u<h.length;u++)if(r[u]!==null&&r[u]!==void 0)for(var d=0;d<r[u].data.length;d++)h[u].data.push(r[u].data[d]);return l.w.config.series=h,n&&(l.w.globals.initialSeries=V.clone(l.w.config.series)),this.update()}},{key:"update",value:function(r){var n=this;return new Promise(function(l,h){new ya(n.ctx).clear({isUpdating:!0});var u=n.create(n.w.config.series,r);if(!u)return l(n);n.mount(u).then(function(){typeof n.w.config.chart.events.updated=="function"&&n.w.config.chart.events.updated(n,n.w),n.events.fireEvent("updated",[n,n.w]),n.w.globals.isDirty=!0,l(n)}).catch(function(d){h(d)})})}},{key:"getSyncedCharts",value:function(){var r=this.getGroupedCharts(),n=[this];return r.length&&(n=[],r.forEach(function(l){n.push(l)})),n}},{key:"getGroupedCharts",value:function(){var r=this;return Apex._chartInstances.filter(function(n){if(n.group)return!0}).map(function(n){return r.w.config.chart.group===n.group?n.chart:r})}},{key:"toggleSeries",value:function(r){return this.series.toggleSeries(r)}},{key:"highlightSeriesOnLegendHover",value:function(r,n){return this.series.toggleSeriesOnHover(r,n)}},{key:"showSeries",value:function(r){this.series.showSeries(r)}},{key:"hideSeries",value:function(r){this.series.hideSeries(r)}},{key:"resetSeries",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(r,n)}},{key:"addEventListener",value:function(r,n){this.events.addEventListener(r,n)}},{key:"removeEventListener",value:function(r,n){this.events.removeEventListener(r,n)}},{key:"addXaxisAnnotation",value:function(r){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,h=this;l&&(h=l),h.annotations.addXaxisAnnotationExternal(r,n,h)}},{key:"addYaxisAnnotation",value:function(r){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,h=this;l&&(h=l),h.annotations.addYaxisAnnotationExternal(r,n,h)}},{key:"addPointAnnotation",value:function(r){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,h=this;l&&(h=l),h.annotations.addPointAnnotationExternal(r,n,h)}},{key:"clearAnnotations",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=this;r&&(n=r),n.annotations.clearAnnotations(n)}},{key:"removeAnnotation",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,l=this;n&&(l=n),l.annotations.removeAnnotation(l,r)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(r,n){return this.coreUtils.getSeriesTotalsXRange(r,n)}},{key:"getHighestValueInSeries",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Ft(this.ctx).getMinYMaxY(r).highestY}},{key:"getLowestValueInSeries",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Ft(this.ctx).getMinYMaxY(r).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(r,n){return this.updateHelpers.toggleDataPointSelection(r,n)}},{key:"zoomX",value:function(r,n){this.ctx.toolbar.zoomUpdateOptions(r,n)}},{key:"setLocale",value:function(r){this.localization.setCurrentLocaleValues(r)}},{key:"dataURI",value:function(r){return new ii(this.ctx).dataURI(r)}},{key:"exportToCSV",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new ii(this.ctx).exportToCSV(r)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var r=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){r.w.globals.resized=!0,r.w.globals.dataChanged=!1,r.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var r=this.w.config.chart.redrawOnWindowResize;typeof r=="function"&&(r=r()),r&&this._windowResize()}}],[{key:"getChartByID",value:function(r){var n=V.escapeString(r),l=Apex._chartInstances.filter(function(h){return h.id===n})[0];return l&&l.chart}},{key:"initOnLoad",value:function(){for(var r=document.querySelectorAll("[data-apexcharts]"),n=0;n<r.length;n++)new D(r[n],JSON.parse(r[n].getAttribute("data-options"))).render()}},{key:"exec",value:function(r,n){var l=this.getChartByID(r);if(l){l.w.globals.isExecCalled=!0;var h=null;if(l.publicMethods.indexOf(n)!==-1){for(var u=arguments.length,d=new Array(u>2?u-2:0),p=2;p<u;p++)d[p-2]=arguments[p];h=l[n].apply(l,d)}return h}}},{key:"merge",value:function(r,n){return V.extend(r,n)}}]),D}();a.exports=nh})(Wn,Wn.exports);var wf=Wn.exports,Hl;Object.defineProperty(Vl,"__esModule",{value:!0});var Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Cf=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i])}return a},Af=function(){function a(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}}(),kf=wf,Wl=ua(kf),jl=be,Jr=ua(jl),Tf=vh,Qr=ua(Tf);function ua(a){return a&&a.__esModule?a:{default:a}}function Lf(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Pf(a,e){var t={};for(var i in a)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);return t}function Ef(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function Mf(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?a:e}function Of(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}window.ApexCharts=Wl.default;var Ro=function(){function a(e){Ef(this,a);var t=Mf(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return Jr.default.createRef?t.chartRef=Jr.default.createRef():t.setRef=function(i){return t.chartRef=i},t.chart=null,t}return Of(a,jl.Component),Af(a,[{key:"render",value:function(){var e=this.props,t=(e.type,e.height,e.width,e.series,e.options,Pf(e,["type","height","width","series","options"]));return Jr.default.createElement("div",Cf({ref:Jr.default.createRef?this.chartRef:this.setRef},t))}},{key:"componentDidMount",value:function(){var e=Jr.default.createRef?this.chartRef.current:this.chartRef;this.chart=new Wl.default(e,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var e=this.props,t=e.type,i=e.height,s=e.width,o=e.series,c=e.options,f={chart:{type:t,height:i,width:s},series:o};return this.extend(c,f)}},{key:"isObject",value:function(e){return e&&(e===void 0?"undefined":Sf(e))==="object"&&!Array.isArray(e)&&e!=null}},{key:"extend",value:function(e,t){var i=this;typeof Object.assign!="function"&&(Object.assign=function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(o),f=1;f<arguments.length;f++){var m=arguments[f];if(m!=null)for(var b in m)m.hasOwnProperty(b)&&(c[b]=m[b])}return c});var s=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(o){i.isObject(t[o])&&o in e?s[o]=i.extend(e[o],t[o]):Object.assign(s,Lf({},o,t[o]))}),s}},{key:"componentDidUpdate",value:function(e){if(!this.chart)return null;var t=this.props,i=t.options,s=t.series,o=t.height,c=t.width,f=JSON.stringify(e.options),m=JSON.stringify(e.series),b=JSON.stringify(i),S=JSON.stringify(s);f===b&&m===S&&o===e.height&&c===e.width||(m===S?this.chart.updateOptions(this.getConfig()):f===b&&o===e.height&&c===e.width?this.chart.updateSeries(s):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&typeof this.chart.destroy=="function"&&this.chart.destroy()}}]),a}();(Hl=Vl.default=Ro).propTypes={type:Qr.default.string.isRequired,width:Qr.default.any,height:Qr.default.any,series:Qr.default.array.isRequired,options:Qr.default.object.isRequired},Ro.defaultProps={type:"line",width:"100%",height:"auto"};const Rf=Xn(Hl)(({theme:a})=>({"& .apexcharts-xaxistooltip":{backgroundColor:a.palette.background.paper,boxShadow:a.shadows[16],borderRadius:a.shape.borderRadius,border:0,"&::before, &::after":{display:"none"}},"& .apexcharts-tooltip":{"&.apexcharts-theme-light, &.apexcharts-theme-dark":{backdropFilter:"blur(6px)",background:"transparent",border:0,boxShadow:"none","& .apexcharts-tooltip-title":{background:Sa(a.palette.neutral[900],.8),border:0,color:a.palette.common.white,margin:0},"& .apexcharts-tooltip-series-group":{background:Sa(a.palette.neutral[900],.7),border:0,color:a.palette.common.white}}}})),If=()=>{const a=Un();return{chart:{background:"transparent",toolbar:{show:!1},zoom:{enabled:!1}},colors:[a.palette.primary.main],dataLabels:{enabled:!1},fill:{gradient:{opacityFrom:.5,opacityTo:0,stops:[0,100]},type:"gradient"},grid:{show:!1,padding:{bottom:0,left:0,right:0,top:0}},stroke:{curve:"smooth",width:3},theme:{mode:a.palette.mode},tooltip:{enabled:!0},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{show:!1}}},Io=a=>{const{action:e,chartSeries:t,title:i}=a,s=new Intl.NumberFormat("en-US",{style:"currency",currency:"MAD"}),{t:o,i18n:c}=hi(),f=If(),[m,b]=be.useState([]);return be.useEffect(()=>{if(!t.isLoading){const S=t.data.map(k=>({x:k.date,y:k.amount}));b([{name:i,data:S}])}},[t.isLoading]),G.jsx(Wi,{children:G.jsxs(zr,{alignItems:"center",justifyContent:"space-between",direction:"row",spacing:2,sx:{backgroundColor:S=>S.palette.mode==="dark"?"neutral.800":"primary.lightest",borderRadius:2.5,px:3,py:4},children:[G.jsxs("div",{children:[G.jsx(st,{color:"text.secondary",variant:"body2",children:i}),G.jsx(st,{sx:{mt:1,direction:c.language=="fr"?"ltr":"rtl"},variant:"h5",children:!t.isLoading&&t.data.length>0?s.format(t.data[t.data.length-1].amount).replaceAll(","," ").replace("MAD",""):0})]}),G.jsx(ps,{sx:{width:200},children:G.jsx(Rf,{height:100,options:f,series:m,type:"area"})})]})})},Bf=a=>{const{action:e,balance:t,title:i}=a,s=new Intl.NumberFormat("en-US",{style:"currency",currency:"MAD"}),{t:o,i18n:c}=hi();return be.useState([]),be.useEffect(()=>{console.log(t)},[]),G.jsx(Wi,{children:G.jsx(zr,{alignItems:"center",justifyContent:"space-between",direction:"row",spacing:2,sx:{backgroundColor:f=>f.palette.mode==="dark"?"neutral.800":"primary.lightest",borderRadius:2.5,px:3,py:4},children:G.jsxs("div",{children:[G.jsx(st,{color:"text.secondary",variant:"body2",children:i}),G.jsx(st,{sx:{mt:1,direction:c.language=="fr"?"ltr":"rtl"},variant:"h5",children:t.isLoading?0:s.format(t.data.trade_balance).replaceAll(","," ").replace("MAD","")})]})})})},Df=Xn("div")(({theme:a})=>({".e-carousel .e-carousel-indicators":{display:"flex",alignItems:"end",justifyContent:"end",width:"100%"},".e-carousel .e-carousel-indicators .e-indicator-bars":{position:"absolute",top:"80%",right:"0%"},".e-carousel-indicators .e-indicator-bars .e-active button div":{backgroundColor:`${a.palette.primary.main}!important`,border:"none!important"},".e-carousel .e-carousel-item div":{display:"flex",justifyContent:"space-between",alignItems:"center",height:"76%",flexWrap:"wrap",alignContent:"stretch"}}));function Ff({stock:a,isLoading:e,debtRatio:t,isEggPriceLoaing:i,eggPrice:s,balance:o}){const[c,f]=be.useState([]),[m,b]=be.useState(0),[S,k]=be.useState(0),[L,I]=be.useState(!1),{t:_,i18n:N}=hi(),U=JSON.parse(sessionStorage.getItem("user")),Z=H=>{var re;return(re=H==null?void 0:H.item)==null?void 0:re.map(ie=>G.jsx(vt,{item:!0,xs:12,lg:6,children:G.jsxs("div",{className:"text-base whitespace-nowrap break-words ",dir:"ltr",children:[G.jsxs("strong",{children:[ie==null?void 0:ie.egg_class,": "]}),G.jsxs("p",{className:"ml-1",children:["  ",ie==null?void 0:ie.total_quantity.toLocaleString("en-US").replaceAll(","," ")]})]})}))},V=H=>{b(H.target.value)},$=H=>{H.preventDefault(),m!==0&&I(!0)},Q=()=>{k(m),ti.post("/dashboard/marketprice/add/",{market_price:m}).then(H=>{I(!1),bh.success("Le prix d'oeuf et ajouter avec success")})};return be.useEffect(()=>{if(!e){let H=[],re=(a==null?void 0:a.total_stock.length)>8?3:(a==null?void 0:a.total_stock.length)<=8&&(a==null?void 0:a.total_stock.length)>4?2:1,ie=0;[...Array(re)].map((ae,Ce)=>{H.push({item:a==null?void 0:a.total_stock.slice(ie,ie+4)}),ie+=4}),f(H)}i||(b(s==null?void 0:s.market_price),k(s==null?void 0:s.market_price))},[e]),G.jsxs(G.Fragment,{children:[G.jsxs(vt,{container:!0,spacing:2,children:[G.jsx(vt,{item:!0,xs:12,lg:4,children:G.jsx(is,{alignItems:"center",direction:"row",spacing:1,sx:{backgroundColor:H=>H.palette.mode==="dark"?"neutral.800":"error.lightest",borderRadius:2.5,px:3,py:2,height:"100%"},children:G.jsxs("div",{className:"w-full relative lg:h-[8vh]",children:[G.jsx("img",{src:"/assets/iconly/iconly-glass-chart.svg",alt:"",className:"absolute left-2 top-[-12px] z-0 opacity-30"}),G.jsx(st,{variant:"h6",children:_(je.nav.stock)}),G.jsx(Df,{style:{height:"100%"},children:e?G.jsx(vt,{container:!0,height:"100%",children:[...Array(4)].map(H=>G.jsx(vt,{item:!0,xs:12,lg:6,children:G.jsxs("div",{className:"text-sm whitespace-nowrap break-words flex",dir:"ltr",children:[G.jsxs("strong",{children:[" ",G.jsx(Ca,{width:50,animation:"wave",variant:"text"})," "]}),G.jsxs("p",{className:"ml-1",children:["  ",G.jsx(Ca,{width:50,animation:"wave",variant:"text"})," "]})]})},H))}):G.jsx(vt,{container:!0,height:"100%",children:G.jsx(_l,{autoPlay:!1,dataSource:c,itemTemplate:Z,enableRtl:N.language=="ar"})})})]})})}),G.jsx(vt,{item:!0,xs:12,lg:4,children:G.jsx(is,{alignItems:"center",direction:"row",spacing:2,sx:{backgroundColor:H=>H.palette.mode==="dark"?"neutral.800":"warning.lightest",borderRadius:2.5,px:3,py:4,height:"100%"},children:G.jsxs("div",{className:"flex justify-between items-center w-full relative",children:[G.jsx("img",{src:"/assets/iconly/iconly-glass-discount.svg",alt:"",className:"w-[19%]"}),G.jsxs("div",{className:"w-[80%]",children:[G.jsxs("div",{children:[G.jsx(st,{variant:"h6",mb:1,children:_(je.dashboard.debtRatio)}),G.jsxs(st,{variant:"strong",fontSize:20,fontWeight:600,children:[t," %"]})]}),G.jsx(kh,{sx:{width:"100%",height:"5px",backgroundColor:H=>H.palette.primary.main,mt:"5px",position:"relative","&::after":{content:"' '",position:"absolute",height:"5px",width:`${t>100?100:t}%`,backgroundColor:H=>t<=100?H.palette.primary.dark:"red"}}})]})]})})}),G.jsx(vt,{item:!0,xs:12,lg:4,children:G.jsx(is,{alignItems:"center",direction:"row",spacing:2,sx:{backgroundColor:H=>H.palette.mode==="dark"?"neutral.800":"success.lightest",borderRadius:2.5,px:3,py:4},children:G.jsxs("div",{className:"flex justify-between w-full relative",children:[G.jsx("img",{src:"/assets/iconly/iconly-glass-tick.svg",alt:"",className:"absolute left-[-5px] top-0 z-0 opacity-30"}),G.jsxs(vt,{container:!0,alignItems:"center",style:{height:"100%"},zIndex:100,children:[G.jsxs(vt,{item:!0,xs:12,md:6,children:[G.jsxs(st,{variant:"h6",mb:2,children:[_(je.dashboard.eggsPriceInEntrepriseToday)," "]}),G.jsxs(st,{component:"p",fontWeight:"600",fontSize:20,children:[s==null?void 0:s.entreprise_price,"MAD"," "]})]}),G.jsxs(vt,{item:!0,xs:12,md:6,children:[G.jsx(st,{variant:"h6",mb:2,children:_(je.dashboard.eggsPriceInMarket)}),G.jsx("form",{onSubmit:$,children:G.jsxs(vt,{container:!0,children:[G.jsx(vt,{item:!0,xs:8,children:G.jsx(yh,{variant:"outlined",value:m,onChange:V})}),G.jsx(vt,{item:!0,xs:4,color:"white",children:G.jsx(ei,{color:"inherit",type:"submit",sx:{background:H=>H.palette.success.main,margin:"4px!important","&:hover":{background:H=>H.palette.success.main,opacity:"0.9"}},children:G.jsx(Mc,{})})})]})})]})]})]})})}),!(U!=null&&U.is_eleveur)&&G.jsxs(G.Fragment,{children:[G.jsx(vt,{item:!0,xs:12,lg:4,children:G.jsx(Io,{chartSeries:o[0],title:_(je.dashboard.achats)})}),G.jsx(vt,{item:!0,xs:12,lg:4,children:G.jsx(Io,{chartSeries:o[1],title:_(je.dashboard.ventes)})}),G.jsx(vt,{item:!0,xs:12,lg:4,children:G.jsx(Bf,{balance:o[2],title:_(je.dashboard.balance)})})]})]}),G.jsx(xf,{confirmed:Q,isConfirm:L,handleClose:()=>I(!1)})]})}const Nf=a=>{const{entrer:e,isLoading:t}=a,{t:i,i18n:s}=hi(),o=JSON.parse(sessionStorage.getItem("user")),[c,f]=be.useState(0),[m,b]=be.useState(25),[S,k]=be.useState(),[L,I]=be.useState(!1),[_,N]=be.useState(!0),[U,Z]=be.useState(0);let[V,$]=be.useState();const Q=()=>{Z(me=>me+1)},H=(me,ke)=>{f(ke)},re=me=>{b(parseInt(me.target.value,10)),f(0)},ie=be.useMemo(()=>S==null?void 0:S.slice(c*m,c*m+m),[S,c,m]),ae=()=>{_?(I(!0),$(setTimeout(()=>Q(),12e4))):(clearTimeout(V),Z(me=>me+1))},Ce=me=>{me&&(k([...me]),N(!_),I(!1))};return be.useEffect(()=>{t||k(e)},[t]),G.jsxs(G.Fragment,{children:[G.jsxs(Wi,{children:[G.jsx(_r,{sx:{padding:1},title:o!=null&&o.is_eleveur?i(je.dashboard.transactionPerEggSource):i(je.dashboard.transactionPerSupplier),avatar:G.jsx(ei,{onClick:()=>ae(),children:G.jsx(Qn,{})})}),G.jsx(qn,{children:G.jsx(Zn,{sx:{minWidth:300,height:"auto"},children:t?G.jsx(Jn,{rowsNum:5}):G.jsx($n,{children:(e==null?void 0:e.length)>0?ie==null?void 0:ie.map((me,ke)=>{const Pe=me.name.split(" ");return G.jsxs(Or,{hover:!0,children:[G.jsx(oi,{children:G.jsxs(zr,{alignItems:"center",direction:"row",spacing:2,children:[G.jsx(Gn,{sx:{bgcolor:"#6366F1",color:"#fff"},children:o.is_eleveur?Pe.length>1?`${Pe[0][0]} ${Pe[1][0]}`:`${Pe[0][0]} ${Pe[0][Pe.length-1]}`:`${me.name[0]} ${me.last_name[0]}`}),G.jsx("div",{children:G.jsxs(st,{variant:"subtitle2",children:[me.name," ",!o.is_eleveur&&me.last_name]})})]})}),G.jsxs(oi,{children:[G.jsx(st,{color:"success.main",variant:"subtitle2",children:isNaN(me.total_stock)?me.total_stock:me.total_stock.toLocaleString("en-US").replaceAll(","," ")}),G.jsx(st,{color:"text.secondary",noWrap:!0,variant:"body2",children:i(je.dashboard.transaction)})]}),G.jsx(oi,{align:"right",children:G.jsx(ps,{sx:{backgroundColor:Oe=>Oe.palette.mode==="dark"?"neutral.700":"neutral.200",borderRadius:1.5,px:1,py:.5,display:"inline-block"},children:G.jsxs(st,{variant:"subtitle2",children:["#",ke+1]})})})]},me.id)}):G.jsx(Or,{children:G.jsx(oi,{colSpan:10,sx:{textAlign:"center"},children:i(je.magazin.nothingToDisplay)})})})})}),G.jsx(ra,{sx:{justifyContent:"flex-end"},children:G.jsx(Kn,{component:"div",count:e==null?void 0:e.length,onPageChange:H,onRowsPerPageChange:re,page:c,rowsPerPage:m,rowsPerPageOptions:[5,10,25],labelRowsPerPage:i(je.magazin.Lignes),labelDisplayedRows:({from:me,to:ke,count:Pe})=>`${me}${ke} ${i(je.magazin.sur)} ${e==null?void 0:e.length}`})})]}),G.jsx(ha,{isOpen:L,show:_,onSuccess:Ce,onClose:()=>I(!1),uri:"/dashboard/inbound/",uniqueKey:U})]})},zf=({handleFilter:a,handleScreen:e,handleTypeChart:t})=>{const[i,s]=be.useState(null),[o,c]=be.useState("30j"),[f,m]=be.useState(!1),b=!!i,S=I=>{s(I.currentTarget)},k=I=>{s(null),a(I),isNaN(I)?c(I):c(`${I}j`)},L=()=>{m(!f),t(f)};return G.jsxs(is,{direction:"row",spacing:2,children:[G.jsxs("div",{children:[G.jsxs(zo,{variant:"contained",id:"basic-button","aria-controls":b?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":b?"true":void 0,onClick:S,sx:{p:1.2},children:[o," ",G.jsx(nl,{})]}),G.jsxs(_o,{id:"basic-menu",anchorEl:i,open:b,onClose:()=>s(null),MenuListProps:{"aria-labelledby":"basic-button"},children:[G.jsx(Er,{onClick:()=>k(30),children:"30j"}),G.jsx(Er,{onClick:()=>k(90),children:"90j"}),G.jsx(Er,{onClick:()=>k("MAX"),children:"MAX"})]})]}),G.jsx(ei,{onClick:e,children:G.jsx(ll,{})}),G.jsx(ei,{onClick:L,children:f?G.jsx(hl,{}):G.jsx(al,{})})]})},Xl=a=>{const{prices:e,isLoading:t,filterChart:i}=a,[s,o]=be.useState(30),{isFullScreen:c}=Ks(Q=>Q.dashboard),f=be.useMemo(()=>t?[[],[]]:[[...e==null?void 0:e.map(H=>({x:new Date(H.date),y:H.entreprise_price})),...Array.from({length:0}).map((H,re)=>{const ie=new Date(new Date);return{x:ie.setDate(ie.getDate()+re)+re,y:Math.random()*2}})],[...e==null?void 0:e.map(H=>({x:new Date(H.date),y:H.market_price})),...Array.from({length:0}).map((H,re)=>{const ie=new Date(new Date);return{x:ie.setDate(ie.getDate()+re)+re,y:Math.random()*2}})]],[t,s]),{t:m,i18n:b}=hi(),S=Nr(),k=Un(),L=[k.palette.primary.main,k.palette.warning.main],[I,_]=be.useState(!0),N={labelIntersectAction:"Rotate45",valueType:"DateTime",edgeLabelPlacement:"Shift",labelFormat:"y-MM-dd",intervalType:"Days",interval:f[0].length<5?0:5,majorGridLines:{width:0},minorGridLines:{width:0},lineStyle:{width:.5,color:"gray"},labelStyle:{color:k.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:k.palette.text.secondary}},U={labelFormat:"n2",majorGridLines:{width:.5,color:"gray",dashArray:"2,2"},lineStyle:{width:0},title:m(je.dashboard.eggPrice),labelStyle:{color:k.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:k.palette.text.secondary}},Z=Q=>{o(Q),i(Q)},V=()=>{S(Js.actions.setFullScreenEggChart())},$=Q=>{_(Q)};return G.jsxs(Wi,{children:[G.jsx(_r,{title:!c&&m(je.dashboard.eggsChartTtitle),action:G.jsx(zf,{handleFilter:Z,handleScreen:V,handleTypeChart:$})}),G.jsx(ia,{sx:{pt:2,position:"relative"},children:G.jsxs(la,{id:"charts",primaryXAxis:{...N},primaryYAxis:U,chartArea:{border:{width:0}},tooltip:{enable:!0,shared:!0},legendSettings:{visible:!0,textStyle:{color:k.palette.text.secondary},enableHighlight:!0},titleStyle:{color:k.palette.text.secondary,fontSize:"20px",fontWeight:"bold",textAlignment:"Center"},children:[G.jsx(rl,{services:[vl,yl,wl,bl,xl,ml,gl]}),G.jsxs(ul,{children:[G.jsx(Ws,{dataSource:f[0],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:m(je.dashboard.eggsPriceInEntreprise),type:I?"Line":"Column",fill:L[0]}),G.jsx(Ws,{dataSource:f[1],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:m(je.dashboard.eggsPriceInMarket),type:I?"Line":"Column",fill:L[1]})]})]})})]})};Xl.propTypes={chartSeries:xh.array.isRequired};const _f=a=>{let{fournisseur:e,isLoading:t}=a;const i=Nr(),s=be.useRef(null),{t:o,i18n:c}=hi(),[f,m]=be.useState(0),[b,S]=be.useState(25),[k,L]=be.useState(),[I,_]=be.useState(!1),[N,U]=be.useState(!0),[Z,V]=be.useState(0),[$,Q]=be.useState(),[H,re]=be.useState(!1),ie=()=>{V(le=>le+1)},ae=(le,Ae)=>{m(Ae)},Ce=le=>{S(parseInt(le.target.value,10)),m(0)},me=be.useMemo(()=>k==null?void 0:k.slice(f*b,f*b+b),[k,f,b]),ke=()=>{N?(Q(setTimeout(()=>ie(),12e4)),_(!0)):(clearTimeout($),V(le=>le+1))},Pe=le=>{le&&(L([...le]),U(!N),_(!1))},Oe=le=>{re(!0),ti.get(`/dashboard/fullsuppliersituation/${le}/`).then(Ae=>{i(xs.actions.fetchSituationFournisseur([Ae.data.suppliersituation])),i(xs.actions.fetchFournisseurSituationDetails({data:Ae.data,isFilter:!1})),i(xs.actions.setFournisseurSituationForOneFournisseur({id:le})),i(xs.actions.setCurrentData(le)),re(!1)})};return be.useEffect(()=>{t||L(e)},[t]),G.jsxs(G.Fragment,{children:[H&&G.jsx(No,{}),G.jsxs(Wi,{children:[G.jsx(_r,{sx:{padding:1},title:o(je.dashboard.transactionPerSupplier),avatar:G.jsx(ei,{onClick:()=>ke(),children:G.jsx(Qn,{})})}),G.jsx(qn,{children:G.jsx(Zn,{sx:{minWidth:300,height:"auto"},children:t?G.jsx(Jn,{rowsNum:5}):G.jsx($n,{ref:s,children:(k==null?void 0:k.length)>0?me==null?void 0:me.map((le,Ae)=>{const Ue=new Intl.NumberFormat("EN-us",{style:"currency",currency:"MAD"});return G.jsxs(Or,{hover:!0,children:[G.jsx(oi,{children:G.jsxs(zr,{alignItems:"center",direction:"row",spacing:2,children:[G.jsxs(Gn,{sx:{bgcolor:"#6366F1",color:"#fff"},children:[le.name[0]," ",le.last_name[0]]}),G.jsx("div",{children:G.jsxs(st,{variant:"subtitle2",children:[le.name," ",le.last_name]})})]})}),G.jsxs(oi,{children:[G.jsx(st,{color:(!isNaN(le.final_confirmed_sold)&&le.final_confirmed_sold)<0?"error.main":"success.main",variant:"subtitle2",sx:{direction:c.language=="ar"?"rtl":"ltr",whiteSpace:"nowrap"},children:isNaN(le.final_confirmed_sold)?le.final_confirmed_sold:Ue.format(le.final_confirmed_sold).replaceAll(","," ").replace("MAD","")+" "+o(je.global.mad)}),G.jsx(st,{color:"text.secondary",noWrap:!0,variant:"body2",children:o(je.situationCliente.debt)})]}),G.jsxs(oi,{align:"right",children:[G.jsx(ei,{color:"success",disabled:isNaN(le.final_confirmed_sold),onClick:()=>Oe(le.eggsource_id),children:G.jsx(ol,{})}),G.jsx(ps,{sx:{backgroundColor:Qe=>Qe.palette.mode==="dark"?"neutral.700":"neutral.200",borderRadius:1.5,px:1,py:.5,display:"inline-block"},children:G.jsxs(st,{variant:"subtitle2",children:["#",Ae+1]})})]})]},Ae)}):G.jsx(Or,{children:G.jsx(oi,{colSpan:10,sx:{textAlign:"center"},children:o(je.magazin.nothingToDisplay)})})})})}),G.jsx(ra,{sx:{justifyContent:"flex-end"},children:G.jsx(Kn,{component:"div",count:k==null?void 0:k.length,onPageChange:ae,onRowsPerPageChange:Ce,page:f,rowsPerPage:b,rowsPerPageOptions:[5,10,25],labelRowsPerPage:o(je.magazin.Lignes),labelDisplayedRows:({from:le,to:Ae,count:Ue})=>`${le}${Ae} ${o(je.magazin.sur)} ${k==null?void 0:k.length}`})})]}),G.jsx(ha,{isOpen:I,show:N,onSuccess:Pe,onClose:()=>_(!1),uri:"/dashboard/suppliersituation/",uniqueKey:Z}),G.jsx(Oc,{})]})},Vf=({handleFilter:a,handleScreen:e,handleTypeChart:t,handlePrint:i})=>{const[s,o]=be.useState(null),[c,f]=be.useState("30j"),[m,b]=be.useState(!1),S=!!s,k=_=>{o(_.currentTarget)},L=_=>{o(null),a(_),isNaN(_)?f(_):f(`${_}j`)},I=()=>{b(!m),t(m)};return G.jsxs(is,{direction:"row",spacing:2,children:[G.jsxs("div",{children:[G.jsxs(zo,{variant:"contained",id:"basic-button","aria-controls":S?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":S?"true":void 0,onClick:k,sx:{p:1.2},children:[30," ",G.jsx(nl,{})]}),G.jsxs(_o,{id:"basic-menu",anchorEl:s,open:S,onClose:()=>o(null),MenuListProps:{"aria-labelledby":"basic-button"},children:[G.jsx(Er,{onClick:()=>L(30),children:"30j"}),G.jsx(Er,{onClick:()=>L(90),children:"90j"}),G.jsx(Er,{onClick:()=>L("MAX"),children:"MAX"})]})]}),G.jsx(ei,{onClick:e,children:G.jsx(ll,{})}),G.jsx(ei,{onClick:I,children:m?G.jsx(hl,{}):G.jsx(al,{})}),G.jsx(ei,{onClick:i,children:G.jsx(Rc,{})})]})},Hf=a=>{const{depense:e,vente:t,isLoading:i,filterChart:s}=a,[o,c]=be.useState(30);Ks(Q=>Q.dashboard);const f=be.useMemo(()=>i?[[],[]]:[[...e==null?void 0:e.map(H=>({x:new Date(H.date),y:H.amount})),...Array.from({length:0}).map((H,re)=>{const ie=new Date(new Date);return{x:ie.setDate(ie.getDate()+re)+re,y:Math.random()*2}})],[...t==null?void 0:t.map(H=>({x:new Date(H.date),y:H.amount})),...Array.from({length:0}).map((H,re)=>{const ie=new Date(new Date);return{x:ie.setDate(ie.getDate()+re)+re,y:Math.random()*2}})]],[i,o]);hi();const m=Nr(),b=Un(),S=[b.palette.error.main,b.palette.success.main],[k,L]=be.useState(!0),I=be.useRef(null),_={labelIntersectAction:"Rotate45",valueType:"DateTime",edgeLabelPlacement:"Shift",labelFormat:"y-MM-dd",intervalType:"Days",interval:f[0].length<5?0:5,majorGridLines:{width:0},minorGridLines:{width:0},lineStyle:{width:.5,color:"gray"},labelStyle:{color:b.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:b.palette.text.secondary}},N={labelFormat:"n2",majorGridLines:{width:.5,color:"gray",dashArray:"2,2"},lineStyle:{width:0},title:"Le montant (MAD)",labelStyle:{color:b.palette.text.secondary,fontSize:"16px",fontWeight:"bold"},titleStyle:{color:b.palette.text.secondary}},U=Q=>{c(Q),s(Q)},Z=()=>{m(Js.actions.setFullScreenDepenseChart())},V=Q=>{L(Q)},$=()=>{I.current.print()};return G.jsxs(Wi,{children:[G.jsx(_r,{title:"Comparaison des depenses et des ventes",action:G.jsx(Vf,{handleFilter:U,handleScreen:Z,handleTypeChart:V,handlePrint:$})}),G.jsx(ia,{sx:{pt:2,position:"relative"},children:G.jsxs(la,{id:"charts2",ref:I,primaryXAxis:{..._},primaryYAxis:N,chartArea:{border:{width:0}},tooltip:{enable:!0,shared:!0},legendSettings:{visible:!0,textStyle:{color:b.palette.text.secondary},enableHighlight:!0},titleStyle:{color:b.palette.text.secondary,fontSize:"20px",fontWeight:"bold",textAlignment:"Center"},children:[G.jsx(rl,{services:[vl,yl,wl,bl,xl,ml,gl,Gd]}),G.jsxs(ul,{children:[G.jsx(Ws,{dataSource:f[0],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:"Les dpenses",type:k?"Line":"Column",fill:S[0]}),G.jsx(Ws,{dataSource:f[1],xName:"x",yName:"y",width:2,columnSpacing:.2,columnWidthInPixel:5,name:"Les ventes",type:k?"Line":"Column",fill:S[1]})]})]})})]})};function Wf({children:a}){const{isFullScreenEggChart:e}=Ks(o=>o.dashboard),t=Nr(),{t:i,i18n:s}=hi();return G.jsx(G.Fragment,{children:e?G.jsxs(Yn,{fullScreen:!0,open:e,children:[G.jsx(sl,{sx:{position:"relative"},children:G.jsxs(Vo,{children:[G.jsx(ei,{edge:"start",color:"inherit","aria-label":"close",onClick:()=>t(Js.actions.setFullScreenEggChart()),children:G.jsx(Ho,{})}),G.jsx(st,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:i(je.dashboard.eggsChartTtitle)})]})}),a]}):G.jsx(G.Fragment,{children:a})})}function jf({children:a}){const{isFullScreenDepenseChart:e}=Ks(o=>o.dashboard),t=Nr(),{t:i,i18n:s}=hi();return G.jsx(G.Fragment,{children:e?G.jsxs(Yn,{fullScreen:!0,open:e,children:[G.jsx(sl,{sx:{position:"relative"},children:G.jsxs(Vo,{children:[G.jsx(ei,{edge:"start",color:"inherit","aria-label":"close",onClick:()=>t(Js.actions.setFullScreenDepenseChart()),children:G.jsx(Ho,{})}),G.jsx(st,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:i(je.dashboard.eggsChartTtitle)})]})}),a]}):G.jsx(G.Fragment,{children:a})})}const Xf=async()=>{try{const{data:a}=await ti.post("/dashboard/outbound/");return a}catch{throw new Error("Error")}},Yf=async()=>{try{const{data:a}=await ti.post("/dashboard/inbound/");return a}catch{throw new Error("Error")}},Gf=async a=>{try{const{data:e}=await ti.get("/dashboard/marketprice/list/?time="+a);return e}catch{throw new Error("Error")}},Uf=async()=>{try{const{data:a}=await ti.get("/dashboard/debtratio/");return a}catch{throw new Error("error")}},qf=async()=>{try{const{data:a}=await ti.get("/dashboard/latestprices/");return a}catch{throw new Error("error")}},Zf=async()=>{try{const{data:a}=await ti.post("/dashboard/suppliersituation/");return a}catch{throw new Error("error")}},$f=async()=>{try{const{data:a}=await ti.get("/dashboard/revenue/");return a}catch{throw new Error("error")}},Kf=async()=>{try{const{data:a}=await ti.get("/dashboard/expenses/");return a}catch{throw new Error("error")}},Jf=async()=>{try{const{data:a}=await ti.get("/dashboard/tradebalance/");return a}catch{throw new Error("error")}},Qf=be.memo(()=>{const a=wh(),[e,t]=be.useState(30);Lh();const i=Gi("sortie",Xf),s=Gi("entrer",Yf),o=Gi("stock",Th.fetchStock),c=Gi(["MarketPrice",e],()=>Gf(e)),f=Gi("debtRatio",Uf),m=Gi("eggPrice",qf),b=Gi("EggPrice",Zf),[S,k]=be.useState(0),L=JSON.parse(sessionStorage.getItem("user")),I=Bc([{queryKey:"ventes",queryFn:$f},{queryKey:"achats",queryFn:Kf},{queryKey:"balance",queryFn:Jf}]),_=N=>{t(N)};return be.useEffect(()=>{f.isLoading||k(f.data.debt_ratio)},[f.isLoading]),G.jsxs(G.Fragment,{children:[G.jsx(Sh,{title:"ESM | Acceuil"}),G.jsx(ps,{component:"main",sx:{flexGrow:1,py:2,px:2},children:G.jsx(Ch,{maxWidth:a.stretch?!1:"xl",children:G.jsxs(zr,{spacing:{},children:[G.jsxs(Wi,{children:[G.jsx(_r,{sx:{pb:0}}),G.jsx(ia,{children:G.jsx(wr,{children:G.jsx(Ff,{stock:o.data,debtRatio:S,isLoading:o.isLoading,isEggPriceLoaing:m.isLoading,eggPrice:m.data,balance:I})})})]}),G.jsxs(vt,{container:!0,spacing:2,mt:2,children:[G.jsxs(vt,{item:!0,xs:12,md:6,children:[G.jsx(wr,{children:G.jsxs(Wf,{children:[" ",G.jsx(Xl,{prices:c.data,isLoading:c.isLoading,filterChart:_})]})}),G.jsx(wr,{children:G.jsxs(jf,{children:[" ",G.jsx(Hf,{depense:I[0].data,vente:I[1].data,isLoading:I[1].isLoading,filterChart:_})]})}),G.jsx("div",{className:"mt-2"})]}),G.jsxs(vt,{item:!0,xs:12,md:6,children:[G.jsx(vt,{className:"mt-2",children:G.jsx(wr,{children:G.jsx(yf,{sortie:i==null?void 0:i.data,isLoading:i.isLoading})})}),G.jsx("div",{className:"mt-2",children:G.jsxs(wr,{children:[(L==null?void 0:L.is_eleveur)&&G.jsx(Nf,{entrer:s==null?void 0:s.data,isLoading:s.isLoading}),!(L!=null&&L.is_eleveur)&&G.jsx(_f,{fournisseur:b==null?void 0:b.data,isLoading:b==null?void 0:b.isLoading})]})})]})]})]})})})]})}),ep=Qf;function xp(){return G.jsx(G.Fragment,{children:G.jsx(wr,{children:G.jsx(ep,{})})})}export{xp as default};
